!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react"),require("openlayers"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","openlayers","react-dom"],e):"object"==typeof exports?exports.StreetSmartApi=e(require("react"),require("openlayers"),require("react-dom")):t.StreetSmartApi=e(t.React,t.ol,t.ReactDOM)}(this,function(t,e,n){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="https://streetsmart.cyclomedia.com/api/v17.2/",e(e.s=633)}([function(e,n){e.exports=t},function(t,e,n){t.exports={default:n(913),__esModule:!0}},function(t,e,n){var r=n(21),i=n(85),o=n(62),a=n(63),s=n(75),u=function(t,e,n){var l,c,h,f,d=t&u.F,p=t&u.G,m=t&u.S,g=t&u.P,v=t&u.B,y=p?r:m?r[e]||(r[e]={}):(r[e]||{}).prototype,b=p?i:i[e]||(i[e]={}),w=b.prototype||(b.prototype={});p&&(n=e);for(l in n)c=!d&&y&&void 0!==y[l],h=(c?y:n)[l],f=v&&c?s(h,r):g&&"function"==typeof h?s(Function.call,h):h,y&&a(y,l,h,t&u.U),b[l]!=h&&o(b,l,f),g&&w[l]!=h&&(w[l]=h)};r.core=i,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e,n){t.exports=n(1107)()},function(t,e,n){t.exports={default:n(954),__esModule:!0}},function(t,e,n){t.exports={default:n(962),__esModule:!0}},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){"use strict";e.__esModule=!0;var r=n(348),i=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":(0,i.default)(e))&&"function"!=typeof e?t:e}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(9),o=r(i),a=n(5),s=r(a),u=n(348),l=r(u);e.default=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":(0,l.default)(e)));t.prototype=(0,s.default)(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(o.default?(0,o.default)(t,e):t.__proto__=e)}},function(t,e,n){t.exports={default:n(959),__esModule:!0}},function(t,e,n){t.exports={default:n(957),__esModule:!0}},function(t,e,n){"use strict";e.__esModule=!0;var r=n(4),i=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default=i.default||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}},function(t,e,n){var r,i;!function(){"use strict";function n(){for(var t=[],e=0;e<arguments.length;e++){var r=arguments[e];if(r){var i=typeof r;if("string"===i||"number"===i)t.push(r);else if(Array.isArray(r))t.push(n.apply(null,r));else if("object"===i)for(var a in r)o.call(r,a)&&r[a]&&t.push(a)}}return t.join(" ")}var o={}.hasOwnProperty;void 0!==t&&t.exports?t.exports=n:(r=[],void 0!==(i=function(){return n}.apply(e,r))&&(t.exports=i))}()},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){return function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return"function"==typeof n[n.length-1]?t.apply(void 0,n):function(e){return t.apply(void 0,n.concat([e]))}}}function o(t,e){return null==t.bsClass&&(0,v.default)(!1),t.bsClass+(e?"-"+e:"")}function a(t){var e,n=(e={},e[o(t)]=!0,e);if(t.bsSize){n[o(t,w.SIZE_MAP[t.bsSize]||t.bsSize)]=!0}return t.bsStyle&&(n[o(t,t.bsStyle)]=!0),n}function s(t){return{bsClass:t.bsClass,bsSize:t.bsSize,bsStyle:t.bsStyle,bsRole:t.bsRole}}function u(t){return"bsClass"===t||"bsSize"===t||"bsStyle"===t||"bsRole"===t}function l(t){var e={};return(0,d.default)(t).forEach(function(t){var n=t[0],r=t[1];u(n)||(e[n]=r)}),[s(t),e]}function c(t,e){var n={};e.forEach(function(t){n[t]=!0});var r={};return(0,d.default)(t).forEach(function(t){var e=t[0],i=t[1];u(e)||n[e]||(r[e]=i)}),[s(t),r]}function h(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];x(n,t)}e.__esModule=!0,e._curry=e.bsSizes=e.bsStyles=e.bsClass=void 0;var f=n(48),d=r(f),p=n(11),m=r(p);e.prefix=o,e.getClassSet=a,e.splitBsProps=l,e.splitBsPropsAndOmit=c,e.addStyle=h;var g=n(81),v=r(g),y=n(3),b=r(y),w=n(52),x=(e.bsClass=i(function(t,e){var n=e.propTypes||(e.propTypes={}),r=e.defaultProps||(e.defaultProps={});return n.bsClass=b.default.string,r.bsClass=t,e}),e.bsStyles=i(function(t,e,n){"string"!=typeof e&&(n=e,e=void 0);var r=n.STYLES||[],i=n.propTypes||{};t.forEach(function(t){-1===r.indexOf(t)&&r.push(t)});var o=b.default.oneOf(r);if(n.STYLES=o._values=r,n.propTypes=(0,m.default)({},i,{bsStyle:o}),void 0!==e){(n.defaultProps||(n.defaultProps={})).bsStyle=e}return n}));e.bsSizes=i(function(t,e,n){"string"!=typeof e&&(n=e,e=void 0);var r=n.SIZES||[],i=n.propTypes||{};t.forEach(function(t){-1===r.indexOf(t)&&r.push(t)});var o=[];r.forEach(function(t){var e=w.SIZE_MAP[t];e&&e!==t&&o.push(e),o.push(t)});var a=b.default.oneOf(o);return a._values=o,n.SIZES=r,n.propTypes=(0,m.default)({},i,{bsSize:a}),void 0!==e&&(n.defaultProps||(n.defaultProps={}),n.defaultProps.bsSize=e),n}),e._curry=i},function(t,e,n){"use strict";function r(t){return t&&"object"==typeof t&&"default"in t?t.default:t}function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(Array.isArray(t)?t:[t]).forEach(function(t){t&&t.locale&&(A.__addLocaleData(t),L.__addLocaleData(t))})}function o(t){for(var e=(t||"").split("-");e.length>0;){if(a(e.join("-")))return!0;e.pop()}return!1}function a(t){var e=t&&t.toLowerCase();return!(!A.__localeData__[e]||!L.__localeData__[e])}function s(t){return(""+t).replace(pt,function(t){return dt[t]})}function u(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.reduce(function(e,r){return t.hasOwnProperty(r)?e[r]=t[r]:n.hasOwnProperty(r)&&(e[r]=n[r]),e},{})}function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.intl;k(e,"[React Intl] Could not find required `intl` object. <IntlProvider> needs to exist in the component ancestry.")}function c(t,e){if(t===e)return!0;if("object"!==(void 0===t?"undefined":j(t))||null===t||"object"!==(void 0===e?"undefined":j(e))||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var i=Object.prototype.hasOwnProperty.bind(e),o=0;o<n.length;o++)if(!i(n[o])||t[n[o]]!==e[n[o]])return!1;return!0}function h(t,e,n){var r=t.props,i=t.state,o=t.context,a=void 0===o?{}:o,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l=a.intl,h=void 0===l?{}:l,f=s.intl,d=void 0===f?{}:f;return!c(e,r)||!c(n,i)||!(d===h||c(u(d,ft),u(h,ft)))}function f(t){return t.displayName||t.name||"Component"}function d(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.intlPropName,r=void 0===n?"intl":n,i=e.withRef,o=void 0!==i&&i,a=function(e){function n(t,e){U(this,n);var r=q(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,e));return l(e),r}return G(n,e),B(n,[{key:"getWrappedInstance",value:function(){return k(o,"[React Intl] To access the wrapped instance, the `{withRef: true}` option must be set when calling: `injectIntl()`"),this.refs.wrappedInstance}},{key:"render",value:function(){return P.createElement(t,V({},this.props,z({},r,this.context.intl),{ref:o?"wrappedInstance":null}))}}]),n}(N.Component);return a.displayName="InjectIntl("+f(t)+")",a.contextTypes={intl:st},a.WrappedComponent=t,a}function p(t){return t}function m(t){return A.prototype._resolveLocale(t)}function g(t){return A.prototype._findPluralRuleFunction(t)}function v(t){var e=L.thresholds;e.second=t.second,e.minute=t.minute,e.hour=t.hour,e.day=t.day,e.month=t.month}function y(t,e,n){var r=t&&t[e]&&t[e][n];if(r)return r}function b(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=t.locale,o=t.formats,a=r.format,s=new Date(n),l=a&&y(o,"date",a),c=u(r,gt,l);try{return e.getDateTimeFormat(i,c).format(s)}catch(t){}return String(s)}function w(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=t.locale,o=t.formats,a=r.format,s=new Date(n),l=a&&y(o,"time",a),c=u(r,gt,l);c.hour||c.minute||c.second||(c=V({},c,{hour:"numeric",minute:"numeric"}));try{return e.getDateTimeFormat(i,c).format(s)}catch(t){}return String(s)}function x(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=t.locale,o=t.formats,a=r.format,s=new Date(n),l=new Date(r.now),c=a&&y(o,"relative",a),h=u(r,yt,c),f=V({},L.thresholds);v(wt);try{return e.getRelativeFormat(i,h).format(s,{now:isFinite(l)?l:e.now()})}catch(t){}finally{v(f)}return String(s)}function _(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=t.locale,o=t.formats,a=r.format,s=a&&y(o,"number",a),l=u(r,vt,s);try{return e.getNumberFormat(i,l).format(n)}catch(t){}return String(n)}function E(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=t.locale,o=u(r,bt);try{return e.getPluralFormat(i,o).format(n)}catch(t){}return"other"}function M(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=t.locale,o=t.formats,a=t.messages,s=t.defaultLocale,u=t.defaultFormats,l=n.id,c=n.defaultMessage;k(l,"[React Intl] An `id` must be provided to format a message.");var h=a&&a[l];if(!(Object.keys(r).length>0))return h||c||l;var f=void 0;if(h)try{f=e.getMessageFormat(h,i,o).format(r)}catch(t){}if(!f&&c)try{f=e.getMessageFormat(c,s,u).format(r)}catch(t){}return f||h||c||l}function S(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return M(t,e,n,Object.keys(r).reduce(function(t,e){var n=r[e];return t[e]="string"==typeof n?s(n):n,t},{}))}function T(t){var e=Math.abs(t);return e<Ot?"second":e<At?"minute":e<Lt?"hour":"day"}function C(t){switch(t){case"second":return It;case"minute":return Ot;case"hour":return At;case"day":return Lt;default:return Rt}}function I(t,e){if(t===e)return!0;var n=new Date(t).getTime(),r=new Date(e).getTime();return isFinite(n)&&isFinite(r)&&n===r}Object.defineProperty(e,"__esModule",{value:!0});var O=r(n(1091)),A=r(n(493)),L=r(n(1100)),R=r(n(3)),N=n(0),P=r(N),k=r(n(81)),D=r(n(1111)),F={locale:"en",pluralRuleFunction:function(t,e){var n=String(t).split("."),r=!n[1],i=Number(n[0])==t,o=i&&n[0].slice(-1),a=i&&n[0].slice(-2);return e?1==o&&11!=a?"one":2==o&&12!=a?"two":3==o&&13!=a?"few":"other":1==t&&r?"one":"other"},fields:{year:{displayName:"year",relative:{0:"this year",1:"next year","-1":"last year"},relativeTime:{future:{one:"in {0} year",other:"in {0} years"},past:{one:"{0} year ago",other:"{0} years ago"}}},month:{displayName:"month",relative:{0:"this month",1:"next month","-1":"last month"},relativeTime:{future:{one:"in {0} month",other:"in {0} months"},past:{one:"{0} month ago",other:"{0} months ago"}}},day:{displayName:"day",relative:{0:"today",1:"tomorrow","-1":"yesterday"},relativeTime:{future:{one:"in {0} day",other:"in {0} days"},past:{one:"{0} day ago",other:"{0} days ago"}}},hour:{displayName:"hour",relativeTime:{future:{one:"in {0} hour",other:"in {0} hours"},past:{one:"{0} hour ago",other:"{0} hours ago"}}},minute:{displayName:"minute",relativeTime:{future:{one:"in {0} minute",other:"in {0} minutes"},past:{one:"{0} minute ago",other:"{0} minutes ago"}}},second:{displayName:"second",relative:{0:"now"},relativeTime:{future:{one:"in {0} second",other:"in {0} seconds"},past:{one:"{0} second ago",other:"{0} seconds ago"}}}}},j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},B=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),z=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},V=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},G=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},H=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},q=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},W=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)},Y=R.bool,X=R.number,Z=R.string,K=R.func,$=R.object,Q=R.oneOf,J=R.shape,tt=R.any,et=Q(["best fit","lookup"]),nt=Q(["narrow","short","long"]),rt=Q(["numeric","2-digit"]),it=K.isRequired,ot={locale:Z,formats:$,messages:$,textComponent:tt,defaultLocale:Z,defaultFormats:$},at={formatDate:it,formatTime:it,formatRelative:it,formatNumber:it,formatPlural:it,formatMessage:it,formatHTMLMessage:it},st=J(V({},ot,at,{formatters:$,now:it})),ut=(Z.isRequired,{localeMatcher:et,formatMatcher:Q(["basic","best fit"]),timeZone:Z,hour12:Y,weekday:nt,era:nt,year:rt,month:Q(["numeric","2-digit","narrow","short","long"]),day:rt,hour:rt,minute:rt,second:rt,timeZoneName:Q(["short","long"])}),lt={localeMatcher:et,style:Q(["decimal","currency","percent"]),currency:Z,currencyDisplay:Q(["symbol","code","name"]),useGrouping:Y,minimumIntegerDigits:X,minimumFractionDigits:X,maximumFractionDigits:X,minimumSignificantDigits:X,maximumSignificantDigits:X},ct={style:Q(["best fit","numeric"]),units:Q(["second","minute","hour","day","month","year"])},ht={style:Q(["cardinal","ordinal"])},ft=Object.keys(ot),dt={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},pt=/[&><"']/g,mt=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};U(this,t);var r="ordinal"===n.style,i=g(m(e));this.format=function(t){return i(t,r)}},gt=Object.keys(ut),vt=Object.keys(lt),yt=Object.keys(ct),bt=Object.keys(ht),wt={second:60,minute:60,hour:24,day:30,month:12},xt=Object.freeze({formatDate:b,formatTime:w,formatRelative:x,formatNumber:_,formatPlural:E,formatMessage:M,formatHTMLMessage:S}),_t=Object.keys(ot),Et=Object.keys(at),Mt={formats:{},messages:{},textComponent:"span",defaultLocale:"en",defaultFormats:{}},St=function(t){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};U(this,e);var r=q(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));k("undefined"!=typeof Intl,"[React Intl] The `Intl` APIs must be available in the runtime, and do not appear to be built-in. An `Intl` polyfill should be loaded.\nSee: http://formatjs.io/guides/runtime-environments/");var i=n.intl,o=void 0;o=isFinite(t.initialNow)?Number(t.initialNow):i?i.now():Date.now();var a=i||{},s=a.formatters,u=void 0===s?{getDateTimeFormat:D(Intl.DateTimeFormat),getNumberFormat:D(Intl.NumberFormat),getMessageFormat:D(A),getRelativeFormat:D(L),getPluralFormat:D(mt)}:s;return r.state=V({},u,{now:function(){return r._didDisplay?Date.now():o}}),r}return G(e,t),B(e,[{key:"getConfig",value:function(){var t=this.context.intl,e=u(this.props,_t,t);for(var n in Mt)void 0===e[n]&&(e[n]=Mt[n]);if(!o(e.locale)){var r=e,i=(r.locale,r.defaultLocale),a=r.defaultFormats;e=V({},e,{locale:i,formats:a,messages:Mt.messages})}return e}},{key:"getBoundFormatFns",value:function(t,e){return Et.reduce(function(n,r){return n[r]=xt[r].bind(null,t,e),n},{})}},{key:"getChildContext",value:function(){var t=this.getConfig(),e=this.getBoundFormatFns(t,this.state),n=this.state,r=n.now,i=H(n,["now"]);return{intl:V({},t,e,{formatters:i,now:r})}}},{key:"shouldComponentUpdate",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return h.apply(void 0,[this].concat(e))}},{key:"componentDidMount",value:function(){this._didDisplay=!0}},{key:"render",value:function(){return N.Children.only(this.props.children)}}]),e}(N.Component);St.displayName="IntlProvider",St.contextTypes={intl:st},St.childContextTypes={intl:st.isRequired};var Tt=function(t){function e(t,n){U(this,e);var r=q(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return l(n),r}return G(e,t),B(e,[{key:"shouldComponentUpdate",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return h.apply(void 0,[this].concat(e))}},{key:"render",value:function(){var t=this.context.intl,e=t.formatDate,n=t.textComponent,r=this.props,i=r.value,o=r.children,a=e(i,this.props);return"function"==typeof o?o(a):P.createElement(n,null,a)}}]),e}(N.Component);Tt.displayName="FormattedDate",Tt.contextTypes={intl:st};var Ct=function(t){function e(t,n){U(this,e);var r=q(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return l(n),r}return G(e,t),B(e,[{key:"shouldComponentUpdate",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return h.apply(void 0,[this].concat(e))}},{key:"render",value:function(){var t=this.context.intl,e=t.formatTime,n=t.textComponent,r=this.props,i=r.value,o=r.children,a=e(i,this.props);return"function"==typeof o?o(a):P.createElement(n,null,a)}}]),e}(N.Component);Ct.displayName="FormattedTime",Ct.contextTypes={intl:st};var It=1e3,Ot=6e4,At=36e5,Lt=864e5,Rt=2147483647,Nt=function(t){function e(t,n){U(this,e);var r=q(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));l(n);var i=isFinite(t.initialNow)?Number(t.initialNow):n.intl.now();return r.state={now:i},r}return G(e,t),B(e,[{key:"scheduleNextUpdate",value:function(t,e){var n=this;clearTimeout(this._timer);var r=t.value,i=t.units,o=t.updateInterval,a=new Date(r).getTime();if(o&&isFinite(a)){var s=a-e.now,u=C(i||T(s)),l=Math.abs(s%u),c=s<0?Math.max(o,u-l):Math.max(o,l);this._timer=setTimeout(function(){n.setState({now:n.context.intl.now()})},c)}}},{key:"componentDidMount",value:function(){this.scheduleNextUpdate(this.props,this.state)}},{key:"componentWillReceiveProps",value:function(t){I(t.value,this.props.value)||this.setState({now:this.context.intl.now()})}},{key:"shouldComponentUpdate",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return h.apply(void 0,[this].concat(e))}},{key:"componentWillUpdate",value:function(t,e){this.scheduleNextUpdate(t,e)}},{key:"componentWillUnmount",value:function(){clearTimeout(this._timer)}},{key:"render",value:function(){var t=this.context.intl,e=t.formatRelative,n=t.textComponent,r=this.props,i=r.value,o=r.children,a=e(i,V({},this.props,this.state));return"function"==typeof o?o(a):P.createElement(n,null,a)}}]),e}(N.Component);Nt.displayName="FormattedRelative",Nt.contextTypes={intl:st},Nt.defaultProps={updateInterval:1e4};var Pt=function(t){function e(t,n){U(this,e);var r=q(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return l(n),r}return G(e,t),B(e,[{key:"shouldComponentUpdate",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return h.apply(void 0,[this].concat(e))}},{key:"render",value:function(){var t=this.context.intl,e=t.formatNumber,n=t.textComponent,r=this.props,i=r.value,o=r.children,a=e(i,this.props);return"function"==typeof o?o(a):P.createElement(n,null,a)}}]),e}(N.Component);Pt.displayName="FormattedNumber",Pt.contextTypes={intl:st};var kt=function(t){function e(t,n){U(this,e);var r=q(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return l(n),r}return G(e,t),B(e,[{key:"shouldComponentUpdate",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return h.apply(void 0,[this].concat(e))}},{key:"render",value:function(){var t=this.context.intl,e=t.formatPlural,n=t.textComponent,r=this.props,i=r.value,o=r.other,a=r.children,s=e(i,this.props),u=this.props[s]||o;return"function"==typeof a?a(u):P.createElement(n,null,u)}}]),e}(N.Component);kt.displayName="FormattedPlural",kt.contextTypes={intl:st},kt.defaultProps={style:"cardinal"};var Dt=function(t){function e(t,n){U(this,e);var r=q(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return l(n),r}return G(e,t),B(e,[{key:"shouldComponentUpdate",value:function(t){var e=this.props.values;if(!c(t.values,e))return!0;for(var n=V({},t,{values:e}),r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return h.apply(void 0,[this,n].concat(i))}},{key:"render",value:function(){var t=this.context.intl,e=t.formatMessage,n=t.textComponent,r=this.props,i=r.id,o=r.description,a=r.defaultMessage,s=r.values,u=r.tagName,l=void 0===u?n:u,c=r.children,h=void 0,f=void 0,d=void 0;if(s&&Object.keys(s).length>0){var p=Math.floor(1099511627776*Math.random()).toString(16),m=function(){var t=0;return function(){return"ELEMENT-"+p+"-"+(t+=1)}}();h="@__"+p+"__@",f={},d={},Object.keys(s).forEach(function(t){var e=s[t];if(N.isValidElement(e)){var n=m();f[t]=h+n+h,d[n]=e}else f[t]=e})}var g={id:i,description:o,defaultMessage:a},v=e(g,f||s),y=void 0;return y=d&&Object.keys(d).length>0?v.split(h).filter(function(t){return!!t}).map(function(t){return d[t]||t}):[v],"function"==typeof c?c.apply(void 0,W(y)):N.createElement.apply(void 0,[l,null].concat(W(y)))}}]),e}(N.Component);Dt.displayName="FormattedMessage",Dt.contextTypes={intl:st},Dt.defaultProps={values:{}};var Ft=function(t){function e(t,n){U(this,e);var r=q(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return l(n),r}return G(e,t),B(e,[{key:"shouldComponentUpdate",value:function(t){var e=this.props.values;if(!c(t.values,e))return!0;for(var n=V({},t,{values:e}),r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return h.apply(void 0,[this,n].concat(i))}},{key:"render",value:function(){var t=this.context.intl,e=t.formatHTMLMessage,n=t.textComponent,r=this.props,i=r.id,o=r.description,a=r.defaultMessage,s=r.values,u=r.tagName,l=void 0===u?n:u,c=r.children,h={id:i,description:o,defaultMessage:a},f=e(h,s);if("function"==typeof c)return c(f);var d={__html:f};return P.createElement(l,{dangerouslySetInnerHTML:d})}}]),e}(N.Component);Ft.displayName="FormattedHTMLMessage",Ft.contextTypes={intl:st},Ft.defaultProps={values:{}},i(F),i(O),e.addLocaleData=i,e.intlShape=st,e.injectIntl=d,e.defineMessages=p,e.IntlProvider=St,e.FormattedDate=Tt,e.FormattedTime=Ct,e.FormattedRelative=Nt,e.FormattedNumber=Pt,e.FormattedPlural=kt,e.FormattedMessage=Dt,e.FormattedHTMLMessage=Ft},function(t,e,n){t.exports={default:n(938),__esModule:!0}},function(t,n){t.exports=e},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.combineActions=e.handleActions=e.handleAction=e.createActions=e.createAction=void 0;var i=n(499),o=r(i),a=n(500),s=r(a),u=n(1147),l=r(u),c=n(502),h=r(c),f=n(1150),d=r(f);e.createAction=o.default,e.createActions=d.default,e.handleAction=s.default,e.handleActions=l.default,e.combineActions=h.default},function(t,e,n){t.exports={default:n(936),__esModule:!0}},function(t,e,n){var r=n(28);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){var n=t.exports={version:"2.5.0"};"number"==typeof __e&&(__e=n)},function(t,e,n){t.exports={default:n(976),__esModule:!0}},function(t,e,n){t.exports=n(974)},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.utils=e.Well=e.Tooltip=e.ToggleButtonGroup=e.ToggleButton=e.Thumbnail=e.Tabs=e.TabPane=e.Table=e.TabContent=e.TabContainer=e.Tab=e.SplitButton=e.SafeAnchor=e.Row=e.ResponsiveEmbed=e.Radio=e.ProgressBar=e.Popover=e.PanelGroup=e.Panel=e.PaginationButton=e.Pagination=e.Pager=e.PageItem=e.PageHeader=e.OverlayTrigger=e.Overlay=e.NavItem=e.NavDropdown=e.NavbarBrand=e.Navbar=e.Nav=e.ModalTitle=e.ModalHeader=e.ModalFooter=e.ModalBody=e.Modal=e.MenuItem=e.Media=e.ListGroupItem=e.ListGroup=e.Label=e.Jumbotron=e.InputGroup=e.Image=e.HelpBlock=e.Grid=e.Glyphicon=e.FormGroup=e.FormControl=e.Form=e.Fade=e.DropdownButton=e.Dropdown=e.Collapse=e.Col=e.ControlLabel=e.CloseButton=e.Clearfix=e.Checkbox=e.CarouselItem=e.Carousel=e.ButtonToolbar=e.ButtonGroup=e.Button=e.BreadcrumbItem=e.Breadcrumb=e.Badge=e.Alert=e.Accordion=void 0;var i=n(1174),o=r(i),a=n(1175),s=r(a),u=n(1176),l=r(u),c=n(1177),h=r(c),f=n(508),d=r(f),p=n(201),m=r(p),g=n(351),v=r(g),y=n(1178),b=r(y),w=n(1179),x=r(w),_=n(509),E=r(_),M=n(1182),S=r(M),T=n(1183),C=r(T),I=n(349),O=r(I),A=n(1184),L=r(A),R=n(1185),N=r(R),P=n(353),k=r(P),D=n(250),F=r(D),j=n(1196),U=r(j),B=n(254),z=r(B),V=n(1197),G=r(V),H=n(1198),q=r(H),W=n(1201),Y=r(W),X=n(352),Z=r(X),K=n(518),$=r(K),Q=n(1202),J=r(Q),tt=n(1203),et=r(tt),nt=n(1204),rt=r(nt),it=n(1207),ot=r(it),at=n(1208),st=r(at),ut=n(1209),lt=r(ut),ct=n(519),ht=r(ct),ft=n(355),dt=r(ft),pt=n(1216),mt=r(pt),gt=n(1217),vt=r(gt),yt=n(526),bt=r(yt),wt=n(527),xt=r(wt),_t=n(528),Et=r(_t),Mt=n(529),St=r(Mt),Tt=n(530),Ct=r(Tt),It=n(1230),Ot=r(It),At=n(531),Lt=r(At),Rt=n(1234),Nt=r(Rt),Pt=n(532),kt=r(Pt),Dt=n(533),Ft=r(Dt),jt=n(1241),Ut=r(jt),Bt=n(1242),zt=r(Bt),Vt=n(1243),Gt=r(Vt),Ht=n(1245),qt=r(Ht),Wt=n(1246),Yt=r(Wt),Xt=n(537),Zt=r(Xt),Kt=n(1247),$t=r(Kt),Qt=n(507),Jt=r(Qt),te=n(1248),ee=r(te),ne=n(1249),re=r(ne),ie=n(1250),oe=r(ie),ae=n(1251),se=r(ae),ue=n(1252),le=r(ue),ce=n(93),he=r(ce),fe=n(1253),de=r(fe),pe=n(1255),me=r(pe),ge=n(358),ve=r(ge),ye=n(359),be=r(ye),we=n(1256),xe=r(we),_e=n(538),Ee=r(_e),Me=n(1257),Se=r(Me),Te=n(1258),Ce=r(Te),Ie=n(539),Oe=r(Ie),Ae=n(1259),Le=r(Ae),Re=n(1260),Ne=r(Re),Pe=n(1261),ke=r(Pe),De=n(1262),Fe=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(De);e.Accordion=o.default,e.Alert=s.default,e.Badge=l.default,e.Breadcrumb=h.default,e.BreadcrumbItem=d.default,e.Button=m.default,e.ButtonGroup=v.default,e.ButtonToolbar=b.default,e.Carousel=x.default,e.CarouselItem=E.default,e.Checkbox=S.default,e.Clearfix=C.default,e.CloseButton=O.default,e.ControlLabel=L.default,e.Col=N.default,e.Collapse=k.default,e.Dropdown=F.default,e.DropdownButton=U.default,e.Fade=z.default,e.Form=G.default,e.FormControl=q.default,e.FormGroup=Y.default,e.Glyphicon=Z.default,e.Grid=$.default,e.HelpBlock=J.default,e.Image=et.default,e.InputGroup=rt.default,e.Jumbotron=ot.default,e.Label=st.default,e.ListGroup=lt.default,e.ListGroupItem=ht.default,e.Media=dt.default,e.MenuItem=mt.default,e.Modal=vt.default,e.ModalBody=bt.default,e.ModalFooter=xt.default,e.ModalHeader=Et.default,e.ModalTitle=St.default,e.Nav=Ct.default,e.Navbar=Ot.default,e.NavbarBrand=Lt.default,e.NavDropdown=Nt.default,e.NavItem=kt.default,e.Overlay=Ft.default,e.OverlayTrigger=Ut.default,e.PageHeader=zt.default,e.PageItem=Gt.default,e.Pager=qt.default,e.Pagination=Yt.default,e.PaginationButton=Zt.default,e.Panel=$t.default,e.PanelGroup=Jt.default,e.Popover=ee.default,e.ProgressBar=re.default,e.Radio=oe.default,e.ResponsiveEmbed=se.default,e.Row=le.default,e.SafeAnchor=he.default,e.SplitButton=de.default,e.Tab=me.default,e.TabContainer=ve.default,e.TabContent=be.default,e.Table=xe.default,e.TabPane=Ee.default,e.Tabs=Se.default,e.Thumbnail=Ce.default,e.ToggleButton=Oe.default,e.ToggleButtonGroup=Le.default,e.Tooltip=Ne.default,e.Well=ke.default,e.utils=Fe},function(t,e,n){"use strict";function r(t,e,n){return e in t?p()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t){return function(){var e=t.apply(this,arguments);return new f.a(function(t,n){function r(i,o){try{var a=e[i](o),s=a.value}catch(t){return void n(t)}if(!a.done)return f.a.resolve(s).then(function(t){r("next",t)},function(t){r("throw",t)});t(s)}return r("next")})}}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"LOAD_USER_PROFILE",function(){return _}),n.d(e,"SET_PROFILE_CONFIG",function(){return E}),n.d(e,"SET_PROFILE_GLOBAL",function(){return M}),n.d(e,"REMOVE_PROFILE_CONFIG",function(){return S}),n.d(e,"UserProfileGlobalKeys",function(){return T}),n.d(e,"UserProfileConfigKeys",function(){return C}),n.d(e,"loadUserProfile",function(){return R}),n.d(e,"setProfileConfig",function(){return j}),n.d(e,"setProfileGlobal",function(){return U}),n.d(e,"removeProfileConfig",function(){return B}),n.d(e,"ActionTypes",function(){return z});var o=n(59),a=n.n(o),s=n(16),u=n.n(s),l=n(24),c=n.n(l),h=n(23),f=n.n(h),d=n(1),p=n.n(d),m=n(4),g=n.n(m),v=n(18),y=(n.n(v),n(53)),b=n(205),w=g.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},x=this,_="@@userprofile/LOAD_USER_PROFILE",E="@@userprofile/SET_PROFILE_CONFIG",M="@@userprofile/SET_PROFILE_GLOBAL",S="@@userprofile/REMOVE_PROFILE_CONFIG",T={LOCALE:"locale",MAP_SHOW_SCALE_BAR:"mapShowScaleBar",MAP_SHOW_ZOOM_SLIDER:"mapShowZoomSlider",OPACITY:"opacity"},C={BASE_LAYER:"baseLayer",LAYER_SETTINGS:"layerSettings",SEARCH_HISTORY:"searchHistory",STARTUP_EXTENT:"startupExtent",USER_SRS:"userSrs",MAX_WINDOWS:"maxWindows"},I=function(){var t=i(c.a.mark(function t(e,n,r,i,o){var a,s,u,l,h;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=Object(y.b)(),s=e+n+"/"+r.replace(/\//g,"_")+(i?"/"+i.replace(/\//g,"_"):""),u=new Request(s,{method:n,headers:new Headers(a),mode:"cors",body:o}),t.next=5,fetch(u);case 5:if(l=t.sent,l.ok){t.next=9;break}return h="Loading user profile "+s+" failed with status code "+l.status+". Message: "+l.statusText,t.abrupt("return",new Error(h));case 9:return t.abrupt("return",l);case 10:case"end":return t.stop()}},t,x)}));return function(e,n,r,i,o){return t.apply(this,arguments)}}(),O={},A={},L=Object(v.createAction)(_,function(){var t=i(c.a.mark(function t(e,n,i,o){var s,l,h,f,d,p,m,g,v,y,_,E,M,S,L,R,N,P,k;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=void 0,!o){t.next=37;break}if(!i){t.next=22;break}if(!n){t.next=13;break}return t.next=6,I(e,"get",n,i);case 6:return s=t.sent,t.next=9,s.text();case 9:l=t.sent,O=r({},i,l),t.next=20;break;case 13:return t.next=15,I(e,"get","global",i);case 15:return s=t.sent,t.next=18,s.text();case 18:h=t.sent,O=r({},i,h);case 20:t.next=35;break;case 22:return t.next=24,I(e,"get","global",i);case 24:return s=t.sent,t.next=27,s.json();case 27:if(A=t.sent,"global"===n){t.next=35;break}return t.next=31,I(e,"get",n,i);case 31:return s=t.sent,t.next=34,s.json();case 34:O=t.sent;case 35:t.next=79;break;case 37:if(!i){t.next=41;break}n?(f=b.a.getItem(n+"/"+i))&&(O[i]=f):(d=b.a.getItem(i))&&(A[i]=d),t.next=79;break;case 41:for(p=!0,m=!1,g=void 0,t.prev=44,v=u()(a()(T));!(p=(y=v.next()).done);p=!0)_=y.value,(E=b.a.getItem(_))&&(A[_]=E);t.next=52;break;case 48:t.prev=48,t.t0=t.catch(44),m=!0,g=t.t0;case 52:t.prev=52,t.prev=53,!p&&v.return&&v.return();case 55:if(t.prev=55,!m){t.next=58;break}throw g;case 58:return t.finish(55);case 59:return t.finish(52);case 60:for(M=!0,S=!1,L=void 0,t.prev=63,R=u()(a()(C));!(M=(N=R.next()).done);M=!0)P=N.value,(k=b.a.getItem(n+"/"+P))&&(O[P]=k);t.next=71;break;case 67:t.prev=67,t.t1=t.catch(63),S=!0,L=t.t1;case 71:t.prev=71,t.prev=72,!M&&R.return&&R.return();case 74:if(t.prev=74,!S){t.next=77;break}throw L;case 77:return t.finish(74);case 78:return t.finish(71);case 79:return t.abrupt("return",w({},A,O));case 80:case"end":return t.stop()}},t,x,[[44,48,52,60],[53,,55,59],[63,67,71,79],[72,,74,78]])}));return function(e,n,r,i){return t.apply(this,arguments)}}()),R=function(t,e,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return function(){var o=i(c.a.mark(function i(o,a){var s,u,l,h,f,d;return c.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return s=a().config,u=s.isApi,l=s.config,h=void 0,h=r?!u&&l.application.userProfileOnline:r,f=h?l.services.userProfile.onlineResource:void 0,d=t+(e?"/"+e:""),i.abrupt("return",o(L(f,d,n,h)));case 6:case"end":return i.stop()}},i,x)}));return function(t,e){return o.apply(this,arguments)}}()},N=function(){var t=i(c.a.mark(function t(e,n,r,i,o){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:o?I(e,"post",n,r,i):b.a.setItem("global"===n?r:n+"/"+r,i);case 1:case"end":return t.stop()}},t,x)}));return function(e,n,r,i,o){return t.apply(this,arguments)}}(),P=Object(v.createAction)(E,function(){var t=i(c.a.mark(function t(e,n,r,i,o){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return N(e,n,r,i,o),t.abrupt("return",{configId:n,key:r,value:i});case 2:case"end":return t.stop()}},t,x)}));return function(e,n,r,i,o){return t.apply(this,arguments)}}()),k=function(){var t=i(c.a.mark(function t(e,n,r,i){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i?I(e,"post",n,r,""):b.a.removeItem("global"===n?r:n+"/"+r);case 1:case"end":return t.stop()}},t,x)}));return function(e,n,r,i){return t.apply(this,arguments)}}(),D=Object(v.createAction)(S,function(){var t=i(c.a.mark(function t(e,n,r,i){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return k(e,n,r,i),t.abrupt("return",{configId:n,key:r});case 2:case"end":return t.stop()}},t,x)}));return function(e,n,r,i){return t.apply(this,arguments)}}()),F=Object(v.createAction)(M,function(){var t=i(c.a.mark(function t(e,n,r,i){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return N(e,"global",n,r,i),t.abrupt("return",{key:n,value:r});case 2:case"end":return t.stop()}},t,x)}));return function(e,n,r,i){return t.apply(this,arguments)}}()),j=function(t,e,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return function(i,o){var a=o().config,s=a.isApi,u=a.configId,l=a.config,c=void 0;c=r?!s&&l.application.userProfileOnline:r;var h=c?l.services.userProfile.onlineResource:void 0;return i(P(h,u+(n?"/"+n:""),t,e,c))}},U=function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return function(r,i){var o=i().config,a=o.isApi,s=o.config,u=void 0;u=n?!a&&s.application.userProfileOnline:n;var l=u?s.services.userProfile.onlineResource:void 0;return r(F(l,t,e,u))}},B=function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return function(r,i){var o=i().config,a=o.isApi,s=o.configId,u=o.config,l=void 0;l=n?!a&&u.application.userProfileOnline:n;var c=l?u.services.userProfile.onlineResource:void 0;return r(D(c,s+(e?"/"+e:""),t,l))}},z={LOAD_USER_PROFILE:_,SET_PROFILE_CONFIG:E,SET_PROFILE_GLOBAL:M,REMOVE_PROFILE_CONFIG:S};e.default={loadUserProfile:R,setProfileConfig:j,setProfileGlobal:U,removeProfileConfig:B}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){(function(t,r){var i;(function(){function o(t,e){return t.set(e[0],e[1]),t}function a(t,e){return t.add(e),t}function s(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function u(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];e(r,a,n(a),t)}return r}function l(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function c(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function h(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function f(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}function d(t,e){return!!(null==t?0:t.length)&&M(t,e,0)>-1}function p(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function m(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function g(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function v(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function y(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function b(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function w(t){return t.split("")}function x(t){return t.match(Be)||[]}function _(t,e,n){var r;return n(t,function(t,n,i){if(e(t,n,i))return r=n,!1}),r}function E(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function M(t,e,n){return e===e?$(t,e,n):E(t,T,n)}function S(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function T(t){return t!==t}function C(t,e){var n=null==t?0:t.length;return n?R(t,e)/n:kt}function I(t){return function(e){return null==e?it:e[t]}}function O(t){return function(e){return null==t?it:t[e]}}function A(t,e,n,r,i){return i(t,function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)}),n}function L(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function R(t,e){for(var n,r=-1,i=t.length;++r<i;){var o=e(t[r]);o!==it&&(n=n===it?o:n+o)}return n}function N(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function P(t,e){return m(e,function(e){return[e,t[e]]})}function k(t){return function(e){return t(e)}}function D(t,e){return m(e,function(e){return t[e]})}function F(t,e){return t.has(e)}function j(t,e){for(var n=-1,r=t.length;++n<r&&M(e,t[n],0)>-1;);return n}function U(t,e){for(var n=t.length;n--&&M(e,t[n],0)>-1;);return n}function B(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}function z(t){return"\\"+In[t]}function V(t,e){return null==t?it:t[e]}function G(t){return bn.test(t)}function H(t){return wn.test(t)}function q(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}function W(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function Y(t,e){return function(n){return t(e(n))}}function X(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n];a!==e&&a!==ct||(t[n]=ct,o[i++]=n)}return o}function Z(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function K(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}function $(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function Q(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}function J(t){return G(t)?et(t):qn(t)}function tt(t){return G(t)?nt(t):w(t)}function et(t){for(var e=vn.lastIndex=0;vn.test(t);)++e;return e}function nt(t){return t.match(vn)||[]}function rt(t){return t.match(yn)||[]}var it,ot=200,at="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",st="Expected a function",ut="__lodash_hash_undefined__",lt=500,ct="__lodash_placeholder__",ht=1,ft=2,dt=4,pt=1,mt=2,gt=1,vt=2,yt=4,bt=8,wt=16,xt=32,_t=64,Et=128,Mt=256,St=512,Tt=30,Ct="...",It=800,Ot=16,At=1,Lt=2,Rt=1/0,Nt=9007199254740991,Pt=1.7976931348623157e308,kt=NaN,Dt=4294967295,Ft=Dt-1,jt=Dt>>>1,Ut=[["ary",Et],["bind",gt],["bindKey",vt],["curry",bt],["curryRight",wt],["flip",St],["partial",xt],["partialRight",_t],["rearg",Mt]],Bt="[object Arguments]",zt="[object Array]",Vt="[object AsyncFunction]",Gt="[object Boolean]",Ht="[object Date]",qt="[object DOMException]",Wt="[object Error]",Yt="[object Function]",Xt="[object GeneratorFunction]",Zt="[object Map]",Kt="[object Number]",$t="[object Null]",Qt="[object Object]",Jt="[object Proxy]",te="[object RegExp]",ee="[object Set]",ne="[object String]",re="[object Symbol]",ie="[object Undefined]",oe="[object WeakMap]",ae="[object WeakSet]",se="[object ArrayBuffer]",ue="[object DataView]",le="[object Float32Array]",ce="[object Float64Array]",he="[object Int8Array]",fe="[object Int16Array]",de="[object Int32Array]",pe="[object Uint8Array]",me="[object Uint8ClampedArray]",ge="[object Uint16Array]",ve="[object Uint32Array]",ye=/\b__p \+= '';/g,be=/\b(__p \+=) '' \+/g,we=/(__e\(.*?\)|\b__t\)) \+\n'';/g,xe=/&(?:amp|lt|gt|quot|#39);/g,_e=/[&<>"']/g,Ee=RegExp(xe.source),Me=RegExp(_e.source),Se=/<%-([\s\S]+?)%>/g,Te=/<%([\s\S]+?)%>/g,Ce=/<%=([\s\S]+?)%>/g,Ie=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Oe=/^\w*$/,Ae=/^\./,Le=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Re=/[\\^$.*+?()[\]{}|]/g,Ne=RegExp(Re.source),Pe=/^\s+|\s+$/g,ke=/^\s+/,De=/\s+$/,Fe=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,je=/\{\n\/\* \[wrapped with (.+)\] \*/,Ue=/,? & /,Be=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ze=/\\(\\)?/g,Ve=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ge=/\w*$/,He=/^[-+]0x[0-9a-f]+$/i,qe=/^0b[01]+$/i,We=/^\[object .+?Constructor\]$/,Ye=/^0o[0-7]+$/i,Xe=/^(?:0|[1-9]\d*)$/,Ze=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ke=/($^)/,$e=/['\n\r\u2028\u2029\\]/g,Qe="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Je="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",tn="["+Je+"]",en="["+Qe+"]",nn="[a-z\\xdf-\\xf6\\xf8-\\xff]",rn="[^\\ud800-\\udfff"+Je+"\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",on="\\ud83c[\\udffb-\\udfff]",an="(?:\\ud83c[\\udde6-\\uddff]){2}",sn="[\\ud800-\\udbff][\\udc00-\\udfff]",un="[A-Z\\xc0-\\xd6\\xd8-\\xde]",ln="(?:"+nn+"|"+rn+")",cn="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",hn="(?:\\u200d(?:"+["[^\\ud800-\\udfff]",an,sn].join("|")+")[\\ufe0e\\ufe0f]?"+cn+")*",fn="[\\ufe0e\\ufe0f]?"+cn+hn,dn="(?:"+["[\\u2700-\\u27bf]",an,sn].join("|")+")"+fn,pn="(?:"+["[^\\ud800-\\udfff]"+en+"?",en,an,sn,"[\\ud800-\\udfff]"].join("|")+")",mn=RegExp("['’]","g"),gn=RegExp(en,"g"),vn=RegExp(on+"(?="+on+")|"+pn+fn,"g"),yn=RegExp([un+"?"+nn+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[tn,un,"$"].join("|")+")","(?:[A-Z\\xc0-\\xd6\\xd8-\\xde]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[tn,un+ln,"$"].join("|")+")",un+"?"+ln+"+(?:['’](?:d|ll|m|re|s|t|ve))?",un+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)","\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)","\\d+",dn].join("|"),"g"),bn=RegExp("[\\u200d\\ud800-\\udfff"+Qe+"\\ufe0e\\ufe0f]"),wn=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,xn=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],_n=-1,En={};En[le]=En[ce]=En[he]=En[fe]=En[de]=En[pe]=En[me]=En[ge]=En[ve]=!0,En[Bt]=En[zt]=En[se]=En[Gt]=En[ue]=En[Ht]=En[Wt]=En[Yt]=En[Zt]=En[Kt]=En[Qt]=En[te]=En[ee]=En[ne]=En[oe]=!1;var Mn={};Mn[Bt]=Mn[zt]=Mn[se]=Mn[ue]=Mn[Gt]=Mn[Ht]=Mn[le]=Mn[ce]=Mn[he]=Mn[fe]=Mn[de]=Mn[Zt]=Mn[Kt]=Mn[Qt]=Mn[te]=Mn[ee]=Mn[ne]=Mn[re]=Mn[pe]=Mn[me]=Mn[ge]=Mn[ve]=!0,Mn[Wt]=Mn[Yt]=Mn[oe]=!1;var Sn={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},Tn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Cn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},In={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},On=parseFloat,An=parseInt,Ln="object"==typeof t&&t&&t.Object===Object&&t,Rn="object"==typeof self&&self&&self.Object===Object&&self,Nn=Ln||Rn||Function("return this")(),Pn="object"==typeof e&&e&&!e.nodeType&&e,kn=Pn&&"object"==typeof r&&r&&!r.nodeType&&r,Dn=kn&&kn.exports===Pn,Fn=Dn&&Ln.process,jn=function(){try{return Fn&&Fn.binding&&Fn.binding("util")}catch(t){}}(),Un=jn&&jn.isArrayBuffer,Bn=jn&&jn.isDate,zn=jn&&jn.isMap,Vn=jn&&jn.isRegExp,Gn=jn&&jn.isSet,Hn=jn&&jn.isTypedArray,qn=I("length"),Wn=O(Sn),Yn=O(Tn),Xn=O(Cn),Zn=function t(e){function n(t){if(ou(t)&&!vf(t)&&!(t instanceof w)){if(t instanceof i)return t;if(gc.call(t,"__wrapped__"))return na(t)}return new i(t)}function r(){}function i(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=it}function w(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Dt,this.__views__=[]}function O(){var t=new w(this.__wrapped__);return t.__actions__=Fi(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Fi(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Fi(this.__views__),t}function $(){if(this.__filtered__){var t=new w(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function et(){var t=this.__wrapped__.value(),e=this.__dir__,n=vf(t),r=e<0,i=n?t.length:0,o=Co(0,i,this.__views__),a=o.start,s=o.end,u=s-a,l=r?s:a-1,c=this.__iteratees__,h=c.length,f=0,d=Wc(u,this.__takeCount__);if(!n||!r&&i==u&&d==u)return yi(t,this.__actions__);var p=[];t:for(;u--&&f<d;){l+=e;for(var m=-1,g=t[l];++m<h;){var v=c[m],y=v.iteratee,b=v.type,w=y(g);if(b==Lt)g=w;else if(!w){if(b==At)continue t;break t}}p[f++]=g}return p}function nt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Be(){this.__data__=nh?nh(null):{},this.size=0}function Qe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function Je(t){var e=this.__data__;if(nh){var n=e[t];return n===ut?it:n}return gc.call(e,t)?e[t]:it}function tn(t){var e=this.__data__;return nh?e[t]!==it:gc.call(e,t)}function en(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=nh&&e===it?ut:e,this}function nn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function rn(){this.__data__=[],this.size=0}function on(t){var e=this.__data__,n=Kn(e,t);return!(n<0)&&(n==e.length-1?e.pop():Ac.call(e,n,1),--this.size,!0)}function an(t){var e=this.__data__,n=Kn(e,t);return n<0?it:e[n][1]}function sn(t){return Kn(this.__data__,t)>-1}function un(t,e){var n=this.__data__,r=Kn(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function ln(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function cn(){this.size=0,this.__data__={hash:new nt,map:new(Qc||nn),string:new nt}}function hn(t){var e=Eo(this,t).delete(t);return this.size-=e?1:0,e}function fn(t){return Eo(this,t).get(t)}function dn(t){return Eo(this,t).has(t)}function pn(t,e){var n=Eo(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function vn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new ln;++e<n;)this.add(t[e])}function yn(t){return this.__data__.set(t,ut),this}function bn(t){return this.__data__.has(t)}function wn(t){var e=this.__data__=new nn(t);this.size=e.size}function Sn(){this.__data__=new nn,this.size=0}function Tn(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function Cn(t){return this.__data__.get(t)}function In(t){return this.__data__.has(t)}function Ln(t,e){var n=this.__data__;if(n instanceof nn){var r=n.__data__;if(!Qc||r.length<ot-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new ln(r)}return n.set(t,e),this.size=n.size,this}function Rn(t,e){var n=vf(t),r=!n&&gf(t),i=!n&&!r&&bf(t),o=!n&&!r&&!i&&Mf(t),a=n||r||i||o,s=a?N(t.length,lc):[],u=s.length;for(var l in t)!e&&!gc.call(t,l)||a&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||ko(l,u))||s.push(l);return s}function Pn(t){var e=t.length;return e?t[Jr(0,e-1)]:it}function kn(t,e){return Qo(Fi(t),nr(e,0,t.length))}function Fn(t){return Qo(Fi(t))}function jn(t,e,n){(n===it||qs(t[e],n))&&(n!==it||e in t)||tr(t,e,n)}function qn(t,e,n){var r=t[e];gc.call(t,e)&&qs(r,n)&&(n!==it||e in t)||tr(t,e,n)}function Kn(t,e){for(var n=t.length;n--;)if(qs(t[n][0],e))return n;return-1}function $n(t,e,n,r){return ph(t,function(t,i,o){e(r,t,n(t),o)}),r}function Qn(t,e){return t&&ji(e,Bu(e),t)}function Jn(t,e){return t&&ji(e,zu(e),t)}function tr(t,e,n){"__proto__"==e&&Pc?Pc(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function er(t,e){for(var n=-1,r=e.length,i=nc(r),o=null==t;++n<r;)i[n]=o?it:Fu(t,e[n]);return i}function nr(t,e,n){return t===t&&(n!==it&&(t=t<=n?t:n),e!==it&&(t=t>=e?t:e)),t}function rr(t,e,n,r,i,o){var a,s=e&ht,u=e&ft,c=e&dt;if(n&&(a=i?n(t,r,i,o):n(t)),a!==it)return a;if(!iu(t))return t;var h=vf(t);if(h){if(a=Ao(t),!s)return Fi(t,a)}else{var f=Th(t),d=f==Yt||f==Xt;if(bf(t))return Si(t,s);if(f==Qt||f==Bt||d&&!i){if(a=u||d?{}:Lo(t),!s)return u?Bi(t,Jn(a,t)):Ui(t,Qn(a,t))}else{if(!Mn[f])return i?t:{};a=Ro(t,f,rr,s)}}o||(o=new wn);var p=o.get(t);if(p)return p;o.set(t,a);var m=c?u?bo:yo:u?zu:Bu,g=h?it:m(t);return l(g||t,function(r,i){g&&(i=r,r=t[i]),qn(a,i,rr(r,e,n,i,t,o))}),a}function ir(t){var e=Bu(t);return function(n){return or(n,t,e)}}function or(t,e,n){var r=n.length;if(null==t)return!r;for(t=sc(t);r--;){var i=n[r],o=e[i],a=t[i];if(a===it&&!(i in t)||!o(a))return!1}return!0}function ar(t,e,n){if("function"!=typeof t)throw new cc(st);return Oh(function(){t.apply(it,n)},e)}function sr(t,e,n,r){var i=-1,o=d,a=!0,s=t.length,u=[],l=e.length;if(!s)return u;n&&(e=m(e,k(n))),r?(o=p,a=!1):e.length>=ot&&(o=F,a=!1,e=new vn(e));t:for(;++i<s;){var c=t[i],h=null==n?c:n(c);if(c=r||0!==c?c:0,a&&h===h){for(var f=l;f--;)if(e[f]===h)continue t;u.push(c)}else o(e,h,r)||u.push(c)}return u}function ur(t,e){var n=!0;return ph(t,function(t,r,i){return n=!!e(t,r,i)}),n}function lr(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(null!=a&&(s===it?a===a&&!gu(a):n(a,s)))var s=a,u=o}return u}function cr(t,e,n,r){var i=t.length;for(n=_u(n),n<0&&(n=-n>i?0:i+n),r=r===it||r>i?i:_u(r),r<0&&(r+=i),r=n>r?0:Eu(r);n<r;)t[n++]=e;return t}function hr(t,e){var n=[];return ph(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}function fr(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=Po),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?fr(s,e-1,n,r,i):g(i,s):r||(i[i.length]=s)}return i}function dr(t,e){return t&&gh(t,e,Bu)}function pr(t,e){return t&&vh(t,e,Bu)}function mr(t,e){return f(e,function(e){return eu(t[e])})}function gr(t,e){e=Ei(e,t);for(var n=0,r=e.length;null!=t&&n<r;)t=t[Jo(e[n++])];return n&&n==r?t:it}function vr(t,e,n){var r=e(t);return vf(t)?r:g(r,n(t))}function yr(t){return null==t?t===it?ie:$t:Nc&&Nc in sc(t)?To(t):Wo(t)}function br(t,e){return t>e}function wr(t,e){return null!=t&&gc.call(t,e)}function xr(t,e){return null!=t&&e in sc(t)}function _r(t,e,n){return t>=Wc(e,n)&&t<qc(e,n)}function Er(t,e,n){for(var r=n?p:d,i=t[0].length,o=t.length,a=o,s=nc(o),u=1/0,l=[];a--;){var c=t[a];a&&e&&(c=m(c,k(e))),u=Wc(c.length,u),s[a]=!n&&(e||i>=120&&c.length>=120)?new vn(a&&c):it}c=t[0];var h=-1,f=s[0];t:for(;++h<i&&l.length<u;){var g=c[h],v=e?e(g):g;if(g=n||0!==g?g:0,!(f?F(f,v):r(l,v,n))){for(a=o;--a;){var y=s[a];if(!(y?F(y,v):r(t[a],v,n)))continue t}f&&f.push(v),l.push(g)}}return l}function Mr(t,e,n,r){return dr(t,function(t,i,o){e(r,n(t),i,o)}),r}function Sr(t,e,n){e=Ei(e,t),t=Xo(t,e);var r=null==t?t:t[Jo(xa(e))];return null==r?it:s(r,t,n)}function Tr(t){return ou(t)&&yr(t)==Bt}function Cr(t){return ou(t)&&yr(t)==se}function Ir(t){return ou(t)&&yr(t)==Ht}function Or(t,e,n,r,i){return t===e||(null==t||null==e||!ou(t)&&!ou(e)?t!==t&&e!==e:Ar(t,e,n,r,Or,i))}function Ar(t,e,n,r,i,o){var a=vf(t),s=vf(e),u=a?zt:Th(t),l=s?zt:Th(e);u=u==Bt?Qt:u,l=l==Bt?Qt:l;var c=u==Qt,h=l==Qt,f=u==l;if(f&&bf(t)){if(!bf(e))return!1;a=!0,c=!1}if(f&&!c)return o||(o=new wn),a||Mf(t)?po(t,e,n,r,i,o):mo(t,e,u,n,r,i,o);if(!(n&pt)){var d=c&&gc.call(t,"__wrapped__"),p=h&&gc.call(e,"__wrapped__");if(d||p){var m=d?t.value():t,g=p?e.value():e;return o||(o=new wn),i(m,g,n,r,o)}}return!!f&&(o||(o=new wn),go(t,e,n,r,i,o))}function Lr(t){return ou(t)&&Th(t)==Zt}function Rr(t,e,n,r){var i=n.length,o=i,a=!r;if(null==t)return!o;for(t=sc(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var u=s[0],l=t[u],c=s[1];if(a&&s[2]){if(l===it&&!(u in t))return!1}else{var h=new wn;if(r)var f=r(l,c,u,t,e,h);if(!(f===it?Or(c,l,pt|mt,r,h):f))return!1}}return!0}function Nr(t){return!(!iu(t)||Bo(t))&&(eu(t)?_c:We).test(ta(t))}function Pr(t){return ou(t)&&yr(t)==te}function kr(t){return ou(t)&&Th(t)==ee}function Dr(t){return ou(t)&&ru(t.length)&&!!En[yr(t)]}function Fr(t){return"function"==typeof t?t:null==t?Al:"object"==typeof t?vf(t)?Gr(t[0],t[1]):Vr(t):jl(t)}function jr(t){if(!zo(t))return Hc(t);var e=[];for(var n in sc(t))gc.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Ur(t){if(!iu(t))return qo(t);var e=zo(t),n=[];for(var r in t)("constructor"!=r||!e&&gc.call(t,r))&&n.push(r);return n}function Br(t,e){return t<e}function zr(t,e){var n=-1,r=Ws(t)?nc(t.length):[];return ph(t,function(t,i,o){r[++n]=e(t,i,o)}),r}function Vr(t){var e=Mo(t);return 1==e.length&&e[0][2]?Go(e[0][0],e[0][1]):function(n){return n===t||Rr(n,t,e)}}function Gr(t,e){return Fo(t)&&Vo(e)?Go(Jo(t),e):function(n){var r=Fu(n,t);return r===it&&r===e?Uu(n,t):Or(e,r,pt|mt)}}function Hr(t,e,n,r,i){t!==e&&gh(e,function(o,a){if(iu(o))i||(i=new wn),qr(t,e,a,n,Hr,r,i);else{var s=r?r(t[a],o,a+"",t,e,i):it;s===it&&(s=o),jn(t,a,s)}},zu)}function qr(t,e,n,r,i,o,a){var s=t[n],u=e[n],l=a.get(u);if(l)return void jn(t,n,l);var c=o?o(s,u,n+"",t,e,a):it,h=c===it;if(h){var f=vf(u),d=!f&&bf(u),p=!f&&!d&&Mf(u);c=u,f||d||p?vf(s)?c=s:Ys(s)?c=Fi(s):d?(h=!1,c=Si(u,!0)):p?(h=!1,c=Ri(u,!0)):c=[]:du(u)||gf(u)?(c=s,gf(s)?c=Su(s):(!iu(s)||r&&eu(s))&&(c=Lo(u))):h=!1}h&&(a.set(u,c),i(c,u,r,o,a),a.delete(u)),jn(t,n,c)}function Wr(t,e){var n=t.length;if(n)return e+=e<0?n:0,ko(e,n)?t[e]:it}function Yr(t,e,n){var r=-1;return e=m(e.length?e:[Al],k(_o())),L(zr(t,function(t,n,i){return{criteria:m(e,function(e){return e(t)}),index:++r,value:t}}),function(t,e){return Pi(t,e,n)})}function Xr(t,e){return Zr(t,e,function(e,n){return Uu(t,n)})}function Zr(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],s=gr(t,a);n(s,a)&&oi(o,Ei(a,t),s)}return o}function Kr(t){return function(e){return gr(e,t)}}function $r(t,e,n,r){var i=r?S:M,o=-1,a=e.length,s=t;for(t===e&&(e=Fi(e)),n&&(s=m(t,k(n)));++o<a;)for(var u=0,l=e[o],c=n?n(l):l;(u=i(s,c,u,r))>-1;)s!==t&&Ac.call(s,u,1),Ac.call(t,u,1);return t}function Qr(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;ko(i)?Ac.call(t,i,1):mi(t,i)}}return t}function Jr(t,e){return t+Uc(Zc()*(e-t+1))}function ti(t,e,n,r){for(var i=-1,o=qc(jc((e-t)/(n||1)),0),a=nc(o);o--;)a[r?o:++i]=t,t+=n;return a}function ei(t,e){var n="";if(!t||e<1||e>Nt)return n;do{e%2&&(n+=t),(e=Uc(e/2))&&(t+=t)}while(e);return n}function ni(t,e){return Ah(Yo(t,e,Al),t+"")}function ri(t){return Pn(Ju(t))}function ii(t,e){var n=Ju(t);return Qo(n,nr(e,0,n.length))}function oi(t,e,n,r){if(!iu(t))return t;e=Ei(e,t);for(var i=-1,o=e.length,a=o-1,s=t;null!=s&&++i<o;){var u=Jo(e[i]),l=n;if(i!=a){var c=s[u];l=r?r(c,u,s):it,l===it&&(l=iu(c)?c:ko(e[i+1])?[]:{})}qn(s,u,l),s=s[u]}return t}function ai(t){return Qo(Ju(t))}function si(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=nc(i);++r<i;)o[r]=t[r+e];return o}function ui(t,e){var n;return ph(t,function(t,r,i){return!(n=e(t,r,i))}),!!n}function li(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e===e&&i<=jt){for(;r<i;){var o=r+i>>>1,a=t[o];null!==a&&!gu(a)&&(n?a<=e:a<e)?r=o+1:i=o}return i}return ci(t,e,Al,n)}function ci(t,e,n,r){e=n(e);for(var i=0,o=null==t?0:t.length,a=e!==e,s=null===e,u=gu(e),l=e===it;i<o;){var c=Uc((i+o)/2),h=n(t[c]),f=h!==it,d=null===h,p=h===h,m=gu(h);if(a)var g=r||p;else g=l?p&&(r||f):s?p&&f&&(r||!d):u?p&&f&&!d&&(r||!m):!d&&!m&&(r?h<=e:h<e);g?i=c+1:o=c}return Wc(o,Ft)}function hi(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n],s=e?e(a):a;if(!n||!qs(s,u)){var u=s;o[i++]=0===a?0:a}}return o}function fi(t){return"number"==typeof t?t:gu(t)?kt:+t}function di(t){if("string"==typeof t)return t;if(vf(t))return m(t,di)+"";if(gu(t))return fh?fh.call(t):"";var e=t+"";return"0"==e&&1/t==-Rt?"-0":e}function pi(t,e,n){var r=-1,i=d,o=t.length,a=!0,s=[],u=s;if(n)a=!1,i=p;else if(o>=ot){var l=e?null:_h(t);if(l)return Z(l);a=!1,i=F,u=new vn}else u=e?[]:s;t:for(;++r<o;){var c=t[r],h=e?e(c):c;if(c=n||0!==c?c:0,a&&h===h){for(var f=u.length;f--;)if(u[f]===h)continue t;e&&u.push(h),s.push(c)}else i(u,h,n)||(u!==s&&u.push(h),s.push(c))}return s}function mi(t,e){return e=Ei(e,t),null==(t=Xo(t,e))||delete t[Jo(xa(e))]}function gi(t,e,n,r){return oi(t,e,n(gr(t,e)),r)}function vi(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?si(t,r?0:o,r?o+1:i):si(t,r?o+1:0,r?i:o)}function yi(t,e){var n=t;return n instanceof w&&(n=n.value()),v(e,function(t,e){return e.func.apply(e.thisArg,g([t],e.args))},n)}function bi(t,e,n){var r=t.length;if(r<2)return r?pi(t[0]):[];for(var i=-1,o=nc(r);++i<r;)for(var a=t[i],s=-1;++s<r;)s!=i&&(o[i]=sr(o[i]||a,t[s],e,n));return pi(fr(o,1),e,n)}function wi(t,e,n){for(var r=-1,i=t.length,o=e.length,a={};++r<i;){var s=r<o?e[r]:it;n(a,t[r],s)}return a}function xi(t){return Ys(t)?t:[]}function _i(t){return"function"==typeof t?t:Al}function Ei(t,e){return vf(t)?t:Fo(t,e)?[t]:Lh(Cu(t))}function Mi(t,e,n){var r=t.length;return n=n===it?r:n,!e&&n>=r?t:si(t,e,n)}function Si(t,e){if(e)return t.slice();var n=t.length,r=Tc?Tc(n):new t.constructor(n);return t.copy(r),r}function Ti(t){var e=new t.constructor(t.byteLength);return new Sc(e).set(new Sc(t)),e}function Ci(t,e){var n=e?Ti(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}function Ii(t,e,n){return v(e?n(W(t),ht):W(t),o,new t.constructor)}function Oi(t){var e=new t.constructor(t.source,Ge.exec(t));return e.lastIndex=t.lastIndex,e}function Ai(t,e,n){return v(e?n(Z(t),ht):Z(t),a,new t.constructor)}function Li(t){return hh?sc(hh.call(t)):{}}function Ri(t,e){var n=e?Ti(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Ni(t,e){if(t!==e){var n=t!==it,r=null===t,i=t===t,o=gu(t),a=e!==it,s=null===e,u=e===e,l=gu(e);if(!s&&!l&&!o&&t>e||o&&a&&u&&!s&&!l||r&&a&&u||!n&&u||!i)return 1;if(!r&&!o&&!l&&t<e||l&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!u)return-1}return 0}function Pi(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var u=Ni(i[r],o[r]);if(u){if(r>=s)return u;return u*("desc"==n[r]?-1:1)}}return t.index-e.index}function ki(t,e,n,r){for(var i=-1,o=t.length,a=n.length,s=-1,u=e.length,l=qc(o-a,0),c=nc(u+l),h=!r;++s<u;)c[s]=e[s];for(;++i<a;)(h||i<o)&&(c[n[i]]=t[i]);for(;l--;)c[s++]=t[i++];return c}function Di(t,e,n,r){for(var i=-1,o=t.length,a=-1,s=n.length,u=-1,l=e.length,c=qc(o-s,0),h=nc(c+l),f=!r;++i<c;)h[i]=t[i];for(var d=i;++u<l;)h[d+u]=e[u];for(;++a<s;)(f||i<o)&&(h[d+n[a]]=t[i++]);return h}function Fi(t,e){var n=-1,r=t.length;for(e||(e=nc(r));++n<r;)e[n]=t[n];return e}function ji(t,e,n,r){var i=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var s=e[o],u=r?r(n[s],t[s],s,n,t):it;u===it&&(u=t[s]),i?tr(n,s,u):qn(n,s,u)}return n}function Ui(t,e){return ji(t,Mh(t),e)}function Bi(t,e){return ji(t,Sh(t),e)}function zi(t,e){return function(n,r){var i=vf(n)?u:$n,o=e?e():{};return i(n,t,_o(r,2),o)}}function Vi(t){return ni(function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:it,a=i>2?n[2]:it;for(o=t.length>3&&"function"==typeof o?(i--,o):it,a&&Do(n[0],n[1],a)&&(o=i<3?it:o,i=1),e=sc(e);++r<i;){var s=n[r];s&&t(e,s,r,o)}return e})}function Gi(t,e){return function(n,r){if(null==n)return n;if(!Ws(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=sc(n);(e?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function Hi(t){return function(e,n,r){for(var i=-1,o=sc(e),a=r(e),s=a.length;s--;){var u=a[t?s:++i];if(!1===n(o[u],u,o))break}return e}}function qi(t,e,n){function r(){return(this&&this!==Nn&&this instanceof r?o:t).apply(i?n:this,arguments)}var i=e&gt,o=Xi(t);return r}function Wi(t){return function(e){e=Cu(e);var n=G(e)?tt(e):it,r=n?n[0]:e.charAt(0),i=n?Mi(n,1).join(""):e.slice(1);return r[t]()+i}}function Yi(t){return function(e){return v(Sl(ol(e).replace(mn,"")),t,"")}}function Xi(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=dh(t.prototype),r=t.apply(n,e);return iu(r)?r:n}}function Zi(t,e,n){function r(){for(var o=arguments.length,a=nc(o),u=o,l=xo(r);u--;)a[u]=arguments[u];var c=o<3&&a[0]!==l&&a[o-1]!==l?[]:X(a,l);return(o-=c.length)<n?ao(t,e,Qi,r.placeholder,it,a,c,it,it,n-o):s(this&&this!==Nn&&this instanceof r?i:t,this,a)}var i=Xi(t);return r}function Ki(t){return function(e,n,r){var i=sc(e);if(!Ws(e)){var o=_o(n,3);e=Bu(e),n=function(t){return o(i[t],t,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:it}}function $i(t){return vo(function(e){var n=e.length,r=n,o=i.prototype.thru;for(t&&e.reverse();r--;){var a=e[r];if("function"!=typeof a)throw new cc(st);if(o&&!s&&"wrapper"==wo(a))var s=new i([],!0)}for(r=s?r:n;++r<n;){a=e[r];var u=wo(a),l="wrapper"==u?Eh(a):it;s=l&&Uo(l[0])&&l[1]==(Et|bt|xt|Mt)&&!l[4].length&&1==l[9]?s[wo(l[0])].apply(s,l[3]):1==a.length&&Uo(a)?s[u]():s.thru(a)}return function(){var t=arguments,r=t[0];if(s&&1==t.length&&vf(r))return s.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}})}function Qi(t,e,n,r,i,o,a,s,u,l){function c(){for(var v=arguments.length,y=nc(v),b=v;b--;)y[b]=arguments[b];if(p)var w=xo(c),x=B(y,w);if(r&&(y=ki(y,r,i,p)),o&&(y=Di(y,o,a,p)),v-=x,p&&v<l){var _=X(y,w);return ao(t,e,Qi,c.placeholder,n,y,_,s,u,l-v)}var E=f?n:this,M=d?E[t]:t;return v=y.length,s?y=Zo(y,s):m&&v>1&&y.reverse(),h&&u<v&&(y.length=u),this&&this!==Nn&&this instanceof c&&(M=g||Xi(M)),M.apply(E,y)}var h=e&Et,f=e&gt,d=e&vt,p=e&(bt|wt),m=e&St,g=d?it:Xi(t);return c}function Ji(t,e){return function(n,r){return Mr(n,t,e(r),{})}}function to(t,e){return function(n,r){var i;if(n===it&&r===it)return e;if(n!==it&&(i=n),r!==it){if(i===it)return r;"string"==typeof n||"string"==typeof r?(n=di(n),r=di(r)):(n=fi(n),r=fi(r)),i=t(n,r)}return i}}function eo(t){return vo(function(e){return e=m(e,k(_o())),ni(function(n){var r=this;return t(e,function(t){return s(t,r,n)})})})}function no(t,e){e=e===it?" ":di(e);var n=e.length;if(n<2)return n?ei(e,t):e;var r=ei(e,jc(t/J(e)));return G(e)?Mi(tt(r),0,t).join(""):r.slice(0,t)}function ro(t,e,n,r){function i(){for(var e=-1,u=arguments.length,l=-1,c=r.length,h=nc(c+u),f=this&&this!==Nn&&this instanceof i?a:t;++l<c;)h[l]=r[l];for(;u--;)h[l++]=arguments[++e];return s(f,o?n:this,h)}var o=e&gt,a=Xi(t);return i}function io(t){return function(e,n,r){return r&&"number"!=typeof r&&Do(e,n,r)&&(n=r=it),e=xu(e),n===it?(n=e,e=0):n=xu(n),r=r===it?e<n?1:-1:xu(r),ti(e,n,r,t)}}function oo(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=Mu(e),n=Mu(n)),t(e,n)}}function ao(t,e,n,r,i,o,a,s,u,l){var c=e&bt,h=c?a:it,f=c?it:a,d=c?o:it,p=c?it:o;e|=c?xt:_t,(e&=~(c?_t:xt))&yt||(e&=~(gt|vt));var m=[t,e,i,d,h,p,f,s,u,l],g=n.apply(it,m);return Uo(t)&&Ih(g,m),g.placeholder=r,Ko(g,t,e)}function so(t){var e=ac[t];return function(t,n){if(t=Mu(t),n=null==n?0:Wc(_u(n),292)){var r=(Cu(t)+"e").split("e");return r=(Cu(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"),+(r[0]+"e"+(+r[1]-n))}return e(t)}}function uo(t){return function(e){var n=Th(e);return n==Zt?W(e):n==ee?K(e):P(e,t(e))}}function lo(t,e,n,r,i,o,a,s){var u=e&vt;if(!u&&"function"!=typeof t)throw new cc(st);var l=r?r.length:0;if(l||(e&=~(xt|_t),r=i=it),a=a===it?a:qc(_u(a),0),s=s===it?s:_u(s),l-=i?i.length:0,e&_t){var c=r,h=i;r=i=it}var f=u?it:Eh(t),d=[t,e,n,r,i,c,h,o,a,s];if(f&&Ho(d,f),t=d[0],e=d[1],n=d[2],r=d[3],i=d[4],s=d[9]=d[9]===it?u?0:t.length:qc(d[9]-l,0),!s&&e&(bt|wt)&&(e&=~(bt|wt)),e&&e!=gt)p=e==bt||e==wt?Zi(t,e,s):e!=xt&&e!=(gt|xt)||i.length?Qi.apply(it,d):ro(t,e,n,r);else var p=qi(t,e,n);return Ko((f?yh:Ih)(p,d),t,e)}function co(t,e,n,r){return t===it||qs(t,dc[n])&&!gc.call(r,n)?e:t}function ho(t,e,n,r,i,o){return iu(t)&&iu(e)&&(o.set(e,t),Hr(t,e,it,ho,o),o.delete(e)),t}function fo(t){return du(t)?it:t}function po(t,e,n,r,i,o){var a=n&pt,s=t.length,u=e.length;if(s!=u&&!(a&&u>s))return!1;var l=o.get(t);if(l&&o.get(e))return l==e;var c=-1,h=!0,f=n&mt?new vn:it;for(o.set(t,e),o.set(e,t);++c<s;){var d=t[c],p=e[c];if(r)var m=a?r(p,d,c,e,t,o):r(d,p,c,t,e,o);if(m!==it){if(m)continue;h=!1;break}if(f){if(!b(e,function(t,e){if(!F(f,e)&&(d===t||i(d,t,n,r,o)))return f.push(e)})){h=!1;break}}else if(d!==p&&!i(d,p,n,r,o)){h=!1;break}}return o.delete(t),o.delete(e),h}function mo(t,e,n,r,i,o,a){switch(n){case ue:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case se:return!(t.byteLength!=e.byteLength||!o(new Sc(t),new Sc(e)));case Gt:case Ht:case Kt:return qs(+t,+e);case Wt:return t.name==e.name&&t.message==e.message;case te:case ne:return t==e+"";case Zt:var s=W;case ee:var u=r&pt;if(s||(s=Z),t.size!=e.size&&!u)return!1;var l=a.get(t);if(l)return l==e;r|=mt,a.set(t,e);var c=po(s(t),s(e),r,i,o,a);return a.delete(t),c;case re:if(hh)return hh.call(t)==hh.call(e)}return!1}function go(t,e,n,r,i,o){var a=n&pt,s=yo(t),u=s.length;if(u!=yo(e).length&&!a)return!1;for(var l=u;l--;){var c=s[l];if(!(a?c in e:gc.call(e,c)))return!1}var h=o.get(t);if(h&&o.get(e))return h==e;var f=!0;o.set(t,e),o.set(e,t);for(var d=a;++l<u;){c=s[l];var p=t[c],m=e[c];if(r)var g=a?r(m,p,c,e,t,o):r(p,m,c,t,e,o);if(!(g===it?p===m||i(p,m,n,r,o):g)){f=!1;break}d||(d="constructor"==c)}if(f&&!d){var v=t.constructor,y=e.constructor;v!=y&&"constructor"in t&&"constructor"in e&&!("function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y)&&(f=!1)}return o.delete(t),o.delete(e),f}function vo(t){return Ah(Yo(t,it,da),t+"")}function yo(t){return vr(t,Bu,Mh)}function bo(t){return vr(t,zu,Sh)}function wo(t){for(var e=t.name+"",n=ih[e],r=gc.call(ih,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function xo(t){return(gc.call(n,"placeholder")?n:t).placeholder}function _o(){var t=n.iteratee||Ll;return t=t===Ll?Fr:t,arguments.length?t(arguments[0],arguments[1]):t}function Eo(t,e){var n=t.__data__;return jo(e)?n["string"==typeof e?"string":"hash"]:n.map}function Mo(t){for(var e=Bu(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Vo(i)]}return e}function So(t,e){var n=V(t,e);return Nr(n)?n:it}function To(t){var e=gc.call(t,Nc),n=t[Nc];try{t[Nc]=it;var r=!0}catch(t){}var i=bc.call(t);return r&&(e?t[Nc]=n:delete t[Nc]),i}function Co(t,e,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=Wc(e,t+a);break;case"takeRight":t=qc(t,e-a)}}return{start:t,end:e}}function Io(t){var e=t.match(je);return e?e[1].split(Ue):[]}function Oo(t,e,n){e=Ei(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var a=Jo(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&ru(i)&&ko(a,i)&&(vf(t)||gf(t))}function Ao(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&gc.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function Lo(t){return"function"!=typeof t.constructor||zo(t)?{}:dh(Cc(t))}function Ro(t,e,n,r){var i=t.constructor;switch(e){case se:return Ti(t);case Gt:case Ht:return new i(+t);case ue:return Ci(t,r);case le:case ce:case he:case fe:case de:case pe:case me:case ge:case ve:return Ri(t,r);case Zt:return Ii(t,r,n);case Kt:case ne:return new i(t);case te:return Oi(t);case ee:return Ai(t,r,n);case re:return Li(t)}}function No(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(Fe,"{\n/* [wrapped with "+e+"] */\n")}function Po(t){return vf(t)||gf(t)||!!(Lc&&t&&t[Lc])}function ko(t,e){return!!(e=null==e?Nt:e)&&("number"==typeof t||Xe.test(t))&&t>-1&&t%1==0&&t<e}function Do(t,e,n){if(!iu(n))return!1;var r=typeof e;return!!("number"==r?Ws(n)&&ko(e,n.length):"string"==r&&e in n)&&qs(n[e],t)}function Fo(t,e){if(vf(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!gu(t))||(Oe.test(t)||!Ie.test(t)||null!=e&&t in sc(e))}function jo(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function Uo(t){var e=wo(t),r=n[e];if("function"!=typeof r||!(e in w.prototype))return!1;if(t===r)return!0;var i=Eh(r);return!!i&&t===i[0]}function Bo(t){return!!yc&&yc in t}function zo(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||dc)}function Vo(t){return t===t&&!iu(t)}function Go(t,e){return function(n){return null!=n&&(n[t]===e&&(e!==it||t in sc(n)))}}function Ho(t,e){var n=t[1],r=e[1],i=n|r,o=i<(gt|vt|Et),a=r==Et&&n==bt||r==Et&&n==Mt&&t[7].length<=e[8]||r==(Et|Mt)&&e[7].length<=e[8]&&n==bt;if(!o&&!a)return t;r&gt&&(t[2]=e[2],i|=n&gt?0:yt);var s=e[3];if(s){var u=t[3];t[3]=u?ki(u,s,e[4]):s,t[4]=u?X(t[3],ct):e[4]}return s=e[5],s&&(u=t[5],t[5]=u?Di(u,s,e[6]):s,t[6]=u?X(t[5],ct):e[6]),s=e[7],s&&(t[7]=s),r&Et&&(t[8]=null==t[8]?e[8]:Wc(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i,t}function qo(t){var e=[];if(null!=t)for(var n in sc(t))e.push(n);return e}function Wo(t){return bc.call(t)}function Yo(t,e,n){return e=qc(e===it?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=qc(r.length-e,0),a=nc(o);++i<o;)a[i]=r[e+i];i=-1;for(var u=nc(e+1);++i<e;)u[i]=r[i];return u[e]=n(a),s(t,this,u)}}function Xo(t,e){return e.length<2?t:gr(t,si(e,0,-1))}function Zo(t,e){for(var n=t.length,r=Wc(e.length,n),i=Fi(t);r--;){var o=e[r];t[r]=ko(o,n)?i[o]:it}return t}function Ko(t,e,n){var r=e+"";return Ah(t,No(r,ea(Io(r),n)))}function $o(t){var e=0,n=0;return function(){var r=Yc(),i=Ot-(r-n);if(n=r,i>0){if(++e>=It)return arguments[0]}else e=0;return t.apply(it,arguments)}}function Qo(t,e){var n=-1,r=t.length,i=r-1;for(e=e===it?r:e;++n<e;){var o=Jr(n,i),a=t[o];t[o]=t[n],t[n]=a}return t.length=e,t}function Jo(t){if("string"==typeof t||gu(t))return t;var e=t+"";return"0"==e&&1/t==-Rt?"-0":e}function ta(t){if(null!=t){try{return mc.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function ea(t,e){return l(Ut,function(n){var r="_."+n[0];e&n[1]&&!d(t,r)&&t.push(r)}),t.sort()}function na(t){if(t instanceof w)return t.clone();var e=new i(t.__wrapped__,t.__chain__);return e.__actions__=Fi(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function ra(t,e,n){e=(n?Do(t,e,n):e===it)?1:qc(_u(e),0);var r=null==t?0:t.length;if(!r||e<1)return[];for(var i=0,o=0,a=nc(jc(r/e));i<r;)a[o++]=si(t,i,i+=e);return a}function ia(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i}function oa(){var t=arguments.length;if(!t)return[];for(var e=nc(t-1),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return g(vf(n)?Fi(n):[n],fr(e,1))}function aa(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===it?1:_u(e),si(t,e<0?0:e,r)):[]}function sa(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===it?1:_u(e),e=r-e,si(t,0,e<0?0:e)):[]}function ua(t,e){return t&&t.length?vi(t,_o(e,3),!0,!0):[]}function la(t,e){return t&&t.length?vi(t,_o(e,3),!0):[]}function ca(t,e,n,r){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&Do(t,e,n)&&(n=0,r=i),cr(t,e,n,r)):[]}function ha(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:_u(n);return i<0&&(i=qc(r+i,0)),E(t,_o(e,3),i)}function fa(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return n!==it&&(i=_u(n),i=n<0?qc(r+i,0):Wc(i,r-1)),E(t,_o(e,3),i,!0)}function da(t){return(null==t?0:t.length)?fr(t,1):[]}function pa(t){return(null==t?0:t.length)?fr(t,Rt):[]}function ma(t,e){return(null==t?0:t.length)?(e=e===it?1:_u(e),fr(t,e)):[]}function ga(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r}function va(t){return t&&t.length?t[0]:it}function ya(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:_u(n);return i<0&&(i=qc(r+i,0)),M(t,e,i)}function ba(t){return(null==t?0:t.length)?si(t,0,-1):[]}function wa(t,e){return null==t?"":Gc.call(t,e)}function xa(t){var e=null==t?0:t.length;return e?t[e-1]:it}function _a(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r;return n!==it&&(i=_u(n),i=i<0?qc(r+i,0):Wc(i,r-1)),e===e?Q(t,e,i):E(t,T,i,!0)}function Ea(t,e){return t&&t.length?Wr(t,_u(e)):it}function Ma(t,e){return t&&t.length&&e&&e.length?$r(t,e):t}function Sa(t,e,n){return t&&t.length&&e&&e.length?$r(t,e,_o(n,2)):t}function Ta(t,e,n){return t&&t.length&&e&&e.length?$r(t,e,it,n):t}function Ca(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=_o(e,3);++r<o;){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}return Qr(t,i),n}function Ia(t){return null==t?t:Kc.call(t)}function Oa(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&Do(t,e,n)?(e=0,n=r):(e=null==e?0:_u(e),n=n===it?r:_u(n)),si(t,e,n)):[]}function Aa(t,e){return li(t,e)}function La(t,e,n){return ci(t,e,_o(n,2))}function Ra(t,e){var n=null==t?0:t.length;if(n){var r=li(t,e);if(r<n&&qs(t[r],e))return r}return-1}function Na(t,e){return li(t,e,!0)}function Pa(t,e,n){return ci(t,e,_o(n,2),!0)}function ka(t,e){if(null==t?0:t.length){var n=li(t,e,!0)-1;if(qs(t[n],e))return n}return-1}function Da(t){return t&&t.length?hi(t):[]}function Fa(t,e){return t&&t.length?hi(t,_o(e,2)):[]}function ja(t){var e=null==t?0:t.length;return e?si(t,1,e):[]}function Ua(t,e,n){return t&&t.length?(e=n||e===it?1:_u(e),si(t,0,e<0?0:e)):[]}function Ba(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===it?1:_u(e),e=r-e,si(t,e<0?0:e,r)):[]}function za(t,e){return t&&t.length?vi(t,_o(e,3),!1,!0):[]}function Va(t,e){return t&&t.length?vi(t,_o(e,3)):[]}function Ga(t){return t&&t.length?pi(t):[]}function Ha(t,e){return t&&t.length?pi(t,_o(e,2)):[]}function qa(t,e){return e="function"==typeof e?e:it,t&&t.length?pi(t,it,e):[]}function Wa(t){if(!t||!t.length)return[];var e=0;return t=f(t,function(t){if(Ys(t))return e=qc(t.length,e),!0}),N(e,function(e){return m(t,I(e))})}function Ya(t,e){if(!t||!t.length)return[];var n=Wa(t);return null==e?n:m(n,function(t){return s(e,it,t)})}function Xa(t,e){return wi(t||[],e||[],qn)}function Za(t,e){return wi(t||[],e||[],oi)}function Ka(t){var e=n(t);return e.__chain__=!0,e}function $a(t,e){return e(t),t}function Qa(t,e){return e(t)}function Ja(){return Ka(this)}function ts(){return new i(this.value(),this.__chain__)}function es(){this.__values__===it&&(this.__values__=wu(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?it:this.__values__[this.__index__++]}}function ns(){return this}function rs(t){for(var e,n=this;n instanceof r;){var i=na(n);i.__index__=0,i.__values__=it,e?o.__wrapped__=i:e=i;var o=i;n=n.__wrapped__}return o.__wrapped__=t,e}function is(){var t=this.__wrapped__;if(t instanceof w){var e=t;return this.__actions__.length&&(e=new w(this)),e=e.reverse(),e.__actions__.push({func:Qa,args:[Ia],thisArg:it}),new i(e,this.__chain__)}return this.thru(Ia)}function os(){return yi(this.__wrapped__,this.__actions__)}function as(t,e,n){var r=vf(t)?h:ur;return n&&Do(t,e,n)&&(e=it),r(t,_o(e,3))}function ss(t,e){return(vf(t)?f:hr)(t,_o(e,3))}function us(t,e){return fr(ps(t,e),1)}function ls(t,e){return fr(ps(t,e),Rt)}function cs(t,e,n){return n=n===it?1:_u(n),fr(ps(t,e),n)}function hs(t,e){return(vf(t)?l:ph)(t,_o(e,3))}function fs(t,e){return(vf(t)?c:mh)(t,_o(e,3))}function ds(t,e,n,r){t=Ws(t)?t:Ju(t),n=n&&!r?_u(n):0;var i=t.length;return n<0&&(n=qc(i+n,0)),mu(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&M(t,e,n)>-1}function ps(t,e){return(vf(t)?m:zr)(t,_o(e,3))}function ms(t,e,n,r){return null==t?[]:(vf(e)||(e=null==e?[]:[e]),n=r?it:n,vf(n)||(n=null==n?[]:[n]),Yr(t,e,n))}function gs(t,e,n){var r=vf(t)?v:A,i=arguments.length<3;return r(t,_o(e,4),n,i,ph)}function vs(t,e,n){var r=vf(t)?y:A,i=arguments.length<3;return r(t,_o(e,4),n,i,mh)}function ys(t,e){return(vf(t)?f:hr)(t,Rs(_o(e,3)))}function bs(t){return(vf(t)?Pn:ri)(t)}function ws(t,e,n){return e=(n?Do(t,e,n):e===it)?1:_u(e),(vf(t)?kn:ii)(t,e)}function xs(t){return(vf(t)?Fn:ai)(t)}function _s(t){if(null==t)return 0;if(Ws(t))return mu(t)?J(t):t.length;var e=Th(t);return e==Zt||e==ee?t.size:jr(t).length}function Es(t,e,n){var r=vf(t)?b:ui;return n&&Do(t,e,n)&&(e=it),r(t,_o(e,3))}function Ms(t,e){if("function"!=typeof e)throw new cc(st);return t=_u(t),function(){if(--t<1)return e.apply(this,arguments)}}function Ss(t,e,n){return e=n?it:e,e=t&&null==e?t.length:e,lo(t,Et,it,it,it,it,e)}function Ts(t,e){var n;if("function"!=typeof e)throw new cc(st);return t=_u(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=it),n}}function Cs(t,e,n){e=n?it:e;var r=lo(t,bt,it,it,it,it,it,e);return r.placeholder=Cs.placeholder,r}function Is(t,e,n){e=n?it:e;var r=lo(t,wt,it,it,it,it,it,e);return r.placeholder=Is.placeholder,r}function Os(t,e,n){function r(e){var n=f,r=d;return f=d=it,y=e,m=t.apply(r,n)}function i(t){return y=t,g=Oh(s,e),b?r(t):m}function o(t){var n=t-v,r=t-y,i=e-n;return w?Wc(i,p-r):i}function a(t){var n=t-v,r=t-y;return v===it||n>=e||n<0||w&&r>=p}function s(){var t=of();if(a(t))return u(t);g=Oh(s,o(t))}function u(t){return g=it,x&&f?r(t):(f=d=it,m)}function l(){g!==it&&xh(g),y=0,f=v=d=g=it}function c(){return g===it?m:u(of())}function h(){var t=of(),n=a(t);if(f=arguments,d=this,v=t,n){if(g===it)return i(v);if(w)return g=Oh(s,e),r(v)}return g===it&&(g=Oh(s,e)),m}var f,d,p,m,g,v,y=0,b=!1,w=!1,x=!0;if("function"!=typeof t)throw new cc(st);return e=Mu(e)||0,iu(n)&&(b=!!n.leading,w="maxWait"in n,p=w?qc(Mu(n.maxWait)||0,e):p,x="trailing"in n?!!n.trailing:x),h.cancel=l,h.flush=c,h}function As(t){return lo(t,St)}function Ls(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new cc(st);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Ls.Cache||ln),n}function Rs(t){if("function"!=typeof t)throw new cc(st);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function Ns(t){return Ts(2,t)}function Ps(t,e){if("function"!=typeof t)throw new cc(st);return e=e===it?e:_u(e),ni(t,e)}function ks(t,e){if("function"!=typeof t)throw new cc(st);return e=null==e?0:qc(_u(e),0),ni(function(n){var r=n[e],i=Mi(n,0,e);return r&&g(i,r),s(t,this,i)})}function Ds(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new cc(st);return iu(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Os(t,e,{leading:r,maxWait:e,trailing:i})}function Fs(t){return Ss(t,1)}function js(t,e){return hf(_i(e),t)}function Us(){if(!arguments.length)return[];var t=arguments[0];return vf(t)?t:[t]}function Bs(t){return rr(t,dt)}function zs(t,e){return e="function"==typeof e?e:it,rr(t,dt,e)}function Vs(t){return rr(t,ht|dt)}function Gs(t,e){return e="function"==typeof e?e:it,rr(t,ht|dt,e)}function Hs(t,e){return null==e||or(t,e,Bu(e))}function qs(t,e){return t===e||t!==t&&e!==e}function Ws(t){return null!=t&&ru(t.length)&&!eu(t)}function Ys(t){return ou(t)&&Ws(t)}function Xs(t){return!0===t||!1===t||ou(t)&&yr(t)==Gt}function Zs(t){return ou(t)&&1===t.nodeType&&!du(t)}function Ks(t){if(null==t)return!0;if(Ws(t)&&(vf(t)||"string"==typeof t||"function"==typeof t.splice||bf(t)||Mf(t)||gf(t)))return!t.length;var e=Th(t);if(e==Zt||e==ee)return!t.size;if(zo(t))return!jr(t).length;for(var n in t)if(gc.call(t,n))return!1;return!0}function $s(t,e){return Or(t,e)}function Qs(t,e,n){n="function"==typeof n?n:it;var r=n?n(t,e):it;return r===it?Or(t,e,it,n):!!r}function Js(t){if(!ou(t))return!1;var e=yr(t);return e==Wt||e==qt||"string"==typeof t.message&&"string"==typeof t.name&&!du(t)}function tu(t){return"number"==typeof t&&Vc(t)}function eu(t){if(!iu(t))return!1;var e=yr(t);return e==Yt||e==Xt||e==Vt||e==Jt}function nu(t){return"number"==typeof t&&t==_u(t)}function ru(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Nt}function iu(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function ou(t){return null!=t&&"object"==typeof t}function au(t,e){return t===e||Rr(t,e,Mo(e))}function su(t,e,n){return n="function"==typeof n?n:it,Rr(t,e,Mo(e),n)}function uu(t){return fu(t)&&t!=+t}function lu(t){if(Ch(t))throw new ic(at);return Nr(t)}function cu(t){return null===t}function hu(t){return null==t}function fu(t){return"number"==typeof t||ou(t)&&yr(t)==Kt}function du(t){if(!ou(t)||yr(t)!=Qt)return!1;var e=Cc(t);if(null===e)return!0;var n=gc.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&mc.call(n)==wc}function pu(t){return nu(t)&&t>=-Nt&&t<=Nt}function mu(t){return"string"==typeof t||!vf(t)&&ou(t)&&yr(t)==ne}function gu(t){return"symbol"==typeof t||ou(t)&&yr(t)==re}function vu(t){return t===it}function yu(t){return ou(t)&&Th(t)==oe}function bu(t){return ou(t)&&yr(t)==ae}function wu(t){if(!t)return[];if(Ws(t))return mu(t)?tt(t):Fi(t);if(Rc&&t[Rc])return q(t[Rc]());var e=Th(t);return(e==Zt?W:e==ee?Z:Ju)(t)}function xu(t){if(!t)return 0===t?t:0;if((t=Mu(t))===Rt||t===-Rt){return(t<0?-1:1)*Pt}return t===t?t:0}function _u(t){var e=xu(t),n=e%1;return e===e?n?e-n:e:0}function Eu(t){return t?nr(_u(t),0,Dt):0}function Mu(t){if("number"==typeof t)return t;if(gu(t))return kt;if(iu(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=iu(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Pe,"");var n=qe.test(t);return n||Ye.test(t)?An(t.slice(2),n?2:8):He.test(t)?kt:+t}function Su(t){return ji(t,zu(t))}function Tu(t){return t?nr(_u(t),-Nt,Nt):0===t?t:0}function Cu(t){return null==t?"":di(t)}function Iu(t,e){var n=dh(t);return null==e?n:Qn(n,e)}function Ou(t,e){return _(t,_o(e,3),dr)}function Au(t,e){return _(t,_o(e,3),pr)}function Lu(t,e){return null==t?t:gh(t,_o(e,3),zu)}function Ru(t,e){return null==t?t:vh(t,_o(e,3),zu)}function Nu(t,e){return t&&dr(t,_o(e,3))}function Pu(t,e){return t&&pr(t,_o(e,3))}function ku(t){return null==t?[]:mr(t,Bu(t))}function Du(t){return null==t?[]:mr(t,zu(t))}function Fu(t,e,n){var r=null==t?it:gr(t,e);return r===it?n:r}function ju(t,e){return null!=t&&Oo(t,e,wr)}function Uu(t,e){return null!=t&&Oo(t,e,xr)}function Bu(t){return Ws(t)?Rn(t):jr(t)}function zu(t){return Ws(t)?Rn(t,!0):Ur(t)}function Vu(t,e){var n={};return e=_o(e,3),dr(t,function(t,r,i){tr(n,e(t,r,i),t)}),n}function Gu(t,e){var n={};return e=_o(e,3),dr(t,function(t,r,i){tr(n,r,e(t,r,i))}),n}function Hu(t,e){return qu(t,Rs(_o(e)))}function qu(t,e){if(null==t)return{};var n=m(bo(t),function(t){return[t]});return e=_o(e),Zr(t,n,function(t,n){return e(t,n[0])})}function Wu(t,e,n){e=Ei(e,t);var r=-1,i=e.length;for(i||(i=1,t=it);++r<i;){var o=null==t?it:t[Jo(e[r])];o===it&&(r=i,o=n),t=eu(o)?o.call(t):o}return t}function Yu(t,e,n){return null==t?t:oi(t,e,n)}function Xu(t,e,n,r){return r="function"==typeof r?r:it,null==t?t:oi(t,e,n,r)}function Zu(t,e,n){var r=vf(t),i=r||bf(t)||Mf(t);if(e=_o(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:iu(t)&&eu(o)?dh(Cc(t)):{}}return(i?l:dr)(t,function(t,r,i){return e(n,t,r,i)}),n}function Ku(t,e){return null==t||mi(t,e)}function $u(t,e,n){return null==t?t:gi(t,e,_i(n))}function Qu(t,e,n,r){return r="function"==typeof r?r:it,null==t?t:gi(t,e,_i(n),r)}function Ju(t){return null==t?[]:D(t,Bu(t))}function tl(t){return null==t?[]:D(t,zu(t))}function el(t,e,n){return n===it&&(n=e,e=it),n!==it&&(n=Mu(n),n=n===n?n:0),e!==it&&(e=Mu(e),e=e===e?e:0),nr(Mu(t),e,n)}function nl(t,e,n){return e=xu(e),n===it?(n=e,e=0):n=xu(n),t=Mu(t),_r(t,e,n)}function rl(t,e,n){if(n&&"boolean"!=typeof n&&Do(t,e,n)&&(e=n=it),n===it&&("boolean"==typeof e?(n=e,e=it):"boolean"==typeof t&&(n=t,t=it)),t===it&&e===it?(t=0,e=1):(t=xu(t),e===it?(e=t,t=0):e=xu(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=Zc();return Wc(t+i*(e-t+On("1e-"+((i+"").length-1))),e)}return Jr(t,e)}function il(t){return Kf(Cu(t).toLowerCase())}function ol(t){return(t=Cu(t))&&t.replace(Ze,Wn).replace(gn,"")}function al(t,e,n){t=Cu(t),e=di(e);var r=t.length;n=n===it?r:nr(_u(n),0,r);var i=n;return(n-=e.length)>=0&&t.slice(n,i)==e}function sl(t){return t=Cu(t),t&&Me.test(t)?t.replace(_e,Yn):t}function ul(t){return t=Cu(t),t&&Ne.test(t)?t.replace(Re,"\\$&"):t}function ll(t,e,n){t=Cu(t),e=_u(e);var r=e?J(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return no(Uc(i),n)+t+no(jc(i),n)}function cl(t,e,n){t=Cu(t),e=_u(e);var r=e?J(t):0;return e&&r<e?t+no(e-r,n):t}function hl(t,e,n){t=Cu(t),e=_u(e);var r=e?J(t):0;return e&&r<e?no(e-r,n)+t:t}function fl(t,e,n){return n||null==e?e=0:e&&(e=+e),Xc(Cu(t).replace(ke,""),e||0)}function dl(t,e,n){return e=(n?Do(t,e,n):e===it)?1:_u(e),ei(Cu(t),e)}function pl(){var t=arguments,e=Cu(t[0]);return t.length<3?e:e.replace(t[1],t[2])}function ml(t,e,n){return n&&"number"!=typeof n&&Do(t,e,n)&&(e=n=it),(n=n===it?Dt:n>>>0)?(t=Cu(t),t&&("string"==typeof e||null!=e&&!_f(e))&&!(e=di(e))&&G(t)?Mi(tt(t),0,n):t.split(e,n)):[]}function gl(t,e,n){return t=Cu(t),n=null==n?0:nr(_u(n),0,t.length),e=di(e),t.slice(n,n+e.length)==e}function vl(t,e,r){var i=n.templateSettings;r&&Do(t,e,r)&&(e=it),t=Cu(t),e=Of({},e,i,co);var o,a,s=Of({},e.imports,i.imports,co),u=Bu(s),l=D(s,u),c=0,h=e.interpolate||Ke,f="__p += '",d=uc((e.escape||Ke).source+"|"+h.source+"|"+(h===Ce?Ve:Ke).source+"|"+(e.evaluate||Ke).source+"|$","g"),p="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++_n+"]")+"\n";t.replace(d,function(e,n,r,i,s,u){return r||(r=i),f+=t.slice(c,u).replace($e,z),n&&(o=!0,f+="' +\n__e("+n+") +\n'"),s&&(a=!0,f+="';\n"+s+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=u+e.length,e}),f+="';\n";var m=e.variable;m||(f="with (obj) {\n"+f+"\n}\n"),f=(a?f.replace(ye,""):f).replace(be,"$1").replace(we,"$1;"),f="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var g=$f(function(){return oc(u,p+"return "+f).apply(it,l)});if(g.source=f,Js(g))throw g;return g}function yl(t){return Cu(t).toLowerCase()}function bl(t){return Cu(t).toUpperCase()}function wl(t,e,n){if((t=Cu(t))&&(n||e===it))return t.replace(Pe,"");if(!t||!(e=di(e)))return t;var r=tt(t),i=tt(e);return Mi(r,j(r,i),U(r,i)+1).join("")}function xl(t,e,n){if((t=Cu(t))&&(n||e===it))return t.replace(De,"");if(!t||!(e=di(e)))return t;var r=tt(t);return Mi(r,0,U(r,tt(e))+1).join("")}function _l(t,e,n){if((t=Cu(t))&&(n||e===it))return t.replace(ke,"");if(!t||!(e=di(e)))return t;var r=tt(t);return Mi(r,j(r,tt(e))).join("")}function El(t,e){var n=Tt,r=Ct;if(iu(e)){var i="separator"in e?e.separator:i;n="length"in e?_u(e.length):n,r="omission"in e?di(e.omission):r}t=Cu(t);var o=t.length;if(G(t)){var a=tt(t);o=a.length}if(n>=o)return t;var s=n-J(r);if(s<1)return r;var u=a?Mi(a,0,s).join(""):t.slice(0,s);if(i===it)return u+r;if(a&&(s+=u.length-s),_f(i)){if(t.slice(s).search(i)){var l,c=u;for(i.global||(i=uc(i.source,Cu(Ge.exec(i))+"g")),i.lastIndex=0;l=i.exec(c);)var h=l.index;u=u.slice(0,h===it?s:h)}}else if(t.indexOf(di(i),s)!=s){var f=u.lastIndexOf(i);f>-1&&(u=u.slice(0,f))}return u+r}function Ml(t){return t=Cu(t),t&&Ee.test(t)?t.replace(xe,Xn):t}function Sl(t,e,n){return t=Cu(t),e=n?it:e,e===it?H(t)?rt(t):x(t):t.match(e)||[]}function Tl(t){var e=null==t?0:t.length,n=_o();return t=e?m(t,function(t){if("function"!=typeof t[1])throw new cc(st);return[n(t[0]),t[1]]}):[],ni(function(n){for(var r=-1;++r<e;){var i=t[r];if(s(i[0],this,n))return s(i[1],this,n)}})}function Cl(t){return ir(rr(t,ht))}function Il(t){return function(){return t}}function Ol(t,e){return null==t||t!==t?e:t}function Al(t){return t}function Ll(t){return Fr("function"==typeof t?t:rr(t,ht))}function Rl(t){return Vr(rr(t,ht))}function Nl(t,e){return Gr(t,rr(e,ht))}function Pl(t,e,n){var r=Bu(e),i=mr(e,r);null!=n||iu(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=mr(e,Bu(e)));var o=!(iu(n)&&"chain"in n&&!n.chain),a=eu(t);return l(i,function(n){var r=e[n];t[n]=r,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__);return(n.__actions__=Fi(this.__actions__)).push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,g([this.value()],arguments))})}),t}function kl(){return Nn._===this&&(Nn._=xc),this}function Dl(){}function Fl(t){return t=_u(t),ni(function(e){return Wr(e,t)})}function jl(t){return Fo(t)?I(Jo(t)):Kr(t)}function Ul(t){return function(e){return null==t?it:gr(t,e)}}function Bl(){return[]}function zl(){return!1}function Vl(){return{}}function Gl(){return""}function Hl(){return!0}function ql(t,e){if((t=_u(t))<1||t>Nt)return[];var n=Dt,r=Wc(t,Dt);e=_o(e),t-=Dt;for(var i=N(r,e);++n<t;)e(n);return i}function Wl(t){return vf(t)?m(t,Jo):gu(t)?[t]:Fi(Lh(Cu(t)))}function Yl(t){var e=++vc;return Cu(t)+e}function Xl(t){return t&&t.length?lr(t,Al,br):it}function Zl(t,e){return t&&t.length?lr(t,_o(e,2),br):it}function Kl(t){return C(t,Al)}function $l(t,e){return C(t,_o(e,2))}function Ql(t){return t&&t.length?lr(t,Al,Br):it}function Jl(t,e){return t&&t.length?lr(t,_o(e,2),Br):it}function tc(t){return t&&t.length?R(t,Al):0}function ec(t,e){return t&&t.length?R(t,_o(e,2)):0}e=null==e?Nn:Zn.defaults(Nn.Object(),e,Zn.pick(Nn,xn));var nc=e.Array,rc=e.Date,ic=e.Error,oc=e.Function,ac=e.Math,sc=e.Object,uc=e.RegExp,lc=e.String,cc=e.TypeError,hc=nc.prototype,fc=oc.prototype,dc=sc.prototype,pc=e["__core-js_shared__"],mc=fc.toString,gc=dc.hasOwnProperty,vc=0,yc=function(){var t=/[^.]+$/.exec(pc&&pc.keys&&pc.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),bc=dc.toString,wc=mc.call(sc),xc=Nn._,_c=uc("^"+mc.call(gc).replace(Re,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ec=Dn?e.Buffer:it,Mc=e.Symbol,Sc=e.Uint8Array,Tc=Ec?Ec.allocUnsafe:it,Cc=Y(sc.getPrototypeOf,sc),Ic=sc.create,Oc=dc.propertyIsEnumerable,Ac=hc.splice,Lc=Mc?Mc.isConcatSpreadable:it,Rc=Mc?Mc.iterator:it,Nc=Mc?Mc.toStringTag:it,Pc=function(){try{var t=So(sc,"defineProperty");return t({},"",{}),t}catch(t){}}(),kc=e.clearTimeout!==Nn.clearTimeout&&e.clearTimeout,Dc=rc&&rc.now!==Nn.Date.now&&rc.now,Fc=e.setTimeout!==Nn.setTimeout&&e.setTimeout,jc=ac.ceil,Uc=ac.floor,Bc=sc.getOwnPropertySymbols,zc=Ec?Ec.isBuffer:it,Vc=e.isFinite,Gc=hc.join,Hc=Y(sc.keys,sc),qc=ac.max,Wc=ac.min,Yc=rc.now,Xc=e.parseInt,Zc=ac.random,Kc=hc.reverse,$c=So(e,"DataView"),Qc=So(e,"Map"),Jc=So(e,"Promise"),th=So(e,"Set"),eh=So(e,"WeakMap"),nh=So(sc,"create"),rh=eh&&new eh,ih={},oh=ta($c),ah=ta(Qc),sh=ta(Jc),uh=ta(th),lh=ta(eh),ch=Mc?Mc.prototype:it,hh=ch?ch.valueOf:it,fh=ch?ch.toString:it,dh=function(){function t(){}return function(e){if(!iu(e))return{};if(Ic)return Ic(e);t.prototype=e;var n=new t;return t.prototype=it,n}}();n.templateSettings={escape:Se,evaluate:Te,interpolate:Ce,variable:"",imports:{_:n}},n.prototype=r.prototype,n.prototype.constructor=n,i.prototype=dh(r.prototype),i.prototype.constructor=i,w.prototype=dh(r.prototype),w.prototype.constructor=w,nt.prototype.clear=Be,nt.prototype.delete=Qe,nt.prototype.get=Je,nt.prototype.has=tn,nt.prototype.set=en,nn.prototype.clear=rn,nn.prototype.delete=on,nn.prototype.get=an,nn.prototype.has=sn,nn.prototype.set=un,ln.prototype.clear=cn,ln.prototype.delete=hn,ln.prototype.get=fn,ln.prototype.has=dn,ln.prototype.set=pn,vn.prototype.add=vn.prototype.push=yn,vn.prototype.has=bn,wn.prototype.clear=Sn,wn.prototype.delete=Tn,wn.prototype.get=Cn,wn.prototype.has=In,wn.prototype.set=Ln;var ph=Gi(dr),mh=Gi(pr,!0),gh=Hi(),vh=Hi(!0),yh=rh?function(t,e){return rh.set(t,e),t}:Al,bh=Pc?function(t,e){return Pc(t,"toString",{configurable:!0,enumerable:!1,value:Il(e),writable:!0})}:Al,wh=ni,xh=kc||function(t){return Nn.clearTimeout(t)},_h=th&&1/Z(new th([,-0]))[1]==Rt?function(t){return new th(t)}:Dl,Eh=rh?function(t){return rh.get(t)}:Dl,Mh=Bc?function(t){return null==t?[]:(t=sc(t),f(Bc(t),function(e){return Oc.call(t,e)}))}:Bl,Sh=Bc?function(t){for(var e=[];t;)g(e,Mh(t)),t=Cc(t);return e}:Bl,Th=yr;($c&&Th(new $c(new ArrayBuffer(1)))!=ue||Qc&&Th(new Qc)!=Zt||Jc&&"[object Promise]"!=Th(Jc.resolve())||th&&Th(new th)!=ee||eh&&Th(new eh)!=oe)&&(Th=function(t){var e=yr(t),n=e==Qt?t.constructor:it,r=n?ta(n):"";if(r)switch(r){case oh:return ue;case ah:return Zt;case sh:return"[object Promise]";case uh:return ee;case lh:return oe}return e});var Ch=pc?eu:zl,Ih=$o(yh),Oh=Fc||function(t,e){return Nn.setTimeout(t,e)},Ah=$o(bh),Lh=function(t){var e=Ls(t,function(t){return n.size===lt&&n.clear(),t}),n=e.cache;return e}(function(t){var e=[];return Ae.test(t)&&e.push(""),t.replace(Le,function(t,n,r,i){e.push(r?i.replace(ze,"$1"):n||t)}),e}),Rh=ni(function(t,e){return Ys(t)?sr(t,fr(e,1,Ys,!0)):[]}),Nh=ni(function(t,e){var n=xa(e);return Ys(n)&&(n=it),Ys(t)?sr(t,fr(e,1,Ys,!0),_o(n,2)):[]}),Ph=ni(function(t,e){var n=xa(e);return Ys(n)&&(n=it),Ys(t)?sr(t,fr(e,1,Ys,!0),it,n):[]}),kh=ni(function(t){var e=m(t,xi);return e.length&&e[0]===t[0]?Er(e):[]}),Dh=ni(function(t){var e=xa(t),n=m(t,xi);return e===xa(n)?e=it:n.pop(),n.length&&n[0]===t[0]?Er(n,_o(e,2)):[]}),Fh=ni(function(t){var e=xa(t),n=m(t,xi);return e="function"==typeof e?e:it,e&&n.pop(),n.length&&n[0]===t[0]?Er(n,it,e):[]}),jh=ni(Ma),Uh=vo(function(t,e){var n=null==t?0:t.length,r=er(t,e);return Qr(t,m(e,function(t){return ko(t,n)?+t:t}).sort(Ni)),r}),Bh=ni(function(t){return pi(fr(t,1,Ys,!0))}),zh=ni(function(t){var e=xa(t);return Ys(e)&&(e=it),pi(fr(t,1,Ys,!0),_o(e,2))}),Vh=ni(function(t){var e=xa(t);return e="function"==typeof e?e:it,pi(fr(t,1,Ys,!0),it,e)}),Gh=ni(function(t,e){return Ys(t)?sr(t,e):[]}),Hh=ni(function(t){return bi(f(t,Ys))}),qh=ni(function(t){var e=xa(t);return Ys(e)&&(e=it),bi(f(t,Ys),_o(e,2))}),Wh=ni(function(t){var e=xa(t);return e="function"==typeof e?e:it,bi(f(t,Ys),it,e)}),Yh=ni(Wa),Xh=ni(function(t){var e=t.length,n=e>1?t[e-1]:it;return n="function"==typeof n?(t.pop(),n):it,Ya(t,n)}),Zh=vo(function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,o=function(e){return er(e,t)};return!(e>1||this.__actions__.length)&&r instanceof w&&ko(n)?(r=r.slice(n,+n+(e?1:0)),r.__actions__.push({func:Qa,args:[o],thisArg:it}),new i(r,this.__chain__).thru(function(t){return e&&!t.length&&t.push(it),t})):this.thru(o)}),Kh=zi(function(t,e,n){gc.call(t,n)?++t[n]:tr(t,n,1)}),$h=Ki(ha),Qh=Ki(fa),Jh=zi(function(t,e,n){gc.call(t,n)?t[n].push(e):tr(t,n,[e])}),tf=ni(function(t,e,n){var r=-1,i="function"==typeof e,o=Ws(t)?nc(t.length):[];return ph(t,function(t){o[++r]=i?s(e,t,n):Sr(t,e,n)}),o}),ef=zi(function(t,e,n){tr(t,n,e)}),nf=zi(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),rf=ni(function(t,e){if(null==t)return[];var n=e.length;return n>1&&Do(t,e[0],e[1])?e=[]:n>2&&Do(e[0],e[1],e[2])&&(e=[e[0]]),Yr(t,fr(e,1),[])}),of=Dc||function(){return Nn.Date.now()},af=ni(function(t,e,n){var r=gt;if(n.length){var i=X(n,xo(af));r|=xt}return lo(t,r,e,n,i)}),sf=ni(function(t,e,n){var r=gt|vt;if(n.length){var i=X(n,xo(sf));r|=xt}return lo(e,r,t,n,i)}),uf=ni(function(t,e){return ar(t,1,e)}),lf=ni(function(t,e,n){return ar(t,Mu(e)||0,n)});Ls.Cache=ln;var cf=wh(function(t,e){e=1==e.length&&vf(e[0])?m(e[0],k(_o())):m(fr(e,1),k(_o()));var n=e.length;return ni(function(r){for(var i=-1,o=Wc(r.length,n);++i<o;)r[i]=e[i].call(this,r[i]);return s(t,this,r)})}),hf=ni(function(t,e){var n=X(e,xo(hf));return lo(t,xt,it,e,n)}),ff=ni(function(t,e){var n=X(e,xo(ff));return lo(t,_t,it,e,n)}),df=vo(function(t,e){return lo(t,Mt,it,it,it,e)}),pf=oo(br),mf=oo(function(t,e){return t>=e}),gf=Tr(function(){return arguments}())?Tr:function(t){return ou(t)&&gc.call(t,"callee")&&!Oc.call(t,"callee")},vf=nc.isArray,yf=Un?k(Un):Cr,bf=zc||zl,wf=Bn?k(Bn):Ir,xf=zn?k(zn):Lr,_f=Vn?k(Vn):Pr,Ef=Gn?k(Gn):kr,Mf=Hn?k(Hn):Dr,Sf=oo(Br),Tf=oo(function(t,e){return t<=e}),Cf=Vi(function(t,e){if(zo(e)||Ws(e))return void ji(e,Bu(e),t);for(var n in e)gc.call(e,n)&&qn(t,n,e[n])}),If=Vi(function(t,e){ji(e,zu(e),t)}),Of=Vi(function(t,e,n,r){ji(e,zu(e),t,r)}),Af=Vi(function(t,e,n,r){ji(e,Bu(e),t,r)}),Lf=vo(er),Rf=ni(function(t){return t.push(it,co),s(Of,it,t)}),Nf=ni(function(t){return t.push(it,ho),s(jf,it,t)}),Pf=Ji(function(t,e,n){t[e]=n},Il(Al)),kf=Ji(function(t,e,n){gc.call(t,e)?t[e].push(n):t[e]=[n]},_o),Df=ni(Sr),Ff=Vi(function(t,e,n){Hr(t,e,n)}),jf=Vi(function(t,e,n,r){Hr(t,e,n,r)}),Uf=vo(function(t,e){var n={};if(null==t)return n;var r=!1;e=m(e,function(e){return e=Ei(e,t),r||(r=e.length>1),e}),ji(t,bo(t),n),r&&(n=rr(n,ht|ft|dt,fo));for(var i=e.length;i--;)mi(n,e[i]);return n}),Bf=vo(function(t,e){return null==t?{}:Xr(t,e)}),zf=uo(Bu),Vf=uo(zu),Gf=Yi(function(t,e,n){return e=e.toLowerCase(),t+(n?il(e):e)}),Hf=Yi(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),qf=Yi(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),Wf=Wi("toLowerCase"),Yf=Yi(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),Xf=Yi(function(t,e,n){return t+(n?" ":"")+Kf(e)}),Zf=Yi(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),Kf=Wi("toUpperCase"),$f=ni(function(t,e){try{return s(t,it,e)}catch(t){return Js(t)?t:new ic(t)}}),Qf=vo(function(t,e){return l(e,function(e){e=Jo(e),tr(t,e,af(t[e],t))}),t}),Jf=$i(),td=$i(!0),ed=ni(function(t,e){return function(n){return Sr(n,t,e)}}),nd=ni(function(t,e){return function(n){return Sr(t,n,e)}}),rd=eo(m),id=eo(h),od=eo(b),ad=io(),sd=io(!0),ud=to(function(t,e){return t+e},0),ld=so("ceil"),cd=to(function(t,e){return t/e},1),hd=so("floor"),fd=to(function(t,e){return t*e},1),dd=so("round"),pd=to(function(t,e){return t-e},0);return n.after=Ms,n.ary=Ss,n.assign=Cf,n.assignIn=If,n.assignInWith=Of,n.assignWith=Af,n.at=Lf,n.before=Ts,n.bind=af,n.bindAll=Qf,n.bindKey=sf,n.castArray=Us,n.chain=Ka,n.chunk=ra,n.compact=ia,n.concat=oa,n.cond=Tl,n.conforms=Cl,n.constant=Il,n.countBy=Kh,n.create=Iu,n.curry=Cs,n.curryRight=Is,n.debounce=Os,n.defaults=Rf,n.defaultsDeep=Nf,n.defer=uf,n.delay=lf,n.difference=Rh,n.differenceBy=Nh,n.differenceWith=Ph,n.drop=aa,n.dropRight=sa,n.dropRightWhile=ua,n.dropWhile=la,n.fill=ca,n.filter=ss,n.flatMap=us,n.flatMapDeep=ls,n.flatMapDepth=cs,n.flatten=da,n.flattenDeep=pa,n.flattenDepth=ma,n.flip=As,n.flow=Jf,n.flowRight=td,n.fromPairs=ga,n.functions=ku,n.functionsIn=Du,n.groupBy=Jh,n.initial=ba,n.intersection=kh,n.intersectionBy=Dh,n.intersectionWith=Fh,n.invert=Pf,n.invertBy=kf,n.invokeMap=tf,n.iteratee=Ll,n.keyBy=ef,n.keys=Bu,n.keysIn=zu,n.map=ps,n.mapKeys=Vu,n.mapValues=Gu,n.matches=Rl,n.matchesProperty=Nl,n.memoize=Ls,n.merge=Ff,n.mergeWith=jf,n.method=ed,n.methodOf=nd,n.mixin=Pl,n.negate=Rs,n.nthArg=Fl,n.omit=Uf,n.omitBy=Hu,n.once=Ns,n.orderBy=ms,n.over=rd,n.overArgs=cf,n.overEvery=id,n.overSome=od,n.partial=hf,n.partialRight=ff,n.partition=nf,n.pick=Bf,n.pickBy=qu,n.property=jl,n.propertyOf=Ul,n.pull=jh,n.pullAll=Ma,n.pullAllBy=Sa,n.pullAllWith=Ta,n.pullAt=Uh,n.range=ad,n.rangeRight=sd,n.rearg=df,n.reject=ys,n.remove=Ca,n.rest=Ps,n.reverse=Ia,n.sampleSize=ws,n.set=Yu,n.setWith=Xu,n.shuffle=xs,n.slice=Oa,n.sortBy=rf,n.sortedUniq=Da,n.sortedUniqBy=Fa,n.split=ml,n.spread=ks,n.tail=ja,n.take=Ua,n.takeRight=Ba,n.takeRightWhile=za,n.takeWhile=Va,n.tap=$a,n.throttle=Ds,n.thru=Qa,n.toArray=wu,n.toPairs=zf,n.toPairsIn=Vf,n.toPath=Wl,n.toPlainObject=Su,n.transform=Zu,n.unary=Fs,n.union=Bh,n.unionBy=zh,n.unionWith=Vh,n.uniq=Ga,n.uniqBy=Ha,n.uniqWith=qa,n.unset=Ku,n.unzip=Wa,n.unzipWith=Ya,n.update=$u,n.updateWith=Qu,n.values=Ju,n.valuesIn=tl,n.without=Gh,n.words=Sl,n.wrap=js,n.xor=Hh,n.xorBy=qh,n.xorWith=Wh,n.zip=Yh,n.zipObject=Xa,n.zipObjectDeep=Za,n.zipWith=Xh,n.entries=zf,n.entriesIn=Vf,n.extend=If,n.extendWith=Of,Pl(n,n),n.add=ud,n.attempt=$f,n.camelCase=Gf,n.capitalize=il,n.ceil=ld,n.clamp=el,n.clone=Bs,n.cloneDeep=Vs,n.cloneDeepWith=Gs,n.cloneWith=zs,n.conformsTo=Hs,n.deburr=ol,n.defaultTo=Ol,n.divide=cd,n.endsWith=al,n.eq=qs,n.escape=sl,n.escapeRegExp=ul,n.every=as,n.find=$h,n.findIndex=ha,n.findKey=Ou,n.findLast=Qh,n.findLastIndex=fa,n.findLastKey=Au,n.floor=hd,n.forEach=hs,n.forEachRight=fs,n.forIn=Lu,n.forInRight=Ru,n.forOwn=Nu,n.forOwnRight=Pu,n.get=Fu,n.gt=pf,n.gte=mf,n.has=ju,n.hasIn=Uu,n.head=va,n.identity=Al,n.includes=ds,n.indexOf=ya,n.inRange=nl,n.invoke=Df,n.isArguments=gf,n.isArray=vf,n.isArrayBuffer=yf,n.isArrayLike=Ws,n.isArrayLikeObject=Ys,n.isBoolean=Xs,n.isBuffer=bf,n.isDate=wf,n.isElement=Zs,n.isEmpty=Ks,n.isEqual=$s,n.isEqualWith=Qs,n.isError=Js,n.isFinite=tu,n.isFunction=eu,n.isInteger=nu,n.isLength=ru,n.isMap=xf,n.isMatch=au,n.isMatchWith=su,n.isNaN=uu,n.isNative=lu,n.isNil=hu,n.isNull=cu,n.isNumber=fu,n.isObject=iu,n.isObjectLike=ou,n.isPlainObject=du,n.isRegExp=_f,n.isSafeInteger=pu,n.isSet=Ef,n.isString=mu,n.isSymbol=gu,n.isTypedArray=Mf,n.isUndefined=vu,n.isWeakMap=yu,n.isWeakSet=bu,n.join=wa,n.kebabCase=Hf,n.last=xa,n.lastIndexOf=_a,n.lowerCase=qf,n.lowerFirst=Wf,n.lt=Sf,n.lte=Tf,n.max=Xl,n.maxBy=Zl,n.mean=Kl,n.meanBy=$l,n.min=Ql,n.minBy=Jl,n.stubArray=Bl,n.stubFalse=zl,n.stubObject=Vl,n.stubString=Gl,n.stubTrue=Hl,n.multiply=fd,n.nth=Ea,n.noConflict=kl,n.noop=Dl,n.now=of,n.pad=ll,n.padEnd=cl,n.padStart=hl,n.parseInt=fl,n.random=rl,n.reduce=gs,n.reduceRight=vs,n.repeat=dl,n.replace=pl,n.result=Wu,n.round=dd,n.runInContext=t,n.sample=bs,n.size=_s,n.snakeCase=Yf,n.some=Es,n.sortedIndex=Aa,n.sortedIndexBy=La,n.sortedIndexOf=Ra,n.sortedLastIndex=Na,n.sortedLastIndexBy=Pa,n.sortedLastIndexOf=ka,n.startCase=Xf,n.startsWith=gl,n.subtract=pd,n.sum=tc,n.sumBy=ec,n.template=vl,n.times=ql,n.toFinite=xu,n.toInteger=_u,n.toLength=Eu,n.toLower=yl,n.toNumber=Mu,n.toSafeInteger=Tu,n.toString=Cu,n.toUpper=bl,n.trim=wl,n.trimEnd=xl,n.trimStart=_l,n.truncate=El,n.unescape=Ml,n.uniqueId=Yl,n.upperCase=Zf,n.upperFirst=Kf,n.each=hs,n.eachRight=fs,n.first=va,Pl(n,function(){var t={};return dr(n,function(e,r){gc.call(n.prototype,r)||(t[r]=e)}),t}(),{chain:!1}),n.VERSION="4.17.4",l(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){n[t].placeholder=n}),l(["drop","take"],function(t,e){w.prototype[t]=function(n){n=n===it?1:qc(_u(n),0);var r=this.__filtered__&&!e?new w(this):this.clone();return r.__filtered__?r.__takeCount__=Wc(n,r.__takeCount__):r.__views__.push({size:Wc(n,Dt),type:t+(r.__dir__<0?"Right":"")}),r},w.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),l(["filter","map","takeWhile"],function(t,e){var n=e+1,r=n==At||3==n;w.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:_o(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}}),l(["head","last"],function(t,e){var n="take"+(e?"Right":"");w.prototype[t]=function(){return this[n](1).value()[0]}}),l(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");w.prototype[t]=function(){return this.__filtered__?new w(this):this[n](1)}}),w.prototype.compact=function(){return this.filter(Al)},w.prototype.find=function(t){return this.filter(t).head()},w.prototype.findLast=function(t){return this.reverse().find(t)},w.prototype.invokeMap=ni(function(t,e){return"function"==typeof t?new w(this):this.map(function(n){return Sr(n,t,e)})}),w.prototype.reject=function(t){return this.filter(Rs(_o(t)))},w.prototype.slice=function(t,e){t=_u(t);var n=this;return n.__filtered__&&(t>0||e<0)?new w(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==it&&(e=_u(e),n=e<0?n.dropRight(-e):n.take(e-t)),n)},w.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},w.prototype.toArray=function(){return this.take(Dt)},dr(w.prototype,function(t,e){var r=/^(?:filter|find|map|reject)|While$/.test(e),o=/^(?:head|last)$/.test(e),a=n[o?"take"+("last"==e?"Right":""):e],s=o||/^find/.test(e);a&&(n.prototype[e]=function(){var e=this.__wrapped__,u=o?[1]:arguments,l=e instanceof w,c=u[0],h=l||vf(e),f=function(t){var e=a.apply(n,g([t],u));return o&&d?e[0]:e};h&&r&&"function"==typeof c&&1!=c.length&&(l=h=!1);var d=this.__chain__,p=!!this.__actions__.length,m=s&&!d,v=l&&!p;if(!s&&h){e=v?e:new w(this);var y=t.apply(e,u);return y.__actions__.push({func:Qa,args:[f],thisArg:it}),new i(y,d)}return m&&v?t.apply(this,u):(y=this.thru(f),m?o?y.value()[0]:y.value():y)})}),l(["pop","push","shift","sort","splice","unshift"],function(t){var e=hc[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);n.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var n=this.value();return e.apply(vf(n)?n:[],t)}return this[r](function(n){return e.apply(vf(n)?n:[],t)})}}),dr(w.prototype,function(t,e){var r=n[e];if(r){var i=r.name+"";(ih[i]||(ih[i]=[])).push({name:e,func:r})}}),ih[Qi(it,vt).name]=[{name:"wrapper",func:it}],w.prototype.clone=O,w.prototype.reverse=$,w.prototype.value=et,n.prototype.at=Zh,n.prototype.chain=Ja,n.prototype.commit=ts,n.prototype.next=es,n.prototype.plant=rs,n.prototype.reverse=is,n.prototype.toJSON=n.prototype.valueOf=n.prototype.value=os,n.prototype.first=n.prototype.head,Rc&&(n.prototype[Rc]=ns),n}();Nn._=Zn,(i=function(){return Zn}.call(e,n,e,r))!==it&&(r.exports=i)}).call(this)}).call(e,n(34),n(164)(t))},function(t,e,n){"use strict";var r=n(0),i=(n.n(r),n(15));n.n(i);e.a=Object(i.injectIntl)(r.Component)},function(t,e,n){t.exports={default:n(933),__esModule:!0}},function(t,e,n){var r,i;!function(o,a){"use strict";r=a,void 0!==(i="function"==typeof r?r.call(e,n,e,t):r)&&(t.exports=i)}(0,function(){"use strict";function t(t){return typeof console!==s&&(void 0!==console[t]?e(console,t):void 0!==console.log?e(console,"log"):a)}function e(t,e){var n=t[e];if("function"==typeof n.bind)return n.bind(t);try{return Function.prototype.bind.call(n,t)}catch(e){return function(){return Function.prototype.apply.apply(n,[t,arguments])}}}function n(t,e,n){return function(){typeof console!==s&&(r.call(this,e,n),this[t].apply(this,arguments))}}function r(t,e){for(var n=0;n<u.length;n++){var r=u[n];this[r]=n<t?a:this.methodFactory(r,t,e)}}function i(e,r,i){return t(e)||n.apply(this,arguments)}function o(t,e,n){function o(t){var e=(u[t]||"silent").toUpperCase();try{return void(window.localStorage[h]=e)}catch(t){}try{window.document.cookie=encodeURIComponent(h)+"="+e+";"}catch(t){}}function a(){var t;try{t=window.localStorage[h]}catch(t){}if(typeof t===s)try{var e=window.document.cookie,n=e.indexOf(encodeURIComponent(h)+"=");n&&(t=/^([^;]+)/.exec(e.slice(n))[1])}catch(t){}return void 0===c.levels[t]&&(t=void 0),t}var l,c=this,h="loglevel";t&&(h+=":"+t),c.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},c.methodFactory=n||i,c.getLevel=function(){return l},c.setLevel=function(e,n){if("string"==typeof e&&void 0!==c.levels[e.toUpperCase()]&&(e=c.levels[e.toUpperCase()]),!("number"==typeof e&&e>=0&&e<=c.levels.SILENT))throw"log.setLevel() called with invalid level: "+e;if(l=e,!1!==n&&o(e),r.call(c,e,t),typeof console===s&&e<c.levels.SILENT)return"No console available for logging"},c.setDefaultLevel=function(t){a()||c.setLevel(t,!1)},c.enableAll=function(t){c.setLevel(c.levels.TRACE,t)},c.disableAll=function(t){c.setLevel(c.levels.SILENT,t)};var f=a();null==f&&(f=null==e?"WARN":e),c.setLevel(f,!1)}var a=function(){},s="undefined",u=["trace","debug","info","warn","error"],l=new o,c={};l.getLogger=function(t){if("string"!=typeof t||""===t)throw new TypeError("You must supply a name when creating a logger.");var e=c[t];return e||(e=c[t]=new o(t,l.getLevel(),l.methodFactory)),e};var h=typeof window!==s?window.log:void 0;return l.noConflict=function(){return typeof window!==s&&window.log===l&&(window.log=h),l},l})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n,r,i){var a=t[e],u=void 0===a?"undefined":o(a);return s.default.isValidElement(a)?new Error("Invalid "+r+" `"+i+"` of type ReactElement supplied to `"+n+"`, expected an element type (a string or a ReactClass)."):"function"!==u&&"string"!==u?new Error("Invalid "+r+" `"+i+"` of value `"+a+"` supplied to `"+n+"`, expected an element type (a string or a ReactClass)."):null}Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=n(0),s=r(a),u=n(350),l=r(u);e.default=(0,l.default)(i),t.exports=e.default},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(215)("wks"),i=n(124),o=n(21).Symbol,a="function"==typeof o;(t.exports=function(t){return r[t]||(r[t]=a&&o[t]||(a?o:i)("Symbol."+t))}).store=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.connect=e.connectAdvanced=e.createProvider=e.Provider=void 0;var i=n(1263),o=r(i),a=n(541),s=r(a),u=n(1266),l=r(u);e.Provider=o.default,e.createProvider=i.createProvider,e.connectAdvanced=s.default,e.connect=l.default},function(t,e,n){var r=n(55),i=n(22),o=n(100),a=n(114),s=function(t,e,n){var u,l,c,h=t&s.F,f=t&s.G,d=t&s.S,p=t&s.P,m=t&s.B,g=t&s.W,v=f?i:i[e]||(i[e]={}),y=v.prototype,b=f?r:d?r[e]:(r[e]||{}).prototype;f&&(n=e);for(u in n)(l=!h&&b&&void 0!==b[u])&&u in v||(c=l?b[u]:n[u],v[u]=f&&"function"!=typeof b[u]?n[u]:m&&l?o(c,r):g&&b[u]==c?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(c):p&&"function"==typeof c?o(Function.call,c):c,p&&((v.virtual||(v.virtual={}))[u]=c,t&s.R&&y&&!y[u]&&a(y,u,c)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,t.exports=s},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.compose=e.applyMiddleware=e.bindActionCreators=e.combineReducers=e.createStore=void 0;var i=n(495),o=r(i),a=n(1125),s=r(a),u=n(1126),l=r(u),c=n(1127),h=r(c),f=n(497),d=r(f),p=n(496);r(p);e.createStore=o.default,e.combineReducers=s.default,e.bindActionCreators=l.default,e.applyMiddleware=h.default,e.compose=d.default},function(t,e,n){"use strict";var r=n(159);n.d(e,"d",function(){return r.a}),n.d(e,"e",function(){return r.b}),n.d(e,"g",function(){return r.c});var i=n(911);n.d(e,"a",function(){return i.a}),n.d(e,"b",function(){return i.b});var o=n(441);n.d(e,"c",function(){return o.a}),n.d(e,"f",function(){return o.b})},function(t,e,n){t.exports=!n(25)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(20),i=n(388),o=n(86),a=Object.defineProperty;e.f=n(40)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(88),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e,n){var r=2*Math.PI,i=n(179);t.exports=function(t){return Math.abs(t)<=3.14159265359?t:t-i(t)*r}},function(t,e,n){"use strict";n.d(e,"b",function(){return y}),n.d(e,"c",function(){return b}),n.d(e,"a",function(){return w}),n.d(e,"d",function(){return x}),n.d(e,"m",function(){return _}),n.d(e,"l",function(){return E}),n.d(e,"n",function(){return M}),n.d(e,"h",function(){return S}),n.d(e,"g",function(){return T}),n.d(e,"o",function(){return I}),n.d(e,"k",function(){return A}),n.d(e,"j",function(){return N}),n.d(e,"f",function(){return P}),n.d(e,"e",function(){return k});var r=n(71),i=n.n(r),o=n(19),a=n.n(o),s=n(16),u=n.n(s),l=n(70),c=n.n(l),h=n(17),f=n.n(h),d=n(340),p=n(29),m=n.n(p),g=n(159),v=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=u()(t);!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(a()(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),y=.3048006096012192,b=1/y,w=2,x={METERS:"m",FEET:"ft",USFEET:"us-ft",DEGREES:"degrees",UNKNOWN:"?"},_=function(t){switch(t){case"m":case"ft":case"us-ft":return 2;case"degrees":return 6;case"?":default:return 6}},E=function(t){var e=c.a.defs(t),n=e&&e.units||"?";return _(n)},M=function(t){var e=t?c.a.defs(t):null,n=e&&"none"!==e.datumCode?e.units:"?",r="degrees"===n?"m":n;return{xyUnits:n,heightUnits:r,precisionUnits:r}},S=function(t,e,n){return t!==e&&i()(n)?"m"===t&&"ft"===e?n*b:"ft"===t&&"m"===e?n*y:n:n},T=function(t,e){if(!Array.isArray(e))return e;var n=v(e,2),r=(n[0],n[1]),i=t,o=t,a=i/(6378137*Math.cos(Object(g.b)(r))),s=o/6378137;return{dLon:Object(g.a)(a),dLat:Object(g.a)(s)}},C=function(t){return t.SRSName+" - "+t.Name},I=function(t){return"string"==typeof t&&""!==t&&/^EPSG:[0-9]+$/.test(t)},O=function(t){var e=void 0;return/^[0-9]+$/.test(t)&&(e="EPSG:"+t),e},A=function(t){var e=void 0;if(t){var n=m.a.parseInt(t);if(m.a.isNumber(n)&&m.a.isFinite(n))e={type:"epsg",properties:{code:n}};else{if(!m.a.isString(t))throw Error("UNKNOWN SRS TYPE");e={type:"name",properties:{name:t}}}}return e},L=function(t,e){var n=t.find(function(t){return t.Name.replace(/_/g," ")===e.replace(/_/g," ")});return n&&I(n.SRSName)?n.SRSName:n},R=function(t,e){var n=t.find(function(t){return t.SRSName===e.toUpperCase()});return n&&I(n.SRSName)?n.SRSName:n},N=function(t){var e=Object(d.a)().getState(),n=e.srs.srs,r=void 0;return t&&(r=m.a.isNumber(m.a.parseInt(t))&&m.a.isFinite(m.a.parseInt(t))?R(n,O(m.a.parseInt(t))):"string"==typeof t&&I(t.toUpperCase())?R(n,t):L(n,t)),r||(r=e.srs.userSrs),r},P=function(t,e){var n=void 0;return t&&("name"===t.type?n=t.properties.name:"EPSG"===t.type&&(n="EPSG:"+t.properties.code)),!n&&e&&(n=e),n},k=function(t,e){var n=void 0;return t&&("name"===t.type?n=f.a.proj.get(t.properties.name):"EPSG"===t.type?n=f.a.proj.get("EPSG:"+t.properties.code):f.a.asserts.assert(!1,36)),!n&&e&&(n=e),n};e.i={getPrecision:E,getUnitsForSrs:M,formatSrsName:C,formatCRS:A,findProjection:N,checkOLProjection:k,METRIC_PRECISION:2,DEGREE_PRECISION:w,LON_LAT_PRECISION:6,Units:x}},function(t,e,n){var r=n(87);t.exports=function(t){return Object(r(t))}},function(t,e,n){e.glMatrix=n(99),e.mat2=n(842),e.mat2d=n(843),e.mat3=n(301),e.mat4=n(844),e.quat=n(845),e.vec2=n(230),e.vec3=n(91),e.vec4=n(422)},function(t,e,n){"use strict";function r(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.filter(function(t){return null!=t}).reduce(function(t,e){if("function"!=typeof e)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===t?e:function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];t.apply(this,r),e.apply(this,r)}},null)}e.__esModule=!0,e.default=r,t.exports=e.default},function(t,e,n){t.exports={default:n(907),__esModule:!0}},function(t,e){t.exports=n},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){t.exports={default:n(917),__esModule:!0}},function(t,e,n){"use strict";e.__esModule=!0;e.Size={LARGE:"large",SMALL:"small",XSMALL:"xsmall"},e.SIZE_MAP={large:"lg",medium:"md",small:"sm",xsmall:"xs",lg:"lg",md:"md",sm:"sm",xs:"xs"},e.DEVICE_SIZES=["lg","md","sm","xs"],e.State={SUCCESS:"success",WARNING:"warning",DANGER:"danger",INFO:"info"},e.Style={DEFAULT:"default",PRIMARY:"primary",LINK:"link",INVERSE:"inverse"}},function(t,e,n){"use strict";function r(){var t=u(),e=t.basicToken,n=t.tidToken,r=t.bearerToken;return e?i(e):r?o(r):n?a(n):void 0}function i(t){return{Authorization:"Basic "+t}}function o(t){return{Authorization:"Bearer "+t}}function a(t){return{Authorization:"TID "+t}}e.b=r,e.a=i;var s=n(340),u=function(){return Object(s.a)().getState().login}},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return p()(t)}function i(t){return function(){var e=t.apply(this,arguments);return new f.a(function(t,n){function r(i,o){try{var a=e[i](o),s=a.value}catch(t){return void n(t)}if(!a.done)return f.a.resolve(s).then(function(t){r("next",t)},function(t){r("throw",t)});t(s)}return r("next")})}}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"ViewerError",function(){return nt}),n.d(e,"ViewerMode",function(){return rt}),n.d(e,"ViewerType",function(){return it}),n.d(e,"SET_VIEWER_MODE",function(){return ot}),n.d(e,"SET_CURRENT_PANORAMA_WID",function(){return at}),n.d(e,"TOGGLE_HELP",function(){return st}),n.d(e,"TOGGLE_REPORT_BLURRING",function(){return ut}),n.d(e,"PANORAMA_EXTENT_SIZE",function(){return lt}),n.d(e,"setViewerMode",function(){return ct}),n.d(e,"setCurrentPanoramaWid",function(){return ht}),n.d(e,"centerMap",function(){return mt}),n.d(e,"centerMapForRecording",function(){return gt}),n.d(e,"openPanoramaViewerByCoordinate",function(){return vt}),n.d(e,"openPanoramaViewerByImageId",function(){return yt}),n.d(e,"openObliqueViewerByCoordinate",function(){return xt}),n.d(e,"openObliqueViewerByImageId",function(){return _t}),n.d(e,"openViewerByCoordinate",function(){return Et}),n.d(e,"openViewerByExtent",function(){return Mt}),n.d(e,"openViewer",function(){return Tt}),n.d(e,"enableMeasurementMode",function(){return Ot}),n.d(e,"disableMeasurementMode",function(){return At}),n.d(e,"toggleHelp",function(){return Lt}),n.d(e,"toggleReportBlurring",function(){return Rt}),n.d(e,"ActionTypes",function(){return Nt});var o=n(59),a=n.n(o),s=n(24),u=n.n(s),l=n(71),c=n.n(l),h=n(23),f=n.n(h),d=n(31),p=n.n(d),m=n(19),g=n.n(m),v=n(16),y=n.n(v),b=n(4),w=n.n(b),x=n(58),_=n.n(x),E=n(66),M=n.n(E),S=n(18),T=(n.n(S),n(15)),C=(n.n(T),n(105)),I=n.n(C),O=n(17),A=n.n(O),L=n(82),R=n(138),N=n(39),P=n(72),k=n(145),D=n(204),F=n(95),j=n(146),U=n(73),B=n(212),z=n(264),V=n(265),G=n(213),H=n(372),q=n(375),W=n(377),Y=n(266),X=n(578),Z=n(257),K=n(576),$=(n(374),n(107),n(44),"function"==typeof M.a&&"symbol"==typeof _.a?function(t){return typeof t}:function(t){return t&&"function"==typeof M.a&&t.constructor===M.a&&t!==M.a.prototype?"symbol":typeof t}),Q=w.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},J=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=y()(t);!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(g()(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),tt=this,et=c.a,nt={NO_ADDRESS_CLIENT:"NoAddressClient",NO_ADDRESS_FOUND:"NoAddressFound",NO_SRS_PROVIDED:"NoSrsProvided",ADDRESS_CLIENT_ERROR:"AddressClientError",ADDRESS_NOT_A_POINT:"AddressNotAPoint",NO_RECORDING_LOADED:"NoRecordingLoaded"},rt={VIEWER:"@@ViewerMode/VIEWER",MEASUREMENT:"@@ViewerMode/MEASUREMENT"},it={PANORAMA:"@@ViewerType/PANORAMA",OBLIQUE:"@@ViewerType/OBLIQUE",MAP:"@@ViewerType/MAP"},ot="@@viewermanager/SET_VIEWER_MODE",at="@viewermanager/SET_CURRENT_PANORAMA_WID",st="@@viewermanager/TOGGLE_HELP",ut="@@viewermanager/TOGGLE_REPORT_BLURRING",lt=25,ct=Object(S.createAction)(ot),ht=Object(S.createAction)(at,function(t){return t}),ft=Object(T.defineMessages)({couldNotFindRecording:{id:"ObliqueViewer.couldNotFindRecording",description:"Flash message text when we could not find a suitable oblique recording",defaultMessage:"Could not find a suitable nearby oblique image!"},obliqueNotAllowed:{id:"viewermanager.obliqueNotAllowed",description:"Error message when opening oblique is not allowed",defaultMessage:"Not allowed to open oblique image: oblique not available or in measurement mode."},loadingRecordingsFailed:{id:"viewermanager.loadingRecordingsFailed",description:"Error message when recordings could not be loaded",defaultMessage:"Failed to load recordings!"}}),dt=function(t){var e=t(),n=e.viewermanager.viewerMode,r=e.config.config,i=r.services.obliqueLocation,o=r.map.obliqueLayers;return i&&o&&0!==o.length&&n!==rt.MEASUREMENT},pt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(){var n=i(u.a.mark(function n(i,o){var a,s,l,h,f,d,p,m,g,v,y,b,w,x,_,E,M,S,T,C,O,L,R,D,j,U,z,V,G,H,q;return u.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(a=o(),s=a.panoramaviewer,l=a.windowmanager,h=a.config.isApi,f=e.replace,d=void 0===f||f,p=e.yaw,m=e.pitch,g=void 0===m?0:m,v=e.hFov,y=void 0===v?W.a:v,b=e.openOblique,w=void 0===b?!h:b,x=e.closable,_=e.maximizable,E=k.default.addPanoramaViewerWindow,M=F.default.addPanoramaViewer,S=F.default.updateRecording,T=F.default.updatePanoramaOrientation,C=F.default.updatePanoramaViewer,O=l.layout[Z.b.PANORAMAS],L=[],R=void 0,D=p,(d||O&&O.children.length>=l.maxLengthWindows)&&(R=O&&O.children.length>0&&O.children[0]),R?(D=s.byId[R].orientation.yaw,i(S(R,t))):(R=I()(),i(M(R,{recording:t})),i(E({id:R,childIndex:0,closable:x,maximizable:_})),j=B.default.initPanoramaViewerLayers,i(j(R)),et(D)||(D=t.recorderDirection),et(D)||(D=t.orientation)),i(T(R,{yaw:D,pitch:g,hFov:y,xyz:t.xyz})),i(C(R,{recordingsVisible:!0})),L.push({wid:R,viewerType:it.PANORAMA}),!w||!dt(o)){n.next=22;break}return U=t.xyz,z=t.srs,V=c()(D)?Object(N.d)(D):K.a.NORTH,G=A.a.proj.transform(U,z,Y.a),H=[G[0]-lt,G[1]-lt,G[0]+lt,G[1]+lt],n.next=20,i(xt(U,z,{direction:V,viewExtent:H,closable:x,maximizable:_})).catch(function(t){throw i(Object(P.showFlashMessage)(t.message,{style:"danger"})),new Error(t.message)});case 20:q=n.sent,q&&L.push.apply(L,r(q));case 22:return n.abrupt("return",L);case 23:case"end":return n.stop()}},n,tt)}));return function(t,e){return n.apply(this,arguments)}}()},mt=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(r,i){var o=D.b.setMapCenter,a=D.b.setMapZoomUsingRange,s=i(),u=s.config,l=s.mapviewers,c=s.windowmanager,h=c.layout[Z.b.MAPS],f=h&&h.children.length>0&&h.children[0];if(f in l.byId&&(r(o(f,t,e)),n)){r(a(f,u.config.map.featureZoomLevel))}}},gt=function(t){return function(e,n){var r=t.xyz,i=t.srs,o=n(),a=o.windowmanager,s=o.mapviewers,u=a.layout[Z.b.MAPS],l=u&&u.children.length>0&&u.children[0],c=s.byId[l];if(c){var h=c.center,f=c.resolution,d=c.projection;if(et(f)&&Object(R.h)(h)){var p=document.getElementById(l),m=p.offsetWidth,g=p.offsetHeight;r=A.a.proj.transform(r,i,d);var v=f*m/3,y=f*g/3,b=J(h,2),w=b[0],x=b[1],_=[w-v,x-y,w+v,x+y];A.a.extent.containsCoordinate(_,r)||e(D.b.setMapCenter(l,r,d))}}}},vt=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(){var o=i(u.a.mark(function o(a,s){var l;return u.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return l=[],o.next=3,V.a.getRecordingsByRadius(t,e,100,{maxFeatures:1}).then(function(){var e=i(u.a.mark(function e(i){var o,s=J(i,1),c=s[0];return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=n,void 0===o.yaw&&(o=Q({},o,{yaw:Object(R.k)(c.xyz,t)})),e.t0=l.push,e.t1=l,e.t2=r,e.next=7,a(pt(c,o));case 7:e.t3=e.sent,e.t4=(0,e.t2)(e.t3),e.t0.apply.call(e.t0,e.t1,e.t4);case 10:case"end":return e.stop()}},e,tt)}));return function(t){return e.apply(this,arguments)}}(),function(t){throw new Error(Object(L.b)(ft.loadingRecordingsFailed))});case 3:return o.abrupt("return",l);case 4:case"end":return o.stop()}},o,tt)}));return function(t,e){return o.apply(this,arguments)}}()},yt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(){var n=i(u.a.mark(function n(o,a){var s,l,c,h;return u.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(s=a().srs.userSrs,l=[],c=a(),h=c.viewermanager,h.viewerMode!==rt.MEASUREMENT){n.next=6;break}return o(Object(P.showFlashMessage)(Object(L.b)(ft.obliqueNotAllowed),{style:"danger"})),n.abrupt("return");case 6:return n.next=8,V.a.getRecordingById(t,s).then(function(){var t=i(u.a.mark(function t(n){var i,a,s=J(n,1),c=s[0];return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=c.xyz,a=c.srs,t.t0=l.push,t.t1=l,t.t2=r,t.next=6,o(pt(c,e));case 6:t.t3=t.sent,t.t4=(0,t.t2)(t.t3),t.t0.apply.call(t.t0,t.t1,t.t4),o(mt(i,a,!0));case 10:case"end":return t.stop()}},t,tt)}));return function(e){return t.apply(this,arguments)}}(),function(t){throw new Error(Object(L.b)(ft.loadingRecordingsFailed))});case 8:return n.abrupt("return",l);case 9:case"end":return n.stop()}},n,tt)}));return function(t,e){return n.apply(this,arguments)}}()},bt=function(t){return function(){var e=i(u.a.mark(function e(n,r){var i,o,a,s,l,c,h,f,d,p,m;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.replace,o=void 0===i||i,a=t.maximizable,s=t.closable,l=k.default.addObliqueViewerWindow,c=j.default.addObliqueViewer,h=j.default.updateObliqueViewer,f=void 0,o&&(d=r(),p=d.windowmanager,m=p.layout[Z.b.OBLIQUES],f=m&&m.children.length>0&&m.children[0]),f?n(h(f,t)):(f=I()(),n(c(f,t)),n(l({id:f,parentIndex:1,replace:!1,maximizable:a,closable:s}))),e.abrupt("return",{wid:f,viewerType:it.OBLIQUE});case 7:case"end":return e.stop()}},e,tt)}));return function(t,n){return e.apply(this,arguments)}}()},wt=function(t,e){return function(){var n=i(u.a.mark(function n(r,i){var o,s,l,h,f,d,p,m,g,v,y,b,w,x,_;return u.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(o=i(),s=o.obliqueviewer,l=e.multiple,h=e.maximizable,f=e.closable,d=e.coords||t.footprintCentre.getCoordinates(),p=t.worldVectorToPixel(d[0],d[1],c()(d[2])?d[2]:t.avgFootprintHeight),m=e.viewRotation,g=a()(s.byId)[0],v=[],g&&g.recording&&g.recording.imageId===t.imageId){n.next=15;break}return n.t0=v,n.next=11,r(bt({recording:t,viewResolution:e.viewResolution,viewCenter:p,viewExtent:e.viewExtent,openNearestFromPixel:function(t,n,i,o,a){var s=Q({},e,{replace:!0,multiple:!1,viewExtent:null},a,{year:t.year}),u=s.viewHeading;s.direction=Object(N.d)(u);var l=t.pixelToWorldVector(n,i,o);r(xt(l,t.srs,Q({},s,{currentImageId:t.imageId}))).catch(function(t){throw r(Object(P.showFlashMessage)(t.message,{style:"danger"})),new Error(t.message)})},replace:!0,multiple:l,maximizable:h,closable:f}));case 11:n.t1=n.sent,n.t0.push.call(n.t0,n.t1),n.next=20;break;case 15:y=i(),b=y.windowmanager,w=b.layout[Z.b.OBLIQUES],x=w&&w.children.length>0&&w.children[0],x&&(_=j.default.updateObliqueViewer,r(_(x,{viewRotation:m,viewCenter:p,viewExtent:e.viewExtent}))),v.push({wid:x,viewerType:it.OBLIQUE});case 20:return n.abrupt("return",v);case 21:case"end":return n.stop()}},n,tt)}));return function(t,e){return n.apply(this,arguments)}}()},xt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Y.a,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(){var r=i(u.a.mark(function r(i,o){var a,s,l,c,h;return u.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(dt(o)){r.next=2;break}throw new Error(Object(L.b)(ft.obliqueNotAllowed));case 2:return a=Q({},n,{direction:n&&n.direction?n.direction:0}),s=A.a.proj.transform(t,e,Y.a),r.next=6,q.a.instance.requestNearestToCoordinate(s,Y.a,a);case 6:if(l=r.sent,c=[s[0]-lt,s[1]-lt,s[0]+lt,s[1]+lt],!l){r.next=17;break}if(h=l.footprint,h.intersectsCoordinate(s)){r.next=12;break}throw new Error(Object(L.b)(ft.couldNotFindRecording));case 12:return r.next=14,i(wt(l,Q({},a,{coords:s,viewExtent:c})));case 14:return r.abrupt("return",r.sent);case 17:throw new Error(Object(L.b)(ft.couldNotFindRecording));case 18:case"end":return r.stop()}},r,tt)}));return function(t,e){return r.apply(this,arguments)}}()},_t=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{direction:0,srs:Y.a};return function(){var n=i(u.a.mark(function n(r,i){var o,a,s,l;return u.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(dt(i)){n.next=2;break}throw new Error(Object(L.b)(ft.obliqueNotAllowed));case 2:return o=null,n.next=5,q.a.instance.requestById(t,Y.a,e);case 5:if(a=n.sent,!Array.isArray(a)||!a[0]){n.next=15;break}return s=a[0],l=s.footprintCentre.getCoordinates(),n.next=11,r(wt(s,e));case 11:o=n.sent,r(mt(l,Y.a)),n.next=16;break;case 15:throw new Error(Object(L.b)(ft.couldNotFindRecording));case 16:return n.abrupt("return",o);case 17:case"end":return n.stop()}},n,tt)}));return function(t,e){return n.apply(this,arguments)}}()},Et=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(){var o=i(u.a.mark(function i(o,a){var s,l,c,h,f,d,p;return u.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(s=a(),l=s.viewermanager,c=s.measurements,h=Q({},n.panorama),f=l.viewerMode===rt.MEASUREMENT,d=!f||f&&3===c.dimension,p=[],!d){i.next=14;break}return i.t0=p.push,i.t1=p,i.t2=r,i.next=11,o(vt(t,e,h));case 11:i.t3=i.sent,i.t4=(0,i.t2)(i.t3),i.t0.apply.call(i.t0,i.t1,i.t4);case 14:return o(mt(t,e,!0)),i.abrupt("return",p);case 16:case"end":return i.stop()}},i,tt)}));return function(t,e){return o.apply(this,arguments)}}()},Mt=function(t,e){return function(){var n=i(u.a.mark(function n(r,i){var o,a,s,l,c,h,f,d,p,m,g,v,y,b,w;return u.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(o=D.b.setMapExtent,a=i(),s=a.mapviewers,l=a.windowmanager,c=l.layout[Z.b.MAPS],h=c&&c.children.length>0&&c.children[0],f=void 0,h&&(f=s.byId[h],r(o(h,t,e))),d=null,!dt(i)){n.next=16;break}if(p=A.a.extent.getSize(t),m=J(p,2),g=m[0],v=m[1],!(et(g)&&et(v)&&g<=500&&v<=500)){n.next=16;break}return y=A.a.extent.getCenter(t),b=f&&f.rotation||0,w=A.a.proj.transformExtent(t,e,Y.a),n.next=15,r(xt(y,e,{direction:Object(N.f)(-1*Object(N.d)(b),0,360),viewRotation:b,viewExtent:w})).catch(function(t){throw r(Object(P.showFlashMessage)(t.message,{style:"danger"})),new Error(t.message)});case 15:d=n.sent;case 16:return n.abrupt("return",d);case 17:case"end":return n.stop()}},n,tt)}));return function(t,e){return n.apply(this,arguments)}}()},St=function(t,e){return"string"==typeof t&&t===e||Array.isArray(t)&&t.includes(e)},Tt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(){var n=i(u.a.mark(function n(i,o){var a,s,l,c,h,f,d,p,m,g,v;return u.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(a=e.viewerType,s=e.maximizable,l=void 0===s||s,c=e.closable,h=void 0===c||c,f={maximizable:l,closable:h},d=St(a,it.PANORAMA),p=St(a,it.OBLIQUE),d||p||(d=!0,p=!o().config.isApi),m=[],g=null,v=void 0,"string"!=typeof t){n.next=14;break}return n.next=11,i(z.default.getSearchResult(t,e));case 11:v=n.sent,n.next=15;break;case 14:"object"===(void 0===t?"undefined":$(t))&&(v=t);case 15:if(!v||!v.panoramaId){n.next=27;break}if(!d){n.next=25;break}return n.t0=m.push,n.t1=m,n.t2=r,n.next=22,i(yt(v.panoramaId,Q({openOblique:p},f)));case 22:n.t3=n.sent,n.t4=(0,n.t2)(n.t3),n.t0.apply.call(n.t0,n.t1,n.t4);case 25:n.next=57;break;case 27:if(!v||!v.obliqueId){n.next=39;break}if(!p){n.next=37;break}return n.t5=m.push,n.t6=m,n.t7=r,n.next=34,i(_t(v.obliqueId,f));case 34:n.t8=n.sent,n.t9=(0,n.t7)(n.t8),n.t5.apply.call(n.t5,n.t6,n.t9);case 37:n.next=57;break;case 39:if(!v||!v.coordinate){n.next=43;break}g=v.coordinate,n.next=57;break;case 43:if(!v||!v.extent){n.next=54;break}return n.t10=m.push,n.t11=m,n.t12=r,n.next=49,i(Mt(v.extent,v.srs,Q({openOblique:p},f)));case 49:n.t13=n.sent,n.t14=(0,n.t12)(n.t13),n.t10.apply.call(n.t10,n.t11,n.t14),n.next=57;break;case 54:return n.next=56,i(z.default.getSearchResult(t,e.srs));case 56:g=n.sent;case 57:if(!g){n.next=77;break}if(!d){n.next=69;break}return n.t15=m.push,n.t16=m,n.t17=r,n.next=64,i(Et(v.coordinate,v.srs,Q({},f,{panorama:Q({openOblique:p},f)})));case 64:n.t18=n.sent,n.t19=(0,n.t17)(n.t18),n.t15.apply.call(n.t15,n.t16,n.t19),n.next=77;break;case 69:return n.t20=m.push,n.t21=m,n.t22=r,n.next=74,i(xt(v.coordinate,v.srs,f));case 74:n.t23=n.sent,n.t24=(0,n.t22)(n.t23),n.t20.apply.call(n.t20,n.t21,n.t24);case 77:return n.abrupt("return",m);case 78:case"end":return n.stop()}},n,tt)}));return function(t,e){return n.apply(this,arguments)}}()},Ct=function(){return function(t,e){var n=e(),r=n.windowmanager,i=r.layout[Z.b.MAPS],o=i&&i.children.length>0&&i.children[0],a=k.default.addNode,s=k.default.moveNode,u=k.default.saveNode,l=k.default.removeNode,c=B.default.copyLayerVisibility,h=B.default.toggleOverlay;t(c(o+"_backup",o)),t(h(o,G.a.defaults.id,!1)),t(h(o,H.a.defaults.id,!1)),t(u(Z.b.VIEWERS)),t(a({id:Z.b.MEASUREMENT,parentId:Z.b.ROOT,type:Z.c.CONTAINER,direction:Z.a.COLUMN,childIndex:1})),t(a({id:I()(),parentId:Z.b.MEASUREMENT,childIndex:0,type:Z.c.MEASUREMENT_NAVBAR,weight:0})),t(s({id:Z.b.VIEWERS,parentId:Z.b.MEASUREMENT,childIndex:1})),t(l(Z.b.PANORAMAS)),t(l(Z.b.OBLIQUES))}},It=function(){return function(t,e){var n=e(),r=n.viewermanager,i=n.windowmanager,o=n.config;o.isApi;t(U.default.selectBestMeasureMethod());var a=i.layout[Z.b.MAPS],s=(a&&a.children.length>0&&a.children[0],r.currentPanoramaWID),u=k.default.addNode,l=k.default.moveNode,c=k.default.removeNode;t((0,k.default.saveNode)(Z.b.VIEWERS)),t(u({id:Z.b.MEASUREMENT,parentId:Z.b.ROOT,type:Z.c.CONTAINER,direction:Z.a.COLUMN,childIndex:1})),t(u({id:I()(),parentId:Z.b.MEASUREMENT,childIndex:0,type:Z.c.MEASUREMENT_NAVBAR,weight:0})),t(l({id:Z.b.VIEWERS,parentId:Z.b.MEASUREMENT,childIndex:1}));var h=Object(X.b)(Z.b.PANORAMAS,i.layout),f=!0,d=!1,p=void 0;try{for(var m,g=y()(h);!(f=(m=g.next()).done);f=!0){var v=m.value;v!==s&&t(c(v))}}catch(t){d=!0,p=t}finally{try{!f&&g.return&&g.return()}finally{if(d)throw p}}t(c(Z.b.OBLIQUES))}},Ot=function(){return function(t,e){var n=e(),r=n.viewermanager,i=n.measurements;r.viewerMode!==rt.MEASUREMENT&&(t(2===i.dimension?Ct():It()),t(ct(rt.MEASUREMENT)))}},At=function(){return function(t,e){var n=e(),r=n.viewermanager,i=n.measurements,o=n.windowmanager,a=B.default.toggleOverlay,s=B.default.restoreCopiedLayerVisibility,u=B.default.removeLayerStore,l=o.layout[Z.b.MAPS],c=l&&l.children.length>0&&l.children[0];if(r.viewerMode===rt.MEASUREMENT){2===i.dimension&&(t(a(c,G.a.defaults.id,!0)),t(a(c,H.a.defaults.id,!0)),t(s(c,c+"_backup")),t(u(c+"_backup")));var h=k.default.removeNode,f=k.default.popNode;t(h(Z.b.MEASUREMENT)),t(f(Z.b.VIEWERS,Z.b.ROOT)),t(ct(rt.VIEWER))}}},Lt=function(t){return function(e,n){var r=n(),i=r.viewermanager;if(i.helpVisible!==t){i.reportBlurringVisible&&e(Rt(!1));var o=void 0!==t?!!t:!i.helpVisible;e(o?k.default.addNode({id:Z.b.HELP,type:Z.c.HELP,weight:30,parentId:Z.b.ROOT,childIndex:1}):k.default.removeNode(Z.b.HELP)),e(Object(S.createAction)(st,function(){return o})())}}},Rt=function(t){return function(e,n){var r=n(),i=r.viewermanager;if(i.reportBlurringVisible!==t){i.helpVisible&&e(Lt(!1));var o=void 0!==t?!!t:!i.reportBlurringVisible;e(o?k.default.addNode({id:Z.b.REPORT_BLURRING,type:Z.c.REPORT_BLURRING,weight:30,parentId:Z.b.ROOT,childIndex:1}):k.default.removeNode(Z.b.REPORT_BLURRING)),e(Object(S.createAction)(ut,function(){return o})())}}};e.default={centerMap:mt,centerMapForRecording:gt,openPanoramaViewerByRecording:pt,openPanoramaViewerByCoordinate:vt,openPanoramaViewerByImageId:yt,openObliqueViewerByRecording:wt,openObliqueViewerByCoordinate:xt,openObliqueViewerByImageId:_t,openViewerByCoordinate:Et,openViewerByExtent:Mt,openViewer:Tt,enableMeasurementMode:Ot,_enable2dMeasurementMode:Ct,_enable3dMeasurementMode:It,disableMeasurementMode:At,setCurrentPanoramaWid:ht,toggleHelp:Lt,toggleReportBlurring:Rt};var Nt={SET_VIEWER_MODE:ot,SET_CURRENT_PANORAMA_WID:at,TOGGLE_HELP:st,TOGGLE_REPORT_BLURRING:ut}},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){var r=n(314)("wks"),i=n(236),o=n(55).Symbol,a="function"==typeof o;(t.exports=function(t){return r[t]||(r[t]=a&&o[t]||(a?o:i)("Symbol."+t))}).store=r},function(t,e,n){t.exports={default:n(985),__esModule:!0}},function(t,e,n){t.exports={default:n(892),__esModule:!0}},function(t,e,n){t.exports={default:n(1011),__esModule:!0}},function(t,e,n){"use strict";function r(t,e,n){var r=0;return f.default.Children.map(t,function(t){return f.default.isValidElement(t)?e.call(n,t,r++):t})}function i(t,e,n){var r=0;f.default.Children.forEach(t,function(t){f.default.isValidElement(t)&&e.call(n,t,r++)})}function o(t){var e=0;return f.default.Children.forEach(t,function(t){f.default.isValidElement(t)&&++e}),e}function a(t,e,n){var r=0,i=[];return f.default.Children.forEach(t,function(t){f.default.isValidElement(t)&&e.call(n,t,r++)&&i.push(t)}),i}function s(t,e,n){var r=0,i=void 0;return f.default.Children.forEach(t,function(t){i||f.default.isValidElement(t)&&e.call(n,t,r++)&&(i=t)}),i}function u(t,e,n){var r=0,i=!0;return f.default.Children.forEach(t,function(t){i&&f.default.isValidElement(t)&&(e.call(n,t,r++)||(i=!1))}),i}function l(t,e,n){var r=0,i=!1;return f.default.Children.forEach(t,function(t){i||f.default.isValidElement(t)&&e.call(n,t,r++)&&(i=!0)}),i}function c(t){var e=[];return f.default.Children.forEach(t,function(t){f.default.isValidElement(t)&&e.push(t)}),e}e.__esModule=!0;var h=n(0),f=function(t){return t&&t.__esModule?t:{default:t}}(h);e.default={map:r,forEach:i,count:o,find:s,filter:a,every:u,some:l,toArray:c},t.exports=e.default},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(41),i=n(123);t.exports=n(40)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(21),i=n(62),o=n(61),a=n(124)("src"),s=Function.toString,u=(""+s).split("toString");n(85).inspectSource=function(t){return s.call(t)},(t.exports=function(t,e,n,s){var l="function"==typeof n;l&&(o(n,"name")||i(n,"name",e)),t[e]!==n&&(l&&(o(n,a)||i(n,a,t[e]?""+t[e]:u.join(String(e)))),t===r?t[e]=n:s?t[e]?t[e]=n:i(t,e,n):(delete t[e],i(t,e,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[a]||s.call(this)})},function(t,e,n){var r=n(176),i=n(87);t.exports=function(t){return r(i(t))}},function(t,e,n){var r=n(2),i=n(25),o=n(87),a=/"/g,s=function(t,e,n,r){var i=String(o(t)),s="<"+e;return""!==n&&(s+=" "+n+'="'+String(r).replace(a,"&quot;")+'"'),s+">"+i+"</"+e+">"};t.exports=function(t,e){var n={};n[t]=e(s),r(r.P+r.F*i(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}),"String",n)}},function(t,e,n){t.exports={default:n(899),__esModule:!0}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"INIT_CLIENT",function(){return h}),n.d(e,"SET_SERVICE_URL",function(){return f}),n.d(e,"DESTROY_CLIENT",function(){return d}),n.d(e,"LOG",function(){return p}),n.d(e,"ActionTypes",function(){return m}),n.d(e,"EventTypes",function(){return g}),n.d(e,"initClient",function(){return v}),n.d(e,"destroyClient",function(){return y}),n.d(e,"setServiceUrl",function(){return b}),n.d(e,"log",function(){return w}),n.d(e,"logLogIn",function(){return x}),n.d(e,"logLogOut",function(){return _}),n.d(e,"logClickControl",function(){return E}),n.d(e,"logOpenViewer",function(){return M}),n.d(e,"logCloseViewer",function(){return S}),n.d(e,"logZoomMap",function(){return T}),n.d(e,"logSelectBaseLayer",function(){return C}),n.d(e,"logToggleOverlay",function(){return I}),n.d(e,"logToggleControl",function(){return O}),n.d(e,"logOpenPanorama",function(){return A}),n.d(e,"logCopyLink",function(){return L}),n.d(e,"logSaveImage",function(){return R}),n.d(e,"logSetValue",function(){return N}),n.d(e,"logSearch",function(){return P});var r=n(4),i=n.n(r),o=n(18),a=(n.n(o),n(15)),s=(n.n(a),n(546)),u=n(82),l=i.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=Object(a.defineMessages)({clientNotInitialized:{id:"Logging.clientNotInitialized",defaultMessage:"Client not initialized"}}),h="@@logging/INIT_CLIENT",f="@@logging/SET_SERVICE_URL",d="@@logging/DESTROY_CLIENT",p="@@logging/LOG",m={INIT_CLIENT:h,DESTROY_CLIENT:d,SET_SERVICE_URL:f,LOG:p},g={LOG_IN:"log_in",LOG_OUT:"log_out",CLICK_CONTROL:"click_control",OPEN_VIEWER:"open_viewer",CLOSE_VIEWER:"close_viewer",ZOOM_MAP:"zoom_map",SELECT_BASE_LAYER:"select_base_layer",TOGGLE_OVERLAY:"toggle_overlay",TOGGLE_CONTROL:"toggle_control",OPEN_PANORAMA:"open_panorama",COPY_LINK:"copy_link",SAVE_IMAGE:"save_image",SET_VALUE:"set_value",SEARCH:"search"},v=Object(o.createAction)(h),y=Object(o.createAction)(d),b=function(t){return function(e,n){var r=n().logging.client;e(Object(o.createAction)(f,function(){return r?(r.serviceUrl=t,null):new Error(Object(u.b)(c.clientNotInitialized))})())}},w=function(t){return function(e,n){var r=n().logging.client;e(Object(o.createAction)(p,function(){return r?(r.log(new s.b(t)),null):new Error(Object(u.b)(c.clientNotInitialized))})())}},x=function(t,e){return w(l({eventType:g.LOG_IN,detail:{username:t}},e))},_=function(t,e){return w(l({eventType:g.LOG_OUT,detail:{username:t}},e))},E=function(t,e){return w(l({eventType:g.CLICK_CONTROL,detail:{control:t}},e))},M=function(t,e){return w(l({eventType:g.OPEN_VIEWER,detail:{viewerType:t}},e))},S=function(t,e){return w(l({eventType:g.CLOSE_VIEWER,detail:{viewerType:t}},e))},T=function(t,e){return w(l({eventType:g.ZOOM_MAP,detail:{resolution:t}},e))},C=function(t,e,n){return w(l({eventType:g.SELECT_BASE_LAYER,detail:{layerId:t,name:e}},n))},I=function(t,e,n,r){return w(l({eventType:g.TOGGLE_OVERLAY,detail:{layerId:t,name:e,visible:n}},r))},O=function(t,e,n){return w(l({eventType:g.TOGGLE_CONTROL,detail:{control:t,visible:e}},n))},A=function(t,e){return w(l({eventType:g.OPEN_PANORAMA,detail:{id:t}},e))},L=function(t,e){return w(l({eventType:g.COPY_LINK,detail:{link:t}},e))},R=function(t,e){return w(l({eventType:g.SAVE_IMAGE,detail:{type:t}},e))},N=function(t,e,n){return w(l({eventType:g.SET_VALUE,detail:{key:t,value:e}},n))},P=function(t,e,n){return w(l({eventType:g.SEARCH,detail:{source:t,fromHistory:e}},n))};e.default={initClient:v,destroyClient:y,setServiceUrl:b,log:w,logLogIn:x,logLogOut:_,logClickControl:E,logOpenViewer:M,logCloseViewer:S,logZoomMap:T,logSelectBaseLayer:C,logToggleOverlay:I,logToggleControl:O,logOpenPanorama:A,logCopyLink:L,logSaveImage:R,logSetValue:N,logSearch:P}},function(t,e,n){var r=n(177),i=n(123),o=n(64),a=n(86),s=n(61),u=n(388),l=Object.getOwnPropertyDescriptor;e.f=n(40)?l:function(t,e){if(t=o(t),e=a(e,!0),u)try{return l(t,e)}catch(t){}if(s(t,e))return i(!r.f.call(t,e),t[e])}},function(t,e,n){var r=n(61),i=n(45),o=n(277)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,n){var r=n(848);r.defaultDatum="WGS84",r.Proj=n(302),r.WGS84=new r.Proj("WGS84"),r.Point=n(862),r.toPoint=n(427),r.defs=n(423),r.transform=n(426),r.mgrs=n(428),r.version=n(863).version,n(864)(r),t.exports=r},function(t,e,n){t.exports={default:n(969),__esModule:!0}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}n.d(e,"SHOW_FLASH_MESSAGE",function(){return u}),n.d(e,"HIDE_FLASH_MESSAGE",function(){return l}),n.d(e,"hideFlashMessage",function(){return c}),n.d(e,"showFlashMessage",function(){return h}),n.d(e,"ActionTypes",function(){return f});var i=n(4),o=n.n(i),a=n(18),s=(n.n(a),o.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}),u="@@flash/SHOW_FLASH_MESSAGE",l="@@flash/HIDE_FLASH_MESSAGE",c=Object(a.createAction)(l),h=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.delay,o=void 0===i?5e3:i,l=n.dismiss,h=n.onDismiss,f=r(n,["delay","dismiss","onDismiss"]);return function(n,r){var i=void 0,d=function(){clearTimeout(i),n(c()),h&&h()};i=t.setTimeout(d,o),n(Object(a.createAction)(u,function(){return s({content:e,onDismiss:l?d:void 0},f)})())}},f={SHOW_FLASH_MESSAGE:u,HIDE_FLASH_MESSAGE:l};e.default={showFlashMessage:h,hideFlashMessage:c}}.call(e,n(34))},function(t,e,n){"use strict";function r(t){return function(){var e=t.apply(this,arguments);return new l.a(function(t,n){function r(i,o){try{var a=e[i](o),s=a.value}catch(t){return void n(t)}if(!a.done)return l.a.resolve(s).then(function(t){r("next",t)},function(t){r("throw",t)});t(s)}return r("next")})}}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"MeasureMethod",function(){return $}),n.d(e,"SHOW_TYPE_SELECTION_MODAL",function(){return Q}),n.d(e,"HIDE_TYPE_SELECTION_MODAL",function(){return J}),n.d(e,"SET_MEASUREMENT_CHANGED",function(){return tt}),n.d(e,"SET_MEASURE_METHOD",function(){return et}),n.d(e,"SELECT_BEST_MEASURE_METHOD",function(){return nt}),n.d(e,"ADD_MEASUREMENT",function(){return rt}),n.d(e,"REMOVE_MEASUREMENT_ITEM",function(){return it}),n.d(e,"INCREASE_PENDING_MEASUREMENTS_COUNT",function(){return ot}),n.d(e,"DECREASE_PENDING_MEASUREMENTS_COUNT",function(){return at}),n.d(e,"MEASURE_POINT",function(){return st}),n.d(e,"ADD_MEASUREMENT_POINT",function(){return ut}),n.d(e,"REMOVE_MEASUREMENT_POINT",function(){return lt}),n.d(e,"SET_MEASUREMENT_DIMENSION",function(){return ct}),n.d(e,"SET_ACTIVE_MEASUREMENT_ID",function(){return ht}),n.d(e,"SAVE_MEASUREMENT",function(){return ft}),n.d(e,"SET_INSERT_POINT_INDEX",function(){return dt}),n.d(e,"showTypeSelectionModal",function(){return pt}),n.d(e,"hideTypeSelectionModal",function(){return mt}),n.d(e,"setMeasurementChanged",function(){return gt}),n.d(e,"setMeasureMethod",function(){return vt}),n.d(e,"selectBestMeasureMethod",function(){return yt}),n.d(e,"addMeasurementPoint",function(){return xt}),n.d(e,"setMeasurementDimension",function(){return _t}),n.d(e,"MEASUREMENT_INDEX",function(){return Et}),n.d(e,"MEASUREMENT_GROUP",function(){return Mt}),n.d(e,"addMeasurement",function(){return St}),n.d(e,"removeMeasurement",function(){return Tt}),n.d(e,"setInsertPointIndex",function(){return Ct}),n.d(e,"addPoint",function(){return It}),n.d(e,"removeMeasurementPoint",function(){return Ot}),n.d(e,"readMeasurements",function(){return Nt}),n.d(e,"getActiveMeasurement",function(){return Pt}),n.d(e,"saveMeasurement",function(){return kt}),n.d(e,"readMeasurementById",function(){return Dt}),n.d(e,"measurePoint",function(){return Ft}),n.d(e,"initSmartClickClient",function(){return jt}),n.d(e,"getMeasurementsWithGeoJSON",function(){return Ut}),n.d(e,"exportMeasurementsToCSV",function(){return Bt}),n.d(e,"exportMeasurementsToShapes",function(){return zt}),n.d(e,"ActionTypes",function(){return Vt});var i=n(24),o=n.n(i),a=n(103),s=n.n(a),u=n(23),l=n.n(u),c=n(19),h=n.n(c),f=n(16),d=n.n(f),p=n(4),m=n.n(p),g=n(58),v=n.n(g),y=n(66),b=n.n(y),w=n(1281),x=(n.n(w),n(1282)),_=(n.n(x),n(1283)),E=n.n(_),M=n(32),S=n.n(M),T=n(105),C=n.n(T),I=n(70),O=n.n(I),A=n(15),L=(n.n(A),n(18)),R=(n.n(L),n(1317)),N=n(72),P=n(468),k=n(141),D=n(207),F=n(159),j=n(564),U=n(1325),B=n(82),z=n(53),V=n(74),G=n(27),H="function"==typeof b.a&&"symbol"==typeof v.a?function(t){return typeof t}:function(t){return t&&"function"==typeof b.a&&t.constructor===b.a&&t!==b.a.prototype?"symbol":typeof t},q=m.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},W=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=d()(t);!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(h()(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Y=this,X=Object(A.defineMessages)({pointFailed:{id:"measurements.pointFailed",description:"Message to show to user in flash message when adding a point fails",defaultMessage:"Failed to add measurement point! Reason:\n{reason}"},measurementSaved:{id:"measurements.measurementSaved",description:"Message to show to user click to save the measurement",defaultMessage:"Measurement saved!"},insertFirstPoint:{id:"measurements.insertFirstPoint",description:"insert first point for measurement",defaultMessage:"Insert point 1"},insertPointBetween:{id:"measurements.insertPointBetween",description:"insert point between two other points",defaultMessage:"Insert point between"},and:{id:"measurements.and",description:"just `and`",defaultMessage:"and"}}),Z=void 0,K=l.a.resolve(),$={DEPTH_MAP:"DepthMap",SMART_CLICK:"SmartClick",AUTO_FOCUS:"AutoFocus",FORWARD_INTERSECTION:"ForwardIntersection"},Q="@@measurements/SHOW_TYPE_SELECTION_MODAL",J="@@measurements/HIDE_TYPE_SELECTION_MODAL",tt="@@measurements/SET_MEASUREMENT_CHANGED",et="@@measurements/SET_MEASURE_METHOD",nt="@@measurements/SELECT_BEST_MEASURE_METHOD",rt="@@measurements/ADD_MEASUREMENT",it="@@measurements/REMOVE_MEASUREMENT_ITEM",ot="@@measurements/INCREASE_PENDING_MEASUREMENTS_COUNT",at="@@measurements/DECREASE_PENDING_MEASUREMENTS_COUNT",st="@@measurements/MEASURE_POINT",ut="@@measurements/ADD_MEASUREMENT_POINT",lt="@@measurements/REMOVE_MEASUREMENT_POINT",ct="@@measurements/SET_MEASUREMENT_DIMENSION",ht="@@measurements/SET_ACTIVE_MEASUREMENT_ID",ft="@@measurements/SAVE_MEASUREMENT",dt="@@measurements/SET_INSERT_POINT_INDEX",pt=Object(L.createAction)(Q),mt=Object(L.createAction)(J),gt=Object(L.createAction)(tt),vt=Object(L.createAction)(et,function(t){return t}),yt=Object(L.createAction)(nt),bt=Object(L.createAction)(ot),wt=Object(L.createAction)(at),xt=Object(L.createAction)(ut,function(t){return t}),_t=Object(L.createAction)(ct,function(t){return t}),Et="index",Mt="measurement",St=function(t,e){return function(n,r){var i=r(),o=(i.measurements,i.srs);i.windowmanager,i.mapviewers;K=l.a.resolve();var a=o.userSrs;n(Object(L.createAction)(rt,function(){return{measurementId:C()(),activeMeasurement:e,type:t,preciseCRS:a}})())}},Tt=function(t){return function(e,n){e(Object(L.createAction)(it)(t));var r=n().measurements.measurementList;e(G.default.removeProfileConfig(t,Mt)),e(G.default.setProfileConfig(Et,s()(r),Mt))}},Ct=function(t){return function(e){e(Object(L.createAction)(dt)(t)),e(0===t?N.default.showFlashMessage(Object(B.b)(X.insertFirstPoint),{style:"success"}):N.default.showFlashMessage(Object(B.b)(X.insertPointBetween)+" "+t+" "+Object(B.b)(X.and)+" "+(t+1),{style:"success"}))}},It=function(t,e,n){return function(r,i){var o=i(),a=o.measurements.activeMeasurement.properties.preciseCRS,s=O()(e,a,t);r(Object(L.createAction)(ut,function(){return{coord:s,props:n}})()),r(gt(!0))}},Ot=function(t){return function(e){e(Object(L.createAction)(lt)(t)),e(gt(!0))}},At=function(t){return function(e,n){var r=n(),i=r.measurements.measurementId;t.catch(function(){}),K=K.then(function(){return t}).then(function(t){var r=t.coords,o=t.props,a=t.srsName;if(i===n().measurements.measurementId)return e(wt()),e(It(r,a,o))}).catch(function(t){var r=i===n().measurements.measurementId;if(r&&e(wt()),t){if(r){var o=void 0;o=t instanceof U.c?t.name+": "+t.message+" ("+t.type+")":t instanceof Error?t.name+": "+t.message:t,e(N.default.showFlashMessage(Object(B.b)(X.pointFailed,{reason:o}),{style:"danger"}))}K.catch(function(){return S.a.debug("Final Point Fail Catch")}),K=l.a.resolve()}return l.a.reject()})}},Lt=function(){var t=r(o.a.mark(function t(e,n,r){var i,a;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=void 0,t.prev=1,i=r.getSmartMeasurePointDetails(n),t.next=8;break;case 5:throw t.prev=5,t.t0=t.catch(1),new U.a(U.a.REQUEST_ERROR,"Error while performing Measure Smart request: "+t.t0,{error:t.t0});case 8:if(i){t.next=10;break}throw new U.a(U.a.NO_RESULT);case 10:return a={measureDetails:{measureMethod:$.DEPTH_MAP,details:i}},t.abrupt("return",{coords:i.position,props:a});case 12:case"end":return t.stop()}},t,Y,[[1,5]])}));return function(e,n,r){return t.apply(this,arguments)}}(),Rt=function(){var t=r(o.a.mark(function t(e,n){var r,i,a,s,u,l,c,h,f,d,p,m,g,v;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.imageId,i=n.srsname,a=W(n.direction,3),s=a[0],u=a[1],l=a[2],c=void 0,t.prev=2,t.next=5,Z.requestTriangulation(r,i,s,u,l);case 5:c=t.sent,t.next=11;break;case 8:throw t.prev=8,t.t0=t.catch(2),new U.b(U.b.REQUEST_ERROR,"Error while performing smart click request: "+t.t0,{error:t.t0});case 11:if(h=c.ScmResult,!(h.Confidence<0)){t.next=15;break}throw f=h.Message,new U.b(U.b.NO_RESULT,"Error while performing smart click request: "+f,{error:f});case 15:if(d=[h.PositionX,h.PositionY,h.PositionZ],p=h.ResultDirections.ResultDirection.map(function(t){var e=new D.a([t.PositionX,t.PositionY,t.PositionZ],[t.StdX,t.StdY,t.StdZ],[Object(F.b)(t.Orientation),0,0],[Object(F.b)(t.StdOrientation),0,0]);return new D.b(t.Id,e,t.GroundLevelOffset,[t.DirectionX,t.DirectionY,t.DirectionZ])}),m=Object(j.a)(d,p),m.success){t.next=20;break}return t.abrupt("return",null);case 20:return g=m.value,v={measureDetails:{measureMethod:$.SMART_CLICK,details:h}},t.abrupt("return",{coords:g,props:v});case 23:case"end":return t.stop()}},t,Y,[[2,8]])}));return function(e,n){return t.apply(this,arguments)}}(),Nt=function(t){return function(e){e(G.default.loadUserProfile(t,Mt,Et))}},Pt=function(){return function(t,e){return e().measurements.activeMeasurement}},kt=function(){return function(t,e){t(Object(L.createAction)(ft,function(){return{}})());var n=e().measurements,r=n.activeMeasurement,i=n.measurementList,o={type:r.type,geometry:r.geometry,properties:{customGeometryType:r.properties.customGeometryType,derivedData:r.properties.derivedData,dimension:r.properties.dimension,group:r.properties.group,id:r.properties.id,measureDetails:r.properties.measureDetails,measureReliability:r.properties.measureReliability,preciseCRS:r.properties.preciseCRS,preciseGeometry:r.properties.preciseGeometry,validGeometry:r.properties.validGeometry}};t(G.default.setProfileConfig(r.properties.id,s()(o),Mt)),t(G.default.setProfileConfig(Et,s()(i),Mt)),t(N.default.showFlashMessage(Object(B.b)(X.measurementSaved),{style:"success"})),t(gt(!1))}},Dt=function(t){return function(){var e=r(o.a.mark(function e(n,r){var i;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n(Object(L.createAction)(ht,function(){return t})()),i=r().config.configId,e.next=4,n(G.default.loadUserProfile(i,Mt,t));case 4:case"end":return e.stop()}},e,Y)}));return function(t,n){return e.apply(this,arguments)}}()},Ft=function(t,e){return function(n,r){var i=r().measurements.measureMethod,o=void 0;switch(i){case $.DEPTH_MAP:if(!e)throw new U.a(U.a.CLIENT_NOT_INITIALIZED);n(bt()),o=Lt(n,t,e);break;case $.SMART_CLICK:if(!Z)throw new U.b(U.b.CLIENT_NOT_INITIALIZED);if(n(bt()),!(o=Rt(n,t)))throw new U.b(U.b.NO_RELIABLE_RESULT);break;default:throw new U.c(U.c.NO_METHOD_AVAILABLE)}o=o.then(function(e){return q({},e,{srsName:t.srsname})}),n(At(o))}},jt=function(){return function(t,e){if(!Z){var n=e().config,r=n.config;r.application.functionalities.includes(k.a.MeasureSmartClick)||S.a.warn("No Smart Click permissions");var i=n.apiKey,o=Object(z.b)(),a=r.services.smartClick.onlineResource,s={dataUri:a,withCredentials:!0,apiKey:i,authHeaders:o};Z=new P.b(s)}}},Ut=function(){return function(){var t=r(o.a.mark(function t(e,n){var r,i,a,s;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n(),i=r.config.configId,t.next=3,e(G.default.loadUserProfile(i,Mt));case 3:return a=n(),s=a.measurements.measurementCollection,t.abrupt("return",s.features.map(function(t){return{type:"Feature",geometry:t.properties.preciseGeometry,properties:{name:t.properties.id,measurementReliability:t.properties.measureReliability,dimension:t.properties.dimension,preciseCRS:t.properties.preciseCRS,unit:t.properties.derivedData.unit,segmentLengths:t.properties.derivedData.segmentLengths?t.properties.derivedData.segmentLengths.value:null,totalLength:t.properties.derivedData.totalLength?t.properties.derivedData.totalLength.value:null,area:t.properties.derivedData.area?t.properties.derivedData.area.value:null}}}));case 5:case"end":return t.stop()}},t,Y)}));return function(e,n){return t.apply(this,arguments)}}()},Bt=function(){return function(){var t=r(o.a.mark(function t(e){var n,r,i,a;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=function t(e){return"object"===H(e[0][0])?e.reduce(function(e,n){return e.concat(t(n))},[]):e},t.next=3,e(Ut());case 3:r=t.sent,i=Object(x.csvFormatRows)([["Name","Type","Reliability","SRS","Coordinates","Unit","Segment lengths","Total length","Area"]].concat(r.map(function(t){return[t.properties.name,t.geometry.type,t.properties.measurementReliability,t.properties.preciseCRS,n(t.geometry.coordinates).join(" "),t.properties.unit,t.properties.segmentLengths,t.properties.totalLength,t.properties.area]}))),a=new Blob([i],{type:"text/plain;charset=utf-8"}),Object(w.saveAs)(a,"measurements.csv");case 7:case"end":return t.stop()}},t,Y)}));return function(e){return t.apply(this,arguments)}}()},zt=function(){return function(){var t=r(o.a.mark(function t(e,n){var r,i,a,s,u,l,c;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n(),i=r.srs.userSrs,a=i.split(":")[1],s=new Request(Object(V.a)("./assets/prj/"+a+".prj"),{method:"GET"}),t.next=5,fetch(s);case 5:return u=t.sent,t.next=8,u.text();case 8:return l=t.sent,t.next=11,e(Ut());case 11:c=t.sent,c.forEach(function(t){var e={prj:l,types:{}},n=E.a.zip({type:"FeatureCollection",features:[t]},e),r=Object(R.a)(n,"application/zip");t.properties.preciseCRS===i&&Object(w.saveAs)(r,t.properties.name+".zip")});case 13:case"end":return t.stop()}},t,Y)}));return function(e,n){return t.apply(this,arguments)}}()};e.default={addPoint:It,showTypeSelectionModal:pt,hideTypeSelectionModal:mt,setMeasurementChanged:gt,setMeasureMethod:vt,selectBestMeasureMethod:yt,addMeasurementPoint:xt,removeMeasurementPoint:Ot,addMeasurement:St,removeMeasurement:Tt,measurePoint:Ft,initSmartClickClient:jt,setMeasurementDimension:_t,saveMeasurement:kt,readMeasurements:Nt,readMeasurementById:Dt,exportMeasurementsToShapes:zt,setInsertPointIndex:Ct,exportMeasurementsToCSV:Bt,getActiveMeasurement:Pt};var Vt={SHOW_TYPE_SELECTION_MODAL:Q,HIDE_TYPE_SELECTION_MODAL:J,SET_MEASUREMENT_CHANGED:tt,SET_MEASURE_METHOD:et,SELECT_BEST_MEASURE_METHOD:nt,ADD_MEASUREMENT:rt,REMOVE_MEASUREMENT_ITEM:it,INCREASE_PENDING_MEASUREMENTS_COUNT:ot,DECREASE_PENDING_MEASUREMENTS_COUNT:at,MEASURE_POINT:st,ADD_MEASUREMENT_POINT:ut,REMOVE_MEASUREMENT_POINT:lt,SET_MEASUREMENT_DIMENSION:ct,SAVE_MEASUREMENT:ft,SET_ACTIVE_MEASUREMENT_ID:ht,SET_INSERT_POINT_INDEX:dt}},function(t,e,n){"use strict";function r(t){return o.a.resolve(a,"./"+t)}e.a=r;var i=n(1326),o=n.n(i),a="https://streetsmart.cyclomedia.com/api/v17.2/"},function(t,e,n){var r=n(50);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){"use strict";var r=n(25);t.exports=function(t,e){return!!t&&r(function(){e?t.call(null,function(){},1):t.call(null)})}},function(t,e,n){var r=n(101),i=n(431),o=n(311),a=Object.defineProperty;e.f=n(79)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){t.exports=!n(133)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){t.exports={default:n(919),__esModule:!0}},function(t,e,n){"use strict";var r=function(t,e,n,r,i,o,a,s){if(!t){var u;if(void 0===e)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,o,a,s],c=0;u=new Error(e.replace(/%s/g,function(){return l[c++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}};t.exports=r},function(t,e,n){"use strict";function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=p()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(f.a?f()(t,e):t.__proto__=e)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(){return b.instance&&b.instance.context?b.instance.context.intl:void 0}function s(){for(var t=a(),e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return t?t.formatMessage.apply(t,n):n[0].defaultMessage||n[0].id}function u(){var t=a();return t?t.formatNumber.apply(t,arguments):arguments.length<=0?void 0:arguments[0]}e.b=s,e.c=u;var l=n(10),c=n.n(l),h=n(9),f=n.n(h),d=n(5),p=n.n(d),m=n(1),g=n.n(m),v=n(30),y=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),g()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),b=function t(){o(this,t)};b.instance=null;var w=function(t){function e(){return o(this,e),r(this,(e.__proto__||c()(e)).apply(this,arguments))}return i(e,t),y(e,[{key:"componentWillMount",value:function(){b.instance=this}},{key:"render",value:function(){return!1}}]),e}(v.a);e.a=w},function(t,e,n){"use strict";var r=function(){};t.exports=r},function(t,e,n){"use strict";function r(t){return t}function i(t,e){for(var n=0;n<t.length;++n)e[n]=255&t.charCodeAt(n);return e}function o(t){var n=65536,r=[],i=t.length,o=e.getTypeOf(t),a=0,s=!0;try{switch(o){case"uint8array":String.fromCharCode.apply(null,new Uint8Array(0));break;case"nodebuffer":String.fromCharCode.apply(null,l(0))}}catch(t){s=!1}if(!s){for(var u="",c=0;c<t.length;c++)u+=String.fromCharCode(t[c]);return u}for(;a<i&&n>1;)try{"array"===o||"nodebuffer"===o?r.push(String.fromCharCode.apply(null,t.slice(a,Math.min(a+n,i)))):r.push(String.fromCharCode.apply(null,t.subarray(a,Math.min(a+n,i)))),a+=n}catch(t){n=Math.floor(n/2)}return r.join("")}function a(t,e){for(var n=0;n<t.length;n++)e[n]=t[n];return e}var s=n(175),u=n(384),l=n(386);e.string2binary=function(t){for(var e="",n=0;n<t.length;n++)e+=String.fromCharCode(255&t.charCodeAt(n));return e},e.arrayBuffer2Blob=function(t,n){e.checkSupport("blob"),n=n||"application/zip";try{return new Blob([t],{type:n})}catch(e){try{var r=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,i=new r;return i.append(t),i.getBlob(n)}catch(t){throw new Error("Bug : can't construct the Blob.")}}},e.applyFromCharCode=o;var c={};c.string={string:r,array:function(t){return i(t,new Array(t.length))},arraybuffer:function(t){return c.string.uint8array(t).buffer},uint8array:function(t){return i(t,new Uint8Array(t.length))},nodebuffer:function(t){return i(t,l(t.length))}},c.array={string:o,array:r,arraybuffer:function(t){return new Uint8Array(t).buffer},uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return l(t)}},c.arraybuffer={string:function(t){return o(new Uint8Array(t))},array:function(t){return a(new Uint8Array(t),new Array(t.byteLength))},arraybuffer:r,uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return l(new Uint8Array(t))}},c.uint8array={string:o,array:function(t){return a(t,new Array(t.length))},arraybuffer:function(t){return t.buffer},uint8array:r,nodebuffer:function(t){return l(t)}},c.nodebuffer={string:o,array:function(t){return a(t,new Array(t.length))},arraybuffer:function(t){return c.nodebuffer.uint8array(t).buffer},uint8array:function(t){return a(t,new Uint8Array(t.length))},nodebuffer:r},e.transformTo=function(t,n){if(n||(n=""),!t)return n;e.checkSupport(t);var r=e.getTypeOf(n);return c[r][t](n)},e.getTypeOf=function(t){return"string"==typeof t?"string":"[object Array]"===Object.prototype.toString.call(t)?"array":s.nodebuffer&&l.test(t)?"nodebuffer":s.uint8array&&t instanceof Uint8Array?"uint8array":s.arraybuffer&&t instanceof ArrayBuffer?"arraybuffer":void 0},e.checkSupport=function(t){if(!s[t.toLowerCase()])throw new Error(t+" is not supported by this browser")},e.MAX_VALUE_16BITS=65535,e.MAX_VALUE_32BITS=-1,e.pretty=function(t){var e,n,r="";for(n=0;n<(t||"").length;n++)e=t.charCodeAt(n),r+="\\x"+(e<16?"0":"")+e.toString(16).toUpperCase();return r},e.findCompression=function(t){for(var e in u)if(u.hasOwnProperty(e)&&u[e].magic===t)return u[e];return null},e.isRegExp=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},e.extend=function(){var t,e,n={};for(t=0;t<arguments.length;t++)for(e in arguments[t])arguments[t].hasOwnProperty(e)&&void 0===n[e]&&(n[e]=arguments[t][e]);return n}},function(t,e){var n=t.exports={version:"2.5.0"};"number"==typeof __e&&(__e=n)},function(t,e,n){var r=n(28);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(2),i=n(85),o=n(25);t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],a={};a[t]=e(n),r(r.S+r.F*o(function(){n(1)}),"Object",a)}},function(t,e,n){var r=n(75),i=n(176),o=n(45),a=n(42),s=n(294);t.exports=function(t,e){var n=1==t,u=2==t,l=3==t,c=4==t,h=6==t,f=5==t||h,d=e||s;return function(e,s,p){for(var m,g,v=o(e),y=i(v),b=r(s,p,3),w=a(y.length),x=0,_=n?d(e,w):u?d(e,0):void 0;w>x;x++)if((f||x in y)&&(m=y[x],g=b(m,x,v),t))if(n)_[x]=g;else if(g)switch(t){case 3:return!0;case 5:return m;case 6:return x;case 2:_.push(m)}else if(c)return!1;return h?-1:l||c?c:_}}},function(t,e,n){var r=n(99),i={};i.create=function(){var t=new r.ARRAY_TYPE(3);return t[0]=0,t[1]=0,t[2]=0,t},i.clone=function(t){var e=new r.ARRAY_TYPE(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},i.fromValues=function(t,e,n){var i=new r.ARRAY_TYPE(3);return i[0]=t,i[1]=e,i[2]=n,i},i.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},i.set=function(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t},i.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t},i.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t},i.sub=i.subtract,i.multiply=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t},i.mul=i.multiply,i.divide=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t},i.div=i.divide,i.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t},i.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t},i.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t},i.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t},i.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t},i.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t},i.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t},i.distance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return Math.sqrt(n*n+r*r+i*i)},i.dist=i.distance,i.squaredDistance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return n*n+r*r+i*i},i.sqrDist=i.squaredDistance,i.length=function(t){var e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r)},i.len=i.length,i.squaredLength=function(t){var e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r},i.sqrLen=i.squaredLength,i.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},i.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t},i.normalize=function(t,e){var n=e[0],r=e[1],i=e[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o),t},i.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},i.cross=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],s=n[1],u=n[2];return t[0]=i*u-o*s,t[1]=o*a-r*u,t[2]=r*s-i*a,t},i.lerp=function(t,e,n,r){var i=e[0],o=e[1],a=e[2];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t[2]=a+r*(n[2]-a),t},i.hermite=function(t,e,n,r,i,o){var a=o*o,s=a*(2*o-3)+1,u=a*(o-2)+o,l=a*(o-1),c=a*(3-2*o);return t[0]=e[0]*s+n[0]*u+r[0]*l+i[0]*c,t[1]=e[1]*s+n[1]*u+r[1]*l+i[1]*c,t[2]=e[2]*s+n[2]*u+r[2]*l+i[2]*c,t},i.bezier=function(t,e,n,r,i,o){var a=1-o,s=a*a,u=o*o,l=s*a,c=3*o*s,h=3*u*a,f=u*o;return t[0]=e[0]*l+n[0]*c+r[0]*h+i[0]*f,t[1]=e[1]*l+n[1]*c+r[1]*h+i[1]*f,t[2]=e[2]*l+n[2]*c+r[2]*h+i[2]*f,t},i.random=function(t,e){e=e||1;var n=2*r.RANDOM()*Math.PI,i=2*r.RANDOM()-1,o=Math.sqrt(1-i*i)*e;return t[0]=Math.cos(n)*o,t[1]=Math.sin(n)*o,t[2]=i*e,t},i.transformMat4=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[3]*r+n[7]*i+n[11]*o+n[15];return a=a||1,t[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/a,t[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/a,t[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/a,t},i.transformMat3=function(t,e,n){var r=e[0],i=e[1],o=e[2];return t[0]=r*n[0]+i*n[3]+o*n[6],t[1]=r*n[1]+i*n[4]+o*n[7],t[2]=r*n[2]+i*n[5]+o*n[8],t},i.transformQuat=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],s=n[1],u=n[2],l=n[3],c=l*r+s*o-u*i,h=l*i+u*r-a*o,f=l*o+a*i-s*r,d=-a*r-s*i-u*o;return t[0]=c*l+d*-a+h*-u-f*-s,t[1]=h*l+d*-s+f*-a-c*-u,t[2]=f*l+d*-u+c*-s-h*-a,t},i.rotateX=function(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[0],o[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),o[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},i.rotateY=function(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),o[1]=i[1],o[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},i.rotateZ=function(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),o[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),o[2]=i[2],t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},i.forEach=function(){var t=i.create();return function(e,n,r,i,o,a){var s,u;for(n||(n=3),r||(r=0),u=i?Math.min(i*n+r,e.length):e.length,s=r;s<u;s+=n)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],o(t,t,a),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2];return e}}(),i.angle=function(t,e){var n=i.fromValues(t[0],t[1],t[2]),r=i.fromValues(e[0],e[1],e[2]);i.normalize(n,n),i.normalize(r,r);var o=i.dot(n,r);return o>1?0:Math.acos(o)},i.str=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},i.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]},i.equals=function(t,e){var n=t[0],i=t[1],o=t[2],a=e[0],s=e[1],u=e[2];return Math.abs(n-a)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(i-s)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(o-u)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(u))},t.exports=i},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){return!t||"#"===t.trim()}e.__esModule=!0;var o=n(11),a=r(o),s=n(13),u=r(s),l=n(6),c=r(l),h=n(7),f=r(h),d=n(8),p=r(d),m=n(0),g=r(m),v=n(3),y=r(v),b=n(33),w=r(b),x={href:y.default.string,onClick:y.default.func,disabled:y.default.bool,role:y.default.string,tabIndex:y.default.oneOfType([y.default.number,y.default.string]),componentClass:w.default},_={componentClass:"a"},E=function(t){function e(n,r){(0,c.default)(this,e);var i=(0,f.default)(this,t.call(this,n,r));return i.handleClick=i.handleClick.bind(i),i}return(0,p.default)(e,t),e.prototype.handleClick=function(t){var e=this.props,n=e.disabled,r=e.href,o=e.onClick;if((n||i(r))&&t.preventDefault(),n)return void t.stopPropagation();o&&o(t)},e.prototype.render=function(){var t=this.props,e=t.componentClass,n=t.disabled,r=(0,u.default)(t,["componentClass","disabled"]);return i(r.href)&&(r.role=r.role||"button",r.href=r.href||"#"),n&&(r.tabIndex=-1,r.style=(0,a.default)({pointerEvents:"none"},r.style)),g.default.createElement(e,(0,a.default)({},r,{onClick:this.handleClick}))},e}(g.default.Component);E.propTypes=x,E.defaultProps=_,e.default=E,t.exports=e.default},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}n.d(e,"a",function(){return x}),n.d(e,"b",function(){return _});var i=n(48),o=n.n(i),a=n(4),s=n.n(a),u=n(19),l=n.n(u),c=n(16),h=n.n(c),f=n(3),d=n.n(f),p=n(0),m=n.n(p),g=n(12),v=n.n(g),y=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=h()(t);!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(l()(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),b=s.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},w=function(t){var e=t.glyph,n=t.className,i=void 0===n?"":n,o=r(t,["glyph","className"]);return m.a.createElement("span",b({className:v()(i,"glyphicon","novaicon-"+e),"aria-hidden":"true"},o))};w.propTypes={glyph:d.a.string.isRequired,className:d.a.string},e.c=w;var x={Login:"custom-login",Logout:"custom-logout",Home:"places-home-1",Settings:"cog-check",AppInformation:"interface-information",Help:"interface-question-mark",Contact:"phone-outgoing",User:"user",Map:"location-map",Panorama:"panorama-horizontal",Close:"close",Maximize:"expand-diagonal-3",Restore:"shrink-diagonal-1",Search:"custom-magnify",Information:"interface-information",Locate:"cursor-target-2",Delete:"bin",Menu:"navigation-drawer-2",MenuMore:"navigation-show-more-horizontal",Layers:"content-layers-show",Display:"hide",Oblique:"custom-trapezoid",Nadir:"custom-square",Measure:"ruler-1",Compass:"compass-2",Timestamp:"custom-clock",TimeTravel:"time-view",ToClipboard:"file-tasks-add",ZoomIn:"add-circle-1",ZoomOut:"subtract-circle-1",Download:"data-download-8",Upload:"data-upload-8",DepthMap:"custom-ruler-depth",SmartClick:"custom-ruler-smartclick",ManualMeasurement:"custom-ruler-other",DepthMapSmall:"custom-measure-method-depth",SmartClickSmall:"custom-measure-method-smartclick",ManualMeasurementSmall:"custom-measure-method-other",WithoutDepth:"panorama-horizontal",WithDepth:"custom-panorama-horizontal-shadow",MeasurePoint:"custom-dot",MeasureLine:"organization-graph",MeasurePolygon:"organization-flowchart-1",MeasureCircle:"custom-circle",QuestionMark:"interface-question-mark",CheckCircle:"check-circle-2",AlertCircle:"interface-alert-circle",AlertTriangle:"interface-alert-triangle",ObliqueDirection:"custom-camera",FileNew:"file-new-1",Save:"data-download-2",Load:"data-upload-2",AddRowUp:"move-up-1",AddRowDown:"move-down-1",ReportBlurring:"chat-bubble-square-alert-2"},_={};o()(x).forEach(function(t){var e=y(t,2),n=e[0],r=e[1];_[n]=function(t){return w(b({glyph:r},t))}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"ADD_PANORAMA_VIEWER",function(){return i}),n.d(e,"REMOVE_PANORAMA_VIEWER",function(){return o}),n.d(e,"CLONE_PANORAMA_VIEWER",function(){return a}),n.d(e,"UPDATE_PANORAMA_VIEWER",function(){return s}),n.d(e,"UPDATE_RECORDING",function(){return u}),n.d(e,"UPDATE_PANORAMA_ORIENTATION",function(){return l}),n.d(e,"TOGGLE_UI_STATE",function(){return c}),n.d(e,"SET_ACTIVE_PANEL",function(){return h}),n.d(e,"SET_CUBE_PROGRAM",function(){return f}),n.d(e,"addPanoramaViewer",function(){return d}),n.d(e,"removePanoramaViewer",function(){return p}),n.d(e,"clonePanoramaViewer",function(){return m}),n.d(e,"updatePanoramaViewer",function(){return g}),n.d(e,"updateRecording",function(){return v}),n.d(e,"updatePanoramaOrientation",function(){return y}),n.d(e,"toggleUiState",function(){return b}),n.d(e,"setActivePanel",function(){return w}),n.d(e,"setCubeProgram",function(){return x}),n.d(e,"ActionTypes",function(){return _});var r=n(18),i=(n.n(r),"@@PanoramaViewer/ADD_PANORAMA_VIEWER"),o="@@PanoramaViewer/REMOVE_PANORAMA_VIEWER",a="@@PanoramaViewer/CLONE_PANORAMA_VIEWER",s="@@PanoramaViewer/UPDATE_PANORAMA_VIEWER",u="@@PanoramaViewer/UPDATE_RECORDING",l="@@PanoramaViewer/UPDATE_PANORAMA_ORIENTATION",c="@@PanoramaViewer/TOGGLE_UI_STATE",h="@@PanoramaViewer/SET_ACTIVE_PANEL",f="@@PanoramaViewer/SET_CUBE_PROGRAM",d=Object(r.createAction)(i,function(t){return{id:t,newEntry:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}}}),p=Object(r.createAction)(o,function(t){return{id:t}}),m=Object(r.createAction)(a,function(t,e){return{toId:t,fromId:e}}),g=Object(r.createAction)(s,function(t,e){return{id:t,newState:e}}),v=Object(r.createAction)(u,function(t,e){return{id:t,recording:e}}),y=Object(r.createAction)(l,function(t,e){return{id:t,yawOffset:e.yawOffset,yaw:e.yaw,hFov:e.hFov,pitch:e.pitch,xyz:e.xyz}}),b=Object(r.createAction)(c,function(t,e,n,r){return{id:t,componentId:e,property:n,enabled:r}}),w=Object(r.createAction)(h,function(t,e){return{id:t,panel:e}}),x=Object(r.createAction)(f,function(t,e){return{id:t,value:e}}),_={ADD_PANORAMA_VIEWER:i,REMOVE_PANORAMA_VIEWER:o,CLONE_PANORAMA_VIEWER:a,UPDATE_PANORAMA_VIEWER:s,UPDATE_RECORDING:u,UPDATE_PANORAMA_ORIENTATION:l,TOGGLE_UI_STATE:c,SET_ACTIVE_PANEL:h,SET_CUBE_PROGRAM:f};e.default={addPanoramaViewer:d,removePanoramaViewer:p,clonePanoramaViewer:m,updatePanoramaViewer:g,updateRecording:v,updatePanoramaOrientation:y,toggleUiState:b,setActivePanel:w,setCubeProgram:x}},function(t,e,n){"use strict";function r(t){return t}function i(t,e){for(var n=0;n<t.length;++n)e[n]=255&t.charCodeAt(n);return e}function o(t){var n=65536,r=[],i=t.length,o=e.getTypeOf(t),a=0,s=!0;try{switch(o){case"uint8array":String.fromCharCode.apply(null,new Uint8Array(0));break;case"nodebuffer":String.fromCharCode.apply(null,l(0))}}catch(t){s=!1}if(!s){for(var u="",c=0;c<t.length;c++)u+=String.fromCharCode(t[c]);return u}for(;a<i&&n>1;)try{"array"===o||"nodebuffer"===o?r.push(String.fromCharCode.apply(null,t.slice(a,Math.min(a+n,i)))):r.push(String.fromCharCode.apply(null,t.subarray(a,Math.min(a+n,i)))),a+=n}catch(t){n=Math.floor(n/2)}return r.join("")}function a(t,e){for(var n=0;n<t.length;n++)e[n]=t[n];return e}var s=n(206),u=n(368),l=n(370);e.string2binary=function(t){for(var e="",n=0;n<t.length;n++)e+=String.fromCharCode(255&t.charCodeAt(n));return e},e.arrayBuffer2Blob=function(t,n){e.checkSupport("blob"),n=n||"application/zip";try{return new Blob([t],{type:n})}catch(e){try{var r=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,i=new r;return i.append(t),i.getBlob(n)}catch(t){throw new Error("Bug : can't construct the Blob.")}}},e.applyFromCharCode=o;var c={};c.string={string:r,array:function(t){return i(t,new Array(t.length))},arraybuffer:function(t){return c.string.uint8array(t).buffer},uint8array:function(t){return i(t,new Uint8Array(t.length))},nodebuffer:function(t){return i(t,l(t.length))}},c.array={string:o,array:r,arraybuffer:function(t){return new Uint8Array(t).buffer},uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return l(t)}},c.arraybuffer={string:function(t){return o(new Uint8Array(t))},array:function(t){return a(new Uint8Array(t),new Array(t.byteLength))},arraybuffer:r,uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return l(new Uint8Array(t))}},c.uint8array={string:o,array:function(t){return a(t,new Array(t.length))},arraybuffer:function(t){return t.buffer},uint8array:r,nodebuffer:function(t){return l(t)}},c.nodebuffer={string:o,array:function(t){return a(t,new Array(t.length))},arraybuffer:function(t){return c.nodebuffer.uint8array(t).buffer},uint8array:function(t){return a(t,new Uint8Array(t.length))},nodebuffer:r},e.transformTo=function(t,n){if(n||(n=""),!t)return n;e.checkSupport(t);var r=e.getTypeOf(n);return c[r][t](n)},e.getTypeOf=function(t){return"string"==typeof t?"string":"[object Array]"===Object.prototype.toString.call(t)?"array":s.nodebuffer&&l.test(t)?"nodebuffer":s.uint8array&&t instanceof Uint8Array?"uint8array":s.arraybuffer&&t instanceof ArrayBuffer?"arraybuffer":void 0},e.checkSupport=function(t){if(!s[t.toLowerCase()])throw new Error(t+" is not supported by this browser")},e.MAX_VALUE_16BITS=65535,e.MAX_VALUE_32BITS=-1,e.pretty=function(t){var e,n,r="";for(n=0;n<(t||"").length;n++)e=t.charCodeAt(n),r+="\\x"+(e<16?"0":"")+e.toString(16).toUpperCase();return r},e.findCompression=function(t){for(var e in u)if(u.hasOwnProperty(e)&&u[e].magic===t)return u[e];return null},e.isRegExp=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)}},function(t,e,n){"use strict";if(n(40)){var r=n(125),i=n(21),o=n(25),a=n(2),s=n(226),u=n(300),l=n(75),c=n(130),h=n(123),f=n(62),d=n(132),p=n(88),m=n(42),g=n(413),v=n(126),y=n(86),b=n(61),w=n(178),x=n(28),_=n(45),E=n(291),M=n(127),S=n(69),T=n(128).f,C=n(293),I=n(124),O=n(35),A=n(90),L=n(216),R=n(224),N=n(296),P=n(151),k=n(221),D=n(129),F=n(295),j=n(403),U=n(41),B=n(68),z=U.f,V=B.f,G=i.RangeError,H=i.TypeError,q=i.Uint8Array,W=Array.prototype,Y=u.ArrayBuffer,X=u.DataView,Z=A(0),K=A(2),$=A(3),Q=A(4),J=A(5),tt=A(6),et=L(!0),nt=L(!1),rt=N.values,it=N.keys,ot=N.entries,at=W.lastIndexOf,st=W.reduce,ut=W.reduceRight,lt=W.join,ct=W.sort,ht=W.slice,ft=W.toString,dt=W.toLocaleString,pt=O("iterator"),mt=O("toStringTag"),gt=I("typed_constructor"),vt=I("def_constructor"),yt=s.CONSTR,bt=s.TYPED,wt=s.VIEW,xt=A(1,function(t,e){return Tt(R(t,t[vt]),e)}),_t=o(function(){return 1===new q(new Uint16Array([1]).buffer)[0]}),Et=!!q&&!!q.prototype.set&&o(function(){new q(1).set({})}),Mt=function(t,e){var n=p(t);if(n<0||n%e)throw G("Wrong offset!");return n},St=function(t){if(x(t)&&bt in t)return t;throw H(t+" is not a typed array!")},Tt=function(t,e){if(!(x(t)&&gt in t))throw H("It is not a typed array constructor!");return new t(e)},Ct=function(t,e){return It(R(t,t[vt]),e)},It=function(t,e){for(var n=0,r=e.length,i=Tt(t,r);r>n;)i[n]=e[n++];return i},Ot=function(t,e,n){z(t,e,{get:function(){return this._d[n]}})},At=function(t){var e,n,r,i,o,a,s=_(t),u=arguments.length,c=u>1?arguments[1]:void 0,h=void 0!==c,f=C(s);if(void 0!=f&&!E(f)){for(a=f.call(s),r=[],e=0;!(o=a.next()).done;e++)r.push(o.value);s=r}for(h&&u>2&&(c=l(c,arguments[2],2)),e=0,n=m(s.length),i=Tt(this,n);n>e;e++)i[e]=h?c(s[e],e):s[e];return i},Lt=function(){for(var t=0,e=arguments.length,n=Tt(this,e);e>t;)n[t]=arguments[t++];return n},Rt=!!q&&o(function(){dt.call(new q(1))}),Nt=function(){return dt.apply(Rt?ht.call(St(this)):St(this),arguments)},Pt={copyWithin:function(t,e){return j.call(St(this),t,e,arguments.length>2?arguments[2]:void 0)},every:function(t){return Q(St(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return F.apply(St(this),arguments)},filter:function(t){return Ct(this,K(St(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return J(St(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return tt(St(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){Z(St(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return nt(St(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return et(St(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return lt.apply(St(this),arguments)},lastIndexOf:function(t){return at.apply(St(this),arguments)},map:function(t){return xt(St(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return st.apply(St(this),arguments)},reduceRight:function(t){return ut.apply(St(this),arguments)},reverse:function(){for(var t,e=this,n=St(e).length,r=Math.floor(n/2),i=0;i<r;)t=e[i],e[i++]=e[--n],e[n]=t;return e},some:function(t){return $(St(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return ct.call(St(this),t)},subarray:function(t,e){var n=St(this),r=n.length,i=v(t,r);return new(R(n,n[vt]))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,m((void 0===e?r:v(e,r))-i))}},kt=function(t,e){return Ct(this,ht.call(St(this),t,e))},Dt=function(t){St(this);var e=Mt(arguments[1],1),n=this.length,r=_(t),i=m(r.length),o=0;if(i+e>n)throw G("Wrong length!");for(;o<i;)this[e+o]=r[o++]},Ft={entries:function(){return ot.call(St(this))},keys:function(){return it.call(St(this))},values:function(){return rt.call(St(this))}},jt=function(t,e){return x(t)&&t[bt]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},Ut=function(t,e){return jt(t,e=y(e,!0))?h(2,t[e]):V(t,e)},Bt=function(t,e,n){return!(jt(t,e=y(e,!0))&&x(n)&&b(n,"value"))||b(n,"get")||b(n,"set")||n.configurable||b(n,"writable")&&!n.writable||b(n,"enumerable")&&!n.enumerable?z(t,e,n):(t[e]=n.value,t)};yt||(B.f=Ut,U.f=Bt),a(a.S+a.F*!yt,"Object",{getOwnPropertyDescriptor:Ut,defineProperty:Bt}),o(function(){ft.call({})})&&(ft=dt=function(){return lt.call(this)});var zt=d({},Pt);d(zt,Ft),f(zt,pt,Ft.values),d(zt,{slice:kt,set:Dt,constructor:function(){},toString:ft,toLocaleString:Nt}),Ot(zt,"buffer","b"),Ot(zt,"byteOffset","o"),Ot(zt,"byteLength","l"),Ot(zt,"length","e"),z(zt,mt,{get:function(){return this[bt]}}),t.exports=function(t,e,n,u){u=!!u;var l=t+(u?"Clamped":"")+"Array",h="get"+t,d="set"+t,p=i[l],v=p||{},y=p&&S(p),b=!p||!s.ABV,_={},E=p&&p.prototype,C=function(t,n){var r=t._d;return r.v[h](n*e+r.o,_t)},I=function(t,n,r){var i=t._d;u&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),i.v[d](n*e+i.o,r,_t)},O=function(t,e){z(t,e,{get:function(){return C(this,e)},set:function(t){return I(this,e,t)},enumerable:!0})};b?(p=n(function(t,n,r,i){c(t,p,l,"_d");var o,a,s,u,h=0,d=0;if(x(n)){if(!(n instanceof Y||"ArrayBuffer"==(u=w(n))||"SharedArrayBuffer"==u))return bt in n?It(p,n):At.call(p,n);o=n,d=Mt(r,e);var v=n.byteLength;if(void 0===i){if(v%e)throw G("Wrong length!");if((a=v-d)<0)throw G("Wrong length!")}else if((a=m(i)*e)+d>v)throw G("Wrong length!");s=a/e}else s=g(n),a=s*e,o=new Y(a);for(f(t,"_d",{b:o,o:d,l:a,e:s,v:new X(o)});h<s;)O(t,h++)}),E=p.prototype=M(zt),f(E,"constructor",p)):o(function(){p(1)})&&o(function(){new p(-1)})&&k(function(t){new p,new p(null),new p(1.5),new p(t)},!0)||(p=n(function(t,n,r,i){c(t,p,l);var o;return x(n)?n instanceof Y||"ArrayBuffer"==(o=w(n))||"SharedArrayBuffer"==o?void 0!==i?new v(n,Mt(r,e),i):void 0!==r?new v(n,Mt(r,e)):new v(n):bt in n?It(p,n):At.call(p,n):new v(g(n))}),Z(y!==Function.prototype?T(v).concat(T(y)):T(v),function(t){t in p||f(p,t,v[t])}),p.prototype=E,r||(E.constructor=p));var A=E[pt],L=!!A&&("values"==A.name||void 0==A.name),R=Ft.values;f(p,gt,!0),f(E,bt,l),f(E,wt,!0),f(E,vt,p),(u?new p(1)[mt]==l:mt in E)||z(E,mt,{get:function(){return l}}),_[l]=p,a(a.G+a.W+a.F*(p!=v),_),a(a.S,l,{BYTES_PER_ELEMENT:e}),a(a.S+a.F*o(function(){v.of.call(p,1)}),l,{from:At,of:Lt}),"BYTES_PER_ELEMENT"in E||f(E,"BYTES_PER_ELEMENT",e),a(a.P,l,Pt),D(l),a(a.P+a.F*Et,l,{set:Dt}),a(a.P+a.F*!L,l,Ft),r||E.toString==ft||(E.toString=ft),a(a.P+a.F*o(function(){new p(1).slice()}),l,{slice:kt}),a(a.P+a.F*(o(function(){return[1,2].toLocaleString()!=new p([1,2]).toLocaleString()})||!o(function(){E.toLocaleString.call([1,2])})),l,{toLocaleString:Nt}),P[l]=L?A:R,r||L||f(E,pt,R)}}else t.exports=function(){}},function(t,e,n){var r=n(408),i=n(2),o=n(215)("metadata"),a=o.store||(o.store=new(n(411))),s=function(t,e,n){var i=a.get(t);if(!i){if(!n)return;a.set(t,i=new r)}var o=i.get(e);if(!o){if(!n)return;i.set(e,o=new r)}return o},u=function(t,e,n){var r=s(e,n,!1);return void 0!==r&&r.has(t)},l=function(t,e,n){var r=s(e,n,!1);return void 0===r?void 0:r.get(t)},c=function(t,e,n,r){s(n,r,!0).set(t,e)},h=function(t,e){var n=s(t,e,!1),r=[];return n&&n.forEach(function(t,e){r.push(e)}),r},f=function(t){return void 0===t||"symbol"==typeof t?t:String(t)},d=function(t){i(i.S,"Reflect",t)};t.exports={store:a,map:s,has:u,get:l,set:c,keys:h,key:f,exp:d}},function(t,e){var n={};n.EPSILON=1e-6,n.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,n.RANDOM=Math.random,n.ENABLE_SIMD=!1,n.SIMD_AVAILABLE=n.ARRAY_TYPE===Float32Array&&"SIMD"in this,n.USE_SIMD=n.ENABLE_SIMD&&n.SIMD_AVAILABLE,n.setMatrixArrayType=function(t){n.ARRAY_TYPE=t};var r=Math.PI/180;n.toRadian=function(t){return t*r},n.equals=function(t,e){return Math.abs(t-e)<=n.EPSILON*Math.max(1,Math.abs(t),Math.abs(e))},t.exports=n},function(t,e,n){var r=n(186);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var r=n(92);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){var r=n(312),i=n(308);t.exports=function(t){return r(i(t))}},function(t,e,n){t.exports={default:n(909),__esModule:!0}},function(t,e,n){t.exports={default:n(967),__esModule:!0}},function(t,e,n){!function(e){"use strict";var n=0,r=Math.pow(36,4),i=function(t,e){var n="000000000"+t;return n.substr(n.length-e)},o=function(){return i((Math.random()*r<<0).toString(36),4)},a=function(){return n=n<r?n:0,++n-1},s=function(){var t,e=(new Date).getTime().toString(36),n=s.fingerprint(),r=o()+o();return t=i(a().toString(36),4),"c"+e+t+n+r};s.slug=function(){var t,e=(new Date).getTime().toString(36),n=s.fingerprint().slice(0,1)+s.fingerprint().slice(-1),r=o().slice(-2);return t=a().toString(36).slice(-4),e.slice(-2)+t+n+r},s.globalCount=function(){var t=function(){var t,e=0;for(t in window)e++;return e}();return s.globalCount=function(){return t},t},s.fingerprint=function(){return i((navigator.mimeTypes.length+navigator.userAgent.length).toString(36)+s.globalCount().toString(36),4)},e.register?e.register("cuid",s):t.exports=s}(this.applitude||this)},function(t,e,n){!function(t,n){n(e)}(0,function(t){"use strict";function e(){}function n(t,e){this.x=t||0,this.y=e||0}function r(t,e,i,o,a,s,u,l,c,h){Object.defineProperty(this,"id",{value:ts++}),this.uuid=Ja.generateUUID(),this.name="",this.image=void 0!==t?t:r.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==e?e:r.DEFAULT_MAPPING,this.wrapS=void 0!==i?i:na,this.wrapT=void 0!==o?o:na,this.magFilter=void 0!==a?a:sa,this.minFilter=void 0!==s?s:la,this.anisotropy=void 0!==c?c:1,this.format=void 0!==u?u:Ma,this.type=void 0!==l?l:ca,this.offset=new n(0,0),this.repeat=new n(1,1),this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==h?h:Ha,this.version=0,this.onUpdate=null}function i(t,e,n,r){this.x=t||0,this.y=e||0,this.z=n||0,this.w=void 0!==r?r:1}function o(t,e,n){this.uuid=Ja.generateUUID(),this.width=t,this.height=e,this.scissor=new i(0,0,t,e),this.scissorTest=!1,this.viewport=new i(0,0,t,e),n=n||{},void 0===n.minFilter&&(n.minFilter=sa),this.texture=new r(void 0,void 0,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0===n.stencilBuffer||n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null}function a(t,e,n){o.call(this,t,e,n),this.activeCubeFace=0,this.activeMipMapLevel=0}function s(t,e,n,r){this._x=t||0,this._y=e||0,this._z=n||0,this._w=void 0!==r?r:1}function u(t,e,n){this.x=t||0,this.y=e||0,this.z=n||0}function l(){this.elements=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}function c(t,e,n,i,o,a,s,u,l,c){t=void 0!==t?t:[],e=void 0!==e?e:Xo,r.call(this,t,e,n,i,o,a,s,u,l,c),this.flipY=!1}function h(){this.seq=[],this.map={}}function f(t,e,n){var r=t[0];if(r<=0||r>0)return t;var i=e*n,o=rs[i];if(void 0===o&&(o=new Float32Array(i),rs[i]=o),0!==e){r.toArray(o,0);for(var a=1,s=0;a!==e;++a)s+=n,t[a].toArray(o,s)}return o}function d(t,e){var n=is[e];void 0===n&&(n=new Int32Array(e),is[e]=n);for(var r=0;r!==e;++r)n[r]=t.allocTextureUnit();return n}function p(t,e){t.uniform1f(this.addr,e)}function m(t,e){t.uniform1i(this.addr,e)}function g(t,e){void 0===e.x?t.uniform2fv(this.addr,e):t.uniform2f(this.addr,e.x,e.y)}function v(t,e){void 0!==e.x?t.uniform3f(this.addr,e.x,e.y,e.z):void 0!==e.r?t.uniform3f(this.addr,e.r,e.g,e.b):t.uniform3fv(this.addr,e)}function y(t,e){void 0===e.x?t.uniform4fv(this.addr,e):t.uniform4f(this.addr,e.x,e.y,e.z,e.w)}function b(t,e){t.uniformMatrix2fv(this.addr,!1,e.elements||e)}function w(t,e){t.uniformMatrix3fv(this.addr,!1,e.elements||e)}function x(t,e){t.uniformMatrix4fv(this.addr,!1,e.elements||e)}function _(t,e,n){var r=n.allocTextureUnit();t.uniform1i(this.addr,r),n.setTexture2D(e||es,r)}function E(t,e,n){var r=n.allocTextureUnit();t.uniform1i(this.addr,r),n.setTextureCube(e||ns,r)}function M(t,e){t.uniform2iv(this.addr,e)}function S(t,e){t.uniform3iv(this.addr,e)}function T(t,e){t.uniform4iv(this.addr,e)}function C(t){switch(t){case 5126:return p;case 35664:return g;case 35665:return v;case 35666:return y;case 35674:return b;case 35675:return w;case 35676:return x;case 35678:return _;case 35680:return E;case 5124:case 35670:return m;case 35667:case 35671:return M;case 35668:case 35672:return S;case 35669:case 35673:return T}}function I(t,e){t.uniform1fv(this.addr,e)}function O(t,e){t.uniform1iv(this.addr,e)}function A(t,e){t.uniform2fv(this.addr,f(e,this.size,2))}function L(t,e){t.uniform3fv(this.addr,f(e,this.size,3))}function R(t,e){t.uniform4fv(this.addr,f(e,this.size,4))}function N(t,e){t.uniformMatrix2fv(this.addr,!1,f(e,this.size,4))}function P(t,e){t.uniformMatrix3fv(this.addr,!1,f(e,this.size,9))}function k(t,e){t.uniformMatrix4fv(this.addr,!1,f(e,this.size,16))}function D(t,e,n){var r=e.length,i=d(n,r);t.uniform1iv(this.addr,i);for(var o=0;o!==r;++o)n.setTexture2D(e[o]||es,i[o])}function F(t,e,n){var r=e.length,i=d(n,r);t.uniform1iv(this.addr,i);for(var o=0;o!==r;++o)n.setTextureCube(e[o]||ns,i[o])}function j(t){switch(t){case 5126:return I;case 35664:return A;case 35665:return L;case 35666:return R;case 35674:return N;case 35675:return P;case 35676:return k;case 35678:return D;case 35680:return F;case 5124:case 35670:return O;case 35667:case 35671:return M;case 35668:case 35672:return S;case 35669:case 35673:return T}}function U(t,e,n){this.id=t,this.addr=n,this.setValue=C(e.type)}function B(t,e,n){this.id=t,this.addr=n,this.size=e.size,this.setValue=j(e.type)}function z(t){this.id=t,h.call(this)}function V(t,e){t.seq.push(e),t.map[e.id]=e}function G(t,e,n){var r=t.name,i=r.length;for(os.lastIndex=0;;){var o=os.exec(r),a=os.lastIndex,s=o[1],u="]"===o[2],l=o[3];if(u&&(s|=0),void 0===l||"["===l&&a+2===i){V(n,void 0===l?new U(s,t,e):new B(s,t,e));break}var c=n.map,h=c[s];void 0===h&&(h=new z(s),V(n,h)),n=h}}function H(t,e,n){h.call(this),this.renderer=n;for(var r=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),i=0;i<r;++i){var o=t.getActiveUniform(e,i),a=o.name;G(o,t.getUniformLocation(e,a),this)}}function q(t,e,n){return void 0===e&&void 0===n?this.set(t):this.setRGB(t,e,n)}function W(t,e,n,i,o,a,s,u,l,c,h,f){r.call(this,null,a,s,u,l,c,i,o,h,f),this.image={data:t,width:e,height:n},this.magFilter=void 0!==l?l:ia,this.minFilter=void 0!==c?c:ia,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}function Y(t,e){this.min=void 0!==t?t:new n(1/0,1/0),this.max=void 0!==e?e:new n(-1/0,-1/0)}function X(t,e){function r(){var t=new Float32Array([-1,-1,0,0,1,-1,1,0,1,1,1,1,-1,1,0,1]),e=new Uint16Array([0,1,2,0,2,3]);o=p.createBuffer(),a=p.createBuffer(),p.bindBuffer(p.ARRAY_BUFFER,o),p.bufferData(p.ARRAY_BUFFER,t,p.STATIC_DRAW),p.bindBuffer(p.ELEMENT_ARRAY_BUFFER,a),p.bufferData(p.ELEMENT_ARRAY_BUFFER,e,p.STATIC_DRAW),f=p.createTexture(),d=p.createTexture(),m.bindTexture(p.TEXTURE_2D,f),p.texImage2D(p.TEXTURE_2D,0,p.RGB,16,16,0,p.RGB,p.UNSIGNED_BYTE,null),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,p.CLAMP_TO_EDGE),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,p.CLAMP_TO_EDGE),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,p.NEAREST),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,p.NEAREST),m.bindTexture(p.TEXTURE_2D,d),p.texImage2D(p.TEXTURE_2D,0,p.RGBA,16,16,0,p.RGBA,p.UNSIGNED_BYTE,null),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,p.CLAMP_TO_EDGE),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,p.CLAMP_TO_EDGE),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,p.NEAREST),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,p.NEAREST),s={vertexShader:["uniform lowp int renderType;","uniform vec3 screenPosition;","uniform vec2 scale;","uniform float rotation;","uniform sampler2D occlusionMap;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","varying float vVisibility;","void main() {","vUV = uv;","vec2 pos = position;","if ( renderType == 2 ) {","vec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );","vVisibility =        visibility.r / 9.0;","vVisibility *= 1.0 - visibility.g / 9.0;","vVisibility *=       visibility.b / 9.0;","vVisibility *= 1.0 - visibility.a / 9.0;","pos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;","pos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;","}","gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );","}"].join("\n"),fragmentShader:["uniform lowp int renderType;","uniform sampler2D map;","uniform float opacity;","uniform vec3 color;","varying vec2 vUV;","varying float vVisibility;","void main() {","if ( renderType == 0 ) {","gl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );","} else if ( renderType == 1 ) {","gl_FragColor = texture2D( map, vUV );","} else {","vec4 texture = texture2D( map, vUV );","texture.a *= opacity * vVisibility;","gl_FragColor = texture;","gl_FragColor.rgb *= color;","}","}"].join("\n")},l=i(s),c={vertex:p.getAttribLocation(l,"position"),uv:p.getAttribLocation(l,"uv")},h={renderType:p.getUniformLocation(l,"renderType"),map:p.getUniformLocation(l,"map"),occlusionMap:p.getUniformLocation(l,"occlusionMap"),opacity:p.getUniformLocation(l,"opacity"),color:p.getUniformLocation(l,"color"),scale:p.getUniformLocation(l,"scale"),rotation:p.getUniformLocation(l,"rotation"),screenPosition:p.getUniformLocation(l,"screenPosition")}}function i(e){var n=p.createProgram(),r=p.createShader(p.FRAGMENT_SHADER),i=p.createShader(p.VERTEX_SHADER),o="precision "+t.getPrecision()+" float;\n";return p.shaderSource(r,o+e.fragmentShader),p.shaderSource(i,o+e.vertexShader),p.compileShader(r),p.compileShader(i),p.attachShader(n,r),p.attachShader(n,i),p.linkProgram(n),n}var o,a,s,l,c,h,f,d,p=t.context,m=t.state;this.render=function(i,s,g){if(0!==e.length){var v=new u,y=g.w/g.z,b=.5*g.z,w=.5*g.w,x=16/g.w,_=new n(x*y,x),E=new u(1,1,0),M=new n(1,1),S=new Y;S.min.set(g.x,g.y),S.max.set(g.x+(g.z-16),g.y+(g.w-16)),void 0===l&&r(),p.useProgram(l),m.initAttributes(),m.enableAttribute(c.vertex),m.enableAttribute(c.uv),m.disableUnusedAttributes(),p.uniform1i(h.occlusionMap,0),p.uniform1i(h.map,1),p.bindBuffer(p.ARRAY_BUFFER,o),p.vertexAttribPointer(c.vertex,2,p.FLOAT,!1,16,0),p.vertexAttribPointer(c.uv,2,p.FLOAT,!1,16,8),p.bindBuffer(p.ELEMENT_ARRAY_BUFFER,a),m.disable(p.CULL_FACE),m.setDepthWrite(!1);for(var T=0,C=e.length;T<C;T++){x=16/g.w,_.set(x*y,x);var I=e[T];if(v.set(I.matrixWorld.elements[12],I.matrixWorld.elements[13],I.matrixWorld.elements[14]),v.applyMatrix4(s.matrixWorldInverse),v.applyMatrix4(s.projectionMatrix),E.copy(v),M.x=g.x+E.x*b+b-8,M.y=g.y+E.y*w+w-8,!0===S.containsPoint(M)){m.activeTexture(p.TEXTURE0),m.bindTexture(p.TEXTURE_2D,null),m.activeTexture(p.TEXTURE1),m.bindTexture(p.TEXTURE_2D,f),p.copyTexImage2D(p.TEXTURE_2D,0,p.RGB,M.x,M.y,16,16,0),p.uniform1i(h.renderType,0),p.uniform2f(h.scale,_.x,_.y),p.uniform3f(h.screenPosition,E.x,E.y,E.z),m.disable(p.BLEND),m.enable(p.DEPTH_TEST),p.drawElements(p.TRIANGLES,6,p.UNSIGNED_SHORT,0),m.activeTexture(p.TEXTURE0),m.bindTexture(p.TEXTURE_2D,d),p.copyTexImage2D(p.TEXTURE_2D,0,p.RGBA,M.x,M.y,16,16,0),p.uniform1i(h.renderType,1),m.disable(p.DEPTH_TEST),m.activeTexture(p.TEXTURE1),m.bindTexture(p.TEXTURE_2D,f),p.drawElements(p.TRIANGLES,6,p.UNSIGNED_SHORT,0),I.positionScreen.copy(E),I.customUpdateCallback?I.customUpdateCallback(I):I.updateLensFlares(),p.uniform1i(h.renderType,2),m.enable(p.BLEND);for(var O=0,A=I.lensFlares.length;O<A;O++){var L=I.lensFlares[O];L.opacity>.001&&L.scale>.001&&(E.x=L.x,E.y=L.y,E.z=L.z,x=L.size*L.scale/g.w,_.x=x*y,_.y=x,p.uniform3f(h.screenPosition,E.x,E.y,E.z),p.uniform2f(h.scale,_.x,_.y),p.uniform1f(h.rotation,L.rotation),p.uniform1f(h.opacity,L.opacity),p.uniform3f(h.color,L.color.r,L.color.g,L.color.b),m.setBlending(L.blending,L.blendEquation,L.blendSrc,L.blendDst),t.setTexture2D(L.texture,1),p.drawElements(p.TRIANGLES,6,p.UNSIGNED_SHORT,0))}}}m.enable(p.CULL_FACE),m.enable(p.DEPTH_TEST),m.setDepthWrite(!0),t.resetGLState()}}}function Z(t,e){function n(){var t=new Float32Array([-.5,-.5,0,0,.5,-.5,1,0,.5,.5,1,1,-.5,.5,0,1]),e=new Uint16Array([0,1,2,0,2,3]);a=p.createBuffer(),l=p.createBuffer(),p.bindBuffer(p.ARRAY_BUFFER,a),p.bufferData(p.ARRAY_BUFFER,t,p.STATIC_DRAW),p.bindBuffer(p.ELEMENT_ARRAY_BUFFER,l),p.bufferData(p.ELEMENT_ARRAY_BUFFER,e,p.STATIC_DRAW),c=i(),h={position:p.getAttribLocation(c,"position"),uv:p.getAttribLocation(c,"uv")},f={uvOffset:p.getUniformLocation(c,"uvOffset"),uvScale:p.getUniformLocation(c,"uvScale"),rotation:p.getUniformLocation(c,"rotation"),scale:p.getUniformLocation(c,"scale"),color:p.getUniformLocation(c,"color"),map:p.getUniformLocation(c,"map"),opacity:p.getUniformLocation(c,"opacity"),modelViewMatrix:p.getUniformLocation(c,"modelViewMatrix"),projectionMatrix:p.getUniformLocation(c,"projectionMatrix"),fogType:p.getUniformLocation(c,"fogType"),fogDensity:p.getUniformLocation(c,"fogDensity"),fogNear:p.getUniformLocation(c,"fogNear"),fogFar:p.getUniformLocation(c,"fogFar"),fogColor:p.getUniformLocation(c,"fogColor"),alphaTest:p.getUniformLocation(c,"alphaTest")};var n=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");n.width=8,n.height=8;var o=n.getContext("2d");o.fillStyle="white",o.fillRect(0,0,8,8),d=new r(n),d.needsUpdate=!0}function i(){var e=p.createProgram(),n=p.createShader(p.VERTEX_SHADER),r=p.createShader(p.FRAGMENT_SHADER);return p.shaderSource(n,["precision "+t.getPrecision()+" float;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform float rotation;","uniform vec2 scale;","uniform vec2 uvOffset;","uniform vec2 uvScale;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","void main() {","vUV = uvOffset + uv * uvScale;","vec2 alignedPosition = position * scale;","vec2 rotatedPosition;","rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;","rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;","vec4 finalPosition;","finalPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );","finalPosition.xy += rotatedPosition;","finalPosition = projectionMatrix * finalPosition;","gl_Position = finalPosition;","}"].join("\n")),p.shaderSource(r,["precision "+t.getPrecision()+" float;","uniform vec3 color;","uniform sampler2D map;","uniform float opacity;","uniform int fogType;","uniform vec3 fogColor;","uniform float fogDensity;","uniform float fogNear;","uniform float fogFar;","uniform float alphaTest;","varying vec2 vUV;","void main() {","vec4 texture = texture2D( map, vUV );","if ( texture.a < alphaTest ) discard;","gl_FragColor = vec4( color * texture.xyz, texture.a * opacity );","if ( fogType > 0 ) {","float depth = gl_FragCoord.z / gl_FragCoord.w;","float fogFactor = 0.0;","if ( fogType == 1 ) {","fogFactor = smoothstep( fogNear, fogFar, depth );","} else {","const float LOG2 = 1.442695;","fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );","fogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );","}","gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );","}","}"].join("\n")),p.compileShader(n),p.compileShader(r),p.attachShader(e,n),p.attachShader(e,r),p.linkProgram(e),e}function o(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:e.id-t.id}var a,l,c,h,f,d,p=t.context,m=t.state,g=new u,v=new s,y=new u;this.render=function(r,i){if(0!==e.length){void 0===c&&n(),p.useProgram(c),m.initAttributes(),m.enableAttribute(h.position),m.enableAttribute(h.uv),m.disableUnusedAttributes(),m.disable(p.CULL_FACE),m.enable(p.BLEND),p.bindBuffer(p.ARRAY_BUFFER,a),p.vertexAttribPointer(h.position,2,p.FLOAT,!1,16,0),p.vertexAttribPointer(h.uv,2,p.FLOAT,!1,16,8),p.bindBuffer(p.ELEMENT_ARRAY_BUFFER,l),p.uniformMatrix4fv(f.projectionMatrix,!1,i.projectionMatrix.elements),m.activeTexture(p.TEXTURE0),p.uniform1i(f.map,0);var s=0,u=0,b=r.fog;b?(p.uniform3f(f.fogColor,b.color.r,b.color.g,b.color.b),b.isFog?(p.uniform1f(f.fogNear,b.near),p.uniform1f(f.fogFar,b.far),p.uniform1i(f.fogType,1),s=1,u=1):b.isFogExp2&&(p.uniform1f(f.fogDensity,b.density),p.uniform1i(f.fogType,2),s=2,u=2)):(p.uniform1i(f.fogType,0),s=0,u=0);for(var w=0,x=e.length;w<x;w++){var _=e[w];_.modelViewMatrix.multiplyMatrices(i.matrixWorldInverse,_.matrixWorld),_.z=-_.modelViewMatrix.elements[14]}e.sort(o);for(var E=[],w=0,x=e.length;w<x;w++){var _=e[w],M=_.material;if(!1!==M.visible){p.uniform1f(f.alphaTest,M.alphaTest),p.uniformMatrix4fv(f.modelViewMatrix,!1,_.modelViewMatrix.elements),_.matrixWorld.decompose(g,v,y),E[0]=y.x,E[1]=y.y;var S=0;r.fog&&M.fog&&(S=u),s!==S&&(p.uniform1i(f.fogType,S),s=S),null!==M.map?(p.uniform2f(f.uvOffset,M.map.offset.x,M.map.offset.y),p.uniform2f(f.uvScale,M.map.repeat.x,M.map.repeat.y)):(p.uniform2f(f.uvOffset,0,0),p.uniform2f(f.uvScale,1,1)),p.uniform1f(f.opacity,M.opacity),p.uniform3f(f.color,M.color.r,M.color.g,M.color.b),p.uniform1f(f.rotation,M.rotation),p.uniform2fv(f.scale,E),m.setBlending(M.blending,M.blendEquation,M.blendSrc,M.blendDst),m.setDepthTest(M.depthTest),m.setDepthWrite(M.depthWrite),M.map?t.setTexture2D(M.map,0):t.setTexture2D(d,0),p.drawElements(p.TRIANGLES,6,p.UNSIGNED_SHORT,0)}}m.enable(p.CULL_FACE),t.resetGLState()}}}function K(){Object.defineProperty(this,"id",{value:hs++}),this.uuid=Ja.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.lights=!0,this.blending=co,this.side=eo,this.shading=oo,this.vertexColors=ao,this.opacity=1,this.transparent=!1,this.blendSrc=So,this.blendDst=To,this.blendEquation=go,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=ko,this.depthTest=!0,this.depthWrite=!0,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.alphaTest=0,this.premultipliedAlpha=!1,this.overdraw=0,this.visible=!0,this._needsUpdate=!0}function $(t){K.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,void 0!==t&&(void 0!==t.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(t))}function Q(t){K.call(this),this.type="MeshDepthMaterial",this.depthPacking=$a,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.setValues(t)}function J(t,e){this.min=void 0!==t?t:new u(1/0,1/0,1/0),this.max=void 0!==e?e:new u(-1/0,-1/0,-1/0)}function tt(t,e){this.center=void 0!==t?t:new u,this.radius=void 0!==e?e:0}function et(){this.elements=new Float32Array([1,0,0,0,1,0,0,0,1]),arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}function nt(t,e){this.normal=void 0!==t?t:new u(1,0,0),this.constant=void 0!==e?e:0}function rt(t,e,n,r,i,o){this.planes=[void 0!==t?t:new nt,void 0!==e?e:new nt,void 0!==n?n:new nt,void 0!==r?r:new nt,void 0!==i?i:new nt,void 0!==o?o:new nt]}function it(t,e,r,a){function s(e,n,r,i){var o=e.geometry,a=null,s=M,u=e.customDepthMaterial;if(r&&(s=S,u=e.customDistanceMaterial),u)a=u;else{var l=!1;n.morphTargets&&(o&&o.isBufferGeometry?l=o.morphAttributes&&o.morphAttributes.position&&o.morphAttributes.position.length>0:o&&o.isGeometry&&(l=o.morphTargets&&o.morphTargets.length>0));var c=e.isSkinnedMesh&&n.skinning,h=0;l&&(h|=x),c&&(h|=_),a=s[h]}if(t.localClippingEnabled&&!0===n.clipShadows&&0!==n.clippingPlanes.length){var f=a.uuid,d=n.uuid,p=T[f];void 0===p&&(p={},T[f]=p);var m=p[d];void 0===m&&(m=a.clone(),p[d]=m),a=m}a.visible=n.visible,a.wireframe=n.wireframe;var g=n.side;return j.renderSingleSided&&g==ro&&(g=eo),j.renderReverseSided&&(g===eo?g=no:g===no&&(g=eo)),a.side=g,a.clipShadows=n.clipShadows,a.clippingPlanes=n.clippingPlanes,a.wireframeLinewidth=n.wireframeLinewidth,a.linewidth=n.linewidth,r&&void 0!==a.uniforms.lightPos&&a.uniforms.lightPos.value.copy(i),a}function c(t,e,n){if(!1!==t.visible){if(0!=(t.layers.mask&e.layers.mask)&&(t.isMesh||t.isLine||t.isPoints)&&t.castShadow&&(!1===t.frustumCulled||!0===d.intersectsObject(t))){!0===t.material.visible&&(t.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,t.matrixWorld),w.push(t))}for(var r=t.children,i=0,o=r.length;i<o;i++)c(r[i],e,n)}}var h=t.context,f=t.state,d=new rt,p=new l,m=e.shadows,g=new n,v=new n(a.maxTextureSize,a.maxTextureSize),y=new u,b=new u,w=[],x=1,_=2,E=1+(x|_),M=new Array(E),S=new Array(E),T={},C=[new u(1,0,0),new u(-1,0,0),new u(0,0,1),new u(0,0,-1),new u(0,1,0),new u(0,-1,0)],I=[new u(0,1,0),new u(0,1,0),new u(0,1,0),new u(0,1,0),new u(0,0,1),new u(0,0,-1)],O=[new i,new i,new i,new i,new i,new i],A=new Q;A.depthPacking=Qa,A.clipping=!0;for(var L=cs.distanceRGBA,R=as.clone(L.uniforms),N=0;N!==E;++N){var P=0!=(N&x),k=0!=(N&_),D=A.clone();D.morphTargets=P,D.skinning=k,M[N]=D;var F=new $({defines:{USE_SHADOWMAP:""},uniforms:R,vertexShader:L.vertexShader,fragmentShader:L.fragmentShader,morphTargets:P,skinning:k,clipping:!0});S[N]=F}var j=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Ji,this.renderReverseSided=!0,this.renderSingleSided=!0,this.render=function(e,n){if(!1!==j.enabled&&(!1!==j.autoUpdate||!1!==j.needsUpdate)&&0!==m.length){f.buffers.color.setClear(1,1,1,1),f.disable(h.BLEND),f.setDepthTest(!0),f.setScissorTest(!1);for(var i,a,u=0,l=m.length;u<l;u++){var x=m[u],_=x.shadow;if(void 0!==_){var E=_.camera;if(g.copy(_.mapSize),g.min(v),x&&x.isPointLight){i=6,a=!0;var M=g.x,S=g.y;O[0].set(2*M,S,M,S),O[1].set(0,S,M,S),O[2].set(3*M,S,M,S),O[3].set(M,S,M,S),O[4].set(3*M,0,M,S),O[5].set(M,0,M,S),g.x*=4,g.y*=2}else i=1,a=!1;if(null===_.map){var T={minFilter:ia,magFilter:ia,format:Ma};_.map=new o(g.x,g.y,T),E.updateProjectionMatrix()}_.isSpotLightShadow&&_.update(x),_&&_.isRectAreaLightShadow&&_.update(x);var A=_.map,L=_.matrix;b.setFromMatrixPosition(x.matrixWorld),E.position.copy(b),t.setRenderTarget(A),t.clear();for(var R=0;R<i;R++){if(a){y.copy(E.position),y.add(C[R]),E.up.copy(I[R]),E.lookAt(y);var N=O[R];f.viewport(N)}else y.setFromMatrixPosition(x.target.matrixWorld),E.lookAt(y);E.updateMatrixWorld(),E.matrixWorldInverse.getInverse(E.matrixWorld),L.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),L.multiply(E.projectionMatrix),L.multiply(E.matrixWorldInverse),p.multiplyMatrices(E.projectionMatrix,E.matrixWorldInverse),d.setFromMatrix(p),w.length=0,c(e,n,E);for(var P=0,k=w.length;P<k;P++){var D=w[P],F=r.update(D),U=D.material;if(U&&U.isMultiMaterial)for(var B=F.groups,z=U.materials,V=0,G=B.length;V<G;V++){var H=B[V],q=z[H.materialIndex];if(!0===q.visible){var W=s(D,q,a,b);t.renderBufferDirect(E,null,F,W,D,H)}}else{var W=s(D,U,a,b);t.renderBufferDirect(E,null,F,W,D,null)}}}}else console.warn("THREE.WebGLShadowMap:",x,"has no shadow.")}var Y=t.getClearColor(),X=t.getClearAlpha();t.setClearColor(Y,X),j.needsUpdate=!1}}}function ot(t,e){this.origin=void 0!==t?t:new u,this.direction=void 0!==e?e:new u}function at(t,e,n,r){this._x=t||0,this._y=e||0,this._z=n||0,this._order=r||at.DefaultOrder}function st(){this.mask=1}function ut(){function t(){i.setFromEuler(r,!1)}function e(){r.setFromQuaternion(i,void 0,!1)}Object.defineProperty(this,"id",{value:fs++}),this.uuid=Ja.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=ut.DefaultUp.clone();var n=new u,r=new at,i=new s,o=new u(1,1,1);r.onChange(t),i.onChange(e),Object.defineProperties(this,{position:{enumerable:!0,value:n},rotation:{enumerable:!0,value:r},quaternion:{enumerable:!0,value:i},scale:{enumerable:!0,value:o},modelViewMatrix:{value:new l},normalMatrix:{value:new et}}),this.matrix=new l,this.matrixWorld=new l,this.matrixAutoUpdate=ut.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new st,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={},this.onBeforeRender=function(){},this.onAfterRender=function(){}}function lt(t,e){this.start=void 0!==t?t:new u,this.end=void 0!==e?e:new u}function ct(t,e,n){this.a=void 0!==t?t:new u,this.b=void 0!==e?e:new u,this.c=void 0!==n?n:new u}function ht(t,e,n,r,i,o){this.a=t,this.b=e,this.c=n,this.normal=r&&r.isVector3?r:new u,this.vertexNormals=Array.isArray(r)?r:[],this.color=i&&i.isColor?i:new q,this.vertexColors=Array.isArray(i)?i:[],this.materialIndex=void 0!==o?o:0}function ft(t){K.call(this),this.type="MeshBasicMaterial",this.color=new q(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Bo,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.lights=!1,this.setValues(t)}function dt(t,e,n){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.uuid=Ja.generateUUID(),this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=!0===n,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.onUploadCallback=function(){},this.version=0}function pt(t,e){dt.call(this,new Int8Array(t),e)}function mt(t,e){dt.call(this,new Uint8Array(t),e)}function gt(t,e){dt.call(this,new Uint8ClampedArray(t),e)}function vt(t,e){dt.call(this,new Int16Array(t),e)}function yt(t,e){dt.call(this,new Uint16Array(t),e)}function bt(t,e){dt.call(this,new Int32Array(t),e)}function wt(t,e){dt.call(this,new Uint32Array(t),e)}function xt(t,e){dt.call(this,new Float32Array(t),e)}function _t(t,e){dt.call(this,new Float64Array(t),e)}function Et(){this.indices=[],this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function Mt(t){for(var e=t.length,n=-1/0;e--;)t[e]>n&&(n=t[e]);return n}function St(){return ds++}function Tt(){Object.defineProperty(this,"id",{value:St()}),this.uuid=Ja.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}function Ct(){Object.defineProperty(this,"id",{value:St()}),this.uuid=Ja.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0}}function It(t,e){ut.call(this),this.type="Mesh",this.geometry=void 0!==t?t:new Ct,this.material=void 0!==e?e:new ft({color:16777215*Math.random()}),this.drawMode=za,this.updateMorphTargets()}function Ot(t,e,n,r,i,o){Tt.call(this),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:n,widthSegments:r,heightSegments:i,depthSegments:o},this.fromBufferGeometry(new At(t,e,n,r,i,o)),this.mergeVertices()}function At(t,e,n,r,i,o){function a(t,e,n,r,i,o,a,m,g,v,y){var b,w,x=o/g,_=a/v,E=o/2,M=a/2,S=m/2,T=g+1,C=v+1,I=0,O=0,A=new u;for(w=0;w<C;w++){var L=w*_-M;for(b=0;b<T;b++){var R=b*x-E;A[t]=R*r,A[e]=L*i,A[n]=S,c.push(A.x,A.y,A.z),A[t]=0,A[e]=0,A[n]=m>0?1:-1,h.push(A.x,A.y,A.z),f.push(b/g),f.push(1-w/v),I+=1}}for(w=0;w<v;w++)for(b=0;b<g;b++){var N=d+b+T*w,P=d+b+T*(w+1),k=d+(b+1)+T*(w+1),D=d+(b+1)+T*w;l.push(N,P,D),l.push(P,k,D),O+=6}s.addGroup(p,O,y),p+=O,d+=I}Ct.call(this),this.type="BoxBufferGeometry",this.parameters={width:t,height:e,depth:n,widthSegments:r,heightSegments:i,depthSegments:o};var s=this;r=Math.floor(r)||1,i=Math.floor(i)||1,o=Math.floor(o)||1;var l=[],c=[],h=[],f=[],d=0,p=0;a("z","y","x",-1,-1,n,e,t,o,i,0),a("z","y","x",1,-1,n,e,-t,o,i,1),a("x","z","y",1,1,t,n,e,r,o,2),a("x","z","y",1,-1,t,n,-e,r,o,3),a("x","y","z",1,-1,t,e,n,r,i,4),a("x","y","z",-1,-1,t,e,-n,r,i,5),this.setIndex(l),this.addAttribute("position",new xt(c,3)),this.addAttribute("normal",new xt(h,3)),this.addAttribute("uv",new xt(f,2))}function Lt(t,e,n,r){Tt.call(this),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:n,heightSegments:r},this.fromBufferGeometry(new Rt(t,e,n,r))}function Rt(t,e,n,r){Ct.call(this),this.type="PlaneBufferGeometry",this.parameters={width:t,height:e,widthSegments:n,heightSegments:r};var i,o,a=t/2,s=e/2,u=Math.floor(n)||1,l=Math.floor(r)||1,c=u+1,h=l+1,f=t/u,d=e/l,p=[],m=[],g=[],v=[];for(o=0;o<h;o++){var y=o*d-s;for(i=0;i<c;i++){var b=i*f-a;m.push(b,-y,0),g.push(0,0,1),v.push(i/u),v.push(1-o/l)}}for(o=0;o<l;o++)for(i=0;i<u;i++){var w=i+c*o,x=i+c*(o+1),_=i+1+c*(o+1),E=i+1+c*o;p.push(w,x,E),p.push(x,_,E)}this.setIndex(p),this.addAttribute("position",new xt(m,3)),this.addAttribute("normal",new xt(g,3)),this.addAttribute("uv",new xt(v,2))}function Nt(){ut.call(this),this.type="Camera",this.matrixWorldInverse=new l,this.projectionMatrix=new l}function Pt(t,e,n,r){Nt.call(this),this.type="PerspectiveCamera",this.fov=void 0!==t?t:50,this.zoom=1,this.near=void 0!==n?n:.1,this.far=void 0!==r?r:2e3,this.focus=10,this.aspect=void 0!==e?e:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function kt(t,e,n,r,i,o){Nt.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=n,this.bottom=r,this.near=void 0!==i?i:.1,this.far=void 0!==o?o:2e3,this.updateProjectionMatrix()}function Dt(t,e,n){function r(t){s=t}function i(n){n.array instanceof Uint32Array&&e.get("OES_element_index_uint")?(u=t.UNSIGNED_INT,l=4):n.array instanceof Uint16Array?(u=t.UNSIGNED_SHORT,l=2):(u=t.UNSIGNED_BYTE,l=1)}function o(e,r){t.drawElements(s,r,u,e*l),n.calls++,n.vertices+=r,s===t.TRIANGLES&&(n.faces+=r/3)}function a(r,i,o){var a=e.get("ANGLE_instanced_arrays");if(null===a)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");a.drawElementsInstancedANGLE(s,o,u,i*l,r.maxInstancedCount),n.calls++,n.vertices+=o*r.maxInstancedCount,s===t.TRIANGLES&&(n.faces+=r.maxInstancedCount*o/3)}var s,u,l;return{setMode:r,setIndex:i,render:o,renderInstances:a}}function Ft(t,e,n){function r(t){a=t}function i(e,r){t.drawArrays(a,e,r),n.calls++,n.vertices+=r,a===t.TRIANGLES&&(n.faces+=r/3)}function o(r){var i=e.get("ANGLE_instanced_arrays");if(null===i)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");var o=r.attributes.position,s=0;o.isInterleavedBufferAttribute?(s=o.data.count,i.drawArraysInstancedANGLE(a,0,s,r.maxInstancedCount)):(s=o.count,i.drawArraysInstancedANGLE(a,0,s,r.maxInstancedCount)),n.calls++,n.vertices+=s*r.maxInstancedCount,a===t.TRIANGLES&&(n.faces+=r.maxInstancedCount*s/3)}var a;return{setMode:r,render:i,renderInstances:o}}function jt(){var t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];var r;switch(e.type){case"DirectionalLight":r={direction:new u,color:new q,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new n};break;case"SpotLight":r={position:new u,direction:new u,color:new q,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new n};break;case"PointLight":r={position:new u,color:new q,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new n};break;case"HemisphereLight":r={direction:new u,skyColor:new q,groundColor:new q};break;case"RectAreaLight":r={color:new q,position:new u,halfWidth:new u,halfHeight:new u}}return t[e.id]=r,r}}}function Ut(t){for(var e=t.split("\n"),n=0;n<e.length;n++)e[n]=n+1+": "+e[n];return e.join("\n")}function Bt(t,e,n){var r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),!1===t.getShaderParameter(r,t.COMPILE_STATUS)&&console.error("THREE.WebGLShader: Shader couldn't compile."),""!==t.getShaderInfoLog(r)&&console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",e===t.VERTEX_SHADER?"vertex":"fragment",t.getShaderInfoLog(r),Ut(n)),r}function zt(t){switch(t){case Ha:return["Linear","( value )"];case qa:return["sRGB","( value )"];case Ya:return["RGBE","( value )"];case Xa:return["RGBM","( value, 7.0 )"];case Za:return["RGBM","( value, 16.0 )"];case Ka:return["RGBD","( value, 256.0 )"];case Wa:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw new Error("unsupported encoding: "+t)}}function Vt(t,e){var n=zt(e);return"vec4 "+t+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function Gt(t,e){var n=zt(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function Ht(t,e){var n;switch(e){case Ho:n="Linear";break;case qo:n="Reinhard";break;case Wo:n="Uncharted2";break;case Yo:n="OptimizedCineon";break;default:throw new Error("unsupported toneMapping: "+e)}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function qt(t,e,n){return t=t||{},[t.derivatives||e.envMapCubeUV||e.bumpMap||e.normalMap||e.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(t.fragDepth||e.logarithmicDepthBuffer)&&n.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",t.drawBuffers&&n.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(t.shaderTextureLOD||e.envMap)&&n.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Xt).join("\n")}function Wt(t){var e=[];for(var n in t){var r=t[n];!1!==r&&e.push("#define "+n+" "+r)}return e.join("\n")}function Yt(t,e,n){for(var r={},i=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),o=0;o<i;o++){var a=t.getActiveAttrib(e,o),s=a.name;r[s]=t.getAttribLocation(e,s)}return r}function Xt(t){return""!==t}function Zt(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights)}function Kt(t){function e(t,e){var n=ss[e];if(void 0===n)throw new Error("Can not resolve #include <"+e+">");return Kt(n)}var n=/#include +<([\w\d.]+)>/g;return t.replace(n,e)}function $t(t){function e(t,e,n,r){for(var i="",o=parseInt(e);o<parseInt(n);o++)i+=r.replace(/\[ i \]/g,"[ "+o+" ]");return i}var n=/for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g;return t.replace(n,e)}function Qt(t,e,n,r){var i=t.context,o=n.extensions,a=n.defines,s=n.__webglShader.vertexShader,u=n.__webglShader.fragmentShader,l="SHADOWMAP_TYPE_BASIC";r.shadowMapType===Ji?l="SHADOWMAP_TYPE_PCF":r.shadowMapType===to&&(l="SHADOWMAP_TYPE_PCF_SOFT");var c="ENVMAP_TYPE_CUBE",h="ENVMAP_MODE_REFLECTION",f="ENVMAP_BLENDING_MULTIPLY";if(r.envMap){switch(n.envMap.mapping){case Xo:case Zo:c="ENVMAP_TYPE_CUBE";break;case Jo:case ta:c="ENVMAP_TYPE_CUBE_UV";break;case Ko:case $o:c="ENVMAP_TYPE_EQUIREC";break;case Qo:c="ENVMAP_TYPE_SPHERE"}switch(n.envMap.mapping){case Zo:case $o:h="ENVMAP_MODE_REFRACTION"}switch(n.combine){case Bo:f="ENVMAP_BLENDING_MULTIPLY";break;case zo:f="ENVMAP_BLENDING_MIX";break;case Vo:f="ENVMAP_BLENDING_ADD"}}var d,p,m=t.gammaFactor>0?t.gammaFactor:1,g=qt(o,r,t.extensions),v=Wt(a),y=i.createProgram();n.isRawShaderMaterial?(d=[v,"\n"].filter(Xt).join("\n"),p=[g,v,"\n"].filter(Xt).join("\n")):(d=["precision "+r.precision+" float;","precision "+r.precision+" int;","#define SHADER_NAME "+n.__webglShader.name,v,r.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+m,"#define MAX_BONES "+r.maxBones,r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+h:"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.displacementMap&&r.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.vertexColors?"#define USE_COLOR":"",r.flatShading?"#define FLAT_SHADED":"",r.skinning?"#define USE_SKINNING":"",r.useVertexTexture?"#define BONE_TEXTURE":"",r.morphTargets?"#define USE_MORPHTARGETS":"",r.morphNormals&&!1===r.flatShading?"#define USE_MORPHNORMALS":"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+r.numClippingPlanes,r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+l:"",r.sizeAttenuation?"#define USE_SIZEATTENUATION":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&t.extensions.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Xt).join("\n"),p=[g,"precision "+r.precision+" float;","precision "+r.precision+" int;","#define SHADER_NAME "+n.__webglShader.name,v,r.alphaTest?"#define ALPHATEST "+r.alphaTest:"","#define GAMMA_FACTOR "+m,r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+c:"",r.envMap?"#define "+h:"",r.envMap?"#define "+f:"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.vertexColors?"#define USE_COLOR":"",r.gradientMap?"#define USE_GRADIENTMAP":"",r.flatShading?"#define FLAT_SHADED":"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+r.numClippingPlanes,"#define UNION_CLIPPING_PLANES "+(r.numClippingPlanes-r.numClipIntersection),r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+l:"",r.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",r.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&t.extensions.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"",r.envMap&&t.extensions.get("EXT_shader_texture_lod")?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",r.toneMapping!==Go?"#define TONE_MAPPING":"",r.toneMapping!==Go?ss.tonemapping_pars_fragment:"",r.toneMapping!==Go?Ht("toneMapping",r.toneMapping):"",r.outputEncoding||r.mapEncoding||r.envMapEncoding||r.emissiveMapEncoding?ss.encodings_pars_fragment:"",r.mapEncoding?Vt("mapTexelToLinear",r.mapEncoding):"",r.envMapEncoding?Vt("envMapTexelToLinear",r.envMapEncoding):"",r.emissiveMapEncoding?Vt("emissiveMapTexelToLinear",r.emissiveMapEncoding):"",r.outputEncoding?Gt("linearToOutputTexel",r.outputEncoding):"",r.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(Xt).join("\n")),s=Kt(s,r),s=Zt(s,r),u=Kt(u,r),u=Zt(u,r),n.isShaderMaterial||(s=$t(s),u=$t(u));var b=d+s,w=p+u,x=Bt(i,i.VERTEX_SHADER,b),_=Bt(i,i.FRAGMENT_SHADER,w);i.attachShader(y,x),i.attachShader(y,_),void 0!==n.index0AttributeName?i.bindAttribLocation(y,0,n.index0AttributeName):!0===r.morphTargets&&i.bindAttribLocation(y,0,"position"),i.linkProgram(y);var E=i.getProgramInfoLog(y),M=i.getShaderInfoLog(x),S=i.getShaderInfoLog(_),T=!0,C=!0;!1===i.getProgramParameter(y,i.LINK_STATUS)?(T=!1,console.error("THREE.WebGLProgram: shader error: ",i.getError(),"gl.VALIDATE_STATUS",i.getProgramParameter(y,i.VALIDATE_STATUS),"gl.getProgramInfoLog",E,M,S)):""!==E?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",E):""!==M&&""!==S||(C=!1),C&&(this.diagnostics={runnable:T,material:n,programLog:E,vertexShader:{log:M,prefix:d},fragmentShader:{log:S,prefix:p}}),i.deleteShader(x),i.deleteShader(_);var I;this.getUniforms=function(){return void 0===I&&(I=new H(i,y,t)),I};var O;return this.getAttributes=function(){return void 0===O&&(O=Yt(i,y)),O},this.destroy=function(){i.deleteProgram(y),this.program=void 0},Object.defineProperties(this,{uniforms:{get:function(){return console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms()."),this.getUniforms()}},attributes:{get:function(){return console.warn("THREE.WebGLProgram: .attributes is now .getAttributes()."),this.getAttributes()}}}),this.id=ps++,this.code=e,this.usedTimes=1,this.program=y,this.vertexShader=x,this.fragmentShader=_,this}function Jt(t,e){function n(t){if(e.floatVertexTextures&&t&&t.skeleton&&t.skeleton.useVertexTexture)return 1024;var n=e.maxVertexUniforms,r=Math.floor((n-20)/4),i=r;return void 0!==t&&t&&t.isSkinnedMesh&&(i=Math.min(t.skeleton.bones.length,i))<t.skeleton.bones.length&&console.warn("WebGLRenderer: too many bones - "+t.skeleton.bones.length+", this GPU supports just "+i+" (try OpenGL instead of ANGLE)"),i}function r(t,e){var n;return t?t.isTexture?n=t.encoding:t.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),n=t.texture.encoding):n=Ha,n===Ha&&e&&(n=Wa),n}var i=[],o={MeshDepthMaterial:"depth",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points"},a=["precision","supportsVertexTextures","map","mapEncoding","envMap","envMapMode","envMapEncoding","lightMap","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","fog","useFog","fogExp","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking"];this.getParameters=function(i,a,s,u,l,c){var h=o[i.type],f=n(c),d=t.getPrecision();null!==i.precision&&(d=e.getMaxPrecision(i.precision))!==i.precision&&console.warn("THREE.WebGLProgram.getParameters:",i.precision,"not supported, using",d,"instead.");var p=t.getCurrentRenderTarget();return{shaderID:h,precision:d,supportsVertexTextures:e.vertexTextures,outputEncoding:r(p?p.texture:null,t.gammaOutput),map:!!i.map,mapEncoding:r(i.map,t.gammaInput),envMap:!!i.envMap,envMapMode:i.envMap&&i.envMap.mapping,envMapEncoding:r(i.envMap,t.gammaInput),envMapCubeUV:!!i.envMap&&(i.envMap.mapping===Jo||i.envMap.mapping===ta),lightMap:!!i.lightMap,aoMap:!!i.aoMap,emissiveMap:!!i.emissiveMap,emissiveMapEncoding:r(i.emissiveMap,t.gammaInput),bumpMap:!!i.bumpMap,normalMap:!!i.normalMap,displacementMap:!!i.displacementMap,roughnessMap:!!i.roughnessMap,metalnessMap:!!i.metalnessMap,specularMap:!!i.specularMap,alphaMap:!!i.alphaMap,gradientMap:!!i.gradientMap,combine:i.combine,vertexColors:i.vertexColors,fog:!!s,useFog:i.fog,fogExp:s&&s.isFogExp2,flatShading:i.shading===io,sizeAttenuation:i.sizeAttenuation,logarithmicDepthBuffer:e.logarithmicDepthBuffer,skinning:i.skinning,maxBones:f,useVertexTexture:e.floatVertexTextures&&c&&c.skeleton&&c.skeleton.useVertexTexture,morphTargets:i.morphTargets,morphNormals:i.morphNormals,maxMorphTargets:t.maxMorphTargets,maxMorphNormals:t.maxMorphNormals,numDirLights:a.directional.length,numPointLights:a.point.length,numSpotLights:a.spot.length,numRectAreaLights:a.rectArea.length,numHemiLights:a.hemi.length,numClippingPlanes:u,numClipIntersection:l,shadowMapEnabled:t.shadowMap.enabled&&c.receiveShadow&&a.shadows.length>0,shadowMapType:t.shadowMap.type,toneMapping:t.toneMapping,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:i.premultipliedAlpha,alphaTest:i.alphaTest,doubleSided:i.side===ro,flipSided:i.side===no,depthPacking:void 0!==i.depthPacking&&i.depthPacking}},this.getProgramCode=function(t,e){var n=[];if(e.shaderID?n.push(e.shaderID):(n.push(t.fragmentShader),n.push(t.vertexShader)),void 0!==t.defines)for(var r in t.defines)n.push(r),n.push(t.defines[r]);for(var i=0;i<a.length;i++)n.push(e[a[i]]);return n.join()},this.acquireProgram=function(e,n,r){for(var o,a=0,s=i.length;a<s;a++){var u=i[a];if(u.code===r){o=u,++o.usedTimes;break}}return void 0===o&&(o=new Qt(t,r,e,n),i.push(o)),o},this.releaseProgram=function(t){if(0==--t.usedTimes){var e=i.indexOf(t);i[e]=i[i.length-1],i.pop(),t.destroy()}},this.programs=i}function te(t,e,n){function r(t){var i=t.target,s=u[i.id];null!==s.index&&o(s.index),a(s.attributes),i.removeEventListener("dispose",r),delete u[i.id];var l=e.get(i);l.wireframe&&o(l.wireframe),e.delete(i);var c=e.get(s);c.wireframe&&o(c.wireframe),e.delete(s),n.memory.geometries--}function i(t){return t.isInterleavedBufferAttribute?e.get(t.data).__webglBuffer:e.get(t).__webglBuffer}function o(e){var n=i(e);void 0!==n&&(t.deleteBuffer(n),s(e))}function a(t){for(var e in t)o(t[e])}function s(t){t.isInterleavedBufferAttribute?e.delete(t.data):e.delete(t)}var u={};return{get:function(t){var e=t.geometry;if(void 0!==u[e.id])return u[e.id];e.addEventListener("dispose",r);var i;return e.isBufferGeometry?i=e:e.isGeometry&&(void 0===e._bufferGeometry&&(e._bufferGeometry=(new Ct).setFromObject(t)),i=e._bufferGeometry),u[e.id]=i,n.memory.geometries++,i}}}function ee(t,e,n){function r(e){var n=c.get(e);e.geometry.isGeometry&&n.updateFromObject(e);var r=n.index,o=n.attributes;null!==r&&i(r,t.ELEMENT_ARRAY_BUFFER);for(var a in o)i(o[a],t.ARRAY_BUFFER);var s=n.morphAttributes;for(var a in s)for(var u=s[a],l=0,h=u.length;l<h;l++)i(u[l],t.ARRAY_BUFFER);return n}function i(t,n){var r=t.isInterleavedBufferAttribute?t.data:t,i=e.get(r);void 0===i.__webglBuffer?o(i,r,n):i.version!==r.version&&a(i,r,n)}function o(e,n,r){e.__webglBuffer=t.createBuffer(),t.bindBuffer(r,e.__webglBuffer);var i=n.dynamic?t.DYNAMIC_DRAW:t.STATIC_DRAW;t.bufferData(r,n.array,i);var o=t.FLOAT,a=n.array;a instanceof Float32Array?o=t.FLOAT:a instanceof Float64Array?console.warn("Unsupported data buffer format: Float64Array"):a instanceof Uint16Array?o=t.UNSIGNED_SHORT:a instanceof Int16Array?o=t.SHORT:a instanceof Uint32Array?o=t.UNSIGNED_INT:a instanceof Int32Array?o=t.INT:a instanceof Int8Array?o=t.BYTE:a instanceof Uint8Array&&(o=t.UNSIGNED_BYTE),e.bytesPerElement=a.BYTES_PER_ELEMENT,e.type=o,e.version=n.version,n.onUploadCallback()}function a(e,n,r){t.bindBuffer(r,e.__webglBuffer),!1===n.dynamic?t.bufferData(r,n.array,t.STATIC_DRAW):-1===n.updateRange.count?t.bufferSubData(r,0,n.array):0===n.updateRange.count?console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):(t.bufferSubData(r,n.updateRange.offset*n.array.BYTES_PER_ELEMENT,n.array.subarray(n.updateRange.offset,n.updateRange.offset+n.updateRange.count)),n.updateRange.count=0),e.version=n.version}function s(t){return t.isInterleavedBufferAttribute?e.get(t.data).__webglBuffer:e.get(t).__webglBuffer}function u(t){return t.isInterleavedBufferAttribute?e.get(t.data):e.get(t)}function l(n){var r=e.get(n);if(void 0!==r.wireframe)return r.wireframe;var o=[],a=n.index,s=n.attributes;if(null!==a)for(var u=a.array,l=0,c=u.length;l<c;l+=3){var h=u[l+0],f=u[l+1],d=u[l+2];o.push(h,f,f,d,d,h)}else for(var u=s.position.array,l=0,c=u.length/3-1;l<c;l+=3){var h=l+0,f=l+1,d=l+2;o.push(h,f,f,d,d,h)}var p=new(Mt(o)>65535?wt:yt)(o,1);return i(p,t.ELEMENT_ARRAY_BUFFER),r.wireframe=p,p}var c=new te(t,e,n);return{getAttributeBuffer:s,getAttributeProperties:u,getWireframeAttribute:l,update:r}}function ne(t,e,n,r,i,o,a){function s(t,e){if(t.width>e||t.height>e){var n=e/Math.max(t.width,t.height),r=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");r.width=Math.floor(t.width*n),r.height=Math.floor(t.height*n);return r.getContext("2d").drawImage(t,0,0,t.width,t.height,0,0,r.width,r.height),console.warn("THREE.WebGLRenderer: image is too big ("+t.width+"x"+t.height+"). Resized to "+r.width+"x"+r.height,t),r}return t}function u(t){return Ja.isPowerOfTwo(t.width)&&Ja.isPowerOfTwo(t.height)}function l(t){if(t instanceof HTMLImageElement||t instanceof HTMLCanvasElement){var e=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");e.width=Ja.nearestPowerOfTwo(t.width),e.height=Ja.nearestPowerOfTwo(t.height);return e.getContext("2d").drawImage(t,0,0,e.width,e.height),console.warn("THREE.WebGLRenderer: image is not power of two ("+t.width+"x"+t.height+"). Resized to "+e.width+"x"+e.height,t),e}return t}function c(t){return t.wrapS!==na||t.wrapT!==na||t.minFilter!==ia&&t.minFilter!==sa}function h(e){return e===ia||e===oa||e===aa?t.NEAREST:t.LINEAR}function f(t){var e=t.target;e.removeEventListener("dispose",f),p(e),C.textures--}function d(t){var e=t.target;e.removeEventListener("dispose",d),m(e),C.textures--}function p(e){var n=r.get(e);if(e.image&&n.__image__webglTextureCube)t.deleteTexture(n.__image__webglTextureCube);else{if(void 0===n.__webglInit)return;t.deleteTexture(n.__webglTexture)}r.delete(e)}function m(e){var n=r.get(e),i=r.get(e.texture);if(e){if(void 0!==i.__webglTexture&&t.deleteTexture(i.__webglTexture),e.depthTexture&&e.depthTexture.dispose(),e.isWebGLRenderTargetCube)for(var o=0;o<6;o++)t.deleteFramebuffer(n.__webglFramebuffer[o]),n.__webglDepthbuffer&&t.deleteRenderbuffer(n.__webglDepthbuffer[o]);else t.deleteFramebuffer(n.__webglFramebuffer),n.__webglDepthbuffer&&t.deleteRenderbuffer(n.__webglDepthbuffer);r.delete(e.texture),r.delete(e)}}function g(e,i){var o=r.get(e);if(e.version>0&&o.__version!==e.version){var a=e.image;if(void 0===a)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined",e);else{if(!1!==a.complete)return void w(o,e,i);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete",e)}}n.activeTexture(t.TEXTURE0+i),n.bindTexture(t.TEXTURE_2D,o.__webglTexture)}function v(e,a){var l=r.get(e);if(6===e.image.length)if(e.version>0&&l.__version!==e.version){l.__image__webglTextureCube||(e.addEventListener("dispose",f),l.__image__webglTextureCube=t.createTexture(),C.textures++),n.activeTexture(t.TEXTURE0+a),n.bindTexture(t.TEXTURE_CUBE_MAP,l.__image__webglTextureCube),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,e.flipY);for(var c=e&&e.isCompressedTexture,h=e.image[0]&&e.image[0].isDataTexture,d=[],p=0;p<6;p++)d[p]=c||h?h?e.image[p].image:e.image[p]:s(e.image[p],i.maxCubemapSize);var m=d[0],g=u(m),v=o(e.format),y=o(e.type);b(t.TEXTURE_CUBE_MAP,e,g);for(var p=0;p<6;p++)if(c)for(var w,x=d[p].mipmaps,_=0,E=x.length;_<E;_++)w=x[_],e.format!==Ma&&e.format!==Ea?n.getCompressedTextureFormats().indexOf(v)>-1?n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+p,_,v,w.width,w.height,0,w.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+p,_,v,w.width,w.height,0,v,y,w.data);else h?n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+p,0,v,d[p].width,d[p].height,0,v,y,d[p].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+p,0,v,v,y,d[p]);e.generateMipmaps&&g&&t.generateMipmap(t.TEXTURE_CUBE_MAP),l.__version=e.version,e.onUpdate&&e.onUpdate(e)}else n.activeTexture(t.TEXTURE0+a),n.bindTexture(t.TEXTURE_CUBE_MAP,l.__image__webglTextureCube)}function y(e,i){n.activeTexture(t.TEXTURE0+i),n.bindTexture(t.TEXTURE_CUBE_MAP,r.get(e).__webglTexture)}function b(n,a,s){var u;if(s?(t.texParameteri(n,t.TEXTURE_WRAP_S,o(a.wrapS)),t.texParameteri(n,t.TEXTURE_WRAP_T,o(a.wrapT)),t.texParameteri(n,t.TEXTURE_MAG_FILTER,o(a.magFilter)),t.texParameteri(n,t.TEXTURE_MIN_FILTER,o(a.minFilter))):(t.texParameteri(n,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(n,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),a.wrapS===na&&a.wrapT===na||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.",a),t.texParameteri(n,t.TEXTURE_MAG_FILTER,h(a.magFilter)),t.texParameteri(n,t.TEXTURE_MIN_FILTER,h(a.minFilter)),a.minFilter!==ia&&a.minFilter!==sa&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.",a)),u=e.get("EXT_texture_filter_anisotropic")){if(a.type===ga&&null===e.get("OES_texture_float_linear"))return;if(a.type===va&&null===e.get("OES_texture_half_float_linear"))return;(a.anisotropy>1||r.get(a).__currentAnisotropy)&&(t.texParameterf(n,u.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,i.getMaxAnisotropy())),r.get(a).__currentAnisotropy=a.anisotropy)}}function w(e,r,a){void 0===e.__webglInit&&(e.__webglInit=!0,r.addEventListener("dispose",f),e.__webglTexture=t.createTexture(),C.textures++),n.activeTexture(t.TEXTURE0+a),n.bindTexture(t.TEXTURE_2D,e.__webglTexture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,r.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,r.unpackAlignment);var h=s(r.image,i.maxTextureSize);c(r)&&!1===u(h)&&(h=l(h));var d=u(h),p=o(r.format),m=o(r.type);b(t.TEXTURE_2D,r,d);var g,v=r.mipmaps;if(r.isDepthTexture){var y=t.DEPTH_COMPONENT;if(r.type===ga){if(!I)throw new Error("Float Depth Texture only supported in WebGL2.0");y=t.DEPTH_COMPONENT32F}else I&&(y=t.DEPTH_COMPONENT16);r.format===Ia&&y===t.DEPTH_COMPONENT&&r.type!==da&&r.type!==ma&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),r.type=da,m=o(r.type)),r.format===Oa&&(y=t.DEPTH_STENCIL,r.type!==xa&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),r.type=xa,m=o(r.type))),n.texImage2D(t.TEXTURE_2D,0,y,h.width,h.height,0,p,m,null)}else if(r.isDataTexture)if(v.length>0&&d){for(var w=0,x=v.length;w<x;w++)g=v[w],n.texImage2D(t.TEXTURE_2D,w,p,g.width,g.height,0,p,m,g.data);r.generateMipmaps=!1}else n.texImage2D(t.TEXTURE_2D,0,p,h.width,h.height,0,p,m,h.data);else if(r.isCompressedTexture)for(var w=0,x=v.length;w<x;w++)g=v[w],r.format!==Ma&&r.format!==Ea?n.getCompressedTextureFormats().indexOf(p)>-1?n.compressedTexImage2D(t.TEXTURE_2D,w,p,g.width,g.height,0,g.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(t.TEXTURE_2D,w,p,g.width,g.height,0,p,m,g.data);else if(v.length>0&&d){for(var w=0,x=v.length;w<x;w++)g=v[w],n.texImage2D(t.TEXTURE_2D,w,p,p,m,g);r.generateMipmaps=!1}else n.texImage2D(t.TEXTURE_2D,0,p,p,m,h);r.generateMipmaps&&d&&t.generateMipmap(t.TEXTURE_2D),e.__version=r.version,r.onUpdate&&r.onUpdate(r)}function x(e,i,a,s){var u=o(i.texture.format),l=o(i.texture.type);n.texImage2D(s,0,u,i.width,i.height,0,u,l,null),t.bindFramebuffer(t.FRAMEBUFFER,e),t.framebufferTexture2D(t.FRAMEBUFFER,a,s,r.get(i.texture).__webglTexture,0),t.bindFramebuffer(t.FRAMEBUFFER,null)}function _(e,n){t.bindRenderbuffer(t.RENDERBUFFER,e),n.depthBuffer&&!n.stencilBuffer?(t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_COMPONENT16,n.width,n.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,e)):n.depthBuffer&&n.stencilBuffer?(t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,n.width,n.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,e)):t.renderbufferStorage(t.RENDERBUFFER,t.RGBA4,n.width,n.height),t.bindRenderbuffer(t.RENDERBUFFER,null)}function E(e,n){if(n&&n.isWebGLRenderTargetCube)throw new Error("Depth Texture with cube render targets is not supported!");if(t.bindFramebuffer(t.FRAMEBUFFER,e),!n.depthTexture||!n.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(n.depthTexture).__webglTexture&&n.depthTexture.image.width===n.width&&n.depthTexture.image.height===n.height||(n.depthTexture.image.width=n.width,n.depthTexture.image.height=n.height,n.depthTexture.needsUpdate=!0),g(n.depthTexture,0);var i=r.get(n.depthTexture).__webglTexture;if(n.depthTexture.format===Ia)t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,i,0);else{if(n.depthTexture.format!==Oa)throw new Error("Unknown depthTexture format");t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,i,0)}}function M(e){var n=r.get(e),i=!0===e.isWebGLRenderTargetCube;if(e.depthTexture){if(i)throw new Error("target.depthTexture not supported in Cube render targets");E(n.__webglFramebuffer,e)}else if(i){n.__webglDepthbuffer=[];for(var o=0;o<6;o++)t.bindFramebuffer(t.FRAMEBUFFER,n.__webglFramebuffer[o]),n.__webglDepthbuffer[o]=t.createRenderbuffer(),_(n.__webglDepthbuffer[o],e)}else t.bindFramebuffer(t.FRAMEBUFFER,n.__webglFramebuffer),n.__webglDepthbuffer=t.createRenderbuffer(),_(n.__webglDepthbuffer,e);t.bindFramebuffer(t.FRAMEBUFFER,null)}function S(e){var i=r.get(e),o=r.get(e.texture);e.addEventListener("dispose",d),o.__webglTexture=t.createTexture(),C.textures++;var a=!0===e.isWebGLRenderTargetCube,s=u(e);if(a){i.__webglFramebuffer=[];for(var l=0;l<6;l++)i.__webglFramebuffer[l]=t.createFramebuffer()}else i.__webglFramebuffer=t.createFramebuffer();if(a){n.bindTexture(t.TEXTURE_CUBE_MAP,o.__webglTexture),b(t.TEXTURE_CUBE_MAP,e.texture,s);for(var l=0;l<6;l++)x(i.__webglFramebuffer[l],e,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+l);e.texture.generateMipmaps&&s&&t.generateMipmap(t.TEXTURE_CUBE_MAP),n.bindTexture(t.TEXTURE_CUBE_MAP,null)}else n.bindTexture(t.TEXTURE_2D,o.__webglTexture),b(t.TEXTURE_2D,e.texture,s),x(i.__webglFramebuffer,e,t.COLOR_ATTACHMENT0,t.TEXTURE_2D),e.texture.generateMipmaps&&s&&t.generateMipmap(t.TEXTURE_2D),n.bindTexture(t.TEXTURE_2D,null);e.depthBuffer&&M(e)}function T(e){var i=e.texture;if(i.generateMipmaps&&u(e)&&i.minFilter!==ia&&i.minFilter!==sa){var o=e&&e.isWebGLRenderTargetCube?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,a=r.get(i).__webglTexture;n.bindTexture(o,a),t.generateMipmap(o),n.bindTexture(o,null)}}var C=a.memory,I="undefined"!=typeof WebGL2RenderingContext&&t instanceof WebGL2RenderingContext;this.setTexture2D=g,this.setTextureCube=v,this.setTextureCubeDynamic=y,this.setupRenderTarget=S,this.updateRenderTargetMipmap=T}function re(){var t={};return{get:function(e){var n=e.uuid,r=t[n];return void 0===r&&(r={},t[n]=r),r},delete:function(e){delete t[e.uuid]},clear:function(){t={}}}}function ie(t,e,n){function r(){var e=!1,n=new i,r=null,o=new i;return{setMask:function(n){r===n||e||(t.colorMask(n,n,n,n),r=n)},setLocked:function(t){e=t},setClear:function(e,r,i,a,s){!0===s&&(e*=a,r*=a,i*=a),n.set(e,r,i,a),!1===o.equals(n)&&(t.clearColor(e,r,i,a),o.copy(n))},reset:function(){e=!1,r=null,o.set(0,0,0,1)}}}function o(){var e=!1,n=null,r=null,i=null;return{setTest:function(e){e?d(t.DEPTH_TEST):p(t.DEPTH_TEST)},setMask:function(r){n===r||e||(t.depthMask(r),n=r)},setFunc:function(e){if(r!==e){if(e)switch(e){case Ro:t.depthFunc(t.NEVER);break;case No:t.depthFunc(t.ALWAYS);break;case Po:t.depthFunc(t.LESS);break;case ko:t.depthFunc(t.LEQUAL);break;case Do:t.depthFunc(t.EQUAL);break;case Fo:t.depthFunc(t.GEQUAL);break;case jo:t.depthFunc(t.GREATER);break;case Uo:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}else t.depthFunc(t.LEQUAL);r=e}},setLocked:function(t){e=t},setClear:function(e){i!==e&&(t.clearDepth(e),i=e)},reset:function(){e=!1,n=null,r=null,i=null}}}function a(){var e=!1,n=null,r=null,i=null,o=null,a=null,s=null,u=null,l=null;return{setTest:function(e){e?d(t.STENCIL_TEST):p(t.STENCIL_TEST)},setMask:function(r){n===r||e||(t.stencilMask(r),n=r)},setFunc:function(e,n,a){r===e&&i===n&&o===a||(t.stencilFunc(e,n,a),r=e,i=n,o=a)},setOp:function(e,n,r){a===e&&s===n&&u===r||(t.stencilOp(e,n,r),a=e,s=n,u=r)},setLocked:function(t){e=t},setClear:function(e){l!==e&&(t.clearStencil(e),l=e)},reset:function(){e=!1,n=null,r=null,i=null,o=null,a=null,s=null,u=null,l=null}}}function s(e,n,r){var i=new Uint8Array(4),o=t.createTexture();t.bindTexture(e,o),t.texParameteri(e,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(e,t.TEXTURE_MAG_FILTER,t.NEAREST);for(var a=0;a<r;a++)t.texImage2D(n+a,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,i);return o}function u(){j.setClear(0,0,0,1),U.setClear(1),B.setClear(0),d(t.DEPTH_TEST),w(ko),S(!1),T(Ki),d(t.CULL_FACE),d(t.BLEND),g(co)}function l(){for(var t=0,e=V.length;t<e;t++)V[t]=0}function c(n){if(V[n]=1,0===G[n]&&(t.enableVertexAttribArray(n),G[n]=1),0!==H[n]){e.get("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(n,0),H[n]=0}}function h(e,n,r){V[e]=1,0===G[e]&&(t.enableVertexAttribArray(e),G[e]=1),H[e]!==n&&(r.vertexAttribDivisorANGLE(e,n),H[e]=n)}function f(){for(var e=0,n=G.length;e!==n;++e)G[e]!==V[e]&&(t.disableVertexAttribArray(e),G[e]=0)}function d(e){!0!==q[e]&&(t.enable(e),q[e]=!0)}function p(e){!1!==q[e]&&(t.disable(e),q[e]=!1)}function m(){if(null===W&&(W=[],e.get("WEBGL_compressed_texture_pvrtc")||e.get("WEBGL_compressed_texture_s3tc")||e.get("WEBGL_compressed_texture_etc1")))for(var n=t.getParameter(t.COMPRESSED_TEXTURE_FORMATS),r=0;r<n.length;r++)W.push(n[r]);return W}function g(e,r,i,o,a,s,u,l){e!==lo?d(t.BLEND):p(t.BLEND),e===Y&&l===tt||(e===ho?l?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ONE,t.ONE,t.ONE,t.ONE)):(t.blendEquation(t.FUNC_ADD),t.blendFunc(t.SRC_ALPHA,t.ONE)):e===fo?l?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ZERO,t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ONE_MINUS_SRC_ALPHA)):(t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ZERO,t.ONE_MINUS_SRC_COLOR)):e===po?l?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA)):(t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ZERO,t.SRC_COLOR)):l?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA)):(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA)),Y=e,tt=l),e===mo?(a=a||r,s=s||i,u=u||o,r===X&&a===$||(t.blendEquationSeparate(n(r),n(a)),X=r,$=a),i===Z&&o===K&&s===Q&&u===J||(t.blendFuncSeparate(n(i),n(o),n(s),n(u)),Z=i,K=o,Q=s,J=u)):(X=null,Z=null,K=null,$=null,Q=null,J=null)}function v(t){j.setMask(t)}function y(t){U.setTest(t)}function b(t){U.setMask(t)}function w(t){U.setFunc(t)}function x(t){B.setTest(t)}function _(t){B.setMask(t)}function E(t,e,n){B.setFunc(t,e,n)}function M(t,e,n){B.setOp(t,e,n)}function S(e){et!==e&&(e?t.frontFace(t.CW):t.frontFace(t.CCW),et=e)}function T(e){e!==Zi?(d(t.CULL_FACE),e!==nt&&(e===Ki?t.cullFace(t.BACK):e===$i?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):p(t.CULL_FACE),nt=e}function C(e){e!==rt&&(lt&&t.lineWidth(e),rt=e)}function I(e,n,r){e?(d(t.POLYGON_OFFSET_FILL),it===n&&ot===r||(t.polygonOffset(n,r),it=n,ot=r)):p(t.POLYGON_OFFSET_FILL)}function O(){return at}function A(e){at=e,e?d(t.SCISSOR_TEST):p(t.SCISSOR_TEST)}function L(e){void 0===e&&(e=t.TEXTURE0+st-1),ct!==e&&(t.activeTexture(e),ct=e)}function R(e,n){null===ct&&L();var r=ht[ct];void 0===r&&(r={type:void 0,texture:void 0},ht[ct]=r),r.type===e&&r.texture===n||(t.bindTexture(e,n||pt[e]),r.type=e,r.texture=n)}function N(){try{t.compressedTexImage2D.apply(t,arguments)}catch(t){console.error(t)}}function P(){try{t.texImage2D.apply(t,arguments)}catch(t){console.error(t)}}function k(e){!1===ft.equals(e)&&(t.scissor(e.x,e.y,e.z,e.w),ft.copy(e))}function D(e){!1===dt.equals(e)&&(t.viewport(e.x,e.y,e.z,e.w),dt.copy(e))}function F(){for(var e=0;e<G.length;e++)1===G[e]&&(t.disableVertexAttribArray(e),G[e]=0);q={},W=null,ct=null,ht={},Y=null,et=null,nt=null,j.reset(),U.reset(),B.reset()}var j=new r,U=new o,B=new a,z=t.getParameter(t.MAX_VERTEX_ATTRIBS),V=new Uint8Array(z),G=new Uint8Array(z),H=new Uint8Array(z),q={},W=null,Y=null,X=null,Z=null,K=null,$=null,Q=null,J=null,tt=!1,et=null,nt=null,rt=null,it=null,ot=null,at=null,st=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),ut=parseFloat(/^WebGL\ ([0-9])/.exec(t.getParameter(t.VERSION))[1]),lt=parseFloat(ut)>=1,ct=null,ht={},ft=new i,dt=new i,pt={};return pt[t.TEXTURE_2D]=s(t.TEXTURE_2D,t.TEXTURE_2D,1),pt[t.TEXTURE_CUBE_MAP]=s(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),{buffers:{color:j,depth:U,stencil:B},init:u,initAttributes:l,enableAttribute:c,enableAttributeAndDivisor:h,disableUnusedAttributes:f,enable:d,disable:p,getCompressedTextureFormats:m,setBlending:g,setColorWrite:v,setDepthTest:y,setDepthWrite:b,setDepthFunc:w,setStencilTest:x,setStencilWrite:_,setStencilFunc:E,setStencilOp:M,setFlipSided:S,setCullFace:T,setLineWidth:C,setPolygonOffset:I,getScissorTest:O,setScissorTest:A,activeTexture:L,bindTexture:R,compressedTexImage2D:N,texImage2D:P,scissor:k,viewport:D,reset:F}}function oe(t,e,n){function r(){if(void 0!==o)return o;var n=e.get("EXT_texture_filter_anisotropic");return o=null!==n?t.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}function i(e){if("highp"===e){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";e="mediump"}return"mediump"===e&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}var o,a=void 0!==n.precision?n.precision:"highp",s=i(a);s!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",s,"instead."),a=s);var u=!0===n.logarithmicDepthBuffer&&!!e.get("EXT_frag_depth"),l=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),c=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),h=t.getParameter(t.MAX_TEXTURE_SIZE),f=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),d=t.getParameter(t.MAX_VERTEX_ATTRIBS),p=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),m=t.getParameter(t.MAX_VARYING_VECTORS),g=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),v=c>0,y=!!e.get("OES_texture_float");return{getMaxAnisotropy:r,getMaxPrecision:i,precision:a,logarithmicDepthBuffer:u,maxTextures:l,maxVertexTextures:c,maxTextureSize:h,maxCubemapSize:f,maxAttributes:d,maxVertexUniforms:p,maxVaryings:m,maxFragmentUniforms:g,vertexTextures:v,floatFragmentTextures:y,floatVertexTextures:v&&y}}function ae(t){var e={};return{get:function(n){if(void 0!==e[n])return e[n];var r;switch(n){case"WEBGL_depth_texture":r=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;case"WEBGL_compressed_texture_etc1":r=t.getExtension("WEBGL_compressed_texture_etc1");break;default:r=t.getExtension(n)}return null===r&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),e[n]=r,r}}}function se(){function t(){l.value!==r&&(l.value=r,l.needsUpdate=i>0),n.numPlanes=i,n.numIntersection=0}function e(t,e,r,i){var o=null!==t?t.length:0,a=null;if(0!==o){if(a=l.value,!0!==i||null===a){var c=r+4*o,h=e.matrixWorldInverse;u.getNormalMatrix(h),(null===a||a.length<c)&&(a=new Float32Array(c));for(var f=0,d=r;f!==o;++f,d+=4)s.copy(t[f]).applyMatrix4(h,u),s.normal.toArray(a,d),a[d+3]=s.constant}l.value=a,l.needsUpdate=!0}return n.numPlanes=o,a}var n=this,r=null,i=0,o=!1,a=!1,s=new nt,u=new et,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(t,n,a){var s=0!==t.length||n||0!==i||o;return o=n,r=e(t,a,0),i=t.length,s},this.beginShadows=function(){a=!0,e(null)},this.endShadows=function(){a=!1,t()},this.setState=function(n,s,u,c,h,f){if(!o||null===n||0===n.length||a&&!u)a?e(null):t();else{var d=a?0:i,p=4*d,m=h.clippingState||null;l.value=m,m=e(n,c,p,f);for(var g=0;g!==p;++g)m[g]=r[g];h.clippingState=m,this.numIntersection=s?this.numPlanes:0,this.numPlanes+=d}}}function ue(t){function e(){return null===dt?Tt:1}function n(){ue.init(),ue.scissor(yt.copy(Ot).multiplyScalar(Tt)),ue.viewport(wt.copy(Nt).multiplyScalar(Tt)),ue.buffers.color.setClear(_t.r,_t.g,_t.b,Et,K)}function r(){ht=null,vt=null,gt="",mt=-1,ue.reset()}function o(t){t.preventDefault(),r(),n(),le.clear()}function a(t){var e=t.target;e.removeEventListener("dispose",a),s(e)}function s(t){c(t),le.delete(t)}function c(t){var e=le.get(t).program;t.program=void 0,void 0!==e&&fe.releaseProgram(e)}function h(t,e,n,r){var i;if(n&&n.isInstancedBufferGeometry&&null===(i=Qt.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");void 0===r&&(r=0),ue.initAttributes();var o=n.attributes,a=e.getAttributes(),s=t.defaultAttributeValues;for(var u in a){var l=a[u];if(l>=0){var c=o[u];if(void 0!==c){var h=c.normalized,f=c.itemSize,d=he.getAttributeProperties(c),p=d.__webglBuffer,m=d.type,g=d.bytesPerElement;if(c.isInterleavedBufferAttribute){var v=c.data,y=v.stride,b=c.offset;v&&v.isInstancedInterleavedBuffer?(ue.enableAttributeAndDivisor(l,v.meshPerAttribute,i),void 0===n.maxInstancedCount&&(n.maxInstancedCount=v.meshPerAttribute*v.count)):ue.enableAttribute(l),Kt.bindBuffer(Kt.ARRAY_BUFFER,p),Kt.vertexAttribPointer(l,f,m,h,y*g,(r*y+b)*g)}else c.isInstancedBufferAttribute?(ue.enableAttributeAndDivisor(l,c.meshPerAttribute,i),void 0===n.maxInstancedCount&&(n.maxInstancedCount=c.meshPerAttribute*c.count)):ue.enableAttribute(l),Kt.bindBuffer(Kt.ARRAY_BUFFER,p),Kt.vertexAttribPointer(l,f,m,h,0,r*f*g)}else if(void 0!==s){var w=s[u];if(void 0!==w)switch(w.length){case 2:Kt.vertexAttrib2fv(l,w);break;case 3:Kt.vertexAttrib3fv(l,w);break;case 4:Kt.vertexAttrib4fv(l,w);break;default:Kt.vertexAttrib1fv(l,w)}}}}ue.disableUnusedAttributes()}function f(t,e){return Math.abs(e[0])-Math.abs(t[0])}function d(t,e){return t.object.renderOrder!==e.object.renderOrder?t.object.renderOrder-e.object.renderOrder:t.material.program&&e.material.program&&t.material.program!==e.material.program?t.material.program.id-e.material.program.id:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function p(t,e){return t.object.renderOrder!==e.object.renderOrder?t.object.renderOrder-e.object.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function m(t,e,n,r,i){var o,a;n.transparent?(o=ot,a=++at):(o=et,a=++nt);var s=o[a];void 0!==s?(s.id=t.id,s.object=t,s.geometry=e,s.material=n,s.z=qt.z,s.group=i):(s={id:t.id,object:t,geometry:e,material:n,z:qt.z,group:i},o.push(s))}function g(t){var e=t.geometry;return null===e.boundingSphere&&e.computeBoundingSphere(),Gt.copy(e.boundingSphere).applyMatrix4(t.matrixWorld),y(Gt)}function v(t){return Gt.center.set(0,0,0),Gt.radius=.7071067811865476,Gt.applyMatrix4(t.matrixWorld),y(Gt)}function y(t){if(!Ut.intersectsSphere(t))return!1;var e=Bt.numPlanes;if(0===e)return!0;var n=ct.clippingPlanes,r=t.center,i=-t.radius,o=0;do{if(n[o].distanceToPoint(r)<i)return!1}while(++o!==e);return!0}function b(t,e){if(!1!==t.visible){if(0!=(t.layers.mask&e.layers.mask))if(t.isLight)J.push(t);else if(t.isSprite)!1!==t.frustumCulled&&!0!==v(t)||ut.push(t);else if(t.isLensFlare)lt.push(t);else if(t.isImmediateRenderObject)!0===ct.sortObjects&&(qt.setFromMatrixPosition(t.matrixWorld),qt.applyMatrix4(Ht)),m(t,null,t.material,qt.z,null);else if((t.isMesh||t.isLine||t.isPoints)&&(t.isSkinnedMesh&&t.skeleton.update(),!1===t.frustumCulled||!0===g(t))){var n=t.material;if(!0===n.visible){!0===ct.sortObjects&&(qt.setFromMatrixPosition(t.matrixWorld),qt.applyMatrix4(Ht));var r=he.update(t);if(n.isMultiMaterial)for(var i=r.groups,o=n.materials,a=0,s=i.length;a<s;a++){var u=i[a],l=o[u.materialIndex];!0===l.visible&&m(t,r,l,qt.z,u)}else m(t,r,n,qt.z,null)}}for(var c=t.children,a=0,s=c.length;a<s;a++)b(c[a],e)}}function w(t,e,n,r){for(var i=0,o=t.length;i<o;i++){var a=t[i],s=a.object,u=a.geometry,l=void 0===r?a.material:r,c=a.group;if(s.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,s.matrixWorld),s.normalMatrix.getNormalMatrix(s.modelViewMatrix),s.onBeforeRender(ct,e,n,u,l,c),s.isImmediateRenderObject){_(l);var h=E(n,e.fog,l,s);gt="",s.render(function(t){ct.renderBufferImmediate(t,h,l)})}else ct.renderBufferDirect(n,e.fog,u,l,s,c);s.onAfterRender(ct,e,n,u,l,c)}}function x(t,e,n){var r=le.get(t),i=fe.getParameters(t,Xt,e,Bt.numPlanes,Bt.numIntersection,n),o=fe.getProgramCode(t,i),s=r.program,u=!0;if(void 0===s)t.addEventListener("dispose",a);else if(s.code!==o)c(t);else{if(void 0!==i.shaderID)return;u=!1}if(u){if(i.shaderID){var l=cs[i.shaderID];r.__webglShader={name:t.type,uniforms:as.clone(l.uniforms),vertexShader:l.vertexShader,fragmentShader:l.fragmentShader}}else r.__webglShader={name:t.type,uniforms:t.uniforms,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader};t.__webglShader=r.__webglShader,s=fe.acquireProgram(t,i,o),r.program=s,t.program=s}var h=s.getAttributes();if(t.morphTargets){t.numSupportedMorphTargets=0;for(var f=0;f<ct.maxMorphTargets;f++)h["morphTarget"+f]>=0&&t.numSupportedMorphTargets++}if(t.morphNormals){t.numSupportedMorphNormals=0;for(var f=0;f<ct.maxMorphNormals;f++)h["morphNormal"+f]>=0&&t.numSupportedMorphNormals++}var d=r.__webglShader.uniforms;(t.isShaderMaterial||t.isRawShaderMaterial)&&!0!==t.clipping||(r.numClippingPlanes=Bt.numPlanes,r.numIntersection=Bt.numIntersection,d.clippingPlanes=Bt.uniform),r.fog=e,r.lightsHash=Xt.hash,t.lights&&(d.ambientLightColor.value=Xt.ambient,d.directionalLights.value=Xt.directional,d.spotLights.value=Xt.spot,d.rectAreaLights.value=Xt.rectArea,d.pointLights.value=Xt.point,d.hemisphereLights.value=Xt.hemi,d.directionalShadowMap.value=Xt.directionalShadowMap,d.directionalShadowMatrix.value=Xt.directionalShadowMatrix,d.spotShadowMap.value=Xt.spotShadowMap,d.spotShadowMatrix.value=Xt.spotShadowMatrix,d.pointShadowMap.value=Xt.pointShadowMap,d.pointShadowMatrix.value=Xt.pointShadowMatrix);var p=r.program.getUniforms(),m=H.seqWithValue(p.seq,d);r.uniformsList=m}function _(t){t.side===ro?ue.disable(Kt.CULL_FACE):ue.enable(Kt.CULL_FACE),ue.setFlipSided(t.side===no),!0===t.transparent?ue.setBlending(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha):ue.setBlending(lo),ue.setDepthFunc(t.depthFunc),ue.setDepthTest(t.depthTest),ue.setDepthWrite(t.depthWrite),ue.setColorWrite(t.colorWrite),ue.setPolygonOffset(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits)}function E(t,e,n,r){xt=0;var i=le.get(n);if(zt&&(Vt||t!==vt)){var o=t===vt&&n.id===mt;Bt.setState(n.clippingPlanes,n.clipIntersection,n.clipShadows,t,i,o)}!1===n.needsUpdate&&(void 0===i.program?n.needsUpdate=!0:n.fog&&i.fog!==e?n.needsUpdate=!0:n.lights&&i.lightsHash!==Xt.hash?n.needsUpdate=!0:void 0===i.numClippingPlanes||i.numClippingPlanes===Bt.numPlanes&&i.numIntersection===Bt.numIntersection||(n.needsUpdate=!0)),n.needsUpdate&&(x(n,e,r),n.needsUpdate=!1);var a=!1,s=!1,u=!1,l=i.program,c=l.getUniforms(),h=i.__webglShader.uniforms;if(l.id!==ht&&(Kt.useProgram(l.program),ht=l.id,a=!0,s=!0,u=!0),n.id!==mt&&(mt=n.id,s=!0),a||t!==vt){if(c.set(Kt,t,"projectionMatrix"),te.logarithmicDepthBuffer&&c.setValue(Kt,"logDepthBufFC",2/(Math.log(t.far+1)/Math.LN2)),t!==vt&&(vt=t,s=!0,u=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshStandardMaterial||n.envMap){var f=c.map.cameraPosition;void 0!==f&&f.setValue(Kt,qt.setFromMatrixPosition(t.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.skinning)&&c.setValue(Kt,"viewMatrix",t.matrixWorldInverse),c.set(Kt,ct,"toneMappingExposure"),c.set(Kt,ct,"toneMappingWhitePoint")}if(n.skinning){c.setOptional(Kt,r,"bindMatrix"),c.setOptional(Kt,r,"bindMatrixInverse");var d=r.skeleton;d&&(te.floatVertexTextures&&d.useVertexTexture?(c.set(Kt,d,"boneTexture"),c.set(Kt,d,"boneTextureWidth"),c.set(Kt,d,"boneTextureHeight")):c.setOptional(Kt,d,"boneMatrices"))}return s&&(n.lights&&k(h,u),e&&n.fog&&I(h,e),(n.isMeshBasicMaterial||n.isMeshLambertMaterial||n.isMeshPhongMaterial||n.isMeshStandardMaterial||n.isMeshNormalMaterial||n.isMeshDepthMaterial)&&M(h,n),n.isLineBasicMaterial?S(h,n):n.isLineDashedMaterial?(S(h,n),T(h,n)):n.isPointsMaterial?C(h,n):n.isMeshLambertMaterial?O(h,n):n.isMeshToonMaterial?L(h,n):n.isMeshPhongMaterial?A(h,n):n.isMeshPhysicalMaterial?N(h,n):n.isMeshStandardMaterial?R(h,n):n.isMeshDepthMaterial?n.displacementMap&&(h.displacementMap.value=n.displacementMap,h.displacementScale.value=n.displacementScale,h.displacementBias.value=n.displacementBias):n.isMeshNormalMaterial&&P(h,n),void 0!==h.ltcMat&&(h.ltcMat.value=THREE.UniformsLib.LTC_MAT_TEXTURE),void 0!==h.ltcMag&&(h.ltcMag.value=THREE.UniformsLib.LTC_MAG_TEXTURE),H.upload(Kt,i.uniformsList,h,ct)),c.set(Kt,r,"modelViewMatrix"),c.set(Kt,r,"normalMatrix"),c.setValue(Kt,"modelMatrix",r.matrixWorld),l}function M(t,e){t.opacity.value=e.opacity,t.diffuse.value=e.color,e.emissive&&t.emissive.value.copy(e.emissive).multiplyScalar(e.emissiveIntensity),t.map.value=e.map,t.specularMap.value=e.specularMap,t.alphaMap.value=e.alphaMap,e.lightMap&&(t.lightMap.value=e.lightMap,t.lightMapIntensity.value=e.lightMapIntensity),e.aoMap&&(t.aoMap.value=e.aoMap,t.aoMapIntensity.value=e.aoMapIntensity);var n;if(e.map?n=e.map:e.specularMap?n=e.specularMap:e.displacementMap?n=e.displacementMap:e.normalMap?n=e.normalMap:e.bumpMap?n=e.bumpMap:e.roughnessMap?n=e.roughnessMap:e.metalnessMap?n=e.metalnessMap:e.alphaMap?n=e.alphaMap:e.emissiveMap&&(n=e.emissiveMap),void 0!==n){n.isWebGLRenderTarget&&(n=n.texture);var r=n.offset,i=n.repeat;t.offsetRepeat.value.set(r.x,r.y,i.x,i.y)}t.envMap.value=e.envMap,t.flipEnvMap.value=e.envMap&&e.envMap.isCubeTexture?-1:1,t.reflectivity.value=e.reflectivity,t.refractionRatio.value=e.refractionRatio}function S(t,e){t.diffuse.value=e.color,t.opacity.value=e.opacity}function T(t,e){t.dashSize.value=e.dashSize,t.totalSize.value=e.dashSize+e.gapSize,t.scale.value=e.scale}function C(t,e){if(t.diffuse.value=e.color,t.opacity.value=e.opacity,t.size.value=e.size*Tt,t.scale.value=.5*St,t.map.value=e.map,null!==e.map){var n=e.map.offset,r=e.map.repeat;t.offsetRepeat.value.set(n.x,n.y,r.x,r.y)}}function I(t,e){t.fogColor.value=e.color,e.isFog?(t.fogNear.value=e.near,t.fogFar.value=e.far):e.isFogExp2&&(t.fogDensity.value=e.density)}function O(t,e){e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap)}function A(t,e){t.specular.value=e.specular,t.shininess.value=Math.max(e.shininess,1e-4),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale)),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}function L(t,e){A(t,e),e.gradientMap&&(t.gradientMap.value=e.gradientMap)}function R(t,e){t.roughness.value=e.roughness,t.metalness.value=e.metalness,e.roughnessMap&&(t.roughnessMap.value=e.roughnessMap),e.metalnessMap&&(t.metalnessMap.value=e.metalnessMap),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale)),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias),e.envMap&&(t.envMapIntensity.value=e.envMapIntensity)}function N(t,e){t.clearCoat.value=e.clearCoat,t.clearCoatRoughness.value=e.clearCoatRoughness,R(t,e)}function P(t,e){e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale)),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}function k(t,e){t.ambientLightColor.needsUpdate=e,t.directionalLights.needsUpdate=e,t.pointLights.needsUpdate=e,t.spotLights.needsUpdate=e,t.rectAreaLights.needsUpdate=e,t.hemisphereLights.needsUpdate=e}function D(t){for(var e=0,n=0,r=t.length;n<r;n++){var i=t[n];i.castShadow&&(Xt.shadows[e++]=i)}Xt.shadows.length=e}function F(t,e){var n,r,i,o,a,s,u,c=0,h=0,f=0,d=e.matrixWorldInverse,p=0,m=0,g=0,v=0,y=0;for(n=0,r=t.length;n<r;n++)if(i=t[n],o=i.color,a=i.intensity,s=i.distance,u=i.shadow&&i.shadow.map?i.shadow.map.texture:null,i.isAmbientLight)c+=o.r*a,h+=o.g*a,f+=o.b*a;else if(i.isDirectionalLight){var b=de.get(i);b.color.copy(i.color).multiplyScalar(i.intensity),b.direction.setFromMatrixPosition(i.matrixWorld),qt.setFromMatrixPosition(i.target.matrixWorld),b.direction.sub(qt),b.direction.transformDirection(d),b.shadow=i.castShadow,i.castShadow&&(b.shadowBias=i.shadow.bias,b.shadowRadius=i.shadow.radius,b.shadowMapSize=i.shadow.mapSize),Xt.directionalShadowMap[p]=u,Xt.directionalShadowMatrix[p]=i.shadow.matrix,Xt.directional[p++]=b}else if(i.isSpotLight){var b=de.get(i);b.position.setFromMatrixPosition(i.matrixWorld),b.position.applyMatrix4(d),b.color.copy(o).multiplyScalar(a),b.distance=s,b.direction.setFromMatrixPosition(i.matrixWorld),qt.setFromMatrixPosition(i.target.matrixWorld),b.direction.sub(qt),b.direction.transformDirection(d),b.coneCos=Math.cos(i.angle),b.penumbraCos=Math.cos(i.angle*(1-i.penumbra)),b.decay=0===i.distance?0:i.decay,b.shadow=i.castShadow,i.castShadow&&(b.shadowBias=i.shadow.bias,b.shadowRadius=i.shadow.radius,b.shadowMapSize=i.shadow.mapSize),Xt.spotShadowMap[g]=u,Xt.spotShadowMatrix[g]=i.shadow.matrix,Xt.spot[g++]=b}else if(i.isRectAreaLight){var b=de.get(i);b.color.copy(o).multiplyScalar(a/(i.width*i.height)),b.position.setFromMatrixPosition(i.matrixWorld),b.position.applyMatrix4(d),Yt.identity(),Wt.copy(i.matrixWorld),Wt.premultiply(d),Yt.extractRotation(Wt),b.halfWidth.set(.5*i.width,0,0),b.halfHeight.set(0,.5*i.height,0),b.halfWidth.applyMatrix4(Yt),b.halfHeight.applyMatrix4(Yt),Xt.rectArea[v++]=b}else if(i.isPointLight){var b=de.get(i);b.position.setFromMatrixPosition(i.matrixWorld),b.position.applyMatrix4(d),b.color.copy(i.color).multiplyScalar(i.intensity),b.distance=i.distance,b.decay=0===i.distance?0:i.decay,b.shadow=i.castShadow,i.castShadow&&(b.shadowBias=i.shadow.bias,b.shadowRadius=i.shadow.radius,b.shadowMapSize=i.shadow.mapSize),Xt.pointShadowMap[m]=u,void 0===Xt.pointShadowMatrix[m]&&(Xt.pointShadowMatrix[m]=new l),qt.setFromMatrixPosition(i.matrixWorld).negate(),Xt.pointShadowMatrix[m].identity().setPosition(qt),Xt.point[m++]=b}else if(i.isHemisphereLight){var b=de.get(i);b.direction.setFromMatrixPosition(i.matrixWorld),b.direction.transformDirection(d),b.direction.normalize(),b.skyColor.copy(i.color).multiplyScalar(a),b.groundColor.copy(i.groundColor).multiplyScalar(a),Xt.hemi[y++]=b}Xt.ambient[0]=c,Xt.ambient[1]=h,Xt.ambient[2]=f,Xt.directional.length=p,Xt.spot.length=g,Xt.rectArea.length=v,Xt.point.length=m,Xt.hemi.length=y,Xt.hash=p+","+m+","+g+","+v+","+y+","+Xt.shadows.length}function j(){var t=xt;return t>=te.maxTextures&&console.warn("WebGLRenderer: trying to use "+t+" texture units while this GPU supports only "+te.maxTextures),xt+=1,t}function U(t){var e;if(t===ea)return Kt.REPEAT;if(t===na)return Kt.CLAMP_TO_EDGE;if(t===ra)return Kt.MIRRORED_REPEAT;if(t===ia)return Kt.NEAREST;if(t===oa)return Kt.NEAREST_MIPMAP_NEAREST;if(t===aa)return Kt.NEAREST_MIPMAP_LINEAR;if(t===sa)return Kt.LINEAR;if(t===ua)return Kt.LINEAR_MIPMAP_NEAREST;if(t===la)return Kt.LINEAR_MIPMAP_LINEAR;if(t===ca)return Kt.UNSIGNED_BYTE;if(t===ya)return Kt.UNSIGNED_SHORT_4_4_4_4;if(t===ba)return Kt.UNSIGNED_SHORT_5_5_5_1;if(t===wa)return Kt.UNSIGNED_SHORT_5_6_5;if(t===ha)return Kt.BYTE;if(t===fa)return Kt.SHORT;if(t===da)return Kt.UNSIGNED_SHORT;if(t===pa)return Kt.INT;if(t===ma)return Kt.UNSIGNED_INT;if(t===ga)return Kt.FLOAT;if(t===va&&null!==(e=Qt.get("OES_texture_half_float")))return e.HALF_FLOAT_OES;if(t===_a)return Kt.ALPHA;if(t===Ea)return Kt.RGB;if(t===Ma)return Kt.RGBA;if(t===Sa)return Kt.LUMINANCE;if(t===Ta)return Kt.LUMINANCE_ALPHA;if(t===Ia)return Kt.DEPTH_COMPONENT;if(t===Oa)return Kt.DEPTH_STENCIL;if(t===go)return Kt.FUNC_ADD;if(t===vo)return Kt.FUNC_SUBTRACT;if(t===yo)return Kt.FUNC_REVERSE_SUBTRACT;if(t===xo)return Kt.ZERO;if(t===_o)return Kt.ONE;if(t===Eo)return Kt.SRC_COLOR;if(t===Mo)return Kt.ONE_MINUS_SRC_COLOR;if(t===So)return Kt.SRC_ALPHA;if(t===To)return Kt.ONE_MINUS_SRC_ALPHA;if(t===Co)return Kt.DST_ALPHA;if(t===Io)return Kt.ONE_MINUS_DST_ALPHA;if(t===Oo)return Kt.DST_COLOR;if(t===Ao)return Kt.ONE_MINUS_DST_COLOR;if(t===Lo)return Kt.SRC_ALPHA_SATURATE;if((t===Aa||t===La||t===Ra||t===Na)&&null!==(e=Qt.get("WEBGL_compressed_texture_s3tc"))){if(t===Aa)return e.COMPRESSED_RGB_S3TC_DXT1_EXT;if(t===La)return e.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(t===Ra)return e.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(t===Na)return e.COMPRESSED_RGBA_S3TC_DXT5_EXT}if((t===Pa||t===ka||t===Da||t===Fa)&&null!==(e=Qt.get("WEBGL_compressed_texture_pvrtc"))){if(t===Pa)return e.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(t===ka)return e.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(t===Da)return e.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(t===Fa)return e.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(t===ja&&null!==(e=Qt.get("WEBGL_compressed_texture_etc1")))return e.COMPRESSED_RGB_ETC1_WEBGL;if((t===bo||t===wo)&&null!==(e=Qt.get("EXT_blend_minmax"))){if(t===bo)return e.MIN_EXT;if(t===wo)return e.MAX_EXT}return t===xa&&null!==(e=Qt.get("WEBGL_depth_texture"))?e.UNSIGNED_INT_24_8_WEBGL:0}console.log("THREE.WebGLRenderer",Yi),t=t||{};var B=void 0!==t.canvas?t.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),z=void 0!==t.context?t.context:null,V=void 0!==t.alpha&&t.alpha,G=void 0===t.depth||t.depth,W=void 0===t.stencil||t.stencil,Y=void 0!==t.antialias&&t.antialias,K=void 0===t.premultipliedAlpha||t.premultipliedAlpha,Q=void 0!==t.preserveDrawingBuffer&&t.preserveDrawingBuffer,J=[],et=[],nt=-1,ot=[],at=-1,st=new Float32Array(8),ut=[],lt=[];this.domElement=B,this.context=null,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=Ho,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var ct=this,ht=null,dt=null,pt=null,mt=-1,gt="",vt=null,yt=new i,bt=null,wt=new i,xt=0,_t=new q(0),Et=0,Mt=B.width,St=B.height,Tt=1,Ot=new i(0,0,Mt,St),Lt=!1,Nt=new i(0,0,Mt,St),Ut=new rt,Bt=new se,zt=!1,Vt=!1,Gt=new tt,Ht=new l,qt=new u,Wt=new l,Yt=new l,Xt={hash:"",ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],shadows:[]},Zt={calls:0,vertices:0,faces:0,points:0};this.info={render:Zt,memory:{geometries:0,textures:0},programs:null};var Kt;try{var $t={alpha:V,depth:G,stencil:W,antialias:Y,premultipliedAlpha:K,preserveDrawingBuffer:Q};if(null===(Kt=z||B.getContext("webgl",$t)||B.getContext("experimental-webgl",$t)))throw null!==B.getContext("webgl")?"Error creating WebGL context with your selected attributes.":"Error creating WebGL context.";void 0===Kt.getShaderPrecisionFormat&&(Kt.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}}),B.addEventListener("webglcontextlost",o,!1)}catch(t){console.error("THREE.WebGLRenderer: "+t)}var Qt=new ae(Kt);Qt.get("WEBGL_depth_texture"),Qt.get("OES_texture_float"),Qt.get("OES_texture_float_linear"),Qt.get("OES_texture_half_float"),Qt.get("OES_texture_half_float_linear"),Qt.get("OES_standard_derivatives"),Qt.get("ANGLE_instanced_arrays"),Qt.get("OES_element_index_uint")&&(Ct.MaxIndex=4294967296);var te=new oe(Kt,Qt,t),ue=new ie(Kt,Qt,U),le=new re,ce=new ne(Kt,Qt,ue,le,te,U,this.info),he=new ee(Kt,le,this.info),fe=new Jt(this,te),de=new jt;this.info.programs=fe.programs;var pe,me,ge,ve,ye=new Ft(Kt,Qt,Zt),be=new Dt(Kt,Qt,Zt);n(),this.context=Kt,this.capabilities=te,this.extensions=Qt,this.properties=le,this.state=ue;var we=new it(this,Xt,he,te);this.shadowMap=we;var xe=new Z(this,ut),_e=new X(this,lt);this.getContext=function(){return Kt},this.getContextAttributes=function(){return Kt.getContextAttributes()},this.forceContextLoss=function(){Qt.get("WEBGL_lose_context").loseContext()},this.getMaxAnisotropy=function(){return te.getMaxAnisotropy()},this.getPrecision=function(){return te.precision},this.getPixelRatio=function(){return Tt},this.setPixelRatio=function(t){void 0!==t&&(Tt=t,this.setSize(Nt.z,Nt.w,!1))},this.getSize=function(){return{width:Mt,height:St}},this.setSize=function(t,e,n){Mt=t,St=e,B.width=t*Tt,B.height=e*Tt,!1!==n&&(B.style.width=t+"px",B.style.height=e+"px"),this.setViewport(0,0,t,e)},this.setViewport=function(t,e,n,r){ue.viewport(Nt.set(t,e,n,r))},this.setScissor=function(t,e,n,r){ue.scissor(Ot.set(t,e,n,r))},this.setScissorTest=function(t){ue.setScissorTest(Lt=t)},this.getClearColor=function(){return _t},this.setClearColor=function(t,e){_t.set(t),Et=void 0!==e?e:1,ue.buffers.color.setClear(_t.r,_t.g,_t.b,Et,K)},this.getClearAlpha=function(){return Et},this.setClearAlpha=function(t){Et=t,ue.buffers.color.setClear(_t.r,_t.g,_t.b,Et,K)},this.clear=function(t,e,n){var r=0;(void 0===t||t)&&(r|=Kt.COLOR_BUFFER_BIT),(void 0===e||e)&&(r|=Kt.DEPTH_BUFFER_BIT),(void 0===n||n)&&(r|=Kt.STENCIL_BUFFER_BIT),Kt.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.clearTarget=function(t,e,n,r){this.setRenderTarget(t),this.clear(e,n,r)},this.resetGLState=r,this.dispose=function(){ot=[],at=-1,et=[],nt=-1,B.removeEventListener("webglcontextlost",o,!1)},this.renderBufferImmediate=function(t,e,n){ue.initAttributes();var r=le.get(t);t.hasPositions&&!r.position&&(r.position=Kt.createBuffer()),t.hasNormals&&!r.normal&&(r.normal=Kt.createBuffer()),t.hasUvs&&!r.uv&&(r.uv=Kt.createBuffer()),t.hasColors&&!r.color&&(r.color=Kt.createBuffer());var i=e.getAttributes();if(t.hasPositions&&(Kt.bindBuffer(Kt.ARRAY_BUFFER,r.position),Kt.bufferData(Kt.ARRAY_BUFFER,t.positionArray,Kt.DYNAMIC_DRAW),ue.enableAttribute(i.position),Kt.vertexAttribPointer(i.position,3,Kt.FLOAT,!1,0,0)),t.hasNormals){if(Kt.bindBuffer(Kt.ARRAY_BUFFER,r.normal),!n.isMeshPhongMaterial&&!n.isMeshStandardMaterial&&!n.isMeshNormalMaterial&&n.shading===io)for(var o=0,a=3*t.count;o<a;o+=9){var s=t.normalArray,u=(s[o+0]+s[o+3]+s[o+6])/3,l=(s[o+1]+s[o+4]+s[o+7])/3,c=(s[o+2]+s[o+5]+s[o+8])/3;s[o+0]=u,s[o+1]=l,s[o+2]=c,s[o+3]=u,s[o+4]=l,s[o+5]=c,s[o+6]=u,s[o+7]=l,s[o+8]=c}Kt.bufferData(Kt.ARRAY_BUFFER,t.normalArray,Kt.DYNAMIC_DRAW),ue.enableAttribute(i.normal),Kt.vertexAttribPointer(i.normal,3,Kt.FLOAT,!1,0,0)}t.hasUvs&&n.map&&(Kt.bindBuffer(Kt.ARRAY_BUFFER,r.uv),Kt.bufferData(Kt.ARRAY_BUFFER,t.uvArray,Kt.DYNAMIC_DRAW),ue.enableAttribute(i.uv),Kt.vertexAttribPointer(i.uv,2,Kt.FLOAT,!1,0,0)),t.hasColors&&n.vertexColors!==ao&&(Kt.bindBuffer(Kt.ARRAY_BUFFER,r.color),Kt.bufferData(Kt.ARRAY_BUFFER,t.colorArray,Kt.DYNAMIC_DRAW),ue.enableAttribute(i.color),Kt.vertexAttribPointer(i.color,3,Kt.FLOAT,!1,0,0)),ue.disableUnusedAttributes(),Kt.drawArrays(Kt.TRIANGLES,0,t.count),t.count=0},this.renderBufferDirect=function(t,n,r,i,o,a){_(i);var s=E(t,n,i,o),u=!1,l=r.id+"_"+s.id+"_"+i.wireframe;l!==gt&&(gt=l,u=!0);var c=o.morphTargetInfluences;if(void 0!==c){for(var d=[],p=0,m=c.length;p<m;p++){var g=c[p];d.push([g,p])}d.sort(f),d.length>8&&(d.length=8);for(var v=r.morphAttributes,p=0,m=d.length;p<m;p++){var g=d[p];if(st[p]=g[0],0!==g[0]){var y=g[1];!0===i.morphTargets&&v.position&&r.addAttribute("morphTarget"+p,v.position[y]),!0===i.morphNormals&&v.normal&&r.addAttribute("morphNormal"+p,v.normal[y])}else!0===i.morphTargets&&r.removeAttribute("morphTarget"+p),!0===i.morphNormals&&r.removeAttribute("morphNormal"+p)}for(var p=d.length,b=st.length;p<b;p++)st[p]=0;s.getUniforms().setValue(Kt,"morphTargetInfluences",st),u=!0}var y=r.index,w=r.attributes.position,x=1;!0===i.wireframe&&(y=he.getWireframeAttribute(r),x=2);var M;null!==y?(M=be,M.setIndex(y)):M=ye,u&&(h(i,s,r),null!==y&&Kt.bindBuffer(Kt.ELEMENT_ARRAY_BUFFER,he.getAttributeBuffer(y)));var S=0;null!==y?S=y.count:void 0!==w&&(S=w.count);var T=r.drawRange.start*x,C=r.drawRange.count*x,I=null!==a?a.start*x:0,O=null!==a?a.count*x:1/0,A=Math.max(T,I),L=Math.min(S,T+C,I+O)-1,R=Math.max(0,L-A+1);if(0!==R){if(o.isMesh)if(!0===i.wireframe)ue.setLineWidth(i.wireframeLinewidth*e()),M.setMode(Kt.LINES);else switch(o.drawMode){case za:M.setMode(Kt.TRIANGLES);break;case Va:M.setMode(Kt.TRIANGLE_STRIP);break;case Ga:M.setMode(Kt.TRIANGLE_FAN)}else if(o.isLine){var N=i.linewidth;void 0===N&&(N=1),ue.setLineWidth(N*e()),o.isLineSegments?M.setMode(Kt.LINES):M.setMode(Kt.LINE_STRIP)}else o.isPoints&&M.setMode(Kt.POINTS);r&&r.isInstancedBufferGeometry?r.maxInstancedCount>0&&M.renderInstances(r,A,R):M.render(A,R)}},this.render=function(t,e,n,r){if(void 0!==e&&!0!==e.isCamera)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");gt="",mt=-1,vt=null,!0===t.autoUpdate&&t.updateMatrixWorld(),null===e.parent&&e.updateMatrixWorld(),e.matrixWorldInverse.getInverse(e.matrixWorld),Ht.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),Ut.setFromMatrix(Ht),J.length=0,nt=-1,at=-1,ut.length=0,lt.length=0,Vt=this.localClippingEnabled,zt=Bt.init(this.clippingPlanes,Vt,e),b(t,e),et.length=nt+1,ot.length=at+1,!0===ct.sortObjects&&(et.sort(d),ot.sort(p)),zt&&Bt.beginShadows(),D(J),we.render(t,e),F(J,e),zt&&Bt.endShadows(),Zt.calls=0,Zt.vertices=0,Zt.faces=0,Zt.points=0,void 0===n&&(n=null),this.setRenderTarget(n);var i=t.background;if(null===i?ue.buffers.color.setClear(_t.r,_t.g,_t.b,Et,K):i&&i.isColor&&(ue.buffers.color.setClear(i.r,i.g,i.b,1,K),r=!0),(this.autoClear||r)&&this.clear(this.autoClearColor,this.autoClearDepth,this.autoClearStencil),i&&i.isCubeTexture?(void 0===ge&&(ge=new Pt,ve=new It(new At(5,5,5),new $({uniforms:cs.cube.uniforms,vertexShader:cs.cube.vertexShader,fragmentShader:cs.cube.fragmentShader,side:no,depthTest:!1,depthWrite:!1,fog:!1}))),ge.projectionMatrix.copy(e.projectionMatrix),ge.matrixWorld.extractRotation(e.matrixWorld),ge.matrixWorldInverse.getInverse(ge.matrixWorld),ve.material.uniforms.tCube.value=i,ve.modelViewMatrix.multiplyMatrices(ge.matrixWorldInverse,ve.matrixWorld),he.update(ve),ct.renderBufferDirect(ge,null,ve.geometry,ve.material,ve,null)):i&&i.isTexture&&(void 0===pe&&(pe=new kt(-1,1,1,-1,0,1),me=new It(new Rt(2,2),new ft({depthTest:!1,depthWrite:!1,fog:!1}))),me.material.map=i,he.update(me),ct.renderBufferDirect(pe,null,me.geometry,me.material,me,null)),t.overrideMaterial){var o=t.overrideMaterial;w(et,t,e,o),w(ot,t,e,o)}else ue.setBlending(lo),w(et,t,e),w(ot,t,e);xe.render(t,e),_e.render(t,e,wt),n&&ce.updateRenderTargetMipmap(n),ue.setDepthTest(!0),ue.setDepthWrite(!0),ue.setColorWrite(!0)},this.setFaceCulling=function(t,e){ue.setCullFace(t),ue.setFlipSided(e===Qi)},this.allocTextureUnit=j,this.setTexture2D=function(){var t=!1;return function(e,n){e&&e.isWebGLRenderTarget&&(t||(console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."),t=!0),e=e.texture),ce.setTexture2D(e,n)}}(),this.setTexture=function(){var t=!1;return function(e,n){t||(console.warn("THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead."),t=!0),ce.setTexture2D(e,n)}}(),this.setTextureCube=function(){var t=!1;return function(e,n){e&&e.isWebGLRenderTargetCube&&(t||(console.warn("THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead."),t=!0),e=e.texture),e&&e.isCubeTexture||Array.isArray(e.image)&&6===e.image.length?ce.setTextureCube(e,n):ce.setTextureCubeDynamic(e,n)}}(),this.getCurrentRenderTarget=function(){return dt},this.setRenderTarget=function(t){dt=t,t&&void 0===le.get(t).__webglFramebuffer&&ce.setupRenderTarget(t);var e,n=t&&t.isWebGLRenderTargetCube;if(t){var r=le.get(t);e=n?r.__webglFramebuffer[t.activeCubeFace]:r.__webglFramebuffer,yt.copy(t.scissor),bt=t.scissorTest,wt.copy(t.viewport)}else e=null,yt.copy(Ot).multiplyScalar(Tt),bt=Lt,wt.copy(Nt).multiplyScalar(Tt);if(pt!==e&&(Kt.bindFramebuffer(Kt.FRAMEBUFFER,e),pt=e),ue.scissor(yt),ue.setScissorTest(bt),ue.viewport(wt),n){var i=le.get(t.texture);Kt.framebufferTexture2D(Kt.FRAMEBUFFER,Kt.COLOR_ATTACHMENT0,Kt.TEXTURE_CUBE_MAP_POSITIVE_X+t.activeCubeFace,i.__webglTexture,t.activeMipMapLevel)}},this.readRenderTargetPixels=function(t,e,n,r,i,o){if(!1===(t&&t.isWebGLRenderTarget))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");var a=le.get(t).__webglFramebuffer;if(a){var s=!1;a!==pt&&(Kt.bindFramebuffer(Kt.FRAMEBUFFER,a),s=!0);try{var u=t.texture,l=u.format,c=u.type;if(l!==Ma&&U(l)!==Kt.getParameter(Kt.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!(c===ca||U(c)===Kt.getParameter(Kt.IMPLEMENTATION_COLOR_READ_TYPE)||c===ga&&(Qt.get("OES_texture_float")||Qt.get("WEBGL_color_buffer_float"))||c===va&&Qt.get("EXT_color_buffer_half_float")))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");Kt.checkFramebufferStatus(Kt.FRAMEBUFFER)===Kt.FRAMEBUFFER_COMPLETE?e>=0&&e<=t.width-r&&n>=0&&n<=t.height-i&&Kt.readPixels(e,n,r,i,U(l),U(c),o):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{s&&Kt.bindFramebuffer(Kt.FRAMEBUFFER,pt)}}}}function le(t,e){this.name="",this.color=new q(t),this.density=void 0!==e?e:25e-5}function ce(t,e,n){this.name="",this.color=new q(t),this.near=void 0!==e?e:1,this.far=void 0!==n?n:1e3}function he(){ut.call(this),this.type="Scene",this.background=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0}function fe(t,e,n,r,i){ut.call(this),this.lensFlares=[],this.positionScreen=new u,this.customUpdateCallback=void 0,void 0!==t&&this.add(t,e,n,r,i)}function de(t){K.call(this),this.type="SpriteMaterial",this.color=new q(16777215),this.map=null,this.rotation=0,this.fog=!1,this.lights=!1,this.setValues(t)}function pe(t){ut.call(this),this.type="Sprite",this.material=void 0!==t?t:new de}function me(){ut.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}})}function ge(t,e,n){if(this.useVertexTexture=void 0===n||n,this.identityMatrix=new l,t=t||[],this.bones=t.slice(0),this.useVertexTexture){var r=Math.sqrt(4*this.bones.length);r=Ja.nextPowerOfTwo(Math.ceil(r)),r=Math.max(r,4),this.boneTextureWidth=r,this.boneTextureHeight=r,this.boneMatrices=new Float32Array(this.boneTextureWidth*this.boneTextureHeight*4),this.boneTexture=new W(this.boneMatrices,this.boneTextureWidth,this.boneTextureHeight,Ma,ga)}else this.boneMatrices=new Float32Array(16*this.bones.length);if(void 0===e)this.calculateInverses();else if(this.bones.length===e.length)this.boneInverses=e.slice(0);else{console.warn("THREE.Skeleton bonInverses is the wrong length."),this.boneInverses=[];for(var i=0,o=this.bones.length;i<o;i++)this.boneInverses.push(new l)}}function ve(){ut.call(this),this.type="Bone"}function ye(t,e,n){It.call(this,t,e),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new l,this.bindMatrixInverse=new l;var r=[];if(this.geometry&&void 0!==this.geometry.bones){for(var i,o,a=0,s=this.geometry.bones.length;a<s;++a)o=this.geometry.bones[a],i=new ve,r.push(i),i.name=o.name,i.position.fromArray(o.pos),i.quaternion.fromArray(o.rotq),void 0!==o.scl&&i.scale.fromArray(o.scl);for(var a=0,s=this.geometry.bones.length;a<s;++a)o=this.geometry.bones[a],-1!==o.parent&&null!==o.parent&&void 0!==r[o.parent]?r[o.parent].add(r[a]):this.add(r[a])}this.normalizeSkinWeights(),this.updateMatrixWorld(!0),this.bind(new ge(r,void 0,n),this.matrixWorld)}function be(t){K.call(this),this.type="LineBasicMaterial",this.color=new q(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.lights=!1,this.setValues(t)}function we(t,e,n){if(1===n)return console.warn("THREE.Line: parameter THREE.LinePieces no longer supported. Created THREE.LineSegments instead."),new xe(t,e);ut.call(this),this.type="Line",this.geometry=void 0!==t?t:new Ct,this.material=void 0!==e?e:new be({color:16777215*Math.random()})}function xe(t,e){we.call(this,t,e),this.type="LineSegments"}function _e(t){K.call(this),this.type="PointsMaterial",this.color=new q(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.lights=!1,this.setValues(t)}function Ee(t,e){ut.call(this),this.type="Points",this.geometry=void 0!==t?t:new Ct,this.material=void 0!==e?e:new _e({color:16777215*Math.random()})}function Me(){ut.call(this),this.type="Group"}function Se(t,e,n,i,o,a,s,u,l){function c(){requestAnimationFrame(c),t.readyState>=t.HAVE_CURRENT_DATA&&(h.needsUpdate=!0)}r.call(this,t,e,n,i,o,a,s,u,l),this.generateMipmaps=!1;var h=this;c()}function Te(t,e,n,i,o,a,s,u,l,c,h,f){r.call(this,null,a,s,u,l,c,i,o,h,f),this.image={width:e,height:n},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}function Ce(t,e,n,i,o,a,s,u,l){r.call(this,t,e,n,i,o,a,s,u,l),this.needsUpdate=!0}function Ie(t,e,n,i,o,a,s,u,l,c){if((c=void 0!==c?c:Ia)!==Ia&&c!==Oa)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&c===Ia&&(n=da),void 0===n&&c===Oa&&(n=xa),r.call(this,null,i,o,a,s,u,c,n,l),this.image={width:t,height:e},this.magFilter=void 0!==s?s:ia,this.minFilter=void 0!==u?u:ia,this.flipY=!1,this.generateMipmaps=!1}function Oe(t){function e(t,e){return t-e}Ct.call(this),this.type="WireframeGeometry";var n,r,i,o,a,s,l,c,h=[],f=[0,0],d={},p=["a","b","c"];if(t&&t.isGeometry){var m=t.faces;for(n=0,i=m.length;n<i;n++){var g=m[n];for(r=0;r<3;r++)f[0]=g[p[r]],f[1]=g[p[(r+1)%3]],f.sort(e),l=f.toString(),void 0===d[l]&&(d[l]={index1:f[0],index2:f[1]})}for(l in d)s=d[l],c=t.vertices[s.index1],h.push(c.x,c.y,c.z),c=t.vertices[s.index2],h.push(c.x,c.y,c.z)}else if(t&&t.isBufferGeometry){var v,y,b,w,x,_,E,M;if(c=new u,null!==t.index){for(v=t.attributes.position,y=t.index,b=t.groups,0===b.length&&t.addGroup(0,y.count),o=0,a=b.length;o<a;++o)for(w=b[o],x=w.start,_=w.count,n=x,i=x+_;n<i;n+=3)for(r=0;r<3;r++)f[0]=y.getX(n+r),f[1]=y.getX(n+(r+1)%3),f.sort(e),l=f.toString(),void 0===d[l]&&(d[l]={index1:f[0],index2:f[1]});for(l in d)s=d[l],c.fromBufferAttribute(v,s.index1),h.push(c.x,c.y,c.z),c.fromBufferAttribute(v,s.index2),h.push(c.x,c.y,c.z)}else for(v=t.attributes.position,n=0,i=v.count/3;n<i;n++)for(r=0;r<3;r++)E=3*n+r,c.fromBufferAttribute(v,E),h.push(c.x,c.y,c.z),M=3*n+(r+1)%3,c.fromBufferAttribute(v,M),h.push(c.x,c.y,c.z)}this.addAttribute("position",new xt(h,3))}function Ae(t,e,n){Tt.call(this),this.type="ParametricGeometry",this.parameters={func:t,slices:e,stacks:n},this.fromBufferGeometry(new Le(t,e,n)),this.mergeVertices()}function Le(t,e,n){Ct.call(this),this.type="ParametricBufferGeometry",this.parameters={func:t,slices:e,stacks:n};var r,i,o=[],a=[],s=[],u=e+1;for(r=0;r<=n;r++){var l=r/n;for(i=0;i<=e;i++){var c=i/e,h=t(c,l);a.push(h.x,h.y,h.z),s.push(c,l)}}for(r=0;r<n;r++)for(i=0;i<e;i++){var f=r*u+i,d=r*u+i+1,p=(r+1)*u+i+1,m=(r+1)*u+i;o.push(f,d,m),o.push(d,p,m)}this.setIndex(o),this.addAttribute("position",new xt(a,3)),this.addAttribute("uv",new xt(s,2)),this.computeVertexNormals()}function Re(t,e,n,r){Tt.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:t,indices:e,radius:n,detail:r},this.fromBufferGeometry(new Ne(t,e,n,r)),this.mergeVertices()}function Ne(t,e,r,i){function o(t,e,n,r){var i,o,a=Math.pow(2,r),u=[];for(i=0;i<=a;i++){u[i]=[];var l=t.clone().lerp(n,i/a),c=e.clone().lerp(n,i/a),h=a-i;for(o=0;o<=h;o++)u[i][o]=0===o&&i===a?l:l.clone().lerp(c,o/h)}for(i=0;i<a;i++)for(o=0;o<2*(a-i)-1;o++){var f=Math.floor(o/2);o%2==0?(s(u[i][f+1]),s(u[i+1][f]),s(u[i][f])):(s(u[i][f+1]),s(u[i+1][f+1]),s(u[i+1][f]))}}function a(){for(var t=0;t<m.length;t+=6){var e=m[t+0],n=m[t+2],r=m[t+4],i=Math.max(e,n,r),o=Math.min(e,n,r);i>.9&&o<.1&&(e<.2&&(m[t+0]+=1),n<.2&&(m[t+2]+=1),r<.2&&(m[t+4]+=1))}}function s(t){p.push(t.x,t.y,t.z)}function l(e,n){var r=3*e;n.x=t[r+0],n.y=t[r+1],n.z=t[r+2]}function c(){for(var t=new u,e=new u,r=new u,i=new u,o=new n,a=new n,s=new n,l=0,c=0;l<p.length;l+=9,c+=6){t.set(p[l+0],p[l+1],p[l+2]),e.set(p[l+3],p[l+4],p[l+5]),r.set(p[l+6],p[l+7],p[l+8]),o.set(m[c+0],m[c+1]),a.set(m[c+2],m[c+3]),s.set(m[c+4],m[c+5]),i.copy(t).add(e).add(r).divideScalar(3);var d=f(i);h(o,c+0,t,d),h(a,c+2,e,d),h(s,c+4,r,d)}}function h(t,e,n,r){r<0&&1===t.x&&(m[e]=t.x-1),0===n.x&&0===n.z&&(m[e]=r/2/Math.PI+.5)}function f(t){return Math.atan2(t.z,-t.x)}function d(t){return Math.atan2(-t.y,Math.sqrt(t.x*t.x+t.z*t.z))}Ct.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:t,indices:e,radius:r,detail:i},r=r||1,i=i||0;var p=[],m=[];!function(t){for(var n=new u,r=new u,i=new u,a=0;a<e.length;a+=3)l(e[a+0],n),l(e[a+1],r),l(e[a+2],i),o(n,r,i,t)}(i),function(t){for(var e=new u,n=0;n<p.length;n+=3)e.x=p[n+0],e.y=p[n+1],e.z=p[n+2],e.normalize().multiplyScalar(t),p[n+0]=e.x,p[n+1]=e.y,p[n+2]=e.z}(r),function(){for(var t=new u,e=0;e<p.length;e+=3){t.x=p[e+0],t.y=p[e+1],t.z=p[e+2];var n=f(t)/2/Math.PI+.5,r=d(t)/Math.PI+.5;m.push(n,1-r)}c(),a()}(),this.addAttribute("position",new xt(p,3)),this.addAttribute("normal",new xt(p.slice(),3)),this.addAttribute("uv",new xt(m,2)),this.normalizeNormals()}function Pe(t,e){Tt.call(this),this.type="TetrahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new ke(t,e)),this.mergeVertices()}function ke(t,e){var n=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];Ne.call(this,n,r,t,e),this.type="TetrahedronBufferGeometry",this.parameters={radius:t,detail:e}}function De(t,e){Tt.call(this),this.type="OctahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new Fe(t,e)),this.mergeVertices()}function Fe(t,e){var n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];Ne.call(this,n,r,t,e),this.type="OctahedronBufferGeometry",this.parameters={radius:t,detail:e}}function je(t,e){Tt.call(this),this.type="IcosahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new Ue(t,e)),this.mergeVertices()}function Ue(t,e){var n=(1+Math.sqrt(5))/2,r=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],i=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];Ne.call(this,r,i,t,e),this.type="IcosahedronBufferGeometry",this.parameters={radius:t,detail:e}}function Be(t,e){Tt.call(this),this.type="DodecahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new ze(t,e)),this.mergeVertices()}function ze(t,e){var n=(1+Math.sqrt(5))/2,r=1/n,i=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];Ne.call(this,i,o,t,e),this.type="DodecahedronBufferGeometry",this.parameters={radius:t,detail:e}}function Ve(t,e,n,r,i,o){Tt.call(this),this.type="TubeGeometry",this.parameters={path:t,tubularSegments:e,radius:n,radialSegments:r,closed:i},void 0!==o&&console.warn("THREE.TubeGeometry: taper has been removed.");var a=new Ge(t,e,n,r,i);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals,this.fromBufferGeometry(a),this.mergeVertices()}function Ge(t,e,r,i,o){function a(n){var o=t.getPointAt(n/e),a=c.normals[n],s=c.binormals[n];for(f=0;f<=i;f++){var u=f/i*Math.PI*2,l=Math.sin(u),h=-Math.cos(u);p.x=h*a.x+l*s.x,p.y=h*a.y+l*s.y,p.z=h*a.z+l*s.z,p.normalize(),v.push(p.x,p.y,p.z),d.x=o.x+r*p.x,d.y=o.y+r*p.y,d.z=o.z+r*p.z,g.push(d.x,d.y,d.z)}}function s(){for(f=1;f<=e;f++)for(h=1;h<=i;h++){var t=(i+1)*(f-1)+(h-1),n=(i+1)*f+(h-1),r=(i+1)*f+h,o=(i+1)*(f-1)+h;b.push(t,n,o),b.push(n,r,o)}}function l(){for(h=0;h<=e;h++)for(f=0;f<=i;f++)m.x=h/e,m.y=f/i,y.push(m.x,m.y)}Ct.call(this),this.type="TubeBufferGeometry",this.parameters={path:t,tubularSegments:e,radius:r,radialSegments:i,closed:o},e=e||64,r=r||1,i=i||8,o=o||!1;var c=t.computeFrenetFrames(e,o);this.tangents=c.tangents,this.normals=c.normals,this.binormals=c.binormals;var h,f,d=new u,p=new u,m=new n,g=[],v=[],y=[],b=[];!function(){for(h=0;h<e;h++)a(h);a(!1===o?e:0),l(),s()}(),this.setIndex(b),this.addAttribute("position",new xt(g,3)),this.addAttribute("normal",new xt(v,3)),this.addAttribute("uv",new xt(y,2))}function He(t,e,n,r,i,o,a){Tt.call(this),this.type="TorusKnotGeometry",this.parameters={radius:t,tube:e,tubularSegments:n,radialSegments:r,p:i,q:o},void 0!==a&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new qe(t,e,n,r,i,o)),this.mergeVertices()}function qe(t,e,r,i,o,a){function s(t,e,n,r,i){var o=Math.cos(t),a=Math.sin(t),s=n/e*t,u=Math.cos(s);i.x=r*(2+u)*.5*o,i.y=r*(2+u)*a*.5,i.z=r*Math.sin(s)*.5}Ct.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:t,tube:e,tubularSegments:r,radialSegments:i,p:o,q:a},t=t||100,e=e||40,r=Math.floor(r)||64,i=Math.floor(i)||8,o=o||2,a=a||3;var l,c,h=[],f=[],d=[],p=[],m=new u,g=new u,v=(new n,new u),y=new u,b=new u,w=new u,x=new u;for(l=0;l<=r;++l){var _=l/r*o*Math.PI*2;for(s(_,o,a,t,v),s(_+.01,o,a,t,y),w.subVectors(y,v),x.addVectors(y,v),b.crossVectors(w,x),x.crossVectors(b,w),b.normalize(),x.normalize(),c=0;c<=i;++c){var E=c/i*Math.PI*2,M=-e*Math.cos(E),S=e*Math.sin(E);m.x=v.x+(M*x.x+S*b.x),m.y=v.y+(M*x.y+S*b.y),m.z=v.z+(M*x.z+S*b.z),f.push(m.x,m.y,m.z),g.subVectors(m,v).normalize(),d.push(g.x,g.y,g.z),p.push(l/r),p.push(c/i)}}for(c=1;c<=r;c++)for(l=1;l<=i;l++){var T=(i+1)*(c-1)+(l-1),C=(i+1)*c+(l-1),I=(i+1)*c+l,O=(i+1)*(c-1)+l;h.push(T,C,O),h.push(C,I,O)}this.setIndex(h),this.addAttribute("position",new xt(f,3)),this.addAttribute("normal",new xt(d,3)),this.addAttribute("uv",new xt(p,2))}function We(t,e,n,r,i){Tt.call(this),this.type="TorusGeometry",this.parameters={radius:t,tube:e,radialSegments:n,tubularSegments:r,arc:i},this.fromBufferGeometry(new Ye(t,e,n,r,i))}function Ye(t,e,n,r,i){Ct.call(this),this.type="TorusBufferGeometry",this.parameters={radius:t,tube:e,radialSegments:n,tubularSegments:r,arc:i},t=t||100,e=e||40,n=Math.floor(n)||8,r=Math.floor(r)||6,i=i||2*Math.PI;var o,a,s=[],l=[],c=[],h=[],f=new u,d=new u,p=new u;for(o=0;o<=n;o++)for(a=0;a<=r;a++){var m=a/r*i,g=o/n*Math.PI*2;d.x=(t+e*Math.cos(g))*Math.cos(m),d.y=(t+e*Math.cos(g))*Math.sin(m),d.z=e*Math.sin(g),l.push(d.x,d.y,d.z),f.x=t*Math.cos(m),f.y=t*Math.sin(m),p.subVectors(d,f).normalize(),c.push(p.x,p.y,p.z),h.push(a/r),h.push(o/n)}for(o=1;o<=n;o++)for(a=1;a<=r;a++){var v=(r+1)*o+a-1,y=(r+1)*(o-1)+a-1,b=(r+1)*(o-1)+a,w=(r+1)*o+a;s.push(v,y,w),s.push(y,b,w)}this.setIndex(s),this.addAttribute("position",new xt(l,3)),this.addAttribute("normal",new xt(c,3)),this.addAttribute("uv",new xt(h,2))}function Xe(t,e){if(void 0===t)return void(t=[]);Tt.call(this),this.type="ExtrudeGeometry",t=Array.isArray(t)?t:[t],this.addShapeList(t,e),this.computeFaceNormals()}function Ze(t,e){e=e||{};var n=e.font;if(!1===(n&&n.isFont))return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new Tt;var r=n.generateShapes(t,e.size,e.curveSegments);e.amount=void 0!==e.height?e.height:50,void 0===e.bevelThickness&&(e.bevelThickness=10),void 0===e.bevelSize&&(e.bevelSize=8),void 0===e.bevelEnabled&&(e.bevelEnabled=!1),Xe.call(this,r,e),this.type="TextGeometry"}function Ke(t,e,n,r,i,o,a){Tt.call(this),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:n,phiStart:r,phiLength:i,thetaStart:o,thetaLength:a},this.fromBufferGeometry(new $e(t,e,n,r,i,o,a))}function $e(t,e,n,r,i,o,a){Ct.call(this),this.type="SphereBufferGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:n,phiStart:r,phiLength:i,thetaStart:o,thetaLength:a},t=t||50,e=Math.max(3,Math.floor(e)||8),n=Math.max(2,Math.floor(n)||6),r=void 0!==r?r:0,i=void 0!==i?i:2*Math.PI,o=void 0!==o?o:0,a=void 0!==a?a:Math.PI;var s,l,c=o+a,h=0,f=[],d=new u,p=new u,m=[],g=[],v=[],y=[];for(l=0;l<=n;l++){var b=[],w=l/n;for(s=0;s<=e;s++){var x=s/e;d.x=-t*Math.cos(r+x*i)*Math.sin(o+w*a),d.y=t*Math.cos(o+w*a),d.z=t*Math.sin(r+x*i)*Math.sin(o+w*a),g.push(d.x,d.y,d.z),p.set(d.x,d.y,d.z).normalize(),v.push(p.x,p.y,p.z),y.push(x,1-w),b.push(h++)}f.push(b)}for(l=0;l<n;l++)for(s=0;s<e;s++){var _=f[l][s+1],E=f[l][s],M=f[l+1][s],S=f[l+1][s+1];(0!==l||o>0)&&m.push(_,E,S),(l!==n-1||c<Math.PI)&&m.push(E,M,S)}this.setIndex(m),this.addAttribute("position",new xt(g,3)),this.addAttribute("normal",new xt(v,3)),this.addAttribute("uv",new xt(y,2))}function Qe(t,e,n,r,i,o){Tt.call(this),this.type="RingGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:o},this.fromBufferGeometry(new Je(t,e,n,r,i,o))}function Je(t,e,r,i,o,a){Ct.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:r,phiSegments:i,thetaStart:o,thetaLength:a},t=t||20,e=e||50,o=void 0!==o?o:0,a=void 0!==a?a:2*Math.PI,r=void 0!==r?Math.max(3,r):8,i=void 0!==i?Math.max(1,i):1;var s,l,c,h=[],f=[],d=[],p=[],m=t,g=(e-t)/i,v=new u,y=new n;for(l=0;l<=i;l++){for(c=0;c<=r;c++)s=o+c/r*a,v.x=m*Math.cos(s),v.y=m*Math.sin(s),f.push(v.x,v.y,v.z),d.push(0,0,1),y.x=(v.x/e+1)/2,y.y=(v.y/e+1)/2,p.push(y.x,y.y);m+=g}for(l=0;l<i;l++){var b=l*(r+1);for(c=0;c<r;c++){s=c+b;var w=s,x=s+r+1,_=s+r+2,E=s+1;h.push(w,x,E),h.push(x,_,E)}}this.setIndex(h),this.addAttribute("position",new xt(f,3)),this.addAttribute("normal",new xt(d,3)),this.addAttribute("uv",new xt(p,2))}function tn(t,e,n,r){Tt.call(this),this.type="LatheGeometry",this.parameters={points:t,segments:e,phiStart:n,phiLength:r},this.fromBufferGeometry(new en(t,e,n,r)),this.mergeVertices()}function en(t,e,r,i){Ct.call(this),this.type="LatheBufferGeometry",this.parameters={points:t,segments:e,phiStart:r,phiLength:i},e=Math.floor(e)||12,r=r||0,i=i||2*Math.PI,i=Ja.clamp(i,0,2*Math.PI);var o,a,s,l=[],c=[],h=[],f=1/e,d=new u,p=new n;for(a=0;a<=e;a++){var m=r+a*f*i,g=Math.sin(m),v=Math.cos(m);for(s=0;s<=t.length-1;s++)d.x=t[s].x*g,d.y=t[s].y,d.z=t[s].x*v,c.push(d.x,d.y,d.z),p.x=a/e,p.y=s/(t.length-1),h.push(p.x,p.y)}for(a=0;a<e;a++)for(s=0;s<t.length-1;s++){o=s+a*t.length;var y=o,b=o+t.length,w=o+t.length+1,x=o+1;l.push(y,b,x),l.push(b,w,x)}if(this.setIndex(l),this.addAttribute("position",new xt(c,3)),this.addAttribute("uv",new xt(h,2)),this.computeVertexNormals(),i===2*Math.PI){var _=this.attributes.normal.array,E=new u,M=new u,S=new u;for(o=e*t.length*3,a=0,s=0;a<t.length;a++,s+=3)E.x=_[s+0],E.y=_[s+1],E.z=_[s+2],M.x=_[o+s+0],M.y=_[o+s+1],M.z=_[o+s+2],S.addVectors(E,M).normalize(),_[s+0]=_[o+s+0]=S.x,_[s+1]=_[o+s+1]=S.y,_[s+2]=_[o+s+2]=S.z}}function nn(t,e){Tt.call(this),this.type="ShapeGeometry","object"==typeof e&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),e=e.curveSegments),this.parameters={shapes:t,curveSegments:e},this.fromBufferGeometry(new rn(t,e)),this.mergeVertices()}function rn(t,e){function n(t){var n,s,l,c=i.length/3,h=t.extractPoints(e),f=h.shape,d=h.holes;if(!1===ms.isClockWise(f))for(f=f.reverse(),n=0,s=d.length;n<s;n++)l=d[n],!0===ms.isClockWise(l)&&(d[n]=l.reverse());var p=ms.triangulateShape(f,d);for(n=0,s=d.length;n<s;n++)l=d[n],f=f.concat(l);for(n=0,s=f.length;n<s;n++){var m=f[n];i.push(m.x,m.y,0),o.push(0,0,1),a.push(m.x,m.y)}for(n=0,s=p.length;n<s;n++){var g=p[n],v=g[0]+c,y=g[1]+c,b=g[2]+c;r.push(v,y,b),u+=3}}Ct.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:t,curveSegments:e},e=e||12;var r=[],i=[],o=[],a=[],s=0,u=0;if(!1===Array.isArray(t))n(t);else for(var l=0;l<t.length;l++)n(t[l]),this.addGroup(s,u,l),s+=u,u=0;this.setIndex(r),this.addAttribute("position",new xt(i,3)),this.addAttribute("normal",new xt(o,3)),this.addAttribute("uv",new xt(a,2))}function on(t,e){function n(t,e){return t-e}Ct.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:e},e=void 0!==e?e:1;var r,i,o=[],a=Math.cos(Ja.DEG2RAD*e),s=[0,0],u={},l=["a","b","c"];t.isBufferGeometry?(i=new Tt,i.fromBufferGeometry(t)):i=t.clone(),i.mergeVertices(),i.computeFaceNormals();for(var c=i.vertices,h=i.faces,f=0,d=h.length;f<d;f++)for(var p=h[f],m=0;m<3;m++)s[0]=p[l[m]],s[1]=p[l[(m+1)%3]],s.sort(n),r=s.toString(),void 0===u[r]?u[r]={index1:s[0],index2:s[1],face1:f,face2:void 0}:u[r].face2=f;for(r in u){var g=u[r];if(void 0===g.face2||h[g.face1].normal.dot(h[g.face2].normal)<=a){var v=c[g.index1];o.push(v.x,v.y,v.z),v=c[g.index2],o.push(v.x,v.y,v.z)}}this.addAttribute("position",new xt(o,3))}function an(t,e,n,r,i,o,a,s){Tt.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s},this.fromBufferGeometry(new sn(t,e,n,r,i,o,a,s)),this.mergeVertices()}function sn(t,e,r,i,o,a,s,l){function c(r){var o,a,c,v=new n,w=new u,x=0,_=!0===r?t:e,E=!0===r?1:-1;for(a=g,o=1;o<=i;o++)d.push(0,y*E,0),p.push(0,E,0),m.push(.5,.5),g++;for(c=g,o=0;o<=i;o++){var M=o/i,S=M*l+s,T=Math.cos(S),C=Math.sin(S);w.x=_*C,w.y=y*E,w.z=_*T,d.push(w.x,w.y,w.z),p.push(0,E,0),v.x=.5*T+.5,v.y=.5*C*E+.5,m.push(v.x,v.y),g++}for(o=0;o<i;o++){var I=a+o,O=c+o;!0===r?f.push(O,O+1,I):f.push(O+1,O,I),x+=3}h.addGroup(b,x,!0===r?1:2),b+=x}Ct.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:r,radialSegments:i,heightSegments:o,openEnded:a,thetaStart:s,thetaLength:l};var h=this;t=void 0!==t?t:20,e=void 0!==e?e:20,r=void 0!==r?r:100,i=Math.floor(i)||8,o=Math.floor(o)||1,a=void 0!==a&&a,s=void 0!==s?s:0,l=void 0!==l?l:2*Math.PI;var f=[],d=[],p=[],m=[],g=0,v=[],y=r/2,b=0;!function(){var n,a,c=new u,w=new u,x=0,_=(e-t)/r;for(a=0;a<=o;a++){var E=[],M=a/o,S=M*(e-t)+t;for(n=0;n<=i;n++){var T=n/i,C=T*l+s,I=Math.sin(C),O=Math.cos(C);w.x=S*I,w.y=-M*r+y,w.z=S*O,d.push(w.x,w.y,w.z),c.set(I,_,O).normalize(),p.push(c.x,c.y,c.z),m.push(T,1-M),E.push(g++)}v.push(E)}for(n=0;n<i;n++)for(a=0;a<o;a++){var A=v[a][n],L=v[a+1][n],R=v[a+1][n+1],N=v[a][n+1];f.push(A,L,N),f.push(L,R,N),x+=6}h.addGroup(b,x,0),b+=x}(),!1===a&&(t>0&&c(!0),e>0&&c(!1)),this.setIndex(f),this.addAttribute("position",new xt(d,3)),this.addAttribute("normal",new xt(p,3)),this.addAttribute("uv",new xt(m,2))}function un(t,e,n,r,i,o,a){an.call(this,0,t,e,n,r,i,o,a),this.type="ConeGeometry",this.parameters={radius:t,height:e,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:o,thetaLength:a}}function ln(t,e,n,r,i,o,a){sn.call(this,0,t,e,n,r,i,o,a),this.type="ConeBufferGeometry",this.parameters={radius:t,height:e,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:o,thetaLength:a}}function cn(t,e,n,r){Tt.call(this),this.type="CircleGeometry",this.parameters={radius:t,segments:e,thetaStart:n,thetaLength:r},this.fromBufferGeometry(new hn(t,e,n,r))}function hn(t,e,r,i){Ct.call(this),this.type="CircleBufferGeometry",this.parameters={radius:t,segments:e,thetaStart:r,thetaLength:i},t=t||50,e=void 0!==e?Math.max(3,e):8,r=void 0!==r?r:0,i=void 0!==i?i:2*Math.PI;var o,a,s=[],l=[],c=[],h=[],f=new u,d=new n;for(l.push(0,0,0),c.push(0,0,1),h.push(.5,.5),a=0,o=3;a<=e;a++,o+=3){var p=r+a/e*i;f.x=t*Math.cos(p),f.y=t*Math.sin(p),l.push(f.x,f.y,f.z),c.push(0,0,1),d.x=(l[o]/t+1)/2,d.y=(l[o+1]/t+1)/2,h.push(d.x,d.y)}for(o=1;o<=e;o++)s.push(o,o+1,0);this.setIndex(s),this.addAttribute("position",new xt(l,3)),this.addAttribute("normal",new xt(c,3)),this.addAttribute("uv",new xt(h,2))}function fn(){$.call(this,{uniforms:as.merge([ls.lights,{opacity:{value:1}}]),vertexShader:ss.shadow_vert,fragmentShader:ss.shadow_frag}),this.lights=!0,this.transparent=!0,Object.defineProperties(this,{opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(t){this.uniforms.opacity.value=t}}})}function dn(t){$.call(this,t),this.type="RawShaderMaterial"}function pn(t){this.uuid=Ja.generateUUID(),this.type="MultiMaterial",this.materials=Array.isArray(t)?t:[],this.visible=!0}function mn(t){K.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new q(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new q(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new n(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function gn(t){mn.call(this),this.defines={PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearCoat=0,this.clearCoatRoughness=0,this.setValues(t)}function vn(t){K.call(this),this.type="MeshPhongMaterial",this.color=new q(16777215),this.specular=new q(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new q(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new n(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Bo,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function yn(t){vn.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.gradientMap=null,this.setValues(t)}function bn(t){K.call(this,t),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new n(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function wn(t){K.call(this),this.type="MeshLambertMaterial",this.color=new q(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new q(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Bo,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function xn(t){K.call(this),this.type="LineDashedMaterial",this.color=new q(16777215),this.linewidth=1,this.scale=1,this.dashSize=3,this.gapSize=1,this.lights=!1,this.setValues(t)}function _n(t,e,n){var r=this,i=!1,o=0,a=0;this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=n,this.itemStart=function(t){a++,!1===i&&void 0!==r.onStart&&r.onStart(t,o,a),i=!0},this.itemEnd=function(t){o++,void 0!==r.onProgress&&r.onProgress(t,o,a),o===a&&(i=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(t){void 0!==r.onError&&r.onError(t)}}function En(t){this.manager=void 0!==t?t:bs}function Mn(t){this.manager=void 0!==t?t:bs,this._parser=null}function Sn(t){this.manager=void 0!==t?t:bs,this._parser=null}function Tn(t){this.manager=void 0!==t?t:bs}function Cn(t){this.manager=void 0!==t?t:bs}function In(t){this.manager=void 0!==t?t:bs}function On(t,e){ut.call(this),this.type="Light",this.color=new q(t),this.intensity=void 0!==e?e:1,this.receiveShadow=void 0}function An(t,e,n){On.call(this,t,n),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(ut.DefaultUp),this.updateMatrix(),this.groundColor=new q(e)}function Ln(t){this.camera=t,this.bias=0,this.radius=1,this.mapSize=new n(512,512),this.map=null,this.matrix=new l}function Rn(){Ln.call(this,new Pt(50,1,.5,500))}function Nn(t,e,n,r,i,o){On.call(this,t,e),this.type="SpotLight",this.position.copy(ut.DefaultUp),this.updateMatrix(),this.target=new ut,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(t){this.intensity=t/Math.PI}}),this.distance=void 0!==n?n:0,this.angle=void 0!==r?r:Math.PI/3,this.penumbra=void 0!==i?i:0,this.decay=void 0!==o?o:1,this.shadow=new Rn}function Pn(t,e,n,r){On.call(this,t,e),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(t){this.intensity=t/(4*Math.PI)}}),this.distance=void 0!==n?n:0,this.decay=void 0!==r?r:1,this.shadow=new Ln(new Pt(90,1,.5,500))}function kn(){Ln.call(this,new kt(-5,5,5,-5,.5,500))}function Dn(t,e){On.call(this,t,e),this.type="DirectionalLight",this.position.copy(ut.DefaultUp),this.updateMatrix(),this.target=new ut,this.shadow=new kn}function Fn(t,e){On.call(this,t,e),this.type="AmbientLight",this.castShadow=void 0}function jn(t,e,n,r){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new e.constructor(n),this.sampleValues=e,this.valueSize=n}function Un(t,e,n,r){jn.call(this,t,e,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function Bn(t,e,n,r){jn.call(this,t,e,n,r)}function zn(t,e,n,r){jn.call(this,t,e,n,r)}function Vn(t,e,n,r){if(void 0===t)throw new Error("track name is undefined");if(void 0===e||0===e.length)throw new Error("no keyframes in track named "+t);this.name=t,this.times=ws.convertArray(e,this.TimeBufferType),this.values=ws.convertArray(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation),this.validate(),this.optimize()}function Gn(t,e,n,r){Vn.call(this,t,e,n,r)}function Hn(t,e,n,r){jn.call(this,t,e,n,r)}function qn(t,e,n,r){Vn.call(this,t,e,n,r)}function Wn(t,e,n,r){Vn.call(this,t,e,n,r)}function Yn(t,e,n,r){Vn.call(this,t,e,n,r)}function Xn(t,e,n){Vn.call(this,t,e,n)}function Zn(t,e,n,r){Vn.call(this,t,e,n,r)}function Kn(t,e,n,r){Vn.apply(this,arguments)}function $n(t,e,n){this.name=t,this.tracks=n,this.duration=void 0!==e?e:-1,this.uuid=Ja.generateUUID(),this.duration<0&&this.resetDuration(),this.optimize()}function Qn(t){this.manager=void 0!==t?t:bs,this.textures={}}function Jn(t){this.manager=void 0!==t?t:bs}function tr(){this.onLoadStart=function(){},this.onLoadProgress=function(){},this.onLoadComplete=function(){}}function er(t){"boolean"==typeof t&&(console.warn("THREE.JSONLoader: showStatus parameter has been removed from constructor."),t=void 0),this.manager=void 0!==t?t:bs,this.withCredentials=!1}function nr(t){this.manager=void 0!==t?t:bs,this.texturePath=""}function rr(t,e,n,r,i){var o=.5*(r-e),a=.5*(i-n),s=t*t;return(2*n-2*r+o+a)*(t*s)+(-3*n+3*r-2*o-a)*s+o*t+n}function ir(t,e){var n=1-t;return n*n*e}function or(t,e){return 2*(1-t)*t*e}function ar(t,e){return t*t*e}function sr(t,e,n,r){return ir(t,e)+or(t,n)+ar(t,r)}function ur(t,e){var n=1-t;return n*n*n*e}function lr(t,e){var n=1-t;return 3*n*n*t*e}function cr(t,e){return 3*(1-t)*t*t*e}function hr(t,e){return t*t*t*e}function fr(t,e,n,r,i){return ur(t,e)+lr(t,n)+cr(t,r)+hr(t,i)}function dr(){}function pr(t,e){this.v1=t,this.v2=e}function mr(){this.curves=[],this.autoClose=!1}function gr(t,e,n,r,i,o,a,s){this.aX=t,this.aY=e,this.xRadius=n,this.yRadius=r,this.aStartAngle=i,this.aEndAngle=o,this.aClockwise=a,this.aRotation=s||0}function vr(t){this.points=void 0===t?[]:t}function yr(t,e,n,r){this.v0=t,this.v1=e,this.v2=n,this.v3=r}function br(t,e,n){this.v0=t,this.v1=e,this.v2=n}function wr(t){mr.call(this),this.currentPoint=new n,t&&this.fromPoints(t)}function xr(){wr.apply(this,arguments),this.holes=[]}function _r(){this.subPaths=[],this.currentPath=null}function Er(t){this.data=t}function Mr(t){this.manager=void 0!==t?t:bs}function Sr(t){this.manager=void 0!==t?t:bs}function Tr(t,e,n,r){On.call(this,t,e),this.type="RectAreaLight",this.position.set(0,1,0),this.updateMatrix(),this.width=void 0!==n?n:10,this.height=void 0!==r?r:10}function Cr(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Pt,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Pt,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1}function Ir(t,e,n){ut.call(this),this.type="CubeCamera";var r=new Pt(90,1,t,e);r.up.set(0,-1,0),r.lookAt(new u(1,0,0)),this.add(r);var i=new Pt(90,1,t,e);i.up.set(0,-1,0),i.lookAt(new u(-1,0,0)),this.add(i);var o=new Pt(90,1,t,e);o.up.set(0,0,1),o.lookAt(new u(0,1,0)),this.add(o);var s=new Pt(90,1,t,e);s.up.set(0,0,-1),s.lookAt(new u(0,-1,0)),this.add(s);var l=new Pt(90,1,t,e);l.up.set(0,-1,0),l.lookAt(new u(0,0,1)),this.add(l);var c=new Pt(90,1,t,e);c.up.set(0,-1,0),c.lookAt(new u(0,0,-1)),this.add(c);var h={format:Ea,magFilter:sa,minFilter:sa};this.renderTarget=new a(n,n,h),this.updateCubeMap=function(t,e){null===this.parent&&this.updateMatrixWorld();var n=this.renderTarget,a=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,n.activeCubeFace=0,t.render(e,r,n),n.activeCubeFace=1,t.render(e,i,n),n.activeCubeFace=2,t.render(e,o,n),n.activeCubeFace=3,t.render(e,s,n),n.activeCubeFace=4,t.render(e,l,n),n.texture.generateMipmaps=a,n.activeCubeFace=5,t.render(e,c,n),t.setRenderTarget(null)}}function Or(){ut.call(this),this.type="AudioListener",this.context=Ms.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null}function Ar(t){ut.call(this),this.type="Audio",this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.loop=!1,this.startTime=0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this.filters=[]}function Lr(t){Ar.call(this,t),this.panner=this.context.createPanner(),this.panner.connect(this.gain)}function Rr(t,e){this.analyser=t.context.createAnalyser(),this.analyser.fftSize=void 0!==e?e:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}function Nr(t,e,n){this.binding=t,this.valueSize=n;var r,i=Float64Array;switch(e){case"quaternion":r=this._slerp;break;case"string":case"bool":i=Array,r=this._select;break;default:r=this._lerp}this.buffer=new i(4*n),this._mixBufferRegion=r,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}function Pr(t,e,n){this.path=e,this.parsedPath=n||Pr.parseTrackName(e),this.node=Pr.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t}function kr(t){this.uuid=Ja.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var e={};this._indicesByUUID=e;for(var n=0,r=arguments.length;n!==r;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var i=this;this.stats={objects:{get total(){return i._objects.length},get inUse(){return this.total-i.nCachedObjects_}},get bindingsPerObject(){return i._bindings.length}}}function Dr(t,e,n){this._mixer=t,this._clip=e,this._localRoot=n||null;for(var r=e.tracks,i=r.length,o=new Array(i),a={endingStart:Ba,endingEnd:Ba},s=0;s!==i;++s){var u=r[s].createInterpolant(null);o[s]=u,u.settings=a}this._interpolantSettings=a,this._interpolants=o,this._propertyBindings=new Array(i),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Ua,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function Fr(t){this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function jr(t){"string"==typeof t&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),t=arguments[1]),this.value=t}function Ur(){Ct.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}function Br(t,e,n,r){this.uuid=Ja.generateUUID(),this.data=t,this.itemSize=e,this.offset=n,this.normalized=!0===r}function zr(t,e){this.uuid=Ja.generateUUID(),this.array=t,this.stride=e,this.count=void 0!==t?t.length/e:0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.onUploadCallback=function(){},this.version=0}function Vr(t,e,n){zr.call(this,t,e),this.meshPerAttribute=n||1}function Gr(t,e,n){dt.call(this,t,e),this.meshPerAttribute=n||1}function Hr(t,e,n,r){this.ray=new ot(t,e),this.near=n||0,this.far=r||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function qr(t,e){return t.distance-e.distance}function Wr(t,e,n,r){if(!1!==t.visible&&(t.raycast(e,n),!0===r))for(var i=t.children,o=0,a=i.length;o<a;o++)Wr(i[o],e,n,!0)}function Yr(t){this.autoStart=void 0===t||t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}function Xr(t,e,n){return this.radius=void 0!==t?t:1,this.phi=void 0!==e?e:0,this.theta=void 0!==n?n:0,this}function Zr(t,e,n){return this.radius=void 0!==t?t:1,this.theta=void 0!==e?e:0,this.y=void 0!==n?n:0,this}function Kr(t,e){It.call(this,t,e),this.animationsMap={},this.animationsList=[];var n=this.geometry.morphTargets.length,r=n-1,i=n/1;this.createAnimation("__default",0,r,i),this.setAnimationWeight("__default",1)}function $r(t){ut.call(this),this.material=t,this.render=function(t){}}function Qr(t,e,n,r){this.object=t,this.size=void 0!==e?e:1;var i=void 0!==n?n:16711680,o=void 0!==r?r:1,a=0,s=this.object.geometry;s&&s.isGeometry?a=3*s.faces.length:s&&s.isBufferGeometry&&(a=s.attributes.normal.count);var u=new Ct,l=new xt(2*a*3,3);u.addAttribute("position",l),xe.call(this,u,new be({color:i,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}function Jr(t){ut.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1;for(var e=new Ct,n=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],r=0,i=1;r<32;r++,i++){var o=r/32*Math.PI*2,a=i/32*Math.PI*2;n.push(Math.cos(o),Math.sin(o),1,Math.cos(a),Math.sin(a),1)}e.addAttribute("position",new xt(n,3));var s=new be({fog:!1});this.cone=new xe(e,s),this.add(this.cone),this.update()}function ti(t){this.bones=this.getBoneList(t);for(var e=new Ct,n=[],r=[],i=new q(0,0,1),o=new q(0,1,0),a=0;a<this.bones.length;a++){var s=this.bones[a];s.parent&&s.parent.isBone&&(n.push(0,0,0),n.push(0,0,0),r.push(i.r,i.g,i.b),r.push(o.r,o.g,o.b))}e.addAttribute("position",new xt(n,3)),e.addAttribute("color",new xt(r,3));var u=new be({vertexColors:uo,depthTest:!1,depthWrite:!1,transparent:!0});xe.call(this,e,u),this.root=t,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function ei(t,e){this.light=t,this.light.updateMatrixWorld();var n=new $e(e,4,2),r=new ft({wireframe:!0,fog:!1});r.color.copy(this.light.color).multiplyScalar(this.light.intensity),It.call(this,n,r),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1}function ni(t){ut.call(this),this.light=t,this.light.updateMatrixWorld();var e=new ft({color:t.color,fog:!1}),n=new ft({color:t.color,fog:!1,wireframe:!0}),r=new Ct;r.addAttribute("position",new dt(new Float32Array(18),3)),this.add(new It(r,e)),this.add(new It(r,n)),this.update()}function ri(t,e){ut.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1;var n=new Fe(e);n.rotateY(.5*Math.PI);var r=new ft({vertexColors:uo,wireframe:!0}),i=n.getAttribute("position"),o=new Float32Array(3*i.count);n.addAttribute("color",new dt(o,3)),this.add(new It(n,r)),this.update()}function ii(t,e,n,r){t=t||10,e=e||10,n=new q(void 0!==n?n:4473924),r=new q(void 0!==r?r:8947848);for(var i=e/2,o=t/e,a=t/2,s=[],u=[],l=0,c=0,h=-a;l<=e;l++,h+=o){s.push(-a,0,h,a,0,h),s.push(h,0,-a,h,0,a);var f=l===i?n:r;f.toArray(u,c),c+=3,f.toArray(u,c),c+=3,f.toArray(u,c),c+=3,f.toArray(u,c),c+=3}var d=new Ct;d.addAttribute("position",new xt(s,3)),d.addAttribute("color",new xt(u,3));var p=new be({vertexColors:uo});xe.call(this,d,p)}function oi(t,e,n,r,i,o){t=t||10,e=e||16,n=n||8,r=r||64,i=new q(void 0!==i?i:4473924),o=new q(void 0!==o?o:8947848);var a,s,u,l,c,h,f,d=[],p=[];for(l=0;l<=e;l++)u=l/e*(2*Math.PI),a=Math.sin(u)*t,s=Math.cos(u)*t,d.push(0,0,0),d.push(a,0,s),f=1&l?i:o,p.push(f.r,f.g,f.b),p.push(f.r,f.g,f.b);for(l=0;l<=n;l++)for(f=1&l?i:o,h=t-t/n*l,c=0;c<r;c++)u=c/r*(2*Math.PI),a=Math.sin(u)*h,s=Math.cos(u)*h,d.push(a,0,s),p.push(f.r,f.g,f.b),u=(c+1)/r*(2*Math.PI),a=Math.sin(u)*h,s=Math.cos(u)*h,d.push(a,0,s),p.push(f.r,f.g,f.b);var m=new Ct;m.addAttribute("position",new xt(d,3)),m.addAttribute("color",new xt(p,3));var g=new be({vertexColors:uo});xe.call(this,m,g)}function ai(t,e,n,r){this.object=t,this.size=void 0!==e?e:1;var i=void 0!==n?n:16776960,o=void 0!==r?r:1,a=0,s=this.object.geometry;s&&s.isGeometry?a=s.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");var u=new Ct,l=new xt(2*a*3,3);u.addAttribute("position",l),xe.call(this,u,new be({color:i,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}function si(t,e){ut.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,void 0===e&&(e=1);var n=new Ct;n.addAttribute("position",new xt([-e,e,0,e,e,0,e,-e,0,-e,-e,0,-e,e,0],3));var r=new be({fog:!1});this.add(new we(n,r)),n=new Ct,n.addAttribute("position",new xt([0,0,0,0,0,1],3)),this.add(new we(n,r)),this.update()}function ui(t){function e(t,e,r){n(t,r),n(e,r)}function n(t,e){o.push(0,0,0),a.push(e.r,e.g,e.b),void 0===s[t]&&(s[t]=[]),s[t].push(o.length/3-1)}var r=new Ct,i=new be({color:16777215,vertexColors:so}),o=[],a=[],s={},u=new q(16755200),l=new q(16711680),c=new q(43775),h=new q(16777215),f=new q(3355443);e("n1","n2",u),e("n2","n4",u),e("n4","n3",u),e("n3","n1",u),e("f1","f2",u),e("f2","f4",u),e("f4","f3",u),e("f3","f1",u),e("n1","f1",u),e("n2","f2",u),e("n3","f3",u),e("n4","f4",u),e("p","n1",l),e("p","n2",l),e("p","n3",l),e("p","n4",l),e("u1","u2",c),e("u2","u3",c),e("u3","u1",c),e("c","t",h),e("p","c",f),e("cn1","cn2",f),e("cn3","cn4",f),e("cf1","cf2",f),e("cf3","cf4",f),r.addAttribute("position",new xt(o,3)),r.addAttribute("color",new xt(a,3)),xe.call(this,r,i),this.camera=t,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=s,this.update()}function li(t,e){void 0===e&&(e=16776960);var n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),i=new Ct;i.setIndex(new dt(n,1)),i.addAttribute("position",new dt(r,3)),xe.call(this,i,new be({color:e})),void 0!==t&&this.update(t)}function ci(t,e,n,r,i,o){ut.call(this),void 0===r&&(r=16776960),void 0===n&&(n=1),void 0===i&&(i=.2*n),void 0===o&&(o=.2*i),void 0===Ss&&(Ss=new Ct,Ss.addAttribute("position",new xt([0,0,0,0,1,0],3)),Ts=new sn(0,.5,1,5,1),Ts.translate(0,-.5,0)),this.position.copy(e),this.line=new we(Ss,new be({color:r})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new It(Ts,new ft({color:r})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(t),this.setLength(n,i,o)}function hi(t){t=t||1;var e=[0,0,0,t,0,0,0,0,0,0,t,0,0,0,0,0,0,t],n=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new Ct;r.addAttribute("position",new xt(e,3)),r.addAttribute("color",new xt(n,3));var i=new be({vertexColors:uo});xe.call(this,r,i)}function fi(){function t(t,o,a,s){e=t,n=a,r=-3*t+3*o-2*a-s,i=2*t-2*o+a+s}var e=0,n=0,r=0,i=0;return{initCatmullRom:function(e,n,r,i,o){t(n,r,o*(r-e),o*(i-n))},initNonuniformCatmullRom:function(e,n,r,i,o,a,s){var u=(n-e)/o-(r-e)/(o+a)+(r-n)/a,l=(r-n)/a-(i-n)/(a+s)+(i-r)/s;u*=a,l*=a,t(n,r,u,l)},calc:function(t){var o=t*t;return e+n*t+r*o+i*(o*t)}}}function di(t){this.points=t||[],this.closed=!1}function pi(t,e,n,r){this.v0=t,this.v1=e,this.v2=n,this.v3=r}function mi(t,e,n){this.v0=t,this.v1=e,this.v2=n}function gi(t,e){this.v1=t,this.v2=e}function vi(t,e,n,r,i,o){gr.call(this,t,e,n,n,r,i,o)}function yi(t,e,n,r,i,o,a){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new ht(t,e,n,i,o,a)}function bi(t){return console.warn("THREE.MeshFaceMaterial has been renamed to THREE.MultiMaterial."),new pn(t)}function wi(t,e){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new Ee(t,e)}function xi(t){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new pe(t)}function _i(t,e){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new Ee(t,e)}function Ei(t){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new _e(t)}function Mi(t){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new _e(t)}function Si(t){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new _e(t)}function Ti(t,e,n){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new u(t,e,n)}function Ci(t,e){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead."),new dt(t,e).setDynamic(!0)}function Ii(t,e){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new pt(t,e)}function Oi(t,e){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new mt(t,e)}function Ai(t,e){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new gt(t,e)}function Li(t,e){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new vt(t,e)}function Ri(t,e){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new yt(t,e)}function Ni(t,e){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new bt(t,e)}function Pi(t,e){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new wt(t,e)}function ki(t,e){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new xt(t,e)}function Di(t,e){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new _t(t,e)}function Fi(t){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),di.call(this,t),this.type="catmullrom",this.closed=!0}function ji(t){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),di.call(this,t),this.type="catmullrom"}function Ui(t){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),di.call(this,t),this.type="catmullrom"}function Bi(t,e){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new li(t,e)}function zi(t,e){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new xe(new on(t.geometry),new be({color:void 0!==e?e:16777215}))}function Vi(t,e){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new xe(new Oe(t.geometry),new be({color:void 0!==e?e:16777215}))}function Gi(t){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new En(t)}function Hi(t){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new Sn(t)}function qi(){console.error("THREE.Projector has been moved to /examples/js/renderers/Projector.js."),this.projectVector=function(t,e){console.warn("THREE.Projector: .projectVector() is now vector.project()."),t.project(e)},this.unprojectVector=function(t,e){console.warn("THREE.Projector: .unprojectVector() is now vector.unproject()."),t.unproject(e)},this.pickingRay=function(){console.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")}}function Wi(){console.error("THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js"),this.domElement=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),this.clear=function(){},this.render=function(){},this.setClearColor=function(){},this.setSize=function(){}}void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Math.sign&&(Math.sign=function(t){return t<0?-1:t>0?1:+t}),void 0===Function.prototype.name&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===Object.assign&&function(){Object.assign=function(t){if(void 0===t||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(void 0!==r&&null!==r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}}(),e.prototype={addEventListener:function(t,e){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[t]&&(n[t]=[]),-1===n[t].indexOf(e)&&n[t].push(e)},hasEventListener:function(t,e){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[t]&&-1!==n[t].indexOf(e)},removeEventListener:function(t,e){if(void 0!==this._listeners){var n=this._listeners,r=n[t];if(void 0!==r){var i=r.indexOf(e);-1!==i&&r.splice(i,1)}}},dispatchEvent:function(t){if(void 0!==this._listeners){var e=this._listeners,n=e[t.type];if(void 0!==n){t.target=this;var r=[],i=0,o=n.length;for(i=0;i<o;i++)r[i]=n[i];for(i=0;i<o;i++)r[i].call(this,t)}}}};var Yi="84",Xi={LEFT:0,MIDDLE:1,RIGHT:2},Zi=0,Ki=1,$i=2,Qi=0,Ji=1,to=2,eo=0,no=1,ro=2,io=1,oo=2,ao=0,so=1,uo=2,lo=0,co=1,ho=2,fo=3,po=4,mo=5,go=100,vo=101,yo=102,bo=103,wo=104,xo=200,_o=201,Eo=202,Mo=203,So=204,To=205,Co=206,Io=207,Oo=208,Ao=209,Lo=210,Ro=0,No=1,Po=2,ko=3,Do=4,Fo=5,jo=6,Uo=7,Bo=0,zo=1,Vo=2,Go=0,Ho=1,qo=2,Wo=3,Yo=4,Xo=301,Zo=302,Ko=303,$o=304,Qo=305,Jo=306,ta=307,ea=1e3,na=1001,ra=1002,ia=1003,oa=1004,aa=1005,sa=1006,ua=1007,la=1008,ca=1009,ha=1010,fa=1011,da=1012,pa=1013,ma=1014,ga=1015,va=1016,ya=1017,ba=1018,wa=1019,xa=1020,_a=1021,Ea=1022,Ma=1023,Sa=1024,Ta=1025,Ca=Ma,Ia=1026,Oa=1027,Aa=2001,La=2002,Ra=2003,Na=2004,Pa=2100,ka=2101,Da=2102,Fa=2103,ja=2151,Ua=2201,Ba=2400,za=0,Va=1,Ga=2,Ha=3e3,qa=3001,Wa=3007,Ya=3002,Xa=3004,Za=3005,Ka=3006,$a=3200,Qa=3201,Ja={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var t,e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),n=new Array(36),r=0;return function(){for(var i=0;i<36;i++)8===i||13===i||18===i||23===i?n[i]="-":14===i?n[i]="4":(r<=2&&(r=33554432+16777216*Math.random()|0),t=15&r,r>>=4,n[i]=e[19===i?3&t|8:t]);return n.join("")}}(),clamp:function(t,e,n){return Math.max(e,Math.min(n,t))},euclideanModulo:function(t,e){return(t%e+e)%e},mapLinear:function(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)},lerp:function(t,e,n){return(1-n)*t+n*e},smoothstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*(3-2*t)},smootherstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*t*(t*(6*t-15)+10)},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},degToRad:function(t){return t*Ja.DEG2RAD},radToDeg:function(t){return t*Ja.RAD2DEG},isPowerOfTwo:function(t){return 0==(t&t-1)&&0!==t},nearestPowerOfTwo:function(t){return Math.pow(2,Math.round(Math.log(t)/Math.LN2))},nextPowerOfTwo:function(t){return t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,++t}};n.prototype={constructor:n,isVector2:!0,get width(){return this.x},set width(t){this.x=t},get height(){return this.y},set height(t){this.y=t},set:function(t,e){return this.x=t,this.y=e,this},setScalar:function(t){return this.x=t,this.y=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(t){return this.x=t.x,this.y=t.y,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this)},addScalar:function(t){return this.x+=t,this.y+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this)},subScalar:function(t){return this.x-=t,this.y-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this},multiplyScalar:function(t){return isFinite(t)?(this.x*=t,this.y*=t):(this.x=0,this.y=0),this},divide:function(t){return this.x/=t.x,this.y/=t.y,this},divideScalar:function(t){return this.multiplyScalar(1/t)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this},clampScalar:function(){var t,e;return function(r,i){return void 0===t&&(t=new n,e=new n),t.set(r,r),e.set(i,i),this.clamp(t,e)}}(),clampLength:function(t,e){var n=this.length();return this.multiplyScalar(Math.max(t,Math.min(e,n))/n)},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(t){return this.x*t.x+this.y*t.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length())},angle:function(){var t=Math.atan2(this.y,this.x);return t<0&&(t+=2*Math.PI),t},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,n=this.y-t.y;return e*e+n*n},distanceToManhattan:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)},setLength:function(t){return this.multiplyScalar(t/this.length())},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t},fromBufferAttribute:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this},rotateAround:function(t,e){var n=Math.cos(e),r=Math.sin(e),i=this.x-t.x,o=this.y-t.y;return this.x=i*n-o*r+t.x,this.y=i*r+o*n+t.y,this}};var ts=0;r.DEFAULT_IMAGE=void 0,r.DEFAULT_MAPPING=300,r.prototype={constructor:r,isTexture:!0,set needsUpdate(t){!0===t&&this.version++},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.image=t.image,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this},toJSON:function(t){if(void 0!==t.textures[this.uuid])return t.textures[this.uuid];var e={metadata:{version:4.4,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],wrap:[this.wrapS,this.wrapT],minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY};if(void 0!==this.image){var n=this.image;void 0===n.uuid&&(n.uuid=Ja.generateUUID()),void 0===t.images[n.uuid]&&(t.images[n.uuid]={uuid:n.uuid,url:function(t){var e;return void 0!==t.toDataURL?e=t:(e=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),e.width=t.width,e.height=t.height,e.getContext("2d").drawImage(t,0,0,t.width,t.height)),e.width>2048||e.height>2048?e.toDataURL("image/jpeg",.6):e.toDataURL("image/png")}(n)}),e.image=n.uuid}return t.textures[this.uuid]=e,e},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(t){if(300===this.mapping){if(t.multiply(this.repeat),t.add(this.offset),t.x<0||t.x>1)switch(this.wrapS){case ea:t.x=t.x-Math.floor(t.x);break;case na:t.x=t.x<0?0:1;break;case ra:1===Math.abs(Math.floor(t.x)%2)?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case ea:t.y=t.y-Math.floor(t.y);break;case na:t.y=t.y<0?0:1;break;case ra:1===Math.abs(Math.floor(t.y)%2)?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y)}this.flipY&&(t.y=1-t.y)}}},Object.assign(r.prototype,e.prototype),i.prototype={constructor:i,isVector4:!0,set:function(t,e,n,r){return this.x=t,this.y=e,this.z=n,this.w=r,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this.w=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setW:function(t){return this.w=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this},multiplyScalar:function(t){return isFinite(t)?(this.x*=t,this.y*=t,this.z*=t,this.w*=t):(this.x=0,this.y=0,this.z=0,this.w=0),this},applyMatrix4:function(t){var e=this.x,n=this.y,r=this.z,i=this.w,o=t.elements;return this.x=o[0]*e+o[4]*n+o[8]*r+o[12]*i,this.y=o[1]*e+o[5]*n+o[9]*r+o[13]*i,this.z=o[2]*e+o[6]*n+o[10]*r+o[14]*i,this.w=o[3]*e+o[7]*n+o[11]*r+o[15]*i,this},divideScalar:function(t){return this.multiplyScalar(1/t)},setAxisAngleFromQuaternion:function(t){this.w=2*Math.acos(t.w);var e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this},setAxisAngleFromRotationMatrix:function(t){var e,n,r,i,o=t.elements,a=o[0],s=o[4],u=o[8],l=o[1],c=o[5],h=o[9],f=o[2],d=o[6],p=o[10];if(Math.abs(s-l)<.01&&Math.abs(u-f)<.01&&Math.abs(h-d)<.01){if(Math.abs(s+l)<.1&&Math.abs(u+f)<.1&&Math.abs(h+d)<.1&&Math.abs(a+c+p-3)<.1)return this.set(1,0,0,0),this;e=Math.PI;var m=(a+1)/2,g=(c+1)/2,v=(p+1)/2,y=(s+l)/4,b=(u+f)/4,w=(h+d)/4;return m>g&&m>v?m<.01?(n=0,r=.707106781,i=.707106781):(n=Math.sqrt(m),r=y/n,i=b/n):g>v?g<.01?(n=.707106781,r=0,i=.707106781):(r=Math.sqrt(g),n=y/r,i=w/r):v<.01?(n=.707106781,r=.707106781,i=0):(i=Math.sqrt(v),n=b/i,r=w/i),this.set(n,r,i,e),this}var x=Math.sqrt((d-h)*(d-h)+(u-f)*(u-f)+(l-s)*(l-s));return Math.abs(x)<.001&&(x=1),this.x=(d-h)/x,this.y=(u-f)/x,this.z=(l-s)/x,this.w=Math.acos((a+c+p-1)/2),this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this},clampScalar:function(){var t,e;return function(n,r){return void 0===t&&(t=new i,e=new i),t.set(n,n,n,n),e.set(r,r,r,r),this.clamp(t,e)}}(),floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length())},setLength:function(t){return this.multiplyScalar(t/this.length())},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t},fromBufferAttribute:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}},o.prototype={constructor:o,isWebGLRenderTarget:!0,setSize:function(t,e){this.width===t&&this.height===e||(this.width=t,this.height=e,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.width=t.width,this.height=t.height,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.depthTexture=t.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}},Object.assign(o.prototype,e.prototype),a.prototype=Object.create(o.prototype),a.prototype.constructor=a,a.prototype.isWebGLRenderTargetCube=!0,s.prototype={constructor:s,get x(){return this._x},set x(t){this._x=t,this.onChangeCallback()},get y(){return this._y},set y(t){this._y=t,this.onChangeCallback()},get z(){return this._z},set z(t){this._z=t,this.onChangeCallback()},get w(){return this._w},set w(t){this._w=t,this.onChangeCallback()},set:function(t,e,n,r){return this._x=t,this._y=e,this._z=n,this._w=r,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this.onChangeCallback(),this},setFromEuler:function(t,e){if(!1===(t&&t.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=Math.cos(t._x/2),r=Math.cos(t._y/2),i=Math.cos(t._z/2),o=Math.sin(t._x/2),a=Math.sin(t._y/2),s=Math.sin(t._z/2),u=t.order;return"XYZ"===u?(this._x=o*r*i+n*a*s,this._y=n*a*i-o*r*s,this._z=n*r*s+o*a*i,this._w=n*r*i-o*a*s):"YXZ"===u?(this._x=o*r*i+n*a*s,this._y=n*a*i-o*r*s,this._z=n*r*s-o*a*i,this._w=n*r*i+o*a*s):"ZXY"===u?(this._x=o*r*i-n*a*s,this._y=n*a*i+o*r*s,this._z=n*r*s+o*a*i,this._w=n*r*i-o*a*s):"ZYX"===u?(this._x=o*r*i-n*a*s,this._y=n*a*i+o*r*s,this._z=n*r*s-o*a*i,this._w=n*r*i+o*a*s):"YZX"===u?(this._x=o*r*i+n*a*s,this._y=n*a*i+o*r*s,this._z=n*r*s-o*a*i,this._w=n*r*i-o*a*s):"XZY"===u&&(this._x=o*r*i-n*a*s,this._y=n*a*i-o*r*s,this._z=n*r*s+o*a*i,this._w=n*r*i+o*a*s),!1!==e&&this.onChangeCallback(),this},setFromAxisAngle:function(t,e){var n=e/2,r=Math.sin(n);return this._x=t.x*r,this._y=t.y*r,this._z=t.z*r,this._w=Math.cos(n),this.onChangeCallback(),this},setFromRotationMatrix:function(t){var e,n=t.elements,r=n[0],i=n[4],o=n[8],a=n[1],s=n[5],u=n[9],l=n[2],c=n[6],h=n[10],f=r+s+h;return f>0?(e=.5/Math.sqrt(f+1),this._w=.25/e,this._x=(c-u)*e,this._y=(o-l)*e,this._z=(a-i)*e):r>s&&r>h?(e=2*Math.sqrt(1+r-s-h),this._w=(c-u)/e,this._x=.25*e,this._y=(i+a)/e,this._z=(o+l)/e):s>h?(e=2*Math.sqrt(1+s-r-h),this._w=(o-l)/e,this._x=(i+a)/e,this._y=.25*e,this._z=(u+c)/e):(e=2*Math.sqrt(1+h-r-s),this._w=(a-i)/e,this._x=(o+l)/e,this._y=(u+c)/e,this._z=.25*e),this.onChangeCallback(),this},setFromUnitVectors:function(){var t,e;return function(n,r){return void 0===t&&(t=new u),e=n.dot(r)+1,e<1e-6?(e=0,Math.abs(n.x)>Math.abs(n.z)?t.set(-n.y,n.x,0):t.set(0,-n.z,n.y)):t.crossVectors(n,r),this._x=t.x,this._y=t.y,this._z=t.z,this._w=e,this.normalize()}}(),inverse:function(){return this.conjugate().normalize()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this.onChangeCallback(),this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)},premultiply:function(t){return this.multiplyQuaternions(t,this)},multiplyQuaternions:function(t,e){var n=t._x,r=t._y,i=t._z,o=t._w,a=e._x,s=e._y,u=e._z,l=e._w;return this._x=n*l+o*a+r*u-i*s,this._y=r*l+o*s+i*a-n*u,this._z=i*l+o*u+n*s-r*a,this._w=o*l-n*a-r*s-i*u,this.onChangeCallback(),this},slerp:function(t,e){if(0===e)return this;if(1===e)return this.copy(t);var n=this._x,r=this._y,i=this._z,o=this._w,a=o*t._w+n*t._x+r*t._y+i*t._z;if(a<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,a=-a):this.copy(t),a>=1)return this._w=o,this._x=n,this._y=r,this._z=i,this;var s=Math.sqrt(1-a*a);if(Math.abs(s)<.001)return this._w=.5*(o+this._w),this._x=.5*(n+this._x),this._y=.5*(r+this._y),this._z=.5*(i+this._z),this;var u=Math.atan2(s,a),l=Math.sin((1-e)*u)/s,c=Math.sin(e*u)/s;return this._w=o*l+this._w*c,this._x=n*l+this._x*c,this._y=r*l+this._y*c,this._z=i*l+this._z*c,this.onChangeCallback(),this},equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w},fromArray:function(t,e){return void 0===e&&(e=0),this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}},Object.assign(s,{slerp:function(t,e,n,r){return n.copy(t).slerp(e,r)},slerpFlat:function(t,e,n,r,i,o,a){var s=n[r+0],u=n[r+1],l=n[r+2],c=n[r+3],h=i[o+0],f=i[o+1],d=i[o+2],p=i[o+3];if(c!==p||s!==h||u!==f||l!==d){var m=1-a,g=s*h+u*f+l*d+c*p,v=g>=0?1:-1,y=1-g*g;if(y>Number.EPSILON){var b=Math.sqrt(y),w=Math.atan2(b,g*v);m=Math.sin(m*w)/b,a=Math.sin(a*w)/b}var x=a*v;if(s=s*m+h*x,u=u*m+f*x,l=l*m+d*x,c=c*m+p*x,m===1-a){var _=1/Math.sqrt(s*s+u*u+l*l+c*c);s*=_,u*=_,l*=_,c*=_}}t[e]=s,t[e+1]=u,t[e+2]=l,t[e+3]=c}}),u.prototype={constructor:u,isVector3:!0,set:function(t,e,n){return this.x=t,this.y=e,this.z=n,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)},multiplyScalar:function(t){return isFinite(t)?(this.x*=t,this.y*=t,this.z*=t):(this.x=0,this.y=0,this.z=0),this},multiplyVectors:function(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this},applyEuler:function(){var t;return function(e){return!1===(e&&e.isEuler)&&console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),void 0===t&&(t=new s),this.applyQuaternion(t.setFromEuler(e))}}(),applyAxisAngle:function(){var t;return function(e,n){return void 0===t&&(t=new s),this.applyQuaternion(t.setFromAxisAngle(e,n))}}(),applyMatrix3:function(t){var e=this.x,n=this.y,r=this.z,i=t.elements;return this.x=i[0]*e+i[3]*n+i[6]*r,this.y=i[1]*e+i[4]*n+i[7]*r,this.z=i[2]*e+i[5]*n+i[8]*r,this},applyMatrix4:function(t){var e=this.x,n=this.y,r=this.z,i=t.elements;this.x=i[0]*e+i[4]*n+i[8]*r+i[12],this.y=i[1]*e+i[5]*n+i[9]*r+i[13],this.z=i[2]*e+i[6]*n+i[10]*r+i[14];var o=i[3]*e+i[7]*n+i[11]*r+i[15];return this.divideScalar(o)},applyQuaternion:function(t){var e=this.x,n=this.y,r=this.z,i=t.x,o=t.y,a=t.z,s=t.w,u=s*e+o*r-a*n,l=s*n+a*e-i*r,c=s*r+i*n-o*e,h=-i*e-o*n-a*r;return this.x=u*s+h*-i+l*-a-c*-o,this.y=l*s+h*-o+c*-i-u*-a,this.z=c*s+h*-a+u*-o-l*-i,this},project:function(){var t;return function(e){return void 0===t&&(t=new l),t.multiplyMatrices(e.projectionMatrix,t.getInverse(e.matrixWorld)),this.applyMatrix4(t)}}(),unproject:function(){var t;return function(e){return void 0===t&&(t=new l),t.multiplyMatrices(e.matrixWorld,t.getInverse(e.projectionMatrix)),this.applyMatrix4(t)}}(),transformDirection:function(t){var e=this.x,n=this.y,r=this.z,i=t.elements;return this.x=i[0]*e+i[4]*n+i[8]*r,this.y=i[1]*e+i[5]*n+i[9]*r,this.z=i[2]*e+i[6]*n+i[10]*r,this.normalize()},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this},divideScalar:function(t){return this.multiplyScalar(1/t)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this},clampScalar:function(){var t,e;return function(n,r){return void 0===t&&(t=new u,e=new u),t.set(n,n,n),e.set(r,r,r),this.clamp(t,e)}}(),clampLength:function(t,e){var n=this.length();return this.multiplyScalar(Math.max(t,Math.min(e,n))/n)},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length())},setLength:function(t){return this.multiplyScalar(t/this.length())},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},cross:function(t,e){if(void 0!==e)return console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,e);var n=this.x,r=this.y,i=this.z;return this.x=r*t.z-i*t.y,this.y=i*t.x-n*t.z,this.z=n*t.y-r*t.x,this},crossVectors:function(t,e){var n=t.x,r=t.y,i=t.z,o=e.x,a=e.y,s=e.z;return this.x=r*s-i*a,this.y=i*o-n*s,this.z=n*a-r*o,this},projectOnVector:function(t){var e=t.dot(this)/t.lengthSq();return this.copy(t).multiplyScalar(e)},projectOnPlane:function(){var t;return function(e){return void 0===t&&(t=new u),t.copy(this).projectOnVector(e),this.sub(t)}}(),reflect:function(){var t;return function(e){return void 0===t&&(t=new u),this.sub(t.copy(e).multiplyScalar(2*this.dot(e)))}}(),angleTo:function(t){var e=this.dot(t)/Math.sqrt(this.lengthSq()*t.lengthSq());return Math.acos(Ja.clamp(e,-1,1))},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,n=this.y-t.y,r=this.z-t.z;return e*e+n*n+r*r},distanceToManhattan:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)},setFromSpherical:function(t){var e=Math.sin(t.phi)*t.radius;return this.x=e*Math.sin(t.theta),this.y=Math.cos(t.phi)*t.radius,this.z=e*Math.cos(t.theta),this},setFromCylindrical:function(t){return this.x=t.radius*Math.sin(t.theta),this.y=t.y,this.z=t.radius*Math.cos(t.theta),this},setFromMatrixPosition:function(t){return this.setFromMatrixColumn(t,3)},setFromMatrixScale:function(t){var e=this.setFromMatrixColumn(t,0).length(),n=this.setFromMatrixColumn(t,1).length(),r=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=n,this.z=r,this},setFromMatrixColumn:function(t,e){if("number"==typeof t){console.warn("THREE.Vector3: setFromMatrixColumn now expects ( matrix, index ).");var n=t;t=e,e=n}return this.fromArray(t.elements,4*e)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t},fromBufferAttribute:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}},l.prototype={constructor:l,isMatrix4:!0,set:function(t,e,n,r,i,o,a,s,u,l,c,h,f,d,p,m){var g=this.elements;return g[0]=t,g[4]=e,g[8]=n,g[12]=r,g[1]=i,g[5]=o,g[9]=a,g[13]=s,g[2]=u,g[6]=l,g[10]=c,g[14]=h,g[3]=f,g[7]=d,g[11]=p,g[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new l).fromArray(this.elements)},copy:function(t){return this.elements.set(t.elements),this},copyPosition:function(t){var e=this.elements,n=t.elements;return e[12]=n[12],e[13]=n[13],e[14]=n[14],this},extractBasis:function(t,e,n){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this},makeBasis:function(t,e,n){return this.set(t.x,e.x,n.x,0,t.y,e.y,n.y,0,t.z,e.z,n.z,0,0,0,0,1),this},extractRotation:function(){var t;return function(e){void 0===t&&(t=new u);var n=this.elements,r=e.elements,i=1/t.setFromMatrixColumn(e,0).length(),o=1/t.setFromMatrixColumn(e,1).length(),a=1/t.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[4]=r[4]*o,n[5]=r[5]*o,n[6]=r[6]*o,n[8]=r[8]*a,n[9]=r[9]*a,n[10]=r[10]*a,this}}(),makeRotationFromEuler:function(t){!1===(t&&t.isEuler)&&console.error("THREE.Matrix: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var e=this.elements,n=t.x,r=t.y,i=t.z,o=Math.cos(n),a=Math.sin(n),s=Math.cos(r),u=Math.sin(r),l=Math.cos(i),c=Math.sin(i);if("XYZ"===t.order){var h=o*l,f=o*c,d=a*l,p=a*c;e[0]=s*l,e[4]=-s*c,e[8]=u,e[1]=f+d*u,e[5]=h-p*u,e[9]=-a*s,e[2]=p-h*u,e[6]=d+f*u,e[10]=o*s}else if("YXZ"===t.order){var m=s*l,g=s*c,v=u*l,y=u*c;e[0]=m+y*a,e[4]=v*a-g,e[8]=o*u,e[1]=o*c,e[5]=o*l,e[9]=-a,e[2]=g*a-v,e[6]=y+m*a,e[10]=o*s}else if("ZXY"===t.order){var m=s*l,g=s*c,v=u*l,y=u*c;e[0]=m-y*a,e[4]=-o*c,e[8]=v+g*a,e[1]=g+v*a,e[5]=o*l,e[9]=y-m*a,e[2]=-o*u,e[6]=a,e[10]=o*s}else if("ZYX"===t.order){var h=o*l,f=o*c,d=a*l,p=a*c;e[0]=s*l,e[4]=d*u-f,e[8]=h*u+p,e[1]=s*c,e[5]=p*u+h,e[9]=f*u-d,e[2]=-u,e[6]=a*s,e[10]=o*s}else if("YZX"===t.order){var b=o*s,w=o*u,x=a*s,_=a*u;e[0]=s*l,e[4]=_-b*c,e[8]=x*c+w,e[1]=c,e[5]=o*l,e[9]=-a*l,e[2]=-u*l,e[6]=w*c+x,e[10]=b-_*c}else if("XZY"===t.order){var b=o*s,w=o*u,x=a*s,_=a*u;e[0]=s*l,e[4]=-c,e[8]=u*l,e[1]=b*c+_,e[5]=o*l,e[9]=w*c-x,e[2]=x*c-w,e[6]=a*l,e[10]=_*c+b}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},makeRotationFromQuaternion:function(t){var e=this.elements,n=t.x,r=t.y,i=t.z,o=t.w,a=n+n,s=r+r,u=i+i,l=n*a,c=n*s,h=n*u,f=r*s,d=r*u,p=i*u,m=o*a,g=o*s,v=o*u;return e[0]=1-(f+p),e[4]=c-v,e[8]=h+g,e[1]=c+v,e[5]=1-(l+p),e[9]=d-m,e[2]=h-g,e[6]=d+m,e[10]=1-(l+f),e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},lookAt:function(){var t,e,n;return function(r,i,o){void 0===t&&(t=new u,e=new u,n=new u);var a=this.elements;return n.subVectors(r,i).normalize(),0===n.lengthSq()&&(n.z=1),t.crossVectors(o,n).normalize(),0===t.lengthSq()&&(n.z+=1e-4,t.crossVectors(o,n).normalize()),e.crossVectors(n,t),a[0]=t.x,a[4]=e.x,a[8]=n.x,a[1]=t.y,a[5]=e.y,a[9]=n.y,a[2]=t.z,a[6]=e.z,a[10]=n.z,this}}(),multiply:function(t,e){return void 0!==e?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){var n=t.elements,r=e.elements,i=this.elements,o=n[0],a=n[4],s=n[8],u=n[12],l=n[1],c=n[5],h=n[9],f=n[13],d=n[2],p=n[6],m=n[10],g=n[14],v=n[3],y=n[7],b=n[11],w=n[15],x=r[0],_=r[4],E=r[8],M=r[12],S=r[1],T=r[5],C=r[9],I=r[13],O=r[2],A=r[6],L=r[10],R=r[14],N=r[3],P=r[7],k=r[11],D=r[15];return i[0]=o*x+a*S+s*O+u*N,i[4]=o*_+a*T+s*A+u*P,i[8]=o*E+a*C+s*L+u*k,i[12]=o*M+a*I+s*R+u*D,i[1]=l*x+c*S+h*O+f*N,i[5]=l*_+c*T+h*A+f*P,i[9]=l*E+c*C+h*L+f*k,i[13]=l*M+c*I+h*R+f*D,i[2]=d*x+p*S+m*O+g*N,i[6]=d*_+p*T+m*A+g*P,i[10]=d*E+p*C+m*L+g*k,i[14]=d*M+p*I+m*R+g*D,i[3]=v*x+y*S+b*O+w*N,i[7]=v*_+y*T+b*A+w*P,i[11]=v*E+y*C+b*L+w*k,i[15]=v*M+y*I+b*R+w*D,this},multiplyToArray:function(t,e,n){var r=this.elements;return this.multiplyMatrices(t,e),n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this},applyToBufferAttribute:function(){var t;return function(e){void 0===t&&(t=new u);for(var n=0,r=e.count;n<r;n++)t.x=e.getX(n),t.y=e.getY(n),t.z=e.getZ(n),t.applyMatrix4(this),e.setXYZ(n,t.x,t.y,t.z);return e}}(),determinant:function(){var t=this.elements,e=t[0],n=t[4],r=t[8],i=t[12],o=t[1],a=t[5],s=t[9],u=t[13],l=t[2],c=t[6],h=t[10],f=t[14];return t[3]*(+i*s*c-r*u*c-i*a*h+n*u*h+r*a*f-n*s*f)+t[7]*(+e*s*f-e*u*h+i*o*h-r*o*f+r*u*l-i*s*l)+t[11]*(+e*u*c-e*a*f-i*o*c+n*o*f+i*a*l-n*u*l)+t[15]*(-r*a*l-e*s*c+e*a*h+r*o*c-n*o*h+n*s*l)},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this},setPosition:function(t){var e=this.elements;return e[12]=t.x,e[13]=t.y,e[14]=t.z,this},getInverse:function(t,e){var n=this.elements,r=t.elements,i=r[0],o=r[1],a=r[2],s=r[3],u=r[4],l=r[5],c=r[6],h=r[7],f=r[8],d=r[9],p=r[10],m=r[11],g=r[12],v=r[13],y=r[14],b=r[15],w=d*y*h-v*p*h+v*c*m-l*y*m-d*c*b+l*p*b,x=g*p*h-f*y*h-g*c*m+u*y*m+f*c*b-u*p*b,_=f*v*h-g*d*h+g*l*m-u*v*m-f*l*b+u*d*b,E=g*d*c-f*v*c-g*l*p+u*v*p+f*l*y-u*d*y,M=i*w+o*x+a*_+s*E;if(0===M){var S="THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0";if(!0===e)throw new Error(S);return console.warn(S),this.identity()}var T=1/M;return n[0]=w*T,n[1]=(v*p*s-d*y*s-v*a*m+o*y*m+d*a*b-o*p*b)*T,n[2]=(l*y*s-v*c*s+v*a*h-o*y*h-l*a*b+o*c*b)*T,n[3]=(d*c*s-l*p*s-d*a*h+o*p*h+l*a*m-o*c*m)*T,n[4]=x*T,n[5]=(f*y*s-g*p*s+g*a*m-i*y*m-f*a*b+i*p*b)*T,n[6]=(g*c*s-u*y*s-g*a*h+i*y*h+u*a*b-i*c*b)*T,n[7]=(u*p*s-f*c*s+f*a*h-i*p*h-u*a*m+i*c*m)*T,n[8]=_*T,n[9]=(g*d*s-f*v*s-g*o*m+i*v*m+f*o*b-i*d*b)*T,n[10]=(u*v*s-g*l*s+g*o*h-i*v*h-u*o*b+i*l*b)*T,n[11]=(f*l*s-u*d*s-f*o*h+i*d*h+u*o*m-i*l*m)*T,n[12]=E*T,n[13]=(f*v*a-g*d*a+g*o*p-i*v*p-f*o*y+i*d*y)*T,n[14]=(g*l*a-u*v*a-g*o*c+i*v*c+u*o*y-i*l*y)*T,n[15]=(u*d*a-f*l*a+f*o*c-i*d*c-u*o*p+i*l*p)*T,this},scale:function(t){var e=this.elements,n=t.x,r=t.y,i=t.z;return e[0]*=n,e[4]*=r,e[8]*=i,e[1]*=n,e[5]*=r,e[9]*=i,e[2]*=n,e[6]*=r,e[10]*=i,e[3]*=n,e[7]*=r,e[11]*=i,this},getMaxScaleOnAxis:function(){var t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],n=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],r=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,n,r))},makeTranslation:function(t,e,n){return this.set(1,0,0,t,0,1,0,e,0,0,1,n,0,0,0,1),this},makeRotationX:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(1,0,0,0,0,e,-n,0,0,n,e,0,0,0,0,1),this},makeRotationY:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(e,0,n,0,0,1,0,0,-n,0,e,0,0,0,0,1),this},makeRotationZ:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,0,n,e,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(t,e){var n=Math.cos(e),r=Math.sin(e),i=1-n,o=t.x,a=t.y,s=t.z,u=i*o,l=i*a;return this.set(u*o+n,u*a-r*s,u*s+r*a,0,u*a+r*s,l*a+n,l*s-r*o,0,u*s-r*a,l*s+r*o,i*s*s+n,0,0,0,0,1),this},makeScale:function(t,e,n){return this.set(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1),this},makeShear:function(t,e,n){return this.set(1,e,n,0,t,1,n,0,t,e,1,0,0,0,0,1),this},compose:function(t,e,n){return this.makeRotationFromQuaternion(e),this.scale(n),this.setPosition(t),this},decompose:function(){var t,e;return function(n,r,i){void 0===t&&(t=new u,e=new l);var o=this.elements,a=t.set(o[0],o[1],o[2]).length(),s=t.set(o[4],o[5],o[6]).length(),c=t.set(o[8],o[9],o[10]).length();this.determinant()<0&&(a=-a),n.x=o[12],n.y=o[13],n.z=o[14],e.elements.set(this.elements);var h=1/a,f=1/s,d=1/c;return e.elements[0]*=h,e.elements[1]*=h,e.elements[2]*=h,e.elements[4]*=f,e.elements[5]*=f,e.elements[6]*=f,e.elements[8]*=d,e.elements[9]*=d,e.elements[10]*=d,r.setFromRotationMatrix(e),i.x=a,i.y=s,i.z=c,this}}(),makePerspective:function(t,e,n,r,i,o){void 0===o&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var a=this.elements,s=2*i/(e-t),u=2*i/(n-r),l=(e+t)/(e-t),c=(n+r)/(n-r),h=-(o+i)/(o-i),f=-2*o*i/(o-i);return a[0]=s,a[4]=0,a[8]=l,a[12]=0,a[1]=0,a[5]=u,a[9]=c,a[13]=0,a[2]=0,a[6]=0,a[10]=h,a[14]=f,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this},makeOrthographic:function(t,e,n,r,i,o){var a=this.elements,s=1/(e-t),u=1/(n-r),l=1/(o-i),c=(e+t)*s,h=(n+r)*u,f=(o+i)*l;return a[0]=2*s,a[4]=0,a[8]=0,a[12]=-c,a[1]=0,a[5]=2*u,a[9]=0,a[13]=-h,a[2]=0,a[6]=0,a[10]=-2*l,a[14]=-f,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this},equals:function(t){for(var e=this.elements,n=t.elements,r=0;r<16;r++)if(e[r]!==n[r])return!1;return!0},fromArray:function(t,e){void 0===e&&(e=0);for(var n=0;n<16;n++)this.elements[n]=t[n+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t[e+9]=n[9],t[e+10]=n[10],t[e+11]=n[11],t[e+12]=n[12],t[e+13]=n[13],t[e+14]=n[14],t[e+15]=n[15],t}},c.prototype=Object.create(r.prototype),c.prototype.constructor=c,c.prototype.isCubeTexture=!0,Object.defineProperty(c.prototype,"images",{get:function(){return this.image},set:function(t){this.image=t}});var es=new r,ns=new c,rs=[],is=[];z.prototype.setValue=function(t,e){for(var n=this.seq,r=0,i=n.length;r!==i;++r){var o=n[r];o.setValue(t,e[o.id])}};var os=/([\w\d_]+)(\])?(\[|\.)?/g;H.prototype.setValue=function(t,e,n){var r=this.map[e];void 0!==r&&r.setValue(t,n,this.renderer)},H.prototype.set=function(t,e,n){var r=this.map[n];void 0!==r&&r.setValue(t,e[n],this.renderer)},H.prototype.setOptional=function(t,e,n){var r=e[n];void 0!==r&&this.setValue(t,n,r)},H.upload=function(t,e,n,r){for(var i=0,o=e.length;i!==o;++i){var a=e[i],s=n[a.id];!1!==s.needsUpdate&&a.setValue(t,s.value,r)}},H.seqWithValue=function(t,e){for(var n=[],r=0,i=t.length;r!==i;++r){var o=t[r];o.id in e&&n.push(o)}return n};var as={merge:function(t){for(var e={},n=0;n<t.length;n++){var r=this.clone(t[n]);for(var i in r)e[i]=r[i]}return e},clone:function(t){var e={};for(var n in t){e[n]={};for(var r in t[n]){var i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture)?e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}},ss={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif\n",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif\n",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif\n",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif\n",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"\nvec3 transformed = vec3( position );\n",beginnormal_vertex:"\nvec3 objectNormal = vec3( normal );\n",bsdfs:"float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t\tif( decayExponent > 0.0 ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\t\tfloat maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t\treturn distanceFalloff * maxDistanceCutoffFactor;\n#else\n\t\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n#endif\n\t\t}\n\t\treturn 1.0;\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 ltcTextureCoords( const in GeometricContext geometry, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = (LUT_SIZE - 1.0)/LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5/LUT_SIZE;\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 P = geometry.position;\n\tfloat theta = acos( dot( N, V ) );\n\tvec2 uv = vec2(\n\t\tsqrt( saturate( roughness ) ),\n\t\tsaturate( theta / ( 0.5 * PI ) ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nvoid clipQuadToHorizon( inout vec3 L[5], out int n ) {\n\tint config = 0;\n\tif ( L[0].z > 0.0 ) config += 1;\n\tif ( L[1].z > 0.0 ) config += 2;\n\tif ( L[2].z > 0.0 ) config += 4;\n\tif ( L[3].z > 0.0 ) config += 8;\n\tn = 0;\n\tif ( config == 0 ) {\n\t} else if ( config == 1 ) {\n\t\tn = 3;\n\t\tL[1] = -L[1].z * L[0] + L[0].z * L[1];\n\t\tL[2] = -L[3].z * L[0] + L[0].z * L[3];\n\t} else if ( config == 2 ) {\n\t\tn = 3;\n\t\tL[0] = -L[0].z * L[1] + L[1].z * L[0];\n\t\tL[2] = -L[2].z * L[1] + L[1].z * L[2];\n\t} else if ( config == 3 ) {\n\t\tn = 4;\n\t\tL[2] = -L[2].z * L[1] + L[1].z * L[2];\n\t\tL[3] = -L[3].z * L[0] + L[0].z * L[3];\n\t} else if ( config == 4 ) {\n\t\tn = 3;\n\t\tL[0] = -L[3].z * L[2] + L[2].z * L[3];\n\t\tL[1] = -L[1].z * L[2] + L[2].z * L[1];\n\t} else if ( config == 5 ) {\n\t\tn = 0;\n\t} else if ( config == 6 ) {\n\t\tn = 4;\n\t\tL[0] = -L[0].z * L[1] + L[1].z * L[0];\n\t\tL[3] = -L[3].z * L[2] + L[2].z * L[3];\n\t} else if ( config == 7 ) {\n\t\tn = 5;\n\t\tL[4] = -L[3].z * L[0] + L[0].z * L[3];\n\t\tL[3] = -L[3].z * L[2] + L[2].z * L[3];\n\t} else if ( config == 8 ) {\n\t\tn = 3;\n\t\tL[0] = -L[0].z * L[3] + L[3].z * L[0];\n\t\tL[1] = -L[2].z * L[3] + L[3].z * L[2];\n\t\tL[2] =  L[3];\n\t} else if ( config == 9 ) {\n\t\tn = 4;\n\t\tL[1] = -L[1].z * L[0] + L[0].z * L[1];\n\t\tL[2] = -L[2].z * L[3] + L[3].z * L[2];\n\t} else if ( config == 10 ) {\n\t\tn = 0;\n\t} else if ( config == 11 ) {\n\t\tn = 5;\n\t\tL[4] = L[3];\n\t\tL[3] = -L[2].z * L[3] + L[3].z * L[2];\n\t\tL[2] = -L[2].z * L[1] + L[1].z * L[2];\n\t} else if ( config == 12 ) {\n\t\tn = 4;\n\t\tL[1] = -L[1].z * L[2] + L[2].z * L[1];\n\t\tL[0] = -L[0].z * L[3] + L[3].z * L[0];\n\t} else if ( config == 13 ) {\n\t\tn = 5;\n\t\tL[4] = L[3];\n\t\tL[3] = L[2];\n\t\tL[2] = -L[1].z * L[2] + L[2].z * L[1];\n\t\tL[1] = -L[1].z * L[0] + L[0].z * L[1];\n\t} else if ( config == 14 ) {\n\t\tn = 5;\n\t\tL[4] = -L[0].z * L[3] + L[3].z * L[0];\n\t\tL[0] = -L[0].z * L[1] + L[1].z * L[0];\n\t} else if ( config == 15 ) {\n\t\tn = 4;\n\t}\n\tif ( n == 3 )\n\t\tL[3] = L[0];\n\tif ( n == 4 )\n\t\tL[4] = L[0];\n}\nfloat integrateLtcBrdfOverRectEdge( vec3 v1, vec3 v2 ) {\n\tfloat cosTheta = dot( v1, v2 );\n\tfloat theta = acos( cosTheta );\n\tfloat res = cross( v1, v2 ).z * ( ( theta > 0.001 ) ? theta / sin( theta ) : 1.0 );\n\treturn res;\n}\nvoid initRectPoints( const in vec3 pos, const in vec3 halfWidth, const in vec3 halfHeight, out vec3 rectPoints[4] ) {\n\trectPoints[0] = pos - halfWidth - halfHeight;\n\trectPoints[1] = pos + halfWidth - halfHeight;\n\trectPoints[2] = pos + halfWidth + halfHeight;\n\trectPoints[3] = pos - halfWidth + halfHeight;\n}\nvec3 integrateLtcBrdfOverRect( const in GeometricContext geometry, const in mat3 brdfMat, const in vec3 rectPoints[4] ) {\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 P = geometry.position;\n\tvec3 T1, T2;\n\tT1 = normalize(V - N * dot( V, N ));\n\tT2 = - cross( N, T1 );\n\tmat3 brdfWrtSurface = brdfMat * transpose( mat3( T1, T2, N ) );\n\tvec3 clippedRect[5];\n\tclippedRect[0] = brdfWrtSurface * ( rectPoints[0] - P );\n\tclippedRect[1] = brdfWrtSurface * ( rectPoints[1] - P );\n\tclippedRect[2] = brdfWrtSurface * ( rectPoints[2] - P );\n\tclippedRect[3] = brdfWrtSurface * ( rectPoints[3] - P );\n\tint n;\n\tclipQuadToHorizon(clippedRect, n);\n\tif ( n == 0 )\n\t\treturn vec3( 0, 0, 0 );\n\tclippedRect[0] = normalize( clippedRect[0] );\n\tclippedRect[1] = normalize( clippedRect[1] );\n\tclippedRect[2] = normalize( clippedRect[2] );\n\tclippedRect[3] = normalize( clippedRect[3] );\n\tclippedRect[4] = normalize( clippedRect[4] );\n\tfloat sum = 0.0;\n\tsum += integrateLtcBrdfOverRectEdge( clippedRect[0], clippedRect[1] );\n\tsum += integrateLtcBrdfOverRectEdge( clippedRect[1], clippedRect[2] );\n\tsum += integrateLtcBrdfOverRectEdge( clippedRect[2], clippedRect[3] );\n\tif (n >= 4)\n\t\tsum += integrateLtcBrdfOverRectEdge( clippedRect[3], clippedRect[4] );\n\tif (n == 5)\n\t\tsum += integrateLtcBrdfOverRectEdge( clippedRect[4], clippedRect[0] );\n\tsum = max( 0.0, sum );\n\tvec3 Lo_i = vec3( sum, sum, sum );\n\treturn Lo_i;\n}\nvec3 Rect_Area_Light_Specular_Reflectance(\n\t\tconst in GeometricContext geometry,\n\t\tconst in vec3 lightPos, const in vec3 lightHalfWidth, const in vec3 lightHalfHeight,\n\t\tconst in float roughness,\n\t\tconst in sampler2D ltcMat, const in sampler2D ltcMag ) {\n\tvec3 rectPoints[4];\n\tinitRectPoints( lightPos, lightHalfWidth, lightHalfHeight, rectPoints );\n\tvec2 uv = ltcTextureCoords( geometry, roughness );\n\tvec4 brdfLtcApproxParams, t;\n\tbrdfLtcApproxParams = texture2D( ltcMat, uv );\n\tt = texture2D( ltcMat, uv );\n\tfloat brdfLtcScalar = texture2D( ltcMag, uv ).a;\n\tmat3 brdfLtcApproxMat = mat3(\n\t\tvec3(   1,   0, t.y ),\n\t\tvec3(   0, t.z,   0 ),\n\t\tvec3( t.w,   0, t.x )\n\t);\n\tvec3 specularReflectance = integrateLtcBrdfOverRect( geometry, brdfLtcApproxMat, rectPoints );\n\tspecularReflectance *= brdfLtcScalar;\n\treturn specularReflectance;\n}\nvec3 Rect_Area_Light_Diffuse_Reflectance(\n\t\tconst in GeometricContext geometry,\n\t\tconst in vec3 lightPos, const in vec3 lightHalfWidth, const in vec3 lightHalfHeight ) {\n\tvec3 rectPoints[4];\n\tinitRectPoints( lightPos, lightHalfWidth, lightHalfHeight, rectPoints );\n\tmat3 diffuseBrdfMat = mat3(1);\n\tvec3 diffuseReflectance = integrateLtcBrdfOverRect( geometry, diffuseBrdfMat, rectPoints );\n\treturn diffuseReflectance;\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n\treturn specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos );\n\t\tvec3 vSigmaY = dFdy( surf_pos );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif\n",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; ++ i ) {\n\t\tvec4 plane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t\t\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; ++ i ) {\n\t\t\tvec4 plane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t\n\t#endif\n#endif\n",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif\n",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvarying vec3 vViewPosition;\n#endif\n",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif\n",color_pars_vertex:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_vertex:"#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",common:"#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transpose( const in mat3 v ) {\n\tmat3 tmp;\n\ttmp[0] = vec3(v[0].x, v[1].x, v[2].x);\n\ttmp[1] = vec3(v[0].y, v[1].y, v[2].y);\n\ttmp[2] = vec3(v[0].z, v[1].z, v[2].z);\n\treturn tmp;\n}\n",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV(vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif\n",defaultnormal_vertex:"#ifdef FLIP_SIDED\n\tobjectNormal = -objectNormal;\n#endif\nvec3 transformedNormal = normalMatrix * objectNormal;\n",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif\n",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normal * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif\n",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif\n",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif\n",encodings_fragment:"  gl_FragColor = linearToOutputTexel( gl_FragColor );\n",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.xyz * value.w * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat M      = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM            = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat D      = max( maxRange / maxRGB, 1.0 );\n\tD            = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\n\tXp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract(Le);\n\tvResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\n\treturn vec4( max(vRGB, 0.0), 1.0 );\n}\n",envmap_fragment:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\tsampleUV.y = saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\n\t\tsampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\tvec3 reflectView = flipNormal * normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif\n",envmap_pars_fragment:"#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntensity;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif\n",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif\n",envmap_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif\n",fog_vertex:"\n#ifdef USE_FOG\nfogDepth = -mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n  varying float fogDepth;\n#endif\n",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif\n",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif\n",gradientmap_pars_fragment:"#ifdef TOON\n\tuniform sampler2D gradientMap;\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t\t#ifdef USE_GRADIENTMAP\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\t\t#else\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t\t#endif\n\t}\n#endif\n",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif\n",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif\n",lights_pars:"uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltcMat;\tuniform sampler2D ltcMag;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif\n#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar - 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV(queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = saturate( reflectVec.y * 0.5 + 0.5 );\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif\n",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;\n",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_BlinnPhong( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 matDiffColor = material.diffuseColor;\n\t\tvec3 matSpecColor = material.specularColor;\n\t\tvec3 lightColor   = rectAreaLight.color;\n\t\tfloat roughness = BlinnExponentToGGXRoughness( material.specularShininess );\n\t\tvec3 spec = Rect_Area_Light_Specular_Reflectance(\n\t\t\t\tgeometry,\n\t\t\t\trectAreaLight.position, rectAreaLight.halfWidth, rectAreaLight.halfHeight,\n\t\t\t\troughness,\n\t\t\t\tltcMat, ltcMag );\n\t\tvec3 diff = Rect_Area_Light_Diffuse_Reflectance(\n\t\t\t\tgeometry,\n\t\t\t\trectAreaLight.position, rectAreaLight.halfWidth, rectAreaLight.halfHeight );\n\t\treflectedLight.directSpecular += lightColor * matSpecColor * spec / PI2;\n\t\treflectedLight.directDiffuse  += lightColor * matDiffColor * diff / PI2;\n\t}\n#endif\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifdef TOON\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#else\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\t#endif\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)\n",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat );\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif\n",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 matDiffColor = material.diffuseColor;\n\t\tvec3 matSpecColor = material.specularColor;\n\t\tvec3 lightColor   = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 spec = Rect_Area_Light_Specular_Reflectance(\n\t\t\t\tgeometry,\n\t\t\t\trectAreaLight.position, rectAreaLight.halfWidth, rectAreaLight.halfHeight,\n\t\t\t\troughness,\n\t\t\t\tltcMat, ltcMag );\n\t\tvec3 diff = Rect_Area_Light_Diffuse_Reflectance(\n\t\t\t\tgeometry,\n\t\t\t\trectAreaLight.position, rectAreaLight.halfWidth, rectAreaLight.halfHeight );\n\t\treflectedLight.directSpecular += lightColor * matSpecColor * spec;\n\t\treflectedLight.directDiffuse  += lightColor * matDiffColor * diff;\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#ifndef STANDARD\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t#ifndef STANDARD\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}\n",lights_template:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tirradiance += getLightProbeIndirectIrradiance( geometry, 8 );\n\t#endif\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tvec3 radiance = getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), 8 );\n\t#ifndef STANDARD\n\t\tvec3 clearCoatRadiance = getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), 8 );\n\t#else\n\t\tvec3 clearCoatRadiance = vec3( 0.0 );\n\t#endif\n\tRE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif\n",logdepthbuf_fragment:"#if defined(USE_LOGDEPTHBUF) && defined(USE_LOGDEPTHBUF_EXT)\n\tgl_FragDepthEXT = log2(vFragDepth) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#ifdef USE_LOGDEPTHBUF\n\tuniform float logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n#endif\n",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n\tuniform float logDepthBufFC;\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\tgl_Position.z = log2(max( EPSILON, gl_Position.w + 1.0 )) * logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = (gl_Position.z - 1.0) * gl_Position.w;\n\t#endif\n#endif\n",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif\n",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n",map_particle_fragment:"#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) * offsetRepeat.zw + offsetRepeat.xy );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n",map_particle_pars_fragment:"#ifdef USE_MAP\n\tuniform vec4 offsetRepeat;\n\tuniform sampler2D map;\n#endif\n",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.r;\n#endif\n",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif\n",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif\n",normal_flip:"#ifdef DOUBLE_SIDED\n\tfloat flipNormal = ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n#else\n\tfloat flipNormal = 1.0;\n#endif\n",normal_fragment:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal ) * flipNormal;\n#endif\n#ifdef USE_NORMALMAP\n\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\n",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 S = normalize( q0 * st1.t - q1 * st0.t );\n\t\tvec3 T = normalize( -q0 * st1.s + q1 * st0.s );\n\t\tvec3 N = normalize( surf_norm );\n\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\tmapN.xy = normalScale * mapN.xy;\n\t\tmat3 tsn = mat3( S, T, N );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif\n",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 1.0 - 2.0 * rgb.xyz;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}\n",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif\n",project_vertex:"#ifdef USE_SKINNING\n\tvec4 mvPosition = modelViewMatrix * skinned;\n#else\n\tvec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\n#endif\ngl_Position = projectionMatrix * mvPosition;\n",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.r;\n#endif\n",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\treturn (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn 1.0;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\tfloat dp = ( length( lightToPosition ) - shadowBias ) / 1000.0;\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif\n",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif\n",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif\n",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}\n",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureWidth;\n\t\tuniform int boneTextureHeight;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureWidth ) );\n\t\t\tfloat y = floor( j / float( boneTextureWidth ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureWidth );\n\t\t\tfloat dy = 1.0 / float( boneTextureHeight );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif\n",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\tskinned  = bindMatrixInverse * skinned;\n#endif\n",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif\n",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif\n",tonemapping_pars_fragment:"#define saturate(a) clamp( a, 0.0, 1.0 )\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\n",uv_pars_fragment:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform vec4 offsetRepeat;\n#endif\n",uv_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = uv * offsetRepeat.zw + offsetRepeat.xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( PHYSICAL ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )\n\t#ifdef USE_SKINNING\n\t\tvec4 worldPosition = modelMatrix * skinned;\n\t#else\n\t\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n\t#endif\n#endif\n",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\n\tgl_FragColor.a *= opacity;\n}\n",cube_vert:"varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}\n",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n",distanceRGBA_frag:"uniform vec3 lightPos;\nvarying vec4 vWorldPosition;\n#include <common>\n#include <packing>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tgl_FragColor = packDepthToRGBA( length( vWorldPosition.xyz - lightPos.xyz ) / 1000.0 );\n}\n",distanceRGBA_vert:"varying vec4 vWorldPosition;\n#include <common>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <skinbase_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition;\n}\n",equirect_frag:"uniform sampler2D tEquirect;\nuniform float tFlip;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldPosition );\n\tvec2 sampleUV;\n\tsampleUV.y = saturate( tFlip * direction.y * -0.5 + 0.5 );\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n}\n",equirect_vert:"varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}\n",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <normal_flip>\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}\n",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <normal_flip>\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_flip>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",meshphysical_frag:"#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <lights_pars>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_flip>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",meshphysical_vert:"#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\t#include <normal_flip>\n\t#include <normal_fragment>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}\n",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}\n",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#ifdef USE_SIZEATTENUATION\n\t\tgl_PointSize = size * ( scale / - mvPosition.z );\n\t#else\n\t\tgl_PointSize = size;\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",shadow_frag:"uniform float opacity;\n#include <common>\n#include <packing>\n#include <bsdfs>\n#include <lights_pars>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( 0.0, 0.0, 0.0, opacity * ( 1.0 - getShadowMask() ) );\n}\n",shadow_vert:"#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n}\n"};q.prototype={constructor:q,isColor:!0,r:1,g:1,b:1,set:function(t){return t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t),this},setScalar:function(t){return this.r=t,this.g=t,this.b=t,this},setHex:function(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this},setRGB:function(t,e,n){return this.r=t,this.g=e,this.b=n,this},setHSL:function(){function t(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+6*(e-t)*(2/3-n):t}return function(e,n,r){if(e=Ja.euclideanModulo(e,1),n=Ja.clamp(n,0,1),r=Ja.clamp(r,0,1),0===n)this.r=this.g=this.b=r;else{var i=r<=.5?r*(1+n):r+n-r*n,o=2*r-i;this.r=t(o,i,e+1/3),this.g=t(o,i,e),this.b=t(o,i,e-1/3)}return this}}(),setStyle:function(t){function e(e){void 0!==e&&parseFloat(e)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}var n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(t)){var r,i=n[1],o=n[2];switch(i){case"rgb":case"rgba":if(r=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,e(r[5]),this;if(r=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,e(r[5]),this;break;case"hsl":case"hsla":if(r=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o)){var a=parseFloat(r[1])/360,s=parseInt(r[2],10)/100,u=parseInt(r[3],10)/100;return e(r[5]),this.setHSL(a,s,u)}}}else if(n=/^\#([A-Fa-f0-9]+)$/.exec(t)){var l=n[1],c=l.length;if(3===c)return this.r=parseInt(l.charAt(0)+l.charAt(0),16)/255,this.g=parseInt(l.charAt(1)+l.charAt(1),16)/255,this.b=parseInt(l.charAt(2)+l.charAt(2),16)/255,this;if(6===c)return this.r=parseInt(l.charAt(0)+l.charAt(1),16)/255,this.g=parseInt(l.charAt(2)+l.charAt(3),16)/255,this.b=parseInt(l.charAt(4)+l.charAt(5),16)/255,this}if(t&&t.length>0){var l=us[t];void 0!==l?this.setHex(l):console.warn("THREE.Color: Unknown color "+t)}return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this},copyGammaToLinear:function(t,e){return void 0===e&&(e=2),this.r=Math.pow(t.r,e),this.g=Math.pow(t.g,e),this.b=Math.pow(t.b,e),this},copyLinearToGamma:function(t,e){void 0===e&&(e=2);var n=e>0?1/e:1;return this.r=Math.pow(t.r,n),this.g=Math.pow(t.g,n),this.b=Math.pow(t.b,n),this},convertGammaToLinear:function(){var t=this.r,e=this.g,n=this.b;return this.r=t*t,this.g=e*e,this.b=n*n,this},convertLinearToGamma:function(){return this.r=Math.sqrt(this.r),this.g=Math.sqrt(this.g),this.b=Math.sqrt(this.b),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(t){var e,n,r=t||{h:0,s:0,l:0},i=this.r,o=this.g,a=this.b,s=Math.max(i,o,a),u=Math.min(i,o,a),l=(u+s)/2;if(u===s)e=0,n=0;else{var c=s-u;switch(n=l<=.5?c/(s+u):c/(2-s-u),s){case i:e=(o-a)/c+(o<a?6:0);break;case o:e=(a-i)/c+2;break;case a:e=(i-o)/c+4}e/=6}return r.h=e,r.s=n,r.l=l,r},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(t,e,n){var r=this.getHSL();return r.h+=t,r.s+=e,r.l+=n,this.setHSL(r.h,r.s,r.l),this},add:function(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this},addColors:function(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this},addScalar:function(t){return this.r+=t,this.g+=t,this.b+=t,this},sub:function(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this},multiply:function(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this},multiplyScalar:function(t){return this.r*=t,this.g*=t,this.b*=t,this},lerp:function(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this},equals:function(t){return t.r===this.r&&t.g===this.g&&t.b===this.b},fromArray:function(t,e){return void 0===e&&(e=0),this.r=t[e],this.g=t[e+1],this.b=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t},toJSON:function(){return this.getHex()}};var us={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};W.prototype=Object.create(r.prototype),W.prototype.constructor=W,W.prototype.isDataTexture=!0;var ls={common:{diffuse:{value:new q(15658734)},opacity:{value:1},map:{value:null},offsetRepeat:{value:new i(0,0,1,1)},specularMap:{value:null},alphaMap:{value:null},envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new n(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new q(16777215)}},lights:{ambientLightColor:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new q(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},offsetRepeat:{value:new i(0,0,1,1)}}},cs={basic:{uniforms:as.merge([ls.common,ls.aomap,ls.lightmap,ls.fog]),vertexShader:ss.meshbasic_vert,fragmentShader:ss.meshbasic_frag},lambert:{uniforms:as.merge([ls.common,ls.aomap,ls.lightmap,ls.emissivemap,ls.fog,ls.lights,{emissive:{value:new q(0)}}]),vertexShader:ss.meshlambert_vert,fragmentShader:ss.meshlambert_frag},phong:{uniforms:as.merge([ls.common,ls.aomap,ls.lightmap,ls.emissivemap,ls.bumpmap,ls.normalmap,ls.displacementmap,ls.gradientmap,ls.fog,ls.lights,{emissive:{value:new q(0)},specular:{value:new q(1118481)},shininess:{value:30}}]),vertexShader:ss.meshphong_vert,fragmentShader:ss.meshphong_frag},standard:{uniforms:as.merge([ls.common,ls.aomap,ls.lightmap,ls.emissivemap,ls.bumpmap,ls.normalmap,ls.displacementmap,ls.roughnessmap,ls.metalnessmap,ls.fog,ls.lights,{emissive:{value:new q(0)},roughness:{value:.5},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ss.meshphysical_vert,fragmentShader:ss.meshphysical_frag},points:{uniforms:as.merge([ls.points,ls.fog]),vertexShader:ss.points_vert,fragmentShader:ss.points_frag},dashed:{uniforms:as.merge([ls.common,ls.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ss.linedashed_vert,fragmentShader:ss.linedashed_frag},depth:{uniforms:as.merge([ls.common,ls.displacementmap]),vertexShader:ss.depth_vert,fragmentShader:ss.depth_frag},normal:{uniforms:as.merge([ls.common,ls.bumpmap,ls.normalmap,ls.displacementmap,{opacity:{value:1}}]),vertexShader:ss.normal_vert,fragmentShader:ss.normal_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ss.cube_vert,fragmentShader:ss.cube_frag},equirect:{uniforms:{tEquirect:{value:null},tFlip:{value:-1}},vertexShader:ss.equirect_vert,fragmentShader:ss.equirect_frag},distanceRGBA:{uniforms:{lightPos:{value:new u}},vertexShader:ss.distanceRGBA_vert,fragmentShader:ss.distanceRGBA_frag}};cs.physical={uniforms:as.merge([cs.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:ss.meshphysical_vert,fragmentShader:ss.meshphysical_frag},Y.prototype={constructor:Y,set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var t=new n;return function(e,n){var r=t.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(t){var e=t||new n;return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){var e=t||new n;return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y},getParameter:function(t,e){return(e||new n).set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)},clampPoint:function(t,e){return(e||new n).copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new n;return function(e){return t.copy(e).clamp(this.min,this.max).sub(e).length()}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}};var hs=0;K.prototype={constructor:K,isMaterial:!0,get needsUpdate(){return this._needsUpdate},set needsUpdate(t){!0===t&&this.update(),this._needsUpdate=t},setValues:function(t){if(void 0!==t)for(var e in t){var n=t[e];if(void 0!==n){var r=this[e];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[e]="overdraw"===e?Number(n):n:console.warn("THREE."+this.type+": '"+e+"' is not a property of this material.")}else console.warn("THREE.Material: '"+e+"' parameter is undefined.")}},toJSON:function(t){function e(t){var e=[];for(var n in t){var r=t[n];delete r.metadata,e.push(r)}return e}var n=void 0===t;n&&(t={textures:{},images:{}});var r={metadata:{version:4.4,type:"Material",generator:"Material.toJSON"}};if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),void 0!==this.roughness&&(r.roughness=this.roughness),void 0!==this.metalness&&(r.metalness=this.metalness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),void 0!==this.shininess&&(r.shininess=this.shininess),void 0!==this.clearCoat&&(r.clearCoat=this.clearCoat),void 0!==this.clearCoatRoughness&&(r.clearCoatRoughness=this.clearCoatRoughness),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(t).uuid),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(t).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(t).uuid,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(t).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(t).uuid,r.reflectivity=this.reflectivity),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.size&&(r.size=this.size),void 0!==this.sizeAttenuation&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==co&&(r.blending=this.blending),this.shading!==oo&&(r.shading=this.shading),this.side!==eo&&(r.side=this.side),this.vertexColors!==ao&&(r.vertexColors=this.vertexColors),this.opacity<1&&(r.opacity=this.opacity),!0===this.transparent&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,this.alphaTest>0&&(r.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(r.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(r.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(r.wireframeLinejoin=this.wireframeLinejoin),r.skinning=this.skinning,r.morphTargets=this.morphTargets,n){var i=e(t.textures),o=e(t.images);i.length>0&&(r.textures=i),o.length>0&&(r.images=o)}return r},clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.name=t.name,this.fog=t.fog,this.lights=t.lights,this.blending=t.blending,this.side=t.side,this.shading=t.shading,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.alphaTest=t.alphaTest,this.premultipliedAlpha=t.premultipliedAlpha,this.overdraw=t.overdraw,this.visible=t.visible,this.clipShadows=t.clipShadows,this.clipIntersection=t.clipIntersection;var e=t.clippingPlanes,n=null;if(null!==e){var r=e.length;n=new Array(r);for(var i=0;i!==r;++i)n[i]=e[i].clone()}return this.clippingPlanes=n,this},update:function(){this.dispatchEvent({type:"update"})},dispose:function(){this.dispatchEvent({type:"dispose"})}},Object.assign(K.prototype,e.prototype),$.prototype=Object.create(K.prototype),$.prototype.constructor=$,$.prototype.isShaderMaterial=!0,$.prototype.copy=function(t){return K.prototype.copy.call(this,t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=as.clone(t.uniforms),this.defines=t.defines,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.lights=t.lights,this.clipping=t.clipping,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.extensions=t.extensions,this},$.prototype.toJSON=function(t){var e=K.prototype.toJSON.call(this,t);return e.uniforms=this.uniforms,e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e},Q.prototype=Object.create(K.prototype),Q.prototype.constructor=Q,Q.prototype.isMeshDepthMaterial=!0,Q.prototype.copy=function(t){return K.prototype.copy.call(this,t),this.depthPacking=t.depthPacking,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this},J.prototype={constructor:J,isBox3:!0,set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromArray:function(t){for(var e=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,a=-1/0,s=0,u=t.length;s<u;s+=3){var l=t[s],c=t[s+1],h=t[s+2];l<e&&(e=l),c<n&&(n=c),h<r&&(r=h),l>i&&(i=l),c>o&&(o=c),h>a&&(a=h)}return this.min.set(e,n,r),this.max.set(i,o,a),this},setFromBufferAttribute:function(t){for(var e=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,a=-1/0,s=0,u=t.count;s<u;s++){var l=t.getX(s),c=t.getY(s),h=t.getZ(s);l<e&&(e=l),c<n&&(n=c),h<r&&(r=h),l>i&&(i=l),c>o&&(o=c),h>a&&(a=h)}return this.min.set(e,n,r),this.max.set(i,o,a),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var t=new u;return function(e,n){var r=t.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}}(),setFromObject:function(t){return this.makeEmpty(),this.expandByObject(t)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(t){var e=t||new u;return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){var e=t||new u;return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},expandByObject:function(){var t=new u;return function(e){var n=this;return e.updateMatrixWorld(!0),e.traverse(function(e){var r,i,o=e.geometry;if(void 0!==o)if(o.isGeometry){var a=o.vertices;for(r=0,i=a.length;r<i;r++)t.copy(a[r]),t.applyMatrix4(e.matrixWorld),n.expandByPoint(t)}else if(o.isBufferGeometry){var s=o.attributes.position;if(void 0!==s)for(r=0,i=s.count;r<i;r++)t.fromBufferAttribute(s,r).applyMatrix4(e.matrixWorld),n.expandByPoint(t)}}),this}}(),containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z},getParameter:function(t,e){return(e||new u).set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)},intersectsSphere:function(){var t;return function(e){return void 0===t&&(t=new u),this.clampPoint(e.center,t),t.distanceToSquared(e.center)<=e.radius*e.radius}}(),intersectsPlane:function(t){var e,n;return t.normal.x>0?(e=t.normal.x*this.min.x,n=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,n=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,n+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,n+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,n+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,n+=t.normal.z*this.min.z),e<=t.constant&&n>=t.constant},clampPoint:function(t,e){return(e||new u).copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new u;return function(e){return t.copy(e).clamp(this.min,this.max).sub(e).length()}}(),getBoundingSphere:function(){var t=new u;return function(e){var n=e||new tt;return this.getCenter(n.center),n.radius=.5*this.getSize(t).length(),n}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},applyMatrix4:function(){var t=[new u,new u,new u,new u,new u,new u,new u,new u];return function(e){return this.isEmpty()?this:(t[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),t[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),t[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),t[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),t[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),t[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),t[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),t[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(t),this)}}(),translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}},tt.prototype={constructor:tt,set:function(t,e){return this.center.copy(t),this.radius=e,this},setFromPoints:function(){var t;return function(e,n){void 0===t&&(t=new J);var r=this.center;void 0!==n?r.copy(n):t.setFromPoints(e).getCenter(r);for(var i=0,o=0,a=e.length;o<a;o++)i=Math.max(i,r.distanceToSquared(e[o]));return this.radius=Math.sqrt(i),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.center.copy(t.center),this.radius=t.radius,this},empty:function(){return this.radius<=0},containsPoint:function(t){return t.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(t){return t.distanceTo(this.center)-this.radius},intersectsSphere:function(t){var e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e},intersectsBox:function(t){return t.intersectsSphere(this)},intersectsPlane:function(t){return Math.abs(this.center.dot(t.normal)-t.constant)<=this.radius},clampPoint:function(t,e){var n=this.center.distanceToSquared(t),r=e||new u;return r.copy(t),n>this.radius*this.radius&&(r.sub(this.center).normalize(),r.multiplyScalar(this.radius).add(this.center)),r},getBoundingBox:function(t){var e=t||new J;return e.set(this.center,this.center),e.expandByScalar(this.radius),e},applyMatrix4:function(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this},translate:function(t){return this.center.add(t),this},equals:function(t){return t.center.equals(this.center)&&t.radius===this.radius}},et.prototype={constructor:et,isMatrix3:!0,set:function(t,e,n,r,i,o,a,s,u){var l=this.elements;return l[0]=t,l[1]=r,l[2]=a,l[3]=e,l[4]=i,l[5]=s,l[6]=n,l[7]=o,l[8]=u,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(t){var e=t.elements;return this.set(e[0],e[3],e[6],e[1],e[4],e[7],e[2],e[5],e[8]),this},setFromMatrix4:function(t){var e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this},applyToBufferAttribute:function(){var t;return function(e){void 0===t&&(t=new u);for(var n=0,r=e.count;n<r;n++)t.x=e.getX(n),t.y=e.getY(n),t.z=e.getZ(n),t.applyMatrix3(this),e.setXYZ(n,t.x,t.y,t.z);return e}}(),multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this},determinant:function(){var t=this.elements,e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],u=t[7],l=t[8];return e*o*l-e*a*u-n*i*l+n*a*s+r*i*u-r*o*s},getInverse:function(t,e){t&&t.isMatrix4&&console.error("THREE.Matrix3.getInverse no longer takes a Matrix4 argument.");var n=t.elements,r=this.elements,i=n[0],o=n[1],a=n[2],s=n[3],u=n[4],l=n[5],c=n[6],h=n[7],f=n[8],d=f*u-l*h,p=l*c-f*s,m=h*s-u*c,g=i*d+o*p+a*m;if(0===g){var v="THREE.Matrix3.getInverse(): can't invert matrix, determinant is 0";if(!0===e)throw new Error(v);return console.warn(v),this.identity()}var y=1/g;return r[0]=d*y,r[1]=(a*h-f*o)*y,r[2]=(l*o-a*u)*y,r[3]=p*y,r[4]=(f*i-a*c)*y,r[5]=(a*s-l*i)*y,r[6]=m*y,r[7]=(o*c-h*i)*y,r[8]=(u*i-o*s)*y,this},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this},getNormalMatrix:function(t){return this.setFromMatrix4(t).getInverse(this).transpose()},transposeIntoArray:function(t){var e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this},fromArray:function(t,e){void 0===e&&(e=0);for(var n=0;n<9;n++)this.elements[n]=t[n+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t}},nt.prototype={constructor:nt,set:function(t,e){return this.normal.copy(t),this.constant=e,this},setComponents:function(t,e,n,r){return this.normal.set(t,e,n),this.constant=r,this},setFromNormalAndCoplanarPoint:function(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this},setFromCoplanarPoints:function(){var t=new u,e=new u;return function(n,r,i){var o=t.subVectors(i,r).cross(e.subVectors(n,r)).normalize();return this.setFromNormalAndCoplanarPoint(o,n),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.normal.copy(t.normal),this.constant=t.constant,this},normalize:function(){var t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(t){return this.normal.dot(t)+this.constant},distanceToSphere:function(t){return this.distanceToPoint(t.center)-t.radius},projectPoint:function(t,e){return this.orthoPoint(t,e).sub(t).negate()},orthoPoint:function(t,e){var n=this.distanceToPoint(t);return(e||new u).copy(this.normal).multiplyScalar(n)},intersectLine:function(){var t=new u;return function(e,n){var r=n||new u,i=e.delta(t),o=this.normal.dot(i);if(0!==o){var a=-(e.start.dot(this.normal)+this.constant)/o;if(!(a<0||a>1))return r.copy(i).multiplyScalar(a).add(e.start)}else if(0===this.distanceToPoint(e.start))return r.copy(e.start)}}(),intersectsLine:function(t){var e=this.distanceToPoint(t.start),n=this.distanceToPoint(t.end);return e<0&&n>0||n<0&&e>0},intersectsBox:function(t){return t.intersectsPlane(this)},intersectsSphere:function(t){return t.intersectsPlane(this)},coplanarPoint:function(t){return(t||new u).copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var t=new u,e=new et;return function(n,r){var i=this.coplanarPoint(t).applyMatrix4(n),o=r||e.getNormalMatrix(n),a=this.normal.applyMatrix3(o).normalize();return this.constant=-i.dot(a),this}}(),translate:function(t){return this.constant=this.constant-t.dot(this.normal),this},equals:function(t){return t.normal.equals(this.normal)&&t.constant===this.constant}},rt.prototype={constructor:rt,set:function(t,e,n,r,i,o){var a=this.planes;return a[0].copy(t),a[1].copy(e),a[2].copy(n),a[3].copy(r),a[4].copy(i),a[5].copy(o),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){for(var e=this.planes,n=0;n<6;n++)e[n].copy(t.planes[n]);return this},setFromMatrix:function(t){var e=this.planes,n=t.elements,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],u=n[5],l=n[6],c=n[7],h=n[8],f=n[9],d=n[10],p=n[11],m=n[12],g=n[13],v=n[14],y=n[15];return e[0].setComponents(a-r,c-s,p-h,y-m).normalize(),e[1].setComponents(a+r,c+s,p+h,y+m).normalize(),e[2].setComponents(a+i,c+u,p+f,y+g).normalize(),e[3].setComponents(a-i,c-u,p-f,y-g).normalize(),e[4].setComponents(a-o,c-l,p-d,y-v).normalize(),e[5].setComponents(a+o,c+l,p+d,y+v).normalize(),this},intersectsObject:function(){var t=new tt;return function(e){var n=e.geometry;return null===n.boundingSphere&&n.computeBoundingSphere(),t.copy(n.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(t)}}(),intersectsSprite:function(){var t=new tt;return function(e){return t.center.set(0,0,0),t.radius=.7071067811865476,t.applyMatrix4(e.matrixWorld),this.intersectsSphere(t)}}(),intersectsSphere:function(t){for(var e=this.planes,n=t.center,r=-t.radius,i=0;i<6;i++){if(e[i].distanceToPoint(n)<r)return!1}return!0},intersectsBox:function(){var t=new u,e=new u;return function(n){for(var r=this.planes,i=0;i<6;i++){var o=r[i];t.x=o.normal.x>0?n.min.x:n.max.x,e.x=o.normal.x>0?n.max.x:n.min.x,t.y=o.normal.y>0?n.min.y:n.max.y,e.y=o.normal.y>0?n.max.y:n.min.y,t.z=o.normal.z>0?n.min.z:n.max.z,e.z=o.normal.z>0?n.max.z:n.min.z;var a=o.distanceToPoint(t),s=o.distanceToPoint(e);if(a<0&&s<0)return!1}return!0}}(),containsPoint:function(t){for(var e=this.planes,n=0;n<6;n++)if(e[n].distanceToPoint(t)<0)return!1;return!0}},ot.prototype={constructor:ot,set:function(t,e){return this.origin.copy(t),this.direction.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this},at:function(t,e){return(e||new u).copy(this.direction).multiplyScalar(t).add(this.origin)},lookAt:function(t){return this.direction.copy(t).sub(this.origin).normalize(),this},recast:function(){var t=new u;return function(e){return this.origin.copy(this.at(e,t)),this}}(),closestPointToPoint:function(t,e){var n=e||new u;n.subVectors(t,this.origin);var r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.direction).multiplyScalar(r).add(this.origin)},distanceToPoint:function(t){return Math.sqrt(this.distanceSqToPoint(t))},distanceSqToPoint:function(){var t=new u;return function(e){var n=t.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(t.copy(this.direction).multiplyScalar(n).add(this.origin),t.distanceToSquared(e))}}(),distanceSqToSegment:function(){var t=new u,e=new u,n=new u;return function(r,i,o,a){t.copy(r).add(i).multiplyScalar(.5),e.copy(i).sub(r).normalize(),n.copy(this.origin).sub(t);var s,u,l,c,h=.5*r.distanceTo(i),f=-this.direction.dot(e),d=n.dot(this.direction),p=-n.dot(e),m=n.lengthSq(),g=Math.abs(1-f*f);if(g>0)if(s=f*p-d,u=f*d-p,c=h*g,s>=0)if(u>=-c)if(u<=c){var v=1/g;s*=v,u*=v,l=s*(s+f*u+2*d)+u*(f*s+u+2*p)+m}else u=h,s=Math.max(0,-(f*u+d)),l=-s*s+u*(u+2*p)+m;else u=-h,s=Math.max(0,-(f*u+d)),l=-s*s+u*(u+2*p)+m;else u<=-c?(s=Math.max(0,-(-f*h+d)),u=s>0?-h:Math.min(Math.max(-h,-p),h),l=-s*s+u*(u+2*p)+m):u<=c?(s=0,u=Math.min(Math.max(-h,-p),h),l=u*(u+2*p)+m):(s=Math.max(0,-(f*h+d)),u=s>0?h:Math.min(Math.max(-h,-p),h),l=-s*s+u*(u+2*p)+m);else u=f>0?-h:h,s=Math.max(0,-(f*u+d)),l=-s*s+u*(u+2*p)+m;return o&&o.copy(this.direction).multiplyScalar(s).add(this.origin),a&&a.copy(e).multiplyScalar(u).add(t),l}}(),intersectSphere:function(){var t=new u;return function(e,n){t.subVectors(e.center,this.origin);var r=t.dot(this.direction),i=t.dot(t)-r*r,o=e.radius*e.radius;if(i>o)return null;var a=Math.sqrt(o-i),s=r-a,u=r+a;return s<0&&u<0?null:s<0?this.at(u,n):this.at(s,n)}}(),intersectsSphere:function(t){return this.distanceToPoint(t.center)<=t.radius},distanceToPlane:function(t){var e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(t.normal)+t.constant)/e;return n>=0?n:null},intersectPlane:function(t,e){var n=this.distanceToPlane(t);return null===n?null:this.at(n,e)},intersectsPlane:function(t){var e=t.distanceToPoint(this.origin);return 0===e||t.normal.dot(this.direction)*e<0},intersectBox:function(t,e){var n,r,i,o,a,s,u=1/this.direction.x,l=1/this.direction.y,c=1/this.direction.z,h=this.origin;return u>=0?(n=(t.min.x-h.x)*u,r=(t.max.x-h.x)*u):(n=(t.max.x-h.x)*u,r=(t.min.x-h.x)*u),l>=0?(i=(t.min.y-h.y)*l,o=(t.max.y-h.y)*l):(i=(t.max.y-h.y)*l,o=(t.min.y-h.y)*l),n>o||i>r?null:((i>n||n!==n)&&(n=i),(o<r||r!==r)&&(r=o),c>=0?(a=(t.min.z-h.z)*c,s=(t.max.z-h.z)*c):(a=(t.max.z-h.z)*c,s=(t.min.z-h.z)*c),n>s||a>r?null:((a>n||n!==n)&&(n=a),(s<r||r!==r)&&(r=s),r<0?null:this.at(n>=0?n:r,e)))},intersectsBox:function(){var t=new u;return function(e){return null!==this.intersectBox(e,t)}}(),intersectTriangle:function(){var t=new u,e=new u,n=new u,r=new u;return function(i,o,a,s,u){e.subVectors(o,i),n.subVectors(a,i),r.crossVectors(e,n);var l,c=this.direction.dot(r);if(c>0){if(s)return null;l=1}else{if(!(c<0))return null;l=-1,c=-c}t.subVectors(this.origin,i);var h=l*this.direction.dot(n.crossVectors(t,n));if(h<0)return null;var f=l*this.direction.dot(e.cross(t));if(f<0)return null;if(h+f>c)return null;var d=-l*t.dot(r);return d<0?null:this.at(d/c,u)}}(),applyMatrix4:function(t){return this.direction.add(this.origin).applyMatrix4(t),this.origin.applyMatrix4(t),this.direction.sub(this.origin),this.direction.normalize(),this},equals:function(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}},at.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],at.DefaultOrder="XYZ",at.prototype={constructor:at,isEuler:!0,get x(){return this._x},set x(t){this._x=t,this.onChangeCallback()},get y(){return this._y},set y(t){this._y=t,this.onChangeCallback()},get z(){return this._z},set z(t){this._z=t,this.onChangeCallback()},get order(){return this._order},set order(t){this._order=t,this.onChangeCallback()},set:function(t,e,n,r){return this._x=t,this._y=e,this._z=n,this._order=r||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this.onChangeCallback(),this},setFromRotationMatrix:function(t,e,n){var r=Ja.clamp,i=t.elements,o=i[0],a=i[4],s=i[8],u=i[1],l=i[5],c=i[9],h=i[2],f=i[6],d=i[10];return e=e||this._order,"XYZ"===e?(this._y=Math.asin(r(s,-1,1)),Math.abs(s)<.99999?(this._x=Math.atan2(-c,d),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(f,l),this._z=0)):"YXZ"===e?(this._x=Math.asin(-r(c,-1,1)),Math.abs(c)<.99999?(this._y=Math.atan2(s,d),this._z=Math.atan2(u,l)):(this._y=Math.atan2(-h,o),this._z=0)):"ZXY"===e?(this._x=Math.asin(r(f,-1,1)),Math.abs(f)<.99999?(this._y=Math.atan2(-h,d),this._z=Math.atan2(-a,l)):(this._y=0,this._z=Math.atan2(u,o))):"ZYX"===e?(this._y=Math.asin(-r(h,-1,1)),Math.abs(h)<.99999?(this._x=Math.atan2(f,d),this._z=Math.atan2(u,o)):(this._x=0,this._z=Math.atan2(-a,l))):"YZX"===e?(this._z=Math.asin(r(u,-1,1)),Math.abs(u)<.99999?(this._x=Math.atan2(-c,l),this._y=Math.atan2(-h,o)):(this._x=0,this._y=Math.atan2(s,d))):"XZY"===e?(this._z=Math.asin(-r(a,-1,1)),Math.abs(a)<.99999?(this._x=Math.atan2(f,l),this._y=Math.atan2(s,o)):(this._x=Math.atan2(-c,d),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+e),this._order=e,!1!==n&&this.onChangeCallback(),this},setFromQuaternion:function(){var t;return function(e,n,r){return void 0===t&&(t=new l),t.makeRotationFromQuaternion(e),this.setFromRotationMatrix(t,n,r)}}(),setFromVector3:function(t,e){return this.set(t.x,t.y,t.z,e||this._order)},reorder:function(){var t=new s;return function(e){return t.setFromEuler(this),this.setFromQuaternion(t,e)}}(),equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order},fromArray:function(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t},toVector3:function(t){return t?t.set(this._x,this._y,this._z):new u(this._x,this._y,this._z)},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}},st.prototype={constructor:st,set:function(t){this.mask=1<<t},enable:function(t){this.mask|=1<<t},toggle:function(t){this.mask^=1<<t},disable:function(t){this.mask&=~(1<<t)},test:function(t){return 0!=(this.mask&t.mask)}};var fs=0;ut.DefaultUp=new u(0,1,0),ut.DefaultMatrixAutoUpdate=!0,ut.prototype={constructor:ut,isObject3D:!0,applyMatrix:function(t){this.matrix.multiplyMatrices(t,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},setRotationFromAxisAngle:function(t,e){this.quaternion.setFromAxisAngle(t,e)},setRotationFromEuler:function(t){this.quaternion.setFromEuler(t,!0)},setRotationFromMatrix:function(t){this.quaternion.setFromRotationMatrix(t)},setRotationFromQuaternion:function(t){this.quaternion.copy(t)},rotateOnAxis:function(){var t=new s;return function(e,n){return t.setFromAxisAngle(e,n),this.quaternion.multiply(t),this}}(),rotateX:function(){var t=new u(1,0,0);return function(e){return this.rotateOnAxis(t,e)}}(),rotateY:function(){var t=new u(0,1,0);return function(e){return this.rotateOnAxis(t,e)}}(),rotateZ:function(){var t=new u(0,0,1);return function(e){return this.rotateOnAxis(t,e)}}(),translateOnAxis:function(){var t=new u;return function(e,n){return t.copy(e).applyQuaternion(this.quaternion),this.position.add(t.multiplyScalar(n)),this}}(),translateX:function(){var t=new u(1,0,0);return function(e){return this.translateOnAxis(t,e)}}(),translateY:function(){var t=new u(0,1,0);return function(e){return this.translateOnAxis(t,e)}}(),translateZ:function(){var t=new u(0,0,1);return function(e){return this.translateOnAxis(t,e)}}(),localToWorld:function(t){return t.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var t=new l;return function(e){return e.applyMatrix4(t.getInverse(this.matrixWorld))}}(),lookAt:function(){var t=new l;return function(e){t.lookAt(e,this.position,this.up),this.quaternion.setFromRotationMatrix(t)}}(),add:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,t.dispatchEvent({type:"added"}),this.children.push(t)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)},remove:function(t){if(arguments.length>1)for(var e=0;e<arguments.length;e++)this.remove(arguments[e]);var n=this.children.indexOf(t);-1!==n&&(t.parent=null,t.dispatchEvent({type:"removed"}),this.children.splice(n,1))},getObjectById:function(t){return this.getObjectByProperty("id",t)},getObjectByName:function(t){return this.getObjectByProperty("name",t)},getObjectByProperty:function(t,e){if(this[t]===e)return this;for(var n=0,r=this.children.length;n<r;n++){var i=this.children[n],o=i.getObjectByProperty(t,e);if(void 0!==o)return o}},getWorldPosition:function(t){var e=t||new u;return this.updateMatrixWorld(!0),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(){var t=new u,e=new u;return function(n){var r=n||new s;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(t,r,e),r}}(),getWorldRotation:function(){var t=new s;return function(e){var n=e||new at;return this.getWorldQuaternion(t),n.setFromQuaternion(t,this.rotation.order,!1)}}(),getWorldScale:function(){var t=new u,e=new s;return function(n){var r=n||new u;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(t,e,r),r}}(),getWorldDirection:function(){var t=new s;return function(e){var n=e||new u;return this.getWorldQuaternion(t),n.set(0,0,1).applyQuaternion(t)}}(),raycast:function(){},traverse:function(t){t(this);for(var e=this.children,n=0,r=e.length;n<r;n++)e[n].traverse(t)},traverseVisible:function(t){if(!1!==this.visible){t(this);for(var e=this.children,n=0,r=e.length;n<r;n++)e[n].traverseVisible(t)}},traverseAncestors:function(t){var e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(t){!0===this.matrixAutoUpdate&&this.updateMatrix(),!0!==this.matrixWorldNeedsUpdate&&!0!==t||(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);for(var e=this.children,n=0,r=e.length;n<r;n++)e[n].updateMatrixWorld(t)},toJSON:function(t){function e(t){var e=[];for(var n in t){var r=t[n];delete r.metadata,e.push(r)}return e}var n=void 0===t||""===t,r={};n&&(t={geometries:{},materials:{},textures:{},images:{}},r.metadata={version:4.4,type:"Object",generator:"Object3D.toJSON"});var i={};if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),"{}"!==JSON.stringify(this.userData)&&(i.userData=this.userData),!0===this.castShadow&&(i.castShadow=!0),!0===this.receiveShadow&&(i.receiveShadow=!0),!1===this.visible&&(i.visible=!1),i.matrix=this.matrix.toArray(),void 0!==this.geometry&&(void 0===t.geometries[this.geometry.uuid]&&(t.geometries[this.geometry.uuid]=this.geometry.toJSON(t)),i.geometry=this.geometry.uuid),void 0!==this.material&&(void 0===t.materials[this.material.uuid]&&(t.materials[this.material.uuid]=this.material.toJSON(t)),i.material=this.material.uuid),this.children.length>0){i.children=[];for(var o=0;o<this.children.length;o++)i.children.push(this.children[o].toJSON(t).object)}if(n){var a=e(t.geometries),s=e(t.materials),u=e(t.textures),l=e(t.images);a.length>0&&(r.geometries=a),s.length>0&&(r.materials=s),u.length>0&&(r.textures=u),l.length>0&&(r.images=l)}return r.object=i,r},clone:function(t){return(new this.constructor).copy(this,t)},copy:function(t,e){if(void 0===e&&(e=!0),this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===e)for(var n=0;n<t.children.length;n++){var r=t.children[n];this.add(r.clone())}return this}},Object.assign(ut.prototype,e.prototype),lt.prototype={constructor:lt,set:function(t,e){return this.start.copy(t),this.end.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.start.copy(t.start),this.end.copy(t.end),this},getCenter:function(t){return(t||new u).addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(t){return(t||new u).subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(t,e){var n=e||new u;return this.delta(n).multiplyScalar(t).add(this.start)},closestPointToPointParameter:function(){var t=new u,e=new u;return function(n,r){t.subVectors(n,this.start),e.subVectors(this.end,this.start);var i=e.dot(e),o=e.dot(t),a=o/i;return r&&(a=Ja.clamp(a,0,1)),a}}(),closestPointToPoint:function(t,e,n){var r=this.closestPointToPointParameter(t,e),i=n||new u;return this.delta(i).multiplyScalar(r).add(this.start)},applyMatrix4:function(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this},equals:function(t){return t.start.equals(this.start)&&t.end.equals(this.end)}},ct.normal=function(){var t=new u;return function(e,n,r,i){var o=i||new u;o.subVectors(r,n),t.subVectors(e,n),o.cross(t);var a=o.lengthSq();return a>0?o.multiplyScalar(1/Math.sqrt(a)):o.set(0,0,0)}}(),ct.barycoordFromPoint=function(){var t=new u,e=new u,n=new u;return function(r,i,o,a,s){t.subVectors(a,i),e.subVectors(o,i),n.subVectors(r,i);var l=t.dot(t),c=t.dot(e),h=t.dot(n),f=e.dot(e),d=e.dot(n),p=l*f-c*c,m=s||new u;if(0===p)return m.set(-2,-1,-1);var g=1/p,v=(f*h-c*d)*g,y=(l*d-c*h)*g;return m.set(1-v-y,y,v)}}(),ct.containsPoint=function(){var t=new u;return function(e,n,r,i){var o=ct.barycoordFromPoint(e,n,r,i,t);return o.x>=0&&o.y>=0&&o.x+o.y<=1}}(),ct.prototype={constructor:ct,set:function(t,e,n){return this.a.copy(t),this.b.copy(e),this.c.copy(n),this},setFromPointsAndIndices:function(t,e,n,r){return this.a.copy(t[e]),this.b.copy(t[n]),this.c.copy(t[r]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this},area:function(){var t=new u,e=new u;return function(){return t.subVectors(this.c,this.b),e.subVectors(this.a,this.b),.5*t.cross(e).length()}}(),midpoint:function(t){return(t||new u).addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},normal:function(t){return ct.normal(this.a,this.b,this.c,t)},plane:function(t){return(t||new nt).setFromCoplanarPoints(this.a,this.b,this.c)},barycoordFromPoint:function(t,e){return ct.barycoordFromPoint(t,this.a,this.b,this.c,e)},containsPoint:function(t){return ct.containsPoint(t,this.a,this.b,this.c)},closestPointToPoint:function(){var t,e,n,r;return function(i,o){void 0===t&&(t=new nt,e=[new lt,new lt,new lt],n=new u,r=new u);var a=o||new u,s=1/0;if(t.setFromCoplanarPoints(this.a,this.b,this.c),t.projectPoint(i,n),!0===this.containsPoint(n))a.copy(n);else{e[0].set(this.a,this.b),e[1].set(this.b,this.c),e[2].set(this.c,this.a);for(var l=0;l<e.length;l++){e[l].closestPointToPoint(n,!0,r);var c=n.distanceToSquared(r);c<s&&(s=c,a.copy(r))}}return a}}(),equals:function(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}},ht.prototype={constructor:ht,clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.a=t.a,this.b=t.b,this.c=t.c,this.normal.copy(t.normal),this.color.copy(t.color),this.materialIndex=t.materialIndex;for(var e=0,n=t.vertexNormals.length;e<n;e++)this.vertexNormals[e]=t.vertexNormals[e].clone();for(var e=0,n=t.vertexColors.length;e<n;e++)this.vertexColors[e]=t.vertexColors[e].clone();return this}},ft.prototype=Object.create(K.prototype),ft.prototype.constructor=ft,ft.prototype.isMeshBasicMaterial=!0,ft.prototype.copy=function(t){return K.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this},dt.prototype={constructor:dt,isBufferAttribute:!0,set needsUpdate(t){!0===t&&this.version++},setArray:function(t){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.count=void 0!==t?t.length/this.itemSize:0,this.array=t},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.dynamic=t.dynamic,this},copyAt:function(t,e,n){t*=this.itemSize,n*=e.itemSize;for(var r=0,i=this.itemSize;r<i;r++)this.array[t+r]=e.array[n+r];return this},copyArray:function(t){return this.array.set(t),this},copyColorsArray:function(t){for(var e=this.array,n=0,r=0,i=t.length;r<i;r++){var o=t[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),o=new q),e[n++]=o.r,e[n++]=o.g,e[n++]=o.b}return this},copyIndicesArray:function(t){for(var e=this.array,n=0,r=0,i=t.length;r<i;r++){var o=t[r];e[n++]=o.a,e[n++]=o.b,e[n++]=o.c}return this},copyVector2sArray:function(t){for(var e=this.array,r=0,i=0,o=t.length;i<o;i++){var a=t[i];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),a=new n),e[r++]=a.x,e[r++]=a.y}return this},copyVector3sArray:function(t){for(var e=this.array,n=0,r=0,i=t.length;r<i;r++){var o=t[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),o=new u),e[n++]=o.x,e[n++]=o.y,e[n++]=o.z}return this},copyVector4sArray:function(t){for(var e=this.array,n=0,r=0,o=t.length;r<o;r++){var a=t[r];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),a=new i),e[n++]=a.x,e[n++]=a.y,e[n++]=a.z,e[n++]=a.w}return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},getX:function(t){return this.array[t*this.itemSize]},setX:function(t,e){return this.array[t*this.itemSize]=e,this},getY:function(t){return this.array[t*this.itemSize+1]},setY:function(t,e){return this.array[t*this.itemSize+1]=e,this},getZ:function(t){return this.array[t*this.itemSize+2]},setZ:function(t,e){return this.array[t*this.itemSize+2]=e,this},getW:function(t){return this.array[t*this.itemSize+3]},setW:function(t,e){return this.array[t*this.itemSize+3]=e,this},setXY:function(t,e,n){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this},setXYZ:function(t,e,n,r){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=r,this},setXYZW:function(t,e,n,r,i){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=r,this.array[t+3]=i,this},onUpload:function(t){return this.onUploadCallback=t,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)}},pt.prototype=Object.create(dt.prototype),pt.prototype.constructor=pt,mt.prototype=Object.create(dt.prototype),mt.prototype.constructor=mt,gt.prototype=Object.create(dt.prototype),gt.prototype.constructor=gt,vt.prototype=Object.create(dt.prototype),vt.prototype.constructor=vt,yt.prototype=Object.create(dt.prototype),yt.prototype.constructor=yt,bt.prototype=Object.create(dt.prototype),bt.prototype.constructor=bt,wt.prototype=Object.create(dt.prototype),wt.prototype.constructor=wt,xt.prototype=Object.create(dt.prototype),xt.prototype.constructor=xt,_t.prototype=Object.create(dt.prototype),_t.prototype.constructor=_t,Object.assign(Et.prototype,{computeGroups:function(t){for(var e,n=[],r=void 0,i=t.faces,o=0;o<i.length;o++){var a=i[o];a.materialIndex!==r&&(r=a.materialIndex,void 0!==e&&(e.count=3*o-e.start,n.push(e)),e={start:3*o,materialIndex:r})}void 0!==e&&(e.count=3*o-e.start,n.push(e)),this.groups=n},fromGeometry:function(t){var e,r=t.faces,i=t.vertices,o=t.faceVertexUvs,a=o[0]&&o[0].length>0,s=o[1]&&o[1].length>0,u=t.morphTargets,l=u.length;if(l>0){e=[];for(var c=0;c<l;c++)e[c]=[];this.morphTargets.position=e}var h,f=t.morphNormals,d=f.length;if(d>0){h=[];for(var c=0;c<d;c++)h[c]=[];this.morphTargets.normal=h}for(var p=t.skinIndices,m=t.skinWeights,g=p.length===i.length,v=m.length===i.length,c=0;c<r.length;c++){var y=r[c];this.vertices.push(i[y.a],i[y.b],i[y.c]);var b=y.vertexNormals;if(3===b.length)this.normals.push(b[0],b[1],b[2]);else{var w=y.normal;this.normals.push(w,w,w)}var x=y.vertexColors;if(3===x.length)this.colors.push(x[0],x[1],x[2]);else{var _=y.color;this.colors.push(_,_,_)}if(!0===a){var E=o[0][c];void 0!==E?this.uvs.push(E[0],E[1],E[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",c),this.uvs.push(new n,new n,new n))}if(!0===s){var E=o[1][c];void 0!==E?this.uvs2.push(E[0],E[1],E[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",c),this.uvs2.push(new n,new n,new n))}for(var M=0;M<l;M++){var S=u[M].vertices;e[M].push(S[y.a],S[y.b],S[y.c])}for(var M=0;M<d;M++){var T=f[M].vertexNormals[c];h[M].push(T.a,T.b,T.c)}g&&this.skinIndices.push(p[y.a],p[y.b],p[y.c]),v&&this.skinWeights.push(m[y.a],m[y.b],m[y.c])}return this.computeGroups(t),this.verticesNeedUpdate=t.verticesNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this}});var ds=0;Tt.prototype={constructor:Tt,isGeometry:!0,applyMatrix:function(t){for(var e=(new et).getNormalMatrix(t),n=0,r=this.vertices.length;n<r;n++){this.vertices[n].applyMatrix4(t)}for(var n=0,r=this.faces.length;n<r;n++){var i=this.faces[n];i.normal.applyMatrix3(e).normalize();for(var o=0,a=i.vertexNormals.length;o<a;o++)i.vertexNormals[o].applyMatrix3(e).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(){var t;return function(e){return void 0===t&&(t=new l),t.makeRotationX(e),this.applyMatrix(t),this}}(),rotateY:function(){var t;return function(e){return void 0===t&&(t=new l),t.makeRotationY(e),this.applyMatrix(t),this}}(),rotateZ:function(){var t;return function(e){return void 0===t&&(t=new l),t.makeRotationZ(e),this.applyMatrix(t),this}}(),translate:function(){var t;return function(e,n,r){return void 0===t&&(t=new l),t.makeTranslation(e,n,r),this.applyMatrix(t),this}}(),scale:function(){var t;return function(e,n,r){return void 0===t&&(t=new l),t.makeScale(e,n,r),this.applyMatrix(t),this}}(),lookAt:function(){var t;return function(e){void 0===t&&(t=new ut),t.lookAt(e),t.updateMatrix(),this.applyMatrix(t.matrix)}}(),fromBufferGeometry:function(t){function e(t,e,n,i){var o=void 0!==s?[f[t].clone(),f[e].clone(),f[n].clone()]:[],a=void 0!==l?[r.colors[t].clone(),r.colors[e].clone(),r.colors[n].clone()]:[],u=new ht(t,e,n,o,a,i);r.faces.push(u),void 0!==c&&r.faceVertexUvs[0].push([d[t].clone(),d[e].clone(),d[n].clone()]),void 0!==h&&r.faceVertexUvs[1].push([p[t].clone(),p[e].clone(),p[n].clone()])}var r=this,i=null!==t.index?t.index.array:void 0,o=t.attributes,a=o.position.array,s=void 0!==o.normal?o.normal.array:void 0,l=void 0!==o.color?o.color.array:void 0,c=void 0!==o.uv?o.uv.array:void 0,h=void 0!==o.uv2?o.uv2.array:void 0;void 0!==h&&(this.faceVertexUvs[1]=[]);for(var f=[],d=[],p=[],m=0,g=0;m<a.length;m+=3,g+=2)r.vertices.push(new u(a[m],a[m+1],a[m+2])),void 0!==s&&f.push(new u(s[m],s[m+1],s[m+2])),void 0!==l&&r.colors.push(new q(l[m],l[m+1],l[m+2])),void 0!==c&&d.push(new n(c[g],c[g+1])),void 0!==h&&p.push(new n(h[g],h[g+1]));if(void 0!==i){var v=t.groups;if(v.length>0)for(var m=0;m<v.length;m++)for(var y=v[m],b=y.start,w=y.count,g=b,x=b+w;g<x;g+=3)e(i[g],i[g+1],i[g+2],y.materialIndex);else for(var m=0;m<i.length;m+=3)e(i[m],i[m+1],i[m+2])}else for(var m=0;m<a.length/3;m+=3)e(m,m+1,m+2);return this.computeFaceNormals(),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),this},center:function(){this.computeBoundingBox();var t=this.boundingBox.getCenter().negate();return this.translate(t.x,t.y,t.z),t},normalize:function(){this.computeBoundingSphere();var t=this.boundingSphere.center,e=this.boundingSphere.radius,n=0===e?1:1/e,r=new l;return r.set(n,0,0,-n*t.x,0,n,0,-n*t.y,0,0,n,-n*t.z,0,0,0,1),this.applyMatrix(r),this},computeFaceNormals:function(){for(var t=new u,e=new u,n=0,r=this.faces.length;n<r;n++){var i=this.faces[n],o=this.vertices[i.a],a=this.vertices[i.b],s=this.vertices[i.c];t.subVectors(s,a),e.subVectors(o,a),t.cross(e),t.normalize(),i.normal.copy(t)}},computeVertexNormals:function(t){void 0===t&&(t=!0);var e,n,r,i,o,a;for(a=new Array(this.vertices.length),e=0,n=this.vertices.length;e<n;e++)a[e]=new u;if(t){var s,l,c,h=new u,f=new u;for(r=0,i=this.faces.length;r<i;r++)o=this.faces[r],s=this.vertices[o.a],l=this.vertices[o.b],c=this.vertices[o.c],h.subVectors(c,l),f.subVectors(s,l),h.cross(f),a[o.a].add(h),a[o.b].add(h),a[o.c].add(h)}else for(this.computeFaceNormals(),r=0,i=this.faces.length;r<i;r++)o=this.faces[r],a[o.a].add(o.normal),a[o.b].add(o.normal),a[o.c].add(o.normal);for(e=0,n=this.vertices.length;e<n;e++)a[e].normalize();for(r=0,i=this.faces.length;r<i;r++){o=this.faces[r];var d=o.vertexNormals;3===d.length?(d[0].copy(a[o.a]),d[1].copy(a[o.b]),d[2].copy(a[o.c])):(d[0]=a[o.a].clone(),d[1]=a[o.b].clone(),d[2]=a[o.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var t,e,n;for(this.computeFaceNormals(),t=0,e=this.faces.length;t<e;t++){n=this.faces[t];var r=n.vertexNormals;3===r.length?(r[0].copy(n.normal),r[1].copy(n.normal),r[2].copy(n.normal)):(r[0]=n.normal.clone(),r[1]=n.normal.clone(),r[2]=n.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var t,e,n,r,i;for(n=0,r=this.faces.length;n<r;n++)for(i=this.faces[n],i.__originalFaceNormal?i.__originalFaceNormal.copy(i.normal):i.__originalFaceNormal=i.normal.clone(),i.__originalVertexNormals||(i.__originalVertexNormals=[]),t=0,e=i.vertexNormals.length;t<e;t++)i.__originalVertexNormals[t]?i.__originalVertexNormals[t].copy(i.vertexNormals[t]):i.__originalVertexNormals[t]=i.vertexNormals[t].clone();var o=new Tt;for(o.faces=this.faces,t=0,e=this.morphTargets.length;t<e;t++){if(!this.morphNormals[t]){this.morphNormals[t]={},this.morphNormals[t].faceNormals=[],this.morphNormals[t].vertexNormals=[];var a,s,l=this.morphNormals[t].faceNormals,c=this.morphNormals[t].vertexNormals;for(n=0,r=this.faces.length;n<r;n++)a=new u,s={a:new u,b:new u,c:new u},l.push(a),c.push(s)}var h=this.morphNormals[t];o.vertices=this.morphTargets[t].vertices,o.computeFaceNormals(),o.computeVertexNormals();var a,s;for(n=0,r=this.faces.length;n<r;n++)i=this.faces[n],a=h.faceNormals[n],s=h.vertexNormals[n],a.copy(i.normal),s.a.copy(i.vertexNormals[0]),s.b.copy(i.vertexNormals[1]),s.c.copy(i.vertexNormals[2])}for(n=0,r=this.faces.length;n<r;n++)i=this.faces[n],i.normal=i.__originalFaceNormal,i.vertexNormals=i.__originalVertexNormals},computeLineDistances:function(){for(var t=0,e=this.vertices,n=0,r=e.length;n<r;n++)n>0&&(t+=e[n].distanceTo(e[n-1])),this.lineDistances[n]=t},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new J),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new tt),this.boundingSphere.setFromPoints(this.vertices)},merge:function(t,e,n){if(!1===(t&&t.isGeometry))return void console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",t);var r,i=this.vertices.length,o=this.vertices,a=t.vertices,s=this.faces,u=t.faces,l=this.faceVertexUvs[0],c=t.faceVertexUvs[0],h=this.colors,f=t.colors;void 0===n&&(n=0),void 0!==e&&(r=(new et).getNormalMatrix(e));for(var d=0,p=a.length;d<p;d++){var m=a[d],g=m.clone();void 0!==e&&g.applyMatrix4(e),o.push(g)}for(var d=0,p=f.length;d<p;d++)h.push(f[d].clone());for(d=0,p=u.length;d<p;d++){var v,y,b,w=u[d],x=w.vertexNormals,_=w.vertexColors;v=new ht(w.a+i,w.b+i,w.c+i),v.normal.copy(w.normal),void 0!==r&&v.normal.applyMatrix3(r).normalize();for(var E=0,M=x.length;E<M;E++)y=x[E].clone(),void 0!==r&&y.applyMatrix3(r).normalize(),v.vertexNormals.push(y);v.color.copy(w.color);for(var E=0,M=_.length;E<M;E++)b=_[E],v.vertexColors.push(b.clone());v.materialIndex=w.materialIndex+n,s.push(v)}for(d=0,p=c.length;d<p;d++){var S=c[d],T=[];if(void 0!==S){for(var E=0,M=S.length;E<M;E++)T.push(S[E].clone());l.push(T)}}},mergeMesh:function(t){if(!1===(t&&t.isMesh))return void console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",t);t.matrixAutoUpdate&&t.updateMatrix(),this.merge(t.geometry,t.matrix)},mergeVertices:function(){var t,e,n,r,i,o,a,s,u={},l=[],c=[],h=Math.pow(10,4);for(n=0,r=this.vertices.length;n<r;n++)t=this.vertices[n],e=Math.round(t.x*h)+"_"+Math.round(t.y*h)+"_"+Math.round(t.z*h),void 0===u[e]?(u[e]=n,l.push(this.vertices[n]),c[n]=l.length-1):c[n]=c[u[e]];var f=[];for(n=0,r=this.faces.length;n<r;n++){i=this.faces[n],i.a=c[i.a],i.b=c[i.b],i.c=c[i.c],o=[i.a,i.b,i.c];for(var d=0;d<3;d++)if(o[d]===o[(d+1)%3]){f.push(n);break}}for(n=f.length-1;n>=0;n--){var p=f[n];for(this.faces.splice(p,1),a=0,s=this.faceVertexUvs.length;a<s;a++)this.faceVertexUvs[a].splice(p,1)}var m=this.vertices.length-l.length;return this.vertices=l,m},sortFacesByMaterialIndex:function(){function t(t,e){return t.materialIndex-e.materialIndex}for(var e=this.faces,n=e.length,r=0;r<n;r++)e[r]._id=r;e.sort(t);var i,o,a=this.faceVertexUvs[0],s=this.faceVertexUvs[1];a&&a.length===n&&(i=[]),s&&s.length===n&&(o=[]);for(var r=0;r<n;r++){var u=e[r]._id;i&&i.push(a[u]),o&&o.push(s[u])}i&&(this.faceVertexUvs[0]=i),o&&(this.faceVertexUvs[1]=o)},toJSON:function(){function t(t,e,n){return n?t|1<<e:t&~(1<<e)}function e(t){var e=t.x.toString()+t.y.toString()+t.z.toString();return void 0!==f[e]?f[e]:(f[e]=h.length/3,h.push(t.x,t.y,t.z),f[e])}function n(t){var e=t.r.toString()+t.g.toString()+t.b.toString();return void 0!==p[e]?p[e]:(p[e]=d.length,d.push(t.getHex()),p[e])}function r(t){var e=t.x.toString()+t.y.toString();return void 0!==g[e]?g[e]:(g[e]=m.length/2,m.push(t.x,t.y),g[e])}var i={metadata:{version:4.4,type:"Geometry",generator:"Geometry.toJSON"}};if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),void 0!==this.parameters){var o=this.parameters;for(var a in o)void 0!==o[a]&&(i[a]=o[a]);return i}for(var s=[],u=0;u<this.vertices.length;u++){var l=this.vertices[u];s.push(l.x,l.y,l.z)}for(var c=[],h=[],f={},d=[],p={},m=[],g={},u=0;u<this.faces.length;u++){var v=this.faces[u],y=void 0!==this.faceVertexUvs[0][u],b=v.normal.length()>0,w=v.vertexNormals.length>0,x=1!==v.color.r||1!==v.color.g||1!==v.color.b,_=v.vertexColors.length>0,E=0;if(E=t(E,0,0),E=t(E,1,!0),E=t(E,2,!1),E=t(E,3,y),E=t(E,4,b),E=t(E,5,w),E=t(E,6,x),E=t(E,7,_),c.push(E),c.push(v.a,v.b,v.c),c.push(v.materialIndex),y){var M=this.faceVertexUvs[0][u];c.push(r(M[0]),r(M[1]),r(M[2]))}if(b&&c.push(e(v.normal)),w){var S=v.vertexNormals;c.push(e(S[0]),e(S[1]),e(S[2]))}if(x&&c.push(n(v.color)),_){var T=v.vertexColors;c.push(n(T[0]),n(T[1]),n(T[2]))}}return i.data={},i.data.vertices=s,i.data.normals=h,d.length>0&&(i.data.colors=d),m.length>0&&(i.data.uvs=[m]),i.data.faces=c,i},clone:function(){return(new Tt).copy(this)},copy:function(t){var e,n,r,i,o,a;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;var s=t.vertices;for(e=0,n=s.length;e<n;e++)this.vertices.push(s[e].clone());var u=t.colors;for(e=0,n=u.length;e<n;e++)this.colors.push(u[e].clone());var l=t.faces;for(e=0,n=l.length;e<n;e++)this.faces.push(l[e].clone());for(e=0,n=t.faceVertexUvs.length;e<n;e++){var c=t.faceVertexUvs[e];for(void 0===this.faceVertexUvs[e]&&(this.faceVertexUvs[e]=[]),r=0,i=c.length;r<i;r++){var h=c[r],f=[];for(o=0,a=h.length;o<a;o++){var d=h[o];f.push(d.clone())}this.faceVertexUvs[e].push(f)}}var p=t.morphTargets;for(e=0,n=p.length;e<n;e++){var m={};if(m.name=p[e].name,void 0!==p[e].vertices)for(m.vertices=[],r=0,i=p[e].vertices.length;r<i;r++)m.vertices.push(p[e].vertices[r].clone());if(void 0!==p[e].normals)for(m.normals=[],r=0,i=p[e].normals.length;r<i;r++)m.normals.push(p[e].normals[r].clone());this.morphTargets.push(m)}var g=t.morphNormals;for(e=0,n=g.length;e<n;e++){var v={};if(void 0!==g[e].vertexNormals)for(v.vertexNormals=[],r=0,i=g[e].vertexNormals.length;r<i;r++){var y=g[e].vertexNormals[r],b={};b.a=y.a.clone(),b.b=y.b.clone(),b.c=y.c.clone(),v.vertexNormals.push(b)}if(void 0!==g[e].faceNormals)for(v.faceNormals=[],r=0,i=g[e].faceNormals.length;r<i;r++)v.faceNormals.push(g[e].faceNormals[r].clone());this.morphNormals.push(v)}var w=t.skinWeights;for(e=0,n=w.length;e<n;e++)this.skinWeights.push(w[e].clone());var x=t.skinIndices;for(e=0,n=x.length;e<n;e++)this.skinIndices.push(x[e].clone());var _=t.lineDistances;for(e=0,n=_.length;e<n;e++)this.lineDistances.push(_[e]);var E=t.boundingBox;null!==E&&(this.boundingBox=E.clone());var M=t.boundingSphere;return null!==M&&(this.boundingSphere=M.clone()),this.elementsNeedUpdate=t.elementsNeedUpdate,this.verticesNeedUpdate=t.verticesNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.lineDistancesNeedUpdate=t.lineDistancesNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}},Object.assign(Tt.prototype,e.prototype),Ct.prototype={constructor:Ct,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(t){Array.isArray(t)?this.index=new(Mt(t)>65535?wt:yt)(t,1):this.index=t},addAttribute:function(t,e){return!1===(e&&e.isBufferAttribute)&&!1===(e&&e.isInterleavedBufferAttribute)?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),void this.addAttribute(t,new dt(arguments[1],arguments[2]))):"index"===t?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),void this.setIndex(e)):(this.attributes[t]=e,this)},getAttribute:function(t){return this.attributes[t]},removeAttribute:function(t){return delete this.attributes[t],this},addGroup:function(t,e,n){this.groups.push({start:t,count:e,materialIndex:void 0!==n?n:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(t,e){this.drawRange.start=t,this.drawRange.count=e},applyMatrix:function(t){var e=this.attributes.position;void 0!==e&&(t.applyToBufferAttribute(e),e.needsUpdate=!0);var n=this.attributes.normal;if(void 0!==n){(new et).getNormalMatrix(t).applyToBufferAttribute(n),n.needsUpdate=!0}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(){var t;return function(e){return void 0===t&&(t=new l),t.makeRotationX(e),this.applyMatrix(t),this}}(),rotateY:function(){var t;return function(e){return void 0===t&&(t=new l),t.makeRotationY(e),this.applyMatrix(t),this}}(),rotateZ:function(){var t;return function(e){return void 0===t&&(t=new l),t.makeRotationZ(e),this.applyMatrix(t),this}}(),translate:function(){var t;return function(e,n,r){return void 0===t&&(t=new l),t.makeTranslation(e,n,r),this.applyMatrix(t),this}}(),scale:function(){var t;return function(e,n,r){return void 0===t&&(t=new l),t.makeScale(e,n,r),this.applyMatrix(t),this}}(),lookAt:function(){var t;return function(e){void 0===t&&(t=new ut),t.lookAt(e),t.updateMatrix(),this.applyMatrix(t.matrix)}}(),center:function(){this.computeBoundingBox();var t=this.boundingBox.getCenter().negate();return this.translate(t.x,t.y,t.z),t},setFromObject:function(t){var e=t.geometry;if(t.isPoints||t.isLine){var n=new xt(3*e.vertices.length,3),r=new xt(3*e.colors.length,3);if(this.addAttribute("position",n.copyVector3sArray(e.vertices)),this.addAttribute("color",r.copyColorsArray(e.colors)),e.lineDistances&&e.lineDistances.length===e.vertices.length){var i=new xt(e.lineDistances.length,1);this.addAttribute("lineDistance",i.copyArray(e.lineDistances))}null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone())}else t.isMesh&&e&&e.isGeometry&&this.fromGeometry(e);return this},updateFromObject:function(t){var e=t.geometry;if(t.isMesh){var n=e.__directGeometry;if(!0===e.elementsNeedUpdate&&(n=void 0,e.elementsNeedUpdate=!1),void 0===n)return this.fromGeometry(e);n.verticesNeedUpdate=e.verticesNeedUpdate,n.normalsNeedUpdate=e.normalsNeedUpdate,n.colorsNeedUpdate=e.colorsNeedUpdate,n.uvsNeedUpdate=e.uvsNeedUpdate,n.groupsNeedUpdate=e.groupsNeedUpdate,e.verticesNeedUpdate=!1,e.normalsNeedUpdate=!1,e.colorsNeedUpdate=!1,e.uvsNeedUpdate=!1,e.groupsNeedUpdate=!1,e=n}var r;return!0===e.verticesNeedUpdate&&(r=this.attributes.position,void 0!==r&&(r.copyVector3sArray(e.vertices),r.needsUpdate=!0),e.verticesNeedUpdate=!1),!0===e.normalsNeedUpdate&&(r=this.attributes.normal,void 0!==r&&(r.copyVector3sArray(e.normals),r.needsUpdate=!0),e.normalsNeedUpdate=!1),!0===e.colorsNeedUpdate&&(r=this.attributes.color,void 0!==r&&(r.copyColorsArray(e.colors),r.needsUpdate=!0),e.colorsNeedUpdate=!1),e.uvsNeedUpdate&&(r=this.attributes.uv,void 0!==r&&(r.copyVector2sArray(e.uvs),r.needsUpdate=!0),e.uvsNeedUpdate=!1),e.lineDistancesNeedUpdate&&(r=this.attributes.lineDistance,void 0!==r&&(r.copyArray(e.lineDistances),r.needsUpdate=!0),e.lineDistancesNeedUpdate=!1),e.groupsNeedUpdate&&(e.computeGroups(t.geometry),this.groups=e.groups,e.groupsNeedUpdate=!1),this},fromGeometry:function(t){return t.__directGeometry=(new Et).fromGeometry(t),this.fromDirectGeometry(t.__directGeometry)},fromDirectGeometry:function(t){var e=new Float32Array(3*t.vertices.length);if(this.addAttribute("position",new dt(e,3).copyVector3sArray(t.vertices)),t.normals.length>0){var n=new Float32Array(3*t.normals.length);this.addAttribute("normal",new dt(n,3).copyVector3sArray(t.normals))}if(t.colors.length>0){var r=new Float32Array(3*t.colors.length);this.addAttribute("color",new dt(r,3).copyColorsArray(t.colors))}if(t.uvs.length>0){var i=new Float32Array(2*t.uvs.length);this.addAttribute("uv",new dt(i,2).copyVector2sArray(t.uvs))}if(t.uvs2.length>0){var o=new Float32Array(2*t.uvs2.length);this.addAttribute("uv2",new dt(o,2).copyVector2sArray(t.uvs2))}if(t.indices.length>0){var a=Mt(t.indices)>65535?Uint32Array:Uint16Array,s=new a(3*t.indices.length);this.setIndex(new dt(s,1).copyIndicesArray(t.indices))}this.groups=t.groups;for(var u in t.morphTargets){for(var l=[],c=t.morphTargets[u],h=0,f=c.length;h<f;h++){var d=c[h],p=new xt(3*d.length,3);l.push(p.copyVector3sArray(d))}this.morphAttributes[u]=l}if(t.skinIndices.length>0){var m=new xt(4*t.skinIndices.length,4);this.addAttribute("skinIndex",m.copyVector4sArray(t.skinIndices))}if(t.skinWeights.length>0){var g=new xt(4*t.skinWeights.length,4);this.addAttribute("skinWeight",g.copyVector4sArray(t.skinWeights))}return null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new J);var t=this.attributes.position;void 0!==t?this.boundingBox.setFromBufferAttribute(t):this.boundingBox.makeEmpty(),(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){var t=new J,e=new u;return function(){null===this.boundingSphere&&(this.boundingSphere=new tt);var n=this.attributes.position;if(n){var r=this.boundingSphere.center;t.setFromBufferAttribute(n),t.getCenter(r);for(var i=0,o=0,a=n.count;o<a;o++)e.x=n.getX(o),e.y=n.getY(o),e.z=n.getZ(o),i=Math.max(i,r.distanceToSquared(e));this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var t=this.index,e=this.attributes,n=this.groups;if(e.position){var r=e.position.array;if(void 0===e.normal)this.addAttribute("normal",new dt(new Float32Array(r.length),3));else for(var i=e.normal.array,o=0,a=i.length;o<a;o++)i[o]=0;var s,l,c,h=e.normal.array,f=new u,d=new u,p=new u,m=new u,g=new u;if(t){var v=t.array;0===n.length&&this.addGroup(0,v.length);for(var y=0,b=n.length;y<b;++y)for(var w=n[y],x=w.start,_=w.count,o=x,a=x+_;o<a;o+=3)s=3*v[o+0],l=3*v[o+1],c=3*v[o+2],f.fromArray(r,s),d.fromArray(r,l),p.fromArray(r,c),m.subVectors(p,d),g.subVectors(f,d),m.cross(g),h[s]+=m.x,h[s+1]+=m.y,h[s+2]+=m.z,h[l]+=m.x,h[l+1]+=m.y,h[l+2]+=m.z,h[c]+=m.x,h[c+1]+=m.y,h[c+2]+=m.z}else for(var o=0,a=r.length;o<a;o+=9)f.fromArray(r,o),d.fromArray(r,o+3),p.fromArray(r,o+6),m.subVectors(p,d),g.subVectors(f,d),m.cross(g),h[o]=m.x,h[o+1]=m.y,h[o+2]=m.z,h[o+3]=m.x,h[o+4]=m.y,h[o+5]=m.z,h[o+6]=m.x,h[o+7]=m.y,h[o+8]=m.z;this.normalizeNormals(),e.normal.needsUpdate=!0}},merge:function(t,e){if(!1===(t&&t.isBufferGeometry))return void console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",t);void 0===e&&(e=0);var n=this.attributes;for(var r in n)if(void 0!==t.attributes[r])for(var i=n[r],o=i.array,a=t.attributes[r],s=a.array,u=a.itemSize,l=0,c=u*e;l<s.length;l++,c++)o[c]=s[l];return this},normalizeNormals:function(){for(var t,e,n,r,i=this.attributes.normal.array,o=0,a=i.length;o<a;o+=3)t=i[o],e=i[o+1],n=i[o+2],r=1/Math.sqrt(t*t+e*e+n*n),i[o]*=r,i[o+1]*=r,i[o+2]*=r},toNonIndexed:function(){if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var t=new Ct,e=this.index.array,n=this.attributes;for(var r in n){for(var i=n[r],o=i.array,a=i.itemSize,s=new o.constructor(e.length*a),u=0,l=0,c=0,h=e.length;c<h;c++){u=e[c]*a;for(var f=0;f<a;f++)s[l++]=o[u++]}t.addAttribute(r,new dt(s,a))}return t},toJSON:function(){var t={metadata:{version:4.4,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),void 0!==this.parameters){var e=this.parameters;for(var n in e)void 0!==e[n]&&(t[n]=e[n]);return t}t.data={attributes:{}};var r=this.index;if(null!==r){var i=Array.prototype.slice.call(r.array);t.data.index={type:r.array.constructor.name,array:i}}var o=this.attributes;for(var n in o){var a=o[n],i=Array.prototype.slice.call(a.array);t.data.attributes[n]={itemSize:a.itemSize,type:a.array.constructor.name,array:i,normalized:a.normalized}}var s=this.groups;s.length>0&&(t.data.groups=JSON.parse(JSON.stringify(s)));var u=this.boundingSphere;return null!==u&&(t.data.boundingSphere={center:u.center.toArray(),radius:u.radius}),t},clone:function(){return(new Ct).copy(this)},copy:function(t){var e,n,r;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;var i=t.index;null!==i&&this.setIndex(i.clone());var o=t.attributes;for(e in o){var a=o[e];this.addAttribute(e,a.clone())}var s=t.morphAttributes;for(e in s){var u=[],l=s[e];for(n=0,r=l.length;n<r;n++)u.push(l[n].clone());this.morphAttributes[e]=u}var c=t.groups;for(n=0,r=c.length;n<r;n++){var h=c[n];this.addGroup(h.start,h.count,h.materialIndex)}var f=t.boundingBox;null!==f&&(this.boundingBox=f.clone());var d=t.boundingSphere;return null!==d&&(this.boundingSphere=d.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this},dispose:function(){this.dispatchEvent({type:"dispose"})}},Ct.MaxIndex=65535,Object.assign(Ct.prototype,e.prototype),It.prototype=Object.assign(Object.create(ut.prototype),{constructor:It,isMesh:!0,setDrawMode:function(t){this.drawMode=t},copy:function(t){return ut.prototype.copy.call(this,t),this.drawMode=t.drawMode,this},updateMorphTargets:function(){var t=this.geometry.morphTargets;if(void 0!==t&&t.length>0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var e=0,n=t.length;e<n;e++)this.morphTargetInfluences.push(0),this.morphTargetDictionary[t[e].name]=e}},raycast:function(){function t(t,e,n,r,i,o,a){return ct.barycoordFromPoint(t,e,n,r,y),i.multiplyScalar(y.x),o.multiplyScalar(y.y),a.multiplyScalar(y.z),i.add(o).add(a),i.clone()}function e(t,e,n,r,i,o,a){var s=t.material;if(null===(s.side===no?n.intersectTriangle(o,i,r,!0,a):n.intersectTriangle(r,i,o,s.side!==ro,a)))return null;w.copy(a),w.applyMatrix4(t.matrixWorld);var u=e.ray.origin.distanceTo(w);return u<e.near||u>e.far?null:{distance:u,point:w.clone(),object:t}}function r(n,r,i,o,a,u,l,f){s.fromBufferAttribute(o,u),c.fromBufferAttribute(o,l),h.fromBufferAttribute(o,f);var d=e(n,r,i,s,c,h,b);return d&&(a&&(m.fromBufferAttribute(a,u),g.fromBufferAttribute(a,l),v.fromBufferAttribute(a,f),d.uv=t(b,s,c,h,m,g,v)),d.face=new ht(u,l,f,ct.normal(s,c,h)),d.faceIndex=u),d}var i=new l,o=new ot,a=new tt,s=new u,c=new u,h=new u,f=new u,d=new u,p=new u,m=new n,g=new n,v=new n,y=new u,b=new u,w=new u;return function(n,u){var l=this.geometry,y=this.material,w=this.matrixWorld;if(void 0!==y&&(null===l.boundingSphere&&l.computeBoundingSphere(),a.copy(l.boundingSphere),a.applyMatrix4(w),!1!==n.ray.intersectsSphere(a)&&(i.getInverse(w),o.copy(n.ray).applyMatrix4(i),null===l.boundingBox||!1!==o.intersectsBox(l.boundingBox)))){var x;if(l.isBufferGeometry){var _,E,M,S,T,C=l.index,I=l.attributes.position,O=l.attributes.uv;if(null!==C)for(S=0,T=C.count;S<T;S+=3)_=C.getX(S),E=C.getX(S+1),M=C.getX(S+2),(x=r(this,n,o,I,O,_,E,M))&&(x.faceIndex=Math.floor(S/3),u.push(x));else for(S=0,T=I.count;S<T;S+=3)_=S,E=S+1,M=S+2,(x=r(this,n,o,I,O,_,E,M))&&(x.index=_,u.push(x))}else if(l.isGeometry){var A,L,R,N,P=y&&y.isMultiMaterial,k=!0===P?y.materials:null,D=l.vertices,F=l.faces,j=l.faceVertexUvs[0];j.length>0&&(N=j);for(var U=0,B=F.length;U<B;U++){var z=F[U],V=!0===P?k[z.materialIndex]:y;if(void 0!==V){if(A=D[z.a],L=D[z.b],R=D[z.c],!0===V.morphTargets){var G=l.morphTargets,H=this.morphTargetInfluences;s.set(0,0,0),c.set(0,0,0),h.set(0,0,0);for(var q=0,W=G.length;q<W;q++){var Y=H[q];if(0!==Y){var X=G[q].vertices;s.addScaledVector(f.subVectors(X[z.a],A),Y),c.addScaledVector(d.subVectors(X[z.b],L),Y),h.addScaledVector(p.subVectors(X[z.c],R),Y)}}s.add(A),c.add(L),h.add(R),A=s,L=c,R=h}if(x=e(this,n,o,A,L,R,b)){if(N){var Z=N[U];m.copy(Z[0]),g.copy(Z[1]),v.copy(Z[2]),x.uv=t(b,A,L,R,m,g,v)}x.face=z,x.faceIndex=U,u.push(x)}}}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Ot.prototype=Object.create(Tt.prototype),Ot.prototype.constructor=Ot,At.prototype=Object.create(Ct.prototype),At.prototype.constructor=At,Lt.prototype=Object.create(Tt.prototype),Lt.prototype.constructor=Lt,Rt.prototype=Object.create(Ct.prototype),Rt.prototype.constructor=Rt,Nt.prototype=Object.create(ut.prototype),Nt.prototype.constructor=Nt,Nt.prototype.isCamera=!0,Nt.prototype.getWorldDirection=function(){var t=new s;return function(e){var n=e||new u;return this.getWorldQuaternion(t),n.set(0,0,-1).applyQuaternion(t)}}(),Nt.prototype.lookAt=function(){var t=new l;return function(e){t.lookAt(this.position,e,this.up),this.quaternion.setFromRotationMatrix(t)}}(),Nt.prototype.clone=function(){return(new this.constructor).copy(this)},Nt.prototype.copy=function(t){return ut.prototype.copy.call(this,t),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this},Pt.prototype=Object.assign(Object.create(Nt.prototype),{constructor:Pt,isPerspectiveCamera:!0,copy:function(t){return Nt.prototype.copy.call(this,t),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this},setFocalLength:function(t){var e=.5*this.getFilmHeight()/t;this.fov=2*Ja.RAD2DEG*Math.atan(e),this.updateProjectionMatrix()},getFocalLength:function(){var t=Math.tan(.5*Ja.DEG2RAD*this.fov);return.5*this.getFilmHeight()/t},getEffectiveFOV:function(){return 2*Ja.RAD2DEG*Math.atan(Math.tan(.5*Ja.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(t,e,n,r,i,o){this.aspect=t/e,this.view={fullWidth:t,fullHeight:e,offsetX:n,offsetY:r,width:i,height:o},this.updateProjectionMatrix()},clearViewOffset:function(){this.view=null,this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=this.near,e=t*Math.tan(.5*Ja.DEG2RAD*this.fov)/this.zoom,n=2*e,r=this.aspect*n,i=-.5*r,o=this.view;if(null!==o){var a=o.fullWidth,s=o.fullHeight;i+=o.offsetX*r/a,e-=o.offsetY*n/s,r*=o.width/a,n*=o.height/s}var u=this.filmOffset;0!==u&&(i+=t*u/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,e,e-n,t,this.far)},toJSON:function(t){var e=ut.prototype.toJSON.call(this,t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}),kt.prototype=Object.assign(Object.create(Nt.prototype),{constructor:kt,isOrthographicCamera:!0,copy:function(t){return Nt.prototype.copy.call(this,t),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:Object.assign({},t.view),this},setViewOffset:function(t,e,n,r,i,o){this.view={fullWidth:t,fullHeight:e,offsetX:n,offsetY:r,width:i,height:o},this.updateProjectionMatrix()},clearViewOffset:function(){this.view=null,this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,i=n-t,o=n+t,a=r+e,s=r-e;if(null!==this.view){var u=this.zoom/(this.view.width/this.view.fullWidth),l=this.zoom/(this.view.height/this.view.fullHeight),c=(this.right-this.left)/this.view.width,h=(this.top-this.bottom)/this.view.height;i+=c*(this.view.offsetX/u),o=i+c*(this.view.width/u),a-=h*(this.view.offsetY/l),s=a-h*(this.view.height/l)}this.projectionMatrix.makeOrthographic(i,o,a,s,this.near,this.far)},toJSON:function(t){var e=ut.prototype.toJSON.call(this,t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}});var ps=0;le.prototype.isFogExp2=!0,le.prototype.clone=function(){return new le(this.color.getHex(),this.density)},le.prototype.toJSON=function(t){return{type:"FogExp2",color:this.color.getHex(),density:this.density}},ce.prototype.isFog=!0,ce.prototype.clone=function(){return new ce(this.color.getHex(),this.near,this.far)},ce.prototype.toJSON=function(t){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}},he.prototype=Object.create(ut.prototype),he.prototype.constructor=he,he.prototype.copy=function(t,e){return ut.prototype.copy.call(this,t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.fog&&(this.fog=t.fog.clone()),null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.autoUpdate=t.autoUpdate,this.matrixAutoUpdate=t.matrixAutoUpdate,this},he.prototype.toJSON=function(t){var e=ut.prototype.toJSON.call(this,t);return null!==this.background&&(e.object.background=this.background.toJSON(t)),null!==this.fog&&(e.object.fog=this.fog.toJSON()),e},fe.prototype=Object.assign(Object.create(ut.prototype),{constructor:fe,isLensFlare:!0,copy:function(t){ut.prototype.copy.call(this,t),this.positionScreen.copy(t.positionScreen),this.customUpdateCallback=t.customUpdateCallback;for(var e=0,n=t.lensFlares.length;e<n;e++)this.lensFlares.push(t.lensFlares[e]);return this},add:function(t,e,n,r,i,o){void 0===e&&(e=-1),void 0===n&&(n=0),void 0===o&&(o=1),void 0===i&&(i=new q(16777215)),void 0===r&&(r=co),n=Math.min(n,Math.max(0,n)),this.lensFlares.push({texture:t,size:e,distance:n,x:0,y:0,z:0,scale:1,rotation:0,opacity:o,color:i,blending:r})},updateLensFlares:function(){var t,e,n=this.lensFlares.length,r=2*-this.positionScreen.x,i=2*-this.positionScreen.y;for(t=0;t<n;t++)e=this.lensFlares[t],e.x=this.positionScreen.x+r*e.distance,e.y=this.positionScreen.y+i*e.distance,e.wantedRotation=e.x*Math.PI*.25,e.rotation+=.25*(e.wantedRotation-e.rotation)}}),de.prototype=Object.create(K.prototype),de.prototype.constructor=de,de.prototype.copy=function(t){return K.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.rotation=t.rotation,this},pe.prototype=Object.assign(Object.create(ut.prototype),{constructor:pe,isSprite:!0,raycast:function(){var t=new u;return function(e,n){t.setFromMatrixPosition(this.matrixWorld);var r=e.ray.distanceSqToPoint(t);r>this.scale.x*this.scale.y/4||n.push({distance:Math.sqrt(r),point:this.position,face:null,object:this})}}(),clone:function(){return new this.constructor(this.material).copy(this)}}),me.prototype=Object.assign(Object.create(ut.prototype),{constructor:me,copy:function(t){ut.prototype.copy.call(this,t,!1);for(var e=t.levels,n=0,r=e.length;n<r;n++){var i=e[n];this.addLevel(i.object.clone(),i.distance)}return this},addLevel:function(t,e){void 0===e&&(e=0),e=Math.abs(e);for(var n=this.levels,r=0;r<n.length&&!(e<n[r].distance);r++);n.splice(r,0,{distance:e,object:t}),this.add(t)},getObjectForDistance:function(t){for(var e=this.levels,n=1,r=e.length;n<r&&!(t<e[n].distance);n++);return e[n-1].object},raycast:function(){var t=new u;return function(e,n){t.setFromMatrixPosition(this.matrixWorld);var r=e.ray.origin.distanceTo(t);this.getObjectForDistance(r).raycast(e,n)}}(),update:function(){var t=new u,e=new u;return function(n){var r=this.levels;if(r.length>1){t.setFromMatrixPosition(n.matrixWorld),e.setFromMatrixPosition(this.matrixWorld);var i=t.distanceTo(e);r[0].object.visible=!0;for(var o=1,a=r.length;o<a&&i>=r[o].distance;o++)r[o-1].object.visible=!1,r[o].object.visible=!0;for(;o<a;o++)r[o].object.visible=!1}}}(),toJSON:function(t){var e=ut.prototype.toJSON.call(this,t);e.object.levels=[];for(var n=this.levels,r=0,i=n.length;r<i;r++){var o=n[r];e.object.levels.push({object:o.object.uuid,distance:o.distance})}return e}}),Object.assign(ge.prototype,{calculateInverses:function(){this.boneInverses=[];for(var t=0,e=this.bones.length;t<e;t++){var n=new l;this.bones[t]&&n.getInverse(this.bones[t].matrixWorld),this.boneInverses.push(n)}},pose:function(){for(var t,e=0,n=this.bones.length;e<n;e++)(t=this.bones[e])&&t.matrixWorld.getInverse(this.boneInverses[e]);for(var e=0,n=this.bones.length;e<n;e++)(t=this.bones[e])&&(t.parent&&t.parent.isBone?(t.matrix.getInverse(t.parent.matrixWorld),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))},update:function(){var t=new l;return function(){for(var e=0,n=this.bones.length;e<n;e++){var r=this.bones[e]?this.bones[e].matrixWorld:this.identityMatrix;t.multiplyMatrices(r,this.boneInverses[e]),t.toArray(this.boneMatrices,16*e)}this.useVertexTexture&&(this.boneTexture.needsUpdate=!0)}}(),clone:function(){return new ge(this.bones,this.boneInverses,this.useVertexTexture)}}),ve.prototype=Object.assign(Object.create(ut.prototype),{constructor:ve,isBone:!0}),ye.prototype=Object.assign(Object.create(It.prototype),{constructor:ye,isSkinnedMesh:!0,bind:function(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.getInverse(e)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){if(this.geometry&&this.geometry.isGeometry)for(var t=0;t<this.geometry.skinWeights.length;t++){var e=this.geometry.skinWeights[t],n=1/e.lengthManhattan();n!==1/0?e.multiplyScalar(n):e.set(1,0,0,0)}else if(this.geometry&&this.geometry.isBufferGeometry)for(var r=new i,o=this.geometry.attributes.skinWeight,t=0;t<o.count;t++){r.x=o.getX(t),r.y=o.getY(t),r.z=o.getZ(t),r.w=o.getW(t);var n=1/r.lengthManhattan();n!==1/0?r.multiplyScalar(n):r.set(1,0,0,0),o.setXYZW(t,r.x,r.y,r.z,r.w)}},updateMatrixWorld:function(t){It.prototype.updateMatrixWorld.call(this,!0),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material,this.skeleton.useVertexTexture).copy(this)}}),be.prototype=Object.create(K.prototype),be.prototype.constructor=be,be.prototype.isLineBasicMaterial=!0,be.prototype.copy=function(t){return K.prototype.copy.call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this},we.prototype=Object.assign(Object.create(ut.prototype),{constructor:we,isLine:!0,raycast:function(){var t=new l,e=new ot,n=new tt;return function(r,i){var o=r.linePrecision,a=o*o,s=this.geometry,l=this.matrixWorld;if(null===s.boundingSphere&&s.computeBoundingSphere(),n.copy(s.boundingSphere),n.applyMatrix4(l),!1!==r.ray.intersectsSphere(n)){t.getInverse(l),e.copy(r.ray).applyMatrix4(t);var c=new u,h=new u,f=new u,d=new u,p=this&&this.isLineSegments?2:1;if(s.isBufferGeometry){var m=s.index,g=s.attributes,v=g.position.array;if(null!==m)for(var y=m.array,b=0,w=y.length-1;b<w;b+=p){var x=y[b],_=y[b+1];c.fromArray(v,3*x),h.fromArray(v,3*_);var E=e.distanceSqToSegment(c,h,d,f);if(!(E>a)){d.applyMatrix4(this.matrixWorld);var M=r.ray.origin.distanceTo(d);M<r.near||M>r.far||i.push({distance:M,point:f.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}else for(var b=0,w=v.length/3-1;b<w;b+=p){c.fromArray(v,3*b),h.fromArray(v,3*b+3);var E=e.distanceSqToSegment(c,h,d,f);if(!(E>a)){d.applyMatrix4(this.matrixWorld);var M=r.ray.origin.distanceTo(d);M<r.near||M>r.far||i.push({distance:M,point:f.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}}else if(s.isGeometry)for(var S=s.vertices,T=S.length,b=0;b<T-1;b+=p){var E=e.distanceSqToSegment(S[b],S[b+1],d,f);if(!(E>a)){d.applyMatrix4(this.matrixWorld);var M=r.ray.origin.distanceTo(d);M<r.near||M>r.far||i.push({distance:M,point:f.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),xe.prototype=Object.assign(Object.create(we.prototype),{constructor:xe,isLineSegments:!0}),_e.prototype=Object.create(K.prototype),_e.prototype.constructor=_e,_e.prototype.isPointsMaterial=!0,_e.prototype.copy=function(t){return K.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this},Ee.prototype=Object.assign(Object.create(ut.prototype),{constructor:Ee,isPoints:!0,raycast:function(){var t=new l,e=new ot,n=new tt;return function(r,i){function o(t,n){var o=e.distanceSqToPoint(t);if(o<f){var s=e.closestPointToPoint(t);s.applyMatrix4(l);var u=r.ray.origin.distanceTo(s);if(u<r.near||u>r.far)return;i.push({distance:u,distanceToRay:Math.sqrt(o),point:s.clone(),index:n,face:null,object:a})}}var a=this,s=this.geometry,l=this.matrixWorld,c=r.params.Points.threshold;if(null===s.boundingSphere&&s.computeBoundingSphere(),n.copy(s.boundingSphere),n.applyMatrix4(l),!1!==r.ray.intersectsSphere(n)){t.getInverse(l),e.copy(r.ray).applyMatrix4(t);var h=c/((this.scale.x+this.scale.y+this.scale.z)/3),f=h*h,d=new u;if(s.isBufferGeometry){var p=s.index,m=s.attributes,g=m.position.array;if(null!==p)for(var v=p.array,y=0,b=v.length;y<b;y++){var w=v[y];d.fromArray(g,3*w),o(d,w)}else for(var y=0,x=g.length/3;y<x;y++)d.fromArray(g,3*y),o(d,y)}else for(var _=s.vertices,y=0,x=_.length;y<x;y++)o(_[y],y)}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Me.prototype=Object.assign(Object.create(ut.prototype),{constructor:Me}),Se.prototype=Object.create(r.prototype),Se.prototype.constructor=Se,Te.prototype=Object.create(r.prototype),Te.prototype.constructor=Te,Te.prototype.isCompressedTexture=!0,Ce.prototype=Object.create(r.prototype),Ce.prototype.constructor=Ce,Ie.prototype=Object.create(r.prototype),Ie.prototype.constructor=Ie,Ie.prototype.isDepthTexture=!0,Oe.prototype=Object.create(Ct.prototype),Oe.prototype.constructor=Oe,Ae.prototype=Object.create(Tt.prototype),Ae.prototype.constructor=Ae,Le.prototype=Object.create(Ct.prototype),Le.prototype.constructor=Le,Re.prototype=Object.create(Tt.prototype),Re.prototype.constructor=Re,Ne.prototype=Object.create(Ct.prototype),Ne.prototype.constructor=Ne,Pe.prototype=Object.create(Tt.prototype),Pe.prototype.constructor=Pe,ke.prototype=Object.create(Ne.prototype),ke.prototype.constructor=ke,De.prototype=Object.create(Tt.prototype),De.prototype.constructor=De,Fe.prototype=Object.create(Ne.prototype),Fe.prototype.constructor=Fe,je.prototype=Object.create(Tt.prototype),je.prototype.constructor=je,Ue.prototype=Object.create(Ne.prototype),Ue.prototype.constructor=Ue,Be.prototype=Object.create(Tt.prototype),Be.prototype.constructor=Be,ze.prototype=Object.create(Ne.prototype),ze.prototype.constructor=ze,Ve.prototype=Object.create(Tt.prototype),Ve.prototype.constructor=Ve,Ge.prototype=Object.create(Ct.prototype),Ge.prototype.constructor=Ge,He.prototype=Object.create(Tt.prototype),He.prototype.constructor=He,qe.prototype=Object.create(Ct.prototype),qe.prototype.constructor=qe,We.prototype=Object.create(Tt.prototype),We.prototype.constructor=We,Ye.prototype=Object.create(Ct.prototype),Ye.prototype.constructor=Ye;var ms={area:function(t){for(var e=t.length,n=0,r=e-1,i=0;i<e;r=i++)n+=t[r].x*t[i].y-t[i].x*t[r].y;return.5*n},triangulate:function(){function t(t,e,n,r,i,o){var a,s,u,l,c,h,f,d,p;if(s=t[o[e]].x,u=t[o[e]].y,l=t[o[n]].x,c=t[o[n]].y,h=t[o[r]].x,f=t[o[r]].y,(l-s)*(f-u)-(c-u)*(h-s)<=0)return!1;var m,g,v,y,b,w,x,_,E,M,S,T,C,I,O;for(m=h-l,g=f-c,v=s-h,y=u-f,b=l-s,w=c-u,a=0;a<i;a++)if(d=t[o[a]].x,p=t[o[a]].y,!(d===s&&p===u||d===l&&p===c||d===h&&p===f)&&(x=d-s,_=p-u,E=d-l,M=p-c,S=d-h,T=p-f,O=m*M-g*E,C=b*_-w*x,I=v*T-y*S,O>=-Number.EPSILON&&I>=-Number.EPSILON&&C>=-Number.EPSILON))return!1;return!0}return function(e,n){var r=e.length;if(r<3)return null;var i,o,a,s=[],u=[],l=[];if(ms.area(e)>0)for(o=0;o<r;o++)u[o]=o;else for(o=0;o<r;o++)u[o]=r-1-o;var c=r,h=2*c;for(o=c-1;c>2;){if(h--<=0)return console.warn("THREE.ShapeUtils: Unable to triangulate polygon! in triangulate()"),n?l:s;if(i=o,c<=i&&(i=0),o=i+1,c<=o&&(o=0),a=o+1,c<=a&&(a=0),t(e,i,o,a,c,u)){var f,d,p,m,g;for(f=u[i],d=u[o],p=u[a],s.push([e[f],e[d],e[p]]),l.push([u[i],u[o],u[a]]),m=o,g=o+1;g<c;m++,g++)u[m]=u[g];c--,h=2*c}}return n?l:s}}(),triangulateShape:function(t,e){function n(t){var e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function r(t,e,n){return t.x!==e.x?t.x<e.x?t.x<=n.x&&n.x<=e.x:e.x<=n.x&&n.x<=t.x:t.y<e.y?t.y<=n.y&&n.y<=e.y:e.y<=n.y&&n.y<=t.y}function i(t,e,n,i,o){var a=e.x-t.x,s=e.y-t.y,u=i.x-n.x,l=i.y-n.y,c=t.x-n.x,h=t.y-n.y,f=s*u-a*l,d=s*c-a*h;if(Math.abs(f)>Number.EPSILON){var p;if(f>0){if(d<0||d>f)return[];if((p=l*c-u*h)<0||p>f)return[]}else{if(d>0||d<f)return[];if((p=l*c-u*h)>0||p<f)return[]}if(0===p)return!o||0!==d&&d!==f?[t]:[];if(p===f)return!o||0!==d&&d!==f?[e]:[];if(0===d)return[n];if(d===f)return[i];var m=p/f;return[{x:t.x+m*a,y:t.y+m*s}]}if(0!==d||l*c!=u*h)return[];var g=0===a&&0===s,v=0===u&&0===l;if(g&&v)return t.x!==n.x||t.y!==n.y?[]:[t];if(g)return r(n,i,t)?[t]:[];if(v)return r(t,e,n)?[n]:[];var y,b,w,x,_,E,M,S;return 0!==a?(t.x<e.x?(y=t,w=t.x,b=e,x=e.x):(y=e,w=e.x,b=t,x=t.x),n.x<i.x?(_=n,M=n.x,E=i,S=i.x):(_=i,M=i.x,E=n,S=n.x)):(t.y<e.y?(y=t,w=t.y,b=e,x=e.y):(y=e,w=e.y,b=t,x=t.y),n.y<i.y?(_=n,M=n.y,E=i,S=i.y):(_=i,M=i.y,E=n,S=n.y)),w<=M?x<M?[]:x===M?o?[]:[_]:x<=S?[_,b]:[_,E]:w>S?[]:w===S?o?[]:[y]:x<=S?[y,b]:[y,E]}function o(t,e,n,r){var i=e.x-t.x,o=e.y-t.y,a=n.x-t.x,s=n.y-t.y,u=r.x-t.x,l=r.y-t.y,c=i*s-o*a,h=i*l-o*u;if(Math.abs(c)>Number.EPSILON){var f=u*s-l*a;return c>0?h>=0&&f>=0:h>=0||f>=0}return h>0}n(t),e.forEach(n);for(var a,s,u,l,c,h,f={},d=t.concat(),p=0,m=e.length;p<m;p++)Array.prototype.push.apply(d,e[p]);for(a=0,s=d.length;a<s;a++)c=d[a].x+":"+d[a].y,void 0!==f[c]&&console.warn("THREE.ShapeUtils: Duplicate point",c,a),f[c]=a;var g=function(t,e){for(var n,r,a,s,u,l,c,h,f,d,p,m=t.concat(),g=[],v=[],y=0,b=e.length;y<b;y++)g.push(y);for(var w=0,x=2*g.length;g.length>0;){if(--x<0){console.log("Infinite Loop! Holes left:"+g.length+", Probably Hole outside Shape!");break}for(a=w;a<m.length;a++){s=m[a],r=-1;for(var y=0;y<g.length;y++)if(l=g[y],c=s.x+":"+s.y+":"+l,void 0===v[c]){n=e[l];for(var _=0;_<n.length;_++)if(u=n[_],function(t,e){var r=m.length-1,i=t-1;i<0&&(i=r);var a=t+1;a>r&&(a=0);var s=o(m[t],m[i],m[a],n[e]);if(!s)return!1;var u=n.length-1,l=e-1;l<0&&(l=u);var c=e+1;return c>u&&(c=0),!!(s=o(n[e],n[l],n[c],m[t]))}(a,_)&&!function(t,e){var n,r,o;for(n=0;n<m.length;n++)if(r=n+1,r%=m.length,o=i(t,e,m[n],m[r],!0),o.length>0)return!0;return!1}(s,u)&&!function(t,n){var r,o,a,s,u;for(r=0;r<g.length;r++)for(o=e[g[r]],a=0;a<o.length;a++)if(s=a+1,s%=o.length,u=i(t,n,o[a],o[s],!0),u.length>0)return!0;return!1}(s,u)){r=_,g.splice(y,1),h=m.slice(0,a+1),f=m.slice(a),d=n.slice(r),p=n.slice(0,r+1),m=h.concat(d).concat(p).concat(f),w=a;break}if(r>=0)break;v[c]=!0}if(r>=0)break}}return m}(t,e),v=ms.triangulate(g,!1);for(a=0,s=v.length;a<s;a++)for(l=v[a],u=0;u<3;u++)c=l[u].x+":"+l[u].y,void 0!==(h=f[c])&&(l[u]=h);return v.concat()},isClockWise:function(t){return ms.area(t)<0}};Xe.prototype=Object.create(Tt.prototype),Xe.prototype.constructor=Xe,Xe.prototype.addShapeList=function(t,e){for(var n=t.length,r=0;r<n;r++){var i=t[r];this.addShape(i,e)}},Xe.prototype.addShape=function(t,e){function r(t,e,n){return e||console.error("THREE.ExtrudeGeometry: vec does not exist"),e.clone().multiplyScalar(n).add(t)}function i(t,e,r){var i,o,a=1,s=t.x-e.x,u=t.y-e.y,l=r.x-t.x,c=r.y-t.y,h=s*s+u*u,f=s*c-u*l;if(Math.abs(f)>Number.EPSILON){var d=Math.sqrt(h),p=Math.sqrt(l*l+c*c),m=e.x-u/d,g=e.y+s/d,v=r.x-c/p,y=r.y+l/p,b=((v-m)*c-(y-g)*l)/(s*c-u*l);i=m+s*b-t.x,o=g+u*b-t.y;var w=i*i+o*o;if(w<=2)return new n(i,o);a=Math.sqrt(w/2)}else{var x=!1;s>Number.EPSILON?l>Number.EPSILON&&(x=!0):s<-Number.EPSILON?l<-Number.EPSILON&&(x=!0):Math.sign(u)===Math.sign(c)&&(x=!0),x?(i=-u,o=s,a=Math.sqrt(h)):(i=s,o=u,a=Math.sqrt(h/2))}return new n(i/a,o/a)}function o(t,e){var n,r;for(q=t.length;--q>=0;){n=q,r=q-1,r<0&&(r=t.length-1);var i=0,o=x+2*y;for(i=0;i<o;i++){var a=V*i,s=V*(i+1);l(e+n+a,e+r+a,e+r+s,e+n+s,t,i,o,n,r)}}}function a(t,e,n){I.vertices.push(new u(t,e,n))}function s(t,e,n){t+=O,e+=O,n+=O,I.faces.push(new ht(t,e,n,null,null,0));var r=M.generateTopUV(I,t,e,n);I.faceVertexUvs[0].push(r)}function l(t,e,n,r,i,o,a,s,u){t+=O,e+=O,n+=O,r+=O,I.faces.push(new ht(t,e,r,null,null,1)),I.faces.push(new ht(e,n,r,null,null,1));var l=M.generateSideWallUV(I,t,e,n,r);I.faceVertexUvs[0].push([l[0],l[1],l[3]]),I.faceVertexUvs[0].push([l[1],l[2],l[3]])}var c,h,f,d,p,m=void 0!==e.amount?e.amount:100,g=void 0!==e.bevelThickness?e.bevelThickness:6,v=void 0!==e.bevelSize?e.bevelSize:g-2,y=void 0!==e.bevelSegments?e.bevelSegments:3,b=void 0===e.bevelEnabled||e.bevelEnabled,w=void 0!==e.curveSegments?e.curveSegments:12,x=void 0!==e.steps?e.steps:1,_=e.extrudePath,E=!1,M=void 0!==e.UVGenerator?e.UVGenerator:Xe.WorldUVGenerator;_&&(c=_.getSpacedPoints(x),E=!0,b=!1,h=void 0!==e.frames?e.frames:_.computeFrenetFrames(x,!1),f=new u,d=new u,p=new u),b||(y=0,g=0,v=0);var S,T,C,I=this,O=this.vertices.length,A=t.extractPoints(w),L=A.shape,R=A.holes,N=!ms.isClockWise(L);if(N){for(L=L.reverse(),T=0,C=R.length;T<C;T++)S=R[T],ms.isClockWise(S)&&(R[T]=S.reverse());N=!1}var P=ms.triangulateShape(L,R),k=L;for(T=0,C=R.length;T<C;T++)S=R[T],L=L.concat(S);for(var D,F,j,U,B,z,V=L.length,G=P.length,H=[],q=0,W=k.length,Y=W-1,X=q+1;q<W;q++,Y++,X++)Y===W&&(Y=0),X===W&&(X=0),H[q]=i(k[q],k[Y],k[X]);var Z,K=[],$=H.concat();for(T=0,C=R.length;T<C;T++){for(S=R[T],Z=[],q=0,W=S.length,Y=W-1,X=q+1;q<W;q++,Y++,X++)Y===W&&(Y=0),X===W&&(X=0),Z[q]=i(S[q],S[Y],S[X]);K.push(Z),$=$.concat(Z)}for(D=0;D<y;D++){for(j=D/y,U=g*Math.cos(j*Math.PI/2),F=v*Math.sin(j*Math.PI/2),q=0,W=k.length;q<W;q++)B=r(k[q],H[q],F),a(B.x,B.y,-U);for(T=0,C=R.length;T<C;T++)for(S=R[T],Z=K[T],q=0,W=S.length;q<W;q++)B=r(S[q],Z[q],F),a(B.x,B.y,-U)}for(F=v,q=0;q<V;q++)B=b?r(L[q],$[q],F):L[q],E?(d.copy(h.normals[0]).multiplyScalar(B.x),f.copy(h.binormals[0]).multiplyScalar(B.y),p.copy(c[0]).add(d).add(f),a(p.x,p.y,p.z)):a(B.x,B.y,0);var Q;for(Q=1;Q<=x;Q++)for(q=0;q<V;q++)B=b?r(L[q],$[q],F):L[q],E?(d.copy(h.normals[Q]).multiplyScalar(B.x),f.copy(h.binormals[Q]).multiplyScalar(B.y),p.copy(c[Q]).add(d).add(f),a(p.x,p.y,p.z)):a(B.x,B.y,m/x*Q);for(D=y-1;D>=0;D--){for(j=D/y,U=g*Math.cos(j*Math.PI/2),F=v*Math.sin(j*Math.PI/2),q=0,W=k.length;q<W;q++)B=r(k[q],H[q],F),a(B.x,B.y,m+U);for(T=0,C=R.length;T<C;T++)for(S=R[T],Z=K[T],q=0,W=S.length;q<W;q++)B=r(S[q],Z[q],F),E?a(B.x,B.y+c[x-1].y,c[x-1].x+U):a(B.x,B.y,m+U)}!function(){if(b){var t=0,e=V*t;for(q=0;q<G;q++)z=P[q],s(z[2]+e,z[1]+e,z[0]+e);for(t=x+2*y,e=V*t,q=0;q<G;q++)z=P[q],s(z[0]+e,z[1]+e,z[2]+e)}else{for(q=0;q<G;q++)z=P[q],s(z[2],z[1],z[0]);for(q=0;q<G;q++)z=P[q],s(z[0]+V*x,z[1]+V*x,z[2]+V*x)}}(),function(){var t=0;for(o(k,t),t+=k.length,T=0,C=R.length;T<C;T++)S=R[T],o(S,t),t+=S.length}()},Xe.WorldUVGenerator={generateTopUV:function(t,e,r,i){var o=t.vertices,a=o[e],s=o[r],u=o[i];return[new n(a.x,a.y),new n(s.x,s.y),new n(u.x,u.y)]},generateSideWallUV:function(t,e,r,i,o){var a=t.vertices,s=a[e],u=a[r],l=a[i],c=a[o];return Math.abs(s.y-u.y)<.01?[new n(s.x,1-s.z),new n(u.x,1-u.z),new n(l.x,1-l.z),new n(c.x,1-c.z)]:[new n(s.y,1-s.z),new n(u.y,1-u.z),new n(l.y,1-l.z),new n(c.y,1-c.z)]}},Ze.prototype=Object.create(Xe.prototype),Ze.prototype.constructor=Ze,Ke.prototype=Object.create(Tt.prototype),Ke.prototype.constructor=Ke,$e.prototype=Object.create(Ct.prototype),$e.prototype.constructor=$e,Qe.prototype=Object.create(Tt.prototype),Qe.prototype.constructor=Qe,Je.prototype=Object.create(Ct.prototype),Je.prototype.constructor=Je,tn.prototype=Object.create(Tt.prototype),tn.prototype.constructor=tn,en.prototype=Object.create(Ct.prototype),en.prototype.constructor=en,nn.prototype=Object.create(Tt.prototype),nn.prototype.constructor=nn,rn.prototype=Object.create(Ct.prototype),rn.prototype.constructor=rn,on.prototype=Object.create(Ct.prototype),on.prototype.constructor=on,an.prototype=Object.create(Tt.prototype),an.prototype.constructor=an,sn.prototype=Object.create(Ct.prototype),sn.prototype.constructor=sn,un.prototype=Object.create(an.prototype),un.prototype.constructor=un,ln.prototype=Object.create(sn.prototype),ln.prototype.constructor=ln,cn.prototype=Object.create(Tt.prototype),cn.prototype.constructor=cn,hn.prototype=Object.create(Ct.prototype),hn.prototype.constructor=hn;var gs=Object.freeze({WireframeGeometry:Oe,ParametricGeometry:Ae,ParametricBufferGeometry:Le,TetrahedronGeometry:Pe,TetrahedronBufferGeometry:ke,OctahedronGeometry:De,OctahedronBufferGeometry:Fe,IcosahedronGeometry:je,IcosahedronBufferGeometry:Ue,DodecahedronGeometry:Be,DodecahedronBufferGeometry:ze,PolyhedronGeometry:Re,PolyhedronBufferGeometry:Ne,TubeGeometry:Ve,TubeBufferGeometry:Ge,TorusKnotGeometry:He,TorusKnotBufferGeometry:qe,TorusGeometry:We,TorusBufferGeometry:Ye,TextGeometry:Ze,SphereGeometry:Ke,SphereBufferGeometry:$e,RingGeometry:Qe,RingBufferGeometry:Je,PlaneGeometry:Lt,PlaneBufferGeometry:Rt,LatheGeometry:tn,LatheBufferGeometry:en,ShapeGeometry:nn,ShapeBufferGeometry:rn,ExtrudeGeometry:Xe,EdgesGeometry:on,ConeGeometry:un,ConeBufferGeometry:ln,CylinderGeometry:an,CylinderBufferGeometry:sn,CircleGeometry:cn,CircleBufferGeometry:hn,BoxGeometry:Ot,BoxBufferGeometry:At});fn.prototype=Object.create($.prototype),fn.prototype.constructor=fn,fn.prototype.isShadowMaterial=!0,dn.prototype=Object.create($.prototype),dn.prototype.constructor=dn,dn.prototype.isRawShaderMaterial=!0,pn.prototype={constructor:pn,isMultiMaterial:!0,toJSON:function(t){for(var e={metadata:{version:4.2,type:"material",generator:"MaterialExporter"},uuid:this.uuid,type:this.type,materials:[]},n=this.materials,r=0,i=n.length;r<i;r++){var o=n[r].toJSON(t);delete o.metadata,e.materials.push(o)}return e.visible=this.visible,e},clone:function(){for(var t=new this.constructor,e=0;e<this.materials.length;e++)t.materials.push(this.materials[e].clone());return t.visible=this.visible,t}},mn.prototype=Object.create(K.prototype),mn.prototype.constructor=mn,mn.prototype.isMeshStandardMaterial=!0,mn.prototype.copy=function(t){return K.prototype.copy.call(this,t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},gn.prototype=Object.create(mn.prototype),gn.prototype.constructor=gn,gn.prototype.isMeshPhysicalMaterial=!0,gn.prototype.copy=function(t){return mn.prototype.copy.call(this,t),this.defines={PHYSICAL:""},this.reflectivity=t.reflectivity,this.clearCoat=t.clearCoat,this.clearCoatRoughness=t.clearCoatRoughness,this},vn.prototype=Object.create(K.prototype),vn.prototype.constructor=vn,vn.prototype.isMeshPhongMaterial=!0,vn.prototype.copy=function(t){return K.prototype.copy.call(this,t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},yn.prototype=Object.create(vn.prototype),yn.prototype.constructor=yn,yn.prototype.isMeshToonMaterial=!0,yn.prototype.copy=function(t){return vn.prototype.copy.call(this,t),this.gradientMap=t.gradientMap,this},bn.prototype=Object.create(K.prototype),bn.prototype.constructor=bn,bn.prototype.isMeshNormalMaterial=!0,bn.prototype.copy=function(t){return K.prototype.copy.call(this,t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},wn.prototype=Object.create(K.prototype),wn.prototype.constructor=wn,wn.prototype.isMeshLambertMaterial=!0,wn.prototype.copy=function(t){return K.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},xn.prototype=Object.create(K.prototype),xn.prototype.constructor=xn,xn.prototype.isLineDashedMaterial=!0,xn.prototype.copy=function(t){return K.prototype.copy.call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this};var vs=Object.freeze({ShadowMaterial:fn,SpriteMaterial:de,RawShaderMaterial:dn,ShaderMaterial:$,PointsMaterial:_e,MultiMaterial:pn,MeshPhysicalMaterial:gn,MeshStandardMaterial:mn,MeshPhongMaterial:vn,MeshToonMaterial:yn,MeshNormalMaterial:bn,MeshLambertMaterial:wn,MeshDepthMaterial:Q,MeshBasicMaterial:ft,LineDashedMaterial:xn,LineBasicMaterial:be,Material:K}),ys={enabled:!1,files:{},add:function(t,e){!1!==this.enabled&&(this.files[t]=e)},get:function(t){if(!1!==this.enabled)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}},bs=new _n;Object.assign(En.prototype,{load:function(t,e,n,r){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t);var i=this,o=ys.get(t);if(void 0!==o)return i.manager.itemStart(t),setTimeout(function(){e&&e(o),i.manager.itemEnd(t)},0),o;var a=/^data:(.*?)(;base64)?,(.*)$/,s=t.match(a);if(s){var u=s[1],l=!!s[2],c=s[3];c=window.decodeURIComponent(c),l&&(c=window.atob(c));try{var h,f=(this.responseType||"").toLowerCase();switch(f){case"arraybuffer":case"blob":h=new ArrayBuffer(c.length);for(var d=new Uint8Array(h),p=0;p<c.length;p++)d[p]=c.charCodeAt(p);"blob"===f&&(h=new Blob([h],{type:u}));break;case"document":var m=new DOMParser;h=m.parseFromString(c,u);break;case"json":h=JSON.parse(c);break;default:h=c}window.setTimeout(function(){e&&e(h),i.manager.itemEnd(t)},0)}catch(e){window.setTimeout(function(){r&&r(e),i.manager.itemError(t)},0)}}else{var g=new XMLHttpRequest;g.open("GET",t,!0),g.addEventListener("load",function(n){var o=n.target.response;ys.add(t,o),200===this.status?(e&&e(o),i.manager.itemEnd(t)):0===this.status?(console.warn("THREE.FileLoader: HTTP Status 0 received."),e&&e(o),i.manager.itemEnd(t)):(r&&r(n),i.manager.itemError(t))},!1),void 0!==n&&g.addEventListener("progress",function(t){n(t)},!1),g.addEventListener("error",function(e){r&&r(e),i.manager.itemError(t)},!1),void 0!==this.responseType&&(g.responseType=this.responseType),void 0!==this.withCredentials&&(g.withCredentials=this.withCredentials),g.overrideMimeType&&g.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),g.send(null)}return i.manager.itemStart(t),g},setPath:function(t){return this.path=t,this},setResponseType:function(t){return this.responseType=t,this},setWithCredentials:function(t){return this.withCredentials=t,this},setMimeType:function(t){return this.mimeType=t,this}}),Object.assign(Mn.prototype,{load:function(t,e,n,r){var i=this,o=[],a=new Te;a.image=o;var s=new En(this.manager);if(s.setPath(this.path),s.setResponseType("arraybuffer"),Array.isArray(t))for(var u=0,l=0,c=t.length;l<c;++l)!function(l){s.load(t[l],function(t){var n=i._parser(t,!0);o[l]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},6===(u+=1)&&(1===n.mipmapCount&&(a.minFilter=sa),a.format=n.format,a.needsUpdate=!0,e&&e(a))},n,r)}(l);else s.load(t,function(t){var n=i._parser(t,!0);if(n.isCubemap)for(var r=n.mipmaps.length/n.mipmapCount,s=0;s<r;s++){o[s]={mipmaps:[]};for(var u=0;u<n.mipmapCount;u++)o[s].mipmaps.push(n.mipmaps[s*n.mipmapCount+u]),o[s].format=n.format,o[s].width=n.width,o[s].height=n.height}else a.image.width=n.width,a.image.height=n.height,a.mipmaps=n.mipmaps;1===n.mipmapCount&&(a.minFilter=sa),a.format=n.format,a.needsUpdate=!0,e&&e(a)},n,r);return a},setPath:function(t){return this.path=t,this}}),Object.assign(Sn.prototype,{load:function(t,e,n,r){var i=this,o=new W,a=new En(this.manager);return a.setResponseType("arraybuffer"),a.load(t,function(t){var n=i._parser(t);n&&(void 0!==n.image?o.image=n.image:void 0!==n.data&&(o.image.width=n.width,o.image.height=n.height,o.image.data=n.data),o.wrapS=void 0!==n.wrapS?n.wrapS:na,o.wrapT=void 0!==n.wrapT?n.wrapT:na,o.magFilter=void 0!==n.magFilter?n.magFilter:sa,o.minFilter=void 0!==n.minFilter?n.minFilter:la,o.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.format&&(o.format=n.format),void 0!==n.type&&(o.type=n.type),void 0!==n.mipmaps&&(o.mipmaps=n.mipmaps),1===n.mipmapCount&&(o.minFilter=sa),o.needsUpdate=!0,e&&e(o,n))},n,r),o}}),Object.assign(Tn.prototype,{load:function(t,e,n,r){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t);var i=this,o=ys.get(t);if(void 0!==o)return i.manager.itemStart(t),setTimeout(function(){e&&e(o),i.manager.itemEnd(t)},0),o;var a=document.createElementNS("http://www.w3.org/1999/xhtml","img");return a.addEventListener("load",function(){ys.add(t,this),e&&e(this),i.manager.itemEnd(t)},!1),a.addEventListener("error",function(e){r&&r(e),i.manager.itemError(t)},!1),void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),i.manager.itemStart(t),a.src=t,a},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),Object.assign(Cn.prototype,{load:function(t,e,n,r){var i=new c,o=new Tn(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);for(var a=0,s=0;s<t.length;++s)!function(n){o.load(t[n],function(t){i.images[n]=t,6==++a&&(i.needsUpdate=!0,e&&e(i))},void 0,r)}(s);return i},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),Object.assign(In.prototype,{load:function(t,e,n,i){var o=new r,a=new Tn(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(t,function(n){var r=t.search(/\.(jpg|jpeg)$/)>0||0===t.search(/^data\:image\/jpeg/);o.format=r?Ea:Ma,o.image=n,o.needsUpdate=!0,void 0!==e&&e(o)},n,i),o},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),On.prototype=Object.assign(Object.create(ut.prototype),{constructor:On,isLight:!0,copy:function(t){return ut.prototype.copy.call(this,t),this.color.copy(t.color),this.intensity=t.intensity,this},toJSON:function(t){var e=ut.prototype.toJSON.call(this,t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}),An.prototype=Object.assign(Object.create(On.prototype),{constructor:An,isHemisphereLight:!0,copy:function(t){return On.prototype.copy.call(this,t),this.groundColor.copy(t.groundColor),this}}),Object.assign(Ln.prototype,{copy:function(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var t={};return 0!==this.bias&&(t.bias=this.bias),1!==this.radius&&(t.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}),Rn.prototype=Object.assign(Object.create(Ln.prototype),{constructor:Rn,isSpotLightShadow:!0,update:function(t){var e=2*Ja.RAD2DEG*t.angle,n=this.mapSize.width/this.mapSize.height,r=t.distance||500,i=this.camera;e===i.fov&&n===i.aspect&&r===i.far||(i.fov=e,i.aspect=n,i.far=r,i.updateProjectionMatrix())}}),Nn.prototype=Object.assign(Object.create(On.prototype),{constructor:Nn,isSpotLight:!0,copy:function(t){return On.prototype.copy.call(this,t),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),Pn.prototype=Object.assign(Object.create(On.prototype),{constructor:Pn,isPointLight:!0,copy:function(t){return On.prototype.copy.call(this,t),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}),kn.prototype=Object.assign(Object.create(Ln.prototype),{constructor:kn}),Dn.prototype=Object.assign(Object.create(On.prototype),{constructor:Dn,isDirectionalLight:!0,copy:function(t){return On.prototype.copy.call(this,t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),Fn.prototype=Object.assign(Object.create(On.prototype),{constructor:Fn,isAmbientLight:!0});var ws={arraySlice:function(t,e,n){return ws.isTypedArray(t)?new t.constructor(t.subarray(e,n)):t.slice(e,n)},convertArray:function(t,e,n){return!t||!n&&t.constructor===e?t:"number"==typeof e.BYTES_PER_ELEMENT?new e(t):Array.prototype.slice.call(t)},isTypedArray:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},getKeyframeOrder:function(t){function e(e,n){return t[e]-t[n]}for(var n=t.length,r=new Array(n),i=0;i!==n;++i)r[i]=i;return r.sort(e),r},sortedArray:function(t,e,n){for(var r=t.length,i=new t.constructor(r),o=0,a=0;a!==r;++o)for(var s=n[o]*e,u=0;u!==e;++u)i[a++]=t[s+u];return i},flattenJSON:function(t,e,n,r){for(var i=1,o=t[0];void 0!==o&&void 0===o[r];)o=t[i++];if(void 0!==o){var a=o[r];if(void 0!==a)if(Array.isArray(a))do{a=o[r],void 0!==a&&(e.push(o.time),n.push.apply(n,a)),o=t[i++]}while(void 0!==o);else if(void 0!==a.toArray)do{a=o[r],void 0!==a&&(e.push(o.time),a.toArray(n,n.length)),o=t[i++]}while(void 0!==o);else do{a=o[r],void 0!==a&&(e.push(o.time),n.push(a)),o=t[i++]}while(void 0!==o)}}};jn.prototype={constructor:jn,evaluate:function(t){var e=this.parameterPositions,n=this._cachedIndex,r=e[n],i=e[n-1];t:{e:{var o;n:{r:if(!(t<r)){for(var a=n+2;;){if(void 0===r){if(t<i)break r;return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,t,i)}if(n===a)break;if(i=r,r=e[++n],t<r)break e}o=e.length;break n}{if(t>=i)break t;var s=e[1];t<s&&(n=2,i=s);for(var a=n-2;;){if(void 0===i)return this._cachedIndex=0,this.beforeStart_(0,t,r);if(n===a)break;if(r=i,i=e[--n-1],t>=i)break e}o=n,n=0}}for(;n<o;){var u=n+o>>>1;t<e[u]?o=u:n=u+1}if(r=e[n],void 0===(i=e[n-1]))return this._cachedIndex=0,this.beforeStart_(0,t,r);if(void 0===r)return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,i,t)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,t,r)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(t){for(var e=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=t*r,o=0;o!==r;++o)e[o]=n[i+o];return e},interpolate_:function(t,e,n,r){throw new Error("call to abstract method")},intervalChanged_:function(t,e,n){}},Object.assign(jn.prototype,{beforeStart_:jn.prototype.copySampleValue_,afterEnd_:jn.prototype.copySampleValue_}),Un.prototype=Object.assign(Object.create(jn.prototype),{constructor:Un,DefaultSettings_:{endingStart:Ba,endingEnd:Ba},intervalChanged_:function(t,e,n){var r=this.parameterPositions,i=t-2,o=t+1,a=r[i],s=r[o];if(void 0===a)switch(this.getSettings_().endingStart){case 2401:i=t,a=2*e-n;break;case 2402:i=r.length-2,a=e+r[i]-r[i+1];break;default:i=t,a=n}if(void 0===s)switch(this.getSettings_().endingEnd){case 2401:o=t,s=2*n-e;break;case 2402:o=1,s=n+r[1]-r[0];break;default:o=t-1,s=e}var u=.5*(n-e),l=this.valueSize;this._weightPrev=u/(e-a),this._weightNext=u/(s-n),this._offsetPrev=i*l,this._offsetNext=o*l},interpolate_:function(t,e,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=t*a,u=s-a,l=this._offsetPrev,c=this._offsetNext,h=this._weightPrev,f=this._weightNext,d=(n-e)/(r-e),p=d*d,m=p*d,g=-h*m+2*h*p-h*d,v=(1+h)*m+(-1.5-2*h)*p+(-.5+h)*d+1,y=(-1-f)*m+(1.5+f)*p+.5*d,b=f*m-f*p,w=0;w!==a;++w)i[w]=g*o[l+w]+v*o[u+w]+y*o[s+w]+b*o[c+w];return i}}),Bn.prototype=Object.assign(Object.create(jn.prototype),{constructor:Bn,interpolate_:function(t,e,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=t*a,u=s-a,l=(n-e)/(r-e),c=1-l,h=0;h!==a;++h)i[h]=o[u+h]*c+o[s+h]*l;return i}}),zn.prototype=Object.assign(Object.create(jn.prototype),{constructor:zn,interpolate_:function(t,e,n,r){return this.copySampleValue_(t-1)}});var xs;xs={TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:2301,InterpolantFactoryMethodDiscrete:function(t){return new zn(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodLinear:function(t){return new Bn(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:function(t){return new Un(this.times,this.values,this.getValueSize(),t)},setInterpolation:function(t){var e;switch(t){case 2300:e=this.InterpolantFactoryMethodDiscrete;break;case 2301:e=this.InterpolantFactoryMethodLinear;break;case 2302:e=this.InterpolantFactoryMethodSmooth}if(void 0===e){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return void console.warn(n)}this.createInterpolant=e},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}},getValueSize:function(){return this.values.length/this.times.length},shift:function(t){if(0!==t)for(var e=this.times,n=0,r=e.length;n!==r;++n)e[n]+=t;return this},scale:function(t){if(1!==t)for(var e=this.times,n=0,r=e.length;n!==r;++n)e[n]*=t;return this},trim:function(t,e){for(var n=this.times,r=n.length,i=0,o=r-1;i!==r&&n[i]<t;)++i;for(;-1!==o&&n[o]>e;)--o;if(++o,0!==i||o!==r){i>=o&&(o=Math.max(o,1),i=o-1);var a=this.getValueSize();this.times=ws.arraySlice(n,i,o),this.values=ws.arraySlice(this.values,i*a,o*a)}return this},validate:function(){var t=!0,e=this.getValueSize();e-Math.floor(e)!=0&&(console.error("invalid value size in track",this),t=!1);var n=this.times,r=this.values,i=n.length;0===i&&(console.error("track is empty",this),t=!1);for(var o=null,a=0;a!==i;a++){var s=n[a];if("number"==typeof s&&isNaN(s)){console.error("time is not a valid number",this,a,s),t=!1;break}if(null!==o&&o>s){console.error("out of order keys",this,a,s,o),t=!1;break}o=s}if(void 0!==r&&ws.isTypedArray(r))for(var a=0,u=r.length;a!==u;++a){var l=r[a];if(isNaN(l)){console.error("value is not a valid number",this,a,l),t=!1;break}}return t},optimize:function(){for(var t=this.times,e=this.values,n=this.getValueSize(),r=2302===this.getInterpolation(),i=1,o=t.length-1,a=1;a<o;++a){var s=!1,u=t[a];if(u!==t[a+1]&&(1!==a||u!==u[0]))if(r)s=!0;else for(var l=a*n,c=l-n,h=l+n,f=0;f!==n;++f){var d=e[l+f];if(d!==e[c+f]||d!==e[h+f]){s=!0;break}}if(s){if(a!==i){t[i]=t[a];for(var p=a*n,m=i*n,f=0;f!==n;++f)e[m+f]=e[p+f]}++i}}if(o>0){t[i]=t[o];for(var p=o*n,m=i*n,f=0;f!==n;++f)e[m+f]=e[p+f];++i}return i!==t.length&&(this.times=ws.arraySlice(t,0,i),this.values=ws.arraySlice(e,0,i*n)),this}},Gn.prototype=Object.assign(Object.create(xs),{constructor:Gn,ValueTypeName:"vector"}),Hn.prototype=Object.assign(Object.create(jn.prototype),{constructor:Hn,interpolate_:function(t,e,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,u=t*a,l=(n-e)/(r-e),c=u+a;u!==c;u+=4)s.slerpFlat(i,0,o,u-a,o,u,l);return i}}),qn.prototype=Object.assign(Object.create(xs),{constructor:qn,ValueTypeName:"quaternion",DefaultInterpolation:2301,InterpolantFactoryMethodLinear:function(t){return new Hn(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:void 0}),Wn.prototype=Object.assign(Object.create(xs),{constructor:Wn,ValueTypeName:"number"}),Yn.prototype=Object.assign(Object.create(xs),{constructor:Yn,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Xn.prototype=Object.assign(Object.create(xs),{constructor:Xn,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Zn.prototype=Object.assign(Object.create(xs),{constructor:Zn,ValueTypeName:"color"}),Kn.prototype=xs,xs.constructor=Kn,Object.assign(Kn,{parse:function(t){if(void 0===t.type)throw new Error("track type undefined, can not parse");var e=Kn._getTrackTypeForValueTypeName(t.type);if(void 0===t.times){var n=[],r=[];ws.flattenJSON(t.keys,n,r,"value"),t.times=n,t.values=r}return void 0!==e.parse?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)},toJSON:function(t){var e,n=t.constructor;if(void 0!==n.toJSON)e=n.toJSON(t);else{e={name:t.name,times:ws.convertArray(t.times,Array),values:ws.convertArray(t.values,Array)};var r=t.getInterpolation();r!==t.DefaultInterpolation&&(e.interpolation=r)}return e.type=t.ValueTypeName,e},_getTrackTypeForValueTypeName:function(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Wn;case"vector":case"vector2":case"vector3":case"vector4":return Gn;case"color":return Zn;case"quaternion":return qn;case"bool":case"boolean":return Xn;case"string":return Yn}throw new Error("Unsupported typeName: "+t)}}),$n.prototype={constructor:$n,resetDuration:function(){for(var t=this.tracks,e=0,n=0,r=t.length;n!==r;++n){var i=this.tracks[n];e=Math.max(e,i.times[i.times.length-1])}this.duration=e},trim:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this},optimize:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this}},Object.assign($n,{parse:function(t){for(var e=[],n=t.tracks,r=1/(t.fps||1),i=0,o=n.length;i!==o;++i)e.push(Kn.parse(n[i]).scale(r));return new $n(t.name,t.duration,e)},toJSON:function(t){for(var e=[],n=t.tracks,r={name:t.name,duration:t.duration,tracks:e},i=0,o=n.length;i!==o;++i)e.push(Kn.toJSON(n[i]));return r},CreateFromMorphTargetSequence:function(t,e,n,r){for(var i=e.length,o=[],a=0;a<i;a++){var s=[],u=[];s.push((a+i-1)%i,a,(a+1)%i),u.push(0,1,0);var l=ws.getKeyframeOrder(s);s=ws.sortedArray(s,1,l),u=ws.sortedArray(u,1,l),r||0!==s[0]||(s.push(i),u.push(u[0])),o.push(new Wn(".morphTargetInfluences["+e[a].name+"]",s,u).scale(1/n))}return new $n(t,-1,o)},findByName:function(t,e){var n=t;if(!Array.isArray(t)){var r=t;n=r.geometry&&r.geometry.animations||r.animations}for(var i=0;i<n.length;i++)if(n[i].name===e)return n[i];return null},CreateClipsFromMorphTargetSequences:function(t,e,n){for(var r={},i=/^([\w-]*?)([\d]+)$/,o=0,a=t.length;o<a;o++){var s=t[o],u=s.name.match(i);if(u&&u.length>1){var l=u[1],c=r[l];c||(r[l]=c=[]),c.push(s)}}var h=[];for(var l in r)h.push($n.CreateFromMorphTargetSequence(l,r[l],e,n));return h},parseAnimation:function(t,e){if(!t)return console.error("  no animation in JSONLoader data"),null;for(var n=function(t,e,n,r,i){if(0!==n.length){var o=[],a=[];ws.flattenJSON(n,o,a,r),0!==o.length&&i.push(new t(e,o,a))}},r=[],i=t.name||"default",o=t.length||-1,a=t.fps||30,s=t.hierarchy||[],u=0;u<s.length;u++){var l=s[u].keys;if(l&&0!==l.length)if(l[0].morphTargets){for(var c={},h=0;h<l.length;h++)if(l[h].morphTargets)for(var f=0;f<l[h].morphTargets.length;f++)c[l[h].morphTargets[f]]=-1;for(var d in c){for(var p=[],m=[],f=0;f!==l[h].morphTargets.length;++f){var g=l[h];p.push(g.time),m.push(g.morphTarget===d?1:0)}r.push(new Wn(".morphTargetInfluence["+d+"]",p,m))}o=c.length*(a||1)}else{var v=".bones["+e[u].name+"]";n(Gn,v+".position",l,"pos",r),n(qn,v+".quaternion",l,"rot",r),n(Gn,v+".scale",l,"scl",r)}}return 0===r.length?null:new $n(i,o,r)}}),Object.assign(Qn.prototype,{load:function(t,e,n,r){var i=this;new En(i.manager).load(t,function(t){e(i.parse(JSON.parse(t)))},n,r)},setTextures:function(t){this.textures=t},parse:function(t){function e(t){return void 0===r[t]&&console.warn("THREE.MaterialLoader: Undefined texture",t),r[t]}var r=this.textures,i=new vs[t.type];if(void 0!==t.uuid&&(i.uuid=t.uuid),void 0!==t.name&&(i.name=t.name),void 0!==t.color&&i.color.setHex(t.color),void 0!==t.roughness&&(i.roughness=t.roughness),void 0!==t.metalness&&(i.metalness=t.metalness),void 0!==t.emissive&&i.emissive.setHex(t.emissive),void 0!==t.specular&&i.specular.setHex(t.specular),void 0!==t.shininess&&(i.shininess=t.shininess),void 0!==t.clearCoat&&(i.clearCoat=t.clearCoat),void 0!==t.clearCoatRoughness&&(i.clearCoatRoughness=t.clearCoatRoughness),void 0!==t.uniforms&&(i.uniforms=t.uniforms),void 0!==t.vertexShader&&(i.vertexShader=t.vertexShader),void 0!==t.fragmentShader&&(i.fragmentShader=t.fragmentShader),void 0!==t.vertexColors&&(i.vertexColors=t.vertexColors),void 0!==t.fog&&(i.fog=t.fog),void 0!==t.shading&&(i.shading=t.shading),void 0!==t.blending&&(i.blending=t.blending),void 0!==t.side&&(i.side=t.side),void 0!==t.opacity&&(i.opacity=t.opacity),void 0!==t.transparent&&(i.transparent=t.transparent),void 0!==t.alphaTest&&(i.alphaTest=t.alphaTest),void 0!==t.depthTest&&(i.depthTest=t.depthTest),void 0!==t.depthWrite&&(i.depthWrite=t.depthWrite),void 0!==t.colorWrite&&(i.colorWrite=t.colorWrite),void 0!==t.wireframe&&(i.wireframe=t.wireframe),void 0!==t.wireframeLinewidth&&(i.wireframeLinewidth=t.wireframeLinewidth),void 0!==t.wireframeLinecap&&(i.wireframeLinecap=t.wireframeLinecap),void 0!==t.wireframeLinejoin&&(i.wireframeLinejoin=t.wireframeLinejoin),void 0!==t.skinning&&(i.skinning=t.skinning),void 0!==t.morphTargets&&(i.morphTargets=t.morphTargets),void 0!==t.size&&(i.size=t.size),void 0!==t.sizeAttenuation&&(i.sizeAttenuation=t.sizeAttenuation),void 0!==t.map&&(i.map=e(t.map)),void 0!==t.alphaMap&&(i.alphaMap=e(t.alphaMap),i.transparent=!0),void 0!==t.bumpMap&&(i.bumpMap=e(t.bumpMap)),void 0!==t.bumpScale&&(i.bumpScale=t.bumpScale),void 0!==t.normalMap&&(i.normalMap=e(t.normalMap)),void 0!==t.normalScale){var o=t.normalScale;!1===Array.isArray(o)&&(o=[o,o]),i.normalScale=(new n).fromArray(o)}if(void 0!==t.displacementMap&&(i.displacementMap=e(t.displacementMap)),void 0!==t.displacementScale&&(i.displacementScale=t.displacementScale),void 0!==t.displacementBias&&(i.displacementBias=t.displacementBias),void 0!==t.roughnessMap&&(i.roughnessMap=e(t.roughnessMap)),void 0!==t.metalnessMap&&(i.metalnessMap=e(t.metalnessMap)),void 0!==t.emissiveMap&&(i.emissiveMap=e(t.emissiveMap)),void 0!==t.emissiveIntensity&&(i.emissiveIntensity=t.emissiveIntensity),void 0!==t.specularMap&&(i.specularMap=e(t.specularMap)),void 0!==t.envMap&&(i.envMap=e(t.envMap)),void 0!==t.reflectivity&&(i.reflectivity=t.reflectivity),void 0!==t.lightMap&&(i.lightMap=e(t.lightMap)),void 0!==t.lightMapIntensity&&(i.lightMapIntensity=t.lightMapIntensity),void 0!==t.aoMap&&(i.aoMap=e(t.aoMap)),void 0!==t.aoMapIntensity&&(i.aoMapIntensity=t.aoMapIntensity),void 0!==t.gradientMap&&(i.gradientMap=e(t.gradientMap)),void 0!==t.materials)for(var a=0,s=t.materials.length;a<s;a++)i.materials.push(this.parse(t.materials[a]));return i}}),Object.assign(Jn.prototype,{load:function(t,e,n,r){var i=this;new En(i.manager).load(t,function(t){e(i.parse(JSON.parse(t)))},n,r)},parse:function(t){var e=new Ct,n=t.data.index,r={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};if(void 0!==n){var i=new r[n.type](n.array);e.setIndex(new dt(i,1))}var o=t.data.attributes;for(var a in o){var s=o[a],i=new r[s.type](s.array);e.addAttribute(a,new dt(i,s.itemSize,s.normalized))}var l=t.data.groups||t.data.drawcalls||t.data.offsets;if(void 0!==l)for(var c=0,h=l.length;c!==h;++c){var f=l[c];e.addGroup(f.start,f.count,f.materialIndex)}var d=t.data.boundingSphere;if(void 0!==d){var p=new u;void 0!==d.center&&p.fromArray(d.center),e.boundingSphere=new tt(p,d.radius)}return e}}),tr.prototype={constructor:tr,crossOrigin:void 0,extractUrlBase:function(t){var e=t.split("/");return 1===e.length?"./":(e.pop(),e.join("/")+"/")},initMaterials:function(t,e,n){for(var r=[],i=0;i<t.length;++i)r[i]=this.createMaterial(t[i],e,n);return r},createMaterial:function(){var t,e,n,r={NoBlending:lo,NormalBlending:co,AdditiveBlending:ho,SubtractiveBlending:fo,MultiplyBlending:po,CustomBlending:mo};return function(i,o,a){function s(t,n,r,i,s){var l,c=o+t,h=tr.Handlers.get(c);null!==h?l=h.load(c):(e.setCrossOrigin(a),l=e.load(c)),void 0!==n&&(l.repeat.fromArray(n),1!==n[0]&&(l.wrapS=ea),1!==n[1]&&(l.wrapT=ea)),void 0!==r&&l.offset.fromArray(r),void 0!==i&&("repeat"===i[0]&&(l.wrapS=ea),"mirror"===i[0]&&(l.wrapS=ra),"repeat"===i[1]&&(l.wrapT=ea),"mirror"===i[1]&&(l.wrapT=ra)),void 0!==s&&(l.anisotropy=s);var f=Ja.generateUUID();return u[f]=l,f}void 0===t&&(t=new q),void 0===e&&(e=new In),void 0===n&&(n=new Qn);var u={},l={uuid:Ja.generateUUID(),type:"MeshLambertMaterial"};for(var c in i){var h=i[c];switch(c){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":break;case"DbgName":l.name=h;break;case"blending":l.blending=r[h];break;case"colorAmbient":case"mapAmbient":console.warn("THREE.Loader.createMaterial:",c,"is no longer supported.");break;case"colorDiffuse":l.color=t.fromArray(h).getHex();break;case"colorSpecular":l.specular=t.fromArray(h).getHex();break;case"colorEmissive":l.emissive=t.fromArray(h).getHex();break;case"specularCoef":l.shininess=h;break;case"shading":"basic"===h.toLowerCase()&&(l.type="MeshBasicMaterial"),"phong"===h.toLowerCase()&&(l.type="MeshPhongMaterial"),"standard"===h.toLowerCase()&&(l.type="MeshStandardMaterial");break;case"mapDiffuse":l.map=s(h,i.mapDiffuseRepeat,i.mapDiffuseOffset,i.mapDiffuseWrap,i.mapDiffuseAnisotropy);break;case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":break;case"mapEmissive":l.emissiveMap=s(h,i.mapEmissiveRepeat,i.mapEmissiveOffset,i.mapEmissiveWrap,i.mapEmissiveAnisotropy);break;case"mapEmissiveRepeat":case"mapEmissiveOffset":case"mapEmissiveWrap":case"mapEmissiveAnisotropy":break;case"mapLight":l.lightMap=s(h,i.mapLightRepeat,i.mapLightOffset,i.mapLightWrap,i.mapLightAnisotropy);break;case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":break;case"mapAO":l.aoMap=s(h,i.mapAORepeat,i.mapAOOffset,i.mapAOWrap,i.mapAOAnisotropy);break;case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":break;case"mapBump":l.bumpMap=s(h,i.mapBumpRepeat,i.mapBumpOffset,i.mapBumpWrap,i.mapBumpAnisotropy);break;case"mapBumpScale":l.bumpScale=h;break;case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":break;case"mapNormal":l.normalMap=s(h,i.mapNormalRepeat,i.mapNormalOffset,i.mapNormalWrap,i.mapNormalAnisotropy);break;case"mapNormalFactor":l.normalScale=[h,h];break;case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":break;case"mapSpecular":l.specularMap=s(h,i.mapSpecularRepeat,i.mapSpecularOffset,i.mapSpecularWrap,i.mapSpecularAnisotropy);break;case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":break;case"mapMetalness":l.metalnessMap=s(h,i.mapMetalnessRepeat,i.mapMetalnessOffset,i.mapMetalnessWrap,i.mapMetalnessAnisotropy);break;case"mapMetalnessRepeat":case"mapMetalnessOffset":case"mapMetalnessWrap":case"mapMetalnessAnisotropy":break;case"mapRoughness":l.roughnessMap=s(h,i.mapRoughnessRepeat,i.mapRoughnessOffset,i.mapRoughnessWrap,i.mapRoughnessAnisotropy);break;case"mapRoughnessRepeat":case"mapRoughnessOffset":case"mapRoughnessWrap":case"mapRoughnessAnisotropy":break;case"mapAlpha":l.alphaMap=s(h,i.mapAlphaRepeat,i.mapAlphaOffset,i.mapAlphaWrap,i.mapAlphaAnisotropy);break;case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":break;case"flipSided":l.side=no;break;case"doubleSided":l.side=ro;break;case"transparency":console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity"),l.opacity=h;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":l[c]=h;break;case"vertexColors":!0===h&&(l.vertexColors=uo),"face"===h&&(l.vertexColors=so);break;default:console.error("THREE.Loader.createMaterial: Unsupported",c,h)}}return"MeshBasicMaterial"===l.type&&delete l.emissive,"MeshPhongMaterial"!==l.type&&delete l.specular,l.opacity<1&&(l.transparent=!0),n.setTextures(u),n.parse(l)}}()},tr.Handlers={handlers:[],add:function(t,e){this.handlers.push(t,e)},get:function(t){for(var e=this.handlers,n=0,r=e.length;n<r;n+=2){var i=e[n],o=e[n+1];if(i.test(t))return o}return null}},Object.assign(er.prototype,{load:function(t,e,n,r){var i=this,o=this.texturePath&&"string"==typeof this.texturePath?this.texturePath:tr.prototype.extractUrlBase(t),a=new En(this.manager);a.setWithCredentials(this.withCredentials),a.load(t,function(n){var r=JSON.parse(n),a=r.metadata;if(void 0!==a){var s=a.type;if(void 0!==s){if("object"===s.toLowerCase())return void console.error("THREE.JSONLoader: "+t+" should be loaded with THREE.ObjectLoader instead.");if("scene"===s.toLowerCase())return void console.error("THREE.JSONLoader: "+t+" should be loaded with THREE.SceneLoader instead.")}}var u=i.parse(r,o);e(u.geometry,u.materials)},n,r)},setTexturePath:function(t){this.texturePath=t},parse:function(t,e){var r=new Tt,o=void 0!==t.scale?1/t.scale:1;if(function(e){function i(t,e){return t&1<<e}var o,a,s,l,c,h,f,d,p,m,g,v,y,b,w,x,_,E,M,S,T,C,I,O,A,L,R,N=t.faces,P=t.vertices,k=t.normals,D=t.colors,F=0;if(void 0!==t.uvs){for(o=0;o<t.uvs.length;o++)t.uvs[o].length&&F++;for(o=0;o<F;o++)r.faceVertexUvs[o]=[]}for(l=0,c=P.length;l<c;)E=new u,E.x=P[l++]*e,E.y=P[l++]*e,E.z=P[l++]*e,r.vertices.push(E);for(l=0,c=N.length;l<c;)if(m=N[l++],g=i(m,0),v=i(m,1),y=i(m,3),b=i(m,4),w=i(m,5),x=i(m,6),_=i(m,7),g){if(S=new ht,S.a=N[l],S.b=N[l+1],S.c=N[l+3],T=new ht,T.a=N[l+1],T.b=N[l+2],T.c=N[l+3],l+=4,v&&(p=N[l++],S.materialIndex=p,T.materialIndex=p),s=r.faces.length,y)for(o=0;o<F;o++)for(O=t.uvs[o],r.faceVertexUvs[o][s]=[],r.faceVertexUvs[o][s+1]=[],a=0;a<4;a++)d=N[l++],L=O[2*d],R=O[2*d+1],A=new n(L,R),2!==a&&r.faceVertexUvs[o][s].push(A),0!==a&&r.faceVertexUvs[o][s+1].push(A);if(b&&(f=3*N[l++],S.normal.set(k[f++],k[f++],k[f]),T.normal.copy(S.normal)),w)for(o=0;o<4;o++)f=3*N[l++],I=new u(k[f++],k[f++],k[f]),2!==o&&S.vertexNormals.push(I),0!==o&&T.vertexNormals.push(I);if(x&&(h=N[l++],C=D[h],S.color.setHex(C),T.color.setHex(C)),_)for(o=0;o<4;o++)h=N[l++],C=D[h],2!==o&&S.vertexColors.push(new q(C)),0!==o&&T.vertexColors.push(new q(C));r.faces.push(S),r.faces.push(T)}else{if(M=new ht,M.a=N[l++],M.b=N[l++],M.c=N[l++],v&&(p=N[l++],M.materialIndex=p),s=r.faces.length,y)for(o=0;o<F;o++)for(O=t.uvs[o],r.faceVertexUvs[o][s]=[],a=0;a<3;a++)d=N[l++],L=O[2*d],R=O[2*d+1],A=new n(L,R),r.faceVertexUvs[o][s].push(A);if(b&&(f=3*N[l++],M.normal.set(k[f++],k[f++],k[f])),w)for(o=0;o<3;o++)f=3*N[l++],I=new u(k[f++],k[f++],k[f]),M.vertexNormals.push(I);if(x&&(h=N[l++],M.color.setHex(D[h])),_)for(o=0;o<3;o++)h=N[l++],M.vertexColors.push(new q(D[h]));r.faces.push(M)}}(o),function(){var e=void 0!==t.influencesPerVertex?t.influencesPerVertex:2;if(t.skinWeights)for(var n=0,o=t.skinWeights.length;n<o;n+=e){var a=t.skinWeights[n],s=e>1?t.skinWeights[n+1]:0,u=e>2?t.skinWeights[n+2]:0,l=e>3?t.skinWeights[n+3]:0;r.skinWeights.push(new i(a,s,u,l))}if(t.skinIndices)for(var n=0,o=t.skinIndices.length;n<o;n+=e){var c=t.skinIndices[n],h=e>1?t.skinIndices[n+1]:0,f=e>2?t.skinIndices[n+2]:0,d=e>3?t.skinIndices[n+3]:0;r.skinIndices.push(new i(c,h,f,d))}r.bones=t.bones,r.bones&&r.bones.length>0&&(r.skinWeights.length!==r.skinIndices.length||r.skinIndices.length!==r.vertices.length)&&console.warn("When skinning, number of vertices ("+r.vertices.length+"), skinIndices ("+r.skinIndices.length+"), and skinWeights ("+r.skinWeights.length+") should match.")}(),function(e){if(void 0!==t.morphTargets)for(var n=0,i=t.morphTargets.length;n<i;n++){r.morphTargets[n]={},r.morphTargets[n].name=t.morphTargets[n].name,r.morphTargets[n].vertices=[];for(var o=r.morphTargets[n].vertices,a=t.morphTargets[n].vertices,s=0,l=a.length;s<l;s+=3){var c=new u;c.x=a[s]*e,c.y=a[s+1]*e,c.z=a[s+2]*e,o.push(c)}}if(void 0!==t.morphColors&&t.morphColors.length>0){console.warn('THREE.JSONLoader: "morphColors" no longer supported. Using them as face colors.');for(var h=r.faces,f=t.morphColors[0].colors,n=0,i=h.length;n<i;n++)h[n].color.fromArray(f,3*n)}}(o),function(){var e=[],n=[];void 0!==t.animation&&n.push(t.animation),void 0!==t.animations&&(t.animations.length?n=n.concat(t.animations):n.push(t.animations));for(var i=0;i<n.length;i++){var o=$n.parseAnimation(n[i],r.bones);o&&e.push(o)}if(r.morphTargets){var a=$n.CreateClipsFromMorphTargetSequences(r.morphTargets,10);e=e.concat(a)}e.length>0&&(r.animations=e)}(),r.computeFaceNormals(),r.computeBoundingSphere(),void 0===t.materials||0===t.materials.length)return{geometry:r};var a=tr.prototype.initMaterials(t.materials,e,this.crossOrigin);return{geometry:r,materials:a}}}),Object.assign(nr.prototype,{load:function(t,e,n,r){""===this.texturePath&&(this.texturePath=t.substring(0,t.lastIndexOf("/")+1));var i=this;new En(i.manager).load(t,function(n){var o=null;try{o=JSON.parse(n)}catch(e){return void 0!==r&&r(e),void console.error("THREE:ObjectLoader: Can't parse "+t+".",e.message)}var a=o.metadata;if(void 0===a||void 0===a.type||"geometry"===a.type.toLowerCase())return void console.error("THREE.ObjectLoader: Can't load "+t+". Use THREE.JSONLoader instead.");i.parse(o,e)},n,r)},setTexturePath:function(t){this.texturePath=t},setCrossOrigin:function(t){this.crossOrigin=t},parse:function(t,e){var n=this.parseGeometries(t.geometries),r=this.parseImages(t.images,function(){void 0!==e&&e(a)}),i=this.parseTextures(t.textures,r),o=this.parseMaterials(t.materials,i),a=this.parseObject(t.object,n,o);return t.animations&&(a.animations=this.parseAnimations(t.animations)),void 0!==t.images&&0!==t.images.length||void 0!==e&&e(a),a},parseGeometries:function(t){var e={};if(void 0!==t)for(var n=new er,r=new Jn,i=0,o=t.length;i<o;i++){var a,s=t[i];switch(s.type){case"PlaneGeometry":case"PlaneBufferGeometry":a=new gs[s.type](s.width,s.height,s.widthSegments,s.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":a=new gs[s.type](s.width,s.height,s.depth,s.widthSegments,s.heightSegments,s.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":a=new gs[s.type](s.radius,s.segments,s.thetaStart,s.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":a=new gs[s.type](s.radiusTop,s.radiusBottom,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":a=new gs[s.type](s.radius,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":a=new gs[s.type](s.radius,s.widthSegments,s.heightSegments,s.phiStart,s.phiLength,s.thetaStart,s.thetaLength);break;case"DodecahedronGeometry":case"IcosahedronGeometry":case"OctahedronGeometry":case"TetrahedronGeometry":a=new gs[s.type](s.radius,s.detail);break;case"RingGeometry":case"RingBufferGeometry":a=new gs[s.type](s.innerRadius,s.outerRadius,s.thetaSegments,s.phiSegments,s.thetaStart,s.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":a=new gs[s.type](s.radius,s.tube,s.radialSegments,s.tubularSegments,s.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":a=new gs[s.type](s.radius,s.tube,s.tubularSegments,s.radialSegments,s.p,s.q);break;case"LatheGeometry":case"LatheBufferGeometry":a=new gs[s.type](s.points,s.segments,s.phiStart,s.phiLength);break;case"BufferGeometry":a=r.parse(s);break;case"Geometry":a=n.parse(s.data,this.texturePath).geometry;break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+s.type+'"');continue}a.uuid=s.uuid,void 0!==s.name&&(a.name=s.name),e[s.uuid]=a}return e},parseMaterials:function(t,e){var n={};if(void 0!==t){var r=new Qn;r.setTextures(e);for(var i=0,o=t.length;i<o;i++){var a=r.parse(t[i]);n[a.uuid]=a}}return n},parseAnimations:function(t){for(var e=[],n=0;n<t.length;n++){var r=$n.parse(t[n]);e.push(r)}return e},parseImages:function(t,e){var n=this,r={};if(void 0!==t&&t.length>0){var i=new _n(e),o=new Tn(i);o.setCrossOrigin(this.crossOrigin);for(var a=0,s=t.length;a<s;a++){var u=t[a],l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u.url)?u.url:n.texturePath+u.url;r[u.uuid]=function(t){return n.manager.itemStart(t),o.load(t,function(){n.manager.itemEnd(t)},void 0,function(){n.manager.itemError(t)})}(l)}}return r},parseTextures:function(t,e){function n(t,e){return"number"==typeof t?t:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",t),e[t])}var i={UVMapping:300,CubeReflectionMapping:Xo,CubeRefractionMapping:Zo,EquirectangularReflectionMapping:Ko,EquirectangularRefractionMapping:$o,SphericalReflectionMapping:Qo,CubeUVReflectionMapping:Jo,CubeUVRefractionMapping:ta},o={RepeatWrapping:ea,ClampToEdgeWrapping:na,MirroredRepeatWrapping:ra},a={NearestFilter:ia,NearestMipMapNearestFilter:oa,NearestMipMapLinearFilter:aa,LinearFilter:sa,LinearMipMapNearestFilter:ua,LinearMipMapLinearFilter:la},s={};if(void 0!==t)for(var u=0,l=t.length;u<l;u++){var c=t[u];void 0===c.image&&console.warn('THREE.ObjectLoader: No "image" specified for',c.uuid),void 0===e[c.image]&&console.warn("THREE.ObjectLoader: Undefined image",c.image);var h=new r(e[c.image]);h.needsUpdate=!0,h.uuid=c.uuid,void 0!==c.name&&(h.name=c.name),void 0!==c.mapping&&(h.mapping=n(c.mapping,i)),void 0!==c.offset&&h.offset.fromArray(c.offset),void 0!==c.repeat&&h.repeat.fromArray(c.repeat),void 0!==c.wrap&&(h.wrapS=n(c.wrap[0],o),h.wrapT=n(c.wrap[1],o)),void 0!==c.minFilter&&(h.minFilter=n(c.minFilter,a)),void 0!==c.magFilter&&(h.magFilter=n(c.magFilter,a)),void 0!==c.anisotropy&&(h.anisotropy=c.anisotropy),void 0!==c.flipY&&(h.flipY=c.flipY),s[c.uuid]=h}return s},parseObject:function(){var t=new l;return function(e,n,r){function i(t){return void 0===n[t]&&console.warn("THREE.ObjectLoader: Undefined geometry",t),n[t]}function o(t){if(void 0!==t)return void 0===r[t]&&console.warn("THREE.ObjectLoader: Undefined material",t),r[t]}var a;switch(e.type){case"Scene":a=new he,void 0!==e.background&&Number.isInteger(e.background)&&(a.background=new q(e.background)),void 0!==e.fog&&("Fog"===e.fog.type?a.fog=new ce(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(a.fog=new le(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":a=new Pt(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(a.focus=e.focus),void 0!==e.zoom&&(a.zoom=e.zoom),void 0!==e.filmGauge&&(a.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(a.filmOffset=e.filmOffset),void 0!==e.view&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new kt(e.left,e.right,e.top,e.bottom,e.near,e.far);break;case"AmbientLight":a=new Fn(e.color,e.intensity);break;case"DirectionalLight":a=new Dn(e.color,e.intensity);break;case"PointLight":a=new Pn(e.color,e.intensity,e.distance,e.decay);break;case"SpotLight":a=new Nn(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":a=new An(e.color,e.groundColor,e.intensity);break;case"Mesh":var s=i(e.geometry),u=o(e.material);a=s.bones&&s.bones.length>0?new ye(s,u):new It(s,u);break;case"LOD":a=new me;break;case"Line":a=new we(i(e.geometry),o(e.material),e.mode);break;case"LineSegments":a=new xe(i(e.geometry),o(e.material));break;case"PointCloud":case"Points":a=new Ee(i(e.geometry),o(e.material));break;case"Sprite":a=new pe(o(e.material));break;case"Group":a=new Me;break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh type. Instantiates Object3D instead.");default:a=new ut}if(a.uuid=e.uuid,void 0!==e.name&&(a.name=e.name),void 0!==e.matrix?(t.fromArray(e.matrix),t.decompose(a.position,a.quaternion,a.scale)):(void 0!==e.position&&a.position.fromArray(e.position),void 0!==e.rotation&&a.rotation.fromArray(e.rotation),void 0!==e.quaternion&&a.quaternion.fromArray(e.quaternion),void 0!==e.scale&&a.scale.fromArray(e.scale)),void 0!==e.castShadow&&(a.castShadow=e.castShadow),void 0!==e.receiveShadow&&(a.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(a.shadow.bias=e.shadow.bias),void 0!==e.shadow.radius&&(a.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&a.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(a.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(a.visible=e.visible),void 0!==e.userData&&(a.userData=e.userData),void 0!==e.children)for(var l in e.children)a.add(this.parseObject(e.children[l],n,r));if("LOD"===e.type)for(var c=e.levels,h=0;h<c.length;h++){var f=c[h],l=a.getObjectByProperty("uuid",f.object);void 0!==l&&a.addLevel(l,f.distance)}return a}}()}),dr.prototype={constructor:dr,getPoint:function(t){return console.warn("THREE.Curve: Warning, getPoint() not implemented!"),null},getPointAt:function(t){var e=this.getUtoTmapping(t);return this.getPoint(e)},getPoints:function(t){isNaN(t)&&(t=5);for(var e=[],n=0;n<=t;n++)e.push(this.getPoint(n/t));return e},getSpacedPoints:function(t){isNaN(t)&&(t=5);for(var e=[],n=0;n<=t;n++)e.push(this.getPointAt(n/t));return e},getLength:function(){var t=this.getLengths();return t[t.length-1]},getLengths:function(t){if(isNaN(t)&&(t=this.__arcLengthDivisions?this.__arcLengthDivisions:200),this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var e,n,r=[],i=this.getPoint(0),o=0;for(r.push(0),n=1;n<=t;n++)e=this.getPoint(n/t),o+=e.distanceTo(i),r.push(o),i=e;return this.cacheArcLengths=r,r},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(t,e){var n,r=this.getLengths(),i=0,o=r.length;n=e||t*r[o-1];for(var a,s=0,u=o-1;s<=u;)if(i=Math.floor(s+(u-s)/2),(a=r[i]-n)<0)s=i+1;else{if(!(a>0)){u=i;break}u=i-1}if(i=u,r[i]===n){var l=i/(o-1);return l}var c=r[i],h=r[i+1],f=h-c,d=(n-c)/f,l=(i+d)/(o-1);return l},getTangent:function(t){var e=t-1e-4,n=t+1e-4;e<0&&(e=0),n>1&&(n=1);var r=this.getPoint(e);return this.getPoint(n).clone().sub(r).normalize()},getTangentAt:function(t){var e=this.getUtoTmapping(t);return this.getTangent(e)},computeFrenetFrames:function(t,e){var n,r,i,o=new u,a=[],s=[],c=[],h=new u,f=new l;for(n=0;n<=t;n++)r=n/t,a[n]=this.getTangentAt(r),a[n].normalize();s[0]=new u,c[0]=new u;var d=Number.MAX_VALUE,p=Math.abs(a[0].x),m=Math.abs(a[0].y),g=Math.abs(a[0].z);for(p<=d&&(d=p,o.set(1,0,0)),m<=d&&(d=m,o.set(0,1,0)),g<=d&&o.set(0,0,1),h.crossVectors(a[0],o).normalize(),s[0].crossVectors(a[0],h),c[0].crossVectors(a[0],s[0]),n=1;n<=t;n++)s[n]=s[n-1].clone(),c[n]=c[n-1].clone(),h.crossVectors(a[n-1],a[n]),h.length()>Number.EPSILON&&(h.normalize(),i=Math.acos(Ja.clamp(a[n-1].dot(a[n]),-1,1)),s[n].applyMatrix4(f.makeRotationAxis(h,i))),c[n].crossVectors(a[n],s[n]);if(!0===e)for(i=Math.acos(Ja.clamp(s[0].dot(s[t]),-1,1)),i/=t,a[0].dot(h.crossVectors(s[0],s[t]))>0&&(i=-i),n=1;n<=t;n++)s[n].applyMatrix4(f.makeRotationAxis(a[n],i*n)),c[n].crossVectors(a[n],s[n]);return{tangents:a,normals:s,binormals:c}}},pr.prototype=Object.create(dr.prototype),pr.prototype.constructor=pr,pr.prototype.isLineCurve=!0,pr.prototype.getPoint=function(t){if(1===t)return this.v2.clone();var e=this.v2.clone().sub(this.v1);return e.multiplyScalar(t).add(this.v1),e},pr.prototype.getPointAt=function(t){return this.getPoint(t)},pr.prototype.getTangent=function(t){return this.v2.clone().sub(this.v1).normalize()},mr.prototype=Object.assign(Object.create(dr.prototype),{constructor:mr,add:function(t){this.curves.push(t)},closePath:function(){var t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new pr(e,t))},getPoint:function(t){for(var e=t*this.getLength(),n=this.getCurveLengths(),r=0;r<n.length;){if(n[r]>=e){var i=n[r]-e,o=this.curves[r],a=o.getLength(),s=0===a?0:1-i/a;return o.getPointAt(s)}r++}return null},getLength:function(){var t=this.getCurveLengths();return t[t.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var t=[],e=0,n=0,r=this.curves.length;n<r;n++)e+=this.curves[n].getLength(),t.push(e);return this.cacheLengths=t,t},getSpacedPoints:function(t){isNaN(t)&&(t=40);for(var e=[],n=0;n<=t;n++)e.push(this.getPoint(n/t));return this.autoClose&&e.push(e[0]),e},getPoints:function(t){t=t||12;for(var e,n=[],r=0,i=this.curves;r<i.length;r++)for(var o=i[r],a=o&&o.isEllipseCurve?2*t:o&&o.isLineCurve?1:o&&o.isSplineCurve?t*o.points.length:t,s=o.getPoints(a),u=0;u<s.length;u++){var l=s[u];e&&e.equals(l)||(n.push(l),e=l)}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n},createPointsGeometry:function(t){var e=this.getPoints(t);return this.createGeometry(e)},createSpacedPointsGeometry:function(t){var e=this.getSpacedPoints(t);return this.createGeometry(e)},createGeometry:function(t){for(var e=new Tt,n=0,r=t.length;n<r;n++){var i=t[n];e.vertices.push(new u(i.x,i.y,i.z||0))}return e}}),gr.prototype=Object.create(dr.prototype),gr.prototype.constructor=gr,gr.prototype.isEllipseCurve=!0,gr.prototype.getPoint=function(t){for(var e=2*Math.PI,r=this.aEndAngle-this.aStartAngle,i=Math.abs(r)<Number.EPSILON;r<0;)r+=e;for(;r>e;)r-=e;r<Number.EPSILON&&(r=i?0:e),!0!==this.aClockwise||i||(r===e?r=-e:r-=e);var o=this.aStartAngle+t*r,a=this.aX+this.xRadius*Math.cos(o),s=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){var u=Math.cos(this.aRotation),l=Math.sin(this.aRotation),c=a-this.aX,h=s-this.aY;a=c*u-h*l+this.aX,s=c*l+h*u+this.aY}return new n(a,s)},vr.prototype=Object.create(dr.prototype),vr.prototype.constructor=vr,vr.prototype.isSplineCurve=!0,vr.prototype.getPoint=function(t){var e=this.points,r=(e.length-1)*t,i=Math.floor(r),o=r-i,a=e[0===i?i:i-1],s=e[i],u=e[i>e.length-2?e.length-1:i+1],l=e[i>e.length-3?e.length-1:i+2];return new n(rr(o,a.x,s.x,u.x,l.x),rr(o,a.y,s.y,u.y,l.y))},yr.prototype=Object.create(dr.prototype),yr.prototype.constructor=yr,yr.prototype.getPoint=function(t){var e=this.v0,r=this.v1,i=this.v2,o=this.v3;return new n(fr(t,e.x,r.x,i.x,o.x),fr(t,e.y,r.y,i.y,o.y))},br.prototype=Object.create(dr.prototype),br.prototype.constructor=br,br.prototype.getPoint=function(t){var e=this.v0,r=this.v1,i=this.v2;return new n(sr(t,e.x,r.x,i.x),sr(t,e.y,r.y,i.y))};var _s=Object.assign(Object.create(mr.prototype),{fromPoints:function(t){this.moveTo(t[0].x,t[0].y);for(var e=1,n=t.length;e<n;e++)this.lineTo(t[e].x,t[e].y)},moveTo:function(t,e){this.currentPoint.set(t,e)},lineTo:function(t,e){var r=new pr(this.currentPoint.clone(),new n(t,e));this.curves.push(r),this.currentPoint.set(t,e)},quadraticCurveTo:function(t,e,r,i){var o=new br(this.currentPoint.clone(),new n(t,e),new n(r,i));this.curves.push(o),this.currentPoint.set(r,i)},bezierCurveTo:function(t,e,r,i,o,a){var s=new yr(this.currentPoint.clone(),new n(t,e),new n(r,i),new n(o,a));this.curves.push(s),this.currentPoint.set(o,a)},splineThru:function(t){var e=[this.currentPoint.clone()].concat(t),n=new vr(e);this.curves.push(n),this.currentPoint.copy(t[t.length-1])},arc:function(t,e,n,r,i,o){var a=this.currentPoint.x,s=this.currentPoint.y;this.absarc(t+a,e+s,n,r,i,o)},absarc:function(t,e,n,r,i,o){this.absellipse(t,e,n,n,r,i,o)},ellipse:function(t,e,n,r,i,o,a,s){var u=this.currentPoint.x,l=this.currentPoint.y;this.absellipse(t+u,e+l,n,r,i,o,a,s)},absellipse:function(t,e,n,r,i,o,a,s){var u=new gr(t,e,n,r,i,o,a,s);if(this.curves.length>0){var l=u.getPoint(0);l.equals(this.currentPoint)||this.lineTo(l.x,l.y)}this.curves.push(u);var c=u.getPoint(1);this.currentPoint.copy(c)}});wr.prototype=_s,_s.constructor=wr,xr.prototype=Object.assign(Object.create(_s),{constructor:xr,getPointsHoles:function(t){for(var e=[],n=0,r=this.holes.length;n<r;n++)e[n]=this.holes[n].getPoints(t);return e},extractAllPoints:function(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}},extractPoints:function(t){return this.extractAllPoints(t)}}),_r.prototype={moveTo:function(t,e){this.currentPath=new wr,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e)},lineTo:function(t,e){this.currentPath.lineTo(t,e)},quadraticCurveTo:function(t,e,n,r){this.currentPath.quadraticCurveTo(t,e,n,r)},bezierCurveTo:function(t,e,n,r,i,o){this.currentPath.bezierCurveTo(t,e,n,r,i,o)},splineThru:function(t){this.currentPath.splineThru(t)},toShapes:function(t,e){function n(t){for(var e=[],n=0,r=t.length;n<r;n++){var i=t[n],o=new xr;o.curves=i.curves,e.push(o)}return e}var r=ms.isClockWise,i=this.subPaths;if(0===i.length)return[];if(!0===e)return n(i);var o,a,s,u=[];if(1===i.length)return a=i[0],s=new xr,s.curves=a.curves,u.push(s),u;var l=!r(i[0].getPoints());l=t?!l:l;var c,h=[],f=[],d=[],p=0;f[p]=void 0,d[p]=[];for(var m=0,g=i.length;m<g;m++)a=i[m],c=a.getPoints(),o=r(c),o=t?!o:o,o?(!l&&f[p]&&p++,f[p]={s:new xr,p:c},f[p].s.curves=a.curves,l&&p++,d[p]=[]):d[p].push({h:a,p:c[0]});if(!f[0])return n(i);if(f.length>1){for(var v=!1,y=[],b=0,w=f.length;b<w;b++)h[b]=[];for(var b=0,w=f.length;b<w;b++)for(var x=d[b],_=0;_<x.length;_++){for(var E=x[_],M=!0,S=0;S<f.length;S++)(function(t,e){for(var n=e.length,r=!1,i=n-1,o=0;o<n;i=o++){var a=e[i],s=e[o],u=s.x-a.x,l=s.y-a.y;if(Math.abs(l)>Number.EPSILON){if(l<0&&(a=e[o],u=-u,s=e[i],l=-l),t.y<a.y||t.y>s.y)continue;if(t.y===a.y){if(t.x===a.x)return!0}else{var c=l*(t.x-a.x)-u*(t.y-a.y);if(0===c)return!0;if(c<0)continue;r=!r}}else{if(t.y!==a.y)continue;if(s.x<=t.x&&t.x<=a.x||a.x<=t.x&&t.x<=s.x)return!0}}return r})(E.p,f[S].p)&&(b!==S&&y.push({froms:b,tos:S,hole:_}),M?(M=!1,h[S].push(E)):v=!0);M&&h[b].push(E)}y.length>0&&(v||(d=h))}for(var T,m=0,C=f.length;m<C;m++){s=f[m].s,u.push(s),T=d[m];for(var I=0,O=T.length;I<O;I++)s.holes.push(T[I].h)}return u}},Object.assign(Er.prototype,{isFont:!0,generateShapes:function(t,e,n){function r(t,e,r,o){var a=i.glyphs[t]||i.glyphs["?"];if(a){var s,u,l,c,h,f,d,p,m,g,v,y=new _r,b=[];if(a.o)for(var w=a._cachedOutline||(a._cachedOutline=a.o.split(" ")),x=0,_=w.length;x<_;){var E=w[x++];switch(E){case"m":s=w[x++]*e+r,u=w[x++]*e+o,y.moveTo(s,u);break;case"l":s=w[x++]*e+r,u=w[x++]*e+o,y.lineTo(s,u);break;case"q":if(l=w[x++]*e+r,c=w[x++]*e+o,d=w[x++]*e+r,p=w[x++]*e+o,y.quadraticCurveTo(d,p,l,c),v=b[b.length-1]){h=v.x,f=v.y;for(var M=1;M<=n;M++){var S=M/n;sr(S,h,d,l),sr(S,f,p,c)}}break;case"b":if(l=w[x++]*e+r,c=w[x++]*e+o,d=w[x++]*e+r,p=w[x++]*e+o,m=w[x++]*e+r,g=w[x++]*e+o,y.bezierCurveTo(d,p,m,g,l,c),v=b[b.length-1]){h=v.x,f=v.y;for(var M=1;M<=n;M++){var S=M/n;fr(S,h,d,m,l),fr(S,f,p,g,c)}}}}return{offsetX:a.ha*e,path:y}}}void 0===e&&(e=100),void 0===n&&(n=4);for(var i=this.data,o=function(t){for(var n=String(t).split(""),o=e/i.resolution,a=(i.boundingBox.yMax-i.boundingBox.yMin+i.underlineThickness)*o,s=0,u=0,l=[],c=0;c<n.length;c++){var h=n[c];if("\n"===h)s=0,u-=a;else{var f=r(h,o,s,u);s+=f.offsetX,l.push(f.path)}}return l}(t),a=[],s=0,u=o.length;s<u;s++)Array.prototype.push.apply(a,o[s].toShapes());return a}}),Object.assign(Mr.prototype,{load:function(t,e,n,r){var i=this;new En(this.manager).load(t,function(t){var n;try{n=JSON.parse(t)}catch(e){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),n=JSON.parse(t.substring(65,t.length-2))}var r=i.parse(n);e&&e(r)},n,r)},parse:function(t){return new Er(t)}});var Es,Ms={getContext:function(){return void 0===Es&&(Es=new(window.AudioContext||window.webkitAudioContext)),Es},setContext:function(t){Es=t}};Object.assign(Sr.prototype,{load:function(t,e,n,r){var i=new En(this.manager);i.setResponseType("arraybuffer"),i.load(t,function(t){Ms.getContext().decodeAudioData(t,function(t){e(t)})},n,r)}}),Tr.prototype=Object.assign(Object.create(On.prototype),{constructor:Tr,isRectAreaLight:!0,copy:function(t){return On.prototype.copy.call(this,t),this.width=t.width,this.height=t.height,this}}),Object.assign(Cr.prototype,{update:function(){var t,e,n,r,i,o,a,s=new l,u=new l;return function(l){if(t!==this||e!==l.focus||n!==l.fov||r!==l.aspect*this.aspect||i!==l.near||o!==l.far||a!==l.zoom){t=this,e=l.focus,n=l.fov,r=l.aspect*this.aspect,i=l.near,o=l.far,a=l.zoom;var c,h,f=l.projectionMatrix.clone(),d=this.eyeSep/2,p=d*i/e,m=i*Math.tan(Ja.DEG2RAD*n*.5)/a;u.elements[12]=-d,s.elements[12]=d,c=-m*r+p,h=m*r+p,f.elements[0]=2*i/(h-c),f.elements[8]=(h+c)/(h-c),this.cameraL.projectionMatrix.copy(f),c=-m*r-p,h=m*r-p,f.elements[0]=2*i/(h-c),f.elements[8]=(h+c)/(h-c),this.cameraR.projectionMatrix.copy(f)}this.cameraL.matrixWorld.copy(l.matrixWorld).multiply(u),this.cameraR.matrixWorld.copy(l.matrixWorld).multiply(s)}}()}),Ir.prototype=Object.create(ut.prototype),Ir.prototype.constructor=Ir,Or.prototype=Object.assign(Object.create(ut.prototype),{constructor:Or,getInput:function(){return this.gain},removeFilter:function(){null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null)},getFilter:function(){return this.filter},setFilter:function(t){null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination)},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(t){this.gain.gain.value=t},updateMatrixWorld:function(){var t=new u,e=new s,n=new u,r=new u;return function(i){ut.prototype.updateMatrixWorld.call(this,i);var o=this.context.listener,a=this.up;this.matrixWorld.decompose(t,e,n),r.set(0,0,-1).applyQuaternion(e),o.positionX?(o.positionX.setValueAtTime(t.x,this.context.currentTime),o.positionY.setValueAtTime(t.y,this.context.currentTime),o.positionZ.setValueAtTime(t.z,this.context.currentTime),o.forwardX.setValueAtTime(r.x,this.context.currentTime),o.forwardY.setValueAtTime(r.y,this.context.currentTime),o.forwardZ.setValueAtTime(r.z,this.context.currentTime),o.upX.setValueAtTime(a.x,this.context.currentTime),o.upY.setValueAtTime(a.y,this.context.currentTime),o.upZ.setValueAtTime(a.z,this.context.currentTime)):(o.setPosition(t.x,t.y,t.z),o.setOrientation(r.x,r.y,r.z,a.x,a.y,a.z))}}()}),Ar.prototype=Object.assign(Object.create(ut.prototype),{constructor:Ar,getOutput:function(){return this.gain},setNodeSource:function(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this},setBuffer:function(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(){if(!0===this.isPlaying)return void console.warn("THREE.Audio: Audio is already playing.");if(!1===this.hasPlaybackControl)return void console.warn("THREE.Audio: this Audio has no playback control.");var t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.onended=this.onEnded.bind(this),t.playbackRate.setValueAtTime(this.playbackRate,this.startTime),t.start(0,this.startTime),this.isPlaying=!0,this.source=t,this.connect()},pause:function(){return!1===this.hasPlaybackControl?void console.warn("THREE.Audio: this Audio has no playback control."):(this.source.stop(),this.startTime=this.context.currentTime,this.isPlaying=!1,this)},stop:function(){return!1===this.hasPlaybackControl?void console.warn("THREE.Audio: this Audio has no playback control."):(this.source.stop(),this.startTime=0,this.isPlaying=!1,this)},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(t){return t||(t=[]),!0===this.isPlaying?(this.disconnect(),this.filters=t,this.connect()):this.filters=t,this},getFilter:function(){return this.getFilters()[0]},setFilter:function(t){return this.setFilters(t?[t]:[])},setPlaybackRate:function(t){return!1===this.hasPlaybackControl?void console.warn("THREE.Audio: this Audio has no playback control."):(this.playbackRate=t,!0===this.isPlaying&&this.source.playbackRate.setValueAtTime(this.playbackRate,this.context.currentTime),this)},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(t){return!1===this.hasPlaybackControl?void console.warn("THREE.Audio: this Audio has no playback control."):(this.loop=t,!0===this.isPlaying&&(this.source.loop=this.loop),this)},getVolume:function(){return this.gain.gain.value},setVolume:function(t){return this.gain.gain.value=t,this}}),Lr.prototype=Object.assign(Object.create(Ar.prototype),{constructor:Lr,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(t){this.panner.refDistance=t},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(t){this.panner.rolloffFactor=t},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(t){this.panner.distanceModel=t},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(t){this.panner.maxDistance=t},updateMatrixWorld:function(){var t=new u;return function(e){ut.prototype.updateMatrixWorld.call(this,e),t.setFromMatrixPosition(this.matrixWorld),this.panner.setPosition(t.x,t.y,t.z)}}()}),Object.assign(Rr.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var t=0,e=this.getFrequencyData(),n=0;n<e.length;n++)t+=e[n];return t/e.length}}),Nr.prototype={constructor:Nr,accumulate:function(t,e){var n=this.buffer,r=this.valueSize,i=t*r+r,o=this.cumulativeWeight;if(0===o){for(var a=0;a!==r;++a)n[i+a]=n[a];o=e}else{o+=e;var s=e/o;this._mixBufferRegion(n,i,0,s,r)}this.cumulativeWeight=o},apply:function(t){var e=this.valueSize,n=this.buffer,r=t*e+e,i=this.cumulativeWeight,o=this.binding;if(this.cumulativeWeight=0,i<1){var a=3*e;this._mixBufferRegion(n,r,a,1-i,e)}for(var s=e,u=e+e;s!==u;++s)if(n[s]!==n[s+e]){o.setValue(n,r);break}},saveOriginalState:function(){var t=this.binding,e=this.buffer,n=this.valueSize,r=3*n;t.getValue(e,r);for(var i=n,o=r;i!==o;++i)e[i]=e[r+i%n];this.cumulativeWeight=0},restoreOriginalState:function(){var t=3*this.valueSize;this.binding.setValue(this.buffer,t)},_select:function(t,e,n,r,i){if(r>=.5)for(var o=0;o!==i;++o)t[e+o]=t[n+o]},_slerp:function(t,e,n,r,i){s.slerpFlat(t,e,t,e,t,n,r)},_lerp:function(t,e,n,r,i){for(var o=1-r,a=0;a!==i;++a){var s=e+a;t[s]=t[s]*o+t[n+a]*r}}},Pr.prototype={constructor:Pr,getValue:function(t,e){this.bind(),this.getValue(t,e)},setValue:function(t,e){this.bind(),this.setValue(t,e)},bind:function(){var t=this.node,e=this.parsedPath,n=e.objectName,r=e.propertyName,i=e.propertyIndex;if(t||(t=Pr.findNode(this.rootNode,e.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t)return void console.error("  trying to update node for track: "+this.path+" but it wasn't found.");if(n){var o=e.objectIndex;switch(n){case"materials":if(!t.material)return void console.error("  can not bind to material as node does not have a material",this);if(!t.material.materials)return void console.error("  can not bind to material.materials as node.material does not have a materials array",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("  can not bind to bones as node does not have a skeleton",this);t=t.skeleton.bones;for(var a=0;a<t.length;a++)if(t[a].name===o){o=a;break}break;default:if(void 0===t[n])return void console.error("  can not bind to objectName of node, undefined",this);t=t[n]}if(void 0!==o){if(void 0===t[o])return void console.error("  trying to bind to objectIndex of objectName, but is undefined:",this,t);t=t[o]}}var s=t[r];if(void 0===s){var u=e.nodeName;return void console.error("  trying to update property for track: "+u+"."+r+" but it wasn't found.",t)}var l=this.Versioning.None;void 0!==t.needsUpdate?(l=this.Versioning.NeedsUpdate,this.targetObject=t):void 0!==t.matrixWorldNeedsUpdate&&(l=this.Versioning.MatrixWorldNeedsUpdate,this.targetObject=t);var c=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===r){if(!t.geometry)return void console.error("  can not bind to morphTargetInfluences becasuse node does not have a geometry",this);if(!t.geometry.morphTargets)return void console.error("  can not bind to morphTargetInfluences becasuse node does not have a geometry.morphTargets",this);for(var a=0;a<this.node.geometry.morphTargets.length;a++)if(t.geometry.morphTargets[a].name===i){i=a;break}}c=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=i}else void 0!==s.fromArray&&void 0!==s.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=s):void 0!==s.length?(c=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=r;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][l]},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}},Object.assign(Pr.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},_getValue_unbound:Pr.prototype.getValue,_setValue_unbound:Pr.prototype.setValue,BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(t,e){t[e]=this.node[this.propertyName]},function(t,e){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)t[e++]=n[r]},function(t,e){t[e]=this.resolvedProperty[this.propertyIndex]},function(t,e){this.resolvedProperty.toArray(t,e)}],SetterByBindingTypeAndVersioning:[[function(t,e){this.node[this.propertyName]=t[e]},function(t,e){this.node[this.propertyName]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.node[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=t[e++]},function(t,e){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=t[e++];this.targetObject.needsUpdate=!0},function(t,e){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty[this.propertyIndex]=t[e]},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty.fromArray(t,e)},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}]]}),Pr.Composite=function(t,e,n){var r=n||Pr.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,r)},Pr.Composite.prototype={constructor:Pr.Composite,getValue:function(t,e){this.bind();var n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(t,e)},setValue:function(t,e){for(var n=this._bindings,r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(t,e)},bind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].bind()},unbind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].unbind()}},Pr.create=function(t,e,n){return t&&t.isAnimationObjectGroup?new Pr.Composite(t,e,n):new Pr(t,e,n)},Pr.parseTrackName=function(t){var e=/^((?:[\w-]+[\/:])*)([\w-]+)?(?:\.([\w-]+)(?:\[(.+)\])?)?\.([\w-]+)(?:\[(.+)\])?$/,n=e.exec(t);if(!n)throw new Error("cannot parse trackName at all: "+t);var r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]};if(null===r.propertyName||0===r.propertyName.length)throw new Error("can not parse propertyName from trackName: "+t);return r},Pr.findNode=function(t,e){if(!e||""===e||"root"===e||"."===e||-1===e||e===t.name||e===t.uuid)return t;if(t.skeleton){var n=function(t){for(var n=0;n<t.bones.length;n++){var r=t.bones[n];if(r.name===e)return r}return null}(t.skeleton);if(n)return n}if(t.children){var r=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.name===e||i.uuid===e)return i;var o=r(i.children);if(o)return o}return null},i=r(t.children);if(i)return i}return null},kr.prototype={constructor:kr,isAnimationObjectGroup:!0,add:function(t){for(var e=this._objects,n=e.length,r=this.nCachedObjects_,i=this._indicesByUUID,o=this._paths,a=this._parsedPaths,s=this._bindings,u=s.length,l=0,c=arguments.length;l!==c;++l){var h=arguments[l],f=h.uuid,d=i[f],p=void 0;if(void 0===d){d=n++,i[f]=d,e.push(h);for(var m=0,g=u;m!==g;++m)s[m].push(new Pr(h,o[m],a[m]))}else if(d<r){p=e[d];var v=--r,y=e[v];i[y.uuid]=d,e[d]=y,i[f]=v,e[v]=h;for(var m=0,g=u;m!==g;++m){var b=s[m],w=b[v],x=b[d];b[d]=w,void 0===x&&(x=new Pr(h,o[m],a[m])),b[v]=x}}else e[d]!==p&&console.error("Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes...")}this.nCachedObjects_=r},remove:function(t){for(var e=this._objects,n=this.nCachedObjects_,r=this._indicesByUUID,i=this._bindings,o=i.length,a=0,s=arguments.length;a!==s;++a){var u=arguments[a],l=u.uuid,c=r[l];if(void 0!==c&&c>=n){var h=n++,f=e[h];r[f.uuid]=c,e[c]=f,r[l]=h,e[h]=u;for(var d=0,p=o;d!==p;++d){var m=i[d],g=m[h],v=m[c];m[c]=g,m[h]=v}}}this.nCachedObjects_=n},uncache:function(t){for(var e=this._objects,n=e.length,r=this.nCachedObjects_,i=this._indicesByUUID,o=this._bindings,a=o.length,s=0,u=arguments.length;s!==u;++s){var l=arguments[s],c=l.uuid,h=i[c];if(void 0!==h)if(delete i[c],h<r){var f=--r,d=e[f],p=--n,m=e[p];i[d.uuid]=h,e[h]=d,i[m.uuid]=f,e[f]=m,e.pop();for(var g=0,v=a;g!==v;++g){var y=o[g],b=y[f],w=y[p];y[h]=b,y[f]=w,y.pop()}}else{var p=--n,m=e[p];i[m.uuid]=h,e[h]=m,e.pop();for(var g=0,v=a;g!==v;++g){var y=o[g];y[h]=y[p],y.pop()}}}this.nCachedObjects_=r},subscribe_:function(t,e){var n=this._bindingsIndicesByPath,r=n[t],i=this._bindings;if(void 0!==r)return i[r];var o=this._paths,a=this._parsedPaths,s=this._objects,u=s.length,l=this.nCachedObjects_,c=new Array(u);r=i.length,n[t]=r,o.push(t),a.push(e),i.push(c);for(var h=l,f=s.length;h!==f;++h){var d=s[h];c[h]=new Pr(d,t,e)}return c},unsubscribe_:function(t){var e=this._bindingsIndicesByPath,n=e[t];if(void 0!==n){var r=this._paths,i=this._parsedPaths,o=this._bindings,a=o.length-1,s=o[a];e[t[a]]=n,o[n]=s,o.pop(),i[n]=i[a],i.pop(),r[n]=r[a],r.pop()}}},Dr.prototype={constructor:Dr,play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(t){return this._startTime=t,this},setLoop:function(t,e){return this.loop=t,this.repetitions=e,this},setEffectiveWeight:function(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(t){return this._scheduleFading(t,0,1)},fadeOut:function(t){return this._scheduleFading(t,1,0)},crossFadeFrom:function(t,e,n){if(t.fadeOut(e),this.fadeIn(e),n){var r=this._clip.duration,i=t._clip.duration,o=i/r,a=r/i;t.warp(1,o,e),this.warp(a,1,e)}return this},crossFadeTo:function(t,e,n){return t.crossFadeFrom(this,e,n)},stopFading:function(){var t=this._weightInterpolant;return null!==t&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},setEffectiveTimeScale:function(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(t){return this.timeScale=this._clip.duration/t,this.stopWarping()},syncWith:function(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()},halt:function(t){return this.warp(this._effectiveTimeScale,0,t)},warp:function(t,e,n){var r=this._mixer,i=r.time,o=this._timeScaleInterpolant,a=this.timeScale;null===o&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);var s=o.parameterPositions,u=o.sampleValues;return s[0]=i,s[1]=i+n,u[0]=t/a,u[1]=e/a,this},stopWarping:function(){var t=this._timeScaleInterpolant;return null!==t&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(t,e,n,r){var i=this._startTime;if(null!==i){var o=(t-i)*n;if(o<0||0===n)return;this._startTime=null,e=n*o}e*=this._updateTimeScale(t);var a=this._updateTime(e),s=this._updateWeight(t);if(s>0)for(var u=this._interpolants,l=this._propertyBindings,c=0,h=u.length;c!==h;++c)u[c].evaluate(a),l[c].accumulate(r,s)},_updateWeight:function(t){var e=0;if(this.enabled){e=this.weight;var n=this._weightInterpolant;if(null!==n){var r=n.evaluate(t)[0];e*=r,t>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=e,e},_updateTimeScale:function(t){var e=0;if(!this.paused){e=this.timeScale;var n=this._timeScaleInterpolant;if(null!==n){e*=n.evaluate(t)[0],t>n.parameterPositions[1]&&(this.stopWarping(),0===e?this.paused=!0:this.timeScale=e)}}return this._effectiveTimeScale=e,e},_updateTime:function(t){var e=this.time+t;if(0===t)return e;var n=this._clip.duration,r=this.loop,i=this._loopCount;if(2200===r){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(e>=n)e=n;else{if(!(e<0))break t;e=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{var o=2202===r;if(-1===i&&(t>=0?(i=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),e>=n||e<0){var a=Math.floor(e/n);e-=n*a,i+=Math.abs(a);var s=this.repetitions-i;if(s<0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,e=t>0?n:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(0===s){var u=t<0;this._setEndings(u,!u,o)}else this._setEndings(!1,!1,o);this._loopCount=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}if(o&&1==(1&i))return this.time=e,n-e}return this.time=e,e},_setEndings:function(t,e,n){var r=this._interpolantSettings;n?(r.endingStart=2401,r.endingEnd=2401):(r.endingStart=t?this.zeroSlopeAtStart?2401:Ba:2402,r.endingEnd=e?this.zeroSlopeAtEnd?2401:Ba:2402)},_scheduleFading:function(t,e,n){var r=this._mixer,i=r.time,o=this._weightInterpolant;null===o&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);var a=o.parameterPositions,s=o.sampleValues;return a[0]=i,s[0]=e,a[1]=i+t,s[1]=n,this}},Fr.prototype={constructor:Fr,clipAction:function(t,e){var n=e||this._root,r=n.uuid,i="string"==typeof t?$n.findByName(n,t):t,o=null!==i?i.uuid:t,a=this._actionsByClip[o],s=null;if(void 0!==a){var u=a.actionByRoot[r];if(void 0!==u)return u;s=a.knownActions[0],null===i&&(i=s._clip)}if(null===i)return null;var l=new Dr(this,i,e);return this._bindAction(l,s),this._addInactiveAction(l,o,r),l},existingAction:function(t,e){var n=e||this._root,r=n.uuid,i="string"==typeof t?$n.findByName(n,t):t,o=i?i.uuid:t,a=this._actionsByClip[o];return void 0!==a?a.actionByRoot[r]||null:null},stopAllAction:function(){var t=this._actions,e=this._nActiveActions,n=this._bindings,r=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var i=0;i!==e;++i)t[i].reset();for(var i=0;i!==r;++i)n[i].useCount=0;return this},update:function(t){t*=this.timeScale;for(var e=this._actions,n=this._nActiveActions,r=this.time+=t,i=Math.sign(t),o=this._accuIndex^=1,a=0;a!==n;++a){var s=e[a];s.enabled&&s._update(r,t,i,o)}for(var u=this._bindings,l=this._nActiveBindings,a=0;a!==l;++a)u[a].apply(o);return this},getRoot:function(){return this._root},uncacheClip:function(t){var e=this._actions,n=t.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){for(var o=i.knownActions,a=0,s=o.length;a!==s;++a){var u=o[a];this._deactivateAction(u);var l=u._cacheIndex,c=e[e.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,c._cacheIndex=l,e[l]=c,e.pop(),this._removeInactiveBindingsForAction(u)}delete r[n]}},uncacheRoot:function(t){var e=t.uuid,n=this._actionsByClip;for(var r in n){var i=n[r].actionByRoot,o=i[e];void 0!==o&&(this._deactivateAction(o),this._removeInactiveAction(o))}var a=this._bindingsByRootAndName,s=a[e];if(void 0!==s)for(var u in s){var l=s[u];l.restoreOriginalState(),this._removeInactiveBinding(l)}},uncacheAction:function(t,e){var n=this.existingAction(t,e);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}},Object.assign(Fr.prototype,{_bindAction:function(t,e){var n=t._localRoot||this._root,r=t._clip.tracks,i=r.length,o=t._propertyBindings,a=t._interpolants,s=n.uuid,u=this._bindingsByRootAndName,l=u[s];void 0===l&&(l={},u[s]=l);for(var c=0;c!==i;++c){var h=r[c],f=h.name,d=l[f];if(void 0!==d)o[c]=d;else{if(void 0!==(d=o[c])){null===d._cacheIndex&&(++d.referenceCount,this._addInactiveBinding(d,s,f));continue}var p=e&&e._propertyBindings[c].binding.parsedPath;d=new Nr(Pr.create(n,f,p),h.ValueTypeName,h.getValueSize()),++d.referenceCount,this._addInactiveBinding(d,s,f),o[c]=d}a[c].resultBuffer=d.buffer}},_activateAction:function(t){if(!this._isActiveAction(t)){if(null===t._cacheIndex){var e=(t._localRoot||this._root).uuid,n=t._clip.uuid,r=this._actionsByClip[n];this._bindAction(t,r&&r.knownActions[0]),this._addInactiveAction(t,n,e)}for(var i=t._propertyBindings,o=0,a=i.length;o!==a;++o){var s=i[o];0==s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(t)}},_deactivateAction:function(t){if(this._isActiveAction(t)){for(var e=t._propertyBindings,n=0,r=e.length;n!==r;++n){var i=e[n];0==--i.useCount&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(t)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}},_isActiveAction:function(t){var e=t._cacheIndex;return null!==e&&e<this._nActiveActions},_addInactiveAction:function(t,e,n){var r=this._actions,i=this._actionsByClip,o=i[e];if(void 0===o)o={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,i[e]=o;else{var a=o.knownActions;t._byClipCacheIndex=a.length,a.push(t)}t._cacheIndex=r.length,r.push(t),o.actionByRoot[n]=t},_removeInactiveAction:function(t){var e=this._actions,n=e[e.length-1],r=t._cacheIndex;n._cacheIndex=r,e[r]=n,e.pop(),t._cacheIndex=null;var i=t._clip.uuid,o=this._actionsByClip,a=o[i],s=a.knownActions,u=s[s.length-1],l=t._byClipCacheIndex;u._byClipCacheIndex=l,s[l]=u,s.pop(),t._byClipCacheIndex=null,delete a.actionByRoot[(e._localRoot||this._root).uuid],0===s.length&&delete o[i],this._removeInactiveBindingsForAction(t)},_removeInactiveBindingsForAction:function(t){for(var e=t._propertyBindings,n=0,r=e.length;n!==r;++n){var i=e[n];0==--i.referenceCount&&this._removeInactiveBinding(i)}},_lendAction:function(t){var e=this._actions,n=t._cacheIndex,r=this._nActiveActions++,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},_takeBackAction:function(t){var e=this._actions,n=t._cacheIndex,r=--this._nActiveActions,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},_addInactiveBinding:function(t,e,n){var r=this._bindingsByRootAndName,i=r[e],o=this._bindings;void 0===i&&(i={},r[e]=i),i[n]=t,t._cacheIndex=o.length,o.push(t)},_removeInactiveBinding:function(t){var e=this._bindings,n=t.binding,r=n.rootNode.uuid,i=n.path,o=this._bindingsByRootAndName,a=o[r],s=e[e.length-1],u=t._cacheIndex;s._cacheIndex=u,e[u]=s,e.pop(),delete a[i];t:{for(var l in a)break t;delete o[r]}},_lendBinding:function(t){var e=this._bindings,n=t._cacheIndex,r=this._nActiveBindings++,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},_takeBackBinding:function(t){var e=this._bindings,n=t._cacheIndex,r=--this._nActiveBindings,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},_lendControlInterpolant:function(){var t=this._controlInterpolants,e=this._nActiveControlInterpolants++,n=t[e];return void 0===n&&(n=new Bn(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),n.__cacheIndex=e,t[e]=n),n},_takeBackControlInterpolant:function(t){var e=this._controlInterpolants,n=t.__cacheIndex,r=--this._nActiveControlInterpolants,i=e[r];t.__cacheIndex=r,e[r]=t,i.__cacheIndex=n,e[n]=i},_controlInterpolantsResultBuffer:new Float32Array(1)}),Object.assign(Fr.prototype,e.prototype),jr.prototype.clone=function(){return new jr(void 0===this.value.clone?this.value:this.value.clone())},Ur.prototype=Object.create(Ct.prototype),Ur.prototype.constructor=Ur,Ur.prototype.isInstancedBufferGeometry=!0,Ur.prototype.addGroup=function(t,e,n){this.groups.push({start:t,count:e,materialIndex:n})},Ur.prototype.copy=function(t){var e=t.index;null!==e&&this.setIndex(e.clone());var n=t.attributes;for(var r in n){var i=n[r];this.addAttribute(r,i.clone())}for(var o=t.groups,a=0,s=o.length;a<s;a++){var u=o[a];this.addGroup(u.start,u.count,u.materialIndex)}return this},Br.prototype={constructor:Br,isInterleavedBufferAttribute:!0,get count(){return this.data.count},get array(){return this.data.array},setX:function(t,e){return this.data.array[t*this.data.stride+this.offset]=e,this},setY:function(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this},setZ:function(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this},setW:function(t,e){return this.data.array[t*this.data.stride+this.offset+3]=e,this},getX:function(t){return this.data.array[t*this.data.stride+this.offset]},getY:function(t){return this.data.array[t*this.data.stride+this.offset+1]},getZ:function(t){return this.data.array[t*this.data.stride+this.offset+2]},getW:function(t){return this.data.array[t*this.data.stride+this.offset+3]},setXY:function(t,e,n){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this},setXYZ:function(t,e,n,r){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=r,this},setXYZW:function(t,e,n,r,i){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=r,this.data.array[t+3]=i,this}},zr.prototype={constructor:zr,isInterleavedBuffer:!0,set needsUpdate(t){!0===t&&this.version++},setArray:function(t){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.count=void 0!==t?t.length/this.stride:0,this.array=t},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.dynamic=t.dynamic,this},copyAt:function(t,e,n){t*=this.stride,n*=e.stride;for(var r=0,i=this.stride;r<i;r++)this.array[t+r]=e.array[n+r];return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(t){return this.onUploadCallback=t,this}},Vr.prototype=Object.create(zr.prototype),Vr.prototype.constructor=Vr,Vr.prototype.isInstancedInterleavedBuffer=!0,Vr.prototype.copy=function(t){return zr.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this},Gr.prototype=Object.create(dt.prototype),Gr.prototype.constructor=Gr,Gr.prototype.isInstancedBufferAttribute=!0,Gr.prototype.copy=function(t){return dt.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this},Hr.prototype={constructor:Hr,linePrecision:1,set:function(t,e){this.ray.set(t,e)},setFromCamera:function(t,e){e&&e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize()):e&&e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld)):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(t,e){var n=[];return Wr(t,this,n,e),n.sort(qr),n},intersectObjects:function(t,e){var n=[];if(!1===Array.isArray(t))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),n;for(var r=0,i=t.length;r<i;r++)Wr(t[r],this,n,e);return n.sort(qr),n}},Yr.prototype={constructor:Yr,start:function(){this.startTime=(performance||Date).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var t=0;if(this.autoStart&&!this.running&&this.start(),this.running){var e=(performance||Date).now();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}},Xr.prototype={constructor:Xr,set:function(t,e,n){return this.radius=t,this.phi=e,this.theta=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this},makeSafe:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this},setFromVector3:function(t){return this.radius=t.length(),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t.x,t.z),this.phi=Math.acos(Ja.clamp(t.y/this.radius,-1,1))),this}},Zr.prototype={constructor:Zr,set:function(t,e,n){return this.radius=t,this.theta=e,this.y=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.radius=t.radius,this.theta=t.theta,this.y=t.y,this},setFromVector3:function(t){return this.radius=Math.sqrt(t.x*t.x+t.z*t.z),this.theta=Math.atan2(t.x,t.z),this.y=t.y,this}},Kr.prototype=Object.create(It.prototype),Kr.prototype.constructor=Kr,Kr.prototype.createAnimation=function(t,e,n,r){var i={start:e,end:n,length:n-e+1,fps:r,duration:(n-e)/r,lastFrame:0,currentFrame:0,active:!1,time:0,direction:1,weight:1,directionBackwards:!1,mirroredLoop:!1};this.animationsMap[t]=i,this.animationsList.push(i)},Kr.prototype.autoCreateAnimations=function(t){for(var e,n=/([a-z]+)_?(\d+)/i,r={},i=this.geometry,o=0,a=i.morphTargets.length;o<a;o++){var s=i.morphTargets[o],u=s.name.match(n);if(u&&u.length>1){var l=u[1];r[l]||(r[l]={start:1/0,end:-1/0});var c=r[l];o<c.start&&(c.start=o),o>c.end&&(c.end=o),e||(e=l)}}for(var l in r){var c=r[l];this.createAnimation(l,c.start,c.end,t)}this.firstAnimation=e},Kr.prototype.setAnimationDirectionForward=function(t){var e=this.animationsMap[t];e&&(e.direction=1,e.directionBackwards=!1)},Kr.prototype.setAnimationDirectionBackward=function(t){var e=this.animationsMap[t];e&&(e.direction=-1,e.directionBackwards=!0)},Kr.prototype.setAnimationFPS=function(t,e){var n=this.animationsMap[t];n&&(n.fps=e,n.duration=(n.end-n.start)/n.fps)},Kr.prototype.setAnimationDuration=function(t,e){var n=this.animationsMap[t];n&&(n.duration=e,n.fps=(n.end-n.start)/n.duration)},Kr.prototype.setAnimationWeight=function(t,e){var n=this.animationsMap[t];n&&(n.weight=e)},Kr.prototype.setAnimationTime=function(t,e){var n=this.animationsMap[t];n&&(n.time=e)},Kr.prototype.getAnimationTime=function(t){var e=0,n=this.animationsMap[t];return n&&(e=n.time),e},Kr.prototype.getAnimationDuration=function(t){var e=-1,n=this.animationsMap[t];return n&&(e=n.duration),e},Kr.prototype.playAnimation=function(t){var e=this.animationsMap[t];e?(e.time=0,e.active=!0):console.warn("THREE.MorphBlendMesh: animation["+t+"] undefined in .playAnimation()")},Kr.prototype.stopAnimation=function(t){var e=this.animationsMap[t];e&&(e.active=!1)},Kr.prototype.update=function(t){for(var e=0,n=this.animationsList.length;e<n;e++){var r=this.animationsList[e];if(r.active){var i=r.duration/r.length;r.time+=r.direction*t,r.mirroredLoop?(r.time>r.duration||r.time<0)&&(r.direction*=-1,r.time>r.duration&&(r.time=r.duration,r.directionBackwards=!0),r.time<0&&(r.time=0,r.directionBackwards=!1)):(r.time=r.time%r.duration,r.time<0&&(r.time+=r.duration));var o=r.start+Ja.clamp(Math.floor(r.time/i),0,r.length-1),a=r.weight;o!==r.currentFrame&&(this.morphTargetInfluences[r.lastFrame]=0,this.morphTargetInfluences[r.currentFrame]=1*a,this.morphTargetInfluences[o]=0,r.lastFrame=r.currentFrame,r.currentFrame=o);var s=r.time%i/i;r.directionBackwards&&(s=1-s),r.currentFrame!==r.lastFrame?(this.morphTargetInfluences[r.currentFrame]=s*a,this.morphTargetInfluences[r.lastFrame]=(1-s)*a):this.morphTargetInfluences[r.currentFrame]=a}}},$r.prototype=Object.create(ut.prototype),$r.prototype.constructor=$r,$r.prototype.isImmediateRenderObject=!0,Qr.prototype=Object.create(xe.prototype),Qr.prototype.constructor=Qr,Qr.prototype.update=function(){var t=new u,e=new u,n=new et;return function(){var r=["a","b","c"];this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);var i=this.object.matrixWorld,o=this.geometry.attributes.position,a=this.object.geometry;if(a&&a.isGeometry)for(var s=a.vertices,u=a.faces,l=0,c=0,h=u.length;c<h;c++)for(var f=u[c],d=0,p=f.vertexNormals.length;d<p;d++){var m=s[f[r[d]]],g=f.vertexNormals[d];t.copy(m).applyMatrix4(i),e.copy(g).applyMatrix3(n).normalize().multiplyScalar(this.size).add(t),o.setXYZ(l,t.x,t.y,t.z),l+=1,o.setXYZ(l,e.x,e.y,e.z),l+=1}else if(a&&a.isBufferGeometry)for(var v=a.attributes.position,y=a.attributes.normal,l=0,d=0,p=v.count;d<p;d++)t.set(v.getX(d),v.getY(d),v.getZ(d)).applyMatrix4(i),e.set(y.getX(d),y.getY(d),y.getZ(d)),e.applyMatrix3(n).normalize().multiplyScalar(this.size).add(t),o.setXYZ(l,t.x,t.y,t.z),l+=1,o.setXYZ(l,e.x,e.y,e.z),l+=1;return o.needsUpdate=!0,this}}(),Jr.prototype=Object.create(ut.prototype),Jr.prototype.constructor=Jr,Jr.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},Jr.prototype.update=function(){var t=new u,e=new u;return function(){var n=this.light.distance?this.light.distance:1e3,r=n*Math.tan(this.light.angle);this.cone.scale.set(r,r,n),t.setFromMatrixPosition(this.light.matrixWorld),e.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(e.sub(t)),this.cone.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)}}(),ti.prototype=Object.create(xe.prototype),ti.prototype.constructor=ti,ti.prototype.getBoneList=function(t){var e=[];t&&t.isBone&&e.push(t);for(var n=0;n<t.children.length;n++)e.push.apply(e,this.getBoneList(t.children[n]));return e},ti.prototype.update=function(){var t=new u,e=new l,n=new l;return function(){var r=this.geometry,i=r.getAttribute("position");n.getInverse(this.root.matrixWorld);for(var o=0,a=0;o<this.bones.length;o++){var s=this.bones[o];s.parent&&s.parent.isBone&&(e.multiplyMatrices(n,s.matrixWorld),t.setFromMatrixPosition(e),i.setXYZ(a,t.x,t.y,t.z),e.multiplyMatrices(n,s.parent.matrixWorld),t.setFromMatrixPosition(e),i.setXYZ(a+1,t.x,t.y,t.z),a+=2)}r.getAttribute("position").needsUpdate=!0}}(),ei.prototype=Object.create(It.prototype),ei.prototype.constructor=ei,ei.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},ei.prototype.update=function(){this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)},ni.prototype=Object.create(ut.prototype),ni.prototype.constructor=ni,ni.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose(),this.children[1].geometry.dispose(),this.children[1].material.dispose()},ni.prototype.update=function(){var t=new u,e=new u;return function(){var n=this.children[0],r=this.children[1];if(this.light.target){t.setFromMatrixPosition(this.light.matrixWorld),e.setFromMatrixPosition(this.light.target.matrixWorld);var i=e.clone().sub(t);n.lookAt(i),r.lookAt(i)}n.material.color.copy(this.light.color).multiplyScalar(this.light.intensity),r.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);var o=.5*this.light.width,a=.5*this.light.height,s=n.geometry.getAttribute("position"),u=s.array;u[0]=o,u[1]=-a,u[2]=0,u[3]=o,u[4]=a,u[5]=0,u[6]=-o,u[7]=a,u[8]=0,u[9]=-o,u[10]=a,u[11]=0,u[12]=-o,u[13]=-a,u[14]=0,u[15]=o,u[16]=-a,u[17]=0,s.needsUpdate=!0}}(),ri.prototype=Object.create(ut.prototype),ri.prototype.constructor=ri,ri.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},ri.prototype.update=function(){var t=new u,e=new q,n=new q;return function(){var r=this.children[0],i=r.geometry.getAttribute("color");e.copy(this.light.color).multiplyScalar(this.light.intensity),n.copy(this.light.groundColor).multiplyScalar(this.light.intensity);for(var o=0,a=i.count;o<a;o++){var s=o<a/2?e:n;i.setXYZ(o,s.r,s.g,s.b)}r.lookAt(t.setFromMatrixPosition(this.light.matrixWorld).negate()),i.needsUpdate=!0}}(),ii.prototype=Object.create(xe.prototype),ii.prototype.constructor=ii,oi.prototype=Object.create(xe.prototype),oi.prototype.constructor=oi,ai.prototype=Object.create(xe.prototype),ai.prototype.constructor=ai,ai.prototype.update=function(){var t=new u,e=new u,n=new et;return function(){this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);for(var r=this.object.matrixWorld,i=this.geometry.attributes.position,o=this.object.geometry,a=o.vertices,s=o.faces,u=0,l=0,c=s.length;l<c;l++){var h=s[l],f=h.normal;t.copy(a[h.a]).add(a[h.b]).add(a[h.c]).divideScalar(3).applyMatrix4(r),e.copy(f).applyMatrix3(n).normalize().multiplyScalar(this.size).add(t),i.setXYZ(u,t.x,t.y,t.z),u+=1,i.setXYZ(u,e.x,e.y,e.z),u+=1}return i.needsUpdate=!0,this}}(),si.prototype=Object.create(ut.prototype),si.prototype.constructor=si,si.prototype.dispose=function(){var t=this.children[0],e=this.children[1];t.geometry.dispose(),t.material.dispose(),e.geometry.dispose(),e.material.dispose()},si.prototype.update=function(){var t=new u,e=new u,n=new u;return function(){t.setFromMatrixPosition(this.light.matrixWorld),e.setFromMatrixPosition(this.light.target.matrixWorld),n.subVectors(e,t);var r=this.children[0],i=this.children[1];r.lookAt(n),r.material.color.copy(this.light.color).multiplyScalar(this.light.intensity),i.lookAt(n),i.scale.z=n.length()}}(),ui.prototype=Object.create(xe.prototype),ui.prototype.constructor=ui,ui.prototype.update=function(){function t(t,o,a,s){r.set(o,a,s).unproject(i);var u=n[t];if(void 0!==u)for(var l=e.getAttribute("position"),c=0,h=u.length;c<h;c++)l.setXYZ(u[c],r.x,r.y,r.z)}var e,n,r=new u,i=new Nt;return function(){e=this.geometry,n=this.pointMap;i.projectionMatrix.copy(this.camera.projectionMatrix),t("c",0,0,-1),t("t",0,0,1),t("n1",-1,-1,-1),t("n2",1,-1,-1),t("n3",-1,1,-1),t("n4",1,1,-1),t("f1",-1,-1,1),t("f2",1,-1,1),t("f3",-1,1,1),t("f4",1,1,1),t("u1",.7,1.1,-1),t("u2",-.7,1.1,-1),t("u3",0,2,-1),t("cf1",-1,0,1),t("cf2",1,0,1),t("cf3",0,-1,1),t("cf4",0,1,1),t("cn1",-1,0,-1),t("cn2",1,0,-1),t("cn3",0,-1,-1),t("cn4",0,1,-1),e.getAttribute("position").needsUpdate=!0}}(),li.prototype=Object.create(xe.prototype),li.prototype.constructor=li,li.prototype.update=function(){var t=new J;return function(e){if(e&&e.isBox3?t.copy(e):t.setFromObject(e),!t.isEmpty()){var n=t.min,r=t.max,i=this.geometry.attributes.position,o=i.array;o[0]=r.x,o[1]=r.y,o[2]=r.z,o[3]=n.x,o[4]=r.y,o[5]=r.z,o[6]=n.x,o[7]=n.y,o[8]=r.z,o[9]=r.x,o[10]=n.y,o[11]=r.z,o[12]=r.x,o[13]=r.y,o[14]=n.z,o[15]=n.x,o[16]=r.y,o[17]=n.z,o[18]=n.x,o[19]=n.y,o[20]=n.z,o[21]=r.x,o[22]=n.y,o[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}}}();var Ss,Ts;ci.prototype=Object.create(ut.prototype),ci.prototype.constructor=ci,ci.prototype.setDirection=function(){var t,e=new u;return function(n){n.y>.99999?this.quaternion.set(0,0,0,1):n.y<-.99999?this.quaternion.set(1,0,0,0):(e.set(n.z,0,-n.x).normalize(),t=Math.acos(n.y),this.quaternion.setFromAxisAngle(e,t))}}(),ci.prototype.setLength=function(t,e,n){void 0===e&&(e=.2*t),void 0===n&&(n=.2*e),this.line.scale.set(1,Math.max(0,t-e),1),this.line.updateMatrix(),this.cone.scale.set(n,e,n),this.cone.position.y=t,this.cone.updateMatrix()},ci.prototype.setColor=function(t){this.line.material.color.copy(t),this.cone.material.color.copy(t)},hi.prototype=Object.create(xe.prototype),hi.prototype.constructor=hi;var Cs=new u,Is=new fi,Os=new fi,As=new fi;di.prototype=Object.create(dr.prototype),di.prototype.constructor=di,di.prototype.getPoint=function(t){var e=this.points,n=e.length;n<2&&console.log("duh, you need at least 2 points");var r=(n-(this.closed?0:1))*t,i=Math.floor(r),o=r-i;this.closed?i+=i>0?0:(Math.floor(Math.abs(i)/e.length)+1)*e.length:0===o&&i===n-1&&(i=n-2,o=1);var a,s,l,c;if(this.closed||i>0?a=e[(i-1)%n]:(Cs.subVectors(e[0],e[1]).add(e[0]),a=Cs),s=e[i%n],l=e[(i+1)%n],this.closed||i+2<n?c=e[(i+2)%n]:(Cs.subVectors(e[n-1],e[n-2]).add(e[n-1]),c=Cs),void 0===this.type||"centripetal"===this.type||"chordal"===this.type){var h="chordal"===this.type?.5:.25,f=Math.pow(a.distanceToSquared(s),h),d=Math.pow(s.distanceToSquared(l),h),p=Math.pow(l.distanceToSquared(c),h);d<1e-4&&(d=1),f<1e-4&&(f=d),p<1e-4&&(p=d),Is.initNonuniformCatmullRom(a.x,s.x,l.x,c.x,f,d,p),Os.initNonuniformCatmullRom(a.y,s.y,l.y,c.y,f,d,p),As.initNonuniformCatmullRom(a.z,s.z,l.z,c.z,f,d,p)}else if("catmullrom"===this.type){var m=void 0!==this.tension?this.tension:.5;Is.initCatmullRom(a.x,s.x,l.x,c.x,m),Os.initCatmullRom(a.y,s.y,l.y,c.y,m),As.initCatmullRom(a.z,s.z,l.z,c.z,m)}return new u(Is.calc(o),Os.calc(o),As.calc(o))},pi.prototype=Object.create(dr.prototype),pi.prototype.constructor=pi,pi.prototype.getPoint=function(t){var e=this.v0,n=this.v1,r=this.v2,i=this.v3;return new u(fr(t,e.x,n.x,r.x,i.x),fr(t,e.y,n.y,r.y,i.y),fr(t,e.z,n.z,r.z,i.z))},mi.prototype=Object.create(dr.prototype),mi.prototype.constructor=mi,mi.prototype.getPoint=function(t){var e=this.v0,n=this.v1,r=this.v2;return new u(sr(t,e.x,n.x,r.x),sr(t,e.y,n.y,r.y),sr(t,e.z,n.z,r.z))},gi.prototype=Object.create(dr.prototype),gi.prototype.constructor=gi,gi.prototype.getPoint=function(t){if(1===t)return this.v2.clone();var e=new u;return e.subVectors(this.v2,this.v1),e.multiplyScalar(t),e.add(this.v1),e},vi.prototype=Object.create(gr.prototype),vi.prototype.constructor=vi;var Ls={createMultiMaterialObject:function(t,e){for(var n=new Me,r=0,i=e.length;r<i;r++)n.add(new It(t,e[r]));return n},detach:function(t,e,n){t.applyMatrix(e.matrixWorld),e.remove(t),n.add(t)},attach:function(t,e,n){var r=new l;r.getInverse(n.matrixWorld),t.applyMatrix(r),e.remove(t),n.add(t)}};dr.create=function(t,e){return console.log("THREE.Curve.create() has been deprecated"),t.prototype=Object.create(dr.prototype),t.prototype.constructor=t,t.prototype.getPoint=e,t},Fi.prototype=Object.create(di.prototype),ji.prototype=Object.create(di.prototype),Ui.prototype=Object.create(di.prototype),Object.assign(Ui.prototype,{initFromArray:function(t){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(t){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(t){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),ii.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},Object.assign(Y.prototype,{center:function(t){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},size:function(t){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(t)}}),Object.assign(J.prototype,{center:function(t){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionSphere:function(t){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)},size:function(t){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(t)}}),lt.prototype.center=function(t){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(t)},Ja.random16=function(){return console.warn("THREE.Math.random16() has been deprecated. Use Math.random() instead."),Math.random()},Object.assign(et.prototype,{flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},multiplyVector3:function(t){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},multiplyVector3Array:function(t){return console.warn("THREE.Matrix3: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead."),this.applyToVector3Array(t)},applyToBuffer:function(t,e,n){return console.warn("THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(t)},applyToVector3Array:function(t,e,n){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Object.assign(l.prototype,{extractPosition:function(t){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(t)},flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},getPosition:function(){var t;return function(){return void 0===t&&(t=new u),console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),t.setFromMatrixColumn(this,3)}}(),setRotationFromQuaternion:function(t){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(t)},multiplyVector3:function(t){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector4:function(t){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector3Array:function(t){return console.warn("THREE.Matrix4: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead."),this.applyToVector3Array(t)},rotateAxis:function(t){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),t.transformDirection(this)},crossVector:function(t){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBuffer:function(t,e,n){return console.warn("THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(t)},applyToVector3Array:function(t,e,n){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(t,e,n,r,i,o){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(t,e,r,n,i,o)}}),nt.prototype.isIntersectionLine=function(t){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(t)},s.prototype.multiplyVector3=function(t){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),t.applyQuaternion(this)},Object.assign(ot.prototype,{isIntersectionBox:function(t){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionPlane:function(t){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(t)},isIntersectionSphere:function(t){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)}}),Object.assign(xr.prototype,{extrude:function(t){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Xe(this,t)},makeGeometry:function(t){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new nn(this,t)}}),Object.assign(n.prototype,{fromAttribute:function(t,e,n){return console.error("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)}}),Object.assign(u.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(t){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(t)},getScaleFromMatrix:function(t){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(t)},getColumnFromMatrix:function(t,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,t)},applyProjection:function(t){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(t)},fromAttribute:function(t,e,n){return console.error("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)}}),Object.assign(i.prototype,{fromAttribute:function(t,e,n){return console.error("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)}}),Tt.prototype.computeTangents=function(){console.warn("THREE.Geometry: .computeTangents() has been removed.")},Object.assign(ut.prototype,{getChildByName:function(t){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(t)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(t,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,t)}}),Object.defineProperties(ut.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(t){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=t}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.defineProperties(me.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Pt.prototype.setLens=function(t,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==e&&(this.filmGauge=e),this.setFocalLength(t)},Object.defineProperties(On.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(t){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=t}},shadowCameraLeft:{set:function(t){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=t}},shadowCameraRight:{set:function(t){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=t}},shadowCameraTop:{set:function(t){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=t}},shadowCameraBottom:{set:function(t){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=t}},shadowCameraNear:{set:function(t){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=t}},shadowCameraFar:{set:function(t){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=t}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(t){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=t}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(t){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=t}},shadowMapHeight:{set:function(t){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=t}}}),Object.defineProperties(dt.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}}}),Object.assign(Ct.prototype,{addIndex:function(t){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(t)},addDrawCall:function(t,e,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(t,e)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")}}),Object.defineProperties(Ct.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.defineProperties(jr.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(K.prototype,{wrapAround:{get:function(){console.warn("THREE."+this.type+": .wrapAround has been removed.")},set:function(){console.warn("THREE."+this.type+": .wrapAround has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE."+this.type+": .wrapRGB has been removed."),new q}}}),Object.defineProperties(vn.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties($.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(t){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=t}}}),Object.assign(ue.prototype,{supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(t){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(t)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")}}),Object.defineProperties(ue.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=t}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=t}},shadowMapCullFace:{get:function(){return this.shadowMap.cullFace},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapCullFace is now .shadowMap.cullFace."),this.shadowMap.cullFace=t}}}),Object.defineProperties(it.prototype,{cullFace:{get:function(){return this.renderReverseSided?$i:Ki},set:function(t){var e=t!==Ki;console.warn("WebGLRenderer: .shadowMap.cullFace is deprecated. Set .shadowMap.renderReverseSided to "+e+"."),this.renderReverseSided=e}}}),Object.defineProperties(o.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=t}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=t}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=t}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=t}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(t){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=t}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(t){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=t}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(t){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=t}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(t){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=t}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(t){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=t}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(t){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=t}}}),Ar.prototype.load=function(t){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var e=this;return(new Sr).load(t,function(t){e.setBuffer(t)}),this},Rr.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()};var Rs={merge:function(t,e,n){console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.");var r;e.isMesh&&(e.matrixAutoUpdate&&e.updateMatrix(),r=e.matrix,e=e.geometry),t.merge(e,r,n)},center:function(t){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),t.center()}},Ns={crossOrigin:void 0,loadTexture:function(t,e,n,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var i=new In;i.setCrossOrigin(this.crossOrigin);var o=i.load(t,n,void 0,r);return e&&(o.mapping=e),o},loadTextureCube:function(t,e,n,r){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var i=new Cn;i.setCrossOrigin(this.crossOrigin);var o=i.load(t,n,void 0,r);return e&&(o.mapping=e),o},loadCompressedTexture:function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},loadCompressedTextureCube:function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")}};t.WebGLRenderTargetCube=a,t.WebGLRenderTarget=o,t.WebGLRenderer=ue,t.ShaderLib=cs,t.UniformsLib=ls,t.UniformsUtils=as,t.ShaderChunk=ss,t.FogExp2=le,t.Fog=ce,t.Scene=he,t.LensFlare=fe,t.Sprite=pe,t.LOD=me,t.SkinnedMesh=ye,t.Skeleton=ge,t.Bone=ve,t.Mesh=It,t.LineSegments=xe,t.Line=we,t.Points=Ee,t.Group=Me,t.VideoTexture=Se,t.DataTexture=W,t.CompressedTexture=Te,t.CubeTexture=c,t.CanvasTexture=Ce,t.DepthTexture=Ie,t.Texture=r,t.CompressedTextureLoader=Mn,t.DataTextureLoader=Sn,t.CubeTextureLoader=Cn,t.TextureLoader=In,t.ObjectLoader=nr,t.MaterialLoader=Qn,t.BufferGeometryLoader=Jn,t.DefaultLoadingManager=bs,t.LoadingManager=_n,t.JSONLoader=er,t.ImageLoader=Tn,t.FontLoader=Mr,t.FileLoader=En,t.Loader=tr,t.Cache=ys,t.AudioLoader=Sr,t.SpotLightShadow=Rn,t.SpotLight=Nn,t.PointLight=Pn,t.RectAreaLight=Tr,t.HemisphereLight=An,t.DirectionalLightShadow=kn,t.DirectionalLight=Dn,t.AmbientLight=Fn,t.LightShadow=Ln,t.Light=On,t.StereoCamera=Cr,t.PerspectiveCamera=Pt,t.OrthographicCamera=kt,t.CubeCamera=Ir,t.Camera=Nt,t.AudioListener=Or,t.PositionalAudio=Lr,t.AudioContext=Ms,t.AudioAnalyser=Rr,t.Audio=Ar,t.VectorKeyframeTrack=Gn,t.StringKeyframeTrack=Yn,t.QuaternionKeyframeTrack=qn,t.NumberKeyframeTrack=Wn,t.ColorKeyframeTrack=Zn,t.BooleanKeyframeTrack=Xn,t.PropertyMixer=Nr,t.PropertyBinding=Pr,t.KeyframeTrack=Kn,t.AnimationUtils=ws,t.AnimationObjectGroup=kr,t.AnimationMixer=Fr,t.AnimationClip=$n,t.Uniform=jr,t.InstancedBufferGeometry=Ur,t.BufferGeometry=Ct,t.GeometryIdCount=St,t.Geometry=Tt,t.InterleavedBufferAttribute=Br,t.InstancedInterleavedBuffer=Vr,t.InterleavedBuffer=zr,t.InstancedBufferAttribute=Gr,t.Face3=ht,t.Object3D=ut,t.Raycaster=Hr,t.Layers=st,t.EventDispatcher=e,t.Clock=Yr,t.QuaternionLinearInterpolant=Hn,t.LinearInterpolant=Bn,t.DiscreteInterpolant=zn,t.CubicInterpolant=Un,t.Interpolant=jn,t.Triangle=ct,t.Math=Ja,t.Spherical=Xr,t.Cylindrical=Zr,t.Plane=nt,t.Frustum=rt,t.Sphere=tt,t.Ray=ot,t.Matrix4=l,t.Matrix3=et,t.Box3=J,t.Box2=Y,t.Line3=lt,t.Euler=at,t.Vector4=i,t.Vector3=u,t.Vector2=n,t.Quaternion=s,t.Color=q,t.MorphBlendMesh=Kr,t.ImmediateRenderObject=$r,t.VertexNormalsHelper=Qr,t.SpotLightHelper=Jr,t.SkeletonHelper=ti,t.PointLightHelper=ei,t.RectAreaLightHelper=ni,t.HemisphereLightHelper=ri,t.GridHelper=ii,t.PolarGridHelper=oi,t.FaceNormalsHelper=ai,t.DirectionalLightHelper=si,t.CameraHelper=ui,t.BoxHelper=li,t.ArrowHelper=ci,t.AxisHelper=hi,t.CatmullRomCurve3=di,t.CubicBezierCurve3=pi,t.QuadraticBezierCurve3=mi,t.LineCurve3=gi,t.ArcCurve=vi,t.EllipseCurve=gr,t.SplineCurve=vr,t.CubicBezierCurve=yr,t.QuadraticBezierCurve=br,t.LineCurve=pr,t.Shape=xr,t.Path=wr,t.ShapePath=_r,t.Font=Er,t.CurvePath=mr,t.Curve=dr,t.ShapeUtils=ms,t.SceneUtils=Ls,t.WireframeGeometry=Oe,t.ParametricGeometry=Ae,t.ParametricBufferGeometry=Le,t.TetrahedronGeometry=Pe,t.TetrahedronBufferGeometry=ke,t.OctahedronGeometry=De,t.OctahedronBufferGeometry=Fe,t.IcosahedronGeometry=je,t.IcosahedronBufferGeometry=Ue,t.DodecahedronGeometry=Be,t.DodecahedronBufferGeometry=ze,t.PolyhedronGeometry=Re,t.PolyhedronBufferGeometry=Ne,t.TubeGeometry=Ve,t.TubeBufferGeometry=Ge,t.TorusKnotGeometry=He,t.TorusKnotBufferGeometry=qe,t.TorusGeometry=We,t.TorusBufferGeometry=Ye,t.TextGeometry=Ze,t.SphereGeometry=Ke,t.SphereBufferGeometry=$e,t.RingGeometry=Qe,t.RingBufferGeometry=Je,t.PlaneGeometry=Lt,t.PlaneBufferGeometry=Rt,t.LatheGeometry=tn,t.LatheBufferGeometry=en,t.ShapeGeometry=nn,t.ShapeBufferGeometry=rn,t.ExtrudeGeometry=Xe,t.EdgesGeometry=on,t.ConeGeometry=un,t.ConeBufferGeometry=ln,t.CylinderGeometry=an,t.CylinderBufferGeometry=sn,t.CircleGeometry=cn,t.CircleBufferGeometry=hn,t.BoxGeometry=Ot,t.BoxBufferGeometry=At,t.ShadowMaterial=fn,t.SpriteMaterial=de,t.RawShaderMaterial=dn,t.ShaderMaterial=$,t.PointsMaterial=_e,t.MultiMaterial=pn,t.MeshPhysicalMaterial=gn,t.MeshStandardMaterial=mn,t.MeshPhongMaterial=vn,t.MeshToonMaterial=yn;t.MeshNormalMaterial=bn,t.MeshLambertMaterial=wn,t.MeshDepthMaterial=Q,t.MeshBasicMaterial=ft,t.LineDashedMaterial=xn,t.LineBasicMaterial=be,t.Material=K,t.Float64BufferAttribute=_t,t.Float32BufferAttribute=xt,t.Uint32BufferAttribute=wt,t.Int32BufferAttribute=bt,t.Uint16BufferAttribute=yt,t.Int16BufferAttribute=vt,t.Uint8ClampedBufferAttribute=gt,t.Uint8BufferAttribute=mt,t.Int8BufferAttribute=pt,t.BufferAttribute=dt,t.REVISION=Yi,t.MOUSE=Xi,t.CullFaceNone=Zi,t.CullFaceBack=Ki,t.CullFaceFront=$i,t.CullFaceFrontBack=3,t.FrontFaceDirectionCW=Qi,t.FrontFaceDirectionCCW=1,t.BasicShadowMap=0,t.PCFShadowMap=Ji,t.PCFSoftShadowMap=to,t.FrontSide=eo,t.BackSide=no,t.DoubleSide=ro,t.FlatShading=io,t.SmoothShading=oo,t.NoColors=ao,t.FaceColors=so,t.VertexColors=uo,t.NoBlending=lo,t.NormalBlending=co,t.AdditiveBlending=ho,t.SubtractiveBlending=fo,t.MultiplyBlending=po,t.CustomBlending=mo,t.AddEquation=go,t.SubtractEquation=vo,t.ReverseSubtractEquation=yo,t.MinEquation=bo,t.MaxEquation=wo,t.ZeroFactor=xo,t.OneFactor=_o,t.SrcColorFactor=Eo,t.OneMinusSrcColorFactor=Mo,t.SrcAlphaFactor=So,t.OneMinusSrcAlphaFactor=To,t.DstAlphaFactor=Co,t.OneMinusDstAlphaFactor=Io,t.DstColorFactor=Oo,t.OneMinusDstColorFactor=Ao,t.SrcAlphaSaturateFactor=Lo,t.NeverDepth=Ro,t.AlwaysDepth=No,t.LessDepth=Po,t.LessEqualDepth=ko,t.EqualDepth=Do,t.GreaterEqualDepth=Fo,t.GreaterDepth=jo,t.NotEqualDepth=Uo,t.MultiplyOperation=Bo,t.MixOperation=zo,t.AddOperation=Vo,t.NoToneMapping=Go,t.LinearToneMapping=Ho,t.ReinhardToneMapping=qo,t.Uncharted2ToneMapping=Wo,t.CineonToneMapping=Yo,t.UVMapping=300,t.CubeReflectionMapping=Xo,t.CubeRefractionMapping=Zo,t.EquirectangularReflectionMapping=Ko,t.EquirectangularRefractionMapping=$o,t.SphericalReflectionMapping=Qo,t.CubeUVReflectionMapping=Jo,t.CubeUVRefractionMapping=ta,t.RepeatWrapping=ea,t.ClampToEdgeWrapping=na,t.MirroredRepeatWrapping=ra,t.NearestFilter=ia,t.NearestMipMapNearestFilter=oa,t.NearestMipMapLinearFilter=aa,t.LinearFilter=sa,t.LinearMipMapNearestFilter=ua,t.LinearMipMapLinearFilter=la,t.UnsignedByteType=ca,t.ByteType=ha,t.ShortType=fa,t.UnsignedShortType=da,t.IntType=pa,t.UnsignedIntType=ma,t.FloatType=ga,t.HalfFloatType=va,t.UnsignedShort4444Type=ya,t.UnsignedShort5551Type=ba,t.UnsignedShort565Type=wa,t.UnsignedInt248Type=xa,t.AlphaFormat=_a,t.RGBFormat=Ea,t.RGBAFormat=Ma,t.LuminanceFormat=Sa,t.LuminanceAlphaFormat=Ta,t.RGBEFormat=Ca,t.DepthFormat=Ia,t.DepthStencilFormat=Oa,t.RGB_S3TC_DXT1_Format=Aa,t.RGBA_S3TC_DXT1_Format=La,t.RGBA_S3TC_DXT3_Format=Ra,t.RGBA_S3TC_DXT5_Format=Na,t.RGB_PVRTC_4BPPV1_Format=Pa,t.RGB_PVRTC_2BPPV1_Format=ka,t.RGBA_PVRTC_4BPPV1_Format=Da,t.RGBA_PVRTC_2BPPV1_Format=Fa,t.RGB_ETC1_Format=ja,t.LoopOnce=2200,t.LoopRepeat=Ua,t.LoopPingPong=2202,t.InterpolateDiscrete=2300,t.InterpolateLinear=2301,t.InterpolateSmooth=2302,t.ZeroCurvatureEnding=Ba,t.ZeroSlopeEnding=2401,t.WrapAroundEnding=2402,t.TrianglesDrawMode=za,t.TriangleStripDrawMode=Va,t.TriangleFanDrawMode=Ga,t.LinearEncoding=Ha,t.sRGBEncoding=qa,t.GammaEncoding=Wa,t.RGBEEncoding=Ya,t.LogLuvEncoding=3003,t.RGBM7Encoding=Xa,t.RGBM16Encoding=Za,t.RGBDEncoding=Ka,t.BasicDepthPacking=$a,t.RGBADepthPacking=Qa,t.CubeGeometry=Ot,t.Face4=yi,t.LineStrip=0,t.LinePieces=1,t.MeshFaceMaterial=bi,t.PointCloud=wi,t.Particle=xi,t.ParticleSystem=_i,t.PointCloudMaterial=Ei,t.ParticleBasicMaterial=Mi,t.ParticleSystemMaterial=Si,t.Vertex=Ti,t.DynamicBufferAttribute=Ci,t.Int8Attribute=Ii,t.Uint8Attribute=Oi,t.Uint8ClampedAttribute=Ai,t.Int16Attribute=Li,t.Uint16Attribute=Ri,t.Int32Attribute=Ni,t.Uint32Attribute=Pi,t.Float32Attribute=ki,t.Float64Attribute=Di,t.ClosedSplineCurve3=Fi,t.SplineCurve3=ji,t.Spline=Ui,t.BoundingBoxHelper=Bi,t.EdgesHelper=zi,t.WireframeHelper=Vi,t.XHRLoader=Gi,t.BinaryTextureLoader=Hi,t.GeometryUtils=Rs,t.ImageUtils=Ns,t.Projector=qi,t.CanvasRenderer=Wi,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o});var r=function(t){throw new TypeError(t+"::INVALID_ARGUMENTS")},i=function(t){throw new Error(t+"::NOT_ALLOWED")},o=function(t,e){throw new Error(t+"::"+e)}},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=f()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(c.a?c()(t,e):t.__proto__=e)}n.d(e,"a",function(){return C});var s=n(10),u=n.n(s),l=n(9),c=n.n(l),h=n(5),f=n.n(h),d=n(1),p=n.n(d),m=n(4),g=n.n(m),v=n(3),y=n.n(v),b=n(0),w=n.n(b),x=n(26),_=(n.n(x),n(15)),E=(n.n(_),n(30)),M=g.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},S=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),p()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),T=function(t){function e(){return i(this,e),o(this,(e.__proto__||u()(e)).apply(this,arguments))}return a(e,t),S(e,[{key:"render",value:function(){var t=this.props,e=t.id,n=t.defaultMessage,i=r(t,["id","defaultMessage"]);return w.a.createElement(x.Tooltip,M({id:"tooltip-"+e},i),w.a.createElement(_.FormattedMessage,{id:e,defaultMessage:n}))}}]),e}(E.a);e.b=T;var C=function(t){function e(){return i(this,e),o(this,(e.__proto__||u()(e)).apply(this,arguments))}return a(e,t),S(e,[{key:"render",value:function(){var t=this.props,e=t.placement,n=t.children,i=t.rootClose,o=t.trigger,a=r(t,["placement","children","rootClose","trigger"]),s=this.context.rootElement;return w.a.createElement(x.OverlayTrigger,M({placement:e,container:s,rootClose:i,trigger:o},{overlay:w.a.createElement(T,a),rootClose:!0}),n)}}]),e}(E.a);C.contextTypes={rootElement:y.a.object,intl:y.a.object}},function(t,e,n){"use strict";e.a={NONE:-1,BASE_LAYERS:0,OVERLAYS:1,IMAGE_CONTROLS:2,COMPASS:3,MEASURE:4,OBLIQUE:5,IMAGE_INFORMATION:6}},function(t,e,n){"use strict";function r(t,e,n){return e in t?c()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){return y.a.error(e.payload.message),t}function o(t,e){var n=e.payload,i=n.componentId,o=n.property,a=n.enabled,s="boolean"==typeof a,u=t.ui,l="string"==typeof o&&"object"===w(u[i]),c=l?!!u[i][o]:!!u[i];s||(a=!c);var h=l?b({},u[i],r({},o,a)):a;return a!==c&&(u=b({},u,r({},i,h))),b({},t,{ui:u})}function a(t,e){var n=function t(n,r){return"object"===(void 0===r?"undefined":w(r))?u()(r).reduce(t,n):""!==r&&(n[r]=e),n};return t.reduce(n,{})}e.b=i,e.c=o,e.a=a;var s=n(59),u=n.n(s),l=n(1),c=n.n(l),h=n(58),f=n.n(h),d=n(66),p=n.n(d),m=n(4),g=n.n(m),v=n(32),y=n.n(v),b=g.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},w="function"==typeof p.a&&"symbol"==typeof f.a?function(t){return typeof t}:function(t){return t&&"function"==typeof p.a&&t.constructor===p.a&&t!==p.a.prototype?"symbol":typeof t}},function(t,e,n){var r=n(124)("meta"),i=n(28),o=n(61),a=n(41).f,s=0,u=Object.isExtensible||function(){return!0},l=!n(25)(function(){return u(Object.preventExtensions({}))}),c=function(t){a(t,r,{value:{i:"O"+ ++s,w:{}}})},h=function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,r)){if(!u(t))return"F";if(!e)return"E";c(t)}return t[r].i},f=function(t,e){if(!o(t,r)){if(!u(t))return!0;if(!e)return!1;c(t)}return t[r].w},d=function(t){return l&&p.NEED&&u(t)&&!o(t,r)&&c(t),t},p=t.exports={KEY:r,NEED:!1,fastKey:h,getWeak:f,onFreeze:d}},function(t,e,n){var r=n(390),i=n(278);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){var r=n(35)("unscopables"),i=Array.prototype;void 0==i[r]&&n(62)(i,r,{}),t.exports=function(t){i[r][t]=!0}},function(t,e,n){var r=n(78),i=n(187);t.exports=n(79)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){function r(t){if(!o(t))return!1;var e=i(t);return e==s||e==u||e==a||e==l}var i=n(136),o=n(193),a="[object AsyncFunction]",s="[object Function]",u="[object GeneratorFunction]",l="[object Proxy]";t.exports=r},function(t,e,n){var r=n(448),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},function(t,e,n){"use strict";function r(t){return function(){var e=t.apply(this,arguments);return new s.a(function(t,n){function r(i,o){try{var a=e[i](o),u=a.value}catch(t){return void n(t)}if(!a.done)return s.a.resolve(u).then(function(t){r("next",t)},function(t){r("throw",t)});t(u)}return r("next")})}}n.d(e,"b",function(){return c}),n.d(e,"a",function(){return h});var i=n(24),o=n.n(i),a=n(23),s=n.n(a),u=n(982),l=this,c=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"json";if("text"===e)return t;var n=new DOMParser,r=n.parseFromString(t,"application/xml");if("xml"===e)return r;var i=Object(u.a)(r);return"json"===e?i:void 0},h=function(){var t=r(o.a.mark(function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"json";return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.ok){t.next=2;break}return t.abrupt("return",new Error("Error parsing XML response: response not ok"));case 2:return t.t0=c,t.next=5,e.text();case 5:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 8:case"end":return t.stop()}},t,l)}));return function(e){return t.apply(this,arguments)}}()},function(t,e,n){"use strict";function r(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;try{var r=!0,i=!1,o=void 0;try{for(var a,s=l()(e.split("/"));!(r=(a=s.next()).done);r=!0){t=t[a.value]}}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return void 0!==t?t:n}catch(t){return n}}function i(t){return void 0===t?[]:Array.isArray(t)?t:[t]}function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if("boolean"==typeof t)return t;var n=/^\s*(?:(true|yes|1)|(false|no|0))\s*$/i,r=n.exec(t);return r?!!r[1]:e}function a(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=/^\s*(\d+\.\d+\.\d+)\s*$/,r=n.exec(t);return r?r[1]:e}function s(t){if(t)return[parseFloat(t["gsc:MinX"]),parseFloat(t["gsc:MinY"]),parseFloat(t["gsc:MaxX"]),parseFloat(t["gsc:MaxY"])]}e.e=r,e.a=i,e.b=o,e.d=a,e.c=s;var u=n(16),l=n.n(u),c=n(17);n.n(c),n(505)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=!("undefined"==typeof window||!window.document||!window.document.createElement),t.exports=e.default},function(t,e,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;e.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])}}return t},e.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var i={arraySet:function(t,e,n,r,i){if(e.subarray&&t.subarray)return void t.set(e.subarray(n,n+r),i);for(var o=0;o<r;o++)t[i+o]=e[n+o]},flattenChunks:function(t){var e,n,r,i,o,a;for(r=0,e=0,n=t.length;e<n;e++)r+=t[e].length;for(a=new Uint8Array(r),i=0,e=0,n=t.length;e<n;e++)o=t[e],a.set(o,i),i+=o.length;return a}},o={arraySet:function(t,e,n,r,i){for(var o=0;o<r;o++)t[i+o]=e[n+o]},flattenChunks:function(t){return[].concat.apply([],t)}};e.setTyped=function(t){t?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,i)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,o))},e.setTyped(r)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"TimeTravelType",function(){return i}),n.d(e,"SETUP",function(){return o}),n.d(e,"ADD_TIMETRAVEL",function(){return a}),n.d(e,"REMOVE_TIMETRAVEL",function(){return s}),n.d(e,"SET_TIME",function(){return u}),n.d(e,"SET_TIMES_VALUES",function(){return l}),n.d(e,"TOGGLE_TIMETRAVEL",function(){return c}),n.d(e,"LOAD_THUMBNAIL",function(){return h}),n.d(e,"setup",function(){return f}),n.d(e,"addTimeTravel",function(){return d}),n.d(e,"removeTimeTravel",function(){return p}),n.d(e,"toggleTimeTravel",function(){return m}),n.d(e,"setTime",function(){return g}),n.d(e,"setTimesValues",function(){return v}),n.d(e,"ActionTypes",function(){return b});var r=n(18),i=(n.n(r),{PANORAMA:"@@TimeTravelType/PANORAMA",OBLIQUE:"@@TimeTravelType/OBLIQUE"}),o="@@TimeTravel/SETUP",a="@@TimeTravel/ADD_TIMETRAVEL",s="@@TimeTravel/REMOVE_TIMETRAVEL",u="@@TimeTravel/SET_TIME",l="@@TimeTravel/SET_TIMES_VALUES",c="@@TimeTravel/TOGGLE_TIMETRAVEL",h="@@TimeTravel/LOAD_THUMBNAIL",f=Object(r.createAction)(o),d=Object(r.createAction)(a,function(t,e){return{id:t,viewerType:e}}),p=Object(r.createAction)(s,function(t){return{id:t}}),m=Object(r.createAction)(c,function(t,e){return{id:t,visible:e}}),g=Object(r.createAction)(u,function(t,e){return{id:t,time:e}}),v=Object(r.createAction)(l,function(t,e,n){return{id:t,times:e,timesValues:n}}),y=Object(r.createAction)(h,function(t,e){return{id:t,url:e}}),b={SETUP:o,ADD_TIMETRAVEL:a,REMOVE_TIMETRAVEL:s,TOGGLE_TIMETRAVEL:c,SET_TIME:u,SET_TIMES_VALUES:l,LOAD_THUMBNAIL:h};e.default={setup:f,addTimeTravel:d,removeTimeTravel:p,toggleTimeTravel:m,setTime:g,setTimesValues:v,setThumbnail:y}},function(t,e,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;e.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])}}return t},e.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var i={arraySet:function(t,e,n,r,i){if(e.subarray&&t.subarray)return void t.set(e.subarray(n,n+r),i);for(var o=0;o<r;o++)t[i+o]=e[n+o]},flattenChunks:function(t){var e,n,r,i,o,a;for(r=0,e=0,n=t.length;e<n;e++)r+=t[e].length;for(a=new Uint8Array(r),i=0,e=0,n=t.length;e<n;e++)o=t[e],a.set(o,i),i+=o.length;return a}},o={arraySet:function(t,e,n,r,i){for(var o=0;o<r;o++)t[i+o]=e[n+o]},flattenChunks:function(t){return[].concat.apply([],t)}};e.setTyped=function(t){t?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,i)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,o))},e.setTyped(r)},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e){t.exports=!1},function(t,e,n){var r=n(88),i=Math.max,o=Math.min;t.exports=function(t,e){return t=r(t),t<0?i(t+e,0):o(t,e)}},function(t,e,n){var r=n(20),i=n(391),o=n(278),a=n(277)("IE_PROTO"),s=function(){},u=function(){var t,e=n(275)("iframe"),r=o.length;for(e.style.display="none",n(279).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write("<script>document.F=Object<\/script>"),t.close(),u=t.F;r--;)delete u.prototype[o[r]];return u()};t.exports=Object.create||function(t,e){var n;return null!==t?(s.prototype=r(t),n=new s,s.prototype=null,n[a]=t):n=u(),void 0===e?n:i(n,e)}},function(t,e,n){var r=n(390),i=n(278).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e,n){"use strict";var r=n(21),i=n(41),o=n(40),a=n(35)("species");t.exports=function(t){var e=r[t];o&&e&&!e[a]&&i.f(e,a,{configurable:!0,get:function(){return this}})}},function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var r=n(75),i=n(401),o=n(291),a=n(20),s=n(42),u=n(293),l={},c={},e=t.exports=function(t,e,n,h,f){var d,p,m,g,v=f?function(){return t}:u(t),y=r(n,h,e?2:1),b=0;if("function"!=typeof v)throw TypeError(t+" is not iterable!");if(o(v)){for(d=s(t.length);d>b;b++)if((g=e?y(a(p=t[b])[0],p[1]):y(t[b]))===l||g===c)return g}else for(m=v.call(t);!(p=m.next()).done;)if((g=i(m,y,p.value,e))===l||g===c)return g};e.BREAK=l,e.RETURN=c},function(t,e,n){var r=n(63);t.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(434),i=n(315);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){function r(t){return null==t?void 0===t?u:s:l&&l in Object(t)?o(t):a(t)}var i=n(327),o=n(943),a=n(944),s="[object Null]",u="[object Undefined]",l=i?i.toStringTag:void 0;t.exports=r},function(t,e,n){"use strict";(function(t){function r(){return o.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(t,e){if(r()<e)throw new RangeError("Invalid typed array length");return o.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=o.prototype):(null===t&&(t=new o(e)),t.length=e),t}function o(t,e,n){if(!(o.TYPED_ARRAY_SUPPORT||this instanceof o))return new o(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return l(this,t)}return a(this,t,e,n)}function a(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?f(t,e,n,r):"string"==typeof e?c(t,e,n):d(t,e)}function s(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function u(t,e,n,r){return s(e),e<=0?i(t,e):void 0!==n?"string"==typeof r?i(t,e).fill(n,r):i(t,e).fill(n):i(t,e)}function l(t,e){if(s(e),t=i(t,e<0?0:0|p(e)),!o.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function c(t,e,n){if("string"==typeof n&&""!==n||(n="utf8"),!o.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|g(e,n);t=i(t,r);var a=t.write(e,n);return a!==r&&(t=t.slice(0,a)),t}function h(t,e){var n=e.length<0?0:0|p(e.length);t=i(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function f(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r),o.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=o.prototype):t=h(t,e),t}function d(t,e){if(o.isBuffer(e)){var n=0|p(e.length);return t=i(t,n),0===t.length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||Z(e.length)?i(t,0):h(t,e);if("Buffer"===e.type&&Q(e.data))return h(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function p(t){if(t>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|t}function m(t){return+t!=t&&(t=0),o.alloc(+t)}function g(t,e){if(o.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return H(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Y(t).length;default:if(r)return H(t).length;e=(""+e).toLowerCase(),r=!0}}function v(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,e>>>=0,n<=e)return"";for(t||(t="utf8");;)switch(t){case"hex":return R(this,e,n);case"utf8":case"utf-8":return I(this,e,n);case"ascii":return A(this,e,n);case"latin1":case"binary":return L(this,e,n);case"base64":return C(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function y(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function b(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=o.from(e,r)),o.isBuffer(e))return 0===e.length?-1:w(t,e,n,r,i);if("number"==typeof e)return e&=255,o.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):w(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function w(t,e,n,r,i){function o(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}var a=1,s=t.length,u=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a=2,s/=2,u/=2,n/=2}var l;if(i){var c=-1;for(l=n;l<s;l++)if(o(t,l)===o(e,-1===c?0:l-c)){if(-1===c&&(c=l),l-c+1===u)return c*a}else-1!==c&&(l-=l-c),c=-1}else for(n+u>s&&(n=s-u),l=n;l>=0;l--){for(var h=!0,f=0;f<u;f++)if(o(t,l+f)!==o(e,f)){h=!1;break}if(h)return l}return-1}function x(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function _(t,e,n,r){return X(H(e,t.length-n),t,n,r)}function E(t,e,n,r){return X(q(e),t,n,r)}function M(t,e,n,r){return E(t,e,n,r)}function S(t,e,n,r){return X(Y(e),t,n,r)}function T(t,e,n,r){return X(W(e,t.length-n),t,n,r)}function C(t,e,n){return 0===e&&n===t.length?K.fromByteArray(t):K.fromByteArray(t.slice(e,n))}function I(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o=t[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(i+s<=n){var u,l,c,h;switch(s){case 1:o<128&&(a=o);break;case 2:u=t[i+1],128==(192&u)&&(h=(31&o)<<6|63&u)>127&&(a=h);break;case 3:u=t[i+1],l=t[i+2],128==(192&u)&&128==(192&l)&&(h=(15&o)<<12|(63&u)<<6|63&l)>2047&&(h<55296||h>57343)&&(a=h);break;case 4:u=t[i+1],l=t[i+2],c=t[i+3],128==(192&u)&&128==(192&l)&&128==(192&c)&&(h=(15&o)<<18|(63&u)<<12|(63&l)<<6|63&c)>65535&&h<1114112&&(a=h)}}null===a?(a=65533,s=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|1023&a),r.push(a),i+=s}return O(r)}function O(t){var e=t.length;if(e<=J)return String.fromCharCode.apply(String,t);for(var n="",r=0;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=J));return n}function A(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function L(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function R(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=G(t[o]);return i}function N(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function P(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function k(t,e,n,r,i,a){if(!o.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<a)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function D(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function F(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function j(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function U(t,e,n,r,i){return i||j(t,e,n,4,3.4028234663852886e38,-3.4028234663852886e38),$.write(t,e,n,r,23,4),n+4}function B(t,e,n,r,i){return i||j(t,e,n,8,1.7976931348623157e308,-1.7976931348623157e308),$.write(t,e,n,r,52,8),n+8}function z(t){if(t=V(t).replace(tt,""),t.length<2)return"";for(;t.length%4!=0;)t+="=";return t}function V(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function G(t){return t<16?"0"+t.toString(16):t.toString(16)}function H(t,e){e=e||1/0;for(var n,r=t.length,i=null,o=[],a=0;a<r;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function q(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}function W(t,e){for(var n,r,i,o=[],a=0;a<t.length&&!((e-=2)<0);++a)n=t.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}function Y(t){return K.toByteArray(z(t))}function X(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function Z(t){return t!==t}var K=n(1018),$=n(1019),Q=n(1020);e.Buffer=o,e.SlowBuffer=m,e.INSPECT_MAX_BYTES=50,o.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=r(),o.poolSize=8192,o._augment=function(t){return t.__proto__=o.prototype,t},o.from=function(t,e,n){return a(null,t,e,n)},o.TYPED_ARRAY_SUPPORT&&(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0})),o.alloc=function(t,e,n){return u(null,t,e,n)},o.allocUnsafe=function(t){return l(null,t)},o.allocUnsafeSlow=function(t){return l(null,t)},o.isBuffer=function(t){return!(null==t||!t._isBuffer)},o.compare=function(t,e){if(!o.isBuffer(t)||!o.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,a=Math.min(n,r);i<a;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},o.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(t,e){if(!Q(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return o.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=o.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var a=t[n];if(!o.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},o.byteLength=g,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)y(this,e,e+1);return this},o.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)y(this,e,e+3),y(this,e+1,e+2);return this},o.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)y(this,e,e+7),y(this,e+1,e+6),y(this,e+2,e+5),y(this,e+3,e+4);return this},o.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?I(this,0,t):v.apply(this,arguments)},o.prototype.equals=function(t){if(!o.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===o.compare(this,t)},o.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},o.prototype.compare=function(t,e,n,r,i){if(!o.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,r>>>=0,i>>>=0,this===t)return 0;for(var a=i-r,s=n-e,u=Math.min(a,s),l=this.slice(r,i),c=t.slice(e,n),h=0;h<u;++h)if(l[h]!==c[h]){a=l[h],s=c[h];break}return a<s?-1:s<a?1:0},o.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},o.prototype.indexOf=function(t,e,n){return b(this,t,e,n,!0)},o.prototype.lastIndexOf=function(t,e,n){return b(this,t,e,n,!1)},o.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return x(this,t,e,n);case"utf8":case"utf-8":return _(this,t,e,n);case"ascii":return E(this,t,e,n);case"latin1":case"binary":return M(this,t,e,n);case"base64":return S(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var J=4096;o.prototype.slice=function(t,e){var n=this.length;t=~~t,e=void 0===e?n:~~e,t<0?(t+=n)<0&&(t=0):t>n&&(t=n),e<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);var r;if(o.TYPED_ARRAY_SUPPORT)r=this.subarray(t,e),r.__proto__=o.prototype;else{var i=e-t;r=new o(i,void 0);for(var a=0;a<i;++a)r[a]=this[a+t]}return r},o.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||P(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},o.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||P(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},o.prototype.readUInt8=function(t,e){return e||P(t,1,this.length),this[t]},o.prototype.readUInt16LE=function(t,e){return e||P(t,2,this.length),this[t]|this[t+1]<<8},o.prototype.readUInt16BE=function(t,e){return e||P(t,2,this.length),this[t]<<8|this[t+1]},o.prototype.readUInt32LE=function(t,e){return e||P(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},o.prototype.readUInt32BE=function(t,e){return e||P(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},o.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||P(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*e)),r},o.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||P(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},o.prototype.readInt8=function(t,e){return e||P(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},o.prototype.readInt16LE=function(t,e){e||P(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt16BE=function(t,e){e||P(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt32LE=function(t,e){return e||P(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},o.prototype.readInt32BE=function(t,e){return e||P(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},o.prototype.readFloatLE=function(t,e){return e||P(t,4,this.length),$.read(this,t,!0,23,4)},o.prototype.readFloatBE=function(t,e){return e||P(t,4,this.length),$.read(this,t,!1,23,4)},o.prototype.readDoubleLE=function(t,e){return e||P(t,8,this.length),$.read(this,t,!0,52,8)},o.prototype.readDoubleBE=function(t,e){return e||P(t,8,this.length),$.read(this,t,!1,52,8)},o.prototype.writeUIntLE=function(t,e,n,r){if(t=+t,e|=0,n|=0,!r){k(this,t,e,n,Math.pow(2,8*n)-1,0)}var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},o.prototype.writeUIntBE=function(t,e,n,r){if(t=+t,e|=0,n|=0,!r){k(this,t,e,n,Math.pow(2,8*n)-1,0)}var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},o.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,1,255,0),o.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},o.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):D(this,t,e,!0),e+2},o.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):D(this,t,e,!1),e+2},o.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):F(this,t,e,!0),e+4},o.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):F(this,t,e,!1),e+4},o.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);k(this,t,e,n,i-1,-i)}var o=0,a=1,s=0;for(this[e]=255&t;++o<n&&(a*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},o.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);k(this,t,e,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},o.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,1,127,-128),o.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},o.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):D(this,t,e,!0),e+2},o.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):D(this,t,e,!1),e+2},o.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,4,2147483647,-2147483648),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):F(this,t,e,!0),e+4},o.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):F(this,t,e,!1),e+4},o.prototype.writeFloatLE=function(t,e,n){return U(this,t,e,!0,n)},o.prototype.writeFloatBE=function(t,e,n){return U(this,t,e,!1,n)},o.prototype.writeDoubleLE=function(t,e,n){return B(this,t,e,!0,n)},o.prototype.writeDoubleBE=function(t,e,n){return B(this,t,e,!1,n)},o.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,a=r-n;if(this===t&&n<e&&e<r)for(i=a-1;i>=0;--i)t[i+e]=this[i+n];else if(a<1e3||!o.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+a),e);return a},o.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!o.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0);var a;if("number"==typeof t)for(a=e;a<n;++a)this[a]=t;else{var s=o.isBuffer(t)?t:H(new o(t,r).toString()),u=s.length;for(a=0;a<n-e;++a)this[a+e]=s[a%u]}return this};var tt=/[^+\/0-9A-Za-z-_]/g}).call(e,n(34))},function(t,e,n){"use strict";n.d(e,"k",function(){return _}),n.d(e,"h",function(){return E}),n.d(e,"d",function(){return M}),n.d(e,"e",function(){return S}),n.d(e,"g",function(){return T}),n.d(e,"f",function(){return C}),n.d(e,"b",function(){return O}),n.d(e,"j",function(){return R}),n.d(e,"i",function(){return F}),n.d(e,"c",function(){return U}),n.d(e,"a",function(){return B});var r=n(104),i=n.n(r),o=n(71),a=n.n(o),s=n(19),u=n.n(s),l=n(16),c=n.n(l),h=n(1043),f=n.n(h),d=n(46),p=(n.n(d),n(29)),m=n.n(p),g=n(39),v=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=c()(t);!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(u()(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),y=a.a,b=function(){return new Float64Array(2)},w=function(t){return d.vec3.copy(b(),t)},x=function(){return new Float64Array(3)},_=function(t,e){if(!t||!e)throw new Error("geometryUtils.yawFromOrigin():: one of points does not exist");var n=v(t,2),r=n[0],i=n[1],o=v(e,2),a=o[0],s=o[1],u=a-r,l=s-i,c=Math.atan2(u,l);return Object(g.f)(c,0,2*Math.PI)},E=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Array.isArray(t)&&(2===t.length||3===t.length)&&y(t[0])&&y(t[1])&&(3===t.length&&y(t[2])||!e)},M=function(t,e){return[(t[0]+e[0])/2,(t[1]+e[1])/2]},S=function(t,e){return[(t[0]+e[0])/2,(t[1]+e[1])/2,(t[2]+e[2])/2]},T=d.vec3.distance,C=d.vec2.distance,I=function(t){var e=t.length;if(e<3)return 0;for(var n=0,r=t[e-1],i=void 0,o=0;o<e;++o)i=t[o],n+=r[0]*i[1]-r[1]*i[0],r=i;return n/2},O=function(t){return Math.abs(I(t))},A=function(t){var e=t.length;if(e<3)return null;for(var n=x(),r=x(),i=x(),o=x(),a=0;a<e;++a){var s=t[a],u=t[(a-1+e)%e],l=t[(a+1)%e];d.vec3.cross(r,d.vec3.subtract(i,u,s),d.vec3.subtract(o,l,s));var c=.5*d.vec3.length(r),h=d.vec3.distance(u,s)+d.vec3.distance(l,u)+d.vec3.distance(s,l);Math.sqrt(Math.abs(c))>1e-6*h&&d.vec3.add(n,n,r)}var f=d.vec3.length(r);return Math.abs(f)<1e-6?null:d.vec3.scale(r,r,1/f)},L=function(t){var e=d.vec3.normalize(x(),t),n=d.vec3.cross(x(),e,Math.abs(e[0])<Math.abs(e[1])?[1,0,0]:[0,-1,0]);d.vec3.normalize(n,n);var r=d.vec3.cross(x(),n,e);return d.vec3.normalize(r,r),d.mat3.fromValues(r[0],n[0],e[0],r[1],n[1],e[1],r[2],n[2],e[2])},R=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.edges,r=e.normal,i=e.allowUnusedPoints,o=void 0!==i&&i;if(!t||!Array.isArray(t)||t.length<3)return null;var a=m.a.isEqual(t[0],t[t.length-1])?t.slice(0,-1):t,s=a.length;if(s<3)return null;var u=n||new Array(s).fill(0).map(function(t,e){return[e,(e+1)%s]}),l=r||A(a);if(!l)return null;var h=L(l),p=a.map(function(t){return d.vec3.transformMat3(x(),t,h)}),g=p.map(w),y=f()(g,u,{delaunay:!0,interior:!0,exterior:!1,infinity:!0});if(y&&!o){var b=new Array(a.length).fill(!1),_=!0,E=!1,M=void 0;try{for(var S,T=c()(y);!(_=(S=T.next()).done);_=!0){var C=v(S.value,3),I=C[0],O=C[1],R=C[2];b[I]=!0,b[O]=!0,b[R]=!0}}catch(t){E=!0,M=t}finally{try{!_&&T.return&&T.return()}finally{if(E)throw M}}if(b.some(function(t){return!t}))return null}return y},N=x(),P=x(),k=x(),D=function(t,e,n){return d.vec3.cross(N,d.vec3.subtract(P,e,t),d.vec3.subtract(k,n,t)),d.vec3.length(N)},F=function(t,e,n){return Math.abs(D(t,e,n))};F.Heron=function(t,e,n){var r=i()(e[0]-t[0],e[1]-t[1],e[2]-t[2]),o=i()(n[0]-e[0],n[1]-e[1],n[2]-e[2]),a=i()(t[0]-n[0],t[1]-n[1],t[2]-n[2]),s=.5*(r+o+a);return Math.sqrt(s*(s-r)*(s-o)*(s-a))};var j=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.triangles,r=e.edges,i=e.normal;if(t.length<3)return 0;var o=n||R(t,{edges:r,normal:i});if(!o)return NaN;var a=0,s=!0,u=!1,l=void 0;try{for(var h,f=c()(o);!(s=(h=f.next()).done);s=!0){var d=v(h.value,3),p=d[0],m=d[1],g=d[2];a+=D(t[p],t[m],t[g])}}catch(t){u=!0,l=t}finally{try{!s&&f.return&&f.return()}finally{if(u)throw l}}return a/2},U=function(t,e){return Math.abs(j(t,e))},B=function(t,e,n){return d.vec3.angle(d.vec3.sub(x(),e,t),d.vec3.sub(x(),n,t))}},function(t,e,n){function r(t){if(!a(t)||i(t)!=s)return!1;var e=o(t);if(null===e)return!0;var n=h.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==f}var i=n(136),o=n(1121),a=n(162),s="[object Object]",u=Function.prototype,l=Object.prototype,c=u.toString,h=l.hasOwnProperty,f=c.call(Object);t.exports=r},function(t,e,n){"use strict";function r(t){return function(){var e=t.apply(this,arguments);return new s.a(function(t,n){function r(i,o){try{var a=e[i](o),u=a.value}catch(t){return void n(t)}if(!a.done)return s.a.resolve(u).then(function(t){r("next",t)},function(t){r("throw",t)});t(u)}return r("next")})}}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"SET_API_KEY",function(){return y}),n.d(e,"LOAD_USER_INFO",function(){return b}),n.d(e,"LOAD_USER_CONFIG",function(){return w}),n.d(e,"DESTROY_USER_CONFIG",function(){return x}),n.d(e,"SET_CONFIG_URL",function(){return _}),n.d(e,"SET_CONFIG_FILE",function(){return E}),n.d(e,"SET_ADDRESS_SETTINGS",function(){return M}),n.d(e,"SET_IS_API",function(){return S}),n.d(e,"configurationServicePaths",function(){return T}),n.d(e,"setApiKey",function(){return O}),n.d(e,"getUserInfo",function(){return L}),n.d(e,"_internalLoadUserConfig",function(){return R}),n.d(e,"loadUserConfig",function(){return N}),n.d(e,"loadCustomConfig",function(){return P}),n.d(e,"setConfigUrl",function(){return k}),n.d(e,"setConfigFile",function(){return D}),n.d(e,"setAddressSettings",function(){return F}),n.d(e,"destroyUserConfig",function(){return j}),n.d(e,"setIsApi",function(){return U}),n.d(e,"ActionTypes",function(){return B});var i=n(24),o=n.n(i),a=n(23),s=n.n(a),u=n(4),l=n.n(u),c=n(18),h=(n.n(c),n(117)),f=n(1153),d=n(1154),p=n(589),m=n(53),g=l.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},v=this,y="@@config/SET_API_KEY",b="@@config/LOAD_USER_INFO",w="@@config/LOAD_USER_CONFIG",x="@@config/DESTROY_USER_CONFIG",_="@@config/SET_CONFIG_URL",E="@@config/SET_CONFIG_FILE",M="@@config/SET_ADDRESS_SETTINGS",S="@@config/SET_IS_API",T={USER_INFO:"userinfo/",CONFIGURATION:"configuration/{name}"},C=function(t,e){var n=new Request(t,{method:"POST",headers:new Headers(e),mode:"cors"});return fetch(n)},I=function(t){var e=new Request(t,{method:"GET"});return fetch(e)},O=Object(c.createAction)(y),A=Object(c.createAction)(b,function(){var t=r(o.a.mark(function t(){var e,n,r,i,a,s,u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=u.filter,c=u.headers,f=u.configUrl;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=c,e||(e=Object(m.b)()),n=f+T.USER_INFO,t.next=5,C(n,e);case 5:if(r=t.sent,r.ok){t.next=9;break}throw i="Loading user info failed with status code "+r.status+". Message: "+r.statusText,new Error(i);case 9:return t.next=11,Object(h.a)(r,"json");case 11:if(!((a=t.sent)instanceof Error)){t.next=14;break}throw new Error("parsing xml response of userinfo failed.");case 14:return s=new p.b,t.abrupt("return",s.parse(a,{filter:l}));case 16:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()),L=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.filter,n=t.headers;return function(){var t=r(o.a.mark(function t(r,i){var a,s,u,l;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=i().config,s=a.userInfo,u=a.configUrl,!s){t.next=3;break}return t.abrupt("return",{payload:s});case 3:return t.next=5,r(A({filter:e,headers:n,configUrl:u}));case 5:if(l=t.sent,!l.error){t.next=10;break}throw l.payload;case 10:return t.abrupt("return",l);case 11:case"end":return t.stop()}},t,v)}));return function(e,n){return t.apply(this,arguments)}}()},R=Object(c.createAction)(w,function(){var t=r(o.a.mark(function t(){var e,n,r,i,a,s,u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=u.name,c=u.headers,f=u.configUrl,p=u.configFile;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=c,e||(e=Object(m.b)()),n=f+T.CONFIGURATION.replace("{name}",l),r=void 0,!p){t.next=10;break}return t.next=7,I(p);case 7:r=t.sent,t.next=13;break;case 10:return t.next=12,C(n,e);case 12:r=t.sent;case 13:if(r.ok){t.next=15;break}throw new Error("Loading configuration failed with status code "+r.status+". Message: "+r.statusText);case 15:return t.next=17,Object(h.a)(r,"json");case 17:if(!((i=t.sent)instanceof Error)){t.next=20;break}throw new Error("parsing xml response of user config failed.");case 20:return a=new d.a,s=a.parseConfig(i),t.abrupt("return",{config:g({},s,{configId:l}),configId:l});case 23:case"end":return t.stop()}},t,v)}));return function(){return t.apply(this,arguments)}}()),N=function(t){return function(){var e=r(o.a.mark(function e(n,r){var i,a,s,u;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=r().config,a=i.configUrl,s=i.configFile,e.next=3,n(R(g({},t,{configUrl:a,configFile:s})));case 3:if(u=e.sent,!u.error){e.next=6;break}throw u.payload;case 6:return e.abrupt("return",u);case 7:case"end":return e.stop()}},e,v)}));return function(t,n){return e.apply(this,arguments)}}()},P=Object(c.createAction)(w,function(){var t=r(o.a.mark(function t(e){var n,r,i,a,s,u=e.url;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=new Request(u,{method:"GET",mode:"cors"}),t.next=3,fetch(n);case 3:if(r=t.sent,r.ok){t.next=6;break}throw new Error("Loading tid configuration failed with status code "+r.status+". Message: "+r.statusText);case 6:return t.next=8,Object(h.a)(r,"json");case 8:if(!((i=t.sent)instanceof Error)){t.next=11;break}throw new Error("parsing xml response of user config failed.");case 11:return a=new d.a,s=a.parseConfig(i),t.abrupt("return",{config:g({},s)});case 14:case"end":return t.stop()}},t,v)}));return function(e){return t.apply(this,arguments)}}()),k=Object(c.createAction)(_,function(t){return t&&!/\/$/.test(t)?t+"/":t}),D=Object(c.createAction)(E),F=Object(c.createAction)(M,function(t){var e=t.locale,n=t.database;if(!e||!n)throw new Error("Locale or database not provided.");if(!f.a.map(function(t){return t.toLowerCase()}).includes(n.toLowerCase()))throw new Error("Unsupported address database resource.");return{locale:e,database:n}}),j=Object(c.createAction)(x),U=Object(c.createAction)(S),B={SET_API_KEY:y,LOAD_USER_INFO:b,LOAD_USER_CONFIG:w,DESTROY_USER_CONFIG:x,SET_CONFIG_URL:_,SET_CONFIG_FILE:E,SET_ADDRESS_SETTINGS:M,SET_IS_API:S};e.default={setApiKey:O,loadUserConfig:N,loadCustomConfig:P,destroyUserConfig:j,setConfigUrl:k,setConfigFile:D,setAddressSettings:F,setIsApi:U}},function(t,e,n){"use strict";var r=n(1157),i=new r.a({Basic:{value:"Basic",description:"Basic usage"},AddLayerSHP:{value:"AddLayerSHP",description:"Add SHP layers"},AddLayerWFS:{value:"AddLayerWFS",description:"Add WFS layers"},AddLayerWMS:{value:"AddLayerWMS",description:"Add WMS layers"},MapDrawingTool:{value:"MapDrawingTool",description:"Use map drawing tool"},MeasureAdvanced:{value:"MeasureAdvanced",description:"Create advanced measurements"},MeasurePoint:{value:"MeasurePoint",description:"Measure points"},MeasureHeight:{value:"MeasureHeight",description:"Measure heights"},MeasureLine:{value:"MeasureLine",description:"Measure lines"},MeasurePolygon:{value:"MeasurePolygon",description:"Measure polygons"},MeasureArea:{value:"MeasureArea",description:"Measure areas"},MeasureVolume:{value:"MeasureVolume",description:"Measure volumes"},MeasureSmartClick:{value:"MeasureSmartClick",description:"Measure using Smart Click"},MeasureSmart:{value:"MeasureSmart",description:"Measure using Measure Smart"},Player:{value:"Player",description:"Player"},ShapePlaylist:{value:"ShapePlaylist",description:"Import playlist from SHP"},ReportBlurring:{value:"ReportBlurring",decription:"Report blurring is needed"}});e.a=i},function(t,e,n){"use strict";n.d(e,"a",function(){return m});var r=n(1171),i=n.n(r),o=n(19),a=n.n(o),s=n(16),u=n.n(s),l=n(17),c=n.n(l),h=(function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=u()(t);!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}}(),function(t,e){return Math.max(c.a.extent.getWidth(t)/e[0],c.a.extent.getHeight(t)/e[1])}),f=function(t,e){return t/Math.pow(2,e)},d=function(t,e){return i()(t/e)},p=function(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=new Array(e+1),i=n;i<=e;i++)r[i]=f(t,i);return r},m=function(t,e){var n=document.createElement("CANVAS");return t&&(n.width=t),e&&(n.height=e),n.getContext("2d")};e.b={getResolutionForExtent:h,getResolutionForZoomLevel:f,getZoomLevelForResolution:d,buildResolutions:p,createCanvasContext2D:m}},function(t,e,n){var r,i;!function(e,n){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(e)}("undefined"!=typeof window?window:this,function(n,o){"use strict";function a(t,e){e=e||at;var n=e.createElement("script");n.text=t,e.head.appendChild(n).parentNode.removeChild(n)}function s(t){var e=!!t&&"length"in t&&t.length,n=yt.type(t);return"function"!==n&&!yt.isWindow(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}function u(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}function l(t,e,n){return yt.isFunction(e)?yt.grep(t,function(t,r){return!!e.call(t,r,t)!==n}):e.nodeType?yt.grep(t,function(t){return t===e!==n}):"string"!=typeof e?yt.grep(t,function(t){return ht.call(e,t)>-1!==n}):It.test(e)?yt.filter(e,t,n):(e=yt.filter(e,t),yt.grep(t,function(t){return ht.call(e,t)>-1!==n&&1===t.nodeType}))}function c(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function h(t){var e={};return yt.each(t.match(Nt)||[],function(t,n){e[n]=!0}),e}function f(t){return t}function d(t){throw t}function p(t,e,n,r){var i;try{t&&yt.isFunction(i=t.promise)?i.call(t).done(e).fail(n):t&&yt.isFunction(i=t.then)?i.call(t,e,n):e.apply(void 0,[t].slice(r))}catch(t){n.apply(void 0,[t])}}function m(){at.removeEventListener("DOMContentLoaded",m),n.removeEventListener("load",m),yt.ready()}function g(){this.expando=yt.expando+g.uid++}function v(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:Bt.test(t)?JSON.parse(t):t)}function y(t,e,n){var r;if(void 0===n&&1===t.nodeType)if(r="data-"+e.replace(zt,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(r))){try{n=v(n)}catch(t){}Ut.set(t,e,n)}else n=void 0;return n}function b(t,e,n,r){var i,o=1,a=20,s=r?function(){return r.cur()}:function(){return yt.css(t,e,"")},u=s(),l=n&&n[3]||(yt.cssNumber[e]?"":"px"),c=(yt.cssNumber[e]||"px"!==l&&+u)&&Gt.exec(yt.css(t,e));if(c&&c[3]!==l){l=l||c[3],n=n||[],c=+u||1;do{o=o||".5",c/=o,yt.style(t,e,c+l)}while(o!==(o=s()/u)&&1!==o&&--a)}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}function w(t){var e,n=t.ownerDocument,r=t.nodeName,i=Yt[r];return i||(e=n.body.appendChild(n.createElement(r)),i=yt.css(e,"display"),e.parentNode.removeChild(e),"none"===i&&(i="block"),Yt[r]=i,i)}function x(t,e){for(var n,r,i=[],o=0,a=t.length;o<a;o++)r=t[o],r.style&&(n=r.style.display,e?("none"===n&&(i[o]=jt.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&qt(r)&&(i[o]=w(r))):"none"!==n&&(i[o]="none",jt.set(r,"display",n)));for(o=0;o<a;o++)null!=i[o]&&(t[o].style.display=i[o]);return t}function _(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&u(t,e)?yt.merge([t],n):n}function E(t,e){for(var n=0,r=t.length;n<r;n++)jt.set(t[n],"globalEval",!e||jt.get(e[n],"globalEval"))}function M(t,e,n,r,i){for(var o,a,s,u,l,c,h=e.createDocumentFragment(),f=[],d=0,p=t.length;d<p;d++)if((o=t[d])||0===o)if("object"===yt.type(o))yt.merge(f,o.nodeType?[o]:o);else if(Qt.test(o)){for(a=a||h.appendChild(e.createElement("div")),s=(Zt.exec(o)||["",""])[1].toLowerCase(),u=$t[s]||$t._default,a.innerHTML=u[1]+yt.htmlPrefilter(o)+u[2],c=u[0];c--;)a=a.lastChild;yt.merge(f,a.childNodes),a=h.firstChild,a.textContent=""}else f.push(e.createTextNode(o));for(h.textContent="",d=0;o=f[d++];)if(r&&yt.inArray(o,r)>-1)i&&i.push(o);else if(l=yt.contains(o.ownerDocument,o),a=_(h.appendChild(o),"script"),l&&E(a),n)for(c=0;o=a[c++];)Kt.test(o.type||"")&&n.push(o);return h}function S(){return!0}function T(){return!1}function C(){try{return at.activeElement}catch(t){}}function I(t,e,n,r,i,o){var a,s;if("object"==typeof e){"string"!=typeof n&&(r=r||n,n=void 0);for(s in e)I(t,s,n,r,e[s],o);return t}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=T;else if(!i)return t;return 1===o&&(a=i,i=function(t){return yt().off(t),a.apply(this,arguments)},i.guid=a.guid||(a.guid=yt.guid++)),t.each(function(){yt.event.add(this,e,i,r,n)})}function O(t,e){return u(t,"table")&&u(11!==e.nodeType?e:e.firstChild,"tr")?yt(">tbody",t)[0]||t:t}function A(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function L(t){var e=ae.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function R(t,e){var n,r,i,o,a,s,u,l;if(1===e.nodeType){if(jt.hasData(t)&&(o=jt.access(t),a=jt.set(e,o),l=o.events)){delete a.handle,a.events={};for(i in l)for(n=0,r=l[i].length;n<r;n++)yt.event.add(e,i,l[i][n])}Ut.hasData(t)&&(s=Ut.access(t),u=yt.extend({},s),Ut.set(e,u))}}function N(t,e){var n=e.nodeName.toLowerCase();"input"===n&&Xt.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function P(t,e,n,r){e=lt.apply([],e);var i,o,s,u,l,c,h=0,f=t.length,d=f-1,p=e[0],m=yt.isFunction(p);if(m||f>1&&"string"==typeof p&&!vt.checkClone&&oe.test(p))return t.each(function(i){var o=t.eq(i);m&&(e[0]=p.call(this,i,o.html())),P(o,e,n,r)});if(f&&(i=M(e,t[0].ownerDocument,!1,t,r),o=i.firstChild,1===i.childNodes.length&&(i=o),o||r)){for(s=yt.map(_(i,"script"),A),u=s.length;h<f;h++)l=i,h!==d&&(l=yt.clone(l,!0,!0),u&&yt.merge(s,_(l,"script"))),n.call(t[h],l,h);if(u)for(c=s[s.length-1].ownerDocument,yt.map(s,L),h=0;h<u;h++)l=s[h],Kt.test(l.type||"")&&!jt.access(l,"globalEval")&&yt.contains(c,l)&&(l.src?yt._evalUrl&&yt._evalUrl(l.src):a(l.textContent.replace(se,""),c))}return t}function k(t,e,n){for(var r,i=e?yt.filter(e,t):t,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||yt.cleanData(_(r)),r.parentNode&&(n&&yt.contains(r.ownerDocument,r)&&E(_(r,"script")),r.parentNode.removeChild(r));return t}function D(t,e,n){var r,i,o,a,s=t.style;return n=n||ce(t),n&&(a=n.getPropertyValue(e)||n[e],""!==a||yt.contains(t.ownerDocument,t)||(a=yt.style(t,e)),!vt.pixelMarginRight()&&le.test(a)&&ue.test(e)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function F(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function j(t){if(t in ge)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=me.length;n--;)if((t=me[n]+e)in ge)return t}function U(t){var e=yt.cssProps[t];return e||(e=yt.cssProps[t]=j(t)||t),e}function B(t,e,n){var r=Gt.exec(e);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):e}function z(t,e,n,r,i){var o,a=0;for(o=n===(r?"border":"content")?4:"width"===e?1:0;o<4;o+=2)"margin"===n&&(a+=yt.css(t,n+Ht[o],!0,i)),r?("content"===n&&(a-=yt.css(t,"padding"+Ht[o],!0,i)),"margin"!==n&&(a-=yt.css(t,"border"+Ht[o]+"Width",!0,i))):(a+=yt.css(t,"padding"+Ht[o],!0,i),"padding"!==n&&(a+=yt.css(t,"border"+Ht[o]+"Width",!0,i)));return a}function V(t,e,n){var r,i=ce(t),o=D(t,e,i),a="border-box"===yt.css(t,"boxSizing",!1,i);return le.test(o)?o:(r=a&&(vt.boxSizingReliable()||o===t.style[e]),"auto"===o&&(o=t["offset"+e[0].toUpperCase()+e.slice(1)]),(o=parseFloat(o)||0)+z(t,e,n||(a?"border":"content"),r,i)+"px")}function G(t,e,n,r,i){return new G.prototype.init(t,e,n,r,i)}function H(){ye&&(!1===at.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(H):n.setTimeout(H,yt.fx.interval),yt.fx.tick())}function q(){return n.setTimeout(function(){ve=void 0}),ve=yt.now()}function W(t,e){var n,r=0,i={height:t};for(e=e?1:0;r<4;r+=2-e)n=Ht[r],i["margin"+n]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function Y(t,e,n){for(var r,i=(K.tweeners[e]||[]).concat(K.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,e,t))return r}function X(t,e,n){var r,i,o,a,s,u,l,c,h="width"in e||"height"in e,f=this,d={},p=t.style,m=t.nodeType&&qt(t),g=jt.get(t,"fxshow");n.queue||(a=yt._queueHooks(t,"fx"),null==a.unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,f.always(function(){f.always(function(){a.unqueued--,yt.queue(t,"fx").length||a.empty.fire()})}));for(r in e)if(i=e[r],be.test(i)){if(delete e[r],o=o||"toggle"===i,i===(m?"hide":"show")){if("show"!==i||!g||void 0===g[r])continue;m=!0}d[r]=g&&g[r]||yt.style(t,r)}if((u=!yt.isEmptyObject(e))||!yt.isEmptyObject(d)){h&&1===t.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],l=g&&g.display,null==l&&(l=jt.get(t,"display")),c=yt.css(t,"display"),"none"===c&&(l?c=l:(x([t],!0),l=t.style.display||l,c=yt.css(t,"display"),x([t]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===yt.css(t,"float")&&(u||(f.done(function(){p.display=l}),null==l&&(c=p.display,l="none"===c?"":c)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",f.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),u=!1;for(r in d)u||(g?"hidden"in g&&(m=g.hidden):g=jt.access(t,"fxshow",{display:l}),o&&(g.hidden=!m),m&&x([t],!0),f.done(function(){m||x([t]),jt.remove(t,"fxshow");for(r in d)yt.style(t,r,d[r])})),u=Y(m?g[r]:0,r,f),r in g||(g[r]=u.start,m&&(u.end=u.start,u.start=0))}}function Z(t,e){var n,r,i,o,a;for(n in t)if(r=yt.camelCase(n),i=e[r],o=t[n],Array.isArray(o)&&(i=o[1],o=t[n]=o[0]),n!==r&&(t[r]=o,delete t[n]),(a=yt.cssHooks[r])&&"expand"in a){o=a.expand(o),delete t[r];for(n in o)n in t||(t[n]=o[n],e[n]=i)}else e[r]=i}function K(t,e,n){var r,i,o=0,a=K.prefilters.length,s=yt.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var e=ve||q(),n=Math.max(0,l.startTime+l.duration-e),r=n/l.duration||0,o=1-r,a=0,u=l.tweens.length;a<u;a++)l.tweens[a].run(o);return s.notifyWith(t,[l,o,n]),o<1&&u?n:(u||s.notifyWith(t,[l,1,0]),s.resolveWith(t,[l]),!1)},l=s.promise({elem:t,props:yt.extend({},e),opts:yt.extend(!0,{specialEasing:{},easing:yt.easing._default},n),originalProperties:e,originalOptions:n,startTime:ve||q(),duration:n.duration,tweens:[],createTween:function(e,n){var r=yt.Tween(t,l.opts,e,n,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(r),r},stop:function(e){var n=0,r=e?l.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)l.tweens[n].run(1);return e?(s.notifyWith(t,[l,1,0]),s.resolveWith(t,[l,e])):s.rejectWith(t,[l,e]),this}}),c=l.props;for(Z(c,l.opts.specialEasing);o<a;o++)if(r=K.prefilters[o].call(l,t,c,l.opts))return yt.isFunction(r.stop)&&(yt._queueHooks(l.elem,l.opts.queue).stop=yt.proxy(r.stop,r)),r;return yt.map(c,Y,l),yt.isFunction(l.opts.start)&&l.opts.start.call(t,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),yt.fx.timer(yt.extend(u,{elem:t,anim:l,queue:l.opts.queue})),l}function $(t){return(t.match(Nt)||[]).join(" ")}function Q(t){return t.getAttribute&&t.getAttribute("class")||""}function J(t,e,n,r){var i;if(Array.isArray(e))yt.each(e,function(e,i){n||Ae.test(t)?r(t,i):J(t+"["+("object"==typeof i&&null!=i?e:"")+"]",i,n,r)});else if(n||"object"!==yt.type(e))r(t,e);else for(i in e)J(t+"["+i+"]",e[i],n,r)}function tt(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var r,i=0,o=e.toLowerCase().match(Nt)||[];if(yt.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(t[r]=t[r]||[]).unshift(n)):(t[r]=t[r]||[]).push(n)}}function et(t,e,n,r){function i(s){var u;return o[s]=!0,yt.each(t[s]||[],function(t,s){var l=s(e,n,r);return"string"!=typeof l||a||o[l]?a?!(u=l):void 0:(e.dataTypes.unshift(l),i(l),!1)}),u}var o={},a=t===Ve;return i(e.dataTypes[0])||!o["*"]&&i("*")}function nt(t,e){var n,r,i=yt.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((i[n]?t:r||(r={}))[n]=e[n]);return r&&yt.extend(!0,t,r),t}function rt(t,e,n){for(var r,i,o,a,s=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||t.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}function it(t,e,n,r){var i,o,a,s,u,l={},c=t.dataTypes.slice();if(c[1])for(a in t.converters)l[a.toLowerCase()]=t.converters[a];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!u&&r&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if(s=i.split(" "),s[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&t.throws)e=a(e);else try{e=a(e)}catch(t){return{state:"parsererror",error:a?t:"No conversion from "+u+" to "+o}}}return{state:"success",data:e}}var ot=[],at=n.document,st=Object.getPrototypeOf,ut=ot.slice,lt=ot.concat,ct=ot.push,ht=ot.indexOf,ft={},dt=ft.toString,pt=ft.hasOwnProperty,mt=pt.toString,gt=mt.call(Object),vt={},yt=function(t,e){return new yt.fn.init(t,e)},bt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,wt=/^-ms-/,xt=/-([a-z])/g,_t=function(t,e){return e.toUpperCase()};yt.fn=yt.prototype={jquery:"3.2.1",constructor:yt,length:0,toArray:function(){return ut.call(this)},get:function(t){return null==t?ut.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=yt.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return yt.each(this,t)},map:function(t){return this.pushStack(yt.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(ut.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:ct,sort:ot.sort,splice:ot.splice},yt.extend=yt.fn.extend=function(){var t,e,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||yt.isFunction(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(t=arguments[s]))for(e in t)n=a[e],r=t[e],a!==r&&(l&&r&&(yt.isPlainObject(r)||(i=Array.isArray(r)))?(i?(i=!1,o=n&&Array.isArray(n)?n:[]):o=n&&yt.isPlainObject(n)?n:{},a[e]=yt.extend(l,o,r)):void 0!==r&&(a[e]=r));return a},yt.extend({expando:"jQuery"+("3.2.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===yt.type(t)},isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){var e=yt.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==dt.call(t))&&(!(e=st(t))||"function"==typeof(n=pt.call(e,"constructor")&&e.constructor)&&mt.call(n)===gt)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?ft[dt.call(t)]||"object":typeof t},globalEval:function(t){a(t)},camelCase:function(t){return t.replace(wt,"ms-").replace(xt,_t)},each:function(t,e){var n,r=0;if(s(t))for(n=t.length;r<n&&!1!==e.call(t[r],r,t[r]);r++);else for(r in t)if(!1===e.call(t[r],r,t[r]))break;return t},trim:function(t){return null==t?"":(t+"").replace(bt,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(s(Object(t))?yt.merge(n,"string"==typeof t?[t]:t):ct.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:ht.call(e,t,n)},merge:function(t,e){for(var n=+e.length,r=0,i=t.length;r<n;r++)t[i++]=e[r];return t.length=i,t},grep:function(t,e,n){for(var r=[],i=0,o=t.length,a=!n;i<o;i++)!e(t[i],i)!==a&&r.push(t[i]);return r},map:function(t,e,n){var r,i,o=0,a=[];if(s(t))for(r=t.length;o<r;o++)null!=(i=e(t[o],o,n))&&a.push(i);else for(o in t)null!=(i=e(t[o],o,n))&&a.push(i);return lt.apply([],a)},guid:1,proxy:function(t,e){var n,r,i;if("string"==typeof e&&(n=t[e],e=t,t=n),yt.isFunction(t))return r=ut.call(arguments,2),i=function(){return t.apply(e||this,r.concat(ut.call(arguments)))},i.guid=t.guid=t.guid||yt.guid++,i},now:Date.now,support:vt}),"function"==typeof Symbol&&(yt.fn[Symbol.iterator]=ot[Symbol.iterator]),yt.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){ft["[object "+e+"]"]=e.toLowerCase()});var Et=function(t){function e(t,e,n,r){var i,o,a,s,u,c,f,d=e&&e.ownerDocument,p=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==p&&9!==p&&11!==p)return n;if(!r&&((e?e.ownerDocument||e:U)!==L&&A(e),e=e||L,N)){if(11!==p&&(u=mt.exec(t)))if(i=u[1]){if(9===p){if(!(a=e.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(d&&(a=d.getElementById(i))&&F(e,a)&&a.id===i)return n.push(a),n}else{if(u[2])return K.apply(n,e.getElementsByTagName(t)),n;if((i=u[3])&&w.getElementsByClassName&&e.getElementsByClassName)return K.apply(n,e.getElementsByClassName(i)),n}if(w.qsa&&!H[t+" "]&&(!P||!P.test(t))){if(1!==p)d=e,f=t;else if("object"!==e.nodeName.toLowerCase()){for((s=e.getAttribute("id"))?s=s.replace(bt,wt):e.setAttribute("id",s=j),c=M(t),o=c.length;o--;)c[o]="#"+s+" "+h(c[o]);f=c.join(","),d=gt.test(t)&&l(e.parentNode)||e}if(f)try{return K.apply(n,d.querySelectorAll(f)),n}catch(t){}finally{s===j&&e.removeAttribute("id")}}}return T(t.replace(ot,"$1"),e,n,r)}function n(){function t(n,r){return e.push(n+" ")>x.cacheLength&&delete t[e.shift()],t[n+" "]=r}var e=[];return t}function r(t){return t[j]=!0,t}function i(t){var e=L.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),r=n.length;r--;)x.attrHandle[n[r]]=e}function a(t,e){var n=e&&t,r=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function s(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&_t(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function u(t){return r(function(e){return e=+e,r(function(n,r){for(var i,o=t([],n.length,e),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function l(t){return t&&void 0!==t.getElementsByTagName&&t}function c(){}function h(t){for(var e=0,n=t.length,r="";e<n;e++)r+=t[e].value;return r}function f(t,e,n){var r=e.dir,i=e.next,o=i||r,a=n&&"parentNode"===o,s=z++;return e.first?function(e,n,i){for(;e=e[r];)if(1===e.nodeType||a)return t(e,n,i);return!1}:function(e,n,u){var l,c,h,f=[B,s];if(u){for(;e=e[r];)if((1===e.nodeType||a)&&t(e,n,u))return!0}else for(;e=e[r];)if(1===e.nodeType||a)if(h=e[j]||(e[j]={}),c=h[e.uniqueID]||(h[e.uniqueID]={}),i&&i===e.nodeName.toLowerCase())e=e[r]||e;else{if((l=c[o])&&l[0]===B&&l[1]===s)return f[2]=l[2];if(c[o]=f,f[2]=t(e,n,u))return!0}return!1}}function d(t){return t.length>1?function(e,n,r){for(var i=t.length;i--;)if(!t[i](e,n,r))return!1;return!0}:t[0]}function p(t,n,r){for(var i=0,o=n.length;i<o;i++)e(t,n[i],r);return r}function m(t,e,n,r,i){for(var o,a=[],s=0,u=t.length,l=null!=e;s<u;s++)(o=t[s])&&(n&&!n(o,r,i)||(a.push(o),l&&e.push(s)));return a}function g(t,e,n,i,o,a){return i&&!i[j]&&(i=g(i)),o&&!o[j]&&(o=g(o,a)),r(function(r,a,s,u){var l,c,h,f=[],d=[],g=a.length,v=r||p(e||"*",s.nodeType?[s]:s,[]),y=!t||!r&&e?v:m(v,f,t,s,u),b=n?o||(r?t:g||i)?[]:a:y;if(n&&n(y,b,s,u),i)for(l=m(b,d),i(l,[],s,u),c=l.length;c--;)(h=l[c])&&(b[d[c]]=!(y[d[c]]=h));if(r){if(o||t){if(o){for(l=[],c=b.length;c--;)(h=b[c])&&l.push(y[c]=h);o(null,b=[],l,u)}for(c=b.length;c--;)(h=b[c])&&(l=o?Q(r,h):f[c])>-1&&(r[l]=!(a[l]=h))}}else b=m(b===a?b.splice(g,b.length):b),o?o(null,a,b,u):K.apply(a,b)})}function v(t){for(var e,n,r,i=t.length,o=x.relative[t[0].type],a=o||x.relative[" "],s=o?1:0,u=f(function(t){return t===e},a,!0),l=f(function(t){return Q(e,t)>-1},a,!0),c=[function(t,n,r){var i=!o&&(r||n!==C)||((e=n).nodeType?u(t,n,r):l(t,n,r));return e=null,i}];s<i;s++)if(n=x.relative[t[s].type])c=[f(d(c),n)];else{if(n=x.filter[t[s].type].apply(null,t[s].matches),n[j]){for(r=++s;r<i&&!x.relative[t[r].type];r++);return g(s>1&&d(c),s>1&&h(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(ot,"$1"),n,s<r&&v(t.slice(s,r)),r<i&&v(t=t.slice(r)),r<i&&h(t))}c.push(n)}return d(c)}function y(t,n){var i=n.length>0,o=t.length>0,a=function(r,a,s,u,l){var c,h,f,d=0,p="0",g=r&&[],v=[],y=C,b=r||o&&x.find.TAG("*",l),w=B+=null==y?1:Math.random()||.1,_=b.length;for(l&&(C=a===L||a||l);p!==_&&null!=(c=b[p]);p++){if(o&&c){for(h=0,a||c.ownerDocument===L||(A(c),s=!N);f=t[h++];)if(f(c,a||L,s)){u.push(c);break}l&&(B=w)}i&&((c=!f&&c)&&d--,r&&g.push(c))}if(d+=p,i&&p!==d){for(h=0;f=n[h++];)f(g,v,a,s);if(r){if(d>0)for(;p--;)g[p]||v[p]||(v[p]=X.call(u));v=m(v)}K.apply(u,v),l&&!r&&v.length>0&&d+n.length>1&&e.uniqueSort(u)}return l&&(B=w,C=y),g};return i?r(a):a}var b,w,x,_,E,M,S,T,C,I,O,A,L,R,N,P,k,D,F,j="sizzle"+1*new Date,U=t.document,B=0,z=0,V=n(),G=n(),H=n(),q=function(t,e){return t===e&&(O=!0),0},W={}.hasOwnProperty,Y=[],X=Y.pop,Z=Y.push,K=Y.push,$=Y.slice,Q=function(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},J="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",tt="[\\x20\\t\\r\\n\\f]",et="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",nt="\\["+tt+"*("+et+")(?:"+tt+"*([*^$|!~]?=)"+tt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+et+"))|)"+tt+"*\\]",rt=":("+et+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+nt+")*)|.*)\\)|)",it=new RegExp(tt+"+","g"),ot=new RegExp("^"+tt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+tt+"+$","g"),at=new RegExp("^"+tt+"*,"+tt+"*"),st=new RegExp("^"+tt+"*([>+~]|"+tt+")"+tt+"*"),ut=new RegExp("="+tt+"*([^\\]'\"]*?)"+tt+"*\\]","g"),lt=new RegExp(rt),ct=new RegExp("^"+et+"$"),ht={ID:new RegExp("^#("+et+")"),CLASS:new RegExp("^\\.("+et+")"),TAG:new RegExp("^("+et+"|[*])"),ATTR:new RegExp("^"+nt),PSEUDO:new RegExp("^"+rt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+tt+"*(even|odd|(([+-]|)(\\d*)n|)"+tt+"*(?:([+-]|)"+tt+"*(\\d+)|))"+tt+"*\\)|)","i"),bool:new RegExp("^(?:"+J+")$","i"),needsContext:new RegExp("^"+tt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+tt+"*((?:-\\d)?\\d*)"+tt+"*\\)|)(?=[^-]|$)","i")},ft=/^(?:input|select|textarea|button)$/i,dt=/^h\d$/i,pt=/^[^{]+\{\s*\[native \w/,mt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,gt=/[+~]/,vt=new RegExp("\\\\([\\da-f]{1,6}"+tt+"?|("+tt+")|.)","ig"),yt=function(t,e,n){var r="0x"+e-65536;return r!==r||n?e:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},bt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,wt=function(t,e){return e?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},xt=function(){A()},_t=f(function(t){return!0===t.disabled&&("form"in t||"label"in t)},{dir:"parentNode",next:"legend"});try{K.apply(Y=$.call(U.childNodes),U.childNodes),Y[U.childNodes.length].nodeType}catch(t){K={apply:Y.length?function(t,e){Z.apply(t,$.call(e))}:function(t,e){for(var n=t.length,r=0;t[n++]=e[r++];);t.length=n-1}}}w=e.support={},E=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},A=e.setDocument=function(t){var e,n,r=t?t.ownerDocument||t:U;return r!==L&&9===r.nodeType&&r.documentElement?(L=r,R=L.documentElement,N=!E(L),U!==L&&(n=L.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",xt,!1):n.attachEvent&&n.attachEvent("onunload",xt)),w.attributes=i(function(t){return t.className="i",!t.getAttribute("className")}),w.getElementsByTagName=i(function(t){return t.appendChild(L.createComment("")),!t.getElementsByTagName("*").length}),w.getElementsByClassName=pt.test(L.getElementsByClassName),w.getById=i(function(t){return R.appendChild(t).id=j,!L.getElementsByName||!L.getElementsByName(j).length}),w.getById?(x.filter.ID=function(t){var e=t.replace(vt,yt);return function(t){return t.getAttribute("id")===e}},x.find.ID=function(t,e){if(void 0!==e.getElementById&&N){var n=e.getElementById(t);return n?[n]:[]}}):(x.filter.ID=function(t){var e=t.replace(vt,yt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},x.find.ID=function(t,e){if(void 0!==e.getElementById&&N){var n,r,i,o=e.getElementById(t);if(o){if((n=o.getAttributeNode("id"))&&n.value===t)return[o];for(i=e.getElementsByName(t),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===t)return[o]}return[]}}),x.find.TAG=w.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):w.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,r=[],i=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},x.find.CLASS=w.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&N)return e.getElementsByClassName(t)},k=[],P=[],(w.qsa=pt.test(L.querySelectorAll))&&(i(function(t){R.appendChild(t).innerHTML="<a id='"+j+"'></a><select id='"+j+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&P.push("[*^$]="+tt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||P.push("\\["+tt+"*(?:value|"+J+")"),t.querySelectorAll("[id~="+j+"-]").length||P.push("~="),t.querySelectorAll(":checked").length||P.push(":checked"),t.querySelectorAll("a#"+j+"+*").length||P.push(".#.+[+~]")}),i(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=L.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&P.push("name"+tt+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&P.push(":enabled",":disabled"),R.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&P.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),P.push(",.*:")})),(w.matchesSelector=pt.test(D=R.matches||R.webkitMatchesSelector||R.mozMatchesSelector||R.oMatchesSelector||R.msMatchesSelector))&&i(function(t){w.disconnectedMatch=D.call(t,"*"),D.call(t,"[s!='']:x"),k.push("!=",rt)}),P=P.length&&new RegExp(P.join("|")),k=k.length&&new RegExp(k.join("|")),e=pt.test(R.compareDocumentPosition),F=e||pt.test(R.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},q=e?function(t,e){if(t===e)return O=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!w.sortDetached&&e.compareDocumentPosition(t)===n?t===L||t.ownerDocument===U&&F(U,t)?-1:e===L||e.ownerDocument===U&&F(U,e)?1:I?Q(I,t)-Q(I,e):0:4&n?-1:1)}:function(t,e){if(t===e)return O=!0,0;var n,r=0,i=t.parentNode,o=e.parentNode,s=[t],u=[e];if(!i||!o)return t===L?-1:e===L?1:i?-1:o?1:I?Q(I,t)-Q(I,e):0;if(i===o)return a(t,e);for(n=t;n=n.parentNode;)s.unshift(n);for(n=e;n=n.parentNode;)u.unshift(n);for(;s[r]===u[r];)r++;return r?a(s[r],u[r]):s[r]===U?-1:u[r]===U?1:0},L):L},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==L&&A(t),n=n.replace(ut,"='$1']"),w.matchesSelector&&N&&!H[n+" "]&&(!k||!k.test(n))&&(!P||!P.test(n)))try{var r=D.call(t,n);if(r||w.disconnectedMatch||t.document&&11!==t.document.nodeType)return r}catch(t){}return e(n,L,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==L&&A(t),F(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==L&&A(t);var n=x.attrHandle[e.toLowerCase()],r=n&&W.call(x.attrHandle,e.toLowerCase())?n(t,e,!N):void 0;return void 0!==r?r:w.attributes||!N?t.getAttribute(e):(r=t.getAttributeNode(e))&&r.specified?r.value:null},e.escape=function(t){return(t+"").replace(bt,wt)},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],r=0,i=0;if(O=!w.detectDuplicates,I=!w.sortStable&&t.slice(0),t.sort(q),O){for(;e=t[i++];)e===t[i]&&(r=n.push(i));for(;r--;)t.splice(n[r],1)}return I=null,t},_=e.getText=function(t){var e,n="",r=0,i=t.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=_(t)}else if(3===i||4===i)return t.nodeValue}else for(;e=t[r++];)n+=_(e);return n},x=e.selectors={cacheLength:50,createPseudo:r,match:ht,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(vt,yt),t[3]=(t[3]||t[4]||t[5]||"").replace(vt,yt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return ht.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&lt.test(n)&&(e=M(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(vt,yt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=V[t+" "];return e||(e=new RegExp("(^|"+tt+")"+t+"("+tt+"|$)"))&&V(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,r){return function(i){var o=e.attr(i,t);return null==o?"!="===n:!n||(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(it," ")+" ").indexOf(r)>-1:"|="===n&&(o===r||o.slice(0,r.length+1)===r+"-"))}},CHILD:function(t,e,n,r,i){var o="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===r&&0===i?function(t){return!!t.parentNode}:function(e,n,u){var l,c,h,f,d,p,m=o!==a?"nextSibling":"previousSibling",g=e.parentNode,v=s&&e.nodeName.toLowerCase(),y=!u&&!s,b=!1;if(g){if(o){for(;m;){for(f=e;f=f[m];)if(s?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;p=m="only"===t&&!p&&"nextSibling"}return!0}if(p=[a?g.firstChild:g.lastChild],a&&y){for(f=g,h=f[j]||(f[j]={}),c=h[f.uniqueID]||(h[f.uniqueID]={}),l=c[t]||[],d=l[0]===B&&l[1],b=d&&l[2],f=d&&g.childNodes[d];f=++d&&f&&f[m]||(b=d=0)||p.pop();)if(1===f.nodeType&&++b&&f===e){c[t]=[B,d,b];break}}else if(y&&(f=e,h=f[j]||(f[j]={}),c=h[f.uniqueID]||(h[f.uniqueID]={}),l=c[t]||[],d=l[0]===B&&l[1],b=d),!1===b)for(;(f=++d&&f&&f[m]||(b=d=0)||p.pop())&&((s?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++b||(y&&(h=f[j]||(f[j]={}),c=h[f.uniqueID]||(h[f.uniqueID]={}),c[t]=[B,b]),f!==e)););return(b-=i)===r||b%r==0&&b/r>=0}}},PSEUDO:function(t,n){var i,o=x.pseudos[t]||x.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[j]?o(n):o.length>1?(i=[t,t,"",n],x.setFilters.hasOwnProperty(t.toLowerCase())?r(function(t,e){for(var r,i=o(t,n),a=i.length;a--;)r=Q(t,i[a]),t[r]=!(e[r]=i[a])}):function(t){return o(t,0,i)}):o}},pseudos:{not:r(function(t){var e=[],n=[],i=S(t.replace(ot,"$1"));return i[j]?r(function(t,e,n,r){for(var o,a=i(t,null,r,[]),s=t.length;s--;)(o=a[s])&&(t[s]=!(e[s]=o))}):function(t,r,o){return e[0]=t,i(e,null,o,n),e[0]=null,!n.pop()}}),has:r(function(t){return function(n){return e(t,n).length>0}}),contains:r(function(t){return t=t.replace(vt,yt),function(e){return(e.textContent||e.innerText||_(e)).indexOf(t)>-1}}),lang:r(function(t){return ct.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(vt,yt).toLowerCase(),function(e){var n;do{if(n=N?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===R},focus:function(t){return t===L.activeElement&&(!L.hasFocus||L.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:s(!1),disabled:s(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!x.pseudos.empty(t)},header:function(t){return dt.test(t.nodeName)},input:function(t){return ft.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:u(function(){return[0]}),last:u(function(t,e){return[e-1]}),eq:u(function(t,e,n){return[n<0?n+e:n]}),even:u(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:u(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:u(function(t,e,n){for(var r=n<0?n+e:n;--r>=0;)t.push(r);return t}),gt:u(function(t,e,n){for(var r=n<0?n+e:n;++r<e;)t.push(r);return t})}},x.pseudos.nth=x.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[b]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(b);for(b in{submit:!0,reset:!0})x.pseudos[b]=function(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}(b);return c.prototype=x.filters=x.pseudos,x.setFilters=new c,M=e.tokenize=function(t,n){var r,i,o,a,s,u,l,c=G[t+" "];if(c)return n?0:c.slice(0);for(s=t,u=[],l=x.preFilter;s;){r&&!(i=at.exec(s))||(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),r=!1,(i=st.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(ot," ")}),s=s.slice(r.length));for(a in x.filter)!(i=ht[a].exec(s))||l[a]&&!(i=l[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?e.error(t):G(t,u).slice(0)},S=e.compile=function(t,e){var n,r=[],i=[],o=H[t+" "];if(!o){for(e||(e=M(t)),n=e.length;n--;)o=v(e[n]),o[j]?r.push(o):i.push(o);o=H(t,y(i,r)),o.selector=t}return o},T=e.select=function(t,e,n,r){var i,o,a,s,u,c="function"==typeof t&&t,f=!r&&M(t=c.selector||t);if(n=n||[],1===f.length){if(o=f[0]=f[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&9===e.nodeType&&N&&x.relative[o[1].type]){if(!(e=(x.find.ID(a.matches[0].replace(vt,yt),e)||[])[0]))return n;c&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(i=ht.needsContext.test(t)?0:o.length;i--&&(a=o[i],!x.relative[s=a.type]);)if((u=x.find[s])&&(r=u(a.matches[0].replace(vt,yt),gt.test(o[0].type)&&l(e.parentNode)||e))){if(o.splice(i,1),!(t=r.length&&h(o)))return K.apply(n,r),n;break}}return(c||S(t,f))(r,e,!N,n,!e||gt.test(t)&&l(e.parentNode)||e),n},w.sortStable=j.split("").sort(q).join("")===j,w.detectDuplicates=!!O,A(),w.sortDetached=i(function(t){return 1&t.compareDocumentPosition(L.createElement("fieldset"))}),i(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),w.attributes&&i(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),i(function(t){return null==t.getAttribute("disabled")})||o(J,function(t,e,n){var r;if(!n)return!0===t[e]?e.toLowerCase():(r=t.getAttributeNode(e))&&r.specified?r.value:null}),e}(n);yt.find=Et,yt.expr=Et.selectors,yt.expr[":"]=yt.expr.pseudos,yt.uniqueSort=yt.unique=Et.uniqueSort,yt.text=Et.getText,yt.isXMLDoc=Et.isXML,yt.contains=Et.contains,yt.escapeSelector=Et.escape;var Mt=function(t,e,n){for(var r=[],i=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(i&&yt(t).is(n))break;r.push(t)}return r},St=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},Tt=yt.expr.match.needsContext,Ct=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,It=/^.[^:#\[\.,]*$/;yt.filter=function(t,e,n){var r=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===r.nodeType?yt.find.matchesSelector(r,t)?[r]:[]:yt.find.matches(t,yt.grep(e,function(t){return 1===t.nodeType}))},yt.fn.extend({find:function(t){var e,n,r=this.length,i=this;if("string"!=typeof t)return this.pushStack(yt(t).filter(function(){for(e=0;e<r;e++)if(yt.contains(i[e],this))return!0}));for(n=this.pushStack([]),e=0;e<r;e++)yt.find(t,i[e],n);return r>1?yt.uniqueSort(n):n},filter:function(t){return this.pushStack(l(this,t||[],!1))},not:function(t){return this.pushStack(l(this,t||[],!0))},is:function(t){return!!l(this,"string"==typeof t&&Tt.test(t)?yt(t):t||[],!1).length}});var Ot,At=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(yt.fn.init=function(t,e,n){var r,i;if(!t)return this;if(n=n||Ot,"string"==typeof t){if(!(r="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:At.exec(t))||!r[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(r[1]){if(e=e instanceof yt?e[0]:e,yt.merge(this,yt.parseHTML(r[1],e&&e.nodeType?e.ownerDocument||e:at,!0)),Ct.test(r[1])&&yt.isPlainObject(e))for(r in e)yt.isFunction(this[r])?this[r](e[r]):this.attr(r,e[r]);return this}return i=at.getElementById(r[2]),i&&(this[0]=i,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):yt.isFunction(t)?void 0!==n.ready?n.ready(t):t(yt):yt.makeArray(t,this)}).prototype=yt.fn,Ot=yt(at);var Lt=/^(?:parents|prev(?:Until|All))/,Rt={children:!0,contents:!0,next:!0,prev:!0};yt.fn.extend({has:function(t){var e=yt(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(yt.contains(this,e[t]))return!0})},closest:function(t,e){var n,r=0,i=this.length,o=[],a="string"!=typeof t&&yt(t);if(!Tt.test(t))for(;r<i;r++)for(n=this[r];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&yt.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?yt.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?ht.call(yt(t),this[0]):ht.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(yt.uniqueSort(yt.merge(this.get(),yt(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),yt.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return Mt(t,"parentNode")},parentsUntil:function(t,e,n){return Mt(t,"parentNode",n)},next:function(t){return c(t,"nextSibling")},prev:function(t){return c(t,"previousSibling")},nextAll:function(t){return Mt(t,"nextSibling")},prevAll:function(t){return Mt(t,"previousSibling")},nextUntil:function(t,e,n){return Mt(t,"nextSibling",n)},prevUntil:function(t,e,n){return Mt(t,"previousSibling",n)},siblings:function(t){return St((t.parentNode||{}).firstChild,t)},children:function(t){return St(t.firstChild)},contents:function(t){return u(t,"iframe")?t.contentDocument:(u(t,"template")&&(t=t.content||t),yt.merge([],t.childNodes))}},function(t,e){yt.fn[t]=function(n,r){var i=yt.map(this,e,n);return"Until"!==t.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=yt.filter(r,i)),this.length>1&&(Rt[t]||yt.uniqueSort(i),Lt.test(t)&&i.reverse()),this.pushStack(i)}});var Nt=/[^\x20\t\r\n\f]+/g;yt.Callbacks=function(t){t="string"==typeof t?h(t):yt.extend({},t);var e,n,r,i,o=[],a=[],s=-1,u=function(){for(i=i||t.once,r=e=!0;a.length;s=-1)for(n=a.shift();++s<o.length;)!1===o[s].apply(n[0],n[1])&&t.stopOnFalse&&(s=o.length,n=!1);t.memory||(n=!1),e=!1,i&&(o=n?[]:"")},l={add:function(){return o&&(n&&!e&&(s=o.length-1,a.push(n)),function e(n){yt.each(n,function(n,r){yt.isFunction(r)?t.unique&&l.has(r)||o.push(r):r&&r.length&&"string"!==yt.type(r)&&e(r)})}(arguments),n&&!e&&u()),this},remove:function(){return yt.each(arguments,function(t,e){for(var n;(n=yt.inArray(e,o,n))>-1;)o.splice(n,1),n<=s&&s--}),this},has:function(t){return t?yt.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=a=[],n||e||(o=n=""),this},locked:function(){return!!i},fireWith:function(t,n){return i||(n=n||[],n=[t,n.slice?n.slice():n],a.push(n),e||u()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!r}};return l},yt.extend({Deferred:function(t){var e=[["notify","progress",yt.Callbacks("memory"),yt.Callbacks("memory"),2],["resolve","done",yt.Callbacks("once memory"),yt.Callbacks("once memory"),0,"resolved"],["reject","fail",yt.Callbacks("once memory"),yt.Callbacks("once memory"),1,"rejected"]],r="pending",i={state:function(){return r},always:function(){return o.done(arguments).fail(arguments),this},catch:function(t){return i.then(null,t)},pipe:function(){var t=arguments;return yt.Deferred(function(n){yt.each(e,function(e,r){var i=yt.isFunction(t[r[4]])&&t[r[4]];o[r[1]](function(){var t=i&&i.apply(this,arguments);t&&yt.isFunction(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this,i?[t]:arguments)})}),t=null}).promise()},then:function(t,r,i){function o(t,e,r,i){return function(){var s=this,u=arguments,l=function(){var n,l;if(!(t<a)){if((n=r.apply(s,u))===e.promise())throw new TypeError("Thenable self-resolution");l=n&&("object"==typeof n||"function"==typeof n)&&n.then,yt.isFunction(l)?i?l.call(n,o(a,e,f,i),o(a,e,d,i)):(a++,l.call(n,o(a,e,f,i),o(a,e,d,i),o(a,e,f,e.notifyWith))):(r!==f&&(s=void 0,u=[n]),(i||e.resolveWith)(s,u))}},c=i?l:function(){try{l()}catch(n){yt.Deferred.exceptionHook&&yt.Deferred.exceptionHook(n,c.stackTrace),t+1>=a&&(r!==d&&(s=void 0,u=[n]),e.rejectWith(s,u))}};t?c():(yt.Deferred.getStackHook&&(c.stackTrace=yt.Deferred.getStackHook()),n.setTimeout(c))}}var a=0;return yt.Deferred(function(n){e[0][3].add(o(0,n,yt.isFunction(i)?i:f,n.notifyWith)),e[1][3].add(o(0,n,yt.isFunction(t)?t:f)),e[2][3].add(o(0,n,yt.isFunction(r)?r:d))}).promise()},promise:function(t){return null!=t?yt.extend(t,i):i}},o={};return yt.each(e,function(t,n){var a=n[2],s=n[5];i[n[1]]=a.add,s&&a.add(function(){r=s},e[3-t][2].disable,e[0][2].lock),a.add(n[3].fire),o[n[0]]=function(){return o[n[0]+"With"](this===o?void 0:this,arguments),this},o[n[0]+"With"]=a.fireWith}),i.promise(o),t&&t.call(o,o),o},when:function(t){var e=arguments.length,n=e,r=Array(n),i=ut.call(arguments),o=yt.Deferred(),a=function(t){return function(n){r[t]=this,i[t]=arguments.length>1?ut.call(arguments):n,--e||o.resolveWith(r,i)}};if(e<=1&&(p(t,o.done(a(n)).resolve,o.reject,!e),"pending"===o.state()||yt.isFunction(i[n]&&i[n].then)))return o.then();for(;n--;)p(i[n],a(n),o.reject);return o.promise()}});var Pt=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;yt.Deferred.exceptionHook=function(t,e){n.console&&n.console.warn&&t&&Pt.test(t.name)&&n.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},yt.readyException=function(t){n.setTimeout(function(){throw t})};var kt=yt.Deferred();yt.fn.ready=function(t){return kt.then(t).catch(function(t){yt.readyException(t)}),this},yt.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--yt.readyWait:yt.isReady)||(yt.isReady=!0,!0!==t&&--yt.readyWait>0||kt.resolveWith(at,[yt]))}}),yt.ready.then=kt.then,"complete"===at.readyState||"loading"!==at.readyState&&!at.documentElement.doScroll?n.setTimeout(yt.ready):(at.addEventListener("DOMContentLoaded",m),n.addEventListener("load",m));var Dt=function(t,e,n,r,i,o,a){var s=0,u=t.length,l=null==n;if("object"===yt.type(n)){i=!0;for(s in n)Dt(t,e,s,n[s],!0,o,a)}else if(void 0!==r&&(i=!0,yt.isFunction(r)||(a=!0),l&&(a?(e.call(t,r),e=null):(l=e,e=function(t,e,n){return l.call(yt(t),n)})),e))for(;s<u;s++)e(t[s],n,a?r:r.call(t[s],s,e(t[s],n)));return i?t:l?e.call(t):u?e(t[0],n):o},Ft=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};g.uid=1,g.prototype={cache:function(t){var e=t[this.expando];return e||(e={},Ft(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var r,i=this.cache(t);if("string"==typeof e)i[yt.camelCase(e)]=n;else for(r in e)i[yt.camelCase(r)]=e[r];return i},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][yt.camelCase(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,r=t[this.expando];if(void 0!==r){if(void 0!==e){Array.isArray(e)?e=e.map(yt.camelCase):(e=yt.camelCase(e),e=e in r?[e]:e.match(Nt)||[]),n=e.length;for(;n--;)delete r[e[n]]}(void 0===e||yt.isEmptyObject(r))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!yt.isEmptyObject(e)}};var jt=new g,Ut=new g,Bt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,zt=/[A-Z]/g;yt.extend({hasData:function(t){return Ut.hasData(t)||jt.hasData(t)},data:function(t,e,n){return Ut.access(t,e,n)},removeData:function(t,e){Ut.remove(t,e)},_data:function(t,e,n){return jt.access(t,e,n)},_removeData:function(t,e){jt.remove(t,e)}}),yt.fn.extend({data:function(t,e){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===t){if(this.length&&(i=Ut.get(o),1===o.nodeType&&!jt.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(r=a[n].name,0===r.indexOf("data-")&&(r=yt.camelCase(r.slice(5)),y(o,r,i[r])));jt.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof t?this.each(function(){Ut.set(this,t)}):Dt(this,function(e){var n;if(o&&void 0===e){if(void 0!==(n=Ut.get(o,t)))return n;if(void 0!==(n=y(o,t)))return n}else this.each(function(){Ut.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){Ut.remove(this,t)})}}),yt.extend({queue:function(t,e,n){var r;if(t)return e=(e||"fx")+"queue",r=jt.get(t,e),n&&(!r||Array.isArray(n)?r=jt.access(t,e,yt.makeArray(n)):r.push(n)),r||[]},dequeue:function(t,e){e=e||"fx";var n=yt.queue(t,e),r=n.length,i=n.shift(),o=yt._queueHooks(t,e),a=function(){yt.dequeue(t,e)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===e&&n.unshift("inprogress"),delete o.stop,i.call(t,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return jt.get(t,n)||jt.access(t,n,{empty:yt.Callbacks("once memory").add(function(){jt.remove(t,[e+"queue",n])})})}}),yt.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?yt.queue(this[0],t):void 0===e?this:this.each(function(){var n=yt.queue(this,t,e);yt._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&yt.dequeue(this,t)})},dequeue:function(t){return this.each(function(){yt.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,r=1,i=yt.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)(n=jt.get(o[a],t+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(e)}});var Vt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Gt=new RegExp("^(?:([+-])=|)("+Vt+")([a-z%]*)$","i"),Ht=["Top","Right","Bottom","Left"],qt=function(t,e){return t=e||t,"none"===t.style.display||""===t.style.display&&yt.contains(t.ownerDocument,t)&&"none"===yt.css(t,"display")},Wt=function(t,e,n,r){var i,o,a={};for(o in e)a[o]=t.style[o],t.style[o]=e[o];i=n.apply(t,r||[]);for(o in e)t.style[o]=a[o];return i},Yt={};yt.fn.extend({show:function(){return x(this,!0)},hide:function(){return x(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){qt(this)?yt(this).show():yt(this).hide()})}});var Xt=/^(?:checkbox|radio)$/i,Zt=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Kt=/^$|\/(?:java|ecma)script/i,$t={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};$t.optgroup=$t.option,$t.tbody=$t.tfoot=$t.colgroup=$t.caption=$t.thead,$t.th=$t.td;var Qt=/<|&#?\w+;/;!function(){var t=at.createDocumentFragment(),e=t.appendChild(at.createElement("div")),n=at.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),vt.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",vt.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var Jt=at.documentElement,te=/^key/,ee=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ne=/^([^.]*)(?:\.(.+)|)/;yt.event={global:{},add:function(t,e,n,r,i){var o,a,s,u,l,c,h,f,d,p,m,g=jt.get(t);if(g)for(n.handler&&(o=n,n=o.handler,i=o.selector),i&&yt.find.matchesSelector(Jt,i),n.guid||(n.guid=yt.guid++),(u=g.events)||(u=g.events={}),(a=g.handle)||(a=g.handle=function(e){return void 0!==yt&&yt.event.triggered!==e.type?yt.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(Nt)||[""],l=e.length;l--;)s=ne.exec(e[l])||[],d=m=s[1],p=(s[2]||"").split(".").sort(),d&&(h=yt.event.special[d]||{},d=(i?h.delegateType:h.bindType)||d,h=yt.event.special[d]||{},c=yt.extend({type:d,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&yt.expr.match.needsContext.test(i),namespace:p.join(".")},o),(f=u[d])||(f=u[d]=[],f.delegateCount=0,h.setup&&!1!==h.setup.call(t,r,p,a)||t.addEventListener&&t.addEventListener(d,a)),h.add&&(h.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),i?f.splice(f.delegateCount++,0,c):f.push(c),yt.event.global[d]=!0)},remove:function(t,e,n,r,i){var o,a,s,u,l,c,h,f,d,p,m,g=jt.hasData(t)&&jt.get(t);if(g&&(u=g.events)){for(e=(e||"").match(Nt)||[""],l=e.length;l--;)if(s=ne.exec(e[l])||[],d=m=s[1],p=(s[2]||"").split(".").sort(),d){for(h=yt.event.special[d]||{},d=(r?h.delegateType:h.bindType)||d,f=u[d]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=f.length;o--;)c=f[o],!i&&m!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(f.splice(o,1),c.selector&&f.delegateCount--,h.remove&&h.remove.call(t,c));a&&!f.length&&(h.teardown&&!1!==h.teardown.call(t,p,g.handle)||yt.removeEvent(t,d,g.handle),delete u[d])}else for(d in u)yt.event.remove(t,d+e[l],n,r,!0);yt.isEmptyObject(u)&&jt.remove(t,"handle events")}},dispatch:function(t){var e,n,r,i,o,a,s=yt.event.fix(t),u=new Array(arguments.length),l=(jt.get(this,"events")||{})[s.type]||[],c=yt.event.special[s.type]||{};for(u[0]=s,e=1;e<arguments.length;e++)u[e]=arguments[e];if(s.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,s)){for(a=yt.event.handlers.call(this,s,l),e=0;(i=a[e++])&&!s.isPropagationStopped();)for(s.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,void 0!==(r=((yt.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,u))&&!1===(s.result=r)&&(s.preventDefault(),s.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,s),s.result}},handlers:function(t,e){var n,r,i,o,a,s=[],u=e.delegateCount,l=t.target;if(u&&l.nodeType&&!("click"===t.type&&t.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==t.type||!0!==l.disabled)){for(o=[],a={},n=0;n<u;n++)r=e[n],i=r.selector+" ",void 0===a[i]&&(a[i]=r.needsContext?yt(i,this).index(l)>-1:yt.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,u<e.length&&s.push({elem:l,handlers:e.slice(u)}),s},addProp:function(t,e){Object.defineProperty(yt.Event.prototype,t,{enumerable:!0,configurable:!0,get:yt.isFunction(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[yt.expando]?t:new yt.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==C()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===C()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&u(this,"input"))return this.click(),!1},_default:function(t){return u(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},yt.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},yt.Event=function(t,e){if(!(this instanceof yt.Event))return new yt.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?S:T,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&yt.extend(this,e),this.timeStamp=t&&t.timeStamp||yt.now(),this[yt.expando]=!0},yt.Event.prototype={constructor:yt.Event,isDefaultPrevented:T,isPropagationStopped:T,isImmediatePropagationStopped:T,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=S,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=S,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=S,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},yt.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&te.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&ee.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},yt.event.addProp),yt.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){yt.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,r=this,i=t.relatedTarget,o=t.handleObj;return i&&(i===r||yt.contains(r,i))||(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),yt.fn.extend({on:function(t,e,n,r){return I(this,t,e,n,r)},one:function(t,e,n,r){return I(this,t,e,n,r,1)},off:function(t,e,n){var r,i;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,yt(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof t){for(i in t)this.off(i,e,t[i]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=T),this.each(function(){yt.event.remove(this,t,n,e)})}});var re=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,ie=/<script|<style|<link/i,oe=/checked\s*(?:[^=]|=\s*.checked.)/i,ae=/^true\/(.*)/,se=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;yt.extend({htmlPrefilter:function(t){return t.replace(re,"<$1></$2>")},clone:function(t,e,n){var r,i,o,a,s=t.cloneNode(!0),u=yt.contains(t.ownerDocument,t);if(!(vt.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||yt.isXMLDoc(t)))for(a=_(s),o=_(t),r=0,i=o.length;r<i;r++)N(o[r],a[r]);if(e)if(n)for(o=o||_(t),a=a||_(s),r=0,i=o.length;r<i;r++)R(o[r],a[r]);else R(t,s);return a=_(s,"script"),a.length>0&&E(a,!u&&_(t,"script")),s},cleanData:function(t){for(var e,n,r,i=yt.event.special,o=0;void 0!==(n=t[o]);o++)if(Ft(n)){if(e=n[jt.expando]){if(e.events)for(r in e.events)i[r]?yt.event.remove(n,r):yt.removeEvent(n,r,e.handle);n[jt.expando]=void 0}n[Ut.expando]&&(n[Ut.expando]=void 0)}}}),yt.fn.extend({detach:function(t){return k(this,t,!0)},remove:function(t){return k(this,t)},text:function(t){return Dt(this,function(t){return void 0===t?yt.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return P(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){O(this,t).appendChild(t)}})},prepend:function(){return P(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=O(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return P(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return P(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(yt.cleanData(_(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return yt.clone(this,t,e)})},html:function(t){return Dt(this,function(t){var e=this[0]||{},n=0,r=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!ie.test(t)&&!$t[(Zt.exec(t)||["",""])[1].toLowerCase()]){t=yt.htmlPrefilter(t);try{for(;n<r;n++)e=this[n]||{},1===e.nodeType&&(yt.cleanData(_(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return P(this,arguments,function(e){var n=this.parentNode;yt.inArray(this,t)<0&&(yt.cleanData(_(this)),n&&n.replaceChild(e,this))},t)}}),yt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){yt.fn[t]=function(t){for(var n,r=[],i=yt(t),o=i.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),yt(i[a])[e](n),ct.apply(r,n.get());return this.pushStack(r)}});var ue=/^margin/,le=new RegExp("^("+Vt+")(?!px)[a-z%]+$","i"),ce=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=n),e.getComputedStyle(t)};!function(){function t(){if(s){s.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",s.innerHTML="",Jt.appendChild(a);var t=n.getComputedStyle(s);e="1%"!==t.top,o="2px"===t.marginLeft,r="4px"===t.width,s.style.marginRight="50%",i="4px"===t.marginRight,Jt.removeChild(a),s=null}}var e,r,i,o,a=at.createElement("div"),s=at.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",vt.clearCloneStyle="content-box"===s.style.backgroundClip,a.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",a.appendChild(s),yt.extend(vt,{pixelPosition:function(){return t(),e},boxSizingReliable:function(){return t(),r},pixelMarginRight:function(){return t(),i},reliableMarginLeft:function(){return t(),o}}))}();var he=/^(none|table(?!-c[ea]).+)/,fe=/^--/,de={position:"absolute",visibility:"hidden",display:"block"},pe={letterSpacing:"0",fontWeight:"400"},me=["Webkit","Moz","ms"],ge=at.createElement("div").style;yt.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=D(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(t,e,n,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var i,o,a,s=yt.camelCase(e),u=fe.test(e),l=t.style;if(u||(e=U(s)),a=yt.cssHooks[e]||yt.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(t,!1,r))?i:l[e];o=typeof n,"string"===o&&(i=Gt.exec(n))&&i[1]&&(n=b(t,e,i),o="number"),null!=n&&n===n&&("number"===o&&(n+=i&&i[3]||(yt.cssNumber[s]?"":"px")),vt.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),a&&"set"in a&&void 0===(n=a.set(t,n,r))||(u?l.setProperty(e,n):l[e]=n))}},css:function(t,e,n,r){var i,o,a,s=yt.camelCase(e);return fe.test(e)||(e=U(s)),a=yt.cssHooks[e]||yt.cssHooks[s],a&&"get"in a&&(i=a.get(t,!0,n)),void 0===i&&(i=D(t,e,r)),"normal"===i&&e in pe&&(i=pe[e]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),yt.each(["height","width"],function(t,e){yt.cssHooks[e]={get:function(t,n,r){if(n)return!he.test(yt.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?V(t,e,r):Wt(t,de,function(){return V(t,e,r)})},set:function(t,n,r){var i,o=r&&ce(t),a=r&&z(t,e,r,"border-box"===yt.css(t,"boxSizing",!1,o),o);return a&&(i=Gt.exec(n))&&"px"!==(i[3]||"px")&&(t.style[e]=n,n=yt.css(t,e)),B(t,n,a)}}}),yt.cssHooks.marginLeft=F(vt.reliableMarginLeft,function(t,e){if(e)return(parseFloat(D(t,"marginLeft"))||t.getBoundingClientRect().left-Wt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),yt.each({margin:"",padding:"",border:"Width"},function(t,e){yt.cssHooks[t+e]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[t+Ht[r]+e]=o[r]||o[r-2]||o[0];return i}},ue.test(t)||(yt.cssHooks[t+e].set=B)}),yt.fn.extend({css:function(t,e){return Dt(this,function(t,e,n){var r,i,o={},a=0;if(Array.isArray(e)){for(r=ce(t),i=e.length;a<i;a++)o[e[a]]=yt.css(t,e[a],!1,r);return o}return void 0!==n?yt.style(t,e,n):yt.css(t,e)},t,e,arguments.length>1)}}),yt.Tween=G,G.prototype={constructor:G,init:function(t,e,n,r,i,o){this.elem=t,this.prop=n,this.easing=i||yt.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=r,this.unit=o||(yt.cssNumber[n]?"":"px")},cur:function(){var t=G.propHooks[this.prop];return t&&t.get?t.get(this):G.propHooks._default.get(this)},run:function(t){var e,n=G.propHooks[this.prop];return this.options.duration?this.pos=e=yt.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):G.propHooks._default.set(this),this}},G.prototype.init.prototype=G.prototype,G.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=yt.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){yt.fx.step[t.prop]?yt.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[yt.cssProps[t.prop]]&&!yt.cssHooks[t.prop]?t.elem[t.prop]=t.now:yt.style(t.elem,t.prop,t.now+t.unit)}}},G.propHooks.scrollTop=G.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},yt.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},yt.fx=G.prototype.init,yt.fx.step={};var ve,ye,be=/^(?:toggle|show|hide)$/,we=/queueHooks$/;yt.Animation=yt.extend(K,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return b(n.elem,t,Gt.exec(e),n),n}]},tweener:function(t,e){yt.isFunction(t)?(e=t,t=["*"]):t=t.match(Nt);for(var n,r=0,i=t.length;r<i;r++)n=t[r],K.tweeners[n]=K.tweeners[n]||[],K.tweeners[n].unshift(e)},prefilters:[X],prefilter:function(t,e){e?K.prefilters.unshift(t):K.prefilters.push(t)}}),yt.speed=function(t,e,n){var r=t&&"object"==typeof t?yt.extend({},t):{complete:n||!n&&e||yt.isFunction(t)&&t,duration:t,easing:n&&e||e&&!yt.isFunction(e)&&e};return yt.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in yt.fx.speeds?r.duration=yt.fx.speeds[r.duration]:r.duration=yt.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){yt.isFunction(r.old)&&r.old.call(this),r.queue&&yt.dequeue(this,r.queue)},r},yt.fn.extend({fadeTo:function(t,e,n,r){return this.filter(qt).css("opacity",0).show().end().animate({opacity:e},t,n,r)},animate:function(t,e,n,r){var i=yt.isEmptyObject(t),o=yt.speed(e,n,r),a=function(){var e=K(this,yt.extend({},t),o);(i||jt.get(this,"finish"))&&e.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(t,e,n){var r=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,i=null!=t&&t+"queueHooks",o=yt.timers,a=jt.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&we.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=t&&o[i].queue!==t||(o[i].anim.stop(n),e=!1,o.splice(i,1));!e&&n||yt.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,n=jt.get(this),r=n[t+"queue"],i=n[t+"queueHooks"],o=yt.timers,a=r?r.length:0;for(n.finish=!0,yt.queue(this,t,[]),i&&i.stop&&i.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<a;e++)r[e]&&r[e].finish&&r[e].finish.call(this);delete n.finish})}}),yt.each(["toggle","show","hide"],function(t,e){var n=yt.fn[e];yt.fn[e]=function(t,r,i){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(W(e,!0),t,r,i)}}),yt.each({slideDown:W("show"),slideUp:W("hide"),slideToggle:W("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){yt.fn[t]=function(t,n,r){return this.animate(e,t,n,r)}}),yt.timers=[],yt.fx.tick=function(){var t,e=0,n=yt.timers;for(ve=yt.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||yt.fx.stop(),ve=void 0},yt.fx.timer=function(t){yt.timers.push(t),yt.fx.start()},yt.fx.interval=13,yt.fx.start=function(){ye||(ye=!0,H())},yt.fx.stop=function(){ye=null},yt.fx.speeds={slow:600,fast:200,_default:400},yt.fn.delay=function(t,e){return t=yt.fx?yt.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,r){var i=n.setTimeout(e,t);r.stop=function(){n.clearTimeout(i)}})},function(){var t=at.createElement("input"),e=at.createElement("select"),n=e.appendChild(at.createElement("option"));t.type="checkbox",vt.checkOn=""!==t.value,vt.optSelected=n.selected,t=at.createElement("input"),t.value="t",t.type="radio",vt.radioValue="t"===t.value}();var xe,_e=yt.expr.attrHandle;yt.fn.extend({attr:function(t,e){return Dt(this,yt.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){yt.removeAttr(this,t)})}}),yt.extend({attr:function(t,e,n){var r,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?yt.prop(t,e,n):(1===o&&yt.isXMLDoc(t)||(i=yt.attrHooks[e.toLowerCase()]||(yt.expr.match.bool.test(e)?xe:void 0)),void 0!==n?null===n?void yt.removeAttr(t,e):i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:(t.setAttribute(e,n+""),n):i&&"get"in i&&null!==(r=i.get(t,e))?r:(r=yt.find.attr(t,e),null==r?void 0:r))},attrHooks:{type:{set:function(t,e){if(!vt.radioValue&&"radio"===e&&u(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,r=0,i=e&&e.match(Nt);if(i&&1===t.nodeType)for(;n=i[r++];)t.removeAttribute(n)}}),xe={set:function(t,e,n){return!1===e?yt.removeAttr(t,n):t.setAttribute(n,n),n}},yt.each(yt.expr.match.bool.source.match(/\w+/g),function(t,e){var n=_e[e]||yt.find.attr;_e[e]=function(t,e,r){var i,o,a=e.toLowerCase();return r||(o=_e[a],_e[a]=i,i=null!=n(t,e,r)?a:null,_e[a]=o),i}});var Ee=/^(?:input|select|textarea|button)$/i,Me=/^(?:a|area)$/i;yt.fn.extend({prop:function(t,e){return Dt(this,yt.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[yt.propFix[t]||t]})}}),yt.extend({prop:function(t,e,n){var r,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&yt.isXMLDoc(t)||(e=yt.propFix[e]||e,i=yt.propHooks[e]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:t[e]=n:i&&"get"in i&&null!==(r=i.get(t,e))?r:t[e]},propHooks:{tabIndex:{get:function(t){var e=yt.find.attr(t,"tabindex");return e?parseInt(e,10):Ee.test(t.nodeName)||Me.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),vt.optSelected||(yt.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),yt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){yt.propFix[this.toLowerCase()]=this}),yt.fn.extend({addClass:function(t){var e,n,r,i,o,a,s,u=0;if(yt.isFunction(t))return this.each(function(e){yt(this).addClass(t.call(this,e,Q(this)))});if("string"==typeof t&&t)for(e=t.match(Nt)||[];n=this[u++];)if(i=Q(n),r=1===n.nodeType&&" "+$(i)+" "){for(a=0;o=e[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");s=$(r),i!==s&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,r,i,o,a,s,u=0;if(yt.isFunction(t))return this.each(function(e){yt(this).removeClass(t.call(this,e,Q(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(Nt)||[];n=this[u++];)if(i=Q(n),r=1===n.nodeType&&" "+$(i)+" "){for(a=0;o=e[a++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");s=$(r),i!==s&&n.setAttribute("class",s)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):yt.isFunction(t)?this.each(function(n){yt(this).toggleClass(t.call(this,n,Q(this),e),e)}):this.each(function(){var e,r,i,o;if("string"===n)for(r=0,i=yt(this),o=t.match(Nt)||[];e=o[r++];)i.hasClass(e)?i.removeClass(e):i.addClass(e);else void 0!==t&&"boolean"!==n||(e=Q(this),e&&jt.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":jt.get(this,"__className__")||""))})},hasClass:function(t){var e,n,r=0;for(e=" "+t+" ";n=this[r++];)if(1===n.nodeType&&(" "+$(Q(n))+" ").indexOf(e)>-1)return!0;return!1}});var Se=/\r/g;yt.fn.extend({val:function(t){var e,n,r,i=this[0];{if(arguments.length)return r=yt.isFunction(t),this.each(function(n){var i;1===this.nodeType&&(i=r?t.call(this,n,yt(this).val()):t,null==i?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=yt.map(i,function(t){return null==t?"":t+""})),(e=yt.valHooks[this.type]||yt.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,i,"value")||(this.value=i))});if(i)return(e=yt.valHooks[i.type]||yt.valHooks[i.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(Se,""):null==n?"":n)}}}),yt.extend({valHooks:{option:{get:function(t){var e=yt.find.attr(t,"value");return null!=e?e:$(yt.text(t))}},select:{get:function(t){var e,n,r,i=t.options,o=t.selectedIndex,a="select-one"===t.type,s=a?null:[],l=a?o+1:i.length;for(r=o<0?l:a?o:0;r<l;r++)if(n=i[r],(n.selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!u(n.parentNode,"optgroup"))){if(e=yt(n).val(),a)return e;s.push(e)}return s},set:function(t,e){for(var n,r,i=t.options,o=yt.makeArray(e),a=i.length;a--;)r=i[a],(r.selected=yt.inArray(yt.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),yt.each(["radio","checkbox"],function(){yt.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=yt.inArray(yt(t).val(),e)>-1}},vt.checkOn||(yt.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var Te=/^(?:focusinfocus|focusoutblur)$/;yt.extend(yt.event,{trigger:function(t,e,r,i){var o,a,s,u,l,c,h,f=[r||at],d=pt.call(t,"type")?t.type:t,p=pt.call(t,"namespace")?t.namespace.split("."):[];if(a=s=r=r||at,3!==r.nodeType&&8!==r.nodeType&&!Te.test(d+yt.event.triggered)&&(d.indexOf(".")>-1&&(p=d.split("."),d=p.shift(),p.sort()),l=d.indexOf(":")<0&&"on"+d,t=t[yt.expando]?t:new yt.Event(d,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=p.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),e=null==e?[t]:yt.makeArray(e,[t]),h=yt.event.special[d]||{},i||!h.trigger||!1!==h.trigger.apply(r,e))){if(!i&&!h.noBubble&&!yt.isWindow(r)){for(u=h.delegateType||d,Te.test(u+d)||(a=a.parentNode);a;a=a.parentNode)f.push(a),s=a;s===(r.ownerDocument||at)&&f.push(s.defaultView||s.parentWindow||n)}for(o=0;(a=f[o++])&&!t.isPropagationStopped();)t.type=o>1?u:h.bindType||d,c=(jt.get(a,"events")||{})[t.type]&&jt.get(a,"handle"),c&&c.apply(a,e),(c=l&&a[l])&&c.apply&&Ft(a)&&(t.result=c.apply(a,e),!1===t.result&&t.preventDefault());return t.type=d,i||t.isDefaultPrevented()||h._default&&!1!==h._default.apply(f.pop(),e)||!Ft(r)||l&&yt.isFunction(r[d])&&!yt.isWindow(r)&&(s=r[l],s&&(r[l]=null),yt.event.triggered=d,r[d](),yt.event.triggered=void 0,s&&(r[l]=s)),t.result}},simulate:function(t,e,n){var r=yt.extend(new yt.Event,n,{type:t,isSimulated:!0});yt.event.trigger(r,null,e)}}),yt.fn.extend({trigger:function(t,e){return this.each(function(){yt.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return yt.event.trigger(t,e,n,!0)}}),yt.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){yt.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),yt.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),vt.focusin="onfocusin"in n,vt.focusin||yt.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){yt.event.simulate(e,t.target,yt.event.fix(t))};yt.event.special[e]={setup:function(){var r=this.ownerDocument||this,i=jt.access(r,e);i||r.addEventListener(t,n,!0),jt.access(r,e,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=jt.access(r,e)-1;i?jt.access(r,e,i):(r.removeEventListener(t,n,!0),jt.remove(r,e))}}});var Ce=n.location,Ie=yt.now(),Oe=/\?/;yt.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new n.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||yt.error("Invalid XML: "+t),e};var Ae=/\[\]$/,Le=/\r?\n/g,Re=/^(?:submit|button|image|reset|file)$/i,Ne=/^(?:input|select|textarea|keygen)/i;yt.param=function(t,e){var n,r=[],i=function(t,e){var n=yt.isFunction(e)?e():e;r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(t)||t.jquery&&!yt.isPlainObject(t))yt.each(t,function(){i(this.name,this.value)});else for(n in t)J(n,t[n],e,i);return r.join("&")},yt.fn.extend({serialize:function(){return yt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=yt.prop(this,"elements");return t?yt.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!yt(this).is(":disabled")&&Ne.test(this.nodeName)&&!Re.test(t)&&(this.checked||!Xt.test(t))}).map(function(t,e){var n=yt(this).val();return null==n?null:Array.isArray(n)?yt.map(n,function(t){return{name:e.name,value:t.replace(Le,"\r\n")}}):{name:e.name,value:n.replace(Le,"\r\n")}}).get()}});var Pe=/%20/g,ke=/#.*$/,De=/([?&])_=[^&]*/,Fe=/^(.*?):[ \t]*([^\r\n]*)$/gm,je=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ue=/^(?:GET|HEAD)$/,Be=/^\/\//,ze={},Ve={},Ge="*/".concat("*"),He=at.createElement("a");He.href=Ce.href,yt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ce.href,type:"GET",isLocal:je.test(Ce.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ge,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":yt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?nt(nt(t,yt.ajaxSettings),e):nt(yt.ajaxSettings,t)},ajaxPrefilter:tt(ze),ajaxTransport:tt(Ve),ajax:function(t,e){function r(t,e,r,s){var l,f,d,w,x,_=e;c||(c=!0,u&&n.clearTimeout(u),i=void 0,a=s||"",E.readyState=t>0?4:0,l=t>=200&&t<300||304===t,r&&(w=rt(p,E,r)),w=it(p,w,E,l),l?(p.ifModified&&(x=E.getResponseHeader("Last-Modified"),x&&(yt.lastModified[o]=x),(x=E.getResponseHeader("etag"))&&(yt.etag[o]=x)),204===t||"HEAD"===p.type?_="nocontent":304===t?_="notmodified":(_=w.state,f=w.data,d=w.error,l=!d)):(d=_,!t&&_||(_="error",t<0&&(t=0))),E.status=t,E.statusText=(e||_)+"",l?v.resolveWith(m,[f,_,E]):v.rejectWith(m,[E,_,d]),E.statusCode(b),b=void 0,h&&g.trigger(l?"ajaxSuccess":"ajaxError",[E,p,l?f:d]),y.fireWith(m,[E,_]),h&&(g.trigger("ajaxComplete",[E,p]),--yt.active||yt.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var i,o,a,s,u,l,c,h,f,d,p=yt.ajaxSetup({},e),m=p.context||p,g=p.context&&(m.nodeType||m.jquery)?yt(m):yt.event,v=yt.Deferred(),y=yt.Callbacks("once memory"),b=p.statusCode||{},w={},x={},_="canceled",E={readyState:0,getResponseHeader:function(t){var e;if(c){if(!s)for(s={};e=Fe.exec(a);)s[e[1].toLowerCase()]=e[2];e=s[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return c?a:null},setRequestHeader:function(t,e){return null==c&&(t=x[t.toLowerCase()]=x[t.toLowerCase()]||t,w[t]=e),this},overrideMimeType:function(t){return null==c&&(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(c)E.always(t[E.status]);else for(e in t)b[e]=[b[e],t[e]];return this},abort:function(t){var e=t||_;return i&&i.abort(e),r(0,e),this}};if(v.promise(E),p.url=((t||p.url||Ce.href)+"").replace(Be,Ce.protocol+"//"),p.type=e.method||e.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(Nt)||[""],null==p.crossDomain){l=at.createElement("a");try{l.href=p.url,l.href=l.href,p.crossDomain=He.protocol+"//"+He.host!=l.protocol+"//"+l.host}catch(t){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=yt.param(p.data,p.traditional)),et(ze,p,e,E),c)return E;h=yt.event&&p.global,h&&0==yt.active++&&yt.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Ue.test(p.type),o=p.url.replace(ke,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Pe,"+")):(d=p.url.slice(o.length),p.data&&(o+=(Oe.test(o)?"&":"?")+p.data,delete p.data),!1===p.cache&&(o=o.replace(De,"$1"),d=(Oe.test(o)?"&":"?")+"_="+Ie+++d),p.url=o+d),p.ifModified&&(yt.lastModified[o]&&E.setRequestHeader("If-Modified-Since",yt.lastModified[o]),yt.etag[o]&&E.setRequestHeader("If-None-Match",yt.etag[o])),(p.data&&p.hasContent&&!1!==p.contentType||e.contentType)&&E.setRequestHeader("Content-Type",p.contentType),E.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Ge+"; q=0.01":""):p.accepts["*"]);for(f in p.headers)E.setRequestHeader(f,p.headers[f]);if(p.beforeSend&&(!1===p.beforeSend.call(m,E,p)||c))return E.abort();if(_="abort",y.add(p.complete),E.done(p.success),E.fail(p.error),i=et(Ve,p,e,E)){if(E.readyState=1,h&&g.trigger("ajaxSend",[E,p]),c)return E;p.async&&p.timeout>0&&(u=n.setTimeout(function(){E.abort("timeout")},p.timeout));try{c=!1,i.send(w,r)}catch(t){if(c)throw t;r(-1,t)}}else r(-1,"No Transport");return E},getJSON:function(t,e,n){return yt.get(t,e,n,"json")},getScript:function(t,e){return yt.get(t,void 0,e,"script")}}),yt.each(["get","post"],function(t,e){yt[e]=function(t,n,r,i){return yt.isFunction(n)&&(i=i||r,r=n,n=void 0),yt.ajax(yt.extend({url:t,type:e,dataType:i,data:n,success:r},yt.isPlainObject(t)&&t))}}),yt._evalUrl=function(t){return yt.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},yt.fn.extend({wrapAll:function(t){var e;return this[0]&&(yt.isFunction(t)&&(t=t.call(this[0])),e=yt(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return yt.isFunction(t)?this.each(function(e){yt(this).wrapInner(t.call(this,e))}):this.each(function(){var e=yt(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=yt.isFunction(t);return this.each(function(n){yt(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){yt(this).replaceWith(this.childNodes)}),this}}),yt.expr.pseudos.hidden=function(t){return!yt.expr.pseudos.visible(t)},yt.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},yt.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(t){}};var qe={0:200,1223:204},We=yt.ajaxSettings.xhr();vt.cors=!!We&&"withCredentials"in We,vt.ajax=We=!!We,yt.ajaxTransport(function(t){var e,r;if(vt.cors||We&&!t.crossDomain)return{send:function(i,o){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(a in i)s.setRequestHeader(a,i[a]);e=function(t){return function(){e&&(e=r=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,"abort"===t?s.abort():"error"===t?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(qe[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=e(),r=s.onerror=e("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&n.setTimeout(function(){e&&r()})},e=e("abort");try{s.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}}),yt.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),yt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return yt.globalEval(t),t}}}),yt.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),yt.ajaxTransport("script",function(t){if(t.crossDomain){var e,n;return{send:function(r,i){e=yt("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&i("error"===t.type?404:200,t.type)}),at.head.appendChild(e[0])},abort:function(){n&&n()}}}});var Ye=[],Xe=/(=)\?(?=&|$)|\?\?/;yt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ye.pop()||yt.expando+"_"+Ie++;return this[t]=!0,t}}),yt.ajaxPrefilter("json jsonp",function(t,e,r){var i,o,a,s=!1!==t.jsonp&&(Xe.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Xe.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=yt.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Xe,"$1"+i):!1!==t.jsonp&&(t.url+=(Oe.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||yt.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=n[i],n[i]=function(){a=arguments},r.always(function(){void 0===o?yt(n).removeProp(i):n[i]=o,t[i]&&(t.jsonpCallback=e.jsonpCallback,Ye.push(i)),a&&yt.isFunction(o)&&o(a[0]),a=o=void 0}),"script"}),vt.createHTMLDocument=function(){var t=at.implementation.createHTMLDocument("").body;return t.innerHTML="<form></form><form></form>",2===t.childNodes.length}(),yt.parseHTML=function(t,e,n){if("string"!=typeof t)return[];"boolean"==typeof e&&(n=e,e=!1);var r,i,o;return e||(vt.createHTMLDocument?(e=at.implementation.createHTMLDocument(""),r=e.createElement("base"),r.href=at.location.href,e.head.appendChild(r)):e=at),i=Ct.exec(t),o=!n&&[],i?[e.createElement(i[1])]:(i=M([t],e,o),o&&o.length&&yt(o).remove(),yt.merge([],i.childNodes))},yt.fn.load=function(t,e,n){var r,i,o,a=this,s=t.indexOf(" ");return s>-1&&(r=$(t.slice(s)),t=t.slice(0,s)),yt.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(i="POST"),a.length>0&&yt.ajax({url:t,type:i||"GET",dataType:"html",data:e}).done(function(t){o=arguments,a.html(r?yt("<div>").append(yt.parseHTML(t)).find(r):t)}).always(n&&function(t,e){a.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},yt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){yt.fn[e]=function(t){return this.on(e,t)}}),yt.expr.pseudos.animated=function(t){return yt.grep(yt.timers,function(e){return t===e.elem}).length},yt.offset={setOffset:function(t,e,n){var r,i,o,a,s,u,l,c=yt.css(t,"position"),h=yt(t),f={};"static"===c&&(t.style.position="relative"),s=h.offset(),o=yt.css(t,"top"),u=yt.css(t,"left"),l=("absolute"===c||"fixed"===c)&&(o+u).indexOf("auto")>-1,l?(r=h.position(),a=r.top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),yt.isFunction(e)&&(e=e.call(t,n,yt.extend({},s))),null!=e.top&&(f.top=e.top-s.top+a),null!=e.left&&(f.left=e.left-s.left+i),"using"in e?e.using.call(t,f):h.css(f)}},yt.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){yt.offset.setOffset(this,t,e)});var e,n,r,i,o=this[0];if(o)return o.getClientRects().length?(r=o.getBoundingClientRect(),e=o.ownerDocument,n=e.documentElement,i=e.defaultView,{top:r.top+i.pageYOffset-n.clientTop,left:r.left+i.pageXOffset-n.clientLeft}):{top:0,left:0}},position:function(){if(this[0]){var t,e,n=this[0],r={top:0,left:0};return"fixed"===yt.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),u(t[0],"html")||(r=t.offset()),r={top:r.top+yt.css(t[0],"borderTopWidth",!0),left:r.left+yt.css(t[0],"borderLeftWidth",!0)}),{top:e.top-r.top-yt.css(n,"marginTop",!0),left:e.left-r.left-yt.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===yt.css(t,"position");)t=t.offsetParent;return t||Jt})}}),yt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;yt.fn[t]=function(r){return Dt(this,function(t,r,i){var o;if(yt.isWindow(t)?o=t:9===t.nodeType&&(o=t.defaultView),void 0===i)return o?o[e]:t[r];o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):t[r]=i},t,r,arguments.length)}}),yt.each(["top","left"],function(t,e){yt.cssHooks[e]=F(vt.pixelPosition,function(t,n){if(n)return n=D(t,e),le.test(n)?yt(t).position()[e]+"px":n})}),yt.each({Height:"height",Width:"width"},function(t,e){yt.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,r){yt.fn[r]=function(i,o){var a=arguments.length&&(n||"boolean"!=typeof i),s=n||(!0===i||!0===o?"margin":"border");return Dt(this,function(e,n,i){var o;return yt.isWindow(e)?0===r.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===i?yt.css(e,n,s):yt.style(e,n,i,s)},e,a?i:void 0,a)}})}),yt.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,r){return this.on(e,t,n,r)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),yt.holdReady=function(t){t?yt.readyWait++:yt.ready(!0)},yt.isArray=Array.isArray,yt.parseJSON=JSON.parse,yt.nodeName=u,r=[],void 0!==(i=function(){return yt}.apply(e,r))&&(t.exports=i);var Ze=n.jQuery,Ke=n.$;return yt.noConflict=function(t){return n.$===yt&&(n.$=Ke),t&&n.jQuery===yt&&(n.jQuery=Ze),yt},o||(n.jQuery=n.$=yt),yt})},function(t,e,n){"use strict";var r=n(15);n.n(r);e.a=Object(r.defineMessages)({basemap:{id:"tooltips.basemap",defaultMessage:"Base Map"},overlays:{id:"tooltips.overlays",defaultMessage:"Overlays"},display:{id:"tooltips.display",defaultMessage:"Display"},oblique:{id:"tooltips.oblique",defaultMessage:"Show oblique viewer"},openOblique:{id:"tooltips.openOblique",defaultMessage:"Click the map to open an oblique image!"},measure:{id:"tooltips.measure",defaultMessage:"Measure"},copyMapLink:{id:"tooltips.copyMapLink",defaultMessage:"Copy map link to clipboard"},mapImage:{id:"tooltips.mapImage",defaultMessage:"Download map image"},compass:{id:"tooltips.compass",defaultMessage:"Compass"},zoomInButton:{id:"tooltips.zoomIn",defaultMessage:"Zoom in"},zoomOutButton:{id:"tooltips.zoomOut",defaultMessage:"Zoom out"},timetravel:{id:"tooltips.timetravel",defaultMessage:"Time Travel"},cycloramaImage:{id:"tooltips.cycloramaImage",defaultMessage:"Download Cyclorama Image"},copyCycloramaLink:{id:"tooltips.copyCycloramaLink",defaultMessage:"Copy Cyclorama link to clipboard"},obliqueImage:{id:"tooltips.obliqueImage",defaultMessage:"Download oblique image"},copyObliqueLink:{id:"tooltips.copyObliqueLink",defaultMessage:"Copy oblique link to clipboard"},obliqueRotateView:{id:"tooltips.obliqueRotateView",defaultMessage:"Rotate view"},obliqueNadirSwitch:{id:"tooltips.obliqueNadirSwitch",defaultMessage:"Switch between oblique and nadir images"},imageInfo:{id:"tooltips.imageInfo",defaultMessage:"Open image info"},mapLocation:{id:"tooltips.mapLocation",defaultMessage:"Go to map location"},goToDashboard:{id:"tooltips.goToDashboard",defaultMessage:"Go to dashboard"},goToMap:{id:"tooltips.goToMap",defaultMessage:"Go to map"},openMenu:{id:"tooltips.openMenu",defaultMessage:"Open menu"},closeMenu:{id:"tooltips.closeMenu",defaultMessage:"Close menu"},search:{id:"tooltips.search",defaultMessage:"Search"},downloadAllActive:{id:"tooltips.downloadAllActive",defaultMessage:"Download all active windows"},newMeasurement:{id:"tooltips.newMeasurement",defaultMessage:"New measurement"},saveMeasurement:{id:"tooltips.saveMeasurement",defaultMessage:"Save measurement"},collapseMeasurementPanel:{id:"tooltips.collapseMeasurementPanel",defaultMessage:"Collapse"},expandMeasurementPanel:{id:"tooltips.expandMeasurementPanel",defaultMessage:"Expand"},removeMeasurementPoint:{id:"tooltips.removeMeasurementPoint",defaultMessage:"Delete"},wrongMeasurementPoint:{id:"tooltips.wrongMeasurementPoint",defaultMessage:"Show problem description"},insertAbove:{id:"tooltips.insertAbove",defaultMessage:"Insert above"},insertBelow:{id:"tooltips.insertBelow",defaultMessage:"Insert below"},reportBlurring:{id:"tooltips.reportBlurring",defaultMessage:"Report blurring issue"}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"SET_MAX_WINDOWS",function(){return c}),n.d(e,"ADD_NODE",function(){return h}),n.d(e,"MOVE_NODE",function(){return f}),n.d(e,"REMOVE_NODE",function(){return d}),n.d(e,"CLEAR_NODE",function(){return p}),n.d(e,"FORCE_UPDATE_VIEWS",function(){return m}),n.d(e,"UPDATE_LOADING_COUNT",function(){return g}),n.d(e,"SAVE_NODE",function(){return v}),n.d(e,"POP_NODE",function(){return y}),n.d(e,"setMaxWindows",function(){return b}),n.d(e,"addMapViewerWindow",function(){return S}),n.d(e,"addPanoramaViewerWindow",function(){return T}),n.d(e,"addObliqueViewerWindow",function(){return C}),n.d(e,"updateLoadingCount",function(){return O}),n.d(e,"saveNode",function(){return A}),n.d(e,"popNode",function(){return L}),n.d(e,"forceUpdateViews",function(){return R}),n.d(e,"ActionTypes",function(){return N});var r=n(4),i=n.n(r),o=n(18),a=(n.n(o),n(27)),s=n(257),u=n(107),l=i.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c="@@WindowManager/SET_MAX_WINDOWS",h="@@WindowManager/ADD_NODE",f="@@WindowManager/MOVE_NODE",d="@@WindowManager/REMOVE_NODE",p="@@WindowManager/CLEAR_NODE",m="@@WindowManager/FORCE_UPDATE_VIEWS",g="@@WindowManger/UPDATE_LOADING_COUNT",v="@@WindowManger/SAVE_NODE",y="@@WindowManger/POP_NODE",b=function(t){return function(e,n){var r=n().maxLengthWindows!==t;e(Object(o.createAction)(c,function(){return{maxWindows:t}})()),r&&e(a.default.setProfileConfig(a.UserProfileConfigKeys.MAX_WINDOWS,t.toString()))}},w=Object(o.createAction)(h,function(t){return t}),x=Object(o.createAction)(f,function(t){return t}),_=Object(o.createAction)(f,function(t){return t}),E=Object(o.createAction)(p),M=function(t){return function(e,n){var r=n(),i=r.windowmanager,o=(i.maxLengthWindows,i.layout),a=t.parentId;t.replace,t.childIndex;o[a]||Object(u.a)("addViewerWindow","PARENT_NODE_NOT_FOUND"),e(w(t))}},S=function(t){return M(l({parentId:s.b.MAPS},t,{type:s.c.MAP_VIEWER}))},T=function(t){return M(l({parentId:s.b.PANORAMAS},t,{type:s.c.PANORAMA_VIEWER}))},C=function(t){return M(l({parentId:s.b.OBLIQUES},t,{type:s.c.OBLIQUE_VIEWER}))},I=Object(o.createAction)(d,function(t){return t}),O=Object(o.createAction)(g,function(t,e){return{wid:t,loadingDelta:e}}),A=Object(o.createAction)(v,function(t){return{id:t,key:arguments.length>1&&void 0!==arguments[1]?arguments[1]:t}}),L=Object(o.createAction)(y,function(t,e,n){return{key:t,parentId:e,childIndex:n}}),R=Object(o.createAction)(m),N={SET_MAX_WINDOWS:c,ADD_NODE:h,MOVE_NODE:f,CLEAR_NODE:p,REMOVE_NODE:d,UPDATE_LOADING_COUNT:g,FORCE_UPDATE_VIEWS:m,SAVE_NODE:v,POP_NODE:y};e.default={setMaxWindows:b,addNode:w,addMapViewerWindow:S,addPanoramaViewerWindow:T,addObliqueViewerWindow:C,insertNode:x,clearNode:E,moveNode:_,removeNode:I,forceUpdateViews:R,updateLoadingCount:O,saveNode:A,popNode:L}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"ADD_OBLIQUE_VIEWER",function(){return i}),n.d(e,"REMOVE_OBLIQUE_VIEWER",function(){return o}),n.d(e,"CLONE_OBLIQUE_VIEWER",function(){return a}),n.d(e,"UPDATE_OBLIQUE_RECORDING",function(){return s}),n.d(e,"UPDATE_OBLIQUE_VIEWER",function(){return u}),n.d(e,"LOAD_IMAGE",function(){return l}),n.d(e,"UPDATE_OBLIQUE_ORIENTATION",function(){return c}),n.d(e,"TOGGLE_UI_STATE",function(){return h}),n.d(e,"SET_ACTIVE_PANEL",function(){return f}),n.d(e,"addObliqueViewer",function(){return d}),n.d(e,"removeObliqueViewer",function(){return p}),n.d(e,"cloneObliqueViewer",function(){return m}),n.d(e,"updateObliqueViewer",function(){return g}),n.d(e,"updateObliqueRecording",function(){return v}),n.d(e,"loadImage",function(){return y}),n.d(e,"updateObliqueOrientation",function(){return b}),n.d(e,"toggleUiState",function(){return w}),n.d(e,"setActivePanel",function(){return x}),n.d(e,"ActionTypes",function(){return _});var r=n(18),i=(n.n(r),"@@ObliqueViewer/ADD_OBLIQUE_VIEWER"),o="@@ObliqueViewer/REMOVE_OBLIQUE_VIEWER",a="@@ObliqueViewer/CLONE_OBLIQUE_VIEWER",s="@@ObliqueViewer/UPDATE_OBLIQUE_RECORDING",u="@@ObliqueViewer/UPDATE_OBLIQUE_VIEWER",l="@@ObliqueViewer/LOAD_IMAGE",c="@@ObliqueViewer/UPDATE_OBLIQUE_ORIENTATION",h="@@ObliqueViewer/TOGGLE_UI_STATE",f="@@ObliqueViewer/SET_ACTIVE_PANEL",d=Object(r.createAction)(i,function(t){return{id:t,newEntry:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}}}),p=Object(r.createAction)(o,function(t){return{id:t}}),m=Object(r.createAction)(a,function(t,e){return{toId:t,fromId:e}}),g=Object(r.createAction)(u,function(t,e){return{id:t,newState:e}}),v=Object(r.createAction)(s,function(t,e,n){return{id:t,recording:e,options:n}}),y=Object(r.createAction)(l,function(t,e){return{id:t,image:e}}),b=Object(r.createAction)(c,function(t,e){return{id:t,yaw:e.yaw,hFov:e.hFov,pitch:e.pitch,xyz:e.xyz}}),w=Object(r.createAction)(h,function(t,e,n,r){return{id:t,componentId:e,property:n,enabled:r}}),x=Object(r.createAction)(f,function(t,e){return{id:t,panel:e}}),_={ADD_OBLIQUE_VIEWER:i,REMOVE_OBLIQUE_VIEWER:o,CLONE_OBLIQUE_VIEWER:a,UPDATE_OBLIQUE_VIEWER:u,UPDATE_OBLIQUE_RECORDING:s,LOAD_IMAGE:l,UPDATE_OBLIQUE_ORIENTATION:c,TOGGLE_UI_STATE:h,SET_ACTIVE_PANEL:f};e.default={addObliqueViewer:d,removeObliqueViewer:p,cloneObliqueViewer:m,updateObliqueViewer:g,updateObliqueRecording:v,loadImage:y,updateObliqueOrientation:b,toggleUiState:w,setActivePanel:x}},function(t,e,n){"use strict";var r=n(197);n.d(e,"a",function(){return r.a}),n.d(e,"b",function(){return r.b}),n.d(e,"c",function(){return r.c}),n.d(e,"d",function(){return r.d}),n.d(e,"e",function(){return r.g}),n.d(e,"f",function(){return r.h});var i=n(341);n.d(e,"k",function(){return i.a}),n.d(e,"l",function(){return i.b});var o=n(1337);n.d(e,"g",function(){return o.a}),n.d(e,"h",function(){return o.b}),n.d(e,"i",function(){return o.c}),n.d(e,"j",function(){return o.d}),n.d(e,"m",function(){return o.e}),n.d(e,"n",function(){return o.f}),n.d(e,"o",function(){return o.g});n(207)},function(t,e,n){"use strict";function r(t){return function(){var e=t.apply(this,arguments);return new m.a(function(t,n){function r(i,o){try{var a=e[i](o),s=a.value}catch(t){return void n(t)}if(!a.done)return m.a.resolve(s).then(function(t){r("next",t)},function(t){r("throw",t)});t(s)}return r("next")})}}function i(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=d()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(h.a?h()(t,e):t.__proto__=e)}var u=n(24),l=n.n(u),c=n(9),h=n.n(c),f=n(5),d=n.n(f),p=n(23),m=n.n(p),g=n(10),v=n.n(g),y=n(57),b=n.n(y),w=n(1),x=n.n(w),_=n(4),E=n.n(_),M=n(17),S=n.n(M),T=n(15),C=(n.n(T),n(200)),I=n(53),O=n(74),A=E.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},L=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),x()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),R=function t(e,n,r){null===e&&(e=Function.prototype);var i=b()(e,n);if(void 0===i){var o=v()(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},N=Object(O.a)("./assets/img/empty.png"),P=(Object(T.defineMessages)({layerName:{id:"layer.RasterLayer.name",description:"Default raster layer name",defaultMessage:"Raster layer"}}),function(t){function e(t){var n=i(t,[]);o(this,e);var r=a(this,(e.__proto__||v()(e)).call(this,A({},e.defaults,n)));return r.customTileLoader=r.customTileLoader.bind(r),r}return s(e,t),L(e,[{key:"toMapLayer",value:function(){if(!this.mapLayer){var t=this.tiled?S.a.layer.Tile:S.a.layer.Image;this.mapLayer=new t(A({},this._getMapLayerOptions(),{source:this.createMapSource()}))}return this.mapLayer}},{key:"_getMapSourceOptions",value:function(){var t=A({},R(e.prototype.__proto__||v()(e.prototype),"_getMapSourceOptions",this).call(this),{crossOrigin:this.crossOrigin,url:this.url,tileGrid:this.tiled?new S.a.tilegrid.TileGrid(this.tileGrid):void 0});return this.authRequired?this.tiled?t.tileLoadFunction=this.customTileLoader:t.imageLoadFunction=this.customTileLoader:t.crossOrigin="anonymous",this.useProxy&&(t.url=""+this.proxyUrl+this.url),t}},{key:"customTileLoader",value:function(){function t(t,n){return e.apply(this,arguments)}var e=r(l.a.mark(function t(e,n){var r,i,o,a,s;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={"Content-Type":"application/octet-stream"},this.authRequired&&(r=A({},r,Object(I.b)())),i=new Request(n,{method:"GET",mode:"cors",headers:new Headers(r)}),o=N,t.prev=4,t.next=7,fetch(i);case 7:if(a=t.sent,!a.ok){t.next=13;break}return t.next=11,a.blob();case 11:s=t.sent,o=URL.createObjectURL(s);case 13:t.next=18;break;case 15:throw t.prev=15,t.t0=t.catch(4),new Error("Error in loading tile:\nMessage: "+t.t0.message+"\nURL: "+n);case 18:e.getImage().src=o;case 19:case"end":return t.stop()}},t,this,[[4,15]])}));return t}()}]),e}(C.a));P.defaults={type:"RasterLayer",nameIntl:"layer.RasterLayer.name",tiled:!0},e.a=P},function(t,e,n){var r=n(41).f,i=n(61),o=n(35)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e,n){var r=n(2),i=n(87),o=n(25),a=n(281),s="["+a+"]",u="​",l=RegExp("^"+s+s+"*"),c=RegExp(s+s+"*$"),h=function(t,e,n){var i={},s=o(function(){return!!a[t]()||u[t]()!=u}),l=i[t]=s?e(f):a[t];n&&(i[n]=l),r(r.P+r.F*s,"String",i)},f=h.trim=function(t,e){return t=String(i(t)),1&e&&(t=t.replace(l,"")),2&e&&(t=t.replace(c,"")),t};t.exports=h},function(t,e){t.exports={}},function(t,e,n){var r=n(28);t.exports=function(t,e){if(!r(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(t,e){t.exports=function(t,e,n){var r=t*e;return n/Math.sqrt(1-r*r)}},function(t,e){t.exports=function(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)}},function(t,e,n){"use strict";var r=n(893)(!0);n(309)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e){t.exports={}},function(t,e,n){var r=n(308);t.exports=function(t){return Object(r(t))}},function(t,e,n){t.exports=n(905)},function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return s}),n.d(e,"c",function(){return u});var r=n(441),i=Math.PI/180,o=180/Math.PI,a=function(t){return t*i},s=function(t){return t*o},u=function(t){return Object(r.b)(Math.round(2*t/Math.PI),0,4)}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(1),o=n.n(i),a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),o()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=function(t){var e=0,n=t.length;if(0===n)return e;for(var r=0;r<n;r++)e=(e<<5)-e+t.charCodeAt(r),e&=e;return e},u=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.apiKey,i=e.dataUri,o=e.withCredentials,a=void 0!==o&&o;r(this,t),this.withCredentials=!1,this._dataUris=[],this._uriIndex=0,this.apiKey=n,this.setDataUri(i),this.withCredentials=a}return a(t,[{key:"_selectDataUriRoundRobinBased",value:function(){var t=this._dataUris,e=this._uriIndex,n=t[e];return this._uriIndex=(e+1)%t.length,n}},{key:"_selectDataUriHashBased",value:function(t){var e=this._dataUris;return e[Math.abs(s(t))%e.length]}},{key:"getDataUri",value:function(){return this._dataUris}},{key:"setDataUri",value:function(t){this._dataUris=Array.isArray(t)?t:[t]}}]),t}();e.a=u},function(t,e,n){function r(t,e,n){var r=c(e),h=a(e,r),f=!(l(n)&&"chain"in n&&!n.chain),d=u(t);return i(h,function(n){var r=e[n];t[n]=r,d&&(t.prototype[n]=function(){var e=this.__chain__;if(f||e){var n=t(this.__wrapped__);return(n.__actions__=s(this.__actions__)).push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,o([this.value()],arguments))})}),t}var i=n(447),o=n(940),a=n(941),s=n(945),u=n(115),l=n(193),c=n(194);t.exports=r},function(t,e){function n(t){return null!=t&&"object"==typeof t}t.exports=n},function(t,e){var n=Array.isArray;t.exports=n},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){function r(t){return null!=t&&o(t.length)&&!i(t)}var i=n(115),o=n(453);t.exports=r},function(t,e,n){function r(t,e){var n=o(t,e);return i(n)?n:void 0}var i=n(1056),o=n(1059);t.exports=r},function(t,e){function n(t){return t}t.exports=n},function(t,e,n){"use strict";function r(t){return t&&t.ownerDocument||document}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r,t.exports=e.default},function(t,e,n){"use strict";function r(t,e){if(e)do{if(e===t)return!0}while(e=e.parentNode);return!1}Object.defineProperty(e,"__esModule",{value:!0});var i=n(119),o=function(t){return t&&t.__esModule?t:{default:t}}(i);e.default=function(){return o.default?function(t,e){return t.contains?t.contains(e):t.compareDocumentPosition?t===e||!!(16&t.compareDocumentPosition(e)):r(t,e)}:r}(),t.exports=e.default},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(1),o=n.n(i),a=n(91),s=n.n(a),u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),o()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=function(){function t(e,n,i,o){r(this,t);var a=this.value=new Float64Array(6),u=this.stdev=new Float64Array(6),l=this.position=a.subarray(0,3),c=this.orientation=a.subarray(3,6),h=this.positionStdev=u.subarray(0,3),f=this.orientationStdev=u.subarray(3,6);s.a.copy(l,e),s.a.copy(h,n),s.a.copy(c,i),s.a.copy(f,o)}return u(t,[{key:"toJson",value:function(){return{position:{value:s.a.clone([],this.position),stdev:s.a.clone([],this.positionStdev)},orientation:{value:s.a.clone([],this.orientation),stdev:s.a.clone([],this.orientationStdev)}}}},{key:"yaw",get:function(){return this.orientation[0]}},{key:"pitch",get:function(){return this.orientation[1]}},{key:"roll",get:function(){return this.orientation[2]}},{key:"yawStdev",get:function(){return this.orientationStdev[0]}},{key:"pitchStdev",get:function(){return this.orientationStdev[1]}},{key:"rollStdev",get:function(){return this.orientationStdev[2]}},{key:"is2d",get:function(){return isNaN(this.position[2])}}],[{key:"fromJson",value:function(e){return new t(e.position.value,e.position.stdev,e.orientation.value,e.orientation.stdev)}}]),t}();e.a=l},function(t,e,n){!function(){"use strict";t.exports.Vector=n(565),t.exports.Matrix=n(1322)}()},function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o});var r=n(159),i=(Object(r.b)(.1),Object(r.b)(.01),1e-5),o=Object(r.b)(1e-5)},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=f()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(c.a?c()(t,e):t.__proto__=e)}var s=n(10),u=n.n(s),l=n(9),c=n.n(l),h=n(5),f=n.n(h),d=n(1),p=n.n(d),m=n(4),g=n.n(m),v=n(17),y=n.n(v),b=n(29),w=n.n(b),x=n(15),_=(n.n(x),n(200)),E=n(1332),M=g.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},S=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),p()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),T=(Object(x.defineMessages)({layerName:{id:"layer.FeatureLayer.name",description:"Default Feature layers name",defaultMessage:"Feature layer"}}),function(t){function e(t){var n=r(t,[]);i(this,e);var a=o(this,(e.__proto__||u()(e)).call(this,w.a.defaults({},n,e.defaults))),s=a.color;return/^(?:[\da-f]{3}|[\da-f]{6})$/i.exec(s)&&(a.color="#"+s),a}return a(e,t),S(e,[{key:"toMapLayer",value:function(){this.mapLayer||(this.mapLayer=new y.a.layer.Vector(M({},this._getMapLayerOptions(),{source:this.createMapSource(),style:this.getFeatureStyle()})),this.mapLayer.set("id",this.id),this.mapLayer.set("name",this.name));var t=this.mapLayer,e=this.parent;if(e)if(e instanceof y.a.Map)e.addLayer(t);else if(e instanceof y.a.layer.Group){var n=e.getLayers();n.push(t),this.parent.setLayers(n)}return t}},{key:"getFeatureStyle",value:function(){var t=y.a.color.asArray(this.color).slice();return t[3]=.2,new E.a({strokeColor:this.color,fillColor:t})}},{key:"createMapSource",value:function(){return new y.a.source.Vector(this._getMapSourceOptions())}}]),e}(_.a));T.defaults={type:"FeatureLayer",nameIntl:"layer.FeatureLayer.name",color:"#00ff00"},e.a=T},function(t,e,n){"use strict";function r(t){return function(){var e=t.apply(this,arguments);return new s.a(function(t,n){function r(i,o){try{var a=e[i](o),u=a.value}catch(t){return void n(t)}if(!a.done)return s.a.resolve(u).then(function(t){r("next",t)},function(t){r("throw",t)});t(u)}return r("next")})}}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"LOGIN",function(){return m}),n.d(e,"LOGOUT",function(){return g}),n.d(e,"LOCALSTORAGE_TOKEN_KEY",function(){return v}),n.d(e,"loginBasic",function(){return w}),n.d(e,"login",function(){return x}),n.d(e,"logout",function(){return _}),n.d(e,"ActionTypes",function(){return E});var i=n(24),o=n.n(i),a=n(23),s=n.n(a),u=n(32),l=(n.n(u),n(18)),c=(n.n(l),n(590)),h=n(53),f=n(140),d=n(205),p=this,m="@@login/LOGIN",g="@@login/LOGOUT",v="basicToken",y=Object(l.createAction)(m),b="The user name or password passed was empty.",w=function(t,e){return function(){var n=r(o.a.mark(function n(r,i){var a,s,u,l,m,g,w,x,_,E,M,S;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(a=i(),s=a.config,u=s.isApi,l=s.configUrl,m=!1,g=void 0,t||e){n.next=11;break}if(g=d.a.getItem(v)){n.next=8;break}return n.abrupt("return");case 8:m=!u,n.next=17;break;case 11:if(!t||!e){n.next=15;break}g=btoa(t+":"+e),n.next=17;break;case 15:throw r(y(new c.a(c.a.CREDENTIALS_EMPTY,b))),new Error(b);case 17:return w=Object(h.a)(g),x=new Request(l+f.configurationServicePaths.USER_INFO,{method:"GET",headers:new Headers(w)}),_=void 0,n.prev=20,n.next=23,fetch(x);case 23:_=n.sent,n.next=35;break;case 26:if(n.prev=26,n.t0=n.catch(20),E="Logging in failed. Response: "+n.t0.message,r(y(m?new c.a(c.a.AUTO_LOGIN_FAILED,E,{reason:c.a.SERVER_UNREACHABLE}):new c.a(c.a.SERVER_UNREACHABLE,E))),m){n.next=34;break}throw new Error(E);case 34:return n.abrupt("return");case 35:if(_.ok){n.next=47;break}if(M="Logging in failed with status code "+_.status+". Message: "+_.statusText,S=void 0,S=404===_.status?c.a.NOT_FOUND:401===_.status?c.a.UNAUTHORIZED:c.a.UNKNOWN_ERROR,r(y(m?new c.a(c.a.AUTO_LOGIN_FAILED,M,{reason:S}):new c.a(S,M,m))),m){n.next=44;break}throw new Error(M);case 44:return n.abrupt("return");case 45:n.next=48;break;case 47:return n.abrupt("return",r(y({username:t,basicToken:g})));case 48:case"end":return n.stop()}},n,p,[[20,26]])}));return function(t,e){return n.apply(this,arguments)}}()},x=function(t){var e=t.agree,n=t.username,i=t.password,a=t.tid;return function(){var t=r(o.a.mark(function t(r,s){var u;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u=s().config.isApi,e){t.next=4;break}throw r(y(new c.a(c.a.NOT_AGREED))),new Error(c.a.NOT_AGREED);case 4:if(!n||!i){t.next=9;break}return t.next=7,r(w(n,i));case 7:t.next=16;break;case 9:if(!a){t.next=14;break}return r(y({tidToken:a})),t.abrupt("return");case 14:throw r(y(new c.a(c.a.CREDENTIALS_EMPTY,b))),new Error(b);case 16:case"end":return t.stop()}},t,p)}));return function(e,n){return t.apply(this,arguments)}}()},_=Object(l.createAction)(g),E={LOGIN:m,LOGOUT:g};e.default={login:x,logout:_,loginBasic:w}},function(t,e,n){"use strict";(function(t){if(e.base64=!0,e.array=!0,e.string=!0,e.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,e.nodebuffer=void 0!==t,e.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)e.blob=!1;else{var n=new ArrayBuffer(0);try{e.blob=0===new Blob([n],{type:"application/zip"}).size}catch(t){try{var r=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,i=new r;i.append(n),e.blob=0===i.getBlob("application/zip").size}catch(t){e.blob=!1}}}}).call(e,n(137).Buffer)},function(t,e,n){var r=n(76);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var r=n(76),i=n(35)("toStringTag"),o="Arguments"==r(function(){return arguments}()),a=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=a(e=Object(t),i))?n:o?r(e):"Object"==(s=r(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e){t.exports=function(t){return t<0?-1:1}},function(t,e){t.exports=function(t){return 1-.25*t*(1+t/16*(3+1.25*t))}},function(t,e){t.exports=function(t){return.375*t*(1+.25*t*(1+.46875*t))}},function(t,e){t.exports=function(t){return.05859375*t*t*(1+.75*t)}},function(t,e){t.exports=function(t){return t*t*t*(35/3072)}},function(t,e){t.exports=function(t,e,n,r,i){return t*i-e*Math.sin(2*i)+n*Math.sin(4*i)-r*Math.sin(6*i)}},function(t,e,n){var r=Math.PI/2,i=n(179);t.exports=function(t){return Math.abs(t)<r?t:t-i(t)*Math.PI}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var r=n(78).f,i=n(134),o=n(56)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e,n){n(897);for(var r=n(55),i=n(114),o=n(156),a=n(56)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<s.length;u++){var l=s[u],c=r[l],h=c&&c.prototype;h&&!h[a]&&i(h,a,l),o[l]=o.Array}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var r=n(100),i=n(442),o=n(443),a=n(101),s=n(235),u=n(325),l={},c={},e=t.exports=function(t,e,n,h,f){var d,p,m,g,v=f?function(){return t}:u(t),y=r(n,h,e?2:1),b=0;if("function"!=typeof v)throw TypeError(t+" is not iterable!");if(o(v)){for(d=s(t.length);d>b;b++)if((g=e?y(a(p=t[b])[0],p[1]):y(t[b]))===l||g===c)return g}else for(m=v.call(t);!(p=m.next()).done;)if((g=i(m,y,p.value,e))===l||g===c)return g};e.BREAK=l,e.RETURN=c},function(t,e){function n(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}t.exports=n},function(t,e,n){function r(t){return a(t)?i(t):o(t)}var i=n(946),o=n(454),a=n(165);t.exports=r},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return s()(t)}n.d(e,"c",function(){return p}),n.d(e,"b",function(){return m}),n.d(e,"d",function(){return g}),n.d(e,"a",function(){return v});var i=n(48),o=n.n(i),a=n(31),s=n.n(a),u=n(19),l=n.n(u),c=n(16),h=n.n(c),f=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=h()(t);!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(l()(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=["green","orange","blue","purple","gray"],p={green:[152,194,60],orange:[236,122,8],blue:[0,82,147],purple:[151,2,84],gray:[188,189,188],darkGreen:[93,116,26],offWhite:[242,242,242],midGray:[102,102,102],darkGray:[51,51,51]},m={},g=d.map(function(t){return{name:"cmt-"+t,rgb:p[t]}}),v={};o()(p).forEach(function(t){var e=f(t,2),n=e[0],i=e[1];m[n]=[].concat(r(i),[1]),v[n]="#"+i.map(function(t){return("0"+t.toString(16)).slice(-2)}).join("")})},function(t,e,n){"use strict";function r(t,e){var n=o(t),r=o(e);if(0===n)return[i(0),i(1)];if(0===r)return[i(0),i(0)];r<0&&(t=t.neg(),e=e.neg());var a=t.gcd(e);return a.cmpn(1)?[t.div(a),e.div(a)]:[t,e]}var i=n(477),o=n(339);t.exports=r},function(t,e,n){"use strict";n.d(e,"e",function(){return i}),n.d(e,"f",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"c",function(){return s}),n.d(e,"b",function(){return u}),n.d(e,"a",function(){return l}),n.d(e,"g",function(){return c}),n.d(e,"h",function(){return h});var r=n(44),i=135,o=45,a=20,s=a*r.c,u={POSITIONS:"Positions",POINT:"Point",MULTIPOINT:"MultiPoint",LINESTRING:"LineString",CIRCLE:"Circle",MULTILINESTRING:"MultiLineString",POLYGON:"Polygon",MULTIPOLYGON:"MultiPolygon",GEOMETRYCOLLECTION:"GeometryCollection"},l={CIRCLE:"Circle"},c={TOO_FEW_RECORDINGS:"TOO_FEW_RECORDINGS",INVALID_ANGLE:"INVALID_ANGLE",POINT_TOO_FAR:"POINT_TOO_FAR",STANDARD_DEVIATION:"STANDARD_DEVIATION"},h={GOOD:"RELIABLE",OK:"ACCEPTABLE",BAD:"UNRELIABLE"}},function(t,e,n){"use strict";function r(t){return function(){var e=t.apply(this,arguments);return new b.a(function(t,n){function r(i,o){try{var a=e[i](o),s=a.value}catch(t){return void n(t)}if(!a.done)return b.a.resolve(s).then(function(t){r("next",t)},function(t){r("throw",t)});t(s)}return r("next")})}}function i(){return mt&&1===mt.getState().stage.stage}function o(){i()||Object(Q.a)("StreetSmartApi","API not initialized yet!")}function a(t,e){var n={};if(e){var r=this.getComponentRef(e);r&&(n.panoramaViewer=r.component)}t&&(n.activeMeasurement=Object(lt.n)(t));var i=ut.MEASUREMENT_CHANGED;this.trigger(i,new ct.a(i,n))}function s(){return pt.name}function u(t){if(!(t.targetElement&&t.targetElement instanceof Element))throw new Error("NO_OR_INVALID_TARGET");U.a.unmountComponentAtNode(t.targetElement),yt()}function l(){return pt.version}function c(){if(o(),mt){var t=mt.getState();if(t.config.config&&t.config.config.application&&t.config.config.application.functionalities)return t.config.config.application.functionalities.map(function(t){return t&&t.description}).filter(function(t){return!!t})}return[]}function h(){return"string"==typeof mt.getState().login.tidToken}function f(){h()&&Object(Q.c)("getAddressSettings");var t=void 0,e=void 0;if(mt){var n=mt.getState();n.config.config&&n.config.config.services.address&&(t=n.config.config.services.address.code,e=n.config.config.services.address.databaseResource)}return{locale:t,database:e}}function d(){var t=localStorage.getItem("StreetSmart/log");return null===t?[]:JSON.parse(t)}n.d(e,"a",function(){return gt}),n.d(e,"k",function(){return vt}),e.f=i,e.n=o,n.d(e,"b",function(){return bt}),n.d(e,"l",function(){return wt}),e.m=a,e.g=s,e.d=u,e.h=l,e.j=c,e.e=f,e.i=d;var p=n(48),m=n.n(p),g=n(24),v=n.n(g),y=n(23),b=n.n(y),w=n(4),x=n.n(w),_=n(58),E=n.n(_),M=n(66),S=n.n(M),T=n(19),C=n.n(T),I=n(16),O=n.n(I),A=n(482),L=n.n(A),R=n(387),N=(n.n(R),n(1085)),P=(n.n(N),n(421)),k=(n.n(P),n(1086),n(492)),D=(n.n(k),n(1090),n(0)),F=n.n(D),j=n(49),U=n.n(j),B=n(70),z=n.n(B),V=n(17),G=n.n(V),H=n(343),q=n.n(H),W=n(29),Y=n.n(W),X=n(38),Z=(n.n(X),n(199)),K=n(344),$=n.n(K),Q=n(107),J=n(44),tt=n(1128),et=n(340),nt=n(74),rt=n(1381),it=n(1383),ot=n(1415),at=(n.n(ot),n(1434),n(213)),st=n(54);n.d(e,"c",function(){return st.ViewerType});var ut=n(617),lt=n(147),ct=n(608),ht=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=O()(t);!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(C()(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),ft="function"==typeof S.a&&"symbol"==typeof E.a?function(t){return typeof t}:function(t){return t&&"function"==typeof S.a&&t.constructor===S.a&&t!==S.a.prototype?"symbol":typeof t},dt=x.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};Z.a.setLocalStorageEnabled(!1);var pt=q()($.a),mt=void 0,gt={},vt=function(){return mt?mt.getState():void 0},yt=function(){mt=null,gt={}},bt=function(t){return o(),F.a.createElement(it.a,dt({},t,{store:mt}))},wt=function(){var t=r(v.a.mark(function t(e){var n,r,o,a,s,u,l,c,h,f,d,p,g,y,w,x,_,E,M,S,T,C;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(L.a.createEmitter(this),!i()){t.next=3;break}throw new Error("API ALREADY INITIALIZED");case 3:if(e&&!Y.a.isEmpty(e)){t.next=5;break}throw new Error("NO OPTIONS PROVIDED FOR INIT");case 5:if(n=e.username,r=e.password,o=e.apiKey,a=e.srs,s=e.locale,u=e.tid,l=e.configurationUrl,c=e.addressSettings,h=e.targetElement,n&&r&&("string"==typeof n||"string"==typeof r)||u&&"string"==typeof u){t.next=8;break}throw new Error("NO_OR_INVALID_CREDENTIALS");case 8:if(o&&"string"==typeof o){t.next=10;break}throw new Error("NO_OR_INVALID_APIKEY");case 10:if(Object(J.o)(a)){t.next=12;break}throw new Error("NO_OR_INVALID_SRS");case 12:if(!s||"string"==typeof s){t.next=14;break}throw new Error("WRONG_LOCALE_TYPEOF");case 14:if(!l||"string"==typeof l){t.next=16;break}throw new Error("INVALID_CONFIGURATION_URL");case 16:if(!c||"object"===(void 0===c?"undefined":ft(c))){t.next=18;break}throw new Error("INVALID_ADDRESS_SETTINGS");case 18:if(h&&h instanceof Element){t.next=20;break}throw new Error("NO_OR_INVALID_TARGET");case 20:for(CM.Proj4.setProj4(z.a),G.a.proj.setProj4(z.a),mt=Object(tt.a)(),t.prev=23,f=mt.dispatch,d=!0,p=!1,g=void 0,t.prev=28,y=O()(m()(rt.a));!(d=(w=y.next()).done);d=!0)x=ht(w.value,2),_=x[0],E=x[1],gt[_]=Object(X.bindActionCreators)(E,f);t.next=36;break;case 32:t.prev=32,t.t0=t.catch(28),p=!0,g=t.t0;case 36:t.prev=36,t.prev=37,!d&&y.return&&y.return();case 39:if(t.prev=39,!p){t.next=42;break}throw g;case 42:return t.finish(39);case 43:return t.finish(36);case 44:return gt.config.setIsApi(!0),l&&gt.config.setConfigUrl(l),t.prev=46,t.next=49,gt.login.login({username:n,password:r,tid:u,agree:!0});case 49:t.next=56;break;case 51:throw t.prev=51,t.t1=t.catch(46),M="init::"+t.t1.message,l&&(M+="::ConfigurationUrl might be Invalid"),new Error(M);case 56:return Object(et.b)(mt),t.next=59,b.a.all([gt.srs.loadSrsList({url:Object(nt.a)("./assets/srs/GlobeSpotterSpatialReferences.xml")}),gt.intl.setLocale(s||"en-US")]);case 59:if(t.t2=function(t){if("object"===(void 0===t?"undefined":ft(t))&&t.payload instanceof Error)throw t.payload},t.sent.forEach(t.t2),!u){t.next=66;break}return t.next=64,gt.stage.initAppTID();case 64:t.next=68;break;case 66:return t.next=68,gt.stage.initApp();case 68:gt.config.setApiKey(o),gt.srs.setUserSrs(a),c&&c.locale&&c.database&&gt.config.setAddressSettings(c),S=mt.getState().config.config,S.services.recording&&(T=new at.a({}),gt.layer.addOverlays([T])),C={width:"100%",height:"100%"},U.a.render(F.a.createElement(bt,{style:C}),h),t.next=81;break;case 77:throw t.prev=77,t.t3=t.catch(23),yt(),t.t3;case 81:case"end":return t.stop()}},t,this,[[23,77],[28,32,36,44],[37,,39,43],[46,51]])}));return function(e){return t.apply(this,arguments)}}()},function(t,e,n){"use strict";function r(){return o}function i(t){o=t}var o=!0;e.a={getLocalStorageEnabled:r,setLocalStorageEnabled:i}},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=n(1),a=n.n(o),s=n(4),u=n.n(s),l=n(17),c=n.n(l),h=n(32),f=n.n(h),d=n(15),p=(n.n(d),n(82)),m=n(347),g=(n(505),n(142)),v=u.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},y=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),a()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),b=(Object(d.defineMessages)({layerName:{id:"layer.Layer.name",description:"Default layer name",defaultMessage:"Layer"}}),function(){function t(e){var n=r(e,[]);i(this,t);var o=v({},t.defaults,{crossOrigin:n.authRequired?"anonymous":void 0},n);u()(this,o)}return y(t,[{key:"getResolutions",value:function(){var t=this.minZoomLevel,e=this.maxZoomLevel,n=this.maxMapResolution;return g.b.buildResolutions(n,e,t)}},{key:"toMapLayer",value:function(){f.a.warn(Object(p.b)(m.a.notImplemented,{method:this.constructor.name+".toMapLayer"}))}},{key:"updateMapLayer",value:function(t){t.setVisible(this.visible)}},{key:"_getMapSourceOptions",value:function(){return{attributions:this.attribution?[new c.a.Attribution({html:this.attribution})]:void 0,projection:this.projection}}},{key:"_getMapLayerOptions",value:function(){var t=this.isBaseLayer,e=this.visible,n=this.maxMapResolution,r=this.extent;return{minResolution:t?this.minResolution:g.b.getResolutionForZoomLevel(n,this.maxZoomLevel),maxResolution:t?this.maxResolution:g.b.getResolutionForZoomLevel(n,this.minZoomLevel-1),visible:e,extent:r,preload:2,isBaseLayer:t,name:this.name}}},{key:"tileGrid",get:function(){var t=this.origin,e=this.tileGridExtent;return{resolutions:this.getResolutions(),extent:e,origin:t}}},{key:"key",get:function(){return this.id}},{key:"name",get:function(){return this._name||(this.nameIntl?Object(p.b)({id:this.nameIntl}):null)},set:function(t){this._name=t}}]),t}());b.defaults={type:"Layer",isBaseLayer:!1,id:void 0,name:null,nameIntl:"layer.Layer",url:void 0,apiKey:void 0,minResolution:0,maxResolution:1e6,minZoomLevel:0,maxZoomLevel:99,authRequired:!1,tiled:!1,visible:!1,sortOrder:-1},e.a=b},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(59),o=r(i),a=n(13),s=r(a),u=n(11),l=r(u),c=n(6),h=r(c),f=n(7),d=r(f),p=n(8),m=r(p),g=n(12),v=r(g),y=n(0),b=r(y),w=n(3),x=r(w),_=n(33),E=r(_),M=n(14),S=n(52),T=n(93),C=r(T),I={active:x.default.bool,disabled:x.default.bool,block:x.default.bool,onClick:x.default.func,componentClass:E.default,href:x.default.string,type:x.default.oneOf(["button","reset","submit"])},O={active:!1,block:!1,disabled:!1},A=function(t){function e(){return(0,h.default)(this,e),(0,d.default)(this,t.apply(this,arguments))}return(0,m.default)(e,t),e.prototype.renderAnchor=function(t,e){return b.default.createElement(C.default,(0,l.default)({},t,{className:(0,v.default)(e,t.disabled&&"disabled")}))},e.prototype.renderButton=function(t,e){var n=t.componentClass,r=(0,s.default)(t,["componentClass"]),i=n||"button";return b.default.createElement(i,(0,l.default)({},r,{type:r.type||"button",className:e}))},e.prototype.render=function(){var t,e=this.props,n=e.active,r=e.block,i=e.className,o=(0,s.default)(e,["active","block","className"]),a=(0,M.splitBsProps)(o),u=a[0],c=a[1],h=(0,l.default)({},(0,M.getClassSet)(u),(t={active:n},t[(0,M.prefix)(u,"block")]=r,t)),f=(0,v.default)(i,h);return c.href?this.renderAnchor(c,f):this.renderButton(c,f)},e}(b.default.Component);A.propTypes=I,A.defaultProps=O,e.default=(0,M.bsClass)("btn",(0,M.bsSizes)([S.Size.LARGE,S.Size.SMALL,S.Size.XSMALL],(0,M.bsStyles)([].concat((0,o.default)(S.State),[S.Style.DEFAULT,S.Style.PRIMARY,S.Style.LINK]),S.Style.DEFAULT,A))),t.exports=e.default},function(t,e,n){"use strict";function r(t,e,n,r,i){n&&(t._notifying=!0,n.call.apply(n,[t,r].concat(i)),t._notifying=!1),t._values[e]=r,t.unmounted||t.forceUpdate()}e.__esModule=!0;var i=n(1192),o=function(t){return t&&t.__esModule?t:{default:t}}(i),a={shouldComponentUpdate:function(){return!this._notifying}};e.default=(0,o.default)(a,r),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,s.default)(o.default.findDOMNode(t))};var i=n(49),o=r(i),a=n(168),s=r(a);t.exports=e.default},function(t,e,n){"use strict";n.d(e,"a",function(){return O});var r=n(103),i=n.n(r),o=n(18),a=(n.n(o),n(17)),s=n.n(a),u=n(39),l=n(107),c=n(142),h=n(109),f=n(27),d=function(t){return function(e,n){t||Object(l.b)("addMapViewer");var r=n(),i=r.mapviewers,a=r.config,s=i.startupExtent,u=i.mapShowScaleBar,c=i.mapShowZoomSlider,f=i.opacity,d=s&&s.extent,p=a.config.map,m=p.initialExtent,g=p.maxResolution,v=p.srsName,y=p.maxZoomLevel,b=d||m,w={extent:b,maxExtent:m,projection:v,maxResolution:g,maxZoomLevel:y,showScaleBar:u,showZoomSlider:c,activePanel:h.a.NONE,navbarExpanded:!0,navbarVisible:!0,rotation:0,viewerSettings:{brightness:100,contrast:100,opacity:f}};e(Object(o.createAction)("@@MapViewer/ADD_MAP_VIEWER",function(){return{wid:t,options:w}})())}},p=Object(o.createAction)("@@MapViewer/CLONE_MAP_VIEWER",function(t,e){return{toId:t,fromId:e}}),m=Object(o.createAction)("@@MapViewer/REMOVE_MAP_VIEWER",function(t){return{id:t}}),g=Object(o.createAction)("@@MapViewer/UPDATE_MAP_VIEWER_PARAMS",function(t,e){return{wid:t,options:e}}),v=Object(o.createAction)("@@MapViewer/UPDATE_MAP_RESOLUTION",function(t,e){return{wid:t,resolution:e}}),y=function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return function(r,i){var o=e;if(n){var a=i().config.config.map.maxResolution,s=Math.floor(c.b.getZoomLevelForResolution(a,o));o=c.b.getResolutionForZoomLevel(a,s)}r(v(t,o))}},b=function(t,e){return function(n,r){var i=r().mapviewers.byId[t].maxResolution,o=c.b.getResolutionForZoomLevel(i,e);n(v(t,o))}},w=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:99;return function(r,i){var o=i().mapviewers.byId[t],a=o.maxResolution,s=o.resolution,l=void 0;if(!s||isNaN(s))l=e;else{var h=Math.round(c.b.getZoomLevelForResolution(a,s)),f=Object(u.c)(h,e,n);f!==h&&(l=f)}if(l){var d=c.b.getResolutionForZoomLevel(a,l);r(v(t,d))}}},x=Object(o.createAction)("@@MapViewer/UPDATE_MAP_CENTER",function(t,e){return{wid:t,center:e}}),_=function(t,e,n){return function(r,i){var o=i().config.config.map.srsName,a=e;n!==o&&(a=s.a.proj.transform(a,n,o)),r(x(t,a))}},E=function(t,e,n,r){return function(i,o){var a=e,u=r,l=o().mapviewers.byId[t].projection;if(n!==l&&(a=s.a.proj.transformExtent(a,n,l)),!u){var h=document.getElementById(t);h&&(u=[h.offsetWidth,h.offsetHeight])}if(u){var f=s.a.extent.getCenter(a),d=c.b.getResolutionForExtent(a,u);i(x(t,f)),i(y(t,d))}else i(g(t,{extent:a,center:void 0,resolution:void 0}))}},M=function(t,e){return function(n){n(Object(o.createAction)("@@MapViewer/SET_MAP_ZOOM_SLIDER_VISIBILITY",function(){return{wid:t,showZoomSlider:e}})()),n(f.default.setProfileGlobal(f.UserProfileGlobalKeys.MAP_SHOW_ZOOM_SLIDER,i()(e)))}},S=function(t,e){return function(n){n(Object(o.createAction)("@@MapViewer/SET_MAP_SCALE_BAR_VISIBILITY",function(){return{wid:t,showScaleBar:e}})()),n(f.default.setProfileGlobal(f.UserProfileGlobalKeys.MAP_SHOW_SCALE_BAR,i()(e)))}},T=Object(o.createAction)("@@MapViewer/SET_ACTIVE_PANEL",function(t,e){return{wid:t,panel:e}}),C=function(t,e){return function(n){n(Object(o.createAction)("@@MapViewer/SET_STARTUP_MAP_EXTENT",function(){return{extent:t,srs:e}})()),n(f.default.setProfileConfig(f.UserProfileConfigKeys.STARTUP_EXTENT,i()({extent:t,srs:e})))}},I=function(t){return function(e){e(Object(o.createAction)("@@MapViewer/SET_OPACITY",function(){return{opacity:t}})()),e(f.default.setProfileGlobal(f.UserProfileGlobalKeys.OPACITY,i()(t)))}},O={ADD_MAP_VIEWER:"@@MapViewer/ADD_MAP_VIEWER",CLONE_MAP_VIEWER:"@@MapViewer/CLONE_MAP_VIEWER",REMOVE_MAP_VIEWER:"@@MapViewer/REMOVE_MAP_VIEWER",UPDATE_MAP_VIEWER_PARAMS:"@@MapViewer/UPDATE_MAP_VIEWER_PARAMS",SET_MAP_CENTER:"@@MapViewer/UPDATE_MAP_CENTER",SET_MAP_RESOLUTION:"@@MapViewer/UPDATE_MAP_RESOLUTION",SET_MAP_ZOOM_SLIDER_VISIBILITY:"@@MapViewer/SET_MAP_ZOOM_SLIDER_VISIBILITY",SET_MAP_SCALE_BAR_VISIBILITY:"@@MapViewer/SET_MAP_SCALE_BAR_VISIBILITY",SET_ACTIVE_PANEL:"@@MapViewer/SET_ACTIVE_PANEL",SET_STARTUP_MAP_EXTENT:"@@MapViewer/SET_STARTUP_MAP_EXTENT",SET_OPACITY:"@@MapViewer/SET_OPACITY"};e.b={addMapViewer:d,cloneMapViewer:p,removeMapViewer:m,updateMapViewerParams:g,setMapCenter:_,setMapExtent:E,setMapZoom:b,setMapZoomUsingRange:w,setMapResolution:y,setMapZoomSliderVisibility:M,setMapScaleBarVisibility:S,setActivePanel:T,setStartupMapExtent:C,setOpacity:I}},function(t,e,n){"use strict";var r=n(199),i=void 0;if(r.a.getLocalStorageEnabled()){var o=localStorage.getItem("StreetSmart/currentUser");o&&(i=o)}var a=function(){return i},s=function(t){return"StreetSmart/"+a()+"/"+t},u=function(t){return r.a.getLocalStorageEnabled()&&i?localStorage.getItem(s(t)):void 0},l=function(t,e){r.a.getLocalStorageEnabled()&&i&&localStorage.setItem(s(t),e)},c=function(t){r.a.getLocalStorageEnabled()&&localStorage.removeItem(s(t))},h=function(t){r.a.getLocalStorageEnabled()&&t&&(i=t,localStorage.setItem("StreetSmart/currentUser",t))},f=function(){r.a.getLocalStorageEnabled()&&(localStorage.removeItem("StreetSmart/currentUser"),i=void 0)};e.a={getItem:u,setItem:l,removeItem:c,setCurrentUser:h,removeCurrentUser:f}},function(t,e,n){"use strict";(function(t){if(e.base64=!0,e.array=!0,e.string=!0,e.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,e.nodebuffer=void 0!==t,e.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)e.blob=!1;else{var n=new ArrayBuffer(0);try{e.blob=0===new Blob([n],{type:"application/zip"}).size}catch(t){try{var r=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,i=new r;i.append(n),e.blob=0===i.getBlob("application/zip").size}catch(t){e.blob=!1}}}}).call(e,n(137).Buffer)},function(t,e,n){"use strict";var r=n(170);n.d(e,"a",function(){return r.a});var i=(n(1318),n(1319),n(562),n(1320),n(371),n(563),n(208),n(209),n(211),n(1321));n.d(e,"b",function(){return i.a});var o=n(210);n.d(e,"c",function(){return o.a})},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(1),o=n.n(i),a=(n(170),n(209),n(210)),s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),o()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=function(){function t(e,n,i){r(this,t),this.type=e,this.method=n,this.extrinsics=i}return s(t,[{key:"update",value:function(){}},{key:"toJson",value:function(){return{type:this.type,method:this.method,extrinsics:this.extrinsics.toJson()}}}],[{key:"fromJson",value:function(t){switch(t.type){case a.a.MAP:return n(562).fromJson(t);case a.a.PANORAMA:return n(211).fromJson(t);case a.a.OBLIQUE:return n(563).fromJson(t);default:throw new Error("Error parsing observation")}}}]),t}();e.a=u},function(t,e,n){"use strict";e.a={MEASURE_SMART:"MeasureSmart",SMART_CLICK:"SmartClick",MANUAL:"Manual"}},function(t,e,n){"use strict";e.a={MAP:"map",PANORAMA:"panorama",OBLIQUE:"oblique"}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=l()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(s.a?s()(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=n(9),s=n.n(a),u=n(5),l=n.n(u),c=n(10),h=n.n(c),f=n(57),d=n.n(f),p=n(1),m=n.n(p),g=n(4),v=n.n(g),y=n(230),b=n.n(y),w=n(91),x=n.n(w),_=n(170),E=n(208),M=n(210),S=v.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},T=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),m()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),C=function t(e,n,r){null===e&&(e=Function.prototype);var i=d()(e,n);if(void 0===i){var o=h()(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},I=function(t){function e(t,n,o,a,s){r(this,e);var u=i(this,(e.__proto__||h()(e)).call(this,M.a.PANORAMA,t,o));return u._direction=x.a.create(),u._directionHV=b.a.create(),u.imageId=n,u.groundLevelOffset=a,u.update(s),u}return o(e,t),T(e,[{key:"update",value:function(t){var e=this._direction;x.a.normalize(e,t);var n=e[0],r=e[1],i=e[2];b.a.set(this._directionHV,Math.atan2(r,n),Math.asin(i))}},{key:"toJson",value:function(){return S({},C(e.prototype.__proto__||h()(e.prototype),"toJson",this).call(this),{imageId:this.imageId,groundLevelOffset:this.groundLevelOffset,direction:x.a.clone([],this.direction)})}},{key:"direction",get:function(){return this._direction}},{key:"directionHV",get:function(){return this._directionHV}}],[{key:"fromJson",value:function(t){return new e(t.method,t.imageId,_.a.fromJson(t.extrinsics),t.groundLevelOffset,t.direction)}}]),e}(E.a);e.default=I},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"LayerType",function(){return y}),n.d(e,"ADD_LAYER",function(){return b}),n.d(e,"ADD_LAYERS",function(){return w}),n.d(e,"TOGGLE_OVERLAY",function(){return x}),n.d(e,"SELECT_BASE_LAYER",function(){return _}),n.d(e,"COPY_LAYER_VISIBILITY",function(){return E}),n.d(e,"RESTORE_COPIED_LAYER_VISIBILITY",function(){return M}),n.d(e,"REMOVE_LAYER_STORE",function(){return S}),n.d(e,"SET_LAYER_VISIBILITY",function(){return T}),n.d(e,"addBaseLayer",function(){return I}),n.d(e,"addBaseLayers",function(){return O}),n.d(e,"addOverlay",function(){return A}),n.d(e,"addOverlays",function(){return L}),n.d(e,"toggleOverlay",function(){return R}),n.d(e,"selectBaseLayer",function(){return N}),n.d(e,"copyLayerVisibility",function(){return P}),n.d(e,"restoreCopiedLayerVisibility",function(){return k}),n.d(e,"removeLayerStore",function(){return D}),n.d(e,"initLayers",function(){return F}),n.d(e,"initMapViewerLayers",function(){return j}),n.d(e,"initPanoramaViewerLayers",function(){return U}),n.d(e,"setLayerVisibility",function(){return B}),n.d(e,"ActionTypes",function(){return z});var r=n(103),i=n.n(r),o=n(4),a=n.n(o),s=n(18),u=(n.n(s),n(17)),l=n.n(u),c=n(105),h=(n.n(c),n(74),n(260),n(213)),f=n(372),d=n(568),p=(n(373),n(569)),m=n(572),g=n(27),v=a.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},y={BASELAYER:"baseLayers",OVERLAY:"overlays"},b="@@Layer/ADD_LAYER",w="@@Layer/ADD_LAYERS",x="@@Layer/TOGGLE_OVERLAY",_="@@Layer/SELECT_BASE_LAYER",E="@@Layer/COPY_LAYER_VISIBILITY",M="@@Layer/RESTORE_COPIED_LAYER_VISIBILITY",S="@@Layer/REMOVE_LAYER_STORE",T="@@Layer/SET_LAYER_VISIBILITY",C=function t(e,n){return e.map(function(e){var r=n(e);return"LayerGroup"===r.type?v({},r,{layers:t(r.layers,n)}):r})},I=Object(s.createAction)(b,function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"*";return{type:y.BASELAYER,storeId:e,layer:t}}),O=Object(s.createAction)(w,function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"*";return{type:y.BASELAYER,storeId:e,layers:t}}),A=Object(s.createAction)(b,function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"*";return{type:y.OVERLAY,storeId:e,layer:t}}),L=Object(s.createAction)(w,function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"*";return{type:y.OVERLAY,storeId:e,layers:t}}),R=Object(s.createAction)(x,function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"*",e=arguments[1],n=arguments[2];return{type:y.OVERLAY,storeId:t,layerId:e,visible:n}}),N=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"*",e=arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return function(r,i){n=n&&i().layer.baseLayer!==e,r(Object(s.createAction)(_,function(){return{type:y.BASELAYER,storeId:t,layerId:e}})()),n&&r(g.default.setProfileConfig(g.UserProfileConfigKeys.BASE_LAYER,e))}},P=Object(s.createAction)(E,function(t,e){return{toStoreId:t,fromStoreId:e}}),k=Object(s.createAction)(M,function(t,e){return{toStoreId:t,fromStoreId:e}}),D=Object(s.createAction)(S,function(t){return{storeId:t}}),F=function(){return function(t,e){var n=e(),r=n.config.config,i=n.measurements,o=r.map,a=o.featureZoomLevel,s=o.maxZoomLevel,u=o.maxResolution,c=o.maxExtent,g=o.initialExtent,y=o.baseLayers,b=o.overlays,w=o.srsName,x=r.services,_=x.recording,E=x.address,M=x.proxy,S=M.url,T=n.srs.userSrs,I={extent:g,tileGridExtent:c,maxMapResolution:u,origin:l.a.extent.getTopLeft(c),proxyUrl:S},A=function(t){return v({},t,I)};if(_){var R=new h.a({apiKey:n.config.apiKey,url:_.onlineResource,minZoomLevel:a,maxZoomLevel:s,projection:T,mapProjection:w});b.push(R);var P=new f.a({panoramaviewerStore:n,mapProjection:w});b.push(P)}if(E){var k=new d.a({url:E.onlineResource+"/wfs",minZoomLevel:a,maxZoomLevel:s,projection:T});b.push(k)}var D=new p.a;b.push(D),i.allowedToMeasure&&b.push(new m.a({visible:!0}));var F=C(y,A),j=C(b,A);t(O(F)),t(L(j));for(var U=n.layer.baseLayer,B=!1,z=0;z<F.length;z++)F[z].id===U&&(B=!0);t(N("all",B?U:F[0].id))}},j=function(t){return function(e,n){var r=n(),i=r.layer,o=i.baseLayers,a=i.overlays,s=i.layerSettings,u=i.baseLayer,l=o.all,c=a.all;e(O(l,t));for(var h=!1,f=0;f<l.length;f++)l[f].id===u&&(h=!0);e(N(t,h?u:l[0].id)),c=c.map(function(t){var e=s[t.id];return e?v({},t,e):t}),e(L(c,t))}},U=function(t){return function(e,n){var r=n(),i=r.layer,o=i.overlays,a=i.layerSettings,s=[];o.all.forEach(function(t){("WFSLayer"===t.type||"SHPLayer"===t.type||"RecordingLayer"===t.type||"LayerGroup"===t.type&&t.layers&&("WFSLayer"===t.layers[0].type||"SHPLayer"===t.layers[0].type))&&s.push(t)}),s=s.map(function(t){var e=a[t.id];return e?v({},t,e):t}),e(L(s,t))}},B=function(t,e){return function(n,r){n(Object(s.createAction)(T,function(){return{layerId:t,visible:e}})());var o=r().layer.layerSettings;n(g.default.setProfileConfig(g.UserProfileConfigKeys.LAYER_SETTINGS,i()(o)))}},z={ADD_LAYER:b,ADD_LAYERS:w,TOGGLE_OVERLAY:x,SELECT_BASE_LAYER:_,COPY_LAYER_VISIBILITY:E,REMOVE_LAYER_STORE:S,RESTORE_COPIED_LAYER_VISIBILITY:M,SET_LAYER_VISIBILITY:T};e.default={addBaseLayer:I,addBaseLayers:O,addOverlay:A,addOverlays:L,selectBaseLayer:N,toggleOverlay:R,copyLayerVisibility:P,restoreCopiedLayerVisibility:k,removeLayerStore:D,initLayers:F,initMapViewerLayers:j,initPanoramaViewerLayers:U,setLayerVisibility:B}},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=f()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(c.a?c()(t,e):t.__proto__=e)}n.d(e,"b",function(){return k});var s=n(16),u=n.n(s),l=n(9),c=n.n(l),h=n(5),f=n.n(h),d=n(10),p=n.n(d),m=n(57),g=n.n(m),v=n(1),y=n.n(v),b=n(4),w=n.n(b),x=n(29),_=n.n(x),E=n(17),M=n.n(E),S=n(15),T=(n.n(S),n(32)),C=n.n(T),I=n(261),O=n(566),A=n(333),L=n(53),R=w.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},N=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),y()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),P=function t(e,n,r){null===e&&(e=Function.prototype);var i=g()(e,n);if(void 0===i){var o=p()(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},k=Object(S.defineMessages)({layerName:{id:"layer.RecordingLayer.name",description:"Default recording layer name",defaultMessage:"Cyclorama recording layer"},surfaceCursor:{id:"layer.SurfaceCursor.name",description:"Toggle surface cursor",defaultMessage:"Surface cursor"}}),D=-1,F=function(){return++D},j=function(t){function e(t){var n=t.visible,a=void 0===n||n,s=r(t,["visible"]);i(this,e);var u=o(this,(e.__proto__||p()(e)).call(this,R({},e.defaults,{visible:a},s)));return u._lastResponseId=-1,u}return a(e,t),N(e,[{key:"initRecordingClient",value:function(){this.onRecordingLoadSuccess=this.onRecordingLoadSuccess.bind(this),this.recordingClient=new CM.aperture.WfsRecordingClient({uriManager:new CM.aperture.WfsRecordingUriManager({apiKey:this.apiKey,dataUri:this.url,withCredentials:!0}),authHeaders:Object(L.b)()})}},{key:"getFeatureStyle",value:function(){var t=new A.b,e={};return function(n,r){return n.get("hasDepthMap")?("hasDepthMap"in e||(e.hasDepthMap=new A.b(A.a.depth)),[e.hasDepthMap]):[t]}}},{key:"toMapLayer",value:function(){return this.initRecordingClient(),P(e.prototype.__proto__||p()(e.prototype),"toMapLayer",this).call(this)}},{key:"buildCustomLoader",value:function(){var t=this.recordingClient,e=this.startLoading,n=this.finishLoading,r=this.onRecordingLoadSuccess,i=this.projection,o=void 0;return function(a,s,u){var l=M.a.proj.transformExtent(a,u,i);if(!_.a.isEqual(l,o)){e();var c=F();t.requestWithinBBOX(l[0],l[1],l[2],l[3],i).then(function(t){r(t,c),n()}).catch(function(t){C.a.warn("RecordingLayer.recordingClient. Error: ",t)}),o=l}}}},{key:"onRecordingLoadSuccess",value:function(t,e){if(!(e<=this._lastResponseId)){var n=this.mapLayer.getSource();n.clear();var r=this.mapProjection,i=!0,o=!1,a=void 0;try{for(var s,l=u()(t);!(i=(s=l.next()).done);i=!0){var c=s.value,h=c.xyz,f=c.srs;f!==r&&(h=M.a.proj.transform(h,f,r)),n.addFeature(new O.a(R({coordinate:h},c)))}}catch(t){o=!0,a=t}finally{try{!i&&l.return&&l.return()}finally{if(o)throw a}}this._lastResponseId=e}}},{key:"startLoading",value:function(){dispatchEvent(new CustomEvent("RecordingsStartLoading",{detail:{}}))}},{key:"finishLoading",value:function(){dispatchEvent(new CustomEvent("RecordingFinishedLoading",{detail:{}}))}}]),e}(I.a);j.defaults={id:"cyclorama-recordings",type:"RecordingLayer",nameIntl:"layer.RecordingLayer.name",visible:!0},e.a=j},function(t,e,n){"use strict";var r=n(15);n.n(r);e.a=Object(r.defineMessages)({copied:{id:"Common.copied",description:"Text to show when the user has copied something.",defaultMessage:"Copied!"},name:{id:"Common.name",description:'Generic "name" field',defaultMessage:"Name"},description:{id:"Common.description",description:'Generic "description" field',defaultMessage:"Description"},na:{id:"Common.na",description:'N/A: abbreviation for "not applicable" or "not available"',defaultMessage:"N/A"}})},function(t,e,n){var r=n(21),i=r["__core-js_shared__"]||(r["__core-js_shared__"]={});t.exports=function(t){return i[t]||(i[t]={})}},function(t,e,n){var r=n(64),i=n(42),o=n(126);t.exports=function(t){return function(e,n,a){var s,u=r(e),l=i(u.length),c=o(a,l);if(t&&n!=n){for(;l>c;)if((s=u[c++])!=s)return!0}else for(;l>c;c++)if((t||c in u)&&u[c]===n)return t||c||0;return!t&&-1}}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(76);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var r=n(28),i=n(76),o=n(35)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},function(t,e,n){var r=n(35)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},t(o)}catch(t){}return n}},function(t,e,n){"use strict";var r=n(20);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){"use strict";var r=n(62),i=n(63),o=n(25),a=n(87),s=n(35);t.exports=function(t,e,n){var u=s(t),l=n(a,u,""[t]),c=l[0],h=l[1];o(function(){var e={};return e[u]=function(){return 7},7!=""[t](e)})&&(i(String.prototype,t,c),r(RegExp.prototype,u,2==e?function(t,e){return h.call(t,this,e)}:function(t){return h.call(t,this)}))}},function(t,e,n){var r=n(20),i=n(50),o=n(35)("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||void 0==(n=r(a)[o])?e:i(n)}},function(t,e,n){"use strict";var r=n(21),i=n(2),o=n(63),a=n(132),s=n(111),u=n(131),l=n(130),c=n(28),h=n(25),f=n(221),d=n(149),p=n(282);t.exports=function(t,e,n,m,g,v){var y=r[t],b=y,w=g?"set":"add",x=b&&b.prototype,_={},E=function(t){var e=x[t];o(x,t,"delete"==t?function(t){return!(v&&!c(t))&&e.call(this,0===t?0:t)}:"has"==t?function(t){return!(v&&!c(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return v&&!c(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})};if("function"==typeof b&&(v||x.forEach&&!h(function(){(new b).entries().next()}))){var M=new b,S=M[w](v?{}:-0,1)!=M,T=h(function(){M.has(1)}),C=f(function(t){new b(t)}),I=!v&&h(function(){for(var t=new b,e=5;e--;)t[w](e,e);return!t.has(-0)});C||(b=e(function(e,n){l(e,b,t);var r=p(new y,e,b);return void 0!=n&&u(n,g,r[w],r),r}),b.prototype=x,x.constructor=b),(T||I)&&(E("delete"),E("has"),g&&E("get")),(I||S)&&E(w),v&&x.clear&&delete x.clear}else b=m.getConstructor(e,t,g,w),a(b.prototype,n),s.NEED=!0;return d(b,t),_[t]=b,i(i.G+i.W+i.F*(b!=y),_),v||m.setStrong(b,t,g),b}},function(t,e,n){for(var r,i=n(21),o=n(62),a=n(124),s=a("typed_array"),u=a("view"),l=!(!i.ArrayBuffer||!i.DataView),c=l,h=0,f="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");h<9;)(r=i[f[h++]])?(o(r.prototype,s,!0),o(r.prototype,u,!0)):c=!1;t.exports={ABV:l,CONSTR:c,TYPED:s,VIEW:u}},function(t,e,n){"use strict";t.exports=n(125)||!n(25)(function(){var t=Math.random();__defineSetter__.call(null,t,function(){}),delete n(21)[t]})},function(t,e,n){"use strict";var r=n(2);t.exports=function(t){r(r.S,t,{of:function(){for(var t=arguments.length,e=Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},function(t,e,n){"use strict";var r=n(2),i=n(50),o=n(75),a=n(131);t.exports=function(t){r(r.S,t,{from:function(t){var e,n,r,s,u=arguments[1];return i(this),e=void 0!==u,e&&i(u),void 0==t?new this:(n=[],e?(r=0,s=o(u,arguments[2],2),a(t,!1,function(t){n.push(s(t,r++))})):a(t,!1,n.push,n),new this(n))}})}},function(t,e,n){var r=n(99),i={};i.create=function(){var t=new r.ARRAY_TYPE(2);return t[0]=0,t[1]=0,t},i.clone=function(t){var e=new r.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e},i.fromValues=function(t,e){var n=new r.ARRAY_TYPE(2);return n[0]=t,n[1]=e,n},i.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},i.set=function(t,e,n){return t[0]=e,t[1]=n,t},i.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t},i.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t},i.sub=i.subtract,i.multiply=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t},i.mul=i.multiply,i.divide=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t},i.div=i.divide,i.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t},i.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t},i.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t},i.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t},i.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t},i.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t},i.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t},i.distance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)},i.dist=i.distance,i.squaredDistance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r},i.sqrDist=i.squaredDistance,i.length=function(t){var e=t[0],n=t[1];return Math.sqrt(e*e+n*n)},i.len=i.length,i.squaredLength=function(t){var e=t[0],n=t[1];return e*e+n*n},i.sqrLen=i.squaredLength,i.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},i.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t},i.normalize=function(t,e){var n=e[0],r=e[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i),t[0]=e[0]*i,t[1]=e[1]*i),t},i.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},i.cross=function(t,e,n){var r=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=r,t},i.lerp=function(t,e,n,r){var i=e[0],o=e[1];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t},i.random=function(t,e){e=e||1;var n=2*r.RANDOM()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t},i.transformMat2=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i,t[1]=n[1]*r+n[3]*i,t},i.transformMat2d=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t},i.transformMat3=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[3]*i+n[6],t[1]=n[1]*r+n[4]*i+n[7],t},i.transformMat4=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13],t},i.forEach=function(){var t=i.create();return function(e,n,r,i,o,a){var s,u;for(n||(n=2),r||(r=0),u=i?Math.min(i*n+r,e.length):e.length,s=r;s<u;s+=n)t[0]=e[s],t[1]=e[s+1],o(t,t,a),e[s]=t[0],e[s+1]=t[1];return e}}(),i.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},i.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]},i.equals=function(t,e){var n=t[0],i=t[1],o=e[0],a=e[1];return Math.abs(n-o)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(i-a)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(a))},t.exports=i},function(t,e){var n=Math.PI/2;t.exports=function(t,e,r){var i=t*r,o=.5*t;return i=Math.pow((1-i)/(1+i),o),Math.tan(.5*(n-e))/i}},function(t,e){var n=Math.PI/2;t.exports=function(t,e){for(var r,i,o=.5*t,a=n-2*Math.atan(e),s=0;s<=15;s++)if(r=t*Math.sin(a),i=n-2*Math.atan(e*Math.pow((1-r)/(1+r),o))-a,a+=i,Math.abs(i)<=1e-10)return a;return-9999}},function(t,e){t.exports=!0},function(t,e,n){var r=n(101),i=n(433),o=n(315),a=n(313)("IE_PROTO"),s=function(){},u=function(){var t,e=n(310)("iframe"),r=o.length;for(e.style.display="none",n(435).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write("<script>document.F=Object<\/script>"),t.close(),u=t.F;r--;)delete u.prototype[o[r]];return u()};t.exports=Object.create||function(t,e){var n;return null!==t?(s.prototype=r(t),n=new s,s.prototype=null,n[a]=t):n=u(),void 0===e?n:i(n,e)}},function(t,e,n){var r=n(307),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e,n){var r=n(236)("meta"),i=n(92),o=n(134),a=n(78).f,s=0,u=Object.isExtensible||function(){return!0},l=!n(133)(function(){return u(Object.preventExtensions({}))}),c=function(t){a(t,r,{value:{i:"O"+ ++s,w:{}}})},h=function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,r)){if(!u(t))return"F";if(!e)return"E";c(t)}return t[r].i},f=function(t,e){if(!o(t,r)){if(!u(t))return!0;if(!e)return!1;c(t)}return t[r].w},d=function(t){return l&&p.NEED&&u(t)&&!o(t,r)&&c(t),t},p=t.exports={KEY:r,NEED:!1,fastKey:h,getWeak:f,onFreeze:d}},function(t,e,n){var r=n(37),i=n(22),o=n(133);t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],a={};a[t]=e(n),r(r.S+r.F*o(function(){n(1)}),"Object",a)}},function(t,e,n){var r=n(188),i=n(56)("toStringTag"),o="Arguments"==r(function(){return arguments}()),a=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=a(e=Object(t),i))?n:o?r(e):"Object"==(s=r(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e,n){"use strict";n.d(e,"f",function(){return r}),n.d(e,"b",function(){return o}),n.d(e,"a",function(){return a}),n.d(e,"e",function(){return s}),n.d(e,"d",function(){return u}),n.d(e,"c",function(){return l});var r={TILED:"Tiled",EQR:"Equirectangular"},i=function(t,e){var n=t.length-1;return{type:r.TILED,zoomResolutions:t,maxZoom:n,maxZoomResolution:t[n],zoomTileDimensionalities:e}},o=i([256,512,1536],["H",1,3]),a=i([256,512,1536,4608],["H",1,3,9]),s=i([80,160,320,640,1280],[1,1,1,1,2]),u={type:r.EQR,width:4800,height:2400},l={Dcr9Tiling:o,Dcr10Tiling:a,SwedishTiling:s,NoTiling:u}},function(t,e,n){"use strict";e.a={PLAIN_COLOR:"PlainColor",PLAIN_DEPTH:"PlainDepth",SURFACE_CURSOR:"SurfaceCursor",HV_MAP:"HVMap",FOG:"Fog",DARKNESS:"Darkness",HEIGHT:"Height"}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"c",function(){return h}),n.d(e,"b",function(){return f}),n.d(e,"a",function(){return d});var i=n(1),o=n.n(i),a=n(106),s=(n.n(a),n(1010)),u=n(1013),l=n(1049),c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),o()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),h="0",f="21",d={LINE:"line",DASHED_LINE:"dashed_line",PERSPECTIVE_LINE:"perspective_line",PERSPECTIVE_LINE_PLANEXZ:"perspective_line_planexz",POLYGON_RING:"polygon_ring",BILLBOARD:"billboard",GEOMETRY:"geometry",DOT_2D:"dot2D",DOT_3D:"dot3D",POLYGON_SHAPE:"polygon_shape",TEXT:"text",TEXT_2D:"text2D",CROSSHAIR:"crosshair",EXTERNAL_GEOMETRY:"external_geometry"},p=function(){function t(e,n){r(this,t),this.elementId=0,a.ImageUtils.crossOrigin="",this.scene=e,this.camera=n,this.elementManager=new s.a(this),this.elementFactory=new u.a(this),this.mouseManager=new l.a(this)}return c(t,[{key:"destroy",value:function(){this.elementManager.destroy(),this.elementManager=void 0,this.elementFactory.destroy(),this.elementFactory=void 0,this.mouseManager.destroy(),this.mouseManager=void 0}},{key:"resetElementId",value:function(){this.elementId=0}},{key:"dispose",value:function(t){void 0===t||Array.isArray(t)&&0===t.length?this.elementManager.destroyAll():this.elementManager.destroyElements(t)}},{key:"disposeGroup",value:function(t){this.elementManager.destroyElements(this.elementManager.getElementsByGroup(t))}},{key:"hide",value:function(t){this.elementManager.setVisible(!1,t)}},{key:"show",value:function(t){this.elementManager.setVisible(!0,t)}},{key:"hideGroup",value:function(t){this.elementManager.setGroupVisible(!1,t)}},{key:"showGroup",value:function(t){this.elementManager.setGroupVisible(!0,t)}},{key:"getElementById",value:function(t){return this.elementManager.getElementById(t)}},{key:"getElementByName",value:function(t){return this.elementManager.getElementByName(t)}},{key:"getElementsByGroup",value:function(t){return this.elementManager.getElementsByGroup(t)}},{key:"update",value:function(t,e,n){this.elementManager.update(t,e,n)}},{key:"create",value:function(t,e){switch(t.type){case"Feature":case"FeatureCollection":return this.elementFactory.constructObjectFromGeoJSON(t,e);default:return this.elementFactory.constructObject(t.type,t,t.name)}}},{key:"nextElementId",get:function(){return++this.elementId}}]),t}();e.d=p},function(t,e,n){"use strict";"use restrict";function r(t){var e=32;return t&=-t,t&&e--,65535&t&&(e-=16),16711935&t&&(e-=8),252645135&t&&(e-=4),858993459&t&&(e-=2),1431655765&t&&(e-=1),e}e.INT_BITS=32,e.INT_MAX=2147483647,e.INT_MIN=-1<<31,e.sign=function(t){return(t>0)-(t<0)},e.abs=function(t){var e=t>>31;return(t^e)-e},e.min=function(t,e){return e^(t^e)&-(t<e)},e.max=function(t,e){return t^(t^e)&-(t<e)},e.isPow2=function(t){return!(t&t-1||!t)},e.log2=function(t){var e,n;return e=(t>65535)<<4,t>>>=e,n=(t>255)<<3,t>>>=n,e|=n,n=(t>15)<<2,t>>>=n,e|=n,n=(t>3)<<1,t>>>=n,(e|=n)|t>>1},e.log10=function(t){return t>=1e9?9:t>=1e8?8:t>=1e7?7:t>=1e6?6:t>=1e5?5:t>=1e4?4:t>=1e3?3:t>=100?2:t>=10?1:0},e.popCount=function(t){return t-=t>>>1&1431655765,16843009*((t=(858993459&t)+(t>>>2&858993459))+(t>>>4)&252645135)>>>24},e.countTrailingZeros=r,e.nextPow2=function(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)+1},e.prevPow2=function(t){return t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)-(t>>>1)},e.parity=function(t){return t^=t>>>16,t^=t>>>8,t^=t>>>4,27030>>>(t&=15)&1};var i=new Array(256);!function(t){for(var e=0;e<256;++e){var n=e,r=e,i=7;for(n>>>=1;n;n>>>=1)r<<=1,r|=1&n,--i;t[e]=r<<i&255}}(i),e.reverse=function(t){return i[255&t]<<24|i[t>>>8&255]<<16|i[t>>>16&255]<<8|i[t>>>24&255]},e.interleave2=function(t,e){return t&=65535,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e&=65535,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t|e<<1},e.deinterleave2=function(t,e){return t=t>>>e&1431655765,t=858993459&(t|t>>>1),t=252645135&(t|t>>>2),t=16711935&(t|t>>>4),(t=65535&(t|t>>>16))<<16>>16},e.interleave3=function(t,e,n){return t&=1023,t=4278190335&(t|t<<16),t=251719695&(t|t<<8),t=3272356035&(t|t<<4),t=1227133513&(t|t<<2),e&=1023,e=4278190335&(e|e<<16),e=251719695&(e|e<<8),e=3272356035&(e|e<<4),e=1227133513&(e|e<<2),t|=e<<1,n&=1023,n=4278190335&(n|n<<16),n=251719695&(n|n<<8),n=3272356035&(n|n<<4),n=1227133513&(n|n<<2),t|n<<2},e.deinterleave3=function(t,e){return t=t>>>e&1227133513,t=3272356035&(t|t>>>2),t=251719695&(t|t>>>4),t=4278190335&(t|t>>>8),(t=1023&(t|t>>>16))<<22>>22},e.nextCombination=function(t){var e=t|t-1;return e+1|(~e&-~e)-1>>>r(t)+1}},function(t,e,n){(function(t){!function(t,e){"use strict";function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}function o(t,e,n){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(n=e,e=10),this._init(t||0,e||10,n||"be"))}function a(t,e,n){for(var r=0,i=Math.min(t.length,n),o=e;o<i;o++){var a=t.charCodeAt(o)-48;r<<=4,r|=a>=49&&a<=54?a-49+10:a>=17&&a<=22?a-17+10:15&a}return r}function s(t,e,n,r){for(var i=0,o=Math.min(t.length,n),a=e;a<o;a++){var s=t.charCodeAt(a)-48;i*=r,i+=s>=49?s-49+10:s>=17?s-17+10:s}return i}function u(t){for(var e=new Array(t.bitLength()),n=0;n<e.length;n++){var r=n/26|0,i=n%26;e[n]=(t.words[r]&1<<i)>>>i}return e}function l(t,e,n){n.negative=e.negative^t.negative;var r=t.length+e.length|0;n.length=r,r=r-1|0;var i=0|t.words[0],o=0|e.words[0],a=i*o,s=67108863&a,u=a/67108864|0;n.words[0]=s;for(var l=1;l<r;l++){for(var c=u>>>26,h=67108863&u,f=Math.min(l,e.length-1),d=Math.max(0,l-t.length+1);d<=f;d++){var p=l-d|0;i=0|t.words[p],o=0|e.words[d],a=i*o+h,c+=a/67108864|0,h=67108863&a}n.words[l]=0|h,u=0|c}return 0!==u?n.words[l]=0|u:n.length--,n.strip()}function c(t,e,n){n.negative=e.negative^t.negative,n.length=t.length+e.length;for(var r=0,i=0,o=0;o<n.length-1;o++){var a=i;i=0;for(var s=67108863&r,u=Math.min(o,e.length-1),l=Math.max(0,o-t.length+1);l<=u;l++){var c=o-l,h=0|t.words[c],f=0|e.words[l],d=h*f,p=67108863&d;a=a+(d/67108864|0)|0,p=p+s|0,s=67108863&p,a=a+(p>>>26)|0,i+=a>>>26,a&=67108863}n.words[o]=s,r=a,a=i}return 0!==r?n.words[o]=r:n.length--,n.strip()}function h(t,e,n){return(new f).mulp(t,e,n)}function f(t,e){this.x=t,this.y=e}function d(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function p(){d.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function m(){d.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function g(){d.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function v(){d.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function y(t){if("string"==typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function b(t){y.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}"object"==typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;var w;try{w=n(1029).Buffer}catch(t){}o.isBN=function(t){return t instanceof o||null!==t&&"object"==typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,n){if("number"==typeof t)return this._initNumber(t,e,n);if("object"==typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36),t=t.toString().replace(/\s+/g,"");var i=0;"-"===t[0]&&i++,16===e?this._parseHex(t,i):this._parseBase(t,e,i),"-"===t[0]&&(this.negative=1),this.strip(),"le"===n&&this._initArray(this.toArray(),e,n)},o.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},o.prototype._initArray=function(t,e,n){if(r("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===n)for(i=t.length-1,o=0;i>=0;i-=3)a=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===n)for(i=0,o=0;i<t.length;i+=3)a=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this.strip()},o.prototype._parseHex=function(t,e){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var r,i,o=0;for(n=t.length-6,r=0;n>=e;n-=6)i=a(t,n,n+6),this.words[r]|=i<<o&67108863,this.words[r+1]|=i>>>26-o&4194303,(o+=24)>=26&&(o-=26,r++);n+6!==e&&(i=a(t,e,n+6),this.words[r]|=i<<o&67108863,this.words[r+1]|=i>>>26-o&4194303),this.strip()},o.prototype._parseBase=function(t,e,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=e)r++;r--,i=i/e|0;for(var o=t.length-n,a=o%r,u=Math.min(o,o-a)+n,l=0,c=n;c<u;c+=r)l=s(t,c,c+r,e),this.imuln(i),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(0!==a){var h=1;for(l=s(t,c,t.length,e),c=0;c<a;c++)h*=e;this.imuln(h),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var x=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],_=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],E=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(t,e){t=t||10,e=0|e||1;var n;if(16===t||"hex"===t){n="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],u=(16777215&(s<<i|o)).toString(16);o=s>>>24-i&16777215,n=0!==o||a!==this.length-1?x[6-u.length]+u+n:u+n,i+=2,i>=26&&(i-=26,a--)}for(0!==o&&(n=o.toString(16)+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var l=_[t],c=E[t];n="";var h=this.clone();for(h.negative=0;!h.isZero();){var f=h.modn(c).toString(t);h=h.idivn(c),n=h.isZero()?f+n:x[l-f.length]+f+n}for(this.isZero()&&(n="0"+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(t,e){return r(void 0!==w),this.toArrayLike(w,t,e)},o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},o.prototype.toArrayLike=function(t,e,n){var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var a,s,u="le"===e,l=new t(o),c=this.clone();if(u){for(s=0;!c.isZero();s++)a=c.andln(255),c.iushrn(8),l[s]=a;for(;s<o;s++)l[s]=0}else{for(s=0;s<o-i;s++)l[s]=0;for(s=0;!c.isZero();s++)a=c.andln(255),c.iushrn(8),l[o-s-1]=a}return l},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,n=0;return e>=4096&&(n+=13,e>>>=13),e>=64&&(n+=7,e>>>=7),e>=8&&(n+=4,e>>>=4),e>=2&&(n+=2,e>>>=2),n+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,n=0;return 0==(8191&e)&&(n+=13,e>>>=13),0==(127&e)&&(n+=7,e>>>=7),0==(15&e)&&(n+=4,e>>>=4),0==(3&e)&&(n+=2,e>>>=2),0==(1&e)&&n++,n},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var n=this._zeroBits(this.words[e]);if(t+=n,26!==n)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},o.prototype.ior=function(t){return r(0==(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var n=0;n<e.length;n++)this.words[n]=this.words[n]&t.words[n];return this.length=e.length,this.strip()},o.prototype.iand=function(t){return r(0==(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,n;this.length>t.length?(e=this,n=t):(e=t,n=this);for(var r=0;r<n.length;r++)this.words[r]=e.words[r]^n.words[r];if(this!==e)for(;r<e.length;r++)this.words[r]=e.words[r];return this.length=e.length,this.strip()},o.prototype.ixor=function(t){return r(0==(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){r("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){r("number"==typeof t&&t>=0);var n=t/26|0,i=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},o.prototype.iadd=function(t){var e;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();var n,r;this.length>t.length?(n=this,r=t):(n=t,r=this);for(var i=0,o=0;o<r.length;o++)e=(0|n.words[o])+(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<n.length;o++)e=(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var n=this.cmp(t);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;var r,i;n>0?(r=this,i=t):(r=t,i=this);for(var o=0,a=0;a<i.length;a++)e=(0|r.words[a])-(0|i.words[a])+o,o=e>>26,this.words[a]=67108863&e;for(;0!==o&&a<r.length;a++)e=(0|r.words[a])+o,o=e>>26,this.words[a]=67108863&e;if(0===o&&a<r.length&&r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this.length=Math.max(this.length,a),r!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var M=function(t,e,n){var r,i,o,a=t.words,s=e.words,u=n.words,l=0,c=0|a[0],h=8191&c,f=c>>>13,d=0|a[1],p=8191&d,m=d>>>13,g=0|a[2],v=8191&g,y=g>>>13,b=0|a[3],w=8191&b,x=b>>>13,_=0|a[4],E=8191&_,M=_>>>13,S=0|a[5],T=8191&S,C=S>>>13,I=0|a[6],O=8191&I,A=I>>>13,L=0|a[7],R=8191&L,N=L>>>13,P=0|a[8],k=8191&P,D=P>>>13,F=0|a[9],j=8191&F,U=F>>>13,B=0|s[0],z=8191&B,V=B>>>13,G=0|s[1],H=8191&G,q=G>>>13,W=0|s[2],Y=8191&W,X=W>>>13,Z=0|s[3],K=8191&Z,$=Z>>>13,Q=0|s[4],J=8191&Q,tt=Q>>>13,et=0|s[5],nt=8191&et,rt=et>>>13,it=0|s[6],ot=8191&it,at=it>>>13,st=0|s[7],ut=8191&st,lt=st>>>13,ct=0|s[8],ht=8191&ct,ft=ct>>>13,dt=0|s[9],pt=8191&dt,mt=dt>>>13;n.negative=t.negative^e.negative,n.length=19,r=Math.imul(h,z),i=Math.imul(h,V),i=i+Math.imul(f,z)|0,o=Math.imul(f,V);var gt=(l+r|0)+((8191&i)<<13)|0;l=(o+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,r=Math.imul(p,z),i=Math.imul(p,V),i=i+Math.imul(m,z)|0,o=Math.imul(m,V),r=r+Math.imul(h,H)|0,i=i+Math.imul(h,q)|0,i=i+Math.imul(f,H)|0,o=o+Math.imul(f,q)|0;var vt=(l+r|0)+((8191&i)<<13)|0;l=(o+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,r=Math.imul(v,z),i=Math.imul(v,V),i=i+Math.imul(y,z)|0,o=Math.imul(y,V),r=r+Math.imul(p,H)|0,i=i+Math.imul(p,q)|0,i=i+Math.imul(m,H)|0,o=o+Math.imul(m,q)|0,r=r+Math.imul(h,Y)|0,i=i+Math.imul(h,X)|0,i=i+Math.imul(f,Y)|0,o=o+Math.imul(f,X)|0;var yt=(l+r|0)+((8191&i)<<13)|0;l=(o+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,r=Math.imul(w,z),i=Math.imul(w,V),i=i+Math.imul(x,z)|0,o=Math.imul(x,V),r=r+Math.imul(v,H)|0,i=i+Math.imul(v,q)|0,i=i+Math.imul(y,H)|0,o=o+Math.imul(y,q)|0,r=r+Math.imul(p,Y)|0,i=i+Math.imul(p,X)|0,i=i+Math.imul(m,Y)|0,o=o+Math.imul(m,X)|0,r=r+Math.imul(h,K)|0,i=i+Math.imul(h,$)|0,i=i+Math.imul(f,K)|0,o=o+Math.imul(f,$)|0;var bt=(l+r|0)+((8191&i)<<13)|0;l=(o+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,r=Math.imul(E,z),i=Math.imul(E,V),i=i+Math.imul(M,z)|0,o=Math.imul(M,V),r=r+Math.imul(w,H)|0,i=i+Math.imul(w,q)|0,i=i+Math.imul(x,H)|0,o=o+Math.imul(x,q)|0,r=r+Math.imul(v,Y)|0,i=i+Math.imul(v,X)|0,i=i+Math.imul(y,Y)|0,o=o+Math.imul(y,X)|0,r=r+Math.imul(p,K)|0,i=i+Math.imul(p,$)|0,i=i+Math.imul(m,K)|0,o=o+Math.imul(m,$)|0,r=r+Math.imul(h,J)|0,i=i+Math.imul(h,tt)|0,i=i+Math.imul(f,J)|0,o=o+Math.imul(f,tt)|0;var wt=(l+r|0)+((8191&i)<<13)|0;l=(o+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,r=Math.imul(T,z),i=Math.imul(T,V),i=i+Math.imul(C,z)|0,o=Math.imul(C,V),r=r+Math.imul(E,H)|0,i=i+Math.imul(E,q)|0,i=i+Math.imul(M,H)|0,o=o+Math.imul(M,q)|0,r=r+Math.imul(w,Y)|0,i=i+Math.imul(w,X)|0,i=i+Math.imul(x,Y)|0,o=o+Math.imul(x,X)|0,r=r+Math.imul(v,K)|0,i=i+Math.imul(v,$)|0,i=i+Math.imul(y,K)|0,o=o+Math.imul(y,$)|0,r=r+Math.imul(p,J)|0,i=i+Math.imul(p,tt)|0,i=i+Math.imul(m,J)|0,o=o+Math.imul(m,tt)|0,r=r+Math.imul(h,nt)|0,i=i+Math.imul(h,rt)|0,i=i+Math.imul(f,nt)|0,o=o+Math.imul(f,rt)|0;var xt=(l+r|0)+((8191&i)<<13)|0;l=(o+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,r=Math.imul(O,z),i=Math.imul(O,V),i=i+Math.imul(A,z)|0,o=Math.imul(A,V),r=r+Math.imul(T,H)|0,i=i+Math.imul(T,q)|0,i=i+Math.imul(C,H)|0,o=o+Math.imul(C,q)|0,r=r+Math.imul(E,Y)|0,i=i+Math.imul(E,X)|0,i=i+Math.imul(M,Y)|0,o=o+Math.imul(M,X)|0,r=r+Math.imul(w,K)|0,i=i+Math.imul(w,$)|0,i=i+Math.imul(x,K)|0,o=o+Math.imul(x,$)|0,r=r+Math.imul(v,J)|0,i=i+Math.imul(v,tt)|0,i=i+Math.imul(y,J)|0,o=o+Math.imul(y,tt)|0,r=r+Math.imul(p,nt)|0,i=i+Math.imul(p,rt)|0,i=i+Math.imul(m,nt)|0,o=o+Math.imul(m,rt)|0,r=r+Math.imul(h,ot)|0,i=i+Math.imul(h,at)|0,i=i+Math.imul(f,ot)|0,o=o+Math.imul(f,at)|0;var _t=(l+r|0)+((8191&i)<<13)|0;l=(o+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,r=Math.imul(R,z),i=Math.imul(R,V),i=i+Math.imul(N,z)|0,o=Math.imul(N,V),r=r+Math.imul(O,H)|0,i=i+Math.imul(O,q)|0,i=i+Math.imul(A,H)|0,o=o+Math.imul(A,q)|0,r=r+Math.imul(T,Y)|0,i=i+Math.imul(T,X)|0,i=i+Math.imul(C,Y)|0,o=o+Math.imul(C,X)|0,r=r+Math.imul(E,K)|0,i=i+Math.imul(E,$)|0,i=i+Math.imul(M,K)|0,o=o+Math.imul(M,$)|0,r=r+Math.imul(w,J)|0,i=i+Math.imul(w,tt)|0,i=i+Math.imul(x,J)|0,o=o+Math.imul(x,tt)|0,r=r+Math.imul(v,nt)|0,i=i+Math.imul(v,rt)|0,i=i+Math.imul(y,nt)|0,o=o+Math.imul(y,rt)|0,r=r+Math.imul(p,ot)|0,i=i+Math.imul(p,at)|0,i=i+Math.imul(m,ot)|0,o=o+Math.imul(m,at)|0,r=r+Math.imul(h,ut)|0,i=i+Math.imul(h,lt)|0,i=i+Math.imul(f,ut)|0,o=o+Math.imul(f,lt)|0;var Et=(l+r|0)+((8191&i)<<13)|0;l=(o+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,r=Math.imul(k,z),i=Math.imul(k,V),i=i+Math.imul(D,z)|0,o=Math.imul(D,V),r=r+Math.imul(R,H)|0,i=i+Math.imul(R,q)|0,i=i+Math.imul(N,H)|0,o=o+Math.imul(N,q)|0,r=r+Math.imul(O,Y)|0,i=i+Math.imul(O,X)|0,i=i+Math.imul(A,Y)|0,o=o+Math.imul(A,X)|0,r=r+Math.imul(T,K)|0,i=i+Math.imul(T,$)|0,i=i+Math.imul(C,K)|0,o=o+Math.imul(C,$)|0,r=r+Math.imul(E,J)|0,i=i+Math.imul(E,tt)|0,i=i+Math.imul(M,J)|0,o=o+Math.imul(M,tt)|0,r=r+Math.imul(w,nt)|0,i=i+Math.imul(w,rt)|0,i=i+Math.imul(x,nt)|0,o=o+Math.imul(x,rt)|0,r=r+Math.imul(v,ot)|0,i=i+Math.imul(v,at)|0,i=i+Math.imul(y,ot)|0,o=o+Math.imul(y,at)|0,r=r+Math.imul(p,ut)|0,i=i+Math.imul(p,lt)|0,i=i+Math.imul(m,ut)|0,o=o+Math.imul(m,lt)|0,r=r+Math.imul(h,ht)|0,i=i+Math.imul(h,ft)|0,i=i+Math.imul(f,ht)|0,o=o+Math.imul(f,ft)|0;var Mt=(l+r|0)+((8191&i)<<13)|0;l=(o+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,r=Math.imul(j,z),i=Math.imul(j,V),i=i+Math.imul(U,z)|0,o=Math.imul(U,V),r=r+Math.imul(k,H)|0,i=i+Math.imul(k,q)|0,i=i+Math.imul(D,H)|0,o=o+Math.imul(D,q)|0,r=r+Math.imul(R,Y)|0,i=i+Math.imul(R,X)|0,i=i+Math.imul(N,Y)|0,o=o+Math.imul(N,X)|0,r=r+Math.imul(O,K)|0,i=i+Math.imul(O,$)|0,i=i+Math.imul(A,K)|0,o=o+Math.imul(A,$)|0,r=r+Math.imul(T,J)|0,i=i+Math.imul(T,tt)|0,i=i+Math.imul(C,J)|0,o=o+Math.imul(C,tt)|0,r=r+Math.imul(E,nt)|0,i=i+Math.imul(E,rt)|0,i=i+Math.imul(M,nt)|0,o=o+Math.imul(M,rt)|0,r=r+Math.imul(w,ot)|0,i=i+Math.imul(w,at)|0,i=i+Math.imul(x,ot)|0,o=o+Math.imul(x,at)|0,r=r+Math.imul(v,ut)|0,i=i+Math.imul(v,lt)|0,i=i+Math.imul(y,ut)|0,o=o+Math.imul(y,lt)|0,r=r+Math.imul(p,ht)|0,i=i+Math.imul(p,ft)|0,i=i+Math.imul(m,ht)|0,o=o+Math.imul(m,ft)|0,r=r+Math.imul(h,pt)|0,i=i+Math.imul(h,mt)|0,i=i+Math.imul(f,pt)|0,o=o+Math.imul(f,mt)|0;var St=(l+r|0)+((8191&i)<<13)|0;l=(o+(i>>>13)|0)+(St>>>26)|0,St&=67108863,r=Math.imul(j,H),i=Math.imul(j,q),i=i+Math.imul(U,H)|0,o=Math.imul(U,q),r=r+Math.imul(k,Y)|0,i=i+Math.imul(k,X)|0,i=i+Math.imul(D,Y)|0,o=o+Math.imul(D,X)|0,r=r+Math.imul(R,K)|0,i=i+Math.imul(R,$)|0,i=i+Math.imul(N,K)|0,o=o+Math.imul(N,$)|0,r=r+Math.imul(O,J)|0,i=i+Math.imul(O,tt)|0,i=i+Math.imul(A,J)|0,o=o+Math.imul(A,tt)|0,r=r+Math.imul(T,nt)|0,i=i+Math.imul(T,rt)|0,i=i+Math.imul(C,nt)|0,o=o+Math.imul(C,rt)|0,r=r+Math.imul(E,ot)|0,i=i+Math.imul(E,at)|0,i=i+Math.imul(M,ot)|0,o=o+Math.imul(M,at)|0,r=r+Math.imul(w,ut)|0,i=i+Math.imul(w,lt)|0,i=i+Math.imul(x,ut)|0,o=o+Math.imul(x,lt)|0,r=r+Math.imul(v,ht)|0,i=i+Math.imul(v,ft)|0,i=i+Math.imul(y,ht)|0,o=o+Math.imul(y,ft)|0,r=r+Math.imul(p,pt)|0,i=i+Math.imul(p,mt)|0,i=i+Math.imul(m,pt)|0,o=o+Math.imul(m,mt)|0;var Tt=(l+r|0)+((8191&i)<<13)|0;l=(o+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,r=Math.imul(j,Y),i=Math.imul(j,X),i=i+Math.imul(U,Y)|0,o=Math.imul(U,X),r=r+Math.imul(k,K)|0,i=i+Math.imul(k,$)|0,i=i+Math.imul(D,K)|0,o=o+Math.imul(D,$)|0,r=r+Math.imul(R,J)|0,i=i+Math.imul(R,tt)|0,i=i+Math.imul(N,J)|0,o=o+Math.imul(N,tt)|0,r=r+Math.imul(O,nt)|0,i=i+Math.imul(O,rt)|0,i=i+Math.imul(A,nt)|0,o=o+Math.imul(A,rt)|0,r=r+Math.imul(T,ot)|0,i=i+Math.imul(T,at)|0,i=i+Math.imul(C,ot)|0,o=o+Math.imul(C,at)|0,r=r+Math.imul(E,ut)|0,i=i+Math.imul(E,lt)|0,i=i+Math.imul(M,ut)|0,o=o+Math.imul(M,lt)|0,r=r+Math.imul(w,ht)|0,i=i+Math.imul(w,ft)|0,i=i+Math.imul(x,ht)|0,o=o+Math.imul(x,ft)|0,r=r+Math.imul(v,pt)|0,i=i+Math.imul(v,mt)|0,i=i+Math.imul(y,pt)|0,o=o+Math.imul(y,mt)|0;var Ct=(l+r|0)+((8191&i)<<13)|0;l=(o+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,r=Math.imul(j,K),i=Math.imul(j,$),i=i+Math.imul(U,K)|0,o=Math.imul(U,$),r=r+Math.imul(k,J)|0,i=i+Math.imul(k,tt)|0,i=i+Math.imul(D,J)|0,o=o+Math.imul(D,tt)|0,r=r+Math.imul(R,nt)|0,i=i+Math.imul(R,rt)|0,i=i+Math.imul(N,nt)|0,o=o+Math.imul(N,rt)|0,r=r+Math.imul(O,ot)|0,i=i+Math.imul(O,at)|0,i=i+Math.imul(A,ot)|0,o=o+Math.imul(A,at)|0,r=r+Math.imul(T,ut)|0,i=i+Math.imul(T,lt)|0,i=i+Math.imul(C,ut)|0,o=o+Math.imul(C,lt)|0,r=r+Math.imul(E,ht)|0,i=i+Math.imul(E,ft)|0,i=i+Math.imul(M,ht)|0,o=o+Math.imul(M,ft)|0,r=r+Math.imul(w,pt)|0,i=i+Math.imul(w,mt)|0,i=i+Math.imul(x,pt)|0,o=o+Math.imul(x,mt)|0;var It=(l+r|0)+((8191&i)<<13)|0;l=(o+(i>>>13)|0)+(It>>>26)|0,It&=67108863,r=Math.imul(j,J),i=Math.imul(j,tt),i=i+Math.imul(U,J)|0,o=Math.imul(U,tt),r=r+Math.imul(k,nt)|0,i=i+Math.imul(k,rt)|0,i=i+Math.imul(D,nt)|0,o=o+Math.imul(D,rt)|0,r=r+Math.imul(R,ot)|0,i=i+Math.imul(R,at)|0,i=i+Math.imul(N,ot)|0,o=o+Math.imul(N,at)|0,r=r+Math.imul(O,ut)|0,i=i+Math.imul(O,lt)|0,i=i+Math.imul(A,ut)|0,o=o+Math.imul(A,lt)|0,r=r+Math.imul(T,ht)|0,i=i+Math.imul(T,ft)|0,i=i+Math.imul(C,ht)|0,o=o+Math.imul(C,ft)|0,r=r+Math.imul(E,pt)|0,i=i+Math.imul(E,mt)|0,i=i+Math.imul(M,pt)|0,o=o+Math.imul(M,mt)|0;var Ot=(l+r|0)+((8191&i)<<13)|0;l=(o+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,r=Math.imul(j,nt),i=Math.imul(j,rt),i=i+Math.imul(U,nt)|0,o=Math.imul(U,rt),r=r+Math.imul(k,ot)|0,i=i+Math.imul(k,at)|0,i=i+Math.imul(D,ot)|0,o=o+Math.imul(D,at)|0,r=r+Math.imul(R,ut)|0,i=i+Math.imul(R,lt)|0,i=i+Math.imul(N,ut)|0,o=o+Math.imul(N,lt)|0,r=r+Math.imul(O,ht)|0,i=i+Math.imul(O,ft)|0,i=i+Math.imul(A,ht)|0,o=o+Math.imul(A,ft)|0,r=r+Math.imul(T,pt)|0,i=i+Math.imul(T,mt)|0,i=i+Math.imul(C,pt)|0,o=o+Math.imul(C,mt)|0;var At=(l+r|0)+((8191&i)<<13)|0;l=(o+(i>>>13)|0)+(At>>>26)|0,At&=67108863,r=Math.imul(j,ot),i=Math.imul(j,at),i=i+Math.imul(U,ot)|0,o=Math.imul(U,at),r=r+Math.imul(k,ut)|0,i=i+Math.imul(k,lt)|0,i=i+Math.imul(D,ut)|0,o=o+Math.imul(D,lt)|0,r=r+Math.imul(R,ht)|0,i=i+Math.imul(R,ft)|0,i=i+Math.imul(N,ht)|0,o=o+Math.imul(N,ft)|0,r=r+Math.imul(O,pt)|0,i=i+Math.imul(O,mt)|0,i=i+Math.imul(A,pt)|0,o=o+Math.imul(A,mt)|0;var Lt=(l+r|0)+((8191&i)<<13)|0;l=(o+(i>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,r=Math.imul(j,ut),i=Math.imul(j,lt),i=i+Math.imul(U,ut)|0,o=Math.imul(U,lt),r=r+Math.imul(k,ht)|0,i=i+Math.imul(k,ft)|0,i=i+Math.imul(D,ht)|0,o=o+Math.imul(D,ft)|0,r=r+Math.imul(R,pt)|0,i=i+Math.imul(R,mt)|0,i=i+Math.imul(N,pt)|0,o=o+Math.imul(N,mt)|0;var Rt=(l+r|0)+((8191&i)<<13)|0;l=(o+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,r=Math.imul(j,ht),i=Math.imul(j,ft),i=i+Math.imul(U,ht)|0,o=Math.imul(U,ft),r=r+Math.imul(k,pt)|0,i=i+Math.imul(k,mt)|0,i=i+Math.imul(D,pt)|0,o=o+Math.imul(D,mt)|0;var Nt=(l+r|0)+((8191&i)<<13)|0;l=(o+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,r=Math.imul(j,pt),i=Math.imul(j,mt),i=i+Math.imul(U,pt)|0,o=Math.imul(U,mt);var Pt=(l+r|0)+((8191&i)<<13)|0;return l=(o+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,u[0]=gt,u[1]=vt,u[2]=yt,u[3]=bt,u[4]=wt,u[5]=xt,u[6]=_t,u[7]=Et,u[8]=Mt,u[9]=St,u[10]=Tt,u[11]=Ct,u[12]=It,u[13]=Ot,u[14]=At,u[15]=Lt,u[16]=Rt,u[17]=Nt,u[18]=Pt,0!==l&&(u[19]=l,n.length++),n};Math.imul||(M=l),o.prototype.mulTo=function(t,e){var n=this.length+t.length;return 10===this.length&&10===t.length?M(this,t,e):n<63?l(this,t,e):n<1024?c(this,t,e):h(this,t,e)},f.prototype.makeRBT=function(t){for(var e=new Array(t),n=o.prototype._countBits(t)-1,r=0;r<t;r++)e[r]=this.revBin(r,n,t);return e},f.prototype.revBin=function(t,e,n){if(0===t||t===n-1)return t;for(var r=0,i=0;i<e;i++)r|=(1&t)<<e-i-1,t>>=1;return r},f.prototype.permute=function(t,e,n,r,i,o){for(var a=0;a<o;a++)r[a]=e[t[a]],i[a]=n[t[a]]},f.prototype.transform=function(t,e,n,r,i,o){this.permute(o,t,e,n,r,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,u=Math.cos(2*Math.PI/s),l=Math.sin(2*Math.PI/s),c=0;c<i;c+=s)for(var h=u,f=l,d=0;d<a;d++){var p=n[c+d],m=r[c+d],g=n[c+d+a],v=r[c+d+a],y=h*g-f*v;v=h*v+f*g,g=y,n[c+d]=p+g,r[c+d]=m+v,n[c+d+a]=p-g,r[c+d+a]=m-v,d!==s&&(y=u*h-l*f,f=u*f+l*h,h=y)}},f.prototype.guessLen13b=function(t,e){var n=1|Math.max(e,t),r=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},f.prototype.conjugate=function(t,e,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=t[r];t[r]=t[n-r-1],t[n-r-1]=i,i=e[r],e[r]=-e[n-r-1],e[n-r-1]=-i}},f.prototype.normalize13b=function(t,e){for(var n=0,r=0;r<e/2;r++){var i=8192*Math.round(t[2*r+1]/e)+Math.round(t[2*r]/e)+n;t[r]=67108863&i,n=i<67108864?0:i/67108864|0}return t},f.prototype.convert13b=function(t,e,n,i){for(var o=0,a=0;a<e;a++)o+=0|t[a],n[2*a]=8191&o,o>>>=13,n[2*a+1]=8191&o,o>>>=13;for(a=2*e;a<i;++a)n[a]=0;r(0===o),r(0==(-8192&o))},f.prototype.stub=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=0;return e},f.prototype.mulp=function(t,e,n){var r=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(r),o=this.stub(r),a=new Array(r),s=new Array(r),u=new Array(r),l=new Array(r),c=new Array(r),h=new Array(r),f=n.words;f.length=r,this.convert13b(t.words,t.length,a,r),this.convert13b(e.words,e.length,l,r),this.transform(a,o,s,u,r,i),this.transform(l,o,c,h,r,i);for(var d=0;d<r;d++){var p=s[d]*c[d]-u[d]*h[d];u[d]=s[d]*h[d]+u[d]*c[d],s[d]=p}return this.conjugate(s,u,r),this.transform(s,u,f,o,r,i),this.conjugate(f,o,r),this.normalize13b(f,r),n.negative=t.negative^e.negative,n.length=t.length+e.length,n.strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),h(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){r("number"==typeof t),r(t<67108864);for(var e=0,n=0;n<this.length;n++){var i=(0|this.words[n])*t,o=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=o>>>26,this.words[n]=67108863&o}return 0!==e&&(this.words[n]=e,this.length++),this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=u(t);if(0===e.length)return new o(1);for(var n=this,r=0;r<e.length&&0===e[r];r++,n=n.sqr());if(++r<e.length)for(var i=n.sqr();r<e.length;r++,i=i.sqr())0!==e[r]&&(n=n.mul(i));return n},o.prototype.iushln=function(t){r("number"==typeof t&&t>=0);var e,n=t%26,i=(t-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var a=0;for(e=0;e<this.length;e++){var s=this.words[e]&o,u=(0|this.words[e])-s<<n;this.words[e]=u|a,a=s>>>26-n}a&&(this.words[e]=a,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,n){r("number"==typeof t&&t>=0);var i;i=e?(e-e%26)/26:0;var o=t%26,a=Math.min((t-o)/26,this.length),s=67108863^67108863>>>o<<o,u=n;if(i-=a,i=Math.max(0,i),u){for(var l=0;l<a;l++)u.words[l]=this.words[l];u.length=a}if(0===a);else if(this.length>a)for(this.length-=a,l=0;l<this.length;l++)this.words[l]=this.words[l+a];else this.words[0]=0,this.length=1;var c=0;for(l=this.length-1;l>=0&&(0!==c||l>=i);l--){var h=0|this.words[l];this.words[l]=c<<26-o|h>>>o,c=h&s}return u&&0!==c&&(u.words[u.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(t,e,n){return r(0===this.negative),this.iushrn(t,e,n)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26,i=1<<e;return!(this.length<=n)&&!!(this.words[n]&i)},o.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return r("number"==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(r("number"==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,n){var i,o=t.length+n;this._expand(o);var a,s=0;for(i=0;i<t.length;i++){a=(0|this.words[i+n])+s;var u=(0|t.words[i])*e;a-=67108863&u,s=(a>>26)-(u/67108864|0),this.words[i+n]=67108863&a}for(;i<this.length-n;i++)a=(0|this.words[i+n])+s,s=a>>26,this.words[i+n]=67108863&a;if(0===s)return this.strip();for(r(-1===s),s=0,i=0;i<this.length;i++)a=-(0|this.words[i])+s,s=a>>26,this.words[i]=67108863&a;return this.negative=1,this.strip()},o.prototype._wordDiv=function(t,e){var n=this.length-t.length,r=this.clone(),i=t,a=0|i.words[i.length-1];0!==(n=26-this._countBits(a))&&(i=i.ushln(n),r.iushln(n),a=0|i.words[i.length-1]);var s,u=r.length-i.length;if("mod"!==e){s=new o(null),s.length=u+1,s.words=new Array(s.length);for(var l=0;l<s.length;l++)s.words[l]=0}var c=r.clone()._ishlnsubmul(i,1,u);0===c.negative&&(r=c,s&&(s.words[u]=1));for(var h=u-1;h>=0;h--){var f=67108864*(0|r.words[i.length+h])+(0|r.words[i.length+h-1]);for(f=Math.min(f/a|0,67108863),r._ishlnsubmul(i,f,h);0!==r.negative;)f--,r.negative=0,r._ishlnsubmul(i,1,h),r.isZero()||(r.negative^=1);s&&(s.words[h]=f)}return s&&s.strip(),r.strip(),"div"!==e&&0!==n&&r.iushrn(n),{div:s||null,mod:r}},o.prototype.divmod=function(t,e,n){if(r(!t.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var i,a,s;return 0!==this.negative&&0===t.negative?(s=this.neg().divmod(t,e),"mod"!==e&&(i=s.div.neg()),"div"!==e&&(a=s.mod.neg(),n&&0!==a.negative&&a.iadd(t)),{div:i,mod:a}):0===this.negative&&0!==t.negative?(s=this.divmod(t.neg(),e),"mod"!==e&&(i=s.div.neg()),{div:i,mod:s.mod}):0!=(this.negative&t.negative)?(s=this.neg().divmod(t.neg(),e),"div"!==e&&(a=s.mod.neg(),n&&0!==a.negative&&a.isub(t)),{div:s.div,mod:a}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modn(t.words[0]))}:this._wordDiv(t,e)},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var n=0!==e.div.negative?e.mod.isub(t):e.mod,r=t.ushrn(1),i=t.andln(1),o=n.cmp(r);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modn=function(t){r(t<=67108863);for(var e=(1<<26)%t,n=0,i=this.length-1;i>=0;i--)n=(e*n+(0|this.words[i]))%t;return n},o.prototype.idivn=function(t){r(t<=67108863);for(var e=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*e;this.words[n]=i/t|0,e=i%t}return this.strip()},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),a=new o(0),s=new o(0),u=new o(1),l=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++l;for(var c=n.clone(),h=e.clone();!e.isZero();){for(var f=0,d=1;0==(e.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(e.iushrn(f);f-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(c),a.isub(h)),i.iushrn(1),a.iushrn(1);for(var p=0,m=1;0==(n.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(c),u.isub(h)),s.iushrn(1),u.iushrn(1);e.cmp(n)>=0?(e.isub(n),i.isub(s),a.isub(u)):(n.isub(e),s.isub(i),u.isub(a))}return{a:s,b:u,gcd:n.iushln(l)}},o.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),a=new o(0),s=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(var u=0,l=1;0==(e.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(e.iushrn(u);u-- >0;)i.isOdd()&&i.iadd(s),i.iushrn(1);for(var c=0,h=1;0==(n.words[0]&h)&&c<26;++c,h<<=1);if(c>0)for(n.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(s),a.iushrn(1);e.cmp(n)>=0?(e.isub(n),i.isub(a)):(n.isub(e),a.isub(i))}var f;return f=0===e.cmpn(1)?i:a,f.cmpn(0)<0&&f.iadd(t),f},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),n=t.clone();e.negative=0,n.negative=0;for(var r=0;e.isEven()&&n.isEven();r++)e.iushrn(1),n.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=e.cmp(n);if(i<0){var o=e;e=n,n=o}else if(0===i||0===n.cmpn(1))break;e.isub(n)}return n.iushln(r)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){r("number"==typeof t);var e=t%26,n=(t-e)/26,i=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,a=n;0!==o&&a<this.length;a++){var s=0|this.words[a];s+=o,o=s>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e=t<0;if(0!==this.negative&&!e)return-1;if(0===this.negative&&e)return 1;this.strip();var n;if(this.length>1)n=1;else{e&&(t=-t),r(t<=67108863,"Number is too big");var i=0|this.words[0];n=i===t?0:i<t?-1:1}return 0!==this.negative?0|-n:n},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|t.words[n];if(r!==i){r<i?e=-1:r>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new y(t)},o.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var S={k256:null,p224:null,p192:null,p25519:null};d.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},d.prototype.ireduce=function(t){var e,n=t;do{this.split(n,this.tmp),n=this.imulK(n),n=n.iadd(this.tmp),e=n.bitLength()}while(e>this.n);var r=e<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):n.strip(),n},d.prototype.split=function(t,e){t.iushrn(this.n,0,e)},d.prototype.imulK=function(t){return t.imul(this.k)},i(p,d),p.prototype.split=function(t,e){for(var n=Math.min(t.length,9),r=0;r<n;r++)e.words[r]=t.words[r];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var i=t.words[9];for(e.words[e.length++]=4194303&i,r=10;r<t.length;r++){var o=0|t.words[r];t.words[r-10]=(4194303&o)<<4|i>>>22,i=o}i>>>=22,t.words[r-10]=i,0===i&&t.length>10?t.length-=10:t.length-=9},p.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,n=0;n<t.length;n++){var r=0|t.words[n];e+=977*r,t.words[n]=67108863&e,e=64*r+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(m,d),i(g,d),i(v,d),v.prototype.imulK=function(t){for(var e=0,n=0;n<t.length;n++){var r=19*(0|t.words[n])+e,i=67108863&r;r>>>=26,t.words[n]=i,e=r}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(S[t])return S[t];var e;if("k256"===t)e=new p;else if("p224"===t)e=new m;else if("p192"===t)e=new g;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new v}return S[t]=e,e},y.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},y.prototype._verify2=function(t,e){r(0==(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},y.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},y.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},y.prototype.add=function(t,e){this._verify2(t,e);var n=t.add(e);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},y.prototype.iadd=function(t,e){this._verify2(t,e);var n=t.iadd(e);return n.cmp(this.m)>=0&&n.isub(this.m),n},y.prototype.sub=function(t,e){this._verify2(t,e);var n=t.sub(e);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},y.prototype.isub=function(t,e){this._verify2(t,e);var n=t.isub(e);return n.cmpn(0)<0&&n.iadd(this.m),n},y.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},y.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},y.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},y.prototype.isqr=function(t){return this.imul(t,t.clone())},y.prototype.sqr=function(t){return this.mul(t,t)},y.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2==1),3===e){var n=this.m.add(new o(1)).iushrn(2);return this.pow(t,n)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);r(!i.isZero());var s=new o(1).toRed(this),u=s.redNeg(),l=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new o(2*c*c).toRed(this);0!==this.pow(c,l).cmp(u);)c.redIAdd(u);for(var h=this.pow(c,i),f=this.pow(t,i.addn(1).iushrn(1)),d=this.pow(t,i),p=a;0!==d.cmp(s);){for(var m=d,g=0;0!==m.cmp(s);g++)m=m.redSqr();r(g<p);var v=this.pow(h,new o(1).iushln(p-g-1));f=f.redMul(v),h=v.redSqr(),d=d.redMul(h),p=g}return f},y.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},y.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var n=new Array(16);n[0]=new o(1).toRed(this),n[1]=t;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],t);var i=n[0],a=0,s=0,u=e.bitLength()%26;for(0===u&&(u=26),r=e.length-1;r>=0;r--){for(var l=e.words[r],c=u-1;c>=0;c--){var h=l>>c&1;i!==n[0]&&(i=this.sqr(i)),0!==h||0!==a?(a<<=1,a|=h,(4===++s||0===r&&0===c)&&(i=this.mul(i,n[a]),s=0,a=0)):s=0}u=26}return i},y.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},y.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new b(t)},i(b,y),b.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},b.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},b.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var n=t.imul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},b.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var n=t.mul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},b.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(void 0===t||t,this)}).call(e,n(164)(t))},function(t,e,n){"use strict";function r(t,e,n,r,i){var o=["function ",t,"(a,l,h,",r.join(","),"){",i?"":"var i=",n?"l-1":"h+1",";while(l<=h){var m=(l+h)>>>1,x=a[m]"];return i?e.indexOf("c")<0?o.push(";if(x===y){return m}else if(x<=y){"):o.push(";var p=c(x,y);if(p===0){return m}else if(p<=0){"):o.push(";if(",e,"){i=m;"),n?o.push("l=m+1}else{h=m-1}"):o.push("h=m-1}else{l=m+1}"),o.push("}"),i?o.push("return -1};"):o.push("return i};"),o.join("")}function i(t,e,n,i){return new Function([r("A","x"+t+"y",e,["y"],i),r("P","c(x,y)"+t+"0",e,["y","c"],i),"function dispatchBsearch",n,"(a,y,c,l,h){if(typeof(c)==='function'){return P(a,(l===void 0)?0:l|0,(h===void 0)?a.length-1:h|0,y,c)}else{return A(a,(c===void 0)?0:c|0,(l===void 0)?a.length-1:l|0,y)}}return dispatchBsearch",n].join(""))()}t.exports={ge:i(">=",!1,"GE"),gt:i(">",!1,"GT"),lt:i("<",!0,"LT"),le:i("<=",!0,"LE"),eq:i("-",!0,"EQ",!0)}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=x()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(b.a?b()(t,e):t.__proto__=e)}n.d(e,"b",function(){return Vt});var a=n(80),s=n.n(a),u=n(51),l=n.n(u),c=n(103),h=n.n(c),f=n(59),d=n.n(f),p=n(71),m=n.n(p),g=n(10),v=n.n(g),y=n(9),b=n.n(y),w=n(5),x=n.n(w),_=n(1),E=n.n(_),M=n(19),S=n.n(M),T=n(16),C=n.n(T),I=n(4),O=n.n(I),A=n(29),L=n.n(A),R=n(32),N=n.n(R),P=n(17),k=n.n(P),D=n(70),F=n.n(D),j=n(3),U=n.n(j),B=n(0),z=n.n(B),V=n(26),G=(n.n(V),n(15)),H=(n.n(G),n(36)),q=(n.n(H),n(38)),W=(n.n(q),n(30)),Y=n(1273),X=n(363),Z=n(579),K=n(580),$=n(1346),Q=n(1347),J=n(1348),tt=n(582),et=n(72),nt=n(212),rt=n(67),it=n(204),ot=n(95),at=n(27),st=n(145),ut=n(54),lt=n(73),ct=n(266),ht=n(39),ft=n(44),dt=n(200),pt=n(506),mt=n(173),gt=n(261),vt=n(572),yt=n(583),bt=n(584),wt=n(585),xt=n(586),_t=n(213),Et=n(566),Mt=n(587),St=n(588),Tt=n(372),Ct=n(568),It=n(373),Ot=n(569),At=n(138),Lt=n(142),Rt=n(107),Nt=n(109),Pt=O.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kt=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=C()(t);!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(S()(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Dt=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),E()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Ft=Object(G.defineMessages)({overlayPanelHeader:{id:"MapViewer.overlayPanelHeader",description:"Header text for the overlay panel",defaultMessage:"Overlays"},overlayPanelOverlayTab:{id:"MapViewer.overlayPanelOverlayTab",description:"Tab text for the overlays tab in the overlay panel",defaultMessage:"Overlays"},overlayPanelRecordingsTab:{id:"MapViewer.overlayPanelRecordingsTab",description:"Tab text for the recordings tab in the overlay panel",defaultMessage:"Recordings"},overlayPanelViewerSettingsTab:{id:"MapViewer.overlayPanelViewerSettingsTab",description:"Tab text for the viewer settings tab in the overlay panel",defaultMessage:"Viewer"}}),jt="RecordingsStartLoading",Ut="RecordingFinishedLoading",Bt=function(t){function e(){var t;r(this,e);for(var n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];var s=i(this,(t=e.__proto__||v()(e)).call.apply(t,[this].concat(o)));zt.call(s);var u=s.props,l=u.showScaleBar,c=u.showZoomSlider,h=u.navbarVisible,f=u.navbarExpanded;return s.onCenterChange=s.onCenterChange.bind(s),s.onMapSizeChange=s.onMapSizeChange.bind(s),s.onPointerDown=s.onPointerDown.bind(s),s.onPointerMove=s.onPointerMove.bind(s),s.onConeDrag=s.onConeDrag.bind(s),s.onConePointerUp=s.onConePointerUp.bind(s),s.onMeasureDrag=s.onMeasureDrag.bind(s),s.onMeasurePointerUp=s.onMeasurePointerUp.bind(s),s.onResolutionChange=s.onResolutionChange.bind(s),s.selectBaseLayer=s.selectBaseLayer.bind(s),s.setScaleBarVisibility=s.setScaleBarVisibility.bind(s),s.setZoomSliderVisibility=s.setZoomSliderVisibility.bind(s),s.toggleOverlay=s.toggleOverlay.bind(s),s.setRotation=s.setRotation.bind(s),s.resetToNorth=s.resetToNorth.bind(s),s.selectTab=s.selectTab.bind(s),s.onRecordingsStartLoading=s.onRecordingsStartLoading.bind(s),s.onRecordingFinishedLoading=s.onRecordingFinishedLoading.bind(s),s.toggleNavbarVisible=s.toggleNavbarVisible.bind(s),s.getNavbarVisible=s.getNavbarVisible.bind(s),s.toggleNavbarExpanded=s.toggleNavbarExpanded.bind(s),s.getNavbarExpanded=s.getNavbarExpanded.bind(s),s.updateLayers=s.updateLayers.bind(s),s.state={activeTab:1},s._mapControls=new X.c({showScaleBar:l,showZoomSlider:c,showLayerName:!0}),s.styleScaleBar(f,h,l),s.previousOnPointerMoveFeatures=[],addEventListener(jt,s.onRecordingsStartLoading,!1),addEventListener(Ut,s.onRecordingFinishedLoading,!1),s}return o(e,t),Dt(e,[{key:"mapView",get:function(){return this.map.getView()}}]),Dt(e,[{key:"styleScaleBar",value:function(t,e,n){var r=this._mapControls.scaleBar;!t&&e&&n?r.addClass("contracted"):r.removeClass("contracted")}},{key:"onRecordingsStartLoading",value:function(){Object(st.updateLoadingCount)(this.props.id,1)}},{key:"onRecordingFinishedLoading",value:function(){Object(st.updateLoadingCount)(this.props.id,-1)}},{key:"componentDidMount",value:function(t,e){var n=this,r=this.props,i=r.id,o=r.navbarExpanded,a=r.projection,s=r.maxExtent,u=r.resolution,l=r.maxResolution,c=r.maxZoomLevel,h=r.baseLayers,f=r.overlays,d=r.center,p=r.rotation,g=r.reduxEnabled,v=r.measurements,y=v.activeMeasurement,b=this.props.actions,w=b.updateMapViewerParams,x=b.updateLoadingCount,_=this.olEventListenerIds,E={target:i,logo:!1,controls:this._mapControls.controlPackage},M={resolution:m()(u)?u:void 0,center:d,rotation:p,projection:a,resolutions:Lt.b.buildResolutions(l,c),extent:s,maxResolution:l,maxZoom:c};"boolean"==typeof o&&o&&this.toggleNavbarExpanded(o),this.geoJsonFormatter=new k.a.format.GeoJSON;var S=this.map=new k.a.Map(E),T=new k.a.View(M);S.setView(T),h&&h.forEach(function(t){return n.addLayer(t)}),f&&f.forEach(function(t){return n.addLayer(t)}),y&&this.drawActiveMeasurement(y),_.push(S.on("pointermove",this.onPointerMove),S.on("pointerdown",this.onPointerDown),S.getView().on("propertychange",function(t){"rotation"===t.key&&n.setRotation(t.target.getRotation(),!1)})),g&&_.push(T.on("change:center",this.onCenterChange),T.on("change:resolution",this.onResolutionChange),S.on("change:size",this.onMapSizeChange));var C=this.props.extent;this.setState({},C?function(){T.fit(C),g&&w(i,{extent:void 0})}:void 0),S.getLayers().getArray().forEach(function(t){var e=t.getSource&&t.getSource();e instanceof k.a.source.Tile&&_.push(e.on("tileloadstart",function(){x(i,1)}),e.on("tileloadend",function(){x(i,-1)}),e.on("tileloaderror",function(t){x(i,-1);var e=t.target,n=e.getLayer&&e.getLayer();if(!n){var r=e.getUrls&&e.getUrls();r&&r.length>0&&(n=r[0])}n||(n="???"),N.a.warn("Maplayer ["+n+"] could not be loaded.")}))})}},{key:"componentWillUnmount",value:function(){this.olEventListenerIds.forEach(k.a.Observable.unByKey),this.map.setTarget(null),removeEventListener(jt,this.onRecordingsStartLoading),removeEventListener(Ut,this.onRecordingFinishedLoading)}},{key:"onPointerDown",value:function(t){var e=this;if(!k.a.events.condition.primaryAction(t))return void event.preventDefault();var n=t.map,r=t.originalEvent,i=/^cone_(.+)/,o=this.props,a=o.inMeasurementMode,s=o.inPanoramaMeasurementMode,u=o.activePanel,l=o.obliqueviewer,c=o.openViewer,h=o.openObliqueViewer,f=o.actions,p=f.openObliqueViewerByCoordinate,m=f.showFlashMessage;if(a)return this.pointerDragEventListener=n.on("pointerdrag",this.onMeasureDrag),this.pointerUpEventListener=n.on("pointerup",this.onMeasurePointerUp),void(this.measurementClickTimeout=setTimeout(this.clearMeasureClickCheck.bind(this),500));if(u===Nt.a.OBLIQUE&&h){var g=!r.shiftKey,v=r.ctrlKey,y=Object(ht.f)(-this.getCompassDirection(),0,360),b=d()(l.byId)[0],w=!b||b.recording.isOblique,x=this.map.getView(),_=x.getRotation(),E=n.getSize(),M=x.calculateExtent([Math.round(E[0]/3),Math.round(E[1]/3)]),S=k.a.proj.transformExtent(M,x.getProjection(),ct.a),T=this.getMapSrs();p(t.coordinate,T,{direction:y,viewRotation:_,viewExtent:S,isOblique:w,replace:g,multiple:v}).catch(function(t){m(t.message,{style:"danger"}),N.a.warn(t.message)})}n.forEachFeatureAtPixel(t.pixel,function(o,a){var l=o.getId(),h=i.exec(l);if(null!==h)return e.panoramaId=h[1],e.pointerDragEventListener=n.on("pointerdrag",e.onConeDrag),e.pointerUpEventListener=n.on("pointerup",e.onConePointerUp),t.preventDefault(),!0;if(o instanceof Et.a&&u!==Nt.a.OBLIQUE){if(c){var f=e.getMapSrs(),d=kt(t.coordinate,2),p=d[0],m=d[1],g=!r.shiftKey,v=r.ctrlKey;if(!g&&s)return!1;var y=o.getProperties();c({x:p,y:m,recording:y,mapSrs:f,replace:g,multiple:v,openOblique:!1})}return!0}if(a){var b=a.get("onClick");b&&b(o)}return!1})}},{key:"onConeDrag",value:function(t){t.preventDefault();var e=this.panoramaId,n=this.props.panoramaviewer.byId[e],r=n.recording,i=n.orientation;if(r){var o=r.xyz,a=r.srs,s=F()(this.getMapSrs(),a).forward(t.coordinate),u=Object(At.k)(o,s);this.props.actions.updatePanoramaOrientation(e,{yaw:u});var l={yaw:u,xyz:o,hFov:i?i.hFov:void 0,srs:a};dispatchEvent(new CustomEvent("panoramaUpdated",{detail:{viewerData:l,panoramaId:e}}))}}},{key:"onConePointerUp",value:function(t){this.removePointerEvents()}},{key:"onMeasureDrag",value:function(t){this.clearMeasureClickCheck()}},{key:"onMeasurePointerUp",value:function(t){this.clearMeasureClickCheck();var e=this.props.srs.userSrs,n=F()(this.props.projection,e,this.map.getCoordinateFromPixel(t.pixel));this.props.actions.addPoint(n,e)}},{key:"clearMeasureClickCheck",value:function(){this.removePointerEvents(),clearTimeout(this.measurementClickTimeout)}},{key:"removePointerEvents",value:function(){k.a.Observable.unByKey(this.pointerDragEventListener),k.a.Observable.unByKey(this.pointerUpEventListener)}},{key:"onCenterChange",value:function(t){var e=this.mapView,n=e.getCenter(),r=e.constrainCenter(n);this.isSameCoord2d(n,r)||e.setCenter(r),this.props.center!==r&&this.props.actions.setMapCenter(this.props.id,r,this.getMapSrs()),this.props.actions.updateLoadingCount(this.props.id,0)}},{key:"onResolutionChange",value:function(t){var e=this.mapView,n=e.getResolution();this.props.resolution!==n&&this.props.actions.setMapResolution(this.props.id,n,!1)}},{key:"setCursor",value:function(t){this.props.activePanel!==Nt.a.OBLIQUE?this.map.getViewport().style.cursor=t||"":this.map.getViewport().style.cursor=""}},{key:"onPointerMove",value:function(t){var e=t.map,n=t.pixel;if(this.props.inMeasurementMode)return void this.setCursor("crosshair");var r=e.hasFeatureAtPixel(n),i=[];this.setCursor(r?"pointer":""),e.forEachFeatureAtPixel(n,function(t,e){if(e){i.push(t);var n=e.get("onHover");n&&n(t),t.set("layer",e)}}),this.previousOnPointerMoveFeatures.forEach(function(t){if(!i.includes(t)){var e=t.get("layer"),n=e.get("onOut");n&&n(t),t.unset("layer")}}),this.previousOnPointerMoveFeatures=i}},{key:"onMapSizeChange",value:function(t){var e=this.mapView.getResolution();this.props.resolution!==e&&this.props.actions.setMapResolution(this.props.id,e,!1)}},{key:"componentDidUpdate",value:function(){this.updateLayers()}},{key:"updateLayers",value:function(){var t=this,e=this.props,n=e.baseLayers,r=e.overlays;n&&n.forEach(function(e){return t.updateLayer(e)}),r&&r.forEach(function(e){return t.updateLayer(e)})}},{key:"addLayer",value:function(t){var e=Vt(t),n=e.toMapLayer();this.map.addLayer(n),this.mapLayers.set(e.id,n),this.applyLayerSettings(t,n)}},{key:"updateLayer",value:function(t){var e=Vt(t),n=this.mapLayers.get(e.id);n?e.updateMapLayer(n):n=this.addLayer(e),this.applyLayerSettings(t,n)}},{key:"applyLayerSettings",value:function(t,e){t.isBaseLayer?this.applyBaseLayerSettings(e):this.applyOverlaySettings(e)}},{key:"applyBaseLayerSettings",value:function(){}},{key:"applyOverlaySettings",value:function(t){t.getOpacity()!==this.props.viewerSettings.opacity&&t.setOpacity(h()(this.props.viewerSettings.opacity))}},{key:"getMapSrs",value:function(){return this.map.getView().getProjection().getCode()}},{key:"getCompassDirection",value:function(){var t=this.map.getView().getRotation();return Object(ht.d)(t)}},{key:"componentWillReceiveProps",value:function(t){var e=this,n=this.map;if(this.props.reduxEnabled){var r=n.getView(),i=t.center,o=t.resolution,a=t.rotation,s=t.windowManagerRevision,u=t.measurements.activeMeasurement,l=t.navbarVisible,c=t.navbarExpanded,h=t.showScaleBar,f=t.showZoomSlider,d=(t.viewerSettings,this.props),p=d.rotation,g=d.windowManagerRevision,v=d.measurements.activeMeasurement,y=d.navbarVisible,b=d.navbarExpanded,w=d.showScaleBar,x=d.showZoomSlider,_=(d.viewerSettings,{duration:1e3,easing:k.a.easing.inAndOut}),E=!1;if(i){var M=r.getCenter(),S=void 0!==M,T=!S||!this.isSameCoord2d(M,i);S&&T&&(_.center=i,E=!0)}if(o){var C=r.getResolution(),I=void 0!==C,O=!I||o!==C;I&&O&&(_.resolution=o,E=!0)}if(m()(a)){m()(p)&&a!==p&&r.setRotation(a)}E&&r.animate(_);var A=t.showScaleBar,L=t.showZoomSlider;if(this._mapControls.showScaleBar=A,this._mapControls.showZoomSlider=L,w!==h||x!==f){var R=n.getControls();R.clear(),this._mapControls.controlPackage.forEach(function(t){return R.push(t)})}this.styleScaleBar(c,l,h),g!==s&&setTimeout(function(){return n.updateSize()},0),u!==v&&this.drawActiveMeasurement(u),l!==y&&l!==this.getNavbarVisible()&&this.toggleNavbarVisible(l),c!==b&&c!==this.getNavbarExpanded()&&(this.toggleNavbarExpanded(c),setTimeout(function(){return e.map.updateSize()},0))}}},{key:"toggleNavbarVisible",value:function(t){void 0!==t&&"boolean"!=typeof t&&Object(Rt.b)("toggleNavbarVisible");var e=this.props,n=e.navbarVisible,r=e.id;e.actions.updateMapViewerParams(r,{navbarVisible:void 0!==t?t:!n})}},{key:"getNavbarVisible",value:function(){return this.props.navbarVisible}},{key:"toggleNavbarExpanded",value:function(t){void 0!==t&&"boolean"!=typeof t&&Object(Rt.b)("toggleNavbarExpanded");var e=this.props,n=e.navbarExpanded,r=e.id;e.actions.updateMapViewerParams(r,{navbarExpanded:void 0!==t?t:!n})}},{key:"getNavbarExpanded",value:function(){return this.props.navbarExpanded}},{key:"drawActiveMeasurement",value:function(t){var e=this.mapLayers.get(vt.a.defaults.id);if(e){var n=e.getSource(),r=n.getFeatures().find(function(t){return t.getProperties().isActiveMeasurement});if(r&&n.removeFeature(r),t&&0!==t.properties.measureDetails.length){var i=this.props.srs.userSrs,o=L.a.cloneDeep(t);o.properties.isActiveMeasurement=!0,o.geometry=o.properties.preciseGeometry;var a=o.properties.derivedData,s=Object(ft.n)(i),u=s.xyUnits,c=a.unit;if(c!==u&&c!==ft.d.DEGREES&&u!==ft.d.DEGREES&&c!==ft.d.UNKNOWN&&u!==ft.d.UNKNOWN){a.unit=u;var h=u===ft.d.METERS?ft.b:ft.c,f=Math.pow(h,2);l()(a).forEach(function(t){switch(t){case"radius":case"deltaXY":case"deltaZ":case"totalLength":a[t].value*=h,m()(a[t].stdev)&&(a[t].stdev*=h);break;case"area":a[t].value*=f,m()(a[t].stdev)&&(a[t].stdev*=f);break;case"segmentLengths":a[t].value=a[t].value.map(function(t){return t*h}),Array.isArray(a[t].stdev)&&(a[t].stdev=a[t].stdev.map(function(t){return t*h}))}})}n.addFeature(this.geoJsonFormatter.readFeature(o,{dataProjection:o.properties.preciseCRS,featureProjection:this.props.projection}))}}}},{key:"isSameCoord2d",value:function(t,e){return t&&e&&t[0]===e[0]&&t[1]===e[1]}},{key:"shouldComponentUpdate",value:function(t,e){var n=this.props;return n.center!==t.center||n.resolution!==t.resolution||n.rotation!==t.rotation||n.baseLayers!==t.baseLayers||n.overlays!==t.overlays||n.showScaleBar!==t.showScaleBar||n.showZoomSlider!==t.showZoomSlider||n.activePanel!==t.activePanel||n.navbarExpanded!==t.navbarExpanded||n.navbarVisible!==t.navbarVisible||n.viewerSettings!==t.viewerSettings||this.state!==e}},{key:"selectBaseLayer",value:function(t){var e=this.props.actions,n=e.selectBaseLayer,r=e.logSelectBaseLayer,i=this.props,o=i.id,a=i.inMeasurementMode,s=t.id;n(o,s,!a),r(s,t.name)}},{key:"toggleOverlay",value:function(t){var e=this.props.actions,n=e.toggleOverlay,r=e.logToggleOverlay,i=e.setLayerVisibility,o=this.props,a=o.id,s=o.inMeasurementMode,u=t.id,l=!t.visible;n(a,u,l),s||i(u,l),r(u,t.name,l)}},{key:"setZoomSliderVisibility",value:function(t){this.props.actions.setMapZoomSliderVisibility(this.props.id,t)}},{key:"setScaleBarVisibility",value:function(t){this.props.actions.setMapScaleBarVisibility(this.props.id,t)}},{key:"setRotation",value:function(t){var e=this.props,n=e.id,r=e.rotation,i=e.actions.updateMapViewerParams;t!==r&&i(n,{rotation:t}),this._logSetRotation(Object(ht.d)(t))}},{key:"resetToNorth",value:function(){this.setRotation(0)}},{key:"selectTab",value:function(t){this.setState({activeTab:t})}},{key:"render",value:function(){this.refs["feature-zoom-indicator"]&&this.refs["feature-zoom-indicator"].getWrappedInstance();var t=this.props,e=t.id,n=t.rotation,r=t.className,i=t.baseLayers,o=t.overlays,a=t.showZoomSlider,s=t.showScaleBar,u=t.inMeasurementMode,l=t.navbarExpanded,c=t.navbarVisible,h="",f=void 0,d=this.context.intl.formatMessage;switch(this.props.activePanel){case Nt.a.NONE:f=null;break;case Nt.a.BASE_LAYERS:f=z.a.createElement($.a,{layers:i,onSelectBaseLayer:this.selectBaseLayer});break;case Nt.a.OVERLAYS:f=z.a.createElement(V.Panel,{header:d(Ft.overlayPanelHeader),className:"cmtOverlayPanel cmtNavBarPanel"},z.a.createElement(V.Tab.Container,{position:"left",tabWidth:3,defaultActiveKey:1,activeKey:this.state.activeTab,onSelect:this.selectTab},z.a.createElement(V.Row,{className:"clearfix fix-bootstrap-row"},z.a.createElement(V.Col,{xs:3,className:"fix-bootstrap-col"},z.a.createElement(V.Nav,{bsStyle:"pills",stacked:!0},z.a.createElement(V.NavItem,{eventKey:1},d(Ft.overlayPanelOverlayTab)),z.a.createElement(V.NavItem,{eventKey:3},d(Ft.overlayPanelViewerSettingsTab)))),z.a.createElement(V.Col,{xs:9,className:"fix-bootstrap-col"},z.a.createElement(V.Tab.Content,null,z.a.createElement(V.Tab.Pane,{eventKey:1},z.a.createElement(K.a,{layers:o,onToggleLayer:this.toggleOverlay})),z.a.createElement(V.Tab.Pane,{eventKey:3},z.a.createElement(Q.a,{showZoomSlider:a,showScaleBar:s,setZoomSliderVisibility:this.setZoomSliderVisibility,setScaleBarVisibility:this.setScaleBarVisibility})))))));break;case Nt.a.IMAGE_CONTROLS:f=z.a.createElement(J.a,{className:"cmtNavBarPanel",mapId:this.props.id});break;case Nt.a.COMPASS:f=z.a.createElement(tt.a,{rotation:n,setRotation:this.setRotation,resetRotation:this.resetToNorth});break;case Nt.a.OBLIQUE:h=" oblique-pin",f=null;break;default:f=null}return z.a.createElement("div",{className:"viewer flexColumn "+(r||"")},z.a.createElement("div",{className:"flexColumn map-relative-position"+h},z.a.createElement("div",{className:"openLayers flexItem",id:e}),z.a.createElement(X.b,{visible:a}),z.a.createElement(X.a,{visible:!0}),u&&z.a.createElement(Z.a,null),z.a.createElement("div",{className:"cmtViewerPanel"},f)),c&&z.a.createElement(Y.a,{id:e,expanded:l,onExpand:this.toggleNavbarExpanded,map:this.map,compassRotation:n,resetRotation:this.resetToNorth}))}}]),e}(W.a);Bt.propTypes={id:U.a.string,projection:function(t,e,n){if(!/EPSG:[0-9]+/.test(t[e]))return new Error("Property "+e+" in component "+n+" must be an EPSG-code (string), e.g. 'EPSG:4326'.")},center:U.a.oneOfType([U.a.instanceOf(Float32Array),U.a.instanceOf(Float64Array),U.a.arrayOf(U.a.number)]),extent:U.a.arrayOf(U.a.number),maxExtent:U.a.arrayOf(U.a.number),maxResolution:U.a.number,onMoveEnd:U.a.func,baseLayerPanel:U.a.object,layerPanel:U.a.object,viewerPanel:U.a.object,openViewer:U.a.func,navbarVisible:U.a.bool,navbarExpanded:U.a.bool,viewerSettings:U.a.shape({brightness:U.a.number,contrast:U.a.number,opacity:U.a.number}),reduxEnabled:U.a.bool},Bt.defaultProps={id:"map",navbarVisible:!0,reduxEnabled:!0};var zt=function(){this.mapLayers=new s.a,this.olEventListenerIds=[],this.measurementClickTimeout=null,this._logSetRotation=L.a.debounce(this.props.actions.logSetValue.bind(this,"map_rotation"),500,{leading:!1})},Vt=function(t){if(t.constructor&&"Object"!==t.constructor.name)return t;switch(t.type){case"Layer":return t instanceof dt.a?t:new dt.a(t);case"LayerGroup":return t instanceof pt.a?t:new pt.a(t);case"FeatureLayer":return t instanceof mt.a?t:new mt.a(t);case"WFSLayer":return t instanceof gt.a?t:new gt.a(t);case"MeasurementLayer":return t instanceof vt.a?t:new vt.a(t);case"WMSLayer":return t instanceof yt.a?t:new yt.a(t);case"WMTSLayer":return t instanceof bt.a?t:new bt.a(t);case"TMSLayer":return t instanceof wt.a?t:new wt.a(t);case"OSMLayer":return t instanceof xt.a?t:new xt.a(t);case"ArcGISLayer":return t instanceof St.a?t:new St.a(t);case"BingLayer":return t instanceof Mt.a?t:new Mt.a(t);case"RecordingLayer":return t instanceof _t.a?t:new _t.a(t);case"ObliqueFootprintLayer":return t instanceof Ot.a?t:new Ot.a(t);case"ViewingConeLayer":return t instanceof Tt.a?t:new Tt.a(t);case"AddressLayer":return t instanceof Ct.a?t:new Ct.a(t);case"SHPLayer":return t instanceof It.a?t:new It.a(t);default:N.a.error("mapViewer: objectAssign: layer not found.")}return t},Gt=function(t,e){var n=t.config,r=t.layer,i=t.mapviewers,o=t.measurements,a=t.obliqueviewer,s=t.panoramaviewer,u=t.viewermanager,l=t.windowmanager,c=t.srs,h=e.id,f=i.byId[h];return Pt({},f,{config:n,obliqueviewer:a,panoramaviewer:s,baseLayers:r.baseLayers[h],overlays:r.overlays[h],windowManagerRevision:l.revision,measurements:o,srs:c,viewermanager:u,inMeasurementMode:u.viewerMode===ut.ViewerMode.MEASUREMENT&&2===o.dimension,inPanoramaMeasurementMode:u.viewerMode===ut.ViewerMode.MEASUREMENT&&3===o.dimension})},Ht=function(t){return{actions:Object(q.bindActionCreators)(Pt({showFlashMessage:et.showFlashMessage},nt.default,rt.default,it.b,ot.default,at.default,lt.default,ut.default,{updateLoadingCount:st.updateLoadingCount}),t)}};e.a=Object(H.connect)(Gt,Ht,null,{withRef:!0})(Bt)},function(t,e,n){"use strict";function r(){function t(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];var i=null;return n.forEach(function(t){if(null==i){var n=t.apply(void 0,e);null!=n&&(i=n)}}),i}for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0,o.default)(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var i=n(350),o=function(t){return t&&t.__esModule?t:{default:t}}(i);t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n){var r="",i="",o=e;if("string"==typeof e){if(void 0===n)return t.style[(0,a.default)(e)]||(0,c.default)(t).getPropertyValue((0,u.default)(e));(o={})[e]=n}Object.keys(o).forEach(function(e){var n=o[e];n||0===n?(0,m.default)(e)?i+=e+"("+n+") ":r+=(0,u.default)(e)+": "+n+";":(0,f.default)(t,(0,u.default)(e))}),i&&(r+=d.transform+": "+i+";"),t.style.cssText+=";"+r}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var o=n(511),a=r(o),s=n(1187),u=r(s),l=n(1189),c=r(l),h=n(1190),f=r(h),d=n(512),p=n(1191),m=r(p);t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(119),i=function(t){return t&&t.__esModule?t:{default:t}}(r),o=function(){};i.default&&(o=function(){return document.addEventListener?function(t,e,n,r){return t.addEventListener(e,n,r||!1)}:document.attachEvent?function(t,e,n){return t.attachEvent("on"+e,function(e){e=e||window.event,e.target=e.target||e.srcElement,e.currentTarget=t,n.call(t,e)})}:void 0}()),e.default=o,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(13),o=r(i),a=n(11),s=r(a),u=n(6),l=r(u),c=n(7),h=r(c),f=n(8),d=r(f),p=n(12),m=r(p),g=n(514),v=r(g),y=n(169),b=r(y),w=n(251),x=r(w),_=n(0),E=r(_),M=n(3),S=r(M),T=n(49),C=r(T),I=n(247),O=r(I),A=n(33),L=r(A),R=n(252),N=r(R),P=n(202),k=r(P),D=n(83),F=(r(D),n(351)),j=r(F),U=n(1194),B=r(U),z=n(517),V=r(z),G=n(14),H=n(47),q=r(H),W=n(1195),Y=n(60),X=r(Y),Z=V.default.defaultProps.bsRole,K=B.default.defaultProps.bsRole,$={dropup:S.default.bool,id:(0,N.default)(S.default.oneOfType([S.default.string,S.default.number])),componentClass:L.default,children:(0,O.default)((0,W.requiredRoles)(Z,K),(0,W.exclusiveRoles)(K)),disabled:S.default.bool,pullRight:S.default.bool,open:S.default.bool,defaultOpen:S.default.bool,onToggle:S.default.func,onSelect:S.default.func,role:S.default.string,rootCloseEvent:S.default.oneOf(["click","mousedown"]),onMouseEnter:S.default.func,onMouseLeave:S.default.func},Q={componentClass:j.default},J=function(t){function e(n,r){(0,l.default)(this,e);var i=(0,h.default)(this,t.call(this,n,r));return i.handleClick=i.handleClick.bind(i),i.handleKeyDown=i.handleKeyDown.bind(i),i.handleClose=i.handleClose.bind(i),i._focusInDropdown=!1,i.lastOpenEventType=null,i}return(0,d.default)(e,t),e.prototype.componentDidMount=function(){this.focusNextOnOpen()},e.prototype.componentWillUpdate=function(t){!t.open&&this.props.open&&(this._focusInDropdown=(0,b.default)(C.default.findDOMNode(this.menu),(0,v.default)(document)))},e.prototype.componentDidUpdate=function(t){var e=this.props.open,n=t.open;e&&!n&&this.focusNextOnOpen(),!e&&n&&this._focusInDropdown&&(this._focusInDropdown=!1,this.focus())},e.prototype.handleClick=function(t){this.props.disabled||this.toggleOpen(t,{source:"click"})},e.prototype.handleKeyDown=function(t){if(!this.props.disabled)switch(t.keyCode){case x.default.codes.down:this.props.open?this.menu.focusNext&&this.menu.focusNext():this.toggleOpen(t,{source:"keydown"}),t.preventDefault();break;case x.default.codes.esc:case x.default.codes.tab:this.handleClose(t,{source:"keydown"})}},e.prototype.toggleOpen=function(t,e){var n=!this.props.open;n&&(this.lastOpenEventType=e.source),this.props.onToggle&&this.props.onToggle(n,t,e)},e.prototype.handleClose=function(t,e){this.props.open&&this.toggleOpen(t,e)},e.prototype.focusNextOnOpen=function(){var t=this.menu;t.focusNext&&("keydown"!==this.lastOpenEventType&&"menuitem"!==this.props.role||t.focusNext())},e.prototype.focus=function(){var t=C.default.findDOMNode(this.toggle);t&&t.focus&&t.focus()},e.prototype.renderToggle=function(t,e){var n=this,r=function(t){n.toggle=t};return"string"==typeof t.ref||(r=(0,q.default)(t.ref,r)),(0,_.cloneElement)(t,(0,s.default)({},e,{ref:r,bsClass:(0,G.prefix)(e,"toggle"),onClick:(0,q.default)(t.props.onClick,this.handleClick),onKeyDown:(0,q.default)(t.props.onKeyDown,this.handleKeyDown)}))},e.prototype.renderMenu=function(t,e){var n=this,r=e.id,i=e.onSelect,a=e.rootCloseEvent,u=(0,o.default)(e,["id","onSelect","rootCloseEvent"]),l=function(t){n.menu=t};return"string"==typeof t.ref||(l=(0,q.default)(t.ref,l)),(0,_.cloneElement)(t,(0,s.default)({},u,{ref:l,labelledBy:r,bsClass:(0,G.prefix)(u,"menu"),onClose:(0,q.default)(t.props.onClose,this.handleClose),onSelect:(0,q.default)(t.props.onSelect,i,function(t,e){return n.handleClose(e,{source:"select"})}),rootCloseEvent:a}))},e.prototype.render=function(){var t,e=this,n=this.props,r=n.componentClass,i=n.id,a=n.dropup,u=n.disabled,l=n.pullRight,c=n.open,h=n.onSelect,f=n.role,d=n.bsClass,p=n.className,g=n.rootCloseEvent,v=n.children,y=(0,o.default)(n,["componentClass","id","dropup","disabled","pullRight","open","onSelect","role","bsClass","className","rootCloseEvent","children"]);delete y.onToggle;var b=(t={},t[d]=!0,t.open=c,t.disabled=u,t);return a&&(b[d]=!1,b.dropup=!0),E.default.createElement(r,(0,s.default)({},y,{className:(0,m.default)(p,b)}),X.default.map(v,function(t){switch(t.props.bsRole){case Z:return e.renderToggle(t,{id:i,disabled:u,open:c,role:f,bsClass:d});case K:return e.renderMenu(t,{id:i,open:c,pullRight:l,bsClass:d,onSelect:h,rootCloseEvent:g});default:return t}}))},e}(E.default.Component);J.propTypes=$,J.defaultProps=Q,(0,G.bsClass)("dropdown",J);var tt=(0,k.default)(J,{open:"onToggle"});tt.Toggle=V.default,tt.Menu=B.default,e.default=tt,t.exports=e.default},function(t,e){e=t.exports=function(t){if(t&&"object"==typeof t){var e=t.which||t.keyCode||t.charCode;e&&(t=e)}if("number"==typeof t)return o[t];var i=String(t),a=n[i.toLowerCase()];if(a)return a;var a=r[i.toLowerCase()];return a||(1===i.length?i.charCodeAt(0):void 0)};var n=e.code=e.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},r=e.aliases={windows:91,"⇧":16,"⌥":18,"⌃":17,"⌘":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};for(i=97;i<123;i++)n[String.fromCharCode(i)]=i-32;for(var i=48;i<58;i++)n[i-48]=i;for(i=1;i<13;i++)n["f"+i]=i+111;for(i=0;i<10;i++)n["numpad "+i]=i+96;var o=e.names=e.title={};for(i in n)o[n[i]]=i;for(var a in r)n[a]=r[a]},function(t,e,n){"use strict";function r(t){return function(e,n,r,i,o){var a=r||"<<anonymous>>",s=o||n;if(null==e[n])return new Error("The "+i+" `"+s+"` is required to make `"+a+"` accessible for users of assistive technologies such as screen readers.");for(var u=arguments.length,l=Array(u>5?u-5:0),c=5;c<u;c++)l[c-5]=arguments[c];return t.apply(void 0,[e,n,r,i,o].concat(l))}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r,t.exports=e.default},function(t,e,n){"use strict";function r(t,e){var n=e.propTypes,r={},i={};return(0,o.default)(t).forEach(function(t){var e=t[0],o=t[1];n[e]?r[e]=o:i[e]=o}),[r,i]}e.__esModule=!0;var i=n(48),o=function(t){return t&&t.__esModule?t:{default:t}}(i);e.default=r,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(6),s=r(a),u=n(7),l=r(u),c=n(8),h=r(c),f=n(12),d=r(f),p=n(0),m=r(p),g=n(3),v=r(g),y=n(513),b=r(y),w={in:v.default.bool,mountOnEnter:v.default.bool,unmountOnExit:v.default.bool,transitionAppear:v.default.bool,timeout:v.default.number,onEnter:v.default.func,onEntering:v.default.func,onEntered:v.default.func,onExit:v.default.func,onExiting:v.default.func,onExited:v.default.func},x={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,transitionAppear:!1},_=function(t){function e(){return(0,s.default)(this,e),(0,l.default)(this,t.apply(this,arguments))}return(0,h.default)(e,t),e.prototype.render=function(){return m.default.createElement(b.default,(0,o.default)({},this.props,{className:(0,d.default)(this.props.className,"fade"),enteredClassName:"in",enteringClassName:"in"}))},e}(m.default.Component);_.propTypes=w,_.defaultProps=x,e.default=_,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t===t.window?t:9===t.nodeType&&(t.defaultView||t.parentWindow)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return f()(t)}function i(t){return function(){var e=t.apply(this,arguments);return new c.a(function(t,n){function r(i,o){try{var a=e[i](o),s=a.value}catch(t){return void n(t)}if(!a.done)return c.a.resolve(s).then(function(t){r("next",t)},function(t){r("throw",t)});t(s)}return r("next")})}}n.d(e,"ActionTypes",function(){return M}),n.d(e,"generateLink",function(){return I}),n.d(e,"generateMapLink",function(){return O}),n.d(e,"generateCycloramaLink",function(){return A}),n.d(e,"generateObliqueLink",function(){return L}),n.d(e,"mapLinkToClipboard",function(){return R}),n.d(e,"cycloramaLinkToClipboard",function(){return N}),n.d(e,"obliqueLinkToClipboard",function(){return P});var o=n(24),a=n.n(o),s=n(48),u=n.n(s),l=n(23),c=n.n(l),h=n(31),f=n.n(h),d=n(19),p=n.n(d),m=n(16),g=n.n(m),v=n(18),y=(n.n(v),n(39)),b=n(44),w=n(1277),x=n(1278),_=this,E=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=g()(t);!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(p()(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),M={GENERATE_LINK:"@@link/GENERATE_LINK",GENERATE_MAP_LINK:"@@link/GENERATE_MAP_LINK",GENERATE_CYCLORAMA_LINK:"@@link/GENERATE_CYCLORAMA_LINK"},S=function(t){return(Array.isArray(t)?t:u()(t)).map(function(t){return t.map(x.a.encodeUriQuery)})},T=function(t){return t.map(function(t){return t.join("=")}).join("&")},C=function(e){var n=t,r=n.location,i=e().routing.locationBeforeTransitions.basename,o=/^(?:(https?:)?(\/\/)?([^\/:]+(?::\d+)?))?(\/)?([^?]*)?(\?[^#]*)?(#.*)?$/,a=o.exec(i),s=E(a,8),u=(s[0],s[1]),l=s[2],c=s[3],h=s[4],f=s[5],d=(s[6],s[7],void 0);d=c?(u||r.protocol)+l+c:r.origin;var p=/^(.*\/)[^\/]*$/;d+=h||p.exec(r.pathname)[1];var m=/^(.*?)(?:\/)?$/;return f&&(d+=m.exec(f)[1],d+="/"),d},I=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(){var n=i(a.a.mark(function n(r,i){return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",r(Object(v.createAction)("@@link/GENERATE_LINK",function(){var n=C(i);return(n+="/"===t.charAt(0)?t.substr(1):t)+"?"+T(S(e))})()));case 1:case"end":return n.stop()}},n,_)}));return function(t,e){return n.apply(this,arguments)}}()},O=function(t,e){var n=Object(b.l)(e),i=t.map(function(t){return t.toFixed(n)}),o=[].concat(r(i),[e]);return I("streetsmart",{q:o.join(";")})},A=function(t,e,n){var r=E(e,3),i=r[0],o=r[1],a=r[2],s=[Object(y.d)(i).toFixed(b.a),Object(y.d)(o).toFixed(b.a),Object(y.d)(a).toFixed(b.a)];return I("streetsmart",{q:t,imageParams:s.join(";")})},L=function(t){return I("streetsmart",{q:t})},R=function(t,e){return function(){var n=i(a.a.mark(function n(r,i){return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",r(O(t,e)).then(function(t){return Object(w.a)(t.payload),t}));case 1:case"end":return n.stop()}},n,_)}));return function(t,e){return n.apply(this,arguments)}}()},N=function(t,e,n){return function(){var r=i(a.a.mark(function r(i,o){return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",i(A(t,e,n)).then(function(t){return Object(w.a)(t.payload),t}));case 1:case"end":return r.stop()}},r,_)}));return function(t,e){return r.apply(this,arguments)}}()},P=function(t){return function(){var e=i(a.a.mark(function e(n,r){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n(L(t)).then(function(t){return Object(w.a)(t.payload),t}));case 1:case"end":return e.stop()}},e,_)}));return function(t,n){return e.apply(this,arguments)}}()}}.call(e,n(34))},function(t,e,n){"use strict";function r(t,e,n){return e in t?s()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"b",function(){return u}),n.d(e,"c",function(){return l}),n.d(e,"a",function(){return p}),n.d(e,"d",function(){return v}),n.d(e,"e",function(){return y}),n.d(e,"f",function(){return b});var i,o,a=n(1),s=n.n(a),u={VIEWERS:"@@NodeKeys/VIEWERS",ROOT:"@@NodeKeys/ROOT",HELP:"@@NodeKeys/HELP",REPORT_BLURRING:"@@NodeKeys/REPORT_BLURRING",MEASUREMENT:"@@NodeKeys/MEASUREMENT",MAPS:"@@NodeKeys/MAPS",PANORAMAS:"@@NodeKeys/PANORAMAS",OBLIQUES:"@@NodeKeys/OBLIQUES"},l={CONTAINER:"@@NodeType/CONTAINER",MAP_VIEWER:"@@NodeType/MAP_VIEWER",PANORAMA_VIEWER:"@@NodeType/PANORAMA_VIEWER",OBLIQUE_VIEWER:"@@NodeType/OBLIQUE_VIEWER",HELP:"@@NodeType/HELP",REPORT_BLURRING:"@@NodeType/REPORT_BLURRING",MEASUREMENT_NAVBAR:"@@NodeType/MEASUREMENT_NAVBAR"},c="@@NodeDirection/EVEN",h="@@NodeDirection/ODD",f="@@NodeDirection/COLUMN",d="@@NodeDirection/ROW",p={EVEN:c,ODD:h,COLUMN:f,ROW:d},m=(i={},r(i,c,"flexEven"),r(i,h,"flexOdd"),r(i,f,"flexColumn"),r(i,d,"flexRow"),i),g=(o={},r(o,c,h),r(o,h,c),r(o,f,d),r(o,d,f),o),v=function(t){return g[t]},y=function(t){return m[t]},b=function(t){return{flexGrow:""+t,flexShrink:0,flexBasis:"0px"}}},function(t,e){t.exports.geometries={NULL:0,POINT:1,POLYLINE:3,POLYGON:5,MULTIPOINT:8,POINTZ:11,POLYLINEZ:13,POLYGONZ:15,MULTIPOINTZ:18,POINTM:21,POLYLINEM:23,POLYGONM:25,MULTIPOINTM:28,MULTIPATCH:31}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",function(){return g});var i=n(1),o=n.n(i),a=n(4),s=n.n(a),u=n(301),l=n.n(u),c=n(91),h=n.n(c),f=n(39),d=n(118),p=s.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},m=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),o()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),g=25,v=Object(f.e)(g),y=function(t,e,n,r){return[n-t,r-e]},b=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,t);var i=e.getProperties(),o=i.recordingLocation.getCoordinates();s()(this,p({},i,{feature:e,id:e.getId(),camX:o[0],camY:o[1],camZ:parseFloat(i.recordingHeight),heading:Object(f.e)(parseFloat(i.heading)),pitch:Object(f.e)(parseFloat(i.pitch)),roll:Object(f.e)(parseFloat(i.roll)),focalLength:parseFloat(i.f),ppX:parseFloat(i.dU),ppY:parseFloat(i.dV),imageWidth:parseInt(i.width,10),imageHeight:parseInt(i.height,10),k1:parseFloat(i.k1),k2:parseFloat(i.k2),p1:parseFloat(i.p1),p2:parseFloat(i.p2),alpha:parseFloat(i.alpha),delta:parseFloat(i.delta),width:parseFloat(i.width),height:parseFloat(i.height),zoomlevels:parseInt(i.zoomlevels,10),rotated:Object(d.b)(i.rotated,!1),productType:"ObliqueImage",recordedAt:new Date(Date.parse(i.recordedAt)||Date.parse(i.recordedAt+"Z"))||-1,latitudePrecision:parseFloat(i.latitudePrecision),longitudePrecision:parseFloat(i.longitudePrecision),heightPrecision:parseFloat(i.heightPrecision),groundPrecisionX:parseFloat(i.groundPrecisionX),groundPrecisionY:parseFloat(i.groundPrecisionY),groundPrecisionZ:parseFloat(i.groundPrecisionZ),headingPrecision:parseFloat(i.headingPrecision),pitchPrecision:parseFloat(i.pitchPrecision),rollPrecision:parseFloat(i.rollPrecision),isAuthorized:Object(d.b)(i.isAuthorized,!1),published:Object(d.b)(i.published,!1)},n));var a=this.heading,u=this.pitch,l=this.roll,c=this.rotated,h=this.isOblique=Math.abs(u)>v,m=Math.sin(u)*l,g=(u<0)*Math.PI,y=c*Math.PI,b=a+y,w=m+g+y;this.unrotatedHeading=Object(f.f)(b,0,f.b),this.uprightImageRotation=Object(f.f)(w,0,f.b),this.uprightHeading=this.imageRotationToHeading(w),this.preferredHeading=h?this.uprightHeading:0,this.preferredImageRotation=this.headingToImageRotation(this.preferredHeading);var x=i.footprint;if(c){var _=x.getCoordinates()[0];x.setCoordinates([[_[2],_[3],_[0],_[1],_[2]]])}this.avgFootprintHeight=.25*x.getCoordinates()[0].slice(0,4).reduce(function(t,e){return t+e[2]},0),this.constructRotationMatrix()}return m(t,[{key:"constructRotationMatrix",value:function(){var t=Math.cos(this.heading),e=Math.sin(this.heading),n=Math.cos(this.pitch),r=Math.sin(this.pitch),i=Math.cos(this.roll),o=Math.sin(this.roll);this.rotationMatrix=l.a.fromValues(t*i+e*r*o,e*n,t*o-e*r*i,-e*i+t*r*o,t*n,-e*o-t*r*i,-n*o,r,n*i)}},{key:"headingToImageRotation",value:function(t){return Object(f.f)(this.unrotatedHeading-t,0,f.b)}},{key:"imageRotationToHeading",value:function(t){return Object(f.f)(this.unrotatedHeading-t,0,f.b)}},{key:"worldVectorToPixel",value:function(t,e,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=this.camX,o=this.camY,a=this.camZ,s=this.focalLength,u=this.ppX,l=this.ppY,c=this.imageWidth,h=this.imageHeight,f=this.k1,d=this.k2,p=this.p1,m=this.p2,g=this.rotated,v=this.rotationMatrix,b=t-i,w=e-o,x=n-a,_=v[0]*b+v[3]*w+v[6]*x,E=v[1]*b+v[4]*w+v[7]*x,M=v[2]*b+v[5]*w+v[8]*x,S=_/M,T=E/M;if(r){var C=S*T,I=S*S,O=T*T,A=I+O,L=1+(f+d*A)*A;S=S*L+2*p*C+m*(A+2*I),T=T*L+2*m*C+p*(A+2*O)}var R=[-s*S+u+.5*(c-1),-s*T+l+.5*(h-1)];return g?y(R[0],R[1],c,h):R}},{key:"pixelToWorldVector",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.avgFootprintHeight,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=this.camX,a=this.camY,s=this.camZ,u=this.focalLength,l=this.ppX,c=this.ppY,f=this.imageWidth,d=this.imageHeight,p=this.k1,m=this.k2,g=this.p1,v=this.p2,b=this.rotated,w=t,x=e;if(b){var _=y(t,e,f,d);w=_[0],x=_[1]}var E=this.rotationMatrix,M=w-l-.5*(f-1),S=x-c-.5*(d-1);M/=-u,S/=-u;if(r){var T=M*S,C=M*M,I=S*S,O=C+I,A=1-(p+m*O)*O;M=M*A-2*g*T-v*(O+2*C),S=S*A-2*v*T-g*(O+2*I)}var L=[-(E[0]*M+E[1]*S+1*E[2]),-(E[3]*M+E[4]*S+1*E[5]),-(E[6]*M+E[7]*S+1*E[8])];i&&h.a.normalize(L,L);var R=(n-s)/L[2];return[o+R*L[0],a+R*L[1],n]}}]),t}();e.b=b},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",function(){return p});var i=n(58),o=n.n(i),a=n(80),s=n.n(a),u=n(1),l=n.n(u),c=n(82),h=n(347),f=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),l()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),d=function(){function t(e){r(this,t),this.key=e,this.geoJSONObjects=new s.a}return f(t,[{key:"addLayer",value:function(t,e){if(this.geoJSONObjects.has(t))throw Error(Object(c.b)(h.a.duplicateKey,{key:t}));this.geoJSONObjects.set(t,e)}},{key:"removeLayer",value:function(t){this.removeLayerByKey(t.key)}},{key:"removeLayerByKey",value:function(t){if(!this.geoJSONObjects.has(t))throw Error(h.a.unknownKey,{key:t});this.geoJSONObjects.delete(t)}},{key:"clearLayers",value:function(){this.geoJSONObjects.clear()}},{key:"hasLayer",value:function(t){return this.geoJSONObjects.has(t.key)}},{key:"hasLayerByKey",value:function(t){return this.geoJSONObjects.has(t)}},{key:"get",value:function(t){return this.geoJSONObjects.get(t)}},{key:o.a,value:function(){return this.geoJSONObjects.entries()}}]),t}(),p=new d},function(t,e,n){"use strict";function r(t){return function(){var e=t.apply(this,arguments);return new m.a(function(t,n){function r(i,o){try{var a=e[i](o),s=a.value}catch(t){return void n(t)}if(!a.done)return m.a.resolve(s).then(function(t){r("next",t)},function(t){r("throw",t)});t(s)}return r("next")})}}function i(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=d()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(h.a?h()(t,e):t.__proto__=e)}var u=n(24),l=n.n(u),c=n(9),h=n.n(c),f=n(5),d=n.n(f),p=n(23),m=n.n(p),g=n(10),v=n.n(g),y=n(57),b=n.n(y),w=n(1),x=n.n(w),_=n(4),E=n.n(_),M=n(17),S=n.n(M),T=n(29),C=n.n(T),I=n(15),O=(n.n(I),n(173)),A=n(53),L=n(117),R=E.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},N=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),x()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),P=function t(e,n,r){null===e&&(e=Function.prototype);var i=b()(e,n);if(void 0===i){var o=v()(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},k=(Object(I.defineMessages)({layerName:{id:"layer.WFSLayer.name",description:"Default WFS layers name",defaultMessage:"WFS layer"}}),function(t){function e(t){var n=i(t,[]);o(this,e);var r=a(this,(e.__proto__||v()(e)).call(this,C.a.defaults({},n,e.defaults)));return r.onBeforeAddFeatures=r.onBeforeAddFeatures.bind(r),r.onBeforeAddFeature=r.onBeforeAddFeature.bind(r),r}return s(e,t),N(e,[{key:"toMapLayer",value:function(){var t=P(e.prototype.__proto__||v()(e.prototype),"toMapLayer",this).call(this);if("perceel"===this.id&&"Kadastrale Kaart PDOK"===this.name){t.getSource().on("addfeature",function(t){return t.feature.setGeometryName("begrenzingperceel")}),this.mapLayer.setStyle(new S.a.style.Style({stroke:new S.a.style.Stroke({color:"#000000"})}))}return t.set("onClick",this._onFeatureClick),t.set("onHover",this._onFeatureHover),t.set("onOut",this._onFeatureOut),t}},{key:"_getMapSourceOptions",value:function(){var t=this.tiled?S.a.loadingstrategy.tile(S.a.tilegrid.createXYZ({maxZoom:this.maxZoomLevel,minZoom:this.minZoomLevel})):S.a.loadingstrategy.bbox,n=this.buildCustomLoader();return R({},P(e.prototype.__proto__||v()(e.prototype),"_getMapSourceOptions",this).call(this),{strategy:t,loader:n})}},{key:"buildUrl",value:function(t,e,n){var r=n instanceof S.a.proj.Projection?n.getCode():n,i=this.url;return i.indexOf("?")<0?i+="?":"?"!==i.charAt(i.length-1)&&(i+="&"),this.useProxy&&(i=""+this.proxyUrl+i),"POST"===this.method?i:i+"SERVICE=WFS&VERSION="+this.version+"&REQUEST=GetFeature&SRSNAME="+r+"&TYPENAME="+this.typeName+"&BBOX="+t.join(",")+","+r}},{key:"buildBody",value:function(t,e){return null}},{key:"buildCustomLoader",value:function(){var t=this.buildUrl.bind(this),e=this.buildBody.bind(this),n=this.authRequired,i=this.method,o=this.projection,a=this.onBeforeAddFeatures;return function(){function s(t,e,n){return u.apply(this,arguments)}var u=r(l.a.mark(function r(s,u,c){var h,f,d,p,m,g,v,y,b;return l.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return h=S.a.proj.transformExtent(s,c,o),f=t(h,u,o),d="POST"===i&&e?e(h,o):null,p={"Content-Type":"application/xml"},n&&(p=R({},p,Object(A.b)())),m=new Request(f,{method:i,mode:"cors",headers:new Headers(p),body:d}),this.clear(),r.prev=7,r.next=10,fetch(m);case 10:return g=r.sent,r.next=13,Object(L.a)(g,"text");case 13:v=r.sent,y=new S.a.format.WFS,b=y.readFeatures(v,{dataProjection:o,featureProjection:c}),a(b),this.addFeatures(b),r.next=23;break;case 20:throw r.prev=20,r.t0=r.catch(7),new Error("Error in loading wfs features!\nMessage: "+r.t0.message+"\nURL: "+f);case 23:case"end":return r.stop()}},r,this,[[7,20]])}));return s}()}},{key:"onBeforeAddFeatures",value:function(t){t.forEach(this.onBeforeAddFeature)}},{key:"onBeforeAddFeature",value:function(t){var e=this;t.set("onClick",function(){e._onFeatureClick(t)}),t.set("onHover",function(){e._onFeatureHover(t)})}},{key:"_onFeatureClick",value:function(t){}},{key:"_onFeatureHover",value:function(t){}},{key:"_onFeatureOut",value:function(t){}}]),e}(O.a));k.defaults={type:"WFSLayer",nameIntl:"layer.WFSLayer.name",method:"GET"},e.a=k},function(t,e,n){"use strict";var r=n(171),i=(n.n(r),n(1341));e.a=function(t,e,n,o,a){var s=e.length,u=new Float64Array(a);t(e,u);var l=void 0;if(n instanceof r.Matrix)l=n;else{l=new r.Matrix(s,s);for(var c=0;c<s;++c){var h=Math.max(n[c],i.a);l.set(c,c,Math.pow(h,2))}}for(var f=new r.Matrix(s,a),d=new Float64Array(s),p=0;p<s;++p)d[p]=e[p];for(var m=new Float64Array(a),g=0;g<s;++g){var v=o[g];d[g]+=v,t(d,m);for(var y=0;y<a;++y)f.set(g,y,(m[y]-u[y])/v);d[g]=e[g]}for(var b=f.transpose().multiply(l),w=b.multiply(f),x=new Float64Array(a),_=0;_<a;++_)x[_]=Math.sqrt(w.get(_,_));return{value:u,stdev:x,Q:w}}},function(t,e,n){"use strict";var r=n(15);n.n(r);e.a=Object(r.defineMessages)({m:{id:"units.m",description:"Short unit format for meters",defaultMessage:"m"},m2:{id:"units.m2",description:"Short unit format for square meters",defaultMessage:"m²"},m3:{id:"units.m3",description:"Short unit format for cubic meters",defaultMessage:"m³"},ft:{id:"units.ft",description:"Short unit format for feet",defaultMessage:"ft"},ft2:{id:"units.ft2",description:"Short unit format for square feet",defaultMessage:"ft²"},ft3:{id:"units.ft3",description:"Short unit format for cubic feet",defaultMessage:"ft³"},"us-ft":{id:"units.us-ft",description:"Short unit format for US feet",defaultMessage:"us-ft"},"us-ft2":{id:"units.us-ft2",description:"Short unit format for square US feet",defaultMessage:"us-ft²"},"us-ft3":{id:"units.us-ft3",description:"Short unit format for cubic US feet",defaultMessage:"us-ft³"},degrees:{id:"units.deg",description:"Short unit format for degrees",defaultMessage:"deg"},percent:{id:"units.percent",description:"Short unit format for percent",defaultMessage:"%"},"?":{id:"units.unknown",description:"Short unit format for unknown unit",defaultMessage:"?"}})},function(t,e,n){"use strict";function r(t){return function(){var e=t.apply(this,arguments);return new s.a(function(t,n){function r(i,o){try{var a=e[i](o),u=a.value}catch(t){return void n(t)}if(!a.done)return s.a.resolve(u).then(function(t){r("next",t)},function(t){r("throw",t)});t(u)}return r("next")})}}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"CoordinatesRegex",function(){return m}),n.d(e,"ExtentRegex",function(){return g}),n.d(e,"PanoramaIdRegex",function(){return v}),n.d(e,"ObliqueIdRegex",function(){return y}),n.d(e,"parsePanoramaId",function(){return b}),n.d(e,"parseObliqueId",function(){return w}),n.d(e,"addressToCoord",function(){return _}),n.d(e,"getSearchResult",function(){return E});var i=n(24),o=n.n(i),a=n(23),s=n.n(a),u=n(70),l=n.n(u),c=n(54),h=n(374),f=n(107),d=n(44),p=this,m=/^\s*([+-]?[0-9]+(?:\.[0-9]+)?)\s*[;,\s]\s*([+-]?[0-9]+(?:\.[0-9]+)?)(?:\s*[;,\s]\s*([+-]?[0-9]+(?:\.[0-9]+)?))?(?:\s*[;,\s]\s*(EPSG:[0-9]+))?\s*$/,g=/^\s*([+-]?[0-9]+(?:\.[0-9]+)?)\s*[;,\s]\s*([+-]?[0-9]+(?:\.[0-9]+)?)\s*[;,\s]\s*([+-]?[0-9]+(?:\.[0-9]+)?)\s*[;,\s]\s*([+-]?[0-9]+(?:\.[0-9]+)?)(?:\s*[;,\s]\s*(EPSG:[0-9]+))?\s*$/,v=/^\s*(?:id\:)?((?:\d[\dA-Z]{7})|(?:(WE|WU)[\dA-Z]{6}))\s*$/i,y=/^\s*(?:id\:)?(\w{13,26})\s*$/i,b=function(t){var e=v.exec(t);if(!e)return null;var n=e[1];return!e[2]||/\d/.test(n)?n:null},w=function(t){var e=y.exec(t);if(!e)return null;var n=e[1],r=n.length,i=n.replace(/\D/g,"").length,o=n.split("").map(function(t,e){return"_"===t?e:-1}).filter(function(t){return-1!==t}),a=o.length;return i>0&&a>=2&&a<=4&&0!==o[0]&&o[a-1]!==r-1&&o.map(function(t,e){return 0===e||t-o[e-1]>1}).every(function(t){return t})?n:null},x=null,_=function(t,e){return function(){var n=r(o.a.mark(function n(r,i){var a,s,u,l,m,g,v,y,b,w;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a="addressToCoord",s=i(),u=s.login,l=s.config,m="string"==typeof u.tidToken,m&&Object(f.c)(a),("string"!=typeof t||!t||e&&!Object(d.o)(e))&&Object(f.b)(a),e=e||p.props.srs.userSrs,e||Object(f.a)(a,c.ViewerError.NO_SRS_PROVIDED),x||(g=l.config.services.address,x=new h.a({addressService:g})),x||Object(f.a)(a,c.ViewerError.NO_ADDRESS_CLIENT),n.next=11,x.searchAddress(t,e);case 11:if(v=n.sent,v||Object(f.a)(a,c.ViewerError.NO_ADDRESS_FOUND),y=v.geometry,b=y.extent,w=y.coord,!b){n.next=16;break}throw new Error("address is not a point");case 16:if(w){n.next=18;break}throw new Error("error retrieving address");case 18:return n.abrupt("return",w);case 19:case"end":return n.stop()}},n,p)}));return function(t,e){return n.apply(this,arguments)}}()},E=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(){var n=r(o.a.mark(function n(r,i){var a,s,u,c,h;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(a={},s=void 0,!(s=b(t))){n.next=6;break}a.panoramaId=s,n.next=28;break;case 6:if(!(s=w(t))){n.next=10;break}a.obliqueId=s,n.next=28;break;case 10:if(!(s=m.exec(t))){n.next=18;break}u=s[4]||e.srs,c=[s[1],s[2],s[3]||0].map(function(t){return Number(t)}),u!==e.srs&&(c=l()(u,e.srs,c)),a.coordinate=c,a.srs=u,n.next=28;break;case 18:if(!(s=g.exec(t))){n.next=24;break}h=s[5]||e.srs,a.extent=[s[1],s[2],s[3],s[4]].map(function(t){return Number(t)}),a.srs=h,n.next=28;break;case 24:return n.next=26,r(_(t,e.srs));case 26:a.coordinate=n.sent,a.srs=e.srs;case 28:return n.abrupt("return",a);case 29:case"end":return n.stop()}},n,p)}));return function(t,e){return n.apply(this,arguments)}}()};e.default={addressToCoord:_,getSearchResult:E}},function(t,e,n){"use strict";function r(t){return function(){var e=t.apply(this,arguments);return new s.a(function(t,n){function r(i,o){try{var a=e[i](o),u=a.value}catch(t){return void n(t)}if(!a.done)return s.a.resolve(u).then(function(t){r("next",t)},function(t){r("throw",t)});t(u)}return r("next")})}}var i=n(24),o=n.n(i),a=n(23),s=n.n(a),u=n(19),l=n.n(u),c=n(16),h=n.n(c),f=n(53),d=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=h()(t);!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(l()(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),p=void 0,m=function(t){throw new Error(t)};e.a={initRecordingClient:function(t,e){p=new CM.aperture.WfsRecordingClient({uriManager:new CM.aperture.WfsRecordingUriManager({apiKey:e,dataUri:t,withCredentials:!0}),authHeaders:Object(f.b)()})},getRecordingById:function(t,e){var n=this;return r(o.a.mark(function r(){return o.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return p||m("RecordingLoader:: Recording client not initialized!"),r.next=3,n.handlePromiseCallback(p.fetchRecording(t,e));case 3:return r.abrupt("return",r.sent);case 4:case"end":return r.stop()}},r,n)}))()},getRecordingsByRadius:function(t,e,n,i){var a=d(t,2),s=a[0],u=a[1],l=this;return r(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return p||m("RecordingLoader:: Recording client not initialized!"),t.next=3,l.handlePromiseCallback(p.requestWithinRadius(s,u,n,e,i));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t,l)}))()},getRecordingsByBBOX:function(t,e,n){var i=d(t,4),a=i[0],s=i[1],u=i[2],l=i[3],c=this;return r(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return p||m("RecordingLoader:: Recording client not initialized!"),t.next=3,c.handlePromiseCallback(p.requestWithinBBOX(a,s,u,l,e,n));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t,c)}))()},handlePromiseCallback:function(t){return t.then(function(t){return t&&0!==t.length||m("RecordingLoader:: No recordings found"),t},function(t){m("arealoadfailure"===t.message?"RecordingLoader:: Area load failure!":"REQUEST_FAILED"===t.message?"RecordingLoader:: Request failed!":"RecordingLoader:: Error parsing RecordingLoad GML response!")})}}},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e,n){return e in t?f()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"a",function(){return T});var o,a,s=n(71),u=n.n(s),l=n(59),c=n.n(l),h=n(1),f=n.n(h),d=n(4),p=n.n(d),m=n(19),g=n.n(m),v=n(16),y=n.n(v),b=n(18),w=(n.n(b),n(146)),x=n(109),_=n(267),E=n(110),M=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=y()(t);!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(g()(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),S=p.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},T="EPSG:28992",C={recording:void 0,viewSize:[0,0],viewResolution:void 0,viewRotation:NaN,viewCenter:[0,0],viewHeading:0,navbarVisible:!0,navbarExpanded:!0,activePanel:x.a.NONE,ui:S({},Object(E.a)(c()(_.a.buttons),{enabled:!0}),(o={},i(o,_.a.NAVBAR,{visible:!0,expanded:!0}),i(o,_.a.TIME_TRAVEL,{visible:!0}),i(o,_.a.RECORDINGS,{visible:!0}),o))},I={byId:{}},O=Object(b.handleActions)((a={},i(a,w.ActionTypes.ADD_OBLIQUE_VIEWER,function(t,e){return S({},C,e.payload.newEntry)}),i(a,w.ActionTypes.UPDATE_OBLIQUE_VIEWER,function(t,e){var n=e.payload.newState,r=S({},t,n),i=r.recording;return u()(r.viewRotation)||(r.viewRotation=i.preferredImageRotation),r.viewHeading=i.imageRotationToHeading(r.viewRotation),r}),i(a,w.ActionTypes.UPDATE_OBLIQUE_RECORDING,function(t,e){var n=e.payload,r=n.recording,i=n.options,o=S({},t,i,{recording:r});if(!i||!i.viewCenter){var a=M(t.viewCenter,2),s=a[0],u=a[1],l=t.recording,c=l.pixelToWorldVector(s,u,l.avgFootprintHeight),h=M(c,2),f=h[0],d=h[1];o.viewCenter=r.worldVectorToPixel(f,d,r.avgFootprintHeight)}return o}),i(a,w.ActionTypes.UPDATE_OBLIQUE_ORIENTATION,function(t,e){return S({},t,{orientation:e.payload})}),i(a,w.ActionTypes.TOGGLE_UI_STATE,E.c),i(a,w.ActionTypes.SET_ACTIVE_PANEL,function(t,e){return S({},t,{activePanel:e.payload.panel})}),a),I);e.b=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,e=arguments[1];switch(e.type){case w.ActionTypes.REMOVE_OBLIQUE_VIEWER:var n=t.byId,o=(n[e.payload.id],r(n,[e.payload.id]));return S({},t,{byId:o});case w.ActionTypes.CLONE_OBLIQUE_VIEWER:var a=e.payload,s=a.toId,u=a.fromId,l=t.byId;return S({},t,{byId:S({},l,i({},s,S({},l[u])))});case w.ActionTypes.ADD_OBLIQUE_VIEWER:case w.ActionTypes.UPDATE_OBLIQUE_VIEWER:case w.ActionTypes.UPDATE_OBLIQUE_RECORDING:case w.ActionTypes.UPDATE_OBLIQUE_ORIENTATION:case w.ActionTypes.TOGGLE_UI_STATE:case w.ActionTypes.SET_ACTIVE_PANEL:var c=e.payload.id;return S({},t,{byId:S({},t.byId,i({},c,O(t.byId[c],e)))});default:return t}}},function(t,e,n){"use strict";e.a={buttons:{CENTER_MAP:"oblique.centerMap",IMAGE_INFORMATION:"oblique.imageInformation",COPY_LINK:"oblique.copyLink",SAVE_IMAGE:"oblique.saveImage",ZOOM_IN:"oblique.zoomIn",ZOOM_OUT:"oblique.zoomOut",SWITCH_DIRECTION:"oblique.switchDirection",TOGGLE_NADIR:"oblique.toggleNadir"},TIME_TRAVEL:"oblique.timeTravel",NAVBAR:"oblique.navbar"}},function(t,e,n){"use strict";var r=n(15);n.n(r);e.a=Object(r.defineMessages)({navbarTitle:{id:"measurement.navbarTitle",defaultMessage:"Measure mode"},startMeasurement:{id:"measurement.startMeasurement",defaultMessage:"Start measuring"},stopMeasurement:{id:"measurement.stopMeasurement",defaultMessage:"Stop measuring"},showMeasurementList:{id:"measurement.showMeasurementList",defaultMessage:"Show measurement list"},measurementList:{id:"measurement.measurementList",defaultMessage:"Measurement list"},notPossibleCurrentSrs:{id:"measurement.notPossibleCurrentSrs",defaultMessage:"Measurements not possible with current selected SRS"},point:{id:"measurement.point",defaultMessage:"Location"},line:{id:"measurement.line",defaultMessage:"Distance"},polygon:{id:"measurement.polygon",defaultMessage:"Surface"},volume:{id:"measurement.volume",defaultMessage:"Volume"},circle:{id:"measurement.circle",defaultMessage:"Circular Surface"}})},function(t,e,n){"use strict";function r(t){return function(){var e=t.apply(this,arguments);return new l.a(function(t,n){function r(i,o){try{var a=e[i](o),s=a.value}catch(t){return void n(t)}if(!a.done)return l.a.resolve(s).then(function(t){r("next",t)},function(t){r("throw",t)});t(s)}return r("next")})}}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"SET_LOCALE",function(){return v}),n.d(e,"setLocale",function(){return w}),n.d(e,"setInitialMessages",function(){return x}),n.d(e,"ActionTypes",function(){return _});var i=n(51),o=n.n(i),a=n(24),s=n.n(a),u=n(23),l=n.n(u),c=n(4),h=n.n(c),f=n(18),d=(n.n(f),n(74)),p=n(27),m=h.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},g=this,v="@@intl/SET_LOCALE",y=Object(f.createAction)(v,function(){var t=r(s.a.mark(function t(e){var n,r,i;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=new Request(Object(d.a)("./assets/i18n/"+e+".json"),{method:"GET",mode:"cors"}),t.next=3,fetch(n);case 3:if(r=t.sent,r.ok){t.next=6;break}throw new Error("SET_LOCALE_FETCH_RESPONSE_ERROR");case 6:return i=void 0,t.prev=7,t.next=10,r.json();case 10:i=t.sent,t.next=16;break;case 13:throw t.prev=13,t.t0=t.catch(7),new Error("SET_LOCALE_PARSE_JSON_ERROR");case 16:return t.abrupt("return",{locale:e,messages:i});case 17:case"end":return t.stop()}},t,g,[[7,13]])}));return function(e){return t.apply(this,arguments)}}()),b=Object(f.createAction)(v,function(t){var e={};return o()(t.messages).forEach(function(t){e[t]=t}),m({},t,{messages:e})}),w=function(t){return function(e,n){return e(p.default.setProfileGlobal(p.UserProfileGlobalKeys.LOCALE,t)),e("dev"===t?b(n().intl):y(t))}},x=function(){return function(t,e){var n=e().intl.locale;if(n)return t("dev"===n?b(e().intl):y(n))}},_={SET_LOCALE:v};e.default={setLocale:w,setInitialMessages:x}},function(t,e,n){"use strict";e.a={buttons:{OVERLAYS:"panorama.overlays",OPEN_OBLIQUE:"panorama.openOblique",REPORT_BLURRING:"panorama.reportBlurring",MEASURE:"panorama.measure",CENTER_MAP:"panorama.centerMap",IMAGE_INFORMATION:"panorama.imageInformation",COPY_LINK:"panorama.copyLink",SAVE_IMAGE:"panorama.saveImage",ZOOM_IN:"panorama.zoomIn",ZOOM_OUT:"panorama.zoomOut"},TIME_TRAVEL:"panorama.timeTravel",NAVBAR:"panorama.navbar",RECORDINGS:"panorama.recordings",SURFACE_CURSOR:"panorama.surfaceCursor"}},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return c()(t)}function i(t){return function(){var e=t.apply(this,arguments);return new u.a(function(t,n){function r(i,o){try{var a=e[i](o),s=a.value}catch(t){return void n(t)}if(!a.done)return u.a.resolve(s).then(function(t){r("next",t)},function(t){r("throw",t)});t(s)}return r("next")})}}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"LOAD_SRS_LIST",function(){return y}),n.d(e,"USER_SRS",function(){return b}),n.d(e,"loadSrsList",function(){return w}),n.d(e,"setUserSrs",function(){return x}),n.d(e,"ActionTypes",function(){return _});var o=n(24),a=n.n(o),s=n(23),u=n.n(s),l=n(31),c=n.n(l),h=n(70),f=n.n(h),d=n(18),p=(n.n(d),n(117)),m=n(1373),g=n(27),v=this,y="@@srs/LOAD_SRS_LIST",b="@@srs/USER_SRS",w=Object(d.createAction)(y,function(){var t=i(a.a.mark(function t(e){var n,i,o,s,u,l,c,h,d,g=e.url;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=new Request(g,{method:"GET",mode:"cors"}),t.next=3,fetch(n);case 3:if(i=t.sent,i.ok){t.next=6;break}throw new Error("Loading spatial references file failed with status code "+i.status+". Message: "+i.statusText);case 6:return t.next=8,Object(p.a)(i,"json");case 8:if(!((o=t.sent)instanceof Error)){t.next=11;break}throw new Error("parsing xml response of srs failed.");case 11:return s=new m.a,u=s.parseSRS(o),l=f.a.defs,c=f.a.Proj.projections,h=c.get("tmerc"),d=c.get("sterea"),h.names=[].concat(r(h.names),["Gauss_Kruger","Gauss Kruger"]),d.names=[].concat(r(d.names),["Double_Stereographic"]),c.add(h),c.add(d),u.srs.forEach(function(t){var e=t.SRSName,n=t.Proj4,r=void 0===n?void 0:n;r&&!r.includes("+units=")&&r.includes("+to_meter=0.3048")&&(r+=" +units=ft"),l(e,r);var i=e.split(":")[1];l("http://www.opengis.net/gml/srs/epsg.xml#"+i,l(e)),l("urn:x-ogc:def:crs:"+e,l(e))}),t.abrupt("return",u);case 22:case"end":return t.stop()}},t,v)}));return function(e){return t.apply(this,arguments)}}()),x=function(t){return function(e){e(Object(d.createAction)(b,function(){return{userSrs:t}})()),e(g.default.setProfileConfig(g.UserProfileConfigKeys.USER_SRS,t))}},_={LOAD_SRS_LIST:y,USER_SRS:b};e.default={loadSrsList:w,setUserSrs:x}},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return c()(t)}function i(t){return function(){var e=t.apply(this,arguments);return new u.a(function(t,n){function r(i,o){try{var a=e[i](o),s=a.value}catch(t){return void n(t)}if(!a.done)return u.a.resolve(s).then(function(t){r("next",t)},function(t){r("throw",t)});t(s)}return r("next")})}}n.d(e,"c",function(){return _}),n.d(e,"d",function(){return E}),n.d(e,"a",function(){return S});var o=n(24),a=n.n(o),s=n(23),u=n.n(s),l=n(31),c=n.n(l),h=n(18),f=(n.n(h),n(32)),d=n.n(f),p=n(121),m=n(376),g=(n(53),n(597)),v=n(265),y=this,b=Object(h.createAction)("@@TimeTravel/PANORAMA/SET_YAW_OFFSET",function(t,e){return{id:t,yawOffset:e}}),w=function(t,e){return function(){var n=i(a.a.mark(function n(r,i){var o,s,u,l,c,h,f,m,v,w;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(o=i(),s=o.timetravel.serviceUrls.panoramaTilesUrls,u=o.config.apiKey,l=p.default.setThumbnail,r(l(t,null)),e){n.next=5;break}return n.abrupt("return");case 5:for(c=e.id,h=0,f=c.length;f>0;)h+=c.charCodeAt(--f);return m=h%s.length,v=s[m]+"/Tile/"+c+"/0/A/0/0?apiKey="+u,n.prev=10,n.next=13,Object(g.a)(v);case 13:w=n.sent,r(l(t,w)),r(b(t,-e.orientation)),n.next=21;break;case 18:n.prev=18,n.t0=n.catch(10),d.a.warn("Panorama TimeTravel thumbnail failed to load");case 21:case"end":return n.stop()}},n,y,[[10,18]])}));return function(t,e){return n.apply(this,arguments)}}()},x=function(t,e){return function(n,r){var i=r(),o=i.timetravel.byId[t].timesValues;n(p.default.setTime(t,e)),n(w(t,o[e]))}},_=function(t){var e=t.length,n=[];if(e>0)for(var i=[].concat(r(t)).sort(m.a),o=void 0,a=0,s=0;s<e;++s){var u=i[s],l=Object(m.d)(u),c=l-a;(c>24192e5||!o)&&(a=l,o=[],n.push(o)),o.push(u)}return n},E=function(t,e){var n=[],r={};return e.forEach(function(e){if(e&&0!==e.length){var i=Object(m.c)(t,e),o=Object(m.d)(i);n.push(o),r[o]=i}}),{times:n,timesValues:r}},M=function(t,e){return function(n,r){var i=p.default.setTimesValues;if(n(i(t,[],{})),e){var o=e.xyz,a=e.srs;v.a.getRecordingsByRadius(o,a,5,{dateRange:{dateFrom:"1995-01-01",dateTo:"2100-01-01"}}).then(function(r){var o=_(r),a=E(e.xyz,o),s=a.times,u=a.timesValues;n(i(t,s,u)),n(x(t,Object(m.d)(e)))},function(){d.a.warn("TimeTravel recordings failed to load for panorama.")})}}};e.b={setYawOffset:b,loadThumbnail:w,updateTime:x,updateByRecording:M};var S={SET_YAW_OFFSET:"@@TimeTravel/PANORAMA/SET_YAW_OFFSET"}},function(t,e,n){"use strict";function r(t){return function(){var e=t.apply(this,arguments);return new l.a(function(t,n){function r(i,o){try{var a=e[i](o),s=a.value}catch(t){return void n(t)}if(!a.done)return l.a.resolve(s).then(function(t){r("next",t)},function(t){r("throw",t)});t(s)}return r("next")})}}n.d(e,"c",function(){return L}),n.d(e,"a",function(){return N});var i=n(24),o=n.n(i),a=n(104),s=n.n(a),u=n(23),l=n.n(u),c=n(17),h=n.n(c),f=n(18),d=(n.n(f),n(32)),p=n.n(d),m=n(121),g=n(375),v=n(598),y=n(274),b=n(272),w=n(376),x=n(39),_=n(597),E=(n(577),n(266)),M=this,S=Object(f.createAction)("@@ObliqueTimeTravel/SET_HISTORY_RECORDINGS",function(t,e){return{id:t,historyRecordings:e}}),T=Object(f.createAction)("@@ObliqueTimeTravel/SET_THUMBNAIL_STYLE",function(t,e){return{id:t,style:e}}),C=function(t){var e=s()(y.a,y.a),n=Math.asin(y.a/e),r=(t%(2*Math.PI)+4*Math.PI)%(2*Math.PI);r>Math.PI&&(r-=Math.PI),r>Math.PI/2&&r<=Math.PI&&(r=Math.PI/2-(r-Math.PI/2));var i=Math.PI/2-n-Math.abs(r),o=Math.abs(n-Math.abs(r)),a=Math.cos(i)*e/y.a,u=Math.cos(o)*e/y.a;return Math.max(a,u)},I=function(t,e,n){return function(r,i){r((0,m.default.setThumbnail)(t,n));var o=e.zoomlevels,a=e.imageWidth,s=e.imageHeight,u=s>a,l=void 0,c=void 0;u?(l=s,c=a):(l=a,c=s);var h=v.a*Math.pow(2,o-1),f=Math.round(h/c*y.a),d=f/(h/l),p=Math.round(-(d-y.a)/2),g=void 0;g=u?{width:f,top:p}:{height:f,left:p};var b=C(e.uprightImageRotation),w={transform:"rotate("+e.uprightImageRotation+"rad) scale("+b+")"};r(T(t,{imageStyle:g,rotateDivStyle:w}))}},O=function(t,e){return function(){var n=r(o.a.mark(function n(r,i){var a,s,u,l,c,h,f,d,g;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(a=i(),s=a.timetravel,u=s.byId[t].thumbnailUrl,l=s.serviceUrls.obliqueTileUrl,c=a.config.apiKey,h=m.default.setThumbnail,r(h(t,null)),u&&URL.revokeObjectURL(u),!e){n.next=19;break}return f=e.imageId,d=l+"/Tiles/"+f+"/1/0/0?apiKey="+c,n.prev=7,n.next=10,Object(_.a)(d);case 10:if(g=n.sent,i().timetravel.byId[t].time!==Object(w.d)(e)){n.next=14;break}return r(I(t,e,g)),n.abrupt("return",g);case 14:n.next=19;break;case 16:n.prev=16,n.t0=n.catch(7),p.a.warn("Oblique TimeTravel thumbnail failed to load");case 19:return n.abrupt("return",void 0);case 20:case"end":return n.stop()}},n,M,[[7,16]])}));return function(t,e){return n.apply(this,arguments)}}()},A=function(t,e){return function(n,r){var i=r(),o=i.timetravel.byId[t],a=o.time,s=o.timesValues;a!==e&&(n(m.default.setTime(t,e)),n(O(t,s[e])))}},L=function(t){return function(e,n){var r=m.default.setTimesValues,i=n(),o=i.obliqueviewer.byId[t],a=o.recording,s=o.viewCenter,u=i.timetravel.byId[t],l=u.historyRecordings,c=u.time;if(0!==l.length){var f=a.pixelToWorldVector(s[0],s[1],0),d=[];l.forEach(function(t){var e=t.filter(function(t){var e=t.worldVectorToPixel(f[0],f[1],0);return h.a.extent.containsCoordinate([0,0,t.imageWidth,t.imageHeight],e)});e.length>0&&d.push(e)});var p=Object(b.d)(f,d),g=p.times,v=p.timesValues;if(e(r(t,g,v)),!g.includes(c)){var y=void 0,w=1/0;g.forEach(function(t){var e=Math.abs(t-c);e<w&&(w=e,y=t)}),e(A(t,y))}}}},R=function(t,e){return function(n,r){var i=m.default.setTimesValues;if(n(i(t,[],{})),n(S(t,[])),e){var o=e.footprint.getExtent();g.a.instance.requestWithBBOX(o,E.a,{direction:Object(x.d)(e.uprightHeading),isOblique:e.isOblique}).then(function(r){for(var i=Object(b.c)(r),o=function(t){return t.imageId===e.imageId},a=0;a<i.length;a++)-1!==i[a].findIndex(o)&&(i[a]=[e]);n(S(t,i)),n(L(t))},function(){p.a.warn("TimeTravel recordings failed to load for oblique.")})}}};e.b={updateTime:A,updateByRecording:R,updateObliqueTimes:L};var N={SET_HISTORY_RECORDINGS:"@@ObliqueTimeTravel/SET_HISTORY_RECORDINGS",SET_THUMBNAIL_STYLE:"@@ObliqueTimeTravel/SET_THUMBNAIL_STYLE"}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=h()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(l.a?l()(t,e):t.__proto__=e)}n.d(e,"a",function(){return O}),n.d(e,"d",function(){return L}),n.d(e,"c",function(){return R});var a=n(10),s=n.n(a),u=n(9),l=n.n(u),c=n(5),h=n.n(c),f=n(1),d=n.n(f),p=n(4),m=n.n(p),g=n(3),v=n.n(g),y=n(0),b=n.n(y),w=n(15),x=(n.n(w),n(26)),_=(n.n(x),n(38)),E=(n.n(_),n(30)),M=n(581),S=n(67),T=n(121),C=m.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},I=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),O=160,A=function(t){function e(){var t;r(this,e);for(var n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];var u=i(this,(t=e.__proto__||s()(e)).call.apply(t,[this].concat(o)));return u.verifyTimeChange=u.verifyTimeChange.bind(u),u.onSelection=u.onSelection.bind(u),u}return o(e,t),I(e,[{key:"timeChange",value:function(){throw new Error("timeChange method needs to be implemented in derived class")}},{key:"verifyTimeChange",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=this.props.time;0!==t&&t!==e&&this.timeChange(t)}},{key:"onSelection",value:function(){var t=this.props.actions,e=t.toggleTimeTravel,n=t.logClickControl;e(!1),n("time_travel_thumb")}},{key:"render",value:function(){return this.props.visible&&this._renderSlider()||null}},{key:"renderImage",value:function(){return b.a.createElement("img",{alt:"",src:this.props.thumbnailUrl,className:"default-thumbnail"})}},{key:"_renderSlider",value:function(){var t=this.props,e=t.times,n=t.time,r=e[0],i=e[e.length-1],o=i-r,a=n;0!==a&&void 0!==a||(a=i);var s=o?(a-r)/o:1,u=o?e.map(function(t){return 100*(t-r)/o}):[0],l={top:59-69*s+"px"};return b.a.createElement("div",{className:"timetravel"},b.a.createElement(M.a,{min:r,max:i,reversed:0!==o,step:1,value:a,tooltip:"hide",orientation:"vertical",ticks:e,ticks_positions:u,ticks_snap_bounds:1/0,onSlideStop:this.verifyTimeChange}),b.a.createElement(x.Popover,{arrowOffsetTop:152-142*s+"px",id:"0",placement:"right",style:l,onClick:this.onSelection},this.renderImage(),b.a.createElement("div",{className:"travelDate"},b.a.createElement(w.FormattedDate,{value:a||null}))))}}]),e}(E.a);A.propTypes={id:v.a.string,yaw:v.a.number,onChange:v.a.func},e.b=A;var L=function(t,e){var n=t.timetravel.byId;return C({},n[e.id])},R=function(t,e){var n=S.default.logClickControl,r=T.default.setTime,i=T.default.toggleTimeTravel,o=function(t){return t.bind(null,e.id)};return{actions:Object(_.bindActionCreators)({logClickControl:n,setTime:o(r),toggleTimeTravel:o(i)},t)}}},function(t,e,n){var r=n(28),i=n(21).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,n){var r=n(21),i=n(85),o=n(125),a=n(389),s=n(41).f;t.exports=function(t){var e=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e,n){var r=n(215)("keys"),i=n(124);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var r=n(21).document;t.exports=r&&r.documentElement},function(t,e,n){var r=n(28),i=n(20),o=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{r=n(75)(Function.call,n(68).f(Object.prototype,"__proto__").set,2),r(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:o}},function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(t,e,n){var r=n(28),i=n(280).set;t.exports=function(t,e,n){var o,a=e.constructor;return a!==n&&"function"==typeof a&&(o=a.prototype)!==n.prototype&&r(o)&&i&&i(t,o),t}},function(t,e,n){"use strict";var r=n(88),i=n(87);t.exports=function(t){var e=String(i(this)),n="",o=r(t);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(n+=e);return n}},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e){var n=Math.expm1;t.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:n},function(t,e,n){var r=n(88),i=n(87);t.exports=function(t){return function(e,n){var o,a,s=String(i(e)),u=r(n),l=s.length;return u<0||u>=l?t?"":void 0:(o=s.charCodeAt(u),o<55296||o>56319||u+1===l||(a=s.charCodeAt(u+1))<56320||a>57343?t?s.charAt(u):o:t?s.slice(u,u+2):a-56320+(o-55296<<10)+65536)}}},function(t,e,n){"use strict";var r=n(125),i=n(2),o=n(63),a=n(62),s=n(61),u=n(151),l=n(288),c=n(149),h=n(69),f=n(35)("iterator"),d=!([].keys&&"next"in[].keys()),p=function(){return this};t.exports=function(t,e,n,m,g,v,y){l(n,e,m);var b,w,x,_=function(t){if(!d&&t in T)return T[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},E=e+" Iterator",M="values"==g,S=!1,T=t.prototype,C=T[f]||T["@@iterator"]||g&&T[g],I=C||_(g),O=g?M?_("entries"):I:void 0,A="Array"==e?T.entries||C:C;if(A&&(x=h(A.call(new t)))!==Object.prototype&&x.next&&(c(x,E,!0),r||s(x,f)||a(x,f,p)),M&&C&&"values"!==C.name&&(S=!0,I=function(){return C.call(this)}),r&&!y||!d&&!S&&T[f]||a(T,f,I),u[e]=I,u[E]=p,g)if(b={values:M?I:_("values"),keys:v?I:_("keys"),entries:O},y)for(w in b)w in T||o(T,w,b[w]);else i(i.P+i.F*(d||S),e,b);return b}},function(t,e,n){"use strict";var r=n(127),i=n(123),o=n(149),a={};n(62)(a,n(35)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(a,{next:i(1,n)}),o(t,e+" Iterator")}},function(t,e,n){var r=n(220),i=n(87);t.exports=function(t,e,n){if(r(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(t))}},function(t,e,n){var r=n(35)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,!"/./"[t](e)}catch(t){}}return!0}},function(t,e,n){var r=n(151),i=n(35)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[i]===t)}},function(t,e,n){"use strict";var r=n(41),i=n(123);t.exports=function(t,e,n){e in t?r.f(t,e,i(0,n)):t[e]=n}},function(t,e,n){var r=n(178),i=n(35)("iterator"),o=n(151);t.exports=n(85).getIteratorMethod=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||o[r(t)]}},function(t,e,n){var r=n(726);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,n){"use strict";var r=n(45),i=n(126),o=n(42);t.exports=function(t){for(var e=r(this),n=o(e.length),a=arguments.length,s=i(a>1?arguments[1]:void 0,n),u=a>2?arguments[2]:void 0,l=void 0===u?n:i(u,n);l>s;)e[s++]=t;return e}},function(t,e,n){"use strict";var r=n(113),i=n(404),o=n(151),a=n(64);t.exports=n(287)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):"keys"==e?i(0,n):"values"==e?i(0,t[n]):i(0,[n,t[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(t,e,n){var r,i,o,a=n(75),s=n(219),u=n(279),l=n(275),c=n(21),h=c.process,f=c.setImmediate,d=c.clearImmediate,p=c.MessageChannel,m=c.Dispatch,g=0,v={},y=function(){var t=+this;if(v.hasOwnProperty(t)){var e=v[t];delete v[t],e()}},b=function(t){y.call(t.data)};f&&d||(f=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return v[++g]=function(){s("function"==typeof t?t:Function(t),e)},r(g),g},d=function(t){delete v[t]},"process"==n(76)(h)?r=function(t){h.nextTick(a(y,t,1))}:m&&m.now?r=function(t){m.now(a(y,t,1))}:p?(i=new p,o=i.port2,i.port1.onmessage=b,r=a(o.postMessage,o,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(r=function(t){c.postMessage(t+"","*")},c.addEventListener("message",b,!1)):r="onreadystatechange"in l("script")?function(t){u.appendChild(l("script")).onreadystatechange=function(){u.removeChild(this),y.call(t)}}:function(t){setTimeout(a(y,t,1),0)}),t.exports={set:f,clear:d}},function(t,e,n){var r=n(21),i=n(297).set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,u="process"==n(76)(a);t.exports=function(){var t,e,n,l=function(){var r,i;for(u&&(r=a.domain)&&r.exit();t;){i=t.fn,t=t.next;try{i()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(u)n=function(){a.nextTick(l)};else if(o){var c=!0,h=document.createTextNode("");new o(l).observe(h,{characterData:!0}),n=function(){h.data=c=!c}}else if(s&&s.resolve){var f=s.resolve();n=function(){f.then(l)}}else n=function(){i.call(r,l)};return function(r){var i={fn:r,next:void 0};e&&(e.next=i),t||(t=i,n()),e=i}}},function(t,e,n){"use strict";function r(t){var e,n;this.promise=new t(function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r}),this.resolve=i(e),this.reject=i(n)}var i=n(50);t.exports.f=function(t){return new r(t)}},function(t,e,n){"use strict";function r(t,e,n){var r,i,o,a=Array(n),s=8*n-e-1,u=(1<<s)-1,l=u>>1,c=23===e?j(2,-24)-j(2,-77):0,h=0,f=t<0||0===t&&1/t<0?1:0;for(t=F(t),t!=t||t===k?(i=t!=t?1:0,r=u):(r=U(B(t)/z),t*(o=j(2,-r))<1&&(r--,o*=2),t+=r+l>=1?c/o:c*j(2,1-l),t*o>=2&&(r++,o/=2),r+l>=u?(i=0,r=u):r+l>=1?(i=(t*o-1)*j(2,e),r+=l):(i=t*j(2,l-1)*j(2,e),r=0));e>=8;a[h++]=255&i,i/=256,e-=8);for(r=r<<e|i,s+=e;s>0;a[h++]=255&r,r/=256,s-=8);return a[--h]|=128*f,a}function i(t,e,n){var r,i=8*n-e-1,o=(1<<i)-1,a=o>>1,s=i-7,u=n-1,l=t[u--],c=127&l;for(l>>=7;s>0;c=256*c+t[u],u--,s-=8);for(r=c&(1<<-s)-1,c>>=-s,s+=e;s>0;r=256*r+t[u],u--,s-=8);if(0===c)c=1-a;else{if(c===o)return r?NaN:l?-k:k;r+=j(2,e),c-=a}return(l?-1:1)*r*j(2,c-e)}function o(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function a(t){return[255&t]}function s(t){return[255&t,t>>8&255]}function u(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function l(t){return r(t,52,8)}function c(t){return r(t,23,4)}function h(t,e,n){T(t[O],e,{get:function(){return this[n]}})}function f(t,e,n,r){var i=+n,o=M(i);if(o+e>t[G])throw P(A);var a=t[V]._b,s=o+t[H],u=a.slice(s,s+e);return r?u:u.reverse()}function d(t,e,n,r,i,o){var a=+n,s=M(a);if(s+e>t[G])throw P(A);for(var u=t[V]._b,l=s+t[H],c=r(+i),h=0;h<e;h++)u[l+h]=c[o?h:e-h-1]}var p=n(21),m=n(40),g=n(125),v=n(226),y=n(62),b=n(132),w=n(25),x=n(130),_=n(88),E=n(42),M=n(413),S=n(128).f,T=n(41).f,C=n(295),I=n(149),O="prototype",A="Wrong index!",L=p.ArrayBuffer,R=p.DataView,N=p.Math,P=p.RangeError,k=p.Infinity,D=L,F=N.abs,j=N.pow,U=N.floor,B=N.log,z=N.LN2,V=m?"_b":"buffer",G=m?"_l":"byteLength",H=m?"_o":"byteOffset";if(v.ABV){if(!w(function(){L(1)})||!w(function(){new L(-1)})||w(function(){return new L,new L(1.5),new L(NaN),"ArrayBuffer"!=L.name})){L=function(t){return x(this,L),new D(M(t))};for(var q,W=L[O]=D[O],Y=S(D),X=0;Y.length>X;)(q=Y[X++])in L||y(L,q,D[q]);g||(W.constructor=L)}var Z=new R(new L(2)),K=R[O].setInt8;Z.setInt8(0,2147483648),Z.setInt8(1,2147483649),!Z.getInt8(0)&&Z.getInt8(1)||b(R[O],{setInt8:function(t,e){K.call(this,t,e<<24>>24)},setUint8:function(t,e){K.call(this,t,e<<24>>24)}},!0)}else L=function(t){x(this,L,"ArrayBuffer");var e=M(t);this._b=C.call(Array(e),0),this[G]=e},R=function(t,e,n){x(this,R,"DataView"),x(t,L,"DataView");var r=t[G],i=_(e);if(i<0||i>r)throw P("Wrong offset!");if(n=void 0===n?r-i:E(n),i+n>r)throw P("Wrong length!");this[V]=t,this[H]=i,this[G]=n},m&&(h(L,"byteLength","_l"),h(R,"buffer","_b"),h(R,"byteLength","_l"),h(R,"byteOffset","_o")),b(R[O],{getInt8:function(t){return f(this,1,t)[0]<<24>>24},getUint8:function(t){return f(this,1,t)[0]},getInt16:function(t){var e=f(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=f(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return o(f(this,4,t,arguments[1]))},getUint32:function(t){return o(f(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return i(f(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return i(f(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){d(this,1,t,a,e)},setUint8:function(t,e){d(this,1,t,a,e)},setInt16:function(t,e){d(this,2,t,s,e,arguments[2])},setUint16:function(t,e){d(this,2,t,s,e,arguments[2])},setInt32:function(t,e){d(this,4,t,u,e,arguments[2])},setUint32:function(t,e){d(this,4,t,u,e,arguments[2])},setFloat32:function(t,e){d(this,4,t,c,e,arguments[2])},setFloat64:function(t,e){d(this,8,t,l,e,arguments[2])}});I(L,"ArrayBuffer"),I(R,"DataView"),y(R[O],v.VIEW,!0),e.ArrayBuffer=L,e.DataView=R},function(t,e,n){var r=n(99),i={};i.create=function(){var t=new r.ARRAY_TYPE(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},i.fromMat4=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t},i.clone=function(t){var e=new r.ARRAY_TYPE(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},i.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},i.fromValues=function(t,e,n,i,o,a,s,u,l){var c=new r.ARRAY_TYPE(9);return c[0]=t,c[1]=e,c[2]=n,c[3]=i,c[4]=o,c[5]=a,c[6]=s,c[7]=u,c[8]=l,c},i.set=function(t,e,n,r,i,o,a,s,u,l){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t[6]=s,t[7]=u,t[8]=l,t},i.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},i.transpose=function(t,e){if(t===e){var n=e[1],r=e[2],i=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=i}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t},i.invert=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],l=e[7],c=e[8],h=c*a-s*l,f=-c*o+s*u,d=l*o-a*u,p=n*h+r*f+i*d;return p?(p=1/p,t[0]=h*p,t[1]=(-c*r+i*l)*p,t[2]=(s*r-i*a)*p,t[3]=f*p,t[4]=(c*n-i*u)*p,t[5]=(-s*n+i*o)*p,t[6]=d*p,t[7]=(-l*n+r*u)*p,t[8]=(a*n-r*o)*p,t):null},i.adjoint=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],l=e[7],c=e[8];return t[0]=a*c-s*l,t[1]=i*l-r*c,t[2]=r*s-i*a,t[3]=s*u-o*c,t[4]=n*c-i*u,t[5]=i*o-n*s,t[6]=o*l-a*u,t[7]=r*u-n*l,t[8]=n*a-r*o,t},i.determinant=function(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],u=t[7],l=t[8];return e*(l*o-a*u)+n*(-l*i+a*s)+r*(u*i-o*s)},i.multiply=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],h=e[8],f=n[0],d=n[1],p=n[2],m=n[3],g=n[4],v=n[5],y=n[6],b=n[7],w=n[8];return t[0]=f*r+d*a+p*l,t[1]=f*i+d*s+p*c,t[2]=f*o+d*u+p*h,t[3]=m*r+g*a+v*l,t[4]=m*i+g*s+v*c,t[5]=m*o+g*u+v*h,t[6]=y*r+b*a+w*l,t[7]=y*i+b*s+w*c,t[8]=y*o+b*u+w*h,t},i.mul=i.multiply,i.translate=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],h=e[8],f=n[0],d=n[1];return t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t[6]=f*r+d*a+l,t[7]=f*i+d*s+c,t[8]=f*o+d*u+h,t},i.rotate=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],h=e[8],f=Math.sin(n),d=Math.cos(n);return t[0]=d*r+f*a,t[1]=d*i+f*s,t[2]=d*o+f*u,t[3]=d*a-f*r,t[4]=d*s-f*i,t[5]=d*u-f*o,t[6]=l,t[7]=c,t[8]=h,t},i.scale=function(t,e,n){var r=n[0],i=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},i.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t},i.fromRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},i.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},i.fromMat2d=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t},i.fromQuat=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n+n,s=r+r,u=i+i,l=n*a,c=r*a,h=r*s,f=i*a,d=i*s,p=i*u,m=o*a,g=o*s,v=o*u;return t[0]=1-h-p,t[3]=c-v,t[6]=f+g,t[1]=c+v,t[4]=1-l-p,t[7]=d-m,t[2]=f-g,t[5]=d+m,t[8]=1-l-h,t},i.normalFromMat4=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],l=e[7],c=e[8],h=e[9],f=e[10],d=e[11],p=e[12],m=e[13],g=e[14],v=e[15],y=n*s-r*a,b=n*u-i*a,w=n*l-o*a,x=r*u-i*s,_=r*l-o*s,E=i*l-o*u,M=c*m-h*p,S=c*g-f*p,T=c*v-d*p,C=h*g-f*m,I=h*v-d*m,O=f*v-d*g,A=y*O-b*I+w*C+x*T-_*S+E*M;return A?(A=1/A,t[0]=(s*O-u*I+l*C)*A,t[1]=(u*T-a*O-l*S)*A,t[2]=(a*I-s*T+l*M)*A,t[3]=(i*I-r*O-o*C)*A,t[4]=(n*O-i*T+o*S)*A,t[5]=(r*T-n*I-o*M)*A,t[6]=(m*E-g*_+v*x)*A,t[7]=(g*w-p*E-v*b)*A,t[8]=(p*_-m*w+v*y)*A,t):null},i.str=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},i.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},i.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t},i.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t},i.sub=i.subtract,i.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t},i.multiplyScalarAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t},i.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]},i.equals=function(t,e){var n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],h=t[8],f=e[0],d=e[1],p=e[2],m=e[3],g=e[4],v=e[5],y=t[6],b=e[7],w=e[8];return Math.abs(n-f)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(f))&&Math.abs(i-d)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(o-p)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(a-m)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(m))&&Math.abs(s-g)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(g))&&Math.abs(u-v)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(v))&&Math.abs(l-y)<=r.EPSILON*Math.max(1,Math.abs(l),Math.abs(y))&&Math.abs(c-b)<=r.EPSILON*Math.max(1,Math.abs(c),Math.abs(b))&&Math.abs(h-w)<=r.EPSILON*Math.max(1,Math.abs(h),Math.abs(w))},t.exports=i},function(t,e,n){function r(t,e){if(!(this instanceof r))return new r(t);e=e||function(t){if(t)throw t};var n=i(t);if("object"!=typeof n)return void e(t);var a=s(n),u=r.projections.get(a.projName);u?(o(this,a),o(this,u),this.init(),e(null,this)):e(t)}var i=n(849),o=n(303),a=n(853),s=n(856);r.projections=a,r.projections.start(),t.exports=r},function(t,e){t.exports=function(t,e){t=t||{};var n,r;if(!e)return t;for(r in e)void 0!==(n=e[r])&&(t[r]=n);return t}},function(t,e){t.exports=function(t,e,n){var r=e*n;return t/Math.sqrt(1-r*r)}},function(t,e){t.exports=function(t,e,n,r,i){var o,a;o=t/e;for(var s=0;s<15;s++)if(a=(t-(e*o-n*Math.sin(2*o)+r*Math.sin(4*o)-i*Math.sin(6*o)))/(e-2*n*Math.cos(2*o)+4*r*Math.cos(4*o)-6*i*Math.cos(6*o)),o+=a,Math.abs(a)<=1e-10)return o;return NaN}},function(t,e){t.exports=function(t,e){var n;return t>1e-7?(n=t*e,(1-t*t)*(e/(1-n*n)-.5/t*Math.log((1-n)/(1+n)))):2*e}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){"use strict";var r=n(233),i=n(37),o=n(432),a=n(114),s=n(134),u=n(156),l=n(894),c=n(189),h=n(436),f=n(56)("iterator"),d=!([].keys&&"next"in[].keys()),p=function(){return this};t.exports=function(t,e,n,m,g,v,y){l(n,e,m);var b,w,x,_=function(t){if(!d&&t in T)return T[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},E=e+" Iterator",M="values"==g,S=!1,T=t.prototype,C=T[f]||T["@@iterator"]||g&&T[g],I=C||_(g),O=g?M?_("entries"):I:void 0,A="Array"==e?T.entries||C:C;if(A&&(x=h(A.call(new t)))!==Object.prototype&&x.next&&(c(x,E,!0),r||s(x,f)||a(x,f,p)),M&&C&&"values"!==C.name&&(S=!0,I=function(){return C.call(this)}),r&&!y||!d&&!S&&T[f]||a(T,f,I),u[e]=I,u[E]=p,g)if(b={values:M?I:_("values"),keys:v?I:_("keys"),entries:O},y)for(w in b)w in T||o(T,w,b[w]);else i(i.P+i.F*(d||S),e,b);return b}},function(t,e,n){var r=n(92),i=n(55).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,n){var r=n(92);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var r=n(188);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e,n){var r=n(314)("keys"),i=n(236);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e,n){var r=n(55),i=r["__core-js_shared__"]||(r["__core-js_shared__"]={});t.exports=function(t){return i[t]||(i[t]={})}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){e.f=n(56)},function(t,e,n){"use strict";var r=n(55),i=n(134),o=n(79),a=n(37),s=n(432),u=n(237).KEY,l=n(133),c=n(314),h=n(189),f=n(236),d=n(56),p=n(316),m=n(318),g=n(900),v=n(901),y=n(438),b=n(101),w=n(102),x=n(311),_=n(187),E=n(234),M=n(902),S=n(320),T=n(78),C=n(135),I=S.f,O=T.f,A=M.f,L=r.Symbol,R=r.JSON,N=R&&R.stringify,P=d("_hidden"),k=d("toPrimitive"),D={}.propertyIsEnumerable,F=c("symbol-registry"),j=c("symbols"),U=c("op-symbols"),B=Object.prototype,z="function"==typeof L,V=r.QObject,G=!V||!V.prototype||!V.prototype.findChild,H=o&&l(function(){return 7!=E(O({},"a",{get:function(){return O(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=I(B,e);r&&delete B[e],O(t,e,n),r&&t!==B&&O(B,e,r)}:O,q=function(t){var e=j[t]=E(L.prototype);return e._k=t,e},W=z&&"symbol"==typeof L.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof L},Y=function(t,e,n){return t===B&&Y(U,e,n),b(t),e=x(e,!0),b(n),i(j,e)?(n.enumerable?(i(t,P)&&t[P][e]&&(t[P][e]=!1),n=E(n,{enumerable:_(0,!1)})):(i(t,P)||O(t,P,_(1,{})),t[P][e]=!0),H(t,e,n)):O(t,e,n)},X=function(t,e){b(t);for(var n,r=v(e=w(e)),i=0,o=r.length;o>i;)Y(t,n=r[i++],e[n]);return t},Z=function(t,e){return void 0===e?E(t):X(E(t),e)},K=function(t){var e=D.call(this,t=x(t,!0));return!(this===B&&i(j,t)&&!i(U,t))&&(!(e||!i(this,t)||!i(j,t)||i(this,P)&&this[P][t])||e)},$=function(t,e){if(t=w(t),e=x(e,!0),t!==B||!i(j,e)||i(U,e)){var n=I(t,e);return!n||!i(j,e)||i(t,P)&&t[P][e]||(n.enumerable=!0),n}},Q=function(t){for(var e,n=A(w(t)),r=[],o=0;n.length>o;)i(j,e=n[o++])||e==P||e==u||r.push(e);return r},J=function(t){for(var e,n=t===B,r=A(n?U:w(t)),o=[],a=0;r.length>a;)!i(j,e=r[a++])||n&&!i(B,e)||o.push(j[e]);return o};z||(L=function(){if(this instanceof L)throw TypeError("Symbol is not a constructor!");var t=f(arguments.length>0?arguments[0]:void 0),e=function(n){this===B&&e.call(U,n),i(this,P)&&i(this[P],t)&&(this[P][t]=!1),H(this,t,_(1,n))};return o&&G&&H(B,t,{configurable:!0,set:e}),q(t)},s(L.prototype,"toString",function(){return this._k}),S.f=$,T.f=Y,n(439).f=M.f=Q,n(191).f=K,n(319).f=J,o&&!n(233)&&s(B,"propertyIsEnumerable",K,!0),p.f=function(t){return q(d(t))}),a(a.G+a.W+a.F*!z,{Symbol:L});for(var tt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),et=0;tt.length>et;)d(tt[et++]);for(var nt=C(d.store),rt=0;nt.length>rt;)m(nt[rt++]);a(a.S+a.F*!z,"Symbol",{for:function(t){return i(F,t+="")?F[t]:F[t]=L(t)},keyFor:function(t){if(W(t))return g(F,t);throw TypeError(t+" is not a symbol!")},useSetter:function(){G=!0},useSimple:function(){G=!1}}),a(a.S+a.F*!z,"Object",{create:Z,defineProperty:Y,defineProperties:X,getOwnPropertyDescriptor:$,getOwnPropertyNames:Q,getOwnPropertySymbols:J}),R&&a(a.S+a.F*(!z||l(function(){var t=L();return"[null]"!=N([t])||"{}"!=N({a:t})||"{}"!=N(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!W(t)){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);return e=r[1],"function"==typeof e&&(n=e),!n&&y(e)||(e=function(t,e){if(n&&(e=n.call(this,t,e)),!W(e))return e}),r[1]=e,N.apply(R,r)}}}),L.prototype[k]||n(114)(L.prototype,k,L.prototype.valueOf),h(L,"Symbol"),h(Math,"Math",!0),h(r.JSON,"JSON",!0)},function(t,e,n){var r=n(55),i=n(22),o=n(233),a=n(316),s=n(78).f;t.exports=function(t){var e=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(191),i=n(187),o=n(102),a=n(311),s=n(134),u=n(431),l=Object.getOwnPropertyDescriptor;e.f=n(79)?l:function(t,e){if(t=o(t),e=a(e,!0),u)try{return l(t,e)}catch(t){}if(s(t,e))return i(!r.f.call(t,e),t[e])}},function(t,e){},function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return r});var r=(n(916),function(e){var n=-1;e.requestAnimationFrame=function(r){-1===n&&(n=t.requestAnimationFrame(function(t){n=-1,e.animateFrame(t,r)}))}})}).call(e,n(34))},function(t,e,n){var r=n(114);t.exports=function(t,e,n){for(var i in e)n&&t[i]?t[i]=e[i]:r(t,i,e[i]);return t}},function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var r=n(239),i=n(56)("iterator"),o=n(156);t.exports=n(22).getIteratorMethod=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||o[r(t)]}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",function(){return c});var i=n(1),o=n.n(i),a=n(161),s=n.n(a),u=(n(329),function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),o()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}()),l=60,c="tileloaderror";CM.aperture.TILE_LOAD_ERROR=c;var h=function(){function t(e){var n=e.uriManager,i=e.authHeaders,o=e.maxConcurrent,a=void 0===o?l:o;r(this,t),this._concurrent=0,this._pending=[],this._loading={},this._withCredentials=!1,s()(this,CM.Events.prototype),this._maxConcurrent=a,this._authHeaders=i,this.setUriManager(n)}return u(t,[{key:"getUriManager",value:function(){return this._uriManager}},{key:"setUriManager",value:function(t){this._uriManager=t,this._withCredentials=t.withCredentials}},{key:"_processPending",value:function(){for(;this._pending.length&&this._concurrent<this._maxConcurrent;)this._loadNext()}},{key:"_loadNext",value:function(){var t=this;++this._concurrent;var e=this._pending.shift(),n=e.url=this._uriManager.getTileUri(e.id,e.face,e.zoom,e.column,e.row),r=e.mimeType;this._loading[n]=e;var i=new Image,o=new Headers(this._authHeaders||{}),a=CM.Req.responseTypes,s=a.blob;return CM.Req({method:"get",headers:o,url:n,responseType:s,withCredentials:this._withCredentials,onload:function(n){switch(i.onload=function(){t._onLoadComplete(e,i,!0)},s){case a.blob:i.src=URL.createObjectURL(n);break;case a.arraybuffer:for(var o=new Uint8Array(n.byteLength),u=0,l=n.length;u<l;u++)o[u]=n.charCodeAt(u);var c=window.btoa(String.fromCharCode.apply(null,o));i.src="data:"+r+";base64,"+c}},onerror:function(n,r){t._onLoadComplete(e,i,!1),t.fireEvent(c,r)}}),i}},{key:"_onLoadComplete",value:function(t,e,n){--this._concurrent,delete this._loading[t.url],n&&(t.img=e),t.onLoadComplete&&t.onLoadComplete(t,n),this._processPending()}},{key:"getLoadCount",value:function(){return this._pending.length+this._concurrent}},{key:"getPendingCount",value:function(){return this._pending.length}},{key:"getPending",value:function(){return this._pending}},{key:"getActiveCount",value:function(){return this._concurrent}},{key:"clearPending",value:function(){this._pending.length=0}},{key:"add",value:function(t,e){t.onLoadComplete=e,this._pending.push(t),this._processPending()}}]),t}();e.b=h},function(t,e,n){var r=n(116),i=r.Symbol;t.exports=i},function(t,e){function n(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||r)}var r=Object.prototype;t.exports=n},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function t(e,n,i,o,a){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"image/jpeg";r(this,t),this.id=e,this.face=n,this.zoom=i,this.column=o,this.row=a,this.mimeType=s,this.img=null};e.a=i},function(t,e,n){"use strict";function r(t){var e,n;this.promise=new t(function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r}),this.resolve=i(e),this.reject=i(n)}var i=n(186);t.exports.f=function(t){return new r(t)}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"b",function(){return d});var i=n(48),o=n.n(i),a=n(19),s=n.n(a),u=n(16),l=n.n(u),c=n(46),h=(n.n(c),function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=l()(t);!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(s()(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()),f=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,t),this.groundLevelOffset=0,this.recorderDirection=0,this.orientation=0,this.recordedAt=null,this.expiredAt=null,this.isPreloaded=!1,this.thumbs=new Array(6),this.thumbsLoaded=0,this.relativeXyz=null,this.relativeYaw=null,this.relativeDistance=null,this.forwardTarget=!1,this.backwardTarget=!1;var n=!0,i=!1,a=void 0;try{for(var s,u=l()(t.requiredProps);!(n=(s=u.next()).done);n=!0){var f=s.value;if(!(f in e))throw new Error("Missing required property: "+f)}}catch(t){i=!0,a=t}finally{try{!n&&u.return&&u.return()}finally{if(i)throw a}}var d=!0,p=!1,m=void 0;try{for(var g,v=l()(o()(e));!(d=(g=v.next()).done);d=!0){var y=h(g.value,2),b=y[0],w=y[1];switch(b){case"xyz":w=c.vec3.clone(w);break;case"expiredAt":case"recordedAt":if(w&&!(w instanceof Date)){var x=new Date(Date.parse(w)||Date.parse(w+"Z"));x&&(w=x)}}this[b]=w}}catch(t){p=!0,m=t}finally{try{!d&&v.return&&v.return()}finally{if(p)throw m}}};f.requiredProps=["id","xyz","srs"],e.a=f;var d=function(t,e,n){var r=c.vec2.clone([e,n]),i=null,o=1e4,a=!0,s=!1,u=void 0;try{for(var h,f=l()(t);!(a=(h=f.next()).done);a=!0){var d=h.value,p=c.vec2.sqrDist(r,d.xyz);p<o&&(o=p,i=d)}}catch(t){s=!0,u=t}finally{try{!a&&f.return&&f.return()}finally{if(s)throw u}}return i}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=h()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(l.a?l()(t,e):t.__proto__=e)}n.d(e,"a",function(){return D});var a=n(10),s=n.n(a),u=n(9),l=n.n(u),c=n(5),h=n.n(c),f=n(19),d=n.n(f),p=n(16),m=n.n(p),g=n(1),v=n.n(g),y=n(46),b=(n.n(y),n(462)),w=n(1001),x=n(333),_=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),v()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),E=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=m()(t);!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(d()(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),M=x.a.recent,S=M.fillColor,T=M.strokeColor,C=x.a.history,I=C.fillColor,O=C.strokeColor,A=x.a.depth,L=A.fillColor,R=A.strokeColor,N=function(t,e){var n=E(t,3);return[n[0],n[1],n[2],e]},P=function(t){return Array.isArray(t)?"rgba("+t.join(",")+")":t},k=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#fff";return{fill:P(t),stroke:P(e)}},D={recent:{normal:k(N(S,.8),T),highlight:k(N(S,.4),T),navigation:k(N(S,.8),T),navigationHighlight:k(N(S,.4),T),depth:k(N(L,.8),R),depthHighlight:k(N(L,.4),R)},history:{normal:k(N(I,.8),O),highlight:k(N(I,.4),O),navigation:k(N(I,.8),O),navigationHighlight:k(N(I,.4),O),depth:k(N(L,.8),R),depthHighlight:k(N(L,.4),R)}},F=96,j=function t(){F=CM.El.getPPI(),window.removeEventListener("load",t)};window.addEventListener("load",j),CM.aperture.EVENT_RECORDING_CLICK="recordingclick",CM.aperture.EVENT_RECORDING_MOUSEDOWN="recordingmousedown";var U=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.viewer,o=t.markerShapeRadius,a=void 0===o?CM.shapes.DEFAULT_SHAPE_SCALE:o,u=t.recordingMarkerStyles,l=void 0===u?D:u;r(this,e);var c=i(this,(e.__proto__||s()(e)).call(this,{viewer:n})),h=c._markerShape=new CM.shapes.Circle(a);return c._markerPoints=h.getPoints(),c._markerStyles=l,c._markers=[],c._onLayerPointerMove=c._onLayerPointerMove.bind(c),c._onLayerPointerOut=c._onLayerPointerOut.bind(c),c._onLayerInteractionDown=c._onLayerInteractionDown.bind(c),c._onLayerInteractionUp=c._onLayerInteractionUp.bind(c),c._createCanvas(),c}return o(e,t),_(e,[{key:"_createCanvas",value:function(){var t=this._canvas=CM.El.create("canvas",{width:this._camera.width,height:this._camera.height,styles:{position:"absolute",left:0,top:0,width:"100%",height:"100%"}});this._context=t.getContext("2d");var e=this._viewer._viewerWrapper,n=window.document;CM.El.addEvent(e,"pointerdown",this._onLayerInteractionDown),CM.El.addEvent(n,"pointermove",this._onLayerPointerMove),CM.El.addEvent(e,"pointerout",this._onLayerPointerOut),CM.El.addEvent(n,"pointerup",this._onLayerInteractionUp)}},{key:"toElement",value:function(){return this._canvas}},{key:"destroy",value:function(){this._viewer._viewerWrapper.removeEventListener("pointerdown",this._onLayerInteractionDown),this._viewer._viewerWrapper.removeEventListener("pointerout",this._onLayerPointerMove),document.removeEventListener("pointermove",this._onLayerPointerMove),document.removeEventListener("pointerup",this._onLayerInteractionUp)}},{key:"_onLayerInteractionDown",value:function(t){var e=this._downPos=this._lastPos={x:t.pageX,y:t.pageY};this._checkHighlights(e);var n=this._highlightedMarker;n&&this.fireEvent(CM.aperture.EVENT_RECORDING_MOUSEDOWN,n.recording)}},{key:"_onLayerPointerMove",value:function(t){var e=this._lastPos={x:t.pageX,y:t.pageY};this._checkHighlights(e)}},{key:"_onLayerPointerOut",value:function(t){this._removeHighlightedMarker(),this._downPos=null}},{key:"_onLayerInteractionUp",value:function(t){var e=t.pageX,n=t.pageY,r=t.pointerType,i=t.altKey,o=t.ctrlKey,a=t.shiftKey,s={x:e,y:n},u="touch"===r;this._simulateClick(s,u,{altKey:i,ctrlKey:o,shiftKey:a})}},{key:"_simulateClick",value:function(t,e,n){var r=this._downPos;if(r){this._downPos=null;var i=Math.max(Math.abs(t.x-r.x),Math.abs(t.y-r.y));if(!(e&&i>.1*F||i>.1*F)){var o=this._highlightedMarker;o&&this.fireEvent(CM.aperture.EVENT_RECORDING_CLICK,o.recording,n)}}}},{key:"_checkHighlights",value:function(t){if(t){var e=CM.El.getPagePos(this._canvas),n=t.x-e.x,r=t.y-e.y,i=!1,o=null;this._markers.forEach(function(t){if(t.visible){var e=Object(w.a)(t.vertices,n,r);i|=t.highlight!==e,t.highlight=e,e&&(o=t)}}),this._highlightedMarker=o,i&&this.invalidateDisplay()}}},{key:"_removeHighlightedMarker",value:function(){this._highlightedMarker&&(this._highlightedMarker.highlight=!1,this._highlightedMarker=null,this.invalidateDisplay())}},{key:"setRecordings",value:function(t,e){this._currentRecording=e;var n=t.map(function(t){return{recording:t,vertices:null,visible:!1,highlight:!1,dz:Math.abs(t.relativeXyz[2])}});n.sort(function(t,e){return e.dz-t.dz}),this._markers=n,this._targetMarker=null,this.invalidateDisplay(),this._checkHighlights(this._lastPos)}},{key:"clear",value:function(){var t=this._camera;this._context.clearRect(0,0,t.width,t.height)}},{key:"setMarkerStyles",value:function(t){this._markerStyles=t}},{key:"animateFrame",value:function(t){var e=CM.Proj4.getProj4(),n=this._canvas,r=this._context,i=this._camera,o=this._markers,a=this._markerPoints,s=this._markerStyles,u=this._visible,l=this._panoramaTransition,c=this._currentRecording,h=i.width,f=i.height,d=i.projectionMatrix;i.xyz;if(n.width!==h&&(n.width=h),n.height!==f&&(n.height=f),r.clearRect(0,0,h,f),u&&0!==o.length&&!l&&c){var p=e.defs(c.srs),m=p&&p.to_meter||1,g=y.vec3.create(),v=y.vec3.create();o.forEach(function(t){var e=t.recording;if(y.vec3.copy(g,e.relativeXyz),t.visible=!0,g[2]-=m*e.groundLevelOffset,y.vec3.transformMat3(v,g,d),v[2]>0)return void(t.visible=!1);var n=[],i=void 0;a.forEach(function(t){i=y.vec3.add(y.vec3.create(),t,g),y.vec3.transformMat3(i,i,d),i[2]<=0&&n.push(i)});var o=n.length;if(o<3)return void(t.visible=!1);var u=void 0;u=e.forwardTarget?t.highlight?"navigationHighlight":"navigation":e.hasDepthMap?t.highlight?"depthHighlight":"depth":t.highlight?"highlight":"normal";var l=s[u];r.fillStyle=l.fill,r.strokeStyle=l.stroke,r.beginPath(),r.lineJoin="round",r.lineWidth=1.5,n.forEach(function(t){y.vec3.scale(t,t,1/t[2])}),t.vertices=n,i=n[o-1],r.moveTo(i[0],i[1]),n.forEach(function(t){r.lineTo(t[0],t[1])}),r.closePath(),r.fill(),r.stroke()})}}},{key:"_drawCameraInfo",value:function(){var t=this._context,e=this._camera,n="Camera: Y:"+e.yaw.toFixed(3)+" P:"+e.pitch.toFixed(3);t.save(),t.font="12px calibri",t.textAlign="left",t.textBaseline="top",t.shadowColor="#000000",t.shadowOffsetX=1,t.shadowOffsetY=1,t.shadowBlur=2,t.fillStyle="#ff8800",t.fillText(n,10,10),t.restore()}},{key:"_drawCenterCrossHairs",value:function(t,e){var n=this._context;n.strokeStyle="#000000",n.lineWidth=.5,n.beginPath(),n.moveTo(0,e/2),n.lineTo(t,e/2),n.moveTo(t/2,0),n.lineTo(t/2,e),n.closePath(),n.stroke()}}]),e}(b.a);e.b=U},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=h()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(l.a?l()(t,e):t.__proto__=e)}n.d(e,"a",function(){return y});var a=n(10),s=n.n(a),u=n(9),l=n.n(u),c=n(5),h=n.n(c),f=n(4),d=n.n(f),p=n(334),m=n(195),g=d.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},v={fillColor:[128,176,255,1],strokeColor:[255,255,255,1],strokeWidth:1,radius:7},y={recent:v,history:g({},v,{fillColor:[236,122,8,1]}),depth:g({},v,{fillColor:m.b.green})},b=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r(this,e),i(this,(e.__proto__||s()(e)).call(this,g({},v,t)))}return o(e,t),e}(p.a);e.b=b},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=h()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(l.a?l()(t,e):t.__proto__=e)}var a=n(10),s=n.n(a),u=n(9),l=n.n(u),c=n(5),h=n.n(c),f=n(17),d=n.n(f),p={fillColor:[0,255,0,0],strokeColor:[0,255,0,1],strokeWidth:2,radius:0},m=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.fillColor,o=void 0===n?p.fillColor:n,a=t.strokeColor,u=void 0===a?p.strokeColor:a,l=t.strokeWidth,c=void 0===l?p.strokeWidth:l,h=t.radius,f=void 0===h?p.radius:h;r(this,e);var m=o&&(!Array.isArray(o)||o.length<4||o[3]>0)?new d.a.style.Fill({color:o}):void 0,g=c>0&&u&&(!Array.isArray(u)||u.length<4||u[3]>0)?new d.a.style.Stroke({color:u,width:c}):void 0,v=f>0?new d.a.style.Circle({radius:f,fill:m,stroke:g}):void 0;return i(this,(e.__proto__||s()(e)).call(this,{fill:m,stroke:g,image:v}))}return o(e,t),e}(d.a.style.Style);e.a=m},function(t,e,n){"use strict";(function(t,r){function i(t){if(t){var e=t.length||t.byteLength,n=y.log2(e);_[n].push(t)}}function o(t){i(t.buffer)}function a(t){var t=y.nextPow2(t),e=y.log2(t),n=_[e];return n.length>0?n.pop():new ArrayBuffer(t)}function s(t){return new Uint8Array(a(t),0,t)}function u(t){return new Uint16Array(a(2*t),0,t)}function l(t){return new Uint32Array(a(4*t),0,t)}function c(t){return new Int8Array(a(t),0,t)}function h(t){return new Int16Array(a(2*t),0,t)}function f(t){return new Int32Array(a(4*t),0,t)}function d(t){return new Float32Array(a(4*t),0,t)}function p(t){return new Float64Array(a(8*t),0,t)}function m(t){return w?new Uint8ClampedArray(a(t),0,t):s(t)}function g(t){return new DataView(a(t),0,t)}function v(t){t=y.nextPow2(t);var e=y.log2(t),n=E[e];return n.length>0?n.pop():new r(t)}var y=n(243),b=n(1021);t.__TYPEDARRAY_POOL||(t.__TYPEDARRAY_POOL={UINT8:b([32,0]),UINT16:b([32,0]),UINT32:b([32,0]),INT8:b([32,0]),INT16:b([32,0]),INT32:b([32,0]),FLOAT:b([32,0]),DOUBLE:b([32,0]),DATA:b([32,0]),UINT8C:b([32,0]),BUFFER:b([32,0])});var w="undefined"!=typeof Uint8ClampedArray,x=t.__TYPEDARRAY_POOL;x.UINT8C||(x.UINT8C=b([32,0])),x.BUFFER||(x.BUFFER=b([32,0]));var _=x.DATA,E=x.BUFFER;e.free=function(t){if(r.isBuffer(t))E[y.log2(t.length)].push(t);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(t)&&(t=t.buffer),!t)return;var e=t.length||t.byteLength,n=0|y.log2(e);_[n].push(t)}},e.freeUint8=e.freeUint16=e.freeUint32=e.freeInt8=e.freeInt16=e.freeInt32=e.freeFloat32=e.freeFloat=e.freeFloat64=e.freeDouble=e.freeUint8Clamped=e.freeDataView=o,e.freeArrayBuffer=i,e.freeBuffer=function(t){E[y.log2(t.length)].push(t)},e.malloc=function(t,e){if(void 0===e||"arraybuffer"===e)return a(t);switch(e){case"uint8":return s(t);case"uint16":return u(t);case"uint32":return l(t);case"int8":return c(t);case"int16":return h(t);case"int32":return f(t);case"float":case"float32":return d(t);case"double":case"float64":return p(t);case"uint8_clamped":return m(t);case"buffer":return v(t);case"data":case"dataview":return g(t);default:return null}return null},e.mallocArrayBuffer=a,e.mallocUint8=s,e.mallocUint16=u,e.mallocUint32=l,e.mallocInt8=c,e.mallocInt16=h,e.mallocInt32=f,e.mallocFloat32=e.mallocFloat=d,e.mallocFloat64=e.mallocDouble=p,e.mallocUint8Clamped=m,e.mallocDataView=g,e.mallocBuffer=v,e.clearCache=function(){for(var t=0;t<32;++t)x.UINT8[t].length=0,x.UINT16[t].length=0,x.UINT32[t].length=0,x.INT8[t].length=0,x.INT16[t].length=0,x.INT32[t].length=0,x.FLOAT[t].length=0,x.DOUBLE[t].length=0,x.UINT8C[t].length=0,_[t].length=0,E[t].length=0}}).call(e,n(34),n(137).Buffer)},function(t,e,n){"use strict";function r(t,e,n){var r=t*e,o=i*t,a=o-t,s=o-a,u=t-s,l=i*e,c=l-e,h=l-c,f=e-h,d=r-s*h,p=d-u*h,m=p-s*f,g=u*f-m;return n?(n[0]=g,n[1]=r,n):[g,r]}t.exports=r;var i=+(Math.pow(2,27)+1)},function(t,e,n){"use strict";function r(t,e){if(i(t))return e?l(t,r(e)):[t[0].clone(),t[1].clone()];var n,c,h=0;if(o(t))n=t.clone();else if("string"==typeof t)n=s(t);else{if(0===t)return[a(0),a(1)];if(t===Math.floor(t))n=a(t);else{for(;t!==Math.floor(t);)t*=Math.pow(2,256),h-=256;n=a(t)}}if(i(e))n.mul(e[1]),c=e[0].clone();else if(o(e))c=e.clone();else if("string"==typeof e)c=s(e);else if(e)if(e===Math.floor(e))c=a(e);else{for(;e!==Math.floor(e);)e*=Math.pow(2,256),h+=256;c=a(e)}else c=a(1);return h>0?n=n.ushln(h):h<0&&(c=c.ushln(-h)),u(n,c)}var i=n(1028),o=n(476),a=n(477),s=n(1030),u=n(196),l=n(478);t.exports=r},function(t,e,n){(function(e){function n(t,e){return d[0]=t,d[1]=e,f[0]}function r(t){return f[0]=t,d[0]}function i(t){return f[0]=t,d[1]}function o(t,e){return d[1]=t,d[0]=e,f[0]}function a(t){return f[0]=t,d[1]}function s(t){return f[0]=t,d[0]}function u(t,e){return p.writeUInt32LE(t,0,!0),p.writeUInt32LE(e,4,!0),p.readDoubleLE(0,!0)}function l(t){return p.writeDoubleLE(t,0,!0),p.readUInt32LE(0,!0)}function c(t){return p.writeDoubleLE(t,0,!0),p.readUInt32LE(4,!0)}var h=!1;if("undefined"!=typeof Float64Array){var f=new Float64Array(1),d=new Uint32Array(f.buffer);f[0]=1,h=!0,1072693248===d[1]?(t.exports=function(t){return f[0]=t,[d[0],d[1]]},t.exports.pack=n,t.exports.lo=r,t.exports.hi=i):1072693248===d[0]?(t.exports=function(t){return f[0]=t,[d[1],d[0]]},t.exports.pack=o,t.exports.lo=a,t.exports.hi=s):h=!1}if(!h){var p=new e(8);t.exports=function(t){return p.writeDoubleLE(t,0,!0),[p.readUInt32LE(0,!0),p.readUInt32LE(4,!0)]},t.exports.pack=u,t.exports.lo=l,t.exports.hi=c}t.exports.sign=function(e){return t.exports.hi(e)>>>31},t.exports.exponent=function(e){return(t.exports.hi(e)<<1>>>21)-1023},t.exports.fraction=function(e){var n=t.exports.lo(e),r=t.exports.hi(e),i=1048575&r;return 2146435072&r&&(i+=1<<20),[n,i]},t.exports.denormalized=function(e){return!(2146435072&t.exports.hi(e))}}).call(e,n(137).Buffer)},function(t,e,n){"use strict";function r(t){return t.cmp(new i(0))}var i=n(244);t.exports=r},function(t,e,n){"use strict";function r(t){o=t}function i(){return o}e.b=r,e.a=i;var o=null},function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"b",function(){return a}),n.d(e,"a",function(){return u}),n.d(e,"e",function(){return l}),n.d(e,"d",function(){return c}),n.d(e,"f",function(){return h});var r=n(197),i=function(t,e){return t===r.h.GOOD&&t!==e||t===r.h.OK&&e===r.h.BAD?e:t},o=function(t,e){switch(t){case r.b.POINT:return e?[e]:[];case r.b.LINESTRING:return e;case r.b.POLYGON:return e[0];default:return null}},a=function(){var t=arguments.length<=0?void 0:arguments[0];return"string"==typeof t?o.apply(void 0,arguments):o(t.type,t.coordinates)},s=function(t,e){var n=o(t,e);if(!n)return 0;var i=n.length;return i+(t===r.b.POLYGON&&i>0?-1:0)},u=function(){var t=arguments.length<=0?void 0:arguments[0];return"string"==typeof t?s.apply(void 0,arguments):s(t.type,t.coordinates)},l=function(t){return t&&t.type&&"FeatureCollection"===t.type&&t.features&&Array.isArray(t.features)},c=function(t){return t&&t.type&&"Feature"===t.type&&t.geometry&&t.geometry.type&&t.geometry.coordinates&&Array.isArray(t.geometry.coordinates)},h=function(t,e){return t===r.b.POINT&&1===e||t===r.b.LINESTRING&&e>=2||t===r.b.POLYGON&&e>=3}},function(t,e,n){function r(t){return"symbol"==typeof t||o(t)&&i(t)==a}var i=n(136),o=n(162),a="[object Symbol]";t.exports=r},function(t,e){var n={isInstalledAsNpmPackage:function(){return!!this.sha},hasVersionInRef:function(){return!!(this.ref&&this.ref.indexOf(this.version)>=0)}};t.exports=function(t){var e=Object.create(n);e.name=t.name,e.version=t.version,e.sha=t.gitHead,e.abbreviatedSha=t.gitHead&&t.gitHead.slice(0,10);var r=t._requested,i=r&&r.type;switch(t._id&&!r&&(i="npm2"),i){case"version":e.ref=r.spec;break;case"range":case"tag":case"npm2":e.ref=t.version;break;default:e.ref=(t._from||"").split("#")[1]}return e}},function(t,e){t.exports={name:"streetsmart",private:!0,version:"17.2.1",description:"Street Smart","jsnext:main":"main.js",main:"build/StreetSmart.js",scripts:{build:"webpack","build:dev":"cross-env NODE_ENV=development npm run build","build:prod":"cross-env NODE_ENV=production npm run build && npm run licenses-to-csv","build:api":"cross-env SS_PROJECT=API npm run build","build:api:dev":"cross-env NODE_ENV=development npm run build:api","build:api:prod":"cross-env NODE_ENV=production npm run build:api","build:docs:api:prod":"documentation build src/docs/additional-documentation src/js/api/** src/js/components/PanoramaViewer.js src/js/components/ObliqueViewer.js src/js/components/base/IntlComponent.js src/js/events/index.js src/js/events/panoramaViewer.js src/js/events/measurement.js src/js/actions/viewermanager.js src/js/consts/PanoramaViewerUi.js src/js/consts/ObliqueViewerUi.js -o build/documentation -f html --shallow --theme src/docs/custom_theme","build:iconfont":"node ./scripts/buildIconFont.js","build:icons":"node ./scripts/buildIcons.js","build:version":"node ./scripts/buildVersionFile.js",dist:"webpack --display-reasons","dist:dev":"cross-env NODE_ENV=development npm run dist","dist:prod":"cross-env NODE_ENV=production npm run dist","dist:api":"cross-env SS_PROJECT=API npm run dist","dist:api:dev":"cross-env NODE_ENV=development npm run dist:api","dist:api:prod":"cross-env NODE_ENV=production npm run dist:api","dist:api:prod:labs":"cross-env DEPLOY_ENV=labs npm run dist:api:prod","dist:api:prod:staging":"cross-env DEPLOY_ENV=staging npm run dist:api:prod","dist:api:prod:live":"cross-env DEPLOY_ENV=live npm run dist:api:prod","dist:api:react-example:prod":"npm run dist:api:prod && cross-env SS_PROJECT=API_EXAMPLE SS_API_FILE=src/js/api_example/api-react.js SS_INDEX_PATH=src/html-templates/api-react.template.html npm run dist:prod",docs:"jsdoc src/js -r --readme README.md -d docs",eslint:"eslint ./src ./tests ./scripts","licenses-to-csv":"nlf --no-dev --reach 1 --csv > build/assets/street-smart-open-source-software-list.csv","manage:translations":"node ./scripts/translationRunner.js",start:"webpack-dev-server --port","start:dev":"cross-env NODE_ENV=development npm run start --port 8080","start:prod":"cross-env NODE_ENV=production npm run start --port 8082","start:api":"cross-env SS_PROJECT=API webpack-dev-server --port 8081","start:api:react-example":'node scripts/api_example_hack.js && concurrently --raw "npm run watch:api" "cross-env SS_PROJECT=API_EXAMPLE SS_API_FILE=src/js/api_example/api-react.js SS_INDEX_PATH=src/html-templates/api-react.template.html npm run start"',"start:api:dev":"cross-env NODE_ENV=development npm run start:api","start:api:prod":"cross-env NODE_ENV=production npm run start:api","start:public":"webpack-dev-server --host 0.0.0.0","start:public:dev":"cross-env NODE_ENV=development npm run start:public","start:public:prod":"cross-env NODE_ENV=production npm run start:public","start:public:api":"cross-env SS_PROJECT=API npm run start:public","start:public:api:dev":"cross-env NODE_ENV=development npm run start:public:api","start:public:api:prod":"cross-env NODE_ENV=production npm run start:public:api",test:"cross-env NODE_ENV=test karma start","test:ci":"cross-env NODE_ENV=test karma start --single-run --no-colors --browsers PhantomJS --reporters junit,progress",watch:"webpack --watch","watch:api":"cross-env SS_PROJECT=API webpack --watch"},author:"CycloMedia Technology B.V.",license:"UNLICENSED",devDependencies:{babel:"^6.23.0","babel-cli":"^6.24.1","babel-core":"^6.24.1","babel-eslint":"^7.2.2","babel-loader":"^7.0.0","babel-plugin-espower":"^2.3.2","babel-plugin-react-intl":"^2.3.1","babel-plugin-react-transform":"^2.0.2","babel-plugin-rewire":"^1.1.0","babel-preset-airbnb":"^2.2.3","babel-preset-es2015":"^6.24.1","babel-preset-react":"^6.24.1","babel-preset-stage-0":"^6.24.1",concurrently:"^3.4.0","copy-webpack-plugin":"^4.0.1","cross-env":"^4.0.0","css-loader":"^0.28.0","deep-freeze":"^0.0.1",documentation:"^4.0.0-rc.0",enzyme:"^2.8.2",eslint:"^3.19.0","eslint-config-airbnb":"^14.1.0","eslint-plugin-import":"^2.2.0","eslint-plugin-jsx-a11y":"^4.0.0","eslint-plugin-react":"^6.10.3","extract-text-webpack-plugin":"^2.1.0",favicons:"^4.8.3","file-loader":"^0.11.0",fontmin:"^0.9.6","glslify-clean":"file:./pkg/glslify-clean","glslify-import":"^3.0.0","glslify-loader":"^1.0.2","html-webpack-plugin":"^2.28.0",jsdoc:"^3.4.3","json-loader":"^0.5.4",karma:"^1.6.0","karma-chrome-launcher":"^2.0.0","karma-coverage":"^1.1.1","karma-espower-preprocessor":"^1.1.0","karma-firefox-launcher":"^1.0.1","karma-htmlfile-reporter":"^0.3.5","karma-ie-launcher":"^1.0.0","karma-istanbuljs-reporter":"^0.1.1","karma-junit-reporter":"^1.2.0","karma-mocha":"^1.3.0","karma-mocha-reporter":"^2.2.3","karma-phantomjs-launcher":"^1.0.4","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.7","karma-webpack":"^2.0.3",less:"^2.7.2","less-loader":"^4.0.3",minimist:"^1.2.0",mocha:"^3.2.0","modernizr-loader":"^1.0.1",nlf:"^2.0.0","phantomjs-polyfill-find":"^0.0.1","phantomjs-prebuilt":"^2.1.14","power-assert":"^1.4.2","raw-loader":"^0.5.1","react-intl-translations-manager":"^5.0.0","react-lorem-component":"^0.11.0","react-test-renderer":"^15.5.4","react-transform-hmr":"^1.0.4","redux-mock-store":"^1.2.3",sinon:"^2.1.0","style-loader":"^0.16.1","url-loader":"^0.5.8","webfonts-generator":"^0.4.0",webpack:"^2.4.1","webpack-dev-server":"^2.4.4"},dependencies:{"@webprofijt/shp-write":"^0.4.1","ampersand-events":"^2.0.2","babel-plugin-transform-runtime":"^6.23.0","babel-polyfill":"^6.23.0","babel-runtime":"^6.23.0","blueimp-canvas-to-blob":"^3.7.0",bootstrap:"^3.3.7","bootstrap-slider":"^9.7.3",bootswatch:"^3.3.7",cdt2d:"^1.0.0",classnames:"^2.2.5",cuid:"^1.3.8","custom-event-polyfill":"^0.3.0","d3-dsv":"^1.0.5","file-saver":"^1.3.3","filesaver.js":"^0.2.0","gl-matrix":"2.3.2","glsl-y-hsv":"^1.0.0",history:"^3.3.0",intl:"^1.2.5",jquery:"^3.2.1",jsts:"^1.4.0",jszip:"^2.5.0",keycode:"^2.1.8",lodash:"^4.17.4",loglevel:"^1.4.1","loglevel-local-storage":"^1.1.2",modernizr:"^3.5.0",myclass:"^1.0.2","npm-git-info":"^1.0.3",openlayers:"^4.1.0","poly-to-pslg":"^1.0.1",proj4:"2.3.15","prop-types":"^15.5.8",raf:"^3.3.0",react:"^15.5.4","react-bootstrap":"^0.31.0","react-bootstrap-table":"^3.3.0","react-dom":"^15.5.4","react-intl":"^2.2.3","react-markdown":"^2.5.0","react-redux":"^5.0.4","react-router":"^3.0.5","react-router-bootstrap":"^0.23.3","react-router-redux":"^4.0.8","react-twitter-typeahead":"^1.1.12","react-user-tour":"^2.5.0",redux:"^3.6.0","redux-actions":"^2.0.2","redux-promise":"^0.5.3","redux-thunk":"^2.2.0",screenfull:"^3.2.0",shpjs:"3.3.2","storage-available":"^1.0.0",three:"^0.84.0","typeahead.js":"^0.11.1","typeahead.js-bootstrap-css":"^1.2.1","ua-parser-js":"^0.7.12",vectorious:"^4.8.1","whatwg-fetch":"^2.0.3"},glslify:{transform:["glslify-import",["glslify-clean",{disabled:"development",post:!0}]]}}},function(t,e,n){function r(t){return"string"==typeof t||!o(t)&&a(t)&&i(t)==s}var i=n(136),o=n(163),a=n(162),s="[object String]";t.exports=r},function(t,e,n){"use strict";function r(t){if("undefined"!=typeof Reflect&&"function"==typeof Reflect.ownKeys)return Reflect.ownKeys(t);var e=Object.getOwnPropertyNames(t);return"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(t))),e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r},function(t,e,n){"use strict";var r=n(15);n.n(r);e.a=Object(r.defineMessages)({error:{id:"error.error",defaultMessage:"Error"},notImplemented:{id:"error.notImplemented",defaultMessage:"Error: not implemented: '{method}'"},duplicateKey:{id:"error.duplicateKey",defaultMessage:"Error: duplicate key '{key}'"},unknownKey:{id:"error.unknownKey",defaultMessage:"Error: unknown key '{key}'"},invalidKey:{id:"error.invalidKey",defaultMessage:"Error: invalid key '{key}'"}})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(58),o=r(i),a=n(66),s=r(a),u="function"==typeof s.default&&"symbol"==typeof o.default?function(t){return typeof t}:function(t){return t&&"function"==typeof s.default&&t.constructor===s.default&&t!==s.default.prototype?"symbol":typeof t};e.default="function"==typeof s.default&&"symbol"===u(o.default)?function(t){return void 0===t?"undefined":u(t)}:function(t){return t&&"function"==typeof s.default&&t.constructor===s.default&&t!==s.default.prototype?"symbol":void 0===t?"undefined":u(t)}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(6),o=r(i),a=n(7),s=r(a),u=n(8),l=r(u),c=n(3),h=r(c),f=n(0),d=r(f),p={label:h.default.string.isRequired,onClick:h.default.func},m={label:"Close"},g=function(t){function e(){return(0,o.default)(this,e),(0,s.default)(this,t.apply(this,arguments))}return(0,l.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.label,n=t.onClick;return d.default.createElement("button",{type:"button",className:"close",onClick:n},d.default.createElement("span",{"aria-hidden":"true"},"×"),d.default.createElement("span",{className:"sr-only"},e))},e}(d.default.Component);g.propTypes=p,g.defaultProps=m,e.default=g,t.exports=e.default},function(t,e,n){"use strict";function r(t){function e(e,n,r,i,o,a){var s=i||"<<anonymous>>",u=a||r;if(null==n[r])return e?new Error("Required "+o+" `"+u+"` was not specified in `"+s+"`."):null;for(var l=arguments.length,c=Array(l>6?l-6:0),h=6;h<l;h++)c[h-6]=arguments[h];return t.apply(void 0,[n,r,s,o,u].concat(c))}var n=e.bind(null,!1);return n.isRequired=e.bind(null,!0),n}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),u=n(6),l=r(u),c=n(7),h=r(c),f=n(8),d=r(f),p=n(12),m=r(p),g=n(0),v=r(g),y=n(3),b=r(y),w=n(247),x=r(w),_=n(201),E=r(_),M=n(14),S={vertical:b.default.bool,justified:b.default.bool,block:(0,x.default)(b.default.bool,function(t){var e=t.block,n=t.vertical;return e&&!n?new Error("`block` requires `vertical` to be set to have any effect"):null})},T={block:!1,justified:!1,vertical:!1},C=function(t){function e(){return(0,l.default)(this,e),(0,h.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t,e=this.props,n=e.block,r=e.justified,i=e.vertical,a=e.className,u=(0,s.default)(e,["block","justified","vertical","className"]),l=(0,M.splitBsProps)(u),c=l[0],h=l[1],f=(0,o.default)({},(0,M.getClassSet)(c),(t={},t[(0,M.prefix)(c)]=!i,t[(0,M.prefix)(c,"vertical")]=i,t[(0,M.prefix)(c,"justified")]=r,t[(0,M.prefix)(E.default.defaultProps,"block")]=n,t));return v.default.createElement("div",(0,o.default)({},h,{className:(0,m.default)(a,f)}))},e}(v.default.Component);C.propTypes=S,C.defaultProps=T,e.default=(0,M.bsClass)("btn-group",C),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),u=n(6),l=r(u),c=n(7),h=r(c),f=n(8),d=r(f),p=n(12),m=r(p),g=n(0),v=r(g),y=n(3),b=r(y),w=n(14),x={glyph:b.default.string.isRequired},_=function(t){function e(){return(0,l.default)(this,e),(0,h.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t,e=this.props,n=e.glyph,r=e.className,i=(0,s.default)(e,["glyph","className"]),a=(0,w.splitBsProps)(i),u=a[0],l=a[1],c=(0,o.default)({},(0,w.getClassSet)(u),(t={},t[(0,w.prefix)(u,n)]=!0,t));return v.default.createElement("span",(0,o.default)({},l,{className:(0,m.default)(r,c)}))},e}(v.default.Component);_.propTypes=x,e.default=(0,w.bsClass)("glyphicon",_),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){t.offsetHeight}function o(t,e){var n=e["offset"+(0,C.default)(t)],r=A[t];return n+parseInt((0,b.default)(e,r[0]),10)+parseInt((0,b.default)(e,r[1]),10)}e.__esModule=!0;var a=n(11),s=r(a),u=n(13),l=r(u),c=n(6),h=r(c),f=n(7),d=r(f),p=n(8),m=r(p),g=n(12),v=r(g),y=n(248),b=r(y),w=n(0),x=r(w),_=n(3),E=r(_),M=n(513),S=r(M),T=n(510),C=r(T),I=n(47),O=r(I),A={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]},L={in:E.default.bool,mountOnEnter:E.default.bool,unmountOnExit:E.default.bool,transitionAppear:E.default.bool,timeout:E.default.number,onEnter:E.default.func,onEntering:E.default.func,onEntered:E.default.func,onExit:E.default.func,onExiting:E.default.func,onExited:E.default.func,dimension:E.default.oneOfType([E.default.oneOf(["height","width"]),E.default.func]),getDimensionValue:E.default.func,role:E.default.string},R={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,transitionAppear:!1,dimension:"height",getDimensionValue:o},N=function(t){function e(n,r){(0,h.default)(this,e);var i=(0,d.default)(this,t.call(this,n,r));return i.handleEnter=i.handleEnter.bind(i),i.handleEntering=i.handleEntering.bind(i),i.handleEntered=i.handleEntered.bind(i),i.handleExit=i.handleExit.bind(i),i.handleExiting=i.handleExiting.bind(i),i}return(0,m.default)(e,t),e.prototype.handleEnter=function(t){var e=this._dimension();t.style[e]="0"},e.prototype.handleEntering=function(t){var e=this._dimension();t.style[e]=this._getScrollDimensionValue(t,e)},e.prototype.handleEntered=function(t){var e=this._dimension();t.style[e]=null},e.prototype.handleExit=function(t){var e=this._dimension();t.style[e]=this.props.getDimensionValue(e,t)+"px",i(t)},e.prototype.handleExiting=function(t){var e=this._dimension();t.style[e]="0"},e.prototype._dimension=function(){return"function"==typeof this.props.dimension?this.props.dimension():this.props.dimension},e.prototype._getScrollDimensionValue=function(t,e){return t["scroll"+(0,C.default)(e)]+"px"},e.prototype.render=function(){var t=this.props,e=t.onEnter,n=t.onEntering,r=t.onEntered,i=t.onExit,o=t.onExiting,a=t.className,u=(0,l.default)(t,["onEnter","onEntering","onEntered","onExit","onExiting","className"]);delete u.dimension,delete u.getDimensionValue;var c=(0,O.default)(this.handleEnter,e),h=(0,O.default)(this.handleEntering,n),f=(0,O.default)(this.handleEntered,r),d=(0,O.default)(this.handleExit,i),p=(0,O.default)(this.handleExiting,o),m={width:"width"===this._dimension()};return x.default.createElement(S.default,(0,s.default)({},u,{"aria-expanded":u.role?u.in:null,className:(0,v.default)(a,m),exitedClassName:"collapse",exitingClassName:"collapsing",enteredClassName:"collapse in",enteringClassName:"collapsing",onEnter:c,onEntering:h,onEntered:f,onExit:d,onExiting:p}))},e}(x.default.Component);N.propTypes=L,N.defaultProps=R,e.default=N,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(119),i=function(t){return t&&t.__esModule?t:{default:t}}(r),o=function(){};i.default&&(o=function(){return document.addEventListener?function(t,e,n,r){return t.removeEventListener(e,n,r||!1)}:document.attachEvent?function(t,e,n){return t.detachEvent("on"+e,n)}:void 0}()),e.default=o,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),u=n(6),l=r(u),c=n(7),h=r(c),f=n(8),d=r(f),p=n(12),m=r(p),g=n(0),v=r(g),y=n(33),b=r(y),w=n(1210),x=r(w),_=n(1211),E=r(_),M=n(1212),S=r(M),T=n(1213),C=r(T),I=n(1214),O=r(I),A=n(1215),L=r(A),R=n(14),N={componentClass:b.default},P={componentClass:"div"},k=function(t){function e(){return(0,l.default)(this,e),(0,h.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.componentClass,n=t.className,r=(0,s.default)(t,["componentClass","className"]),i=(0,R.splitBsProps)(r),a=i[0],u=i[1],l=(0,R.getClassSet)(a);return v.default.createElement(e,(0,o.default)({},u,{className:(0,m.default)(n,l)}))},e}(v.default.Component);k.propTypes=N,k.defaultProps=P,k.Heading=E.default,k.Body=x.default,k.Left=S.default,k.Right=L.default,k.List=C.default,k.ListItem=O.default,e.default=(0,R.bsClass)("media",k),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n,r,i){var a=t[e],u=void 0===a?"undefined":o(a);return s.default.isValidElement(a)?new Error("Invalid "+r+" `"+i+"` of type ReactElement supplied to `"+n+"`, expected a ReactComponent or a DOMElement. You can usually obtain a ReactComponent or DOMElement from a ReactElement by attaching a ref to it."):"object"===u&&"function"==typeof a.render||1===a.nodeType?null:new Error("Invalid "+r+" `"+i+"` of value `"+a+"` supplied to `"+n+"`, expected a ReactComponent or a DOMElement.")}e.__esModule=!0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},a=n(0),s=r(a),u=n(521),l=r(u);e.default=(0,l.default)(i)},function(t,e,n){"use strict";function r(t,e){return t="function"==typeof t?t():t,o.default.findDOMNode(t)||e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var i=n(49),o=function(t){return t&&t.__esModule?t:{default:t}}(i);t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(13),o=r(i),a=n(6),s=r(a),u=n(7),l=r(u),c=n(8),h=r(c),f=n(0),d=r(f),p=n(3),m=r(p),g=n(202),v=r(g),y=m.default.oneOfType([m.default.string,m.default.number]),b={id:function(t){var e=null;if(!t.generateChildId){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e=y.apply(void 0,[t].concat(r)),e||t.id||(e=new Error("In order to properly initialize Tabs in a way that is accessible to assistive technologies (such as screen readers) an `id` or a `generateChildId` prop to TabContainer is required"))}return e},generateChildId:m.default.func,onSelect:m.default.func,activeKey:m.default.any},w={$bs_tabContainer:m.default.shape({activeKey:m.default.any,onSelect:m.default.func.isRequired,getTabId:m.default.func.isRequired,getPaneId:m.default.func.isRequired})},x=function(t){function e(){return(0,s.default)(this,e),(0,l.default)(this,t.apply(this,arguments))}return(0,h.default)(e,t),e.prototype.getChildContext=function(){var t=this.props,e=t.activeKey,n=t.onSelect,r=t.generateChildId,i=t.id,o=r||function(t,e){return i?i+"-"+e+"-"+t:null};return{$bs_tabContainer:{activeKey:e,onSelect:n,getTabId:function(t){return o(t,"tab")},getPaneId:function(t){return o(t,"pane")}}}},e.prototype.render=function(){var t=this.props,e=t.children,n=(0,o.default)(t,["children"]);return delete n.generateChildId,delete n.onSelect,delete n.activeKey,d.default.cloneElement(d.default.Children.only(e),n)},e}(d.default.Component);x.propTypes=b,x.childContextTypes=w,e.default=(0,v.default)(x,{activeKey:"onSelect"}),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),u=n(6),l=r(u),c=n(7),h=r(c),f=n(8),d=r(f),p=n(12),m=r(p),g=n(0),v=r(g),y=n(3),b=r(y),w=n(33),x=r(w),_=n(14),E={componentClass:x.default,animation:b.default.oneOfType([b.default.bool,x.default]),mountOnEnter:b.default.bool,unmountOnExit:b.default.bool},M={componentClass:"div",animation:!0,mountOnEnter:!1,unmountOnExit:!1},S={$bs_tabContainer:b.default.shape({activeKey:b.default.any})},T={$bs_tabContent:b.default.shape({bsClass:b.default.string,animation:b.default.oneOfType([b.default.bool,x.default]),activeKey:b.default.any,mountOnEnter:b.default.bool,unmountOnExit:b.default.bool,onPaneEnter:b.default.func.isRequired,onPaneExited:b.default.func.isRequired,exiting:b.default.bool.isRequired})},C=function(t){function e(n,r){(0,l.default)(this,e);var i=(0,h.default)(this,t.call(this,n,r));return i.handlePaneEnter=i.handlePaneEnter.bind(i),i.handlePaneExited=i.handlePaneExited.bind(i),i.state={activeKey:null,activeChild:null},i}return(0,d.default)(e,t),e.prototype.getChildContext=function(){var t=this.props,e=t.bsClass,n=t.animation,r=t.mountOnEnter,i=t.unmountOnExit,o=this.state.activeKey,a=this.getContainerActiveKey(),s=null!=o?o:a,u=null!=o&&o!==a;return{$bs_tabContent:{bsClass:e,animation:n,activeKey:s,mountOnEnter:r,unmountOnExit:i,onPaneEnter:this.handlePaneEnter,onPaneExited:this.handlePaneExited,exiting:u}}},e.prototype.componentWillReceiveProps=function(t){!t.animation&&this.state.activeChild&&this.setState({activeKey:null,activeChild:null})},e.prototype.componentWillUnmount=function(){this.isUnmounted=!0},e.prototype.handlePaneEnter=function(t,e){return!!this.props.animation&&(e===this.getContainerActiveKey()&&(this.setState({activeKey:e,activeChild:t}),!0))},e.prototype.handlePaneExited=function(t){this.isUnmounted||this.setState(function(e){return e.activeChild!==t?null:{activeKey:null,activeChild:null}})},e.prototype.getContainerActiveKey=function(){var t=this.context.$bs_tabContainer;return t&&t.activeKey},e.prototype.render=function(){var t=this.props,e=t.componentClass,n=t.className,r=(0,s.default)(t,["componentClass","className"]),i=(0,_.splitBsPropsAndOmit)(r,["animation","mountOnEnter","unmountOnExit"]),a=i[0],u=i[1];return v.default.createElement(e,(0,o.default)({},u,{className:(0,m.default)(n,(0,_.prefix)(a,"content"))}))},e}(v.default.Component);C.propTypes=E,C.defaultProps=M,C.contextTypes=S,C.childContextTypes=T,e.default=(0,_.bsClass)("tab",C),t.exports=e.default},function(t,e,n){"use strict";function r(t){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(t);try{throw new Error(t)}catch(t){}}e.__esModule=!0,e.default=r},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=h()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(l.a?l()(t,e):t.__proto__=e)}var a=n(10),s=n.n(a),u=n(9),l=n.n(u),c=n(5),h=n.n(c),f=n(1),d=n.n(f),p=n(4),m=n.n(p),g=n(12),v=n.n(g),y=n(3),b=n.n(y),w=n(0),x=n.n(w),_=n(26),E=(n.n(_),n(94)),M=n(108),S=n(144),T=m.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},C=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),I=function(t){function e(){var t;r(this,e);for(var n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];var u=i(this,(t=e.__proto__||s()(e)).call.apply(t,[this].concat(o)));return u.toggleNavBar=u.toggleNavBar.bind(u),u}return o(e,t),C(e,[{key:"toggleNavBar",value:function(){this.props.onExpand&&this.props.onExpand(!this.props.expanded)}},{key:"render",value:function(){var t=this.props,e=t.className,n=t.expanded,r=t.left,i=t.leftSize,o=t.right,a=n?S.a.closeMenu:S.a.openMenu,s=46*(r&&i||0),u={flex:"0 0 "+s+"px"};return x.a.createElement("div",{className:v()("expandable-navbar","navbar","navbar-default",e,{contracted:!n})},x.a.createElement("div",{className:"navbar-menu"},x.a.createElement(_.ButtonGroup,null,x.a.createElement(M.a,T({placement:"right"},a),x.a.createElement(_.Button,{onClick:this.toggleNavBar},x.a.createElement(E.b.Menu,null))))),n&&r?x.a.createElement("div",{className:"navbar-left",style:u},this.props.left):null,n&&o?x.a.createElement("div",{className:"navbar-right"},this.props.right):null)}}]),e}(w.Component);I.propTypes={className:b.a.string,onExpand:b.a.func,expanded:b.a.bool,left:b.a.node,right:b.a.node,leftSize:b.a.number},I.defaultProps={className:void 0,onExpand:void 0,expanded:!1,left:null,right:null,leftSize:0},e.a=I},function(t,e,n){"use strict";n.d(e,"a",function(){return u}),n.d(e,"b",function(){return l});var r=n(16),i=n.n(r),o=n(492),a=(n.n(o),n(1274)),s=(n.n(a),function(t){var e=t.match(/^(.+)\.(\w+)$/i),n=e?e[2].toLowerCase():null,r={zip:"application/zip",xml:"application/xml",pdf:"application/pdf",csv:"text/csv",txt:"text/plain",jpg:"image/jpeg",png:"image/png"};return n&&n in r?r[n]:"application/octet-stream"}),u=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"canvas.png",n=arguments[2],r=n||s(e);t.toBlob(function(t){Object(a.saveAs)(t,e)},r)},l=function(t){var e=t[0],n=e.width,r=e.height,o=document.createElement("canvas");o.width=n,o.height=r;var a=o.getContext("2d"),s=!0,u=!1,l=void 0;try{for(var c,h=i()(Array.prototype.slice.call(t));!(s=(c=h.next()).done);s=!0){var f=c.value;a.drawImage(f,0,0)}}catch(t){u=!0,l=t}finally{try{!s&&h.return&&h.return()}finally{if(u)throw l}}return o}},function(t,e,n){"use strict";function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=h()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(l.a?l()(t,e):t.__proto__=e)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"d",function(){return I}),n.d(e,"e",function(){return O}),n.d(e,"a",function(){return P}),n.d(e,"b",function(){return D});var a=n(10),s=n.n(a),u=n(9),l=n.n(u),c=n(5),h=n.n(c),f=n(1),d=n.n(f),p=n(3),m=n.n(p),g=n(0),v=n.n(g),y=n(36),b=(n.n(y),n(17)),w=n.n(b),x=n(15),_=(n.n(x),n(82)),E=n(1275),M=n(1276),S=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),T=Object(x.defineMessages)({zoomIn:{id:"tooltips.zoomIn",defaultMessage:"Zoom in"},zoomOut:{id:"tooltips.zoomOut",defaultMessage:"Zoom out"}}),C=w.a.easing.easeOut,I=function(t){A(t,1)},O=function(t){A(t,-1)},A=function(t,e){var n=t.getView(),r=n.getZoom();n.animate({zoom:r+e,duration:250,easing:C})},L=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.showScaleBar,r=e.showZoomSlider,i=e.showLayerName;o(this,t),this._showScaleBar=!1,this._showLayerName=!1,this._showZoomSlider=!1,this._scaleBar=new E.a,this._layerName=new M.a,this._zoomButtons=new w.a.control.Zoom({zoomInTipLabel:Object(_.b)(T.zoomIn),zoomOutTipLabel:Object(_.b)(T.zoomOut)}),this._zoomSlider=new w.a.control.ZoomSlider,this._controlPackage=[new w.a.control.Attribution({collapsible:!1})],this.showScaleBar=n,this.showZoomSlider=r,this.showLayerName=i}return S(t,[{key:"_setControlVisibility",value:function(t,e){var n=this._controlPackage,r=n.indexOf(t);e&&r<0?n.push(t):!e&&r>=0&&n.splice(r,1)}},{key:"controlPackage",get:function(){return this._controlPackage}},{key:"showScaleBar",set:function(t){t!==this._showScaleBar&&(this._setControlVisibility(this._scaleBar,t),this._showScaleBar=t)}},{key:"scaleBar",get:function(){return this._scaleBar}},{key:"showLayerName",set:function(t){t!==this._showLayerName&&(this._setControlVisibility(this._layerName,t),this._showLayerName=t)}},{key:"layerName",get:function(){return this._layerName}},{key:"showZoomSlider",set:function(t){t!==this._showZoomSlider&&(this._setControlVisibility(this._zoomButtons,t),this._setControlVisibility(this._zoomSlider,t),this._showZoomSlider=t)}}]),t}();e.c=L;var R=function(t){function e(t){o(this,e);var n=r(this,(e.__proto__||s()(e)).call(this,t));return n.noFeatureBelowMouseFunc=function(){n.updateAddress([""])},n.hoverOverAddressFunc=function(t){n.updateAddress(t.detail.address)},addEventListener("hoverOverAddress",n.hoverOverAddressFunc,!1),addEventListener("noFeaturesBelowMouse",n.noFeatureBelowMouseFunc,!1),n.address=[""],n}return i(e,t),S(e,[{key:"componentWillUnmount",value:function(){removeEventListener("hoverOverAddress",this.hoverOverAddressFunc,!1),removeEventListener("noFeaturesBelowMouse",this.noFeatureBelowMouseFunc,!1)}},{key:"updateAddress",value:function(t){this.address=t,this.forceUpdate()}},{key:"render",value:function(){var t=this.address.map(function(t,e){return v.a.createElement("p",{key:e},t)});return""!=this.address[0]?v.a.createElement("div",{className:"address-bar ol-unselectable"},v.a.createElement("div",{className:"inner-address-bar"},t)):null}}]),e}(g.Component);R.propTypes={visible:m.a.bool.isRequired};var N=function(t){return{config:t.config}},P=Object(y.connect)(N,null,null,{withRef:!0})(R),k=function(t){function e(){return o(this,e),r(this,(e.__proto__||s()(e)).apply(this,arguments))}return i(e,t),S(e,[{key:"render",value:function(){var t=this.props.config.config.map,e=t.featureZoomLevel,n=t.maxZoomLevel,r=36+188*(1-e/n);return this.props.visible?v.a.createElement("div",{className:"feature-zoom-level ol-unselectable",style:{position:"absolute",top:r,left:12,width:14,borderTop:"2px rgba(0, 0, 0, 0.3) solid",pointerEvents:"none"},onMouseDown:function(t){t.preventDefault()}}):null}}]),e}(g.Component);k.propTypes={visible:m.a.bool.isRequired};var D=Object(y.connect)(N,null,null,{withRef:!0})(k)},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(t){if(c===setTimeout)return setTimeout(t,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(t,0);try{return c(t,0)}catch(e){try{return c.call(null,t,0)}catch(e){return c.call(this,t,0)}}}function o(t){if(h===clearTimeout)return clearTimeout(t);if((h===r||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(t);try{return h(t)}catch(e){try{return h.call(null,t)}catch(e){return h.call(this,t)}}}function a(){m&&d&&(m=!1,d.length?p=d.concat(p):g=-1,p.length&&s())}function s(){if(!m){var t=i(a);m=!0;for(var e=p.length;e;){for(d=p,p=[];++g<e;)d&&d[g].run();g=-1,e=p.length}d=null,m=!1,o(t)}}function u(t,e){this.fun=t,this.array=e}function l(){}var c,h,f=t.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(t){c=n}try{h="function"==typeof clearTimeout?clearTimeout:r}catch(t){h=r}}();var d,p=[],m=!1,g=-1;f.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];p.push(new u(t,e)),1!==p.length||m||i(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=l,f.addListener=l,f.once=l,f.off=l,f.removeListener=l,f.removeAllListeners=l,f.emit=l,f.prependListener=l,f.prependOnceListener=l,f.listeners=function(t){return[]},f.binding=function(t){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(t){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(t,e){t.exports.enlarge=function(t,e){return e[0]<t.xmin&&(t.xmin=e[0]),e[0]>t.xmax&&(t.xmax=e[0]),e[1]<t.ymin&&(t.ymin=e[1]),e[1]>t.ymax&&(t.ymax=e[1]),e[2]&&e[2]<t.zmin&&(t.zmin=e[2]),e[2]&&e[2]>t.zmax&&(t.zmax=e[2]),t},t.exports.enlargeExtent=function(t,e){return e.xmax>t.xmax&&(t.xmax=e.xmax),e.xmin<t.xmin&&(t.xmin=e.xmin),e.ymax>t.ymax&&(t.ymax=e.ymax),e.ymin<t.ymin&&(t.ymin=e.ymin),e.zmax&&e.zmax>t.zmax&&(t.zmax=e.zmax),e.zmin&&e.zmin<t.zmin&&(t.zmin=e.zmin),t},t.exports.blank=function(){return{xmin:Number.MAX_VALUE,ymin:Number.MAX_VALUE,zmin:Number.MAX_VALUE,xmax:-Number.MAX_VALUE,ymax:-Number.MAX_VALUE,zmax:-Number.MAX_VALUE}}},function(t,e,n){"use strict";var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e.encode=function(t,e){for(var n,i,o,a,s,u,l,c="",h=0;h<t.length;)n=t.charCodeAt(h++),i=t.charCodeAt(h++),o=t.charCodeAt(h++),a=n>>2,s=(3&n)<<4|i>>4,u=(15&i)<<2|o>>6,l=63&o,isNaN(i)?u=l=64:isNaN(o)&&(l=64),c=c+r.charAt(a)+r.charAt(s)+r.charAt(u)+r.charAt(l);return c},e.decode=function(t,e){var n,i,o,a,s,u,l,c="",h=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");h<t.length;)a=r.indexOf(t.charAt(h++)),s=r.indexOf(t.charAt(h++)),u=r.indexOf(t.charAt(h++)),l=r.indexOf(t.charAt(h++)),n=a<<2|s>>4,i=(15&s)<<4|u>>2,o=(3&u)<<6|l,c+=String.fromCharCode(n),64!=u&&(c+=String.fromCharCode(i)),64!=l&&(c+=String.fromCharCode(o));return c}},function(t,e,n){"use strict";var r=n(206),i=n(96),o=n(1308),a=n(556),s=n(557),u=n(366),l=n(368),c=n(558),h=n(370),f=n(1309),d=n(1310),p=n(1311),m=function(t){if(t._data instanceof c&&(t._data=t._data.getContent(),t.options.binary=!0,t.options.base64=!1,"uint8array"===i.getTypeOf(t._data))){var e=t._data;t._data=new Uint8Array(e.length),0!==e.length&&t._data.set(e,0)}return t._data},g=function(t){var e=m(t);return"string"===i.getTypeOf(e)?!t.options.binary&&r.nodebuffer?h(e,"utf-8"):t.asBinary():e},v=function(t){var e=m(this);return null===e||void 0===e?"":(this.options.base64&&(e=u.decode(e)),e=t&&this.options.binary?A.utf8decode(e):i.transformTo("string",e),t||this.options.binary||(e=i.transformTo("string",A.utf8encode(e))),e)},y=function(t,e,n){this.name=t,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=e,this.options=n,this._initialMetadata={dir:n.dir,date:n.date}};y.prototype={asText:function(){return v.call(this,!0)},asBinary:function(){return v.call(this,!1)},asNodeBuffer:function(){var t=g(this);return i.transformTo("nodebuffer",t)},asUint8Array:function(){var t=g(this);return i.transformTo("uint8array",t)},asArrayBuffer:function(){return this.asUint8Array().buffer}};var b=function(t,e){var n,r="";for(n=0;n<e;n++)r+=String.fromCharCode(255&t),t>>>=8;return r},w=function(){var t,e,n={};for(t=0;t<arguments.length;t++)for(e in arguments[t])arguments[t].hasOwnProperty(e)&&void 0===n[e]&&(n[e]=arguments[t][e]);return n},x=function(t){return t=t||{},!0!==t.base64||null!==t.binary&&void 0!==t.binary||(t.binary=!0),t=w(t,s),t.date=t.date||new Date,null!==t.compression&&(t.compression=t.compression.toUpperCase()),t},_=function(t,e,n){var r,o=i.getTypeOf(e);if(n=x(n),"string"==typeof n.unixPermissions&&(n.unixPermissions=parseInt(n.unixPermissions,8)),n.unixPermissions&&16384&n.unixPermissions&&(n.dir=!0),n.dosPermissions&&16&n.dosPermissions&&(n.dir=!0),n.dir&&(t=M(t)),n.createFolders&&(r=E(t))&&S.call(this,r,!0),n.dir||null===e||void 0===e)n.base64=!1,n.binary=!1,e=null,o=null;else if("string"===o)n.binary&&!n.base64&&!0!==n.optimizedBinaryString&&(e=i.string2binary(e));else{if(n.base64=!1,n.binary=!0,!(o||e instanceof c))throw new Error("The data of '"+t+"' is in an unsupported format !");"arraybuffer"===o&&(e=i.transformTo("uint8array",e))}var a=new y(t,e,n);return this.files[t]=a,a},E=function(t){"/"==t.slice(-1)&&(t=t.substring(0,t.length-1));var e=t.lastIndexOf("/");return e>0?t.substring(0,e):""},M=function(t){return"/"!=t.slice(-1)&&(t+="/"),t},S=function(t,e){return e=void 0!==e&&e,t=M(t),this.files[t]||_.call(this,t,null,{dir:!0,createFolders:e}),this.files[t]},T=function(t,e,n){var r,a=new c;return t._data instanceof c?(a.uncompressedSize=t._data.uncompressedSize,a.crc32=t._data.crc32,0===a.uncompressedSize||t.dir?(e=l.STORE,a.compressedContent="",a.crc32=0):t._data.compressionMethod===e.magic?a.compressedContent=t._data.getCompressedContent():(r=t._data.getContent(),a.compressedContent=e.compress(i.transformTo(e.compressInputType,r),n))):(r=g(t),r&&0!==r.length&&!t.dir||(e=l.STORE,r=""),a.uncompressedSize=r.length,a.crc32=o(r),a.compressedContent=e.compress(i.transformTo(e.compressInputType,r),n)),a.compressedSize=a.compressedContent.length,a.compressionMethod=e.magic,a},C=function(t,e){var n=t;return t||(n=e?16893:33204),(65535&n)<<16},I=function(t,e){return 63&(t||0)},O=function(t,e,n,r,s){var u,l,c,h,d=(n.compressedContent,i.transformTo("string",f.utf8encode(e.name))),p=e.comment||"",m=i.transformTo("string",f.utf8encode(p)),g=d.length!==e.name.length,v=m.length!==p.length,y=e.options,w="",x="",_="";c=e._initialMetadata.dir!==e.dir?e.dir:y.dir,h=e._initialMetadata.date!==e.date?e.date:y.date;var E=0,M=0;c&&(E|=16),"UNIX"===s?(M=798,E|=C(e.unixPermissions,c)):(M=20,E|=I(e.dosPermissions)),u=h.getHours(),u<<=6,u|=h.getMinutes(),u<<=5,u|=h.getSeconds()/2,l=h.getFullYear()-1980,l<<=4,l|=h.getMonth()+1,l<<=5,l|=h.getDate(),g&&(x=b(1,1)+b(o(d),4)+d,w+="up"+b(x.length,2)+x),v&&(_=b(1,1)+b(this.crc32(m),4)+m,w+="uc"+b(_.length,2)+_);var S="";return S+="\n\0",S+=g||v?"\0\b":"\0\0",S+=n.compressionMethod,S+=b(u,2),S+=b(l,2),S+=b(n.crc32,4),S+=b(n.compressedSize,4),S+=b(n.uncompressedSize,4),S+=b(d.length,2),S+=b(w.length,2),{fileRecord:a.LOCAL_FILE_HEADER+S+d+w,dirRecord:a.CENTRAL_FILE_HEADER+b(M,2)+S+b(m.length,2)+"\0\0\0\0"+b(E,4)+b(r,4)+d+w+m,compressedObject:n}},A={load:function(t,e){throw new Error("Load method is not defined. Is the file jszip-load.js included ?")},filter:function(t){var e,n,r,i,o=[];for(e in this.files)this.files.hasOwnProperty(e)&&(r=this.files[e],i=new y(r.name,r._data,w(r.options)),n=e.slice(this.root.length,e.length),e.slice(0,this.root.length)===this.root&&t(n,i)&&o.push(i));return o},file:function(t,e,n){if(1===arguments.length){if(i.isRegExp(t)){var r=t;return this.filter(function(t,e){return!e.dir&&r.test(t)})}return this.filter(function(e,n){return!n.dir&&e===t})[0]||null}return t=this.root+t,_.call(this,t,e,n),this},folder:function(t){if(!t)return this;if(i.isRegExp(t))return this.filter(function(e,n){return n.dir&&t.test(e)});var e=this.root+t,n=S.call(this,e),r=this.clone();return r.root=n.name,r},remove:function(t){t=this.root+t;var e=this.files[t];if(e||("/"!=t.slice(-1)&&(t+="/"),e=this.files[t]),e&&!e.dir)delete this.files[t];else for(var n=this.filter(function(e,n){return n.name.slice(0,t.length)===t}),r=0;r<n.length;r++)delete this.files[n[r].name];return this},generate:function(t){t=w(t||{},{base64:!0,compression:"STORE",compressionOptions:null,type:"base64",platform:"DOS",comment:null,mimeType:"application/zip"}),i.checkSupport(t.type),"darwin"!==t.platform&&"freebsd"!==t.platform&&"linux"!==t.platform&&"sunos"!==t.platform||(t.platform="UNIX"),"win32"===t.platform&&(t.platform="DOS");var e,n,r=[],o=0,s=0,c=i.transformTo("string",this.utf8encode(t.comment||this.comment||""));for(var h in this.files)if(this.files.hasOwnProperty(h)){var f=this.files[h],m=f.options.compression||t.compression.toUpperCase(),g=l[m];if(!g)throw new Error(m+" is not a valid compression method !");var v=f.options.compressionOptions||t.compressionOptions||{},y=T.call(this,f,g,v),x=O.call(this,h,f,y,o,t.platform);o+=x.fileRecord.length+y.compressedSize,s+=x.dirRecord.length,r.push(x)}var _="";_=a.CENTRAL_DIRECTORY_END+"\0\0\0\0"+b(r.length,2)+b(r.length,2)+b(s,4)+b(o,4)+b(c.length,2)+c;var E=t.type.toLowerCase();for(e="uint8array"===E||"arraybuffer"===E||"blob"===E||"nodebuffer"===E?new p(o+s+_.length):new d(o+s+_.length),n=0;n<r.length;n++)e.append(r[n].fileRecord),e.append(r[n].compressedObject.compressedContent);for(n=0;n<r.length;n++)e.append(r[n].dirRecord);e.append(_);var M=e.finalize();switch(t.type.toLowerCase()){case"uint8array":case"arraybuffer":case"nodebuffer":return i.transformTo(t.type.toLowerCase(),M);case"blob":return i.arrayBuffer2Blob(i.transformTo("arraybuffer",M),t.mimeType);case"base64":return t.base64?u.encode(M):M;default:return M}},crc32:function(t,e){return o(t,e)},utf8encode:function(t){return i.transformTo("string",f.utf8encode(t))},utf8decode:function(t){return f.utf8decode(t)}};t.exports=A},function(t,e,n){"use strict";e.STORE={magic:"\0\0",compress:function(t,e){return t},uncompress:function(t){return t},compressInputType:null,uncompressInputType:null},e.DEFLATE=n(1298)},function(t,e,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(t,e,n){"use strict";(function(e){t.exports=function(t,n){return new e(t,n)},t.exports.test=function(t){return e.isBuffer(t)}}).call(e,n(137).Buffer)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(1),o=n.n(i),a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),o()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=function(){function t(e,n,i,o,a,s,u,l,c,h,f){r(this,t),this.focalLength=e,this.ppX=n,this.ppY=i,this.imageWidth=o,this.imageHeight=a,this.k1=s,this.k2=u,this.p1=l,this.p2=c,this.alpha=h,this.delta=f}return a(t,[{key:"toJson",value:function(){return{focalLength:this.focalLength,ppX:this.ppX,ppY:this.ppY,imageWidth:this.imageWidth,imageHeight:this.imageHeight,k1:this.k1,k2:this.k2,p1:this.p1,p2:this.p2,alpha:this.alpha,delta:this.delta}}}],[{key:"fromJson",value:function(e){return new t(e.focalLength,e.ppX,e.ppY,e.imageWidth,e.imageHeight,e.k1,e.k2,e.p1,e.p2,e.alpha,e.delta)}}]),t}();e.a=s},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=p()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(f.a?f()(t,e):t.__proto__=e)}var s=n(80),u=n.n(s),l=n(10),c=n.n(l),h=n(9),f=n.n(h),d=n(5),p=n.n(d),m=n(1),g=n.n(m),v=n(4),y=n.n(v),b=n(17),w=n.n(b),x=n(15),_=(n.n(x),n(173)),E=n(333),M=n(1333),S=n(567),T=y.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},C=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),g()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),I=(Object(x.defineMessages)({layerName:{id:"layer.ViewingConeLayer.name",description:"Default viewing cone layer name",defaultMessage:"Viewing cone layer"}}),void 0);addEventListener(S.a.PANORAMA_CREATED,function(t){I&&I.createFeature(t.detail.panoramaId,t.detail.viewerData,t.detail.colorStyle)},!1),addEventListener(S.a.PANORAMA_UPDATED,function(t){I&&I.updateFeature(t.detail.panoramaId,t.detail.viewerData)},!1),addEventListener(S.a.PANORAMA_DELETED,function(t){I&&I.deleteFeature(t.detail.panoramaId)},!1);var O=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r(t,[]);i(this,e);var a=o(this,(e.__proto__||c()(e)).call(this,T({},e.defaults,n)));return a.updateFeature=a.updateFeature.bind(a),a.colorStyle=null,I=a,a.previousPanoramas||(a.previousPanoramas=new u.a),a.toMapLayer(),a}return a(e,t),C(e,[{key:"_getMapSourceOptions",value:function(){}},{key:"_getMapLayerOptions",value:function(){return{visible:this.visible,updateWhileInteracting:!0}}},{key:"getFeatureStyle",value:function(){return function(t,e){if("cone"===t.get("type")){var n=t.get("viewerData"),r=t.get("color");return[new M.a({hFov:n.hFov,yaw:n.yaw,color:r}),new E.b({fillColor:r.color})]}return null}}},{key:"createFeature",value:function(t,e,n){var r=new w.a.geom.Point([0,0]),i=new w.a.Feature(r);i.setId("cone_"+t),i.set("viewerData",e),i.set("color",n),i.set("type","cone"),this.mapLayer.getSource().addFeature(i)}},{key:"updateFeature",value:function(t,e){var n=this.mapLayer.getSource();if(e&&e.xyz){var r=e.xyz,i=e.srs,o=this.mapProjection;i!==o&&(r=w.a.proj.transform(r,i,o));var a=n.getFeatureById("cone_"+t);if(a){a.set("viewerData",e);a.getGeometry().setCoordinates([r[0],r[1]])}}}},{key:"deleteFeature",value:function(t){var e=this.mapLayer.getSource(),n=e.getFeatureById("cone_"+t);n&&e.removeFeature(n)}}]),e}(_.a);O.defaults={id:"cyclorama-viewer-cones",type:"ViewingConeLayer",nameIntl:"layer.ViewingConeLayer.name",visible:!0},e.a=O},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=c()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(u.a?u()(t,e):t.__proto__=e)}var s=n(9),u=n.n(s),l=n(5),c=n.n(l),h=n(10),f=n.n(h),d=n(57),p=n.n(d),m=n(1),g=n.n(m),v=n(17),y=n.n(v),b=n(29),w=n.n(b),x=n(173),_=n(44),E=n(260),M=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),g()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),S=function t(e,n,r){null===e&&(e=Function.prototype);var i=p()(e,n);if(void 0===i){var o=f()(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},T=function(t){function e(t){var n=r(t,[]);return i(this,e),o(this,(e.__proto__||f()(e)).call(this,w.a.defaults({},n,e.defaults)))}return a(e,t),M(e,[{key:"toMapLayer",value:function(){var t=S(e.prototype.__proto__||f()(e.prototype),"toMapLayer",this).call(this);return t.set("onClick",this._onFeatureClick),t.set("onHover",this._onFeatureHover),t.set("onOut",this._onFeatureOut),t}},{key:"createMapSource",value:function(){var t=E.a.get(this.id),e=Object(_.e)(t.crs,this.projection),n=(new y.a.format.GeoJSON).readFeatures(t,{dataProjection:e,featureProjection:this.mapProjection});return new y.a.source.Vector({features:n})}},{key:"onBeforeAddFeatures",value:function(t){t.forEach(this.onBeforeAddFeature)}},{key:"onBeforeAddFeature",value:function(t){var e=this;t.set("onClick",function(){e._onFeatureClick(t)}),t.set("onHover",function(){e._onFeatureHover(t)})}},{key:"_onFeatureClick",value:function(t){}},{key:"_onFeatureHover",value:function(t){}},{key:"_onFeatureOut",value:function(t){}}]),e}(x.a);T.defaults={type:"SHPLayer",nameIntl:"layer.SHPLayer.name",visible:!0},e.a=T},function(t,e,n){"use strict";function r(t){return function(){var e=t.apply(this,arguments);return new u.a(function(t,n){function r(i,o){try{var a=e[i](o),s=a.value}catch(t){return void n(t)}if(!a.done)return u.a.resolve(s).then(function(t){r("next",t)},function(t){r("throw",t)});t(s)}return r("next")})}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=n(24),a=n.n(o),s=n(23),u=n.n(s),l=n(1),c=n.n(l),h=n(17),f=n.n(h),d=n(117),p=n(53),m=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),c()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),g=function(){function t(e){i(this,t),this._addressService=e.addressService,this.addressSources=this._buildAddressSources()}return m(t,[{key:"_buildAddressSources",value:function(){var t=this._addressService,e=t.databaseResource,n=t.code,r=t.onlineResource,i="/"+n+"?query={query}&srsName={srsName}&source="+e+"&format=wfs",o={search:r+"/search"+i};return"CMDatabase"!==e&&"Solr"!==e||(o.autocomplete=r+"/searchautocomplete"+i),[o]}},{key:"setSettings",value:function(t){var e=t.code,n=t.databaseResource,r=t.srsName;e&&n&&(this._addressService.code=e,this._addressService.databaseResource=n,this._addressService.srsName=r,this.addressSources=this._buildAddressSources())}},{key:"searchAddress",value:function(){function t(t,n){return e.apply(this,arguments)}var e=r(a.a.mark(function t(e,n){var r;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(this.addressSources&&this.addressSources.length>0)){t.next=5;break}return r=this.addressSources[0].search.replace("{query}",encodeURIComponent(e)).replace("{srsName}",encodeURIComponent(n)),t.next=4,this._getAddress(r);case 4:return t.abrupt("return",t.sent);case 5:return t.abrupt("return",null);case 6:case"end":return t.stop()}},t,this)}));return t}()},{key:"_getAddress",value:function(){function t(t){return e.apply(this,arguments)}var e=r(a.a.mark(function t(e){var n,r,i,o,s;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=new Request(e,{method:"POST",headers:new Headers(Object(p.b)()),mode:"cors"}),r=void 0,t.prev=2,t.next=5,fetch(n);case 5:r=t.sent,t.next=11;break;case 8:throw t.prev=8,t.t0=t.catch(2),new Error("An error has occured while trying to reach the server.");case 11:if(r.ok){t.next=14;break}throw i="Loading address failed with status code "+r.status+". Message: "+r.statusText,new Error(i);case 14:return t.next=16,Object(d.a)(r,"xml");case 16:if(!((o=t.sent)instanceof Error)){t.next=19;break}throw new Error("Error parsing XML for Address Search");case 19:return s=this._addressServiceFeaturesTransform(o),t.abrupt("return",s[0]);case 21:case"end":return t.stop()}},t,this,[[2,8]])}));return t}()},{key:"_addressServiceFeaturesTransform",value:function(t){var e=this,n=new f.a.format.WFS,r=n.readFeatures(t),i=this._userSrs;return r.map(function(t){var n=t.getProperties(),r=t.getGeometry(),o=void 0;if(r instanceof f.a.geom.Point){var a=r.getCoordinates();!a||isNaN(a[0])||isNaN(a[1])||(o={srs:i,coord:a})}else if(r instanceof f.a.geom.Polygon){var s=r.getExtent();s&&(o={srs:i,extent:s})}return{name:n.AddressString,geometry:o,source:e.addressSources}})}}]),t}();e.a=g},function(t,e,n){"use strict";function r(t){return function(){var e=t.apply(this,arguments);return new g.a(function(t,n){function r(i,o){try{var a=e[i](o),s=a.value}catch(t){return void n(t)}if(!a.done)return g.a.resolve(s).then(function(t){r("next",t)},function(t){r("throw",t)});t(s)}return r("next")})}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=p()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(f.a?f()(t,e):t.__proto__=e)}n.d(e,"b",function(){return k});var s=n(24),u=n.n(s),l=n(10),c=n.n(l),h=n(9),f=n.n(h),d=n(5),p=n.n(d),m=n(23),g=n.n(m),v=n(1),y=n.n(v),b=n(4),w=n.n(b),x=n(17),_=n.n(x),E=n(575),M=n(259),S=n(576),T=n(39),C=n(376),I=n(577),O=w.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},A=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),y()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),L=function(t){var e=_.a.format.filter,n=Object(T.f)(t,0,360),r=Object(T.f)(t-45,0,360),i=Object(T.f)(t+45,0,360);return n<45||n>315?e.or(e.greaterThanOrEqualTo("heading",Math.max(r,i)),e.lessThanOrEqualTo("heading",Math.min(r,i))):e.and(e.greaterThanOrEqualTo("heading",r),e.lessThanOrEqualTo("heading",i))},R=function(t){var e=_.a.format.filter,n=Object(T.f)(t+180,0,360),r=L(t),i=L(n),o=e.greaterThan("pitch",0),a=e.lessThan("pitch",0);return e.or(e.and(o,r),e.and(a,i))},N=function(t){return R(S.a.toDegrees(t))},P=function(t){function e(t){return i(this,e),o(this,(e.__proto__||c()(e)).call(this,O({},t,{authRequired:!0,defaultFeatureType:"ObliqueImage",defaultGeometryName:"footprintCentre"})))}return a(e,t),A(e,[{key:"getExtraFilter",value:function(t){var e=_.a.format.filter,n=t.year,r=t.isOblique,i=void 0===r||r,o=t.direction,a=[];return n&&a.push(e.equalTo("year",n)),i?(a.push(e.or(e.lessThan("pitch",-M.a),e.greaterThan("pitch",M.a))),"number"==typeof o?a.push(R(o)):"string"==typeof o&&a.push(N(o))):a.push(e.lessThanOrEqualTo("pitch",M.a),e.greaterThanOrEqualTo("pitch",-M.a)),e.and.apply(e,a)}},{key:"postProcessFeatures",value:function(t){return t.map(function(t){return new M.b(t)}).filter(function(t){return t&&t.isAuthorized})}},{key:"requestNearestToCoordinate",value:function(){function t(t,n,r){return e.apply(this,arguments)}var e=r(u.a.mark(function t(e,n,r){var i;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.requestWithRadius(e,n,I.a,r);case 2:if(i=t.sent,!r.year){t.next=5;break}return t.abrupt("return",Object(C.c)(e,i));case 5:return t.abrupt("return",Object(C.b)(e,i));case 6:case"end":return t.stop()}},t,this)}));return t}()}]),e}(E.a);e.a=P;var k=function(t){P.instance=new P({uri:t})}},function(t,e,n){"use strict";n.d(e,"d",function(){return s}),n.d(e,"a",function(){return u}),n.d(e,"c",function(){return l}),n.d(e,"b",function(){return c});var r=n(16),i=n.n(r),o=n(46),a=(n.n(o),n(259)),s=function(t){return t?t.recordedAt.getTime():-1},u=function(t,e){return s(t)-s(e)},l=function(t,e){if(0===e.length)return null;var n=e[0]instanceof a.b,r=1/0,i=void 0,s=n?function(t){return t.footprintCentre.getCoordinates()}:function(t){return t.xyz};return e.forEach(function(e){var n=o.vec2.distance(s(e),t);n<r&&(r=n,i=e)}),i},c=function(t,e){var n=1/0,r=void 0;if(e&&0!==e.length){var a=e[0].year,s=!0,u=!1,l=void 0;try{for(var c,h=i()(e);!(s=(c=h.next()).done);s=!0){var f=c.value,d=o.vec2.distance(f.footprintCentre.getCoordinates(),t),p=f.year;(p>a||p===a&&d<n)&&(n=d,r=f,p>a&&(a=p))}}catch(t){u=!0,l=t}finally{try{!s&&h.return&&h.return()}finally{if(u)throw l}}return r}}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(39),i=Object(r.e)(110)},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=f()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(c.a?c()(t,e):t.__proto__=e)}n.d(e,"b",function(){return C}),n.d(e,"a",function(){return I});var s=n(10),u=n.n(s),l=n(9),c=n.n(l),h=n(5),f=n.n(h),d=n(1),p=n.n(d),m=n(4),g=n.n(m),v=n(3),y=n.n(v),b=n(0),w=n.n(b),x=n(26),_=(n.n(x),g.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}),E=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),p()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),M=y.a.shape({key:y.a.oneOfType([y.a.string,y.a.number]).required,label:y.a.node.required,value:y.a.any}),S=function(t){var e=t.type,n=t.label,r=t.checked,i=t.value,o=t.onSelect;return w.a.createElement(x.FormGroup,null,"checkbox"===e?w.a.createElement(x.Checkbox,{checked:r,onChange:function(){return o(i)}},w.a.createElement("span",null,n)):w.a.createElement(x.Radio,{checked:r,onChange:function(){return o(i)}},w.a.createElement("span",null,n)))};S.propTypes={type:y.a.oneOf(["radio","checkbox"]),checked:y.a.bool,label:y.a.string,value:y.a.any,onSelect:y.a.func};var T=function(t){function e(){var t;i(this,e);for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];var s=o(this,(t=e.__proto__||u()(e)).call.apply(t,[this].concat(r)));return s.selectItem=s.selectItem.bind(s),s}return a(e,t),E(e,[{key:"selectItem",value:function(t){var e=this.props.onChange;e&&e(t)}},{key:"render",value:function(){var t=this,e=this.props,n=e.multiple,r=e.WrapperComponent,i=e.ItemComponent,o=e.items,a=e.value,s=n?"checkbox":"radio";return w.a.createElement(r,{className:"checklist"},o.map(function(e){return w.a.createElement(i,{type:s,key:e.key,label:e.label,value:e,checked:n?a.indexOf(e)>=0:a&&a.key===e.key,onSelect:t.selectItem})}))}}]),e}(b.Component);T.propTypes={multiple:y.a.bool,items:y.a.arrayOf(M),value:function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return(t.multiple?y.a.arrayOf(M):M).apply(void 0,[t].concat(n))},onChange:y.a.func},T.defaultProps={multiple:!0,WrapperComponent:"div",ItemComponent:S,items:[],value:null},e.c=T;var C=function(t){return w.a.createElement("tr",null,w.a.createElement("td",null,w.a.createElement(S,t)))},I=function(t){var e=t.children,n=r(t,["children"]);return w.a.createElement(x.Table,_({hover:!0},n),w.a.createElement("tbody",null,e))};I.propTypes={children:y.a.node}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"UPDATE_REPORT_BLURRING",function(){return i}),n.d(e,"updateReportBlurring",function(){return o}),n.d(e,"ActionTypes",function(){return a});var r=n(18),i=(n.n(r),"@@measurements/UPDATE_REPORT_BLURRING"),o=Object(r.createAction)(i,function(t){return t});e.default={updateReportBlurring:o};var a={UPDATE_REPORT_BLURRING:i}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"ActionTypes",function(){return i});var r=n(592);n.n(r);n.o(r,"push")&&n.d(e,"push",function(){return r.push}),n.o(r,"replace")&&n.d(e,"replace",function(){return r.replace}),n.o(r,"go")&&n.d(e,"go",function(){return r.go}),n.o(r,"goBack")&&n.d(e,"goBack",function(){return r.goBack}),n.o(r,"goForward")&&n.d(e,"goForward",function(){return r.goForward});var i={LOCATION_CHANGE:r.LOCATION_CHANGE,CALL_HISTORY_METHOD:r.CALL_HISTORY_METHOD};e.default=r.routerActions},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=f()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(c.a?c()(t,e):t.__proto__=e)}var s=n(10),u=n.n(s),l=n(9),c=n.n(l),h=n(5),f=n.n(h),d=n(1),p=n.n(d),m=n(4),g=n.n(m),v=n(12),y=n.n(v),b=n(3),w=n.n(b),x=n(0),_=n.n(x),E=n(15),M=(n.n(E),n(30)),S=g.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},T=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),p()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),C=Object(E.defineMessages)({emptyDate:{id:"Timestamp.emptyDate",description:"Value to use when no date is available",defaultMessage:"??/??/????"},emptyTime:{id:"Timestamp.emptyTime",description:"Value to use when no time is available",defaultMessage:"??:??"}}),I={clickable:{cursor:"pointer"}},O=function(t){function e(){return i(this,e),o(this,(e.__proto__||u()(e)).apply(this,arguments))}return a(e,t),T(e,[{key:"render",value:function(){var t=this.props,e=t.className,n=t.value,i=t.icon,o=t.showDate,a=t.showTime,s=t.onClick,u=r(t,["className","value","icon","showDate","showTime","onClick"]),l=[o&&(n?_.a.createElement(E.FormattedDate,{key:"date",value:n}):_.a.createElement(E.FormattedMessage,S({key:"date"},C.emptyDate))),o&&a&&" ",a&&(n?_.a.createElement(E.FormattedTime,{key:"time",value:n}):_.a.createElement(E.FormattedMessage,S({key:"time"},C.emptyTime)))],c=s?I.clickable:void 0;return _.a.createElement("div",S({className:y()("timestamp",e),style:c,onClick:s},u),i,_.a.createElement("span",{className:"value"},l))}}]),e}(M.a);O.propTypes={className:w.a.string,value:w.a.instanceOf(Date),icon:w.a.node,showDate:w.a.bool,showTime:w.a.bool,onClick:w.a.func},O.defaultProps={showDate:!0,showTime:!1},e.a=O},function(t,e,n){"use strict";var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e.encode=function(t,e){for(var n,i,o,a,s,u,l,c="",h=0;h<t.length;)n=t.charCodeAt(h++),i=t.charCodeAt(h++),o=t.charCodeAt(h++),a=n>>2,s=(3&n)<<4|i>>4,u=(15&i)<<2|o>>6,l=63&o,isNaN(i)?u=l=64:isNaN(o)&&(l=64),c=c+r.charAt(a)+r.charAt(s)+r.charAt(u)+r.charAt(l);return c},e.decode=function(t,e){var n,i,o,a,s,u,l,c="",h=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");h<t.length;)a=r.indexOf(t.charAt(h++)),s=r.indexOf(t.charAt(h++)),u=r.indexOf(t.charAt(h++)),l=r.indexOf(t.charAt(h++)),n=a<<2|s>>4,i=(15&s)<<4|u>>2,o=(3&u)<<6|l,c+=String.fromCharCode(n),64!=u&&(c+=String.fromCharCode(i)),64!=l&&(c+=String.fromCharCode(o));return c}},function(t,e,n){"use strict";var r=n(175),i=n(84),o=n(1452),a=n(624),s=n(625),u=n(382),l=n(384),c=n(626),h=n(386),f=n(627),d=n(1453),p=n(1454),m=function(t){if(t._data instanceof c&&(t._data=t._data.getContent(),t.options.binary=!0,t.options.base64=!1,"uint8array"===i.getTypeOf(t._data))){var e=t._data;t._data=new Uint8Array(e.length),0!==e.length&&t._data.set(e,0)}return t._data},g=function(t){var e=m(t);return"string"===i.getTypeOf(e)?!t.options.binary&&r.nodebuffer?h(e,"utf-8"):t.asBinary():e},v=function(t){var e=m(this);return null===e||void 0===e?"":(this.options.base64&&(e=u.decode(e)),e=t&&this.options.binary?O.utf8decode(e):i.transformTo("string",e),t||this.options.binary||(e=i.transformTo("string",O.utf8encode(e))),e)},y=function(t,e,n){this.name=t,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=e,this.options=n,this._initialMetadata={dir:n.dir,date:n.date}};y.prototype={asText:function(){return v.call(this,!0)},asBinary:function(){return v.call(this,!1)},asNodeBuffer:function(){var t=g(this);return i.transformTo("nodebuffer",t)},asUint8Array:function(){var t=g(this);return i.transformTo("uint8array",t)},asArrayBuffer:function(){return this.asUint8Array().buffer}};var b=function(t,e){var n,r="";for(n=0;n<e;n++)r+=String.fromCharCode(255&t),t>>>=8;return r},w=function(t){return t=t||{},!0!==t.base64||null!==t.binary&&void 0!==t.binary||(t.binary=!0),t=i.extend(t,s),t.date=t.date||new Date,null!==t.compression&&(t.compression=t.compression.toUpperCase()),t},x=function(t,e,n){var r,o=i.getTypeOf(e);if(n=w(n),"string"==typeof n.unixPermissions&&(n.unixPermissions=parseInt(n.unixPermissions,8)),n.unixPermissions&&16384&n.unixPermissions&&(n.dir=!0),n.dosPermissions&&16&n.dosPermissions&&(n.dir=!0),n.dir&&(t=E(t)),n.createFolders&&(r=_(t))&&M.call(this,r,!0),n.dir||null===e||void 0===e)n.base64=!1,n.binary=!1,e=null,o=null;else if("string"===o)n.binary&&!n.base64&&!0!==n.optimizedBinaryString&&(e=i.string2binary(e));else{if(n.base64=!1,n.binary=!0,!(o||e instanceof c))throw new Error("The data of '"+t+"' is in an unsupported format !");"arraybuffer"===o&&(e=i.transformTo("uint8array",e))}var a=new y(t,e,n);return this.files[t]=a,a},_=function(t){"/"==t.slice(-1)&&(t=t.substring(0,t.length-1));var e=t.lastIndexOf("/");return e>0?t.substring(0,e):""},E=function(t){return"/"!=t.slice(-1)&&(t+="/"),t},M=function(t,e){return e=void 0!==e&&e,t=E(t),this.files[t]||x.call(this,t,null,{dir:!0,createFolders:e}),this.files[t]},S=function(t,e,n){var r,a=new c;return t._data instanceof c?(a.uncompressedSize=t._data.uncompressedSize,a.crc32=t._data.crc32,0===a.uncompressedSize||t.dir?(e=l.STORE,a.compressedContent="",a.crc32=0):t._data.compressionMethod===e.magic?a.compressedContent=t._data.getCompressedContent():(r=t._data.getContent(),a.compressedContent=e.compress(i.transformTo(e.compressInputType,r),n))):(r=g(t),r&&0!==r.length&&!t.dir||(e=l.STORE,r=""),a.uncompressedSize=r.length,a.crc32=o(r),a.compressedContent=e.compress(i.transformTo(e.compressInputType,r),n)),a.compressedSize=a.compressedContent.length,a.compressionMethod=e.magic,a},T=function(t,e){var n=t;return t||(n=e?16893:33204),(65535&n)<<16},C=function(t,e){return 63&(t||0)},I=function(t,e,n,r,s,u){var l,c,h,d,p=(n.compressedContent,u!==f.utf8encode),m=i.transformTo("string",u(e.name)),g=i.transformTo("string",f.utf8encode(e.name)),v=e.comment||"",y=i.transformTo("string",u(v)),w=i.transformTo("string",f.utf8encode(v)),x=g.length!==e.name.length,_=w.length!==v.length,E=e.options,M="",S="",I="";h=e._initialMetadata.dir!==e.dir?e.dir:E.dir,d=e._initialMetadata.date!==e.date?e.date:E.date;var O=0,A=0;h&&(O|=16),"UNIX"===s?(A=798,O|=T(e.unixPermissions,h)):(A=20,O|=C(e.dosPermissions)),l=d.getHours(),l<<=6,l|=d.getMinutes(),l<<=5,l|=d.getSeconds()/2,c=d.getFullYear()-1980,c<<=4,c|=d.getMonth()+1,c<<=5,c|=d.getDate(),x&&(S=b(1,1)+b(o(m),4)+g,M+="up"+b(S.length,2)+S),_&&(I=b(1,1)+b(this.crc32(y),4)+w,M+="uc"+b(I.length,2)+I);var L="";return L+="\n\0",L+=p||!x&&!_?"\0\0":"\0\b",L+=n.compressionMethod,L+=b(l,2),L+=b(c,2),L+=b(n.crc32,4),L+=b(n.compressedSize,4),L+=b(n.uncompressedSize,4),L+=b(m.length,2),L+=b(M.length,2),{fileRecord:a.LOCAL_FILE_HEADER+L+m+M,dirRecord:a.CENTRAL_FILE_HEADER+b(A,2)+L+b(y.length,2)+"\0\0\0\0"+b(O,4)+b(r,4)+m+M+y,compressedObject:n}},O={load:function(t,e){throw new Error("Load method is not defined. Is the file jszip-load.js included ?")},filter:function(t){var e,n,r,o,a=[];for(e in this.files)this.files.hasOwnProperty(e)&&(r=this.files[e],o=new y(r.name,r._data,i.extend(r.options)),n=e.slice(this.root.length,e.length),e.slice(0,this.root.length)===this.root&&t(n,o)&&a.push(o));return a},file:function(t,e,n){if(1===arguments.length){if(i.isRegExp(t)){var r=t;return this.filter(function(t,e){return!e.dir&&r.test(t)})}return this.filter(function(e,n){return!n.dir&&e===t})[0]||null}return t=this.root+t,x.call(this,t,e,n),this},folder:function(t){if(!t)return this;if(i.isRegExp(t))return this.filter(function(e,n){return n.dir&&t.test(e)});var e=this.root+t,n=M.call(this,e),r=this.clone();return r.root=n.name,r},remove:function(t){t=this.root+t;var e=this.files[t];if(e||("/"!=t.slice(-1)&&(t+="/"),e=this.files[t]),e&&!e.dir)delete this.files[t];else for(var n=this.filter(function(e,n){return n.name.slice(0,t.length)===t}),r=0;r<n.length;r++)delete this.files[n[r].name];return this},generate:function(t){t=i.extend(t||{},{base64:!0,compression:"STORE",compressionOptions:null,type:"base64",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:f.utf8encode}),i.checkSupport(t.type),"darwin"!==t.platform&&"freebsd"!==t.platform&&"linux"!==t.platform&&"sunos"!==t.platform||(t.platform="UNIX"),"win32"===t.platform&&(t.platform="DOS");var e,n,r=[],o=0,s=0,c=i.transformTo("string",t.encodeFileName(t.comment||this.comment||""));for(var h in this.files)if(this.files.hasOwnProperty(h)){var m=this.files[h],g=m.options.compression||t.compression.toUpperCase(),v=l[g];if(!v)throw new Error(g+" is not a valid compression method !");var y=m.options.compressionOptions||t.compressionOptions||{},w=S.call(this,m,v,y),x=I.call(this,h,m,w,o,t.platform,t.encodeFileName);o+=x.fileRecord.length+w.compressedSize,s+=x.dirRecord.length,r.push(x)}var _="";_=a.CENTRAL_DIRECTORY_END+"\0\0\0\0"+b(r.length,2)+b(r.length,2)+b(s,4)+b(o,4)+b(c.length,2)+c;var E=t.type.toLowerCase();for(e="uint8array"===E||"arraybuffer"===E||"blob"===E||"nodebuffer"===E?new p(o+s+_.length):new d(o+s+_.length),n=0;n<r.length;n++)e.append(r[n].fileRecord),e.append(r[n].compressedObject.compressedContent);for(n=0;n<r.length;n++)e.append(r[n].dirRecord);e.append(_);var M=e.finalize();switch(t.type.toLowerCase()){case"uint8array":case"arraybuffer":case"nodebuffer":return i.transformTo(t.type.toLowerCase(),M);case"blob":return i.arrayBuffer2Blob(i.transformTo("arraybuffer",M),t.mimeType);case"base64":return t.base64?u.encode(M):M;default:return M}},crc32:function(t,e){return o(t,e)},utf8encode:function(t){return i.transformTo("string",f.utf8encode(t))},utf8decode:function(t){return f.utf8decode(t)}};t.exports=O},function(t,e,n){"use strict";e.STORE={magic:"\0\0",compress:function(t,e){return t},uncompress:function(t){return t},compressInputType:null,uncompressInputType:null},e.DEFLATE=n(1442)},function(t,e,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(t,e,n){"use strict";(function(e){t.exports=function(t,n){return new e(t,n)},t.exports.test=function(t){return e.isBuffer(t)}}).call(e,n(137).Buffer)},function(t,e,n){"use strict";(function(t){function e(t,e,n){t[e]||Object[r](t,e,{writable:!0,configurable:!0,value:n})}if(n(634),n(834),n(835),t._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");t._babelPolyfill=!0;var r="defineProperty";e(String.prototype,"padLeft","".padStart),e(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(t){[][t]&&e(Array,t,Function.call.bind([][t]))})}).call(e,n(34))},function(t,e,n){t.exports=!n(40)&&!n(25)(function(){return 7!=Object.defineProperty(n(275)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){e.f=n(35)},function(t,e,n){var r=n(61),i=n(64),o=n(216)(!1),a=n(277)("IE_PROTO");t.exports=function(t,e){var n,s=i(t),u=0,l=[];for(n in s)n!=a&&r(s,n)&&l.push(n);for(;e.length>u;)r(s,n=e[u++])&&(~o(l,n)||l.push(n));return l}},function(t,e,n){var r=n(41),i=n(20),o=n(112);t.exports=n(40)?Object.defineProperties:function(t,e){i(t);for(var n,a=o(e),s=a.length,u=0;s>u;)r.f(t,n=a[u++],e[n]);return t}},function(t,e,n){var r=n(64),i=n(128).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return i(t)}catch(t){return a.slice()}};t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?s(t):i(r(t))}},function(t,e,n){"use strict";var r=n(112),i=n(217),o=n(177),a=n(45),s=n(176),u=Object.assign;t.exports=!u||n(25)(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=u({},t)[n]||Object.keys(u({},e)).join("")!=r})?function(t,e){for(var n=a(t),u=arguments.length,l=1,c=i.f,h=o.f;u>l;)for(var f,d=s(arguments[l++]),p=c?r(d).concat(c(d)):r(d),m=p.length,g=0;m>g;)h.call(d,f=p[g++])&&(n[f]=d[f]);return n}:u},function(t,e,n){"use strict";var r=n(50),i=n(28),o=n(219),a=[].slice,s={},u=function(t,e,n){if(!(e in s)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";s[e]=Function("F,a","return new F("+r.join(",")+")")}return s[e](t,n)};t.exports=Function.bind||function(t){var e=r(this),n=a.call(arguments,1),s=function(){var r=n.concat(a.call(arguments));return this instanceof s?u(e,r.length,r):o(e,r,t)};return i(e.prototype)&&(s.prototype=e.prototype),s}},function(t,e,n){var r=n(21).parseInt,i=n(150).trim,o=n(281),a=/^[-+]?0[xX]/;t.exports=8!==r(o+"08")||22!==r(o+"0x16")?function(t,e){var n=i(String(t),3);return r(n,e>>>0||(a.test(n)?16:10))}:r},function(t,e,n){var r=n(21).parseFloat,i=n(150).trim;t.exports=1/r(n(281)+"-0")!=-1/0?function(t){var e=i(String(t),3),n=r(e);return 0===n&&"-"==e.charAt(0)?-0:n}:r},function(t,e,n){var r=n(76);t.exports=function(t,e){if("number"!=typeof t&&"Number"!=r(t))throw TypeError(e);return+t}},function(t,e,n){var r=n(28),i=Math.floor;t.exports=function(t){return!r(t)&&isFinite(t)&&i(t)===t}},function(t,e){t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},function(t,e,n){var r=n(284),i=Math.pow,o=i(2,-52),a=i(2,-23),s=i(2,127)*(2-a),u=i(2,-126),l=function(t){return t+1/o-1/o};t.exports=Math.fround||function(t){var e,n,i=Math.abs(t),c=r(t);return i<u?c*l(i/u/a)*u*a:(e=(1+a/o)*i,n=e-(e-i),n>s||n!=n?c*(1/0):c*n)}},function(t,e,n){var r=n(20);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&r(o.call(t)),e}}},function(t,e,n){var r=n(50),i=n(45),o=n(176),a=n(42);t.exports=function(t,e,n,s,u){r(e);var l=i(t),c=o(l),h=a(l.length),f=u?h-1:0,d=u?-1:1;if(n<2)for(;;){if(f in c){s=c[f],f+=d;break}if(f+=d,u?f<0:h<=f)throw TypeError("Reduce of empty array with no initial value")}for(;u?f>=0:h>f;f+=d)f in c&&(s=e(s,c[f],f,l));return s}},function(t,e,n){"use strict";var r=n(45),i=n(126),o=n(42);t.exports=[].copyWithin||function(t,e){var n=r(this),a=o(n.length),s=i(t,a),u=i(e,a),l=arguments.length>2?arguments[2]:void 0,c=Math.min((void 0===l?a:i(l,a))-u,a-s),h=1;for(u<s&&s<u+c&&(h=-1,u+=c-1,s+=c-1);c-- >0;)u in n?n[s]=n[u]:delete n[s],s+=h,u+=h;return n}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){n(40)&&"g"!=/./g.flags&&n(41).f(RegExp.prototype,"flags",{configurable:!0,get:n(222)})},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,n){var r=n(299);t.exports=function(t,e){var n=r.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){"use strict";var r=n(409),i=n(152);t.exports=n(225)("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=r.getEntry(i(this,"Map"),t);return e&&e.v},set:function(t,e){return r.def(i(this,"Map"),0===t?0:t,e)}},r,!0)},function(t,e,n){"use strict";var r=n(41).f,i=n(127),o=n(132),a=n(75),s=n(130),u=n(131),l=n(287),c=n(404),h=n(129),f=n(40),d=n(111).fastKey,p=n(152),m=f?"_s":"size",g=function(t,e){var n,r=d(e);if("F"!==r)return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,l){var c=t(function(t,r){s(t,c,e,"_i"),t._t=e,t._i=i(null),t._f=void 0,t._l=void 0,t[m]=0,void 0!=r&&u(r,n,t[l],t)});return o(c.prototype,{clear:function(){for(var t=p(this,e),n=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];t._f=t._l=void 0,t[m]=0},delete:function(t){var n=p(this,e),r=g(n,t);if(r){var i=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),n._f==r&&(n._f=i),n._l==r&&(n._l=o),n[m]--}return!!r},forEach:function(t){p(this,e);for(var n,r=a(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!g(p(this,e),t)}}),f&&r(c.prototype,"size",{get:function(){return p(this,e)[m]}}),c},def:function(t,e,n){var r,i,o=g(t,e);return o?o.v=n:(t._l=o={i:i=d(e,!0),k:e,v:n,p:r=t._l,n:void 0,r:!1},t._f||(t._f=o),r&&(r.n=o),t[m]++,"F"!==i&&(t._i[i]=o)),t},getEntry:g,setStrong:function(t,e,n){l(t,e,function(t,n){this._t=p(t,e),this._k=n,this._l=void 0},function(){for(var t=this,e=t._k,n=t._l;n&&n.r;)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?"keys"==e?c(0,n.k):"values"==e?c(0,n.v):c(0,[n.k,n.v]):(t._t=void 0,c(1))},n?"entries":"values",!n,!0),h(e)}}},function(t,e,n){"use strict";var r=n(409),i=n(152);t.exports=n(225)("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return r.def(i(this,"Set"),t=0===t?0:t,t)}},r)},function(t,e,n){"use strict";var r,i=n(90)(0),o=n(63),a=n(111),s=n(393),u=n(412),l=n(28),c=n(25),h=n(152),f=a.getWeak,d=Object.isExtensible,p=u.ufstore,m={},g=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},v={get:function(t){if(l(t)){var e=f(t);return!0===e?p(h(this,"WeakMap")).get(t):e?e[this._i]:void 0}},set:function(t,e){return u.def(h(this,"WeakMap"),t,e)}},y=t.exports=n(225)("WeakMap",g,v,u,!0,!0);c(function(){return 7!=(new y).set((Object.freeze||Object)(m),7).get(m)})&&(r=u.getConstructor(g,"WeakMap"),s(r.prototype,v),a.NEED=!0,i(["delete","has","get","set"],function(t){var e=y.prototype,n=e[t];o(e,t,function(e,i){if(l(e)&&!d(e)){this._f||(this._f=new r);var o=this._f[t](e,i);return"set"==t?this:o}return n.call(this,e,i)})}))},function(t,e,n){"use strict";var r=n(132),i=n(111).getWeak,o=n(20),a=n(28),s=n(130),u=n(131),l=n(90),c=n(61),h=n(152),f=l(5),d=l(6),p=0,m=function(t){return t._l||(t._l=new g)},g=function(){this.a=[]},v=function(t,e){return f(t.a,function(t){return t[0]===e})};g.prototype={get:function(t){var e=v(this,t);if(e)return e[1]},has:function(t){return!!v(this,t)},set:function(t,e){var n=v(this,t);n?n[1]=e:this.a.push([t,e])},delete:function(t){var e=d(this.a,function(e){return e[0]===t});return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,n,o){var l=t(function(t,r){s(t,l,e,"_i"),t._t=e,t._i=p++,t._l=void 0,void 0!=r&&u(r,n,t[o],t)});return r(l.prototype,{delete:function(t){if(!a(t))return!1;var n=i(t);return!0===n?m(h(this,e)).delete(t):n&&c(n,this._i)&&delete n[this._i]},has:function(t){if(!a(t))return!1;var n=i(t);return!0===n?m(h(this,e)).has(t):n&&c(n,this._i)}}),l},def:function(t,e,n){var r=i(o(e),!0);return!0===r?m(t).set(e,n):r[t._i]=n,t},ufstore:m}},function(t,e,n){var r=n(88),i=n(42);t.exports=function(t){if(void 0===t)return 0;var e=r(t),n=i(e);if(e!==n)throw RangeError("Wrong length!");return n}},function(t,e,n){var r=n(128),i=n(217),o=n(20),a=n(21).Reflect;t.exports=a&&a.ownKeys||function(t){var e=r.f(o(t)),n=i.f;return n?e.concat(n(t)):e}},function(t,e,n){"use strict";function r(t,e,n,l,c,h,f,d){for(var p,m,g=c,v=0,y=!!f&&s(f,d,3);v<l;){if(v in n){if(p=y?y(n[v],v,e):n[v],m=!1,o(p)&&(m=p[u],m=void 0!==m?!!m:i(p)),m&&h>0)g=r(t,e,p,a(p.length),g,h-1)-1;else{if(g>=9007199254740991)throw TypeError();t[g]=p}g++}v++}return g}var i=n(218),o=n(28),a=n(42),s=n(75),u=n(35)("isConcatSpreadable");t.exports=r},function(t,e,n){var r=n(42),i=n(283),o=n(87);t.exports=function(t,e,n,a){var s=String(o(t)),u=s.length,l=void 0===n?" ":String(n),c=r(e);if(c<=u||""==l)return s;var h=c-u,f=i.call(l,Math.ceil(h/l.length));return f.length>h&&(f=f.slice(0,h)),a?f+s:s+f}},function(t,e,n){var r=n(112),i=n(64),o=n(177).f;t.exports=function(t){return function(e){for(var n,a=i(e),s=r(a),u=s.length,l=0,c=[];u>l;)o.call(a,n=s[l++])&&c.push(t?[n,a[n]]:a[n]);return c}}},function(t,e,n){var r=n(178),i=n(419);t.exports=function(t){return function(){if(r(this)!=t)throw TypeError(t+"#toJSON isn't generic");return i(this)}}},function(t,e,n){var r=n(131);t.exports=function(t,e){var n=[];return r(t,!1,n.push,n,e),n}},function(t,e){t.exports=Math.scale||function(t,e,n,r,i){return 0===arguments.length||t!=t||e!=e||n!=n||r!=r||i!=i?NaN:t===1/0||t===-1/0?t:(t-e)*(i-r)/(n-e)+r}},function(t,e){!function(t){"use strict";function e(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function n(t){return"string"!=typeof t&&(t=String(t)),t}function r(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return v.iterable&&(e[Symbol.iterator]=function(){return e}),e}function i(t){this.map={},t instanceof i?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function o(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function a(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function s(t){var e=new FileReader,n=a(e);return e.readAsArrayBuffer(t),n}function u(t){var e=new FileReader,n=a(e);return e.readAsText(t),n}function l(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}function c(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function h(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"==typeof t)this._bodyText=t;else if(v.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(v.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(v.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(v.arrayBuffer&&v.blob&&b(t))this._bodyArrayBuffer=c(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!v.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!w(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=c(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):v.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},v.blob&&(this.blob=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?o(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(s)}),this.text=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return u(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(l(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},v.formData&&(this.formData=function(){return this.text().then(p)}),this.json=function(){return this.text().then(JSON.parse)},this}function f(t){var e=t.toUpperCase();return x.indexOf(e)>-1?e:t}function d(t,e){e=e||{};var n=e.body;if(t instanceof d){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new i(t.headers)),this.method=t.method,this.mode=t.mode,n||null==t._bodyInit||(n=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new i(e.headers)),this.method=f(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function p(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}}),e}function m(t){var e=new i;return t.split(/\r?\n/).forEach(function(t){var n=t.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();e.append(r,i)}}),e}function g(t,e){e||(e={}),this.type="default",this.status="status"in e?e.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new i(e.headers),this.url=e.url||"",this._initBody(t)}if(!t.fetch){var v={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(v.arrayBuffer)var y=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],b=function(t){return t&&DataView.prototype.isPrototypeOf(t)},w=ArrayBuffer.isView||function(t){return t&&y.indexOf(Object.prototype.toString.call(t))>-1};i.prototype.append=function(t,r){t=e(t),r=n(r);var i=this.map[t];this.map[t]=i?i+","+r:r},i.prototype.delete=function(t){delete this.map[e(t)]},i.prototype.get=function(t){return t=e(t),this.has(t)?this.map[t]:null},i.prototype.has=function(t){return this.map.hasOwnProperty(e(t))},i.prototype.set=function(t,r){this.map[e(t)]=n(r)},i.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},i.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),r(t)},i.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),r(t)},i.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),r(t)},v.iterable&&(i.prototype[Symbol.iterator]=i.prototype.entries);var x=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];d.prototype.clone=function(){return new d(this,{body:this._bodyInit})},h.call(d.prototype),h.call(g.prototype),g.prototype.clone=function(){return new g(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new i(this.headers),url:this.url})},g.error=function(){var t=new g(null,{status:0,statusText:""});return t.type="error",t};var _=[301,302,303,307,308];g.redirect=function(t,e){if(-1===_.indexOf(e))throw new RangeError("Invalid status code");return new g(null,{status:e,headers:{location:t}})},t.Headers=i,t.Request=d,t.Response=g,t.fetch=function(t,e){return new Promise(function(n,r){var i=new d(t,e),o=new XMLHttpRequest;o.onload=function(){var t={status:o.status,statusText:o.statusText,headers:m(o.getAllResponseHeaders()||"")};t.url="responseURL"in o?o.responseURL:t.headers.get("X-Request-URL");var e="response"in o?o.response:o.responseText;n(new g(e,t))},o.onerror=function(){r(new TypeError("Network request failed"))},o.ontimeout=function(){r(new TypeError("Network request failed"))},o.open(i.method,i.url,!0),"include"===i.credentials&&(o.withCredentials=!0),"responseType"in o&&v.blob&&(o.responseType="blob"),i.headers.forEach(function(t,e){o.setRequestHeader(e,t)}),o.send(void 0===i._bodyInit?null:i._bodyInit)})},t.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},function(t,e,n){var r=n(99),i={};i.create=function(){var t=new r.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t},i.clone=function(t){var e=new r.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},i.fromValues=function(t,e,n,i){var o=new r.ARRAY_TYPE(4);return o[0]=t,o[1]=e,o[2]=n,o[3]=i,o},i.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},i.set=function(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t},i.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t},i.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t},i.sub=i.subtract,i.multiply=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t[3]=e[3]*n[3],t},i.mul=i.multiply,i.divide=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t[3]=e[3]/n[3],t},i.div=i.divide,i.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t},i.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t},i.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t[3]=Math.min(e[3],n[3]),t},i.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t[3]=Math.max(e[3],n[3]),t},i.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t},i.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t},i.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t},i.distance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],o=e[3]-t[3];return Math.sqrt(n*n+r*r+i*i+o*o)},i.dist=i.distance,i.squaredDistance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],o=e[3]-t[3];return n*n+r*r+i*i+o*o},i.sqrDist=i.squaredDistance,i.length=function(t){var e=t[0],n=t[1],r=t[2],i=t[3];return Math.sqrt(e*e+n*n+r*r+i*i)},i.len=i.length,i.squaredLength=function(t){var e=t[0],n=t[1],r=t[2],i=t[3];return e*e+n*n+r*r+i*i},i.sqrLen=i.squaredLength,i.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t},i.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t},i.normalize=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n*n+r*r+i*i+o*o;return a>0&&(a=1/Math.sqrt(a),t[0]=n*a,t[1]=r*a,t[2]=i*a,t[3]=o*a),t},i.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},i.lerp=function(t,e,n,r){var i=e[0],o=e[1],a=e[2],s=e[3];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t[2]=a+r*(n[2]-a),t[3]=s+r*(n[3]-s),t},i.random=function(t,e){return e=e||1,t[0]=r.RANDOM(),t[1]=r.RANDOM(),t[2]=r.RANDOM(),t[3]=r.RANDOM(),i.normalize(t,t),i.scale(t,t,e),t},i.transformMat4=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,t[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,t[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,t[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,t},i.transformQuat=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],s=n[1],u=n[2],l=n[3],c=l*r+s*o-u*i,h=l*i+u*r-a*o,f=l*o+a*i-s*r,d=-a*r-s*i-u*o;return t[0]=c*l+d*-a+h*-u-f*-s,t[1]=h*l+d*-s+f*-a-c*-u,t[2]=f*l+d*-u+c*-s-h*-a,t[3]=e[3],t},i.forEach=function(){var t=i.create();return function(e,n,r,i,o,a){var s,u;for(n||(n=4),r||(r=0),u=i?Math.min(i*n+r,e.length):e.length,s=r;s<u;s+=n)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],t[3]=e[s+3],o(t,t,a),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2],e[s+3]=t[3];return e}}(),i.str=function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},i.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},i.equals=function(t,e){var n=t[0],i=t[1],o=t[2],a=t[3],s=e[0],u=e[1],l=e[2],c=e[3];return Math.abs(n-s)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(i-u)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(o-l)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(l))&&Math.abs(a-c)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(c))},t.exports=i},function(t,e,n){function r(t){var e=this;if(2===arguments.length){var n=arguments[1];"string"==typeof n?"+"===n.charAt(0)?r[t]=o(arguments[1]):r[t]=a(arguments[1]):r[t]=n}else if(1===arguments.length){if(Array.isArray(t))return t.map(function(t){Array.isArray(t)?r.apply(e,t):r(t)});if("string"==typeof t){if(t in r)return r[t]}else"EPSG"in t?r["EPSG:"+t.EPSG]=t:"ESRI"in t?r["ESRI:"+t.ESRI]=t:"IAU2000"in t?r["IAU2000:"+t.IAU2000]=t:console.log(t);return}}var i=n(850),o=n(424),a=n(425);i(r),t.exports=r},function(t,e,n){var r=.017453292519943295,i=n(851),o=n(852);t.exports=function(t){var e={},n={};t.split("+").map(function(t){return t.trim()}).filter(function(t){return t}).forEach(function(t){var e=t.split("=");e.push(!0),n[e[0].toLowerCase()]=e[1]});var a,s,u,l={proj:"projName",datum:"datumCode",rf:function(t){e.rf=parseFloat(t)},lat_0:function(t){e.lat0=t*r},lat_1:function(t){e.lat1=t*r},lat_2:function(t){e.lat2=t*r},lat_ts:function(t){e.lat_ts=t*r},lon_0:function(t){e.long0=t*r},lon_1:function(t){e.long1=t*r},lon_2:function(t){e.long2=t*r},alpha:function(t){e.alpha=parseFloat(t)*r},lonc:function(t){e.longc=t*r},x_0:function(t){e.x0=parseFloat(t)},y_0:function(t){e.y0=parseFloat(t)},k_0:function(t){e.k0=parseFloat(t)},k:function(t){e.k0=parseFloat(t)},a:function(t){e.a=parseFloat(t)},b:function(t){e.b=parseFloat(t)},r_a:function(){e.R_A=!0},zone:function(t){e.zone=parseInt(t,10)},south:function(){e.utmSouth=!0},towgs84:function(t){e.datum_params=t.split(",").map(function(t){return parseFloat(t)})},to_meter:function(t){e.to_meter=parseFloat(t)},units:function(t){e.units=t,o[t]&&(e.to_meter=o[t].to_meter)},from_greenwich:function(t){e.from_greenwich=t*r},pm:function(t){e.from_greenwich=(i[t]?i[t]:parseFloat(t))*r},nadgrids:function(t){"@null"===t?e.datumCode="none":e.nadgrids=t},axis:function(t){var n="ewnsud";3===t.length&&-1!==n.indexOf(t.substr(0,1))&&-1!==n.indexOf(t.substr(1,1))&&-1!==n.indexOf(t.substr(2,1))&&(e.axis=t)}};for(a in n)s=n[a],a in l?(u=l[a],"function"==typeof u?u(s):e[u]=s):e[a]=s;return"string"==typeof e.datumCode&&"WGS84"!==e.datumCode&&(e.datumCode=e.datumCode.toLowerCase()),e}},function(t,e,n){function r(t,e,n){t[e]=n.map(function(t){var e={};return i(t,e),e}).reduce(function(t,e){return l(t,e)},{})}function i(t,e){var n;if(!Array.isArray(t))return void(e[t]=!0);n=t.shift(),"PARAMETER"===n&&(n=t.shift()),1===t.length?Array.isArray(t[0])?(e[n]={},i(t[0],e[n])):e[n]=t[0]:t.length?"TOWGS84"===n?e[n]=t:(e[n]={},["UNIT","PRIMEM","VERT_DATUM"].indexOf(n)>-1?(e[n]={name:t[0].toLowerCase(),convert:t[1]},3===t.length&&(e[n].auth=t[2])):"SPHEROID"===n?(e[n]={name:t[0],a:t[1],rf:t[2]},4===t.length&&(e[n].auth=t[3])):["GEOGCS","GEOCCS","DATUM","VERT_CS","COMPD_CS","LOCAL_CS","FITTED_CS","LOCAL_DATUM"].indexOf(n)>-1?(t[0]=["name",t[0]],r(e,n,t)):t.every(function(t){return Array.isArray(t)})?r(e,n,t):i(t,e[n])):e[n]=!0}function o(t,e){var n=e[0],r=e[1];!(n in t)&&r in t&&(t[n]=t[r],3===e.length&&(t[n]=e[2](t[n])))}function a(t){return t*u}function s(t){function e(e){var n=t.to_meter||1;return parseFloat(e,10)*n}"GEOGCS"===t.type?t.projName="longlat":"LOCAL_CS"===t.type?(t.projName="identity",t.local=!0):"object"==typeof t.PROJECTION?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),"metre"===t.units&&(t.units="meter"),t.UNIT.convert&&("GEOGCS"===t.type?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=parseFloat(t.UNIT.convert,10)*t.DATUM.SPHEROID.a):t.to_meter=parseFloat(t.UNIT.convert,10))),t.GEOGCS&&(t.GEOGCS.DATUM?t.datumCode=t.GEOGCS.DATUM.name.toLowerCase():t.datumCode=t.GEOGCS.name.toLowerCase(),"d_"===t.datumCode.slice(0,2)&&(t.datumCode=t.datumCode.slice(2)),"new_zealand_geodetic_datum_1949"!==t.datumCode&&"new_zealand_1949"!==t.datumCode||(t.datumCode="nzgd49"),"wgs_1984"===t.datumCode&&("Mercator_Auxiliary_Sphere"===t.PROJECTION&&(t.sphere=!0),t.datumCode="wgs84"),"_ferro"===t.datumCode.slice(-6)&&(t.datumCode=t.datumCode.slice(0,-6)),"_jakarta"===t.datumCode.slice(-8)&&(t.datumCode=t.datumCode.slice(0,-8)),~t.datumCode.indexOf("belge")&&(t.datumCode="rnb72"),t.GEOGCS.DATUM&&t.GEOGCS.DATUM.SPHEROID&&(t.ellps=t.GEOGCS.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===t.ellps.toLowerCase().slice(0,13)&&(t.ellps="intl"),t.a=t.GEOGCS.DATUM.SPHEROID.a,t.rf=parseFloat(t.GEOGCS.DATUM.SPHEROID.rf,10)),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36")),t.b&&!isFinite(t.b)&&(t.b=t.a),[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_2","Standard_Parallel_2"],["false_easting","False_Easting"],["false_northing","False_Northing"],["central_meridian","Central_Meridian"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",a],["longitude_of_center","Longitude_Of_Center"],["longc","longitude_of_center",a],["x0","false_easting",e],["y0","false_northing",e],["long0","central_meridian",a],["lat0","latitude_of_origin",a],["lat0","standard_parallel_1",a],["lat1","standard_parallel_1",a],["lat2","standard_parallel_2",a],["alpha","azimuth",a],["srsCode","name"]].forEach(function(e){return o(t,e)}),t.long0||!t.longc||"Albers_Conic_Equal_Area"!==t.projName&&"Lambert_Azimuthal_Equal_Area"!==t.projName||(t.long0=t.longc),t.lat_ts||!t.lat1||"Stereographic_South_Pole"!==t.projName&&"Polar Stereographic (variant B)"!==t.projName||(t.lat0=a(t.lat1>0?90:-90),t.lat_ts=t.lat1)}var u=.017453292519943295,l=n(303);t.exports=function(t,e){var n=JSON.parse((","+t).replace(/\s*\,\s*([A-Z_0-9]+?)(\[)/g,',["$1",').slice(1).replace(/\s*\,\s*([A-Z_0-9]+?)\]/g,',"$1"]').replace(/,\["VERTCS".+/,"")),r=n.shift(),o=n.shift();n.unshift(["name",o]),n.unshift(["type",r]),n.unshift("output");var a={};return i(n,a),s(a.output),l(e,a.output)}},function(t,e,n){var r=.017453292519943295,i=57.29577951308232,o=n(860),a=n(861),s=n(302),u=n(427);t.exports=function t(e,n,l){function c(t,e){return(1===t.datum.datum_type||2===t.datum.datum_type)&&"WGS84"!==e.datumCode}var h;return Array.isArray(l)&&(l=u(l)),e.datum&&n.datum&&(c(e,n)||c(n,e))&&(h=new s("WGS84"),t(e,h,l),e=h),"enu"!==e.axis&&a(e,!1,l),"longlat"===e.projName?(l.x*=r,l.y*=r):(e.to_meter&&(l.x*=e.to_meter,l.y*=e.to_meter),e.inverse(l)),e.from_greenwich&&(l.x+=e.from_greenwich),l=o(e.datum,n.datum,l),n.from_greenwich&&(l.x-=n.from_greenwich),"longlat"===n.projName?(l.x*=i,l.y*=i):(n.forward(l),n.to_meter&&(l.x/=n.to_meter,l.y/=n.to_meter)),"enu"!==n.axis&&a(n,!0,l),l}},function(t,e){t.exports=function(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e}},function(t,e){function n(t){return t*(Math.PI/180)}function r(t){return t/Math.PI*180}function i(t){var e,r,i,o,s,u,l,c,h,f=t.lat,d=t.lon,p=6378137,m=n(f),g=n(d);h=Math.floor((d+180)/6)+1,180===d&&(h=60),f>=56&&f<64&&d>=3&&d<12&&(h=32),f>=72&&f<84&&(d>=0&&d<9?h=31:d>=9&&d<21?h=33:d>=21&&d<33?h=35:d>=33&&d<42&&(h=37)),e=6*(h-1)-180+3,c=n(e),r=.006739496752268451,i=p/Math.sqrt(1-.00669438*Math.sin(m)*Math.sin(m)),o=Math.tan(m)*Math.tan(m),s=r*Math.cos(m)*Math.cos(m),u=Math.cos(m)*(g-c),l=p*(.9983242984503243*m-.002514607064228144*Math.sin(2*m)+2639046602129982e-21*Math.sin(4*m)-3.418046101696858e-9*Math.sin(6*m));var v=.9996*i*(u+(1-o+s)*u*u*u/6+(5-18*o+o*o+72*s-58*r)*u*u*u*u*u/120)+5e5,y=.9996*(l+i*Math.tan(m)*(u*u/2+(5-o+9*s+4*s*s)*u*u*u*u/24+(61-58*o+o*o+600*s-330*r)*u*u*u*u*u*u/720));return f<0&&(y+=1e7),{northing:Math.round(y),easting:Math.round(v),zoneNumber:h,zoneLetter:a(f)}}function o(t){var e=t.northing,n=t.easting,i=t.zoneLetter,a=t.zoneNumber;if(a<0||a>60)return null;var s,u,l,c,h,f,d,p,m,g,v=6378137,y=(1-Math.sqrt(.99330562))/(1+Math.sqrt(.99330562)),b=n-5e5,w=e;i<"N"&&(w-=1e7),p=6*(a-1)-180+3,s=.006739496752268451,d=w/.9996,m=d/6367449.145945056,g=m+(3*y/2-27*y*y*y/32)*Math.sin(2*m)+(21*y*y/16-55*y*y*y*y/32)*Math.sin(4*m)+151*y*y*y/96*Math.sin(6*m),u=v/Math.sqrt(1-.00669438*Math.sin(g)*Math.sin(g)),l=Math.tan(g)*Math.tan(g),c=s*Math.cos(g)*Math.cos(g),h=.99330562*v/Math.pow(1-.00669438*Math.sin(g)*Math.sin(g),1.5),f=b/(.9996*u);var x=g-u*Math.tan(g)/h*(f*f/2-(5+3*l+10*c-4*c*c-9*s)*f*f*f*f/24+(61+90*l+298*c+45*l*l-252*s-3*c*c)*f*f*f*f*f*f/720);x=r(x);var _=(f-(1+2*l+c)*f*f*f/6+(5-2*c+28*l-3*c*c+8*s+24*l*l)*f*f*f*f*f/120)/Math.cos(g);_=p+r(_);var E;if(t.accuracy){var M=o({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});E={top:M.lat,right:M.lon,bottom:x,left:_}}else E={lat:x,lon:_};return E}function a(t){var e="Z";return 84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C"),e}function s(t,e){var n="00000"+t.easting,r="00000"+t.northing;return t.zoneNumber+t.zoneLetter+u(t.easting,t.northing,t.zoneNumber)+n.substr(n.length-5,e)+r.substr(r.length-5,e)}function u(t,e,n){var r=l(n);return c(Math.floor(t/1e5),Math.floor(e/1e5)%20,r)}function l(t){var e=t%m;return 0===e&&(e=m),e}function c(t,e,n){var r=n-1,i=g.charCodeAt(r),o=v.charCodeAt(r),a=i+t-1,s=o+e,u=!1;return a>_&&(a=a-_+y-1,u=!0),(a===b||i<b&&a>b||(a>b||i<b)&&u)&&a++,(a===w||i<w&&a>w||(a>w||i<w)&&u)&&++a===b&&a++,a>_&&(a=a-_+y-1),s>x?(s=s-x+y-1,u=!0):u=!1,(s===b||o<b&&s>b||(s>b||o<b)&&u)&&s++,(s===w||o<w&&s>w||(s>w||o<w)&&u)&&++s===b&&s++,s>x&&(s=s-x+y-1),String.fromCharCode(a)+String.fromCharCode(s)}function h(t){if(t&&0===t.length)throw"MGRSPoint coverting from nothing";for(var e,n=t.length,r=null,i="",o=0;!/[A-Z]/.test(e=t.charAt(o));){if(o>=2)throw"MGRSPoint bad conversion from: "+t;i+=e,o++}var a=parseInt(i,10);if(0===o||o+3>n)throw"MGRSPoint bad conversion from: "+t;var s=t.charAt(o++);if(s<="A"||"B"===s||"Y"===s||s>="Z"||"I"===s||"O"===s)throw"MGRSPoint zone letter "+s+" not handled: "+t;r=t.substring(o,o+=2);for(var u=l(a),c=f(r.charAt(0),u),h=d(r.charAt(1),u);h<p(s);)h+=2e6;var m=n-o;if(m%2!=0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+t;var g,v,y,b,w,x=m/2,_=0,E=0;return x>0&&(g=1e5/Math.pow(10,x),v=t.substring(o,o+x),_=parseFloat(v)*g,y=t.substring(o+x),E=parseFloat(y)*g),b=_+c,w=E+h,{easting:b,northing:w,zoneLetter:s,zoneNumber:a,accuracy:g}}function f(t,e){for(var n=g.charCodeAt(e-1),r=1e5,i=!1;n!==t.charCodeAt(0);){if(n++,n===b&&n++,n===w&&n++,n>_){if(i)throw"Bad character: "+t;n=y,i=!0}r+=1e5}return r}function d(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;for(var n=v.charCodeAt(e-1),r=0,i=!1;n!==t.charCodeAt(0);){if(n++,n===b&&n++,n===w&&n++,n>x){if(i)throw"Bad character: "+t;n=y,i=!0}r+=1e5}return r}function p(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}var m=6,g="AJSAJS",v="AFAFAF",y=65,b=73,w=79,x=86,_=90;e.forward=function(t,e){return e=e||5,s(i({lat:t[1],lon:t[0]}),e)},e.inverse=function(t){var e=o(h(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]},e.toPoint=function(t){var e=o(h(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}},function(t,e,n){var r=n(180),i=n(181),o=n(182),a=n(183),s=n(184),u=n(43),l=Math.PI/2,c=n(179),h=n(154);e.init=function(){this.e0=r(this.es),this.e1=i(this.es),this.e2=o(this.es),this.e3=a(this.es),this.ml0=this.a*s(this.e0,this.e1,this.e2,this.e3,this.lat0)},e.forward=function(t){var e,n,r,i=t.x,o=t.y,a=u(i-this.long0),l=Math.sin(o),c=Math.cos(o);if(this.sphere){var h=c*Math.sin(a);if(Math.abs(Math.abs(h)-1)<1e-10)return 93;n=.5*this.a*this.k0*Math.log((1+h)/(1-h)),e=Math.acos(c*Math.cos(a)/Math.sqrt(1-h*h)),o<0&&(e=-e),r=this.a*this.k0*(e-this.lat0)}else{var f=c*a,d=Math.pow(f,2),p=this.ep2*Math.pow(c,2),m=Math.tan(o),g=Math.pow(m,2);e=1-this.es*Math.pow(l,2);var v=this.a/Math.sqrt(e),y=this.a*s(this.e0,this.e1,this.e2,this.e3,o);n=this.k0*v*f*(1+d/6*(1-g+p+d/20*(5-18*g+Math.pow(g,2)+72*p-58*this.ep2)))+this.x0,r=this.k0*(y-this.ml0+v*m*(d*(.5+d/24*(5-g+9*p+4*Math.pow(p,2)+d/30*(61-58*g+Math.pow(g,2)+600*p-330*this.ep2)))))+this.y0}return t.x=n,t.y=r,t},e.inverse=function(t){var e,n,r,i,o,a;if(this.sphere){var s=Math.exp(t.x/(this.a*this.k0)),f=.5*(s-1/s),d=this.lat0+t.y/(this.a*this.k0),p=Math.cos(d);e=Math.sqrt((1-p*p)/(1+f*f)),o=h(e),d<0&&(o=-o),a=0===f&&0===p?this.long0:u(Math.atan2(f,p)+this.long0)}else{var m=t.x-this.x0,g=t.y-this.y0;for(e=(this.ml0+g/this.k0)/this.a,n=e,i=0;!0&&(r=(e+this.e1*Math.sin(2*n)-this.e2*Math.sin(4*n)+this.e3*Math.sin(6*n))/this.e0-n,n+=r,!(Math.abs(r)<=1e-10));i++)if(i>=6)return 95;if(Math.abs(n)<l){var v=Math.sin(n),y=Math.cos(n),b=Math.tan(n),w=this.ep2*Math.pow(y,2),x=Math.pow(w,2),_=Math.pow(b,2),E=Math.pow(_,2);e=1-this.es*Math.pow(v,2);var M=this.a/Math.sqrt(e),S=M*(1-this.es)/e,T=m/(M*this.k0),C=Math.pow(T,2);o=n-M*b*C/S*(.5-C/24*(5+3*_+10*w-4*x-9*this.ep2-C/30*(61+90*_+298*w+45*E-252*this.ep2-3*x))),a=u(this.long0+T*(1-C/6*(1+2*_+w-C/20*(5-2*w+28*_-3*x+8*this.ep2+24*E)))/y)}else o=l*c(g),a=this.long0}return t.x=a,t.y=o,t},e.names=["Transverse_Mercator","Transverse Mercator","tmerc"]},function(t,e){t.exports=function(t,e,n,r){return n*=e,e*=e,r[0]*t-n*(r[1]+e*(r[2]+e*(r[3]+e*r[4])))}},function(t,e,n){t.exports=!n(79)&&!n(133)(function(){return 7!=Object.defineProperty(n(310)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){t.exports=n(114)},function(t,e,n){var r=n(78),i=n(101),o=n(135);t.exports=n(79)?Object.defineProperties:function(t,e){i(t);for(var n,a=o(e),s=a.length,u=0;s>u;)r.f(t,n=a[u++],e[n]);return t}},function(t,e,n){var r=n(134),i=n(102),o=n(895)(!1),a=n(313)("IE_PROTO");t.exports=function(t,e){var n,s=i(t),u=0,l=[];for(n in s)n!=a&&r(s,n)&&l.push(n);for(;e.length>u;)r(s,n=e[u++])&&(~o(l,n)||l.push(n));return l}},function(t,e,n){var r=n(55).document;t.exports=r&&r.documentElement},function(t,e,n){var r=n(134),i=n(157),o=n(313)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){var r=n(188);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(434),i=n(315).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e,n){var r=n(135),i=n(102),o=n(191).f;t.exports=function(t){return function(e){for(var n,a=i(e),s=r(a),u=s.length,l=0,c=[];u>l;)o.call(a,n=s[l++])&&c.push(t?[n,a[n]]:a[n]);return c}}},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i});var r=function(t,e,n){return isFinite(e)&&t<e&&(t=e),isFinite(n)&&t>n&&(t=n),t},i=function(t,e,n){var r=n-e;return t-r*Math.floor((t-e)/r)}},function(t,e,n){var r=n(101);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&r(o.call(t)),e}}},function(t,e,n){var r=n(156),i=n(56)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[i]===t)}},function(t,e,n){"use strict";var r=n(55),i=n(22),o=n(78),a=n(79),s=n(56)("species");t.exports=function(t){var e="function"==typeof i[t]?i[t]:r[t];a&&e&&!e[s]&&o.f(e,s,{configurable:!0,get:function(){return this}})}},function(t,e,n){var r=n(92);t.exports=function(t,e){if(!r(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(t,e,n){var r=n(56)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},t(o)}catch(t){}return n}},function(t,e){function n(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}t.exports=n},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(e,n(34))},function(t,e,n){var r=n(948),i=n(162),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(t){return i(t)&&a.call(t,"callee")&&!s.call(t,"callee")};t.exports=u},function(t,e,n){(function(t){var r=n(116),i=n(949),o="object"==typeof e&&e&&!e.nodeType&&e,a=o&&"object"==typeof t&&t&&!t.nodeType&&t,s=a&&a.exports===o,u=s?r.Buffer:void 0,l=u?u.isBuffer:void 0,c=l||i;t.exports=c}).call(e,n(164)(t))},function(t,e){function n(t,e){return!!(e=null==e?r:e)&&("number"==typeof t||i.test(t))&&t>-1&&t%1==0&&t<e}var r=9007199254740991,i=/^(?:0|[1-9]\d*)$/;t.exports=n},function(t,e,n){var r=n(950),i=n(951),o=n(952),a=o&&o.isTypedArray,s=a?i(a):r;t.exports=s},function(t,e){function n(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}var r=9007199254740991;t.exports=n},function(t,e,n){function r(t){if(!i(t))return o(t);var e=[];for(var n in Object(t))s.call(t,n)&&"constructor"!=n&&e.push(n);return e}var i=n(328),o=n(953),a=Object.prototype,s=a.hasOwnProperty;t.exports=r},function(t,e){function n(t,e){return function(n){return t(e(n))}}t.exports=n},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(1),o=n.n(i),a=n(161),s=n.n(a),u=n(326),l=n(329),c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),o()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),h=function(){function t(e){var n=e.uriManager,i=e.authHeaders,o=e.maxConcurrent,a=void 0===o?2:o;r(this,t),this._cache={},s()(this,CM.Events.prototype),this._tileClient=new u.b({uriManager:n,authHeaders:i,maxConcurrent:a}),this._onTileLoadEnd=this._onTileLoadEnd.bind(this),this.onTileLoadError=this.onTileLoadError.bind(this),CM.El.addEvent(this._tileClient,u.a,this.onTileLoadError)}return c(t,[{key:"setUriManager",value:function(t){this._tileClient.setUriManager(t)}},{key:"loadFromId",value:function(t,e){var n=this._tileClient,r=new l.a(t,"A",0,0,0);n.add(r,e)}},{key:"getCacheFromId",value:function(t){var e=this._cache[t];return e&&e.loaded===e.max?e.thumbs:null}},{key:"_onTileLoadEnd",value:function(t,e){var n=this._cache[t.id];n&&(e?(n.loaded++,n.thumbs[t.face]=t):(n.failed++,n.loading[t.face]=!1))}},{key:"onTileLoadError",value:function(t){this.fireEvent(u.a,t)}},{key:"clearPending",value:function(){for(var t=this._tileClient,e=this._cache,n=t.getPending(),r=n.length;r-- >0;){var i=n[r],o=i.id;o in e&&(e[o].loading[i.face]=!1)}this._tileClient.clearPending()}},{key:"clearCache",value:function(){this.clearPending(),this._cache={}}}]),t}();e.a=h},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(16),o=n.n(i),a=n(1),s=n.n(a),u=n(4),l=n.n(u),c=n(161),h=n.n(c),f=n(458),d=(n(459),n(326)),p=n(329),m=n(456),g=n(964),v=n(965),y=n(240),b=n(966),w=l.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},x=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),s()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),_=function(){function t(e,n){var i=n.uriManager,o=n.depthMapUriManager,a=n.authHeaders,s=n.maxConcurrent,u=n.enableDepth,l=void 0===u||u;r(this,t),this.active=!1,this.drawThumbs=!0,this.thumbsLoaded=!1,this._depthEnabled=!1,this._depthCubeLoaded=!1,this._depthCubeLoadingCount=0,h()(this,CM.Events.prototype);var c=void 0!==o;this.viewer=e,this.camera=e._camera;var p=this.tileSchema=e.getTileSchema(),y=this.zoomResolutions=p.zoomResolutions,b=y.length,x=this.tileDimensionPerZoom=p.zoomTileDimensionalities,_=this.maxFaceSize=p.maxZoomResolution;this.onTileLoadComplete=this.onTileLoadComplete.bind(this),this.onTileLoadError=this.onTileLoadError.bind(this),this.onDepthTileLoadComplete=this.onDepthTileLoadComplete.bind(this);var E={uriManager:i,authHeaders:a,maxConcurrent:s},M=this._tileClient=new d.b(E);CM.El.addEvent(M,CM.aperture.TILE_LOAD_ERROR,this.onTileLoadError);var S=this._thumbClient=new m.a(E);if(CM.El.addEvent(S,CM.aperture.TILE_LOAD_ERROR,this.onTileLoadError),c){var T=w({},E,{uriManager:o}),C=this._depthTileClient=new d.b(T);CM.El.addEvent(C,CM.aperture.TILE_LOAD_ERROR,this.onTileLoadError),this.enableDepth(l)}for(var I=void 0,O=b-1;O>=0;--O){if(y[O]===_){I=O;break}if(y[O]<_){I=O<b-1?O+1:O;break}}this.maxZoom=I,b=this.numZoomLevels=I+1;var A=this.maxTileDimension=x[I];this.maxTileSize=this.maxFaceSize/this.maxTileDimension;for(var L=this.cube=new f.c(A),R=this.maxCells=this.cube.quadsPerEdge,N=this.maxCellsSquared=R*R,P=2*Math.tan(.25*Math.PI),k=Math.atan(P/y[0]),D=this.zoomThresholds=[],F=0;F<I;++F){var j=k;k=Math.atan(P/y[F+1]),D[F]=(1-.8)*k+.8*j}for(var U=this.clipVerticesPerFace=[],B=this.zoomLUTPerCell=[],z=this.tileLUTPerZoom=[],V=0;V<6;++V){U[V]=L.getQuadVertices(R,V,0,0),B[V]=[],z[V]=[];for(var G=0;G<N;++G)B[V][G]=new g.a;for(var H=0;H<b;++H)z[V][H]=new v.a(x[H]*x[H])}}return x(t,[{key:"enableDepth",value:function(t){this._depthEnabled=this._depthTileClient&&t}},{key:"isDepthEnabled",value:function(){return this._depthEnabled}},{key:"loadDepthCube",value:function(){var t=this.recording,e=this._depthEnabled,n=this._depthCubeLoaded,r=this._depthCubeLoadingCount,i=this._depthTileClient;if(!(!e||n||r>0)&&t&&t.hasDepthMap)for(var o=t.id,a=0;a<6;++a)for(var s=0;s<9;++s){var u=s%3,l=(s-u)/3,c=new p.a(o,a,2,u,l);i.add(c,this.onDepthTileLoadComplete),++this._depthCubeLoadingCount}}},{key:"onTileLoadError",value:function(t){this.fireEvent(CM.aperture.TILE_LOAD_ERROR,t)}},{key:"deactivate",value:function(){for(var t=this.zoomLUTPerCell,e=this.tileLUTPerZoom,n=0;n<6;++n){var r=!0,i=!1,a=void 0;try{for(var s,u=o()(t[n]);!(r=(s=u.next()).done);r=!0){s.value.reset()}}catch(t){i=!0,a=t}finally{try{!r&&u.return&&u.return()}finally{if(i)throw a}}var l=!0,c=!1,h=void 0;try{for(var f,d=o()(e[n]);!(l=(f=d.next()).done);l=!0){f.value.reset()}}catch(t){c=!0,h=t}finally{try{!l&&d.return&&d.return()}finally{if(c)throw h}}}this._depthCubeLoaded=!1,this._depthCubeLoadingCount=0,this.active=!1,this.drawThumbs=!0,this.thumbsLoaded=!1,this._tileClient.clearPending(),this._depthTileClient&&this._depthTileClient.clearPending()}},{key:"activate",value:function(){this.active=!0}},{key:"update",value:function(){var t=this.active,e=this.recording;if(t&&e){for(var n=this.maxZoom,r=this.clipVerticesPerFace,i=this.camera,a=i.width,s=i.height,u=i.focalLength,l=i.offsetProjectionMatrix,c=this.tileLUTPerZoom,h=this.zoomLUTPerCell,f=this.zoomThresholds,d=this.tileDimensionPerZoom,m=this.maxTileDimension,g=this.cube,v=this._tileClient,y=v.getLoadCount(),w=.5*a,x=.5*s,_=0;_<6;++_){var E=c[_][n];if(E.max!==E.now){var M=Object(b.a)(r[_],l,a,s),S=M.length;if(0!==S){var T=0,C=0,I=!0,O=!1,A=void 0;try{for(var L,R=o()(M);!(I=(L=R.next()).done);I=!0){var N=L.value;T+=N[0],C+=N[1]}}catch(t){O=!0,A=t}finally{try{!I&&R.return&&R.return()}finally{if(O)throw A}}T/=S,C/=S;var P=Math.min(Math.abs(Math.atan((T+.5-w)/u)-Math.atan((T-.5-w)/u)),Math.abs(Math.atan((C+.5-x)/u)-Math.atan((C-.5-x)/u))),k=0,D=-1;if(P<=f[n-1])k=n;else{for(var F=n-1;F>=0;--F)if(E=c[_][F],E.now>=E.max){D=F;break}for(var j=0;j<n;++j)if(P>f[j]){k=j;break}}if(!(D>=k)){E=c[_][k];for(var U=h[_],B=d[k],z=m/B,V=0;V<B;++V)for(var G=0;G<B;++G){for(var H=[],q=0;q<z;++q)for(var W=(z*V+q)*m+z*G,Y=0;Y<z;++Y,++W)U[W].loadingZoom<k&&H.push(W);if(H.length>0&&Object(b.a)(g.getQuadVertices(z,_,G,V),l,a,s).length>0){var X=new p.a(e.id,_,k,G,V);v.add(X,this.onTileLoadComplete);for(var Z=0,K=H.length;Z<K;++Z){var $=H[Z];U[$].loadingZoom=k}E.now++}}}}}}0===y&&v.getLoadCount()>0&&this.onviewloadstart()}}},{key:"_updateFromThumbTiles",value:function(t){this.onviewloadstart();for(var e=this.tileLUTPerZoom,n=0;n<6;++n){try{this._updateCubeFace(n,0,0,0,t[n].img,!0)}catch(t){}var r=e[n][0];r.now=r.max}this.onviewloadend(),this.onviewloadendfromthumbs()}},{key:"_updateCubeFace",value:function(t,e,n,r,i,o){for(var a=this.maxTileDimension,s=this.maxTileSize,u=this.viewer,l=this.zoomLUTPerCell[t],c=this.tileDimensionPerZoom[e],h=this.zoomResolutions[e],f=h/c,d=a/c,p=f/d,m=0,g=d*r;m<d;++m,++g)for(var v=0,y=d*n;v<d;++v,++y){var b=g*a+y,w=l[b];if(w.currentZoom<e){w.currentZoom=e,w.failed=!o;var x=v*p,_=m*p,E=s*y,M=s*g;o&&u._drawImageTile(t,i,x,_,p,p,E,M,s,s)}}}},{key:"_updateDepthFace",value:function(t,e,n,r,i,o){for(var a=(this.maxTileDimension,this.maxTileSize),s=this.viewer,u=this.tileDimensionPerZoom[e],l=this.zoomResolutions[e],c=l/u,h=c/1,f=0,d=1*r;f<1;++f,++d)for(var p=0,m=1*n;p<1;++p,++m){var g=p*h,v=f*h,y=a*m,b=a*d;o&&s._drawDepthTile(t,i,g,v,h,h,y,b,a,a)}}},{key:"_updateThumbFaces",value:function(t,e){for(var n=this.viewer,r=this.maxFaceSize,i=[1,3,5,4,2,0],o=0;o<6;++o){var a=256*i[o],s=a;e&&n._drawImageTile(o,t,s,0,256,256,0,0,r,r)}}},{key:"onTileLoadComplete",value:function(t,e){var n=this.viewer,r=this.zoomLUTPerCell,i=this.tileLUTPerZoom;if(t.id===n.getPanoramaId())if(0===t.zoom){if(e){this.thumbsLoaded=!0,this._updateThumbFaces(t.img,e);for(var o=0;o<6;++o){for(var a=r[o],s=0;s<a.length;++s)a[s].currentZoom=0;var u=i[o];u[0].now=u[0].max}this.activate()}}else this._updateCubeFace(t.face,t.zoom,t.column,t.row,t.img,e);0===this._tileClient.getLoadCount()&&this.onviewloadend()}},{key:"onDepthTileLoadComplete",value:function(t,e){var n=this.viewer;t.id===n.getPanoramaId()&&(--this._depthCubeLoadingCount,0===this._depthCubeLoadingCount&&(this._depthCubeLoaded=!0),e&&this._updateDepthFace(t.face,t.zoom,t.column,t.row,t.img,e))}},{key:"preloadPanorama",value:function(t){this._thumbClient.loadFromId(t,this.onTileLoadComplete)}},{key:"clearPreloadPending",value:function(){this._thumbClient.clearPending()}},{key:"clearPreloadCache",value:function(){this._thumbClient.clearCache()}},{key:"getUriManager",value:function(){return this._tileClient.getUriManager()}},{key:"getDepthUriManager",value:function(){return this._depthTileClient?this._depthTileClient.getUriManager():null}},{key:"setUriManager",value:function(t){this._tileClient.setUriManager(t),this._thumbClient.setUriManager(t)}},{key:"prepareForLoading",value:function(t){this.recording=t;var e=y.c[t.tileSchema];this.maxZoom="maxZoom"in e?e.maxZoom:0,this.clearPreloadCache(),this.loadDepthCube()}},{key:"onviewloadstart",value:function(){}},{key:"onviewloadend",value:function(){}},{key:"onviewloadendfromthumbs",value:function(){dispatchEvent(new CustomEvent("previewComplete",null))}}]),t}();e.a=_},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"b",function(){return l}),n.d(e,"a",function(){return c});var i=n(1),o=n.n(i),a=n(46),s=(n.n(a),function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),o()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}()),u=function(){function t(e){r(this,t),this.quadsPerEdge=e,this.quadsPerFace=e*e;var n=this.verticesPerEdge=e+1,i=this.verticesPerFace=n*n,o=this.vertices=new Array(6*i),s=20/e,u=0,l=void 0,c=void 0,h=void 0,f=void 0,d=void 0;for(c=0,d=10;c<n;++c,d-=s)for(l=0,f=10;l<n;++l,f-=s)o[u++]=a.vec3.clone([10,f,d]);for(c=0,d=10;c<n;++c,d-=s)for(l=0,f=-10;l<n;++l,f+=s)o[u++]=a.vec3.clone([-10,f,d]);for(c=0,f=-10;c<n;++c,f+=s)for(l=0,h=-10;l<n;++l,h+=s)o[u++]=a.vec3.clone([h,f,10]);for(c=0,f=10;c<n;++c,f-=s)for(l=0,h=-10;l<n;++l,h+=s)o[u++]=a.vec3.clone([h,f,-10]);for(c=0,d=10;c<n;++c,d-=s)for(l=0,h=10;l<n;++l,h-=s)o[u++]=a.vec3.clone([h,-10,d]);for(c=0,d=10;c<n;++c,d-=s)for(l=0,h=-10;l<n;++l,h+=s)o[u++]=a.vec3.clone([h,10,d])}return s(t,[{key:"getQuadVertices",value:function(t,e,n,r){var i=this.vertices,o=this.verticesPerEdge,a=this.verticesPerFace,s=a*e,u=void 0,l=new Array(4);return u=s+t*(r*o+n),l[0]=i[u],u+=t,l[1]=i[u],u+=t*o,l[2]=i[u],u-=t,l[3]=i[u],l}}]),t}();e.c=u;var l=[1,-1,-1,0,1,1,1,-1,0,0,1,1,1,1,0,1,-1,1,1,1,-1,-1,-1,1,1,-1,-1,1,0,1,-1,1,1,0,0,-1,1,-1,1,0,-1,1,-1,0,1,-1,1,1,0,0,1,1,1,1,0,1,1,-1,1,1,-1,-1,-1,0,0,1,-1,-1,1,0,1,-1,1,1,1,-1,-1,1,0,1,-1,-1,1,1,1,1,-1,1,0,1,1,1,1,0,0,-1,1,1,1,0,-1,-1,-1,0,1,-1,1,-1,0,0,1,1,-1,1,0,1,-1,-1,1,1],c=[0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23]},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=h()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(l.a?l()(t,e):t.__proto__=e)}var a=n(10),s=n.n(a),u=n(9),l=n.n(u),c=n(5),h=n.n(c),f=n(1),d=n.n(f),p=n(160),m=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),g=function(t){function e(){return r(this,e),i(this,(e.__proto__||s()(e)).apply(this,arguments))}return o(e,t),m(e,[{key:"getTileUri",value:function(t,e,n,r,i){if(2!==n)return null;var o=this.apiKey,a=0===n?t+"_0_A_0_0":t+"_"+n+"_"+"RLUDBF".charAt(e)+"_"+r+"_"+i+".png";return o&&(a+="?apiKey="+o),this._selectDataUriHashBased(a)+a}}]),e}(p.a);e.a=g},function(t,e,n){"use strict";(function(t){function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return c()(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"b",function(){return D});var o=n(104),a=n.n(o),s=n(71),u=n.n(s),l=n(31),c=n.n(l),h=n(1),f=n.n(h),d=n(4),p=n.n(d),m=n(19),g=n.n(m),v=n(16),y=n.n(v),b=n(105),w=n.n(b),x=n(46),_=(n.n(x),n(29)),E=n.n(_),M=n(161),S=n.n(M),T=n(322),C=(n(160),n(971)),I=n(461),O=n(457),A=n(240),L=n(39),R=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=y()(t);!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(g()(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),N=p.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},P=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),f()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),k=u.a,D={tileSchema:A.a,width:720,height:480,yawOffset:0,yaw:0,pitch:0,pitchRange:[Object(L.e)(-90),Object(L.e)(90)],verticalRange:[NaN,NaN],hFov:Object(L.e)(110),hFovRange:[Object(L.e)(12),Object(L.e)(130)],clearColor:[102,102,102]};CM.aperture.EVENT_ENTER_FRAME="enterframe",CM.aperture.EVENT_VIEW_CHANGE="viewchange",CM.aperture.EVENT_VIEW_LOAD_START="viewloadstart",CM.aperture.EVENT_VIEW_LOAD_END="viewloadend",CM.aperture.EVENT_VIEW_LOAD_END_FROM_THUMBS="viewloadendfromthumbs",CM.aperture.EVENT_PANORAMA_CHANGE="panoramachange",CM.aperture.EVENT_RESIZE="resize",CM.aperture.VIEWER_TILE_LOAD_ERROR="viewertileloaderror";var F=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e),this._boundInteractionListeners=[],this._isMoveInteracting=!1,this._isZoomInteracting=!1,this._isDragInteracting=!1,this._pointerDown=!1,this._currentPointerPos=x.vec4.create([NaN,NaN,NaN,NaN]),this._touches=[],this._longPressZoomed=!1,this._allowRotateWhenZoomed=!0,S()(this,CM.Events.prototype),Object(T.a)(this);var n=N({},D,t);this._idViewer=w()(),this._width=n.width,this._height=n.height,this.clearColor=n.clearColor,this.setPitchRange(n.pitchRange),this.setHFovRange(n.hFovRange),this.setVerticalRange(n.verticalRange),this.setOrientation({yaw:n.yaw,pitch:n.pitch,hFov:n.hFov}),this._camera=new C.a;var r=this._viewerContainer=CM.El.id(t.viewerContainer);if(!r)throw new Error("Container element not found.");if(!this.setTileSchema(n.tileSchema))throw new Error("Could not initialize tile schema");CM.El.adopt(r,this._viewerWrapper=CM.El.create("div",{class:"panorama-viewer-container",styles:{position:"relative",width:"100%",height:"100%",userSelect:"none"}})),this.invalidateSize();var o=this._onViewLoadStart=this._onViewLoadStart.bind(this),a=this._onViewLoadEnd=this._onViewLoadEnd.bind(this),s=this._onViewLoadEndFromThumbs=this._onViewLoadEndFromThumbs.bind(this),u=this._onTileLoadError=this._onTileLoadError.bind(this);this._addInteractionListener=this._addInteractionListener.bind(this),this._onViewerInteractionDown=this._onViewerInteractionDown.bind(this),this._onDocumentInteractionUp=this._onDocumentInteractionUp.bind(this),this._onDocumentPointerMove=this._onDocumentPointerMove.bind(this),this._onDocumentPointerOut=this._onDocumentPointerOut.bind(this),this._onViewerMouseWheel=this._onViewerMouseWheel.bind(this),this._onWindowResize=this._onWindowResize.bind(this),this._onViewerDeviceMotion=this._onViewerDeviceMotion.bind(this),this._onViewerDeviceOrientation=this._onViewerDeviceOrientation.bind(this);var l=t.uriManager||new I.a,c=this._viewportTileLoader=new O.a(this,N({},t,{uriManager:l}));c.setUriManager(l),c.onviewloadstart=o,c.onviewloadend=a,c.onviewloadendfromthumbs=s,CM.El.addEvent(c,CM.aperture.TILE_LOAD_ERROR,u),this._addInteractionListeners()}return P(e,[{key:"destroy",value:function(){this._destroyed||(this._removeInteractionListeners(),this.setUseDeviceMotion(!1),this.setUseDeviceOrientation(!1),this._viewerContainer.removeChild(this._viewerWrapper),this._destroyed=!0)}},{key:"_onTileLoadError",value:function(t){this.fireEvent(CM.aperture.TILE_LOAD_ERROR,t)}},{key:"getTileSchema",value:function(){return this._tileSchema}},{key:"setTileSchema",value:function(t){return!!(t&&Array.isArray(t.zoomResolutions)&&Array.isArray(t.zoomTileDimensionalities)&&k(t.maxZoomResolution))&&(this._tileSchema=t,!0)}},{key:"getUriManager",value:function(){return this._viewportTileLoader.getUriManager()}},{key:"setUriManager",value:function(t){this._uriManager=t,this._viewportTileLoader.setUriManager(t)}},{key:"_constrainView",value:function(){var t=this._yaw,e=this._pitch,n=this._hFov,r=this._width,i=this._height,o=this._hFovRange,a=this._pitchRange,s=R(this._verticalRange,2),u=s[0],l=s[1];t=Object(L.f)(t,0,2*Math.PI),e=Object(L.c)(e,a[0],a[1]),n=Object(L.c)(n,o[0],o[1]);var c=r/(2*Math.tan(.5*n)),h=2*Math.atan(.5*i/c);if(k(u)&&k(l)){var f=l-u;h>f&&(h=f,c=i/(2*Math.tan(.5*h)),n=2*Math.atan(.5*r/c))}e=Object(L.c)(e,k(u)?u+h/2:NaN,k(l)?l-h/2:NaN),this._yaw=t,this._pitch=e,this._hFov=n}},{key:"animateFrame",value:function(t,e){if(!this._destroyed){this.fireEvent(CM.aperture.EVENT_ENTER_FRAME),this._constrainView();var n=this._width,r=this._height,i=this._hFov,o=this._yaw,a=this._pitch,s=Math.round(n),u=Math.round(r);this._camera.update(s,u,o,a,i),this._viewportTileLoader.update(),this._render(s,u),this.fireEvent(CM.aperture.EVENT_VIEW_CHANGE,{yaw:o,pitch:a,hFov:i})}}},{key:"_render",value:function(t,e){}},{key:"_drawImageTile",value:function(t,e,n,r,i,o,a,s,u,l){}},{key:"_clear",value:function(){}},{key:"_getViewerSize",value:function(){return CM.El.getSize(this._viewerWrapper)}},{key:"_getViewerWidth",value:function(){return this._getViewerSize().width}},{key:"_getViewerHeight",value:function(){return this._getViewerSize().height}},{key:"invalidateSize",value:function(){var t=this._getViewerSize(),e=t.width,n=t.height;e===this._width&&n===this._height||(this._width=e,this._height=n,this.requestAnimationFrame(),this.fireEvent(CM.aperture.EVENT_RESIZE,{width:e,height:n}))}},{key:"getViewerType",value:function(){return this.constructor.VIEWER_TYPE}},{key:"getViewerId",value:function(){return this._idViewer}},{key:"getOrientation",value:function(){return{yaw:this._yaw,pitch:this._pitch,hFov:this._hFov,yawOffset:this._yawOffset}}},{key:"setOrientation",value:function(t){var e=t.yaw,n=t.pitch,r=t.hFov,i=t.yawOffset,o=this.getOrientation();k(e)&&(this._yaw=e),k(n)&&(this._pitch=n),k(r)&&(this._hFov=r),k(i)&&(this._yawOffset=i),this._constrainView();var a=this.getOrientation();E.a.isEqual(a,o)||this.requestAnimationFrame()}},{key:"getYawOffset",value:function(){return this._yawOffset}},{key:"setYawOffset",value:function(t){this.setOrientation({yawOffset:t})}},{key:"getYaw",value:function(){return this._yaw}},{key:"setYaw",value:function(t){this.setOrientation({yaw:t})}},{key:"getPitch",value:function(){return this._pitch}},{key:"setPitch",value:function(t){this.setOrientation({pitch:t})}},{key:"getPitchRange",value:function(){return[].concat(r(this._pitchRange))}},{key:"setPitchRange",value:function(t){this._pitchRange=[].concat(r(t))}},{key:"getVerticalRange",value:function(){return[].concat(r(this._verticalRange))}},{key:"setVerticalRange",value:function(t){this._verticalRange=[].concat(r(t))}},{key:"getHFov",value:function(){return this._hFov}},{key:"setHFov",value:function(t){this.setOrientation({hFov:t})}},{key:"getHFovRange",value:function(){return[].concat(r(this._hFovRange))}},{key:"setHFovRange",value:function(t){this._hFovRange=[].concat(r(t))}},{key:"getFocalLength",value:function(){return.5*this._width/Math.tan(.5*this._hFov)}},{key:"getVFov",value:function(){return 2*Math.atan(Math.tan(.5*this._hFov)*this._height/this._width)}},{key:"getPanoramaId",value:function(){return this._idPanorama}},{key:"openPanorama",value:function(t){this._idPanorama!==t&&(this._idPanorama=t,this._viewportTileLoader.deactivate(),this._viewportTileLoader.preloadPanorama(t),this.requestAnimationFrame(),this.fireEvent(CM.aperture.EVENT_PANORAMA_CHANGE))}},{key:"getUseDeviceMotion",value:function(){return this._useDeviceMotion}},{key:"getUseDeviceOrientation",value:function(){return this._useDeviceOrientation}},{key:"setUseDeviceMotion",value:function(t){if(this._useDeviceMotion!==t){t?this._addInteractionListener(window,"devicemotion",this._onViewerDeviceMotion):this._removeInteractionListenerByEvent("devicemotion"),this._useDeviceMotion=t}}},{key:"setUseDeviceOrientation",value:function(t){if(this._useDeviceOrientation!==t){t?this._addInteractionListener(window,"deviceorientation",this._onViewerDeviceOrientation):this._removeInteractionListenerByEvent("deviceorientation"),this._useDeviceOrientation=t}}},{key:"setAllowRotateWhenZoomed",value:function(t){this._allowRotateWhenZoomed!==t&&(this._allowRotateWhenZoomed=t)}},{key:"_onViewLoadStart",value:function(){this.fireEvent(CM.aperture.EVENT_VIEW_LOAD_START)}},{key:"_onViewLoadEnd",value:function(){this.fireEvent(CM.aperture.EVENT_VIEW_LOAD_END)}},{key:"_onViewLoadEndFromThumbs",value:function(){this.fireEvent(CM.aperture.EVENT_VIEW_LOAD_END_FROM_THUMBS)}},{key:"_addInteractionListener",value:function(t,e,n){CM.El.addEvent(t,e,n),this._boundInteractionListeners.push([t,e,n])}},{key:"_addInteractionListeners",value:function(){this._removeInteractionListeners(),this._isMoveInteracting=!1,this._isZoomInteracting=!1,this._interactionDownX=0,this._interactionDownY=0,this._interactionDownPitch=0,this._interactionDownYaw=0,this._interactionTouchZoomLength=0;var e=this._viewerWrapper;this._addInteractionListener(e,"pointerdown",this._onViewerInteractionDown),this._addInteractionListener(e,"pointerdown",this._onDocumentPointerMove),this._addInteractionListener(document,"pointermove",this._onDocumentPointerMove),this._addInteractionListener(e,"mousewheel",this._onViewerMouseWheel),this._addInteractionListener(t,"resize",this._onWindowResize),this._useDeviceMotion&&(this._useDeviceMotion=!1,this.setUseDeviceMotion(!0)),this._useDeviceOrientation&&(this._useDeviceOrientation=!1,this.setUseDeviceOrientation(!0))}},{key:"_removeInteractionListenerByEvent",value:function(t){for(var e=this._boundInteractionListeners,n=e.length-1;n>=0;--n){var r=e[n];r[1]===t&&(CM.El.removeEvent(r[0],t,r[2]),e.splice(n,1))}}},{key:"_removeInteractionListeners",value:function(){for(var t=this._boundInteractionListeners,e=t.length-1;e>=0;--e){var n=t[e];CM.El.removeEvent(n[0],n[1],n[2])}t.length=0}},{key:"_onViewerInteractionDown",value:function(t){var e=this;if(0!==t.button)return void t.preventDefault();this._pointerDown=!0;var n=document,r=t.pointerId,i=t.pageX,o=t.pageY;t.isPrimary?(this._longPressTimer=setTimeout(function(){return e._onLongPressZoom(t)},1e3),this._addInteractionListener(n,"pointerup",this._onDocumentInteractionUp),this._addInteractionListener(n,"pointercancel",this._onDocumentInteractionUp),this._addInteractionListener(n,"pointerout",this._onDocumentPointerOut),this._touches[0]={pointerId:r,pageX:i,pageY:o}):(this._touches.push({pointerId:r,pageX:i,pageY:o}),null!==this._longPressTimer&&(clearTimeout(this._longPressTimer),this._longPressTimer=null)),this._interactionTouchZoomLength=0,this._isDragInteracting=!1,this._down(i,o),this._viewerContainer.focus(),t.preventDefault()}},{key:"_onDocumentPointerMove",value:function(t){var e=this._touches,n=t.pointerId,r=t.pageX,i=t.pageY,o=this._currentPointerPos,s=x.vec4.clone(o),u=CM.El.getPagePos(this._viewerWrapper);if(x.vec4.set(o,Math.floor(r-u.x),Math.floor(i-u.y),NaN,NaN),x.vec4.exactEquals(o,s)||this.requestAnimationFrame(t.buttons),this._pointerDown)if(this._isDragInteracting=Math.abs(e[0].pageX-r)>3||Math.abs(e[0].pageY-i)>3,1===e.length){if(this._longPressZoomed&&!this._allowRotateWhenZoomed||!this._isDragInteracting)return;null!==this._longPressTimer&&(clearTimeout(this._longPressTimer),this._longPressTimer=null),this._isMoveInteracting=!0,this._isZoomInteracting=!1,this._move(r,i)}else if(e.length>1){this._isMoveInteracting=!1,this._isZoomInteracting=!0;var l=e.find(function(t){return t.pointerId===n});l.pageX=r,l.pageY=i;var c=e[0],h=c.pageX,f=c.pageY,d=e[1],p=d.pageX,m=d.pageY,g=a()(p-h,m-f),v=this._hFov,y=v,b=this._interactionTouchZoomLength;if(0!==b){v+=.5*Object(L.e)(b-g);var w=CM.El.getPagePos(this._viewerWrapper),_=(h+p)/2-w.x,E=(f+m)/2-w.y;this._updateYawAndPitchFromHFovChange(y,v,_,E)}this._interactionTouchZoomLength=g}}},{key:"_onDocumentInteractionUp",value:function(t){if(0!==t.button)return void t.preventDefault();var e=this._touches,n=t.pointerId,r=e.findIndex(function(t){return t.pointerId===n}),i=CM.El.getPagePos(this._viewerWrapper);if(e.splice(r,1),null!==this._longPressTimer&&(clearTimeout(this._longPressTimer),this._longPressTimer=null),this._longPressZoomed){this._longPressZoomed=!1;var o=t.pageX-i.x,a=t.pageY-i.y;this._updateYawAndPitchFromHFovChange(this._hFov,this._preLongPressZoomHFov,o,a)}0===e.length&&(this._isMoveInteracting=!1,this._isZoomInteracting=!1,this._pointerDown=!1,this._removeInteractionListenerByEvent("pointerup"),this._removeInteractionListenerByEvent("pointercancel"),this._removeInteractionListenerByEvent("pointerout"))}},{key:"_onLongPressZoom",value:function(t){var e=this._hFov,n=CM.El.getPagePos(this._viewerWrapper);this._longPressTimer=null,this._preLongPressZoomHFov=e;var r=t.pageX-n.x,i=t.pageY-n.y;this._longPressZoomed=!0,this._updateYawAndPitchFromHFovChange(this._preLongPressZoomHFov,this._hFovRange[0],r,i),this._down(t.pageX,t.pageY)}},{key:"_onDocumentPointerOut",value:function(t){t.relatedTarget||t.toElement||(this._isMoveInteracting=!1,this._isDragInteracting=!1)}},{key:"_updateYawAndPitchFromHFovChange",value:function(t,e,n,r){var i=this._hFovRange;if(e=Object(L.c)(e,i[0],i[1]),t!==e){var o=this._width,a=this._height,s=.5/Math.tan(.5*t),u=.5/Math.tan(.5*e),l=n/o-.5,c=r/o-.5*a/o;this._yaw+=Math.atan(u/l)-Math.atan(s/l),this._pitch-=Math.atan(u/c)-Math.atan(s/c),this._hFov=e,this.requestAnimationFrame()}}},{key:"_down",value:function(t,e){var n=CM.El.getPagePos(this._viewerWrapper);this._isMoveInteracting=!0,this._startInteraction(t-n.x,e-n.y)}},{key:"_move",value:function(t,e){if(this._isZoomInteracting=!1,this._isMoveInteracting){var n=CM.El.getPagePos(this._viewerWrapper);this._interact(t-n.x,e-n.y)}}},{key:"_startInteraction",value:function(t,e){this._interactionDownX=t,this._interactionDownY=e,this._interactionDownPitch=this._pitch,this._interactionDownYaw=this._yaw}},{key:"_interact",value:function(t,e){var n=1.2*this._hFov/this._width;this._yaw=(this._interactionDownX-t)*n+this._interactionDownYaw,this._pitch=(e-this._interactionDownY)*n+this._interactionDownPitch,this.requestAnimationFrame()}},{key:"_onViewerMouseWheel",value:function(t){var e=this._hFov,n=e,r=CM.El.getPagePos(this._viewerWrapper),i=t.pageX-r.x,o=t.pageY-r.y;!1===this._isMoveInteracting&&!1===this._isZoomInteracting&&(this._startInteraction(i,o),this._isZoomInteracting=!0);var a=[1,40,window.innerHeight],s="deltaMode"in t?a[t.deltaMode]:1,u=t.deltaY*s/100;e+=Object(L.e)(5*u),this._updateYawAndPitchFromHFovChange(n,e,i,o),t.preventDefault(),this._viewerContainer.focus()}},{key:"_onViewerDeviceMotion",value:function(t){var e=t.rotationData;if(e){var n=e.alpha,r=e.beta,i=e.gamma;this._hFov-=Object(L.e)(Math.round(n)/6),this._pitch-=Object(L.e)(Math.round(r)/4)%Math.PI,this._yaw-=Object(L.e)(Math.round(i)/4)%(2*Math.PI),this.requestAnimationFrame()}}},{key:"_onViewerDeviceOrientation",value:function(t){var e="webkitCompassHeading"in t?t.webkitCompassHeading:null!==t.alpha?270-t.alpha:0,n=t.gamma;this._yaw=Object(L.e)(Math.round(e)),this._pitch=Object(L.e)(Math.round(Math.abs(n)-90)),this.requestAnimationFrame()}},{key:"_onWindowResize",value:function(t){this.invalidateSize()}}]),e}();e.a=F}).call(e,n(34))},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=h()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(l.a?l()(t,e):t.__proto__=e)}var a=n(10),s=n.n(a),u=n(9),l=n.n(u),c=n(5),h=n.n(c),f=n(1),d=n.n(f),p=n(160),m=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),g=function(t){function e(){return r(this,e),i(this,(e.__proto__||s()(e)).apply(this,arguments))}return o(e,t),m(e,[{key:"getTileUri",value:function(t,e,n,r,i){var o=this.apiKey,a=0===n?t+"/0/A/0/0":t+"/"+n+"/"+"RLUDBF".charAt(e)+"/"+r+"/"+i;return o&&(a+="?apiKey="+o),this._selectDataUriHashBased(a)+a}}]),e}(p.a);e.a=g},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(1),o=n.n(i),a=n(161),s=n.n(a),u=n(322),l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),o()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=function(){function t(e){var n=e.viewer;r(this,t),this._visible=!0,this._panoramaTransition=!1,this._viewer=null,this._camera=null,s()(this,CM.Events.prototype),Object(u.a)(this);var i=this._onPanoramaChange=this._onPanoramaChange.bind(this),o=this._onViewChange=this._onViewChange.bind(this),a=this._onViewLoadEnd=this._onViewLoadEnd.bind(this),l=this._onResize=this._onResize.bind(this);this._viewer=n,CM.El.addEvent(n,CM.aperture.EVENT_PANORAMA_CHANGE,i),CM.El.addEvent(n,CM.aperture.EVENT_VIEW_CHANGE,o),CM.El.addEvent(n,CM.aperture.EVENT_VIEW_LOAD_END,a),CM.El.addEvent(n,CM.aperture.EVENT_RESIZE,l),this._camera=n._camera}return l(t,[{key:"_onPanoramaChange",value:function(){this._panoramaTransition=!0,this.requestAnimationFrame()}},{key:"_onViewChange",value:function(){this.animateFrame()}},{key:"_onViewLoadEnd",value:function(){this._panoramaTransition&&(this._panoramaTransition=!1,this.requestAnimationFrame())}},{key:"_onResize",value:function(){this._onViewLoadEnd()}},{key:"getVisible",value:function(){return this._visible}},{key:"setVisible",value:function(t){this._visible!==t&&(this._visible=t,this.invalidateDisplay())}},{key:"clear",value:function(){}},{key:"invalidateDisplay",value:function(){this.requestAnimationFrame()}},{key:"animateFrame",value:function(t){}}]),t}();e.a=c},function(t,e,n){var r=n(101),i=n(186),o=n(56)("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||void 0==(n=r(a)[o])?e:i(n)}},function(t,e,n){var r,i,o,a=n(100),s=n(978),u=n(435),l=n(310),c=n(55),h=c.process,f=c.setImmediate,d=c.clearImmediate,p=c.MessageChannel,m=c.Dispatch,g=0,v={},y=function(){var t=+this;if(v.hasOwnProperty(t)){var e=v[t];delete v[t],e()}},b=function(t){y.call(t.data)};f&&d||(f=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return v[++g]=function(){s("function"==typeof t?t:Function(t),e)},r(g),g},d=function(t){delete v[t]},"process"==n(188)(h)?r=function(t){h.nextTick(a(y,t,1))}:m&&m.now?r=function(t){m.now(a(y,t,1))}:p?(i=new p,o=i.port2,i.port1.onmessage=b,r=a(o.postMessage,o,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(r=function(t){c.postMessage(t+"","*")},c.addEventListener("message",b,!1)):r="onreadystatechange"in l("script")?function(t){u.appendChild(l("script")).onreadystatechange=function(){u.removeChild(this),y.call(t)}}:function(t){setTimeout(a(y,t,1),0)}),t.exports={set:f,clear:d}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,n){var r=n(330);t.exports=function(t,e){var n=r.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=h()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(l.a?l()(t,e):t.__proto__=e)}var a=n(10),s=n.n(a),u=n(9),l=n.n(u),c=n(5),h=n.n(c),f=n(4),d=n.n(f),p=n(160),m=d.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},g="https://atlas.cyclomedia.com/recordings/wfs",v=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,e);for(var o=arguments.length,a=Array(o>1?o-1:0),u=1;u<o;u++)a[u-1]=arguments[u];return i(this,(t=e.__proto__||s()(e)).call.apply(t,[this,m({dataUri:g},n)].concat(a)))}return o(e,t),e}(p.a);e.a=v},function(t,e,n){"use strict";function r(t){return function(){var e=t.apply(this,arguments);return new u.a(function(t,n){function r(i,o){try{var a=e[i](o),s=a.value}catch(t){return void n(t)}if(!a.done)return u.a.resolve(s).then(function(t){r("next",t)},function(t){r("throw",t)});t(s)}return r("next")})}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",function(){return g});var o=n(24),a=n.n(o),s=n(23),u=n.n(s),l=n(1),c=n.n(l),h=n(161),f=n.n(h),d=n(983),p=n(117),m=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),c()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),g={LOAD_START:"smartclickloadstart",LOAD_SUCCESS:"smartclickloadsuccess",LOAD_FAILURE:"smartclickloadfailure",LOAD_COMPLETE:"smartclickloadcomplete",LOAD_CANCEL:"smartclickloadcancel"},v=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,t),f()(this,CM.Events.prototype);var n=e.authHeaders,r=e.apiKey;this._uriManager=new d.a(e),this._authHeaders=n,this._apiKey=r}return m(t,[{key:"getUriManager",value:function(){return this._uriManager}},{key:"setUriManager",value:function(t){this._uriManager=t}},{key:"requestTriangulation",value:function(){function t(t,n,r,i,o){return e.apply(this,arguments)}var e=r(a.a.mark(function t(e,n,r,i,o){var s,u,l,c,h,f;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.fireEvent("smartclickloadstart"),s=this._uriManager.getUriFromClick(e,n,r,i,o)+"&apiKey="+this._apiKey,u=new Headers(this._authHeaders||{}),l=this._uriManager.withCredentials||!1,u.append("Accept","text/xml"),c=new Request(s,{method:"GET",headers:u,withCredentials:l}),h=void 0,t.prev=7,t.next=10,fetch(c);case 10:if(h=t.sent,h.ok){t.next=13;break}throw new Error("REQUEST_FAILED");case 13:return f=Object(p.a)(h),this.fireEvent("smartclickloadsuccess"),this.fireEvent("smartclickloadcomplete"),t.abrupt("return",f);case 19:throw t.prev=19,t.t0=t.catch(7),this.fireEvent("smartclickloadfailure"),this.fireEvent("smartclickloadcomplete"),new Error("smartclickloadfailure");case 24:case"end":return t.stop()}},t,this,[[7,19]])}));return t}()}]),t}();e.b=v},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(1),o=n.n(i),a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),o()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=function(){function t(e,n,i,o,a,s,u,l,c){r(this,t),this.id=e.nextElementId,this.name=n,this.object=i,this.type=o,this.nested=!1,this.hasDependency=void 0!==a&&a,this.onMouseOver=s,this.onMouseOut=u,this.onMouseDown=l,this.onMouseUp=c,this.uniformScale=!1,this.scale=1,this.garbage=!1,void 0===i&&void 0===n||(i.name=n)}return a(t,[{key:"hasGeometry",get:function(){return this.object&&!!this.object.geometry}},{key:"hasMaterial",get:function(){return this.hasGeometry&&!!this.object.material}},{key:"hasBitmapMaterial",get:function(){return this.hasMaterial&&!!this.object.material.map}}]),t}();e.a=s},function(t,e,n){"use strict";function r(t){var e=h.nextPow2(t);p.length<e&&(c.free(p),p=c.mallocInt32(e)),m.length<e&&(c.free(m),m=c.mallocInt32(e)),g.length<e&&(c.free(g),g=c.mallocInt32(e)),v.length<e&&(c.free(v),v=c.mallocInt32(e)),y.length<e&&(c.free(y),y=c.mallocInt32(e)),b.length<e&&(c.free(b),b=c.mallocInt32(e));var n=8*e;w.length<n&&(c.free(w),w=c.mallocDouble(n))}function i(t,e,n,r){var i=e[r],o=t[n-1];t[i]=o,e[o]=i}function o(t,e,n,r){t[n]=r,e[r]=n}function a(t,e,n,r,a,s,u,l,c,h){for(var y=0,b=2*t,x=t-1,_=b-1,E=n;E<r;++E){var M=s[E],S=b*E;w[y++]=a[S+x],w[y++]=-(M+1),w[y++]=a[S+_],w[y++]=M}for(var E=u;E<l;++E){var M=h[E]+d,T=b*E;w[y++]=c[T+x],w[y++]=-M,w[y++]=c[T+_],w[y++]=M}var C=y>>>1;f(w,C);for(var I=0,O=0,E=0;E<C;++E){var A=0|w[2*E+1];if(A>=d)A=A-d|0,i(g,v,O--,A);else if(A>=0)i(p,m,I--,A);else if(A<=-d){A=-A-d|0;for(var L=0;L<I;++L){var R=e(p[L],A);if(void 0!==R)return R}o(g,v,O++,A)}else{A=-A-1|0;for(var L=0;L<O;++L){var R=e(A,g[L]);if(void 0!==R)return R}o(p,m,I++,A)}}}function s(t,e,n,r,a,s,u,l,c,h){for(var d=0,x=2*t,_=t-1,E=x-1,M=n;M<r;++M){var S=s[M]+1<<1,T=x*M;w[d++]=a[T+_],w[d++]=-S,w[d++]=a[T+E],w[d++]=S}for(var M=u;M<l;++M){var S=h[M]+1<<1,C=x*M;w[d++]=c[C+_],w[d++]=1|-S,w[d++]=c[C+E],w[d++]=1|S}var I=d>>>1;f(w,I);for(var O=0,A=0,L=0,M=0;M<I;++M){var R=0|w[2*M+1],N=1&R;if(M<I-1&&R>>1==w[2*M+3]>>1&&(N=2,M+=1),R<0){for(var P=-(R>>1)-1,k=0;k<L;++k){var D=e(y[k],P);if(void 0!==D)return D}if(0!==N)for(var k=0;k<O;++k){var D=e(p[k],P);if(void 0!==D)return D}if(1!==N)for(var k=0;k<A;++k){var D=e(g[k],P);if(void 0!==D)return D}0===N?o(p,m,O++,P):1===N?o(g,v,A++,P):2===N&&o(y,b,L++,P)}else{var P=(R>>1)-1;0===N?i(p,m,O--,P):1===N?i(g,v,A--,P):2===N&&i(y,b,L--,P)}}}function u(t,e,n,r,a,s,u,l,c,h,g,v){var y=0,b=2*t,x=e,_=e+t,E=1,M=1;r?M=d:E=d;for(var S=a;S<s;++S){var T=S+E,C=b*S;w[y++]=u[C+x],w[y++]=-T,w[y++]=u[C+_],w[y++]=T}for(var S=c;S<h;++S){var T=S+M,I=b*S;w[y++]=g[I+x],w[y++]=-T}var O=y>>>1;f(w,O);for(var A=0,S=0;S<O;++S){var L=0|w[2*S+1];if(L<0){var T=-L,R=!1;if(T>=d?(R=!r,T-=d):(R=!!r,T-=1),R)o(p,m,A++,T);else{var N=v[T],P=b*T,k=g[P+e+1],D=g[P+e+1+t];t:for(var F=0;F<A;++F){var j=p[F],U=b*j;if(!(D<u[U+e+1]||u[U+e+1+t]<k)){for(var B=e+2;B<t;++B)if(g[P+B+t]<u[U+B]||u[U+B+t]<g[P+B])continue t;var z,V=l[j];if(void 0!==(z=r?n(N,V):n(V,N)))return z}}}}else i(p,m,A--,L-E)}}function l(t,e,n,r,i,o,a,s,u,l,c){for(var h=0,m=2*t,g=e,v=e+t,y=r;y<i;++y){var b=y+d,x=m*y;w[h++]=o[x+g],w[h++]=-b,w[h++]=o[x+v],w[h++]=b}for(var y=s;y<u;++y){var b=y+1,_=m*y;w[h++]=l[_+g],w[h++]=-b}var E=h>>>1;f(w,E);for(var M=0,y=0;y<E;++y){var S=0|w[2*y+1];if(S<0){var b=-S;if(b>=d)p[M++]=b-d;else{b-=1;var T=c[b],C=m*b,I=l[C+e+1],O=l[C+e+1+t];t:for(var A=0;A<M;++A){var L=p[A],R=a[L];if(R===T)break;var N=m*L;if(!(O<o[N+e+1]||o[N+e+1+t]<I)){for(var P=e+2;P<t;++P)if(l[C+P+t]<o[N+P]||o[N+P+t]<l[C+P])continue t;var k=n(R,T);if(void 0!==k)return k}}}}else{for(var b=S-d,A=M-1;A>=0;--A)if(p[A]===b){for(var P=A+1;P<M;++P)p[P-1]=p[P];break}--M}}}t.exports={init:r,sweepBipartite:a,sweepComplete:s,scanBipartite:u,scanComplete:l};var c=n(335),h=n(243),f=n(1022),d=1<<28,p=c.mallocInt32(1024),m=c.mallocInt32(1024),g=c.mallocInt32(1024),v=c.mallocInt32(1024),y=c.mallocInt32(1024),b=c.mallocInt32(1024),w=c.mallocDouble(8192)},function(t,e,n){"use strict";function r(t,e){var n="abcdef".split("").concat(e),r=[];return t.indexOf("lo")>=0&&r.push("lo=e[k+n]"),t.indexOf("hi")>=0&&r.push("hi=e[k+o]"),n.push(i.replace("_",r.join()).replace("$",t)),Function.apply(void 0,n)}t.exports=r;var i="for(var j=2*a,k=j*c,l=k,m=c,n=b,o=a+b,p=c;d>p;++p,k+=j){var _;if($)if(m===p)m+=1,l+=j;else{for(var s=0;j>s;++s){var t=e[k+s];e[k+s]=e[l],e[l++]=t}var u=f[p];f[p]=f[m],f[m++]=u}}return m"},function(t,e,n){"use strict";function r(t,e){for(var n=new Array(t.length-1),r=1;r<t.length;++r)for(var i=n[r-1]=new Array(t.length-1),o=0,a=0;o<t.length;++o)o!==e&&(i[a++]=t[r][o]);return n}function i(t){for(var e=new Array(t),n=0;n<t;++n){e[n]=new Array(t);for(var r=0;r<t;++r)e[n][r]=["m",r,"[",t-n-1,"]"].join("")}return e}function o(t){return 1&t?"-":""}function a(t){if(1===t.length)return t[0];if(2===t.length)return["sum(",t[0],",",t[1],")"].join("");var e=t.length>>1;return["sum(",a(t.slice(0,e)),",",a(t.slice(e)),")"].join("")}function s(t){if(2===t.length)return[["sum(prod(",t[0][0],",",t[1][1],"),prod(-",t[0][1],",",t[1][0],"))"].join("")];for(var e=[],n=0;n<t.length;++n)e.push(["scale(",a(s(r(t,n))),",",o(n),t[0][n],")"].join(""));return e}function u(t){for(var e=[],n=[],o=i(t),u=[],l=0;l<t;++l)0==(1&l)?e.push.apply(e,s(r(o,l))):n.push.apply(n,s(r(o,l))),u.push("m"+l);var p=a(e),m=a(n),g="orientation"+t+"Exact",v=["function ",g,"(",u.join(),"){var p=",p,",n=",m,",d=sub(p,n);return d[d.length-1];};return ",g].join("");return new Function("sum","prod","scale","sub",v)(h,c,f,d)}function l(t){var e=v[t.length];return e||(e=v[t.length]=u(t.length)),e.apply(void 0,t)}var c=n(336),h=n(473),f=n(474),d=n(475),p=5,m=u(3),g=u(4),v=[function(){return 0},function(){return 0},function(t,e){return e[0]-t[0]},function(t,e,n){var r,i=(t[1]-n[1])*(e[0]-n[0]),o=(t[0]-n[0])*(e[1]-n[1]),a=i-o;if(i>0){if(o<=0)return a;r=i+o}else{if(!(i<0))return a;if(o>=0)return a;r=-(i+o)}var s=3.3306690738754716e-16*r;return a>=s||a<=-s?a:m(t,e,n)},function(t,e,n,r){var i=t[0]-r[0],o=e[0]-r[0],a=n[0]-r[0],s=t[1]-r[1],u=e[1]-r[1],l=n[1]-r[1],c=t[2]-r[2],h=e[2]-r[2],f=n[2]-r[2],d=o*l,p=a*u,m=a*s,v=i*l,y=i*u,b=o*s,w=c*(d-p)+h*(m-v)+f*(y-b),x=(Math.abs(d)+Math.abs(p))*Math.abs(c)+(Math.abs(m)+Math.abs(v))*Math.abs(h)+(Math.abs(y)+Math.abs(b))*Math.abs(f),_=7.771561172376103e-16*x;return w>_||-w>_?w:g(t,e,n,r)}];!function(){for(;v.length<=p;)v.push(u(v.length));for(var e=[],n=["slow"],r=0;r<=p;++r)e.push("a"+r),n.push("o"+r);for(var i=["function getOrientation(",e.join(),"){switch(arguments.length){case 0:case 1:return 0;"],r=2;r<=p;++r)i.push("case ",r,":return o",r,"(",e.slice(0,r).join(),");");i.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation"),n.push(i.join(""));var o=Function.apply(void 0,n);t.exports=o.apply(void 0,[l].concat(v));for(var r=0;r<=p;++r)t.exports[r]=v[r]}()},function(t,e,n){"use strict";function r(t,e){var n=t+e,r=n-t,i=n-r,o=e-r,a=t-i,s=a+o;return s?[s,n]:[n]}function i(t,e){var n=0|t.length,i=0|e.length;if(1===n&&1===i)return r(t[0],e[0]);var o,a,s=n+i,u=new Array(s),l=0,c=0,h=0,f=Math.abs,d=t[c],p=f(d),m=e[h],g=f(m);p<g?(a=d,(c+=1)<n&&(d=t[c],p=f(d))):(a=m,(h+=1)<i&&(m=e[h],g=f(m))),c<n&&p<g||h>=i?(o=d,(c+=1)<n&&(d=t[c],p=f(d))):(o=m,(h+=1)<i&&(m=e[h],g=f(m)));for(var v,y,b,w,x,_=o+a,E=_-o,M=a-E,S=M,T=_;c<n&&h<i;)p<g?(o=d,(c+=1)<n&&(d=t[c],p=f(d))):(o=m,(h+=1)<i&&(m=e[h],g=f(m))),a=S,_=o+a,E=_-o,M=a-E,M&&(u[l++]=M),v=T+_,y=v-T,b=v-y,w=_-y,x=T-b,S=x+w,T=v;for(;c<n;)o=d,a=S,_=o+a,E=_-o,M=a-E,M&&(u[l++]=M),v=T+_,y=v-T,b=v-y,w=_-y,x=T-b,S=x+w,T=v,(c+=1)<n&&(d=t[c]);for(;h<i;)o=m,a=S,_=o+a,E=_-o,M=a-E,M&&(u[l++]=M),v=T+_,y=v-T,b=v-y,w=_-y,x=T-b,S=x+w,T=v,(h+=1)<i&&(m=e[h]);return S&&(u[l++]=S),T&&(u[l++]=T),l||(u[l++]=0),u.length=l,u}t.exports=i},function(t,e,n){"use strict";function r(t,e){var n=t.length;if(1===n){var r=i(t[0],e);return r[0]?r:[r[1]]}var a=new Array(2*n),s=[.1,.1],u=[.1,.1],l=0;i(t[0],e,s),s[0]&&(a[l++]=s[0]);for(var c=1;c<n;++c){i(t[c],e,u);var h=s[1];o(h,u[0],s),s[0]&&(a[l++]=s[0]);var f=u[1],d=s[1],p=f+d,m=p-f,g=d-m;s[1]=p,g&&(a[l++]=g)}return s[1]&&(a[l++]=s[1]),0===l&&(a[l++]=0),a.length=l,a}var i=n(336),o=n(1027);t.exports=r},function(t,e,n){"use strict";function r(t,e){var n=t+e,r=n-t,i=n-r,o=e-r,a=t-i,s=a+o;return s?[s,n]:[n]}function i(t,e){var n=0|t.length,i=0|e.length;if(1===n&&1===i)return r(t[0],-e[0]);var o,a,s=n+i,u=new Array(s),l=0,c=0,h=0,f=Math.abs,d=t[c],p=f(d),m=-e[h],g=f(m);p<g?(a=d,(c+=1)<n&&(d=t[c],p=f(d))):(a=m,(h+=1)<i&&(m=-e[h],g=f(m))),c<n&&p<g||h>=i?(o=d,(c+=1)<n&&(d=t[c],p=f(d))):(o=m,(h+=1)<i&&(m=-e[h],g=f(m)));for(var v,y,b,w,x,_=o+a,E=_-o,M=a-E,S=M,T=_;c<n&&h<i;)p<g?(o=d,(c+=1)<n&&(d=t[c],p=f(d))):(o=m,(h+=1)<i&&(m=-e[h],g=f(m))),a=S,_=o+a,E=_-o,M=a-E,M&&(u[l++]=M),v=T+_,y=v-T,b=v-y,w=_-y,x=T-b,S=x+w,T=v;for(;c<n;)o=d,a=S,_=o+a,E=_-o,M=a-E,M&&(u[l++]=M),v=T+_,y=v-T,b=v-y,w=_-y,x=T-b,S=x+w,T=v,(c+=1)<n&&(d=t[c]);for(;h<i;)o=m,a=S,_=o+a,E=_-o,M=a-E,M&&(u[l++]=M),v=T+_,y=v-T,b=v-y,w=_-y,x=T-b,S=x+w,T=v,(h+=1)<i&&(m=-e[h]);return S&&(u[l++]=S),T&&(u[l++]=T),l||(u[l++]=0),u.length=l,u}t.exports=i},function(t,e,n){"use strict";function r(t){return t&&"object"==typeof t&&Boolean(t.words)}n(244);t.exports=r},function(t,e,n){"use strict";function r(t){var e=o.exponent(t);return e<52?new i(t):new i(t*Math.pow(2,52-e)).ushln(e-52)}var i=n(244),o=n(338);t.exports=r},function(t,e,n){"use strict";function r(t,e){return i(t[0].mul(e[1]),t[1].mul(e[0]))}var i=n(196);t.exports=r},function(t,e,n){"use strict";function r(t,e){return i(t[0].mul(e[0]),t[1].mul(e[1]))}var i=n(196);t.exports=r},function(t,e,n){"use strict";function r(t,e){return i(t[0].mul(e[1]).sub(t[1].mul(e[0])),t[1].mul(e[1]))}var i=n(196);t.exports=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(198);n.d(e,"ViewerType",function(){return r.c}),n.d(e,"Actions",function(){return r.a}),n.d(e,"getState",function(){return r.k}),n.d(e,"getApiReadyState",function(){return r.f}),n.d(e,"verifyApiInit",function(){return r.n}),n.d(e,"Api",function(){return r.b}),n.d(e,"init",function(){return r.l}),n.d(e,"measurementChanged",function(){return r.m}),n.d(e,"getApplicationName",function(){return r.g}),n.d(e,"destroy",function(){return r.d}),n.d(e,"getApplicationVersion",function(){return r.h}),n.d(e,"getPermissions",function(){return r.j}),n.d(e,"getAddressSettings",function(){return r.e}),n.d(e,"getDebugLogs",function(){return r.i});var i=n(1437);n.d(e,"Events",function(){return i.a}),n.d(e,"PanoramaViewerUi",function(){return i.c}),n.d(e,"PanoramaViewer",function(){return i.b}),n.d(e,"openPanorama",function(){return i.f}),n.d(e,"addPanoramaViewer",function(){return i.d}),n.d(e,"destroyPanoramaViewer",function(){return i.e});var o=n(1439);n.d(e,"MeasurementGeometryType",function(){return o.a}),n.d(e,"startMeasurementMode",function(){return o.c}),n.d(e,"stopMeasurementMode",function(){return o.d}),n.d(e,"getActiveMeasurement",function(){return o.b});var a=n(615);n.d(e,"ObliqueViewerUi",function(){return a.a}),n.d(e,"open",function(){return a.c}),n.d(e,"getComponentRef",function(){return a.b}),n.d(e,"setComponentRef",function(){return a.d});var s=n(1440);n.d(e,"addOverlay",function(){return s.a})},function(t,e,n){var r=n(1050),i=n(194),o=n(484),a=n(1064),s=n(1075),u=Array.prototype.slice,l=n(1082),c={on:function(t,e,n){return l.eventsApi(this,"on",t,[e,n])&&e?(this._events||(this._events={}),(this._events[t]||(this._events[t]=[])).push({callback:e,context:n,ctx:n||this}),this):this},once:function(t,e,n){if(!l.eventsApi(this,"once",t,[e,n])||!e)return this;var i=this,o=r(function(){i.off(t,o),e.apply(this,arguments)});return o._callback=e,this.on(t,o,n)},off:function(t,e,n){var r,o,a,s,u,c,h,f;if(!this._events||!l.eventsApi(this,"off",t,[e,n]))return this;if(!t&&!e&&!n)return this._events=void 0,this;for(s=t?[t]:i(this._events),u=0,c=s.length;u<c;u++)if(t=s[u],a=this._events[t]){if(this._events[t]=r=[],e||n)for(h=0,f=a.length;h<f;h++)o=a[h],(e&&e!==o.callback&&e!==o.callback._callback||n&&n!==o.context)&&r.push(o);r.length||delete this._events[t]}return this},trigger:function(t){if(!this._events)return this;var e=u.call(arguments,1);if(!l.eventsApi(this,"trigger",t,e))return this;var n=this._events[t],r=this._events.all;return n&&l.triggerEvents(n,e),r&&l.triggerEvents(r,arguments),this},stopListening:function(t,e,n){var r=this._listeningTo;if(!r)return this;var i=!e&&!n;n||"object"!=typeof e||(n=this),t&&((r={})[t._listenId]=t);var a=this;return s(r,function(t,r){t.off(e,n,a),(i||o(t._events))&&delete a._listeningTo[r]}),this},createEmitter:function(t){return a(t||{},c)},listenTo:l.createListenMethod("on"),listenToOnce:l.createListenMethod("once"),listenToAndRun:function(t,e,n){return this.listenTo.apply(this,arguments),n||"object"!=typeof e||(n=this),n.apply(this),this}};c.bind=c.on,c.unbind=c.off,c.removeListener=c.off,c.removeAllListeners=c.off,c.emit=c.trigger,t.exports=c},function(t,e,n){function r(t){var e=i(t),n=e%1;return e===e?n?e-n:e:0}var i=n(1052);t.exports=r},function(t,e,n){function r(t){if(null==t)return!0;if(u(t)&&(s(t)||"string"==typeof t||"function"==typeof t.splice||l(t)||h(t)||a(t)))return!t.length;var e=o(t);if(e==f||e==d)return!t.size;if(c(t))return!i(t).length;for(var n in t)if(m.call(t,n))return!1;return!0}var i=n(454),o=n(1054),a=n(449),s=n(163),u=n(165),l=n(450),c=n(328),h=n(452),f="[object Map]",d="[object Set]",p=Object.prototype,m=p.hasOwnProperty;t.exports=r},function(t,e){function n(t){if(null!=t){try{return i.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var r=Function.prototype,i=r.toString;t.exports=n},function(t,e,n){function r(t,e,n){var r=t[e];s.call(t,e)&&o(r,n)&&(void 0!==n||e in t)||i(t,e,n)}var i=n(487),o=n(489),a=Object.prototype,s=a.hasOwnProperty;t.exports=r},function(t,e,n){function r(t,e,n){"__proto__"==e&&i?i(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var i=n(488);t.exports=r},function(t,e,n){var r=n(166),i=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=i},function(t,e){function n(t,e){return t===e||t!==t&&e!==e}t.exports=n},function(t,e,n){function r(t){return null==t?"":i(t)}var i=n(1084);t.exports=r},function(t,e){function n(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}t.exports=n},function(t,e,n){var r;!function(i){"use strict";var o=i.HTMLCanvasElement&&i.HTMLCanvasElement.prototype,a=i.Blob&&function(){try{return Boolean(new Blob)}catch(t){return!1}}(),s=a&&i.Uint8Array&&function(){try{return 100===new Blob([new Uint8Array(100)]).size}catch(t){return!1}}(),u=i.BlobBuilder||i.WebKitBlobBuilder||i.MozBlobBuilder||i.MSBlobBuilder,l=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,c=(a||u)&&i.atob&&i.ArrayBuffer&&i.Uint8Array&&function(t){var e,n,r,i,o,c,h,f,d;if(!(e=t.match(l)))throw new Error("invalid data URI");for(n=e[2]?e[1]:"text/plain"+(e[3]||";charset=US-ASCII"),r=!!e[4],i=t.slice(e[0].length),o=r?atob(i):decodeURIComponent(i),c=new ArrayBuffer(o.length),h=new Uint8Array(c),f=0;f<o.length;f+=1)h[f]=o.charCodeAt(f);return a?new Blob([s?h:c],{type:n}):(d=new u,d.append(c),d.getBlob(n))};i.HTMLCanvasElement&&!o.toBlob&&(o.mozGetAsFile?o.toBlob=function(t,e,n){t(n&&o.toDataURL&&c?c(this.toDataURL(e,n)):this.mozGetAsFile("blob",e))}:o.toDataURL&&c&&(o.toBlob=function(t,e,n){t(c(this.toDataURL(e,n)))})),void 0!==(r=function(){return c}.call(e,n,e,t))&&(t.exports=r)}(window)},function(t,e,n){"use strict";var r=n(1092).default;n(1099),e=t.exports=r,e.default=e},function(t,e,n){"use strict";function r(t){var e,n,r,o,a=Array.prototype.slice.call(arguments,1);for(e=0,n=a.length;e<n;e+=1)if(r=a[e])for(o in r)i.call(r,o)&&(t[o]=r[o]);return t}e.extend=r;var i=Object.prototype.hasOwnProperty;e.hop=i},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n){function r(){v===g&&(v=g.slice())}function o(){return m}function s(t){if("function"!=typeof t)throw new Error("Expected listener to be a function.");var e=!0;return r(),v.push(t),function(){if(e){e=!1,r();var n=v.indexOf(t);v.splice(n,1)}}}function c(t){if(!(0,a.default)(t))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===t.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(y)throw new Error("Reducers may not dispatch actions.");try{y=!0,m=p(m,t)}finally{y=!1}for(var e=g=v,n=0;n<e.length;n++){(0,e[n])()}return t}function h(t){if("function"!=typeof t)throw new Error("Expected the nextReducer to be a function.");p=t,c({type:l.INIT})}function f(){var t,e=s;return t={subscribe:function(t){function n(){t.next&&t.next(o())}if("object"!=typeof t)throw new TypeError("Expected the observer to be an object.");return n(),{unsubscribe:e(n)}}},t[u.default]=function(){return this},t}var d;if("function"==typeof e&&void 0===n&&(n=e,e=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(i)(t,e)}if("function"!=typeof t)throw new Error("Expected the reducer to be a function.");var p=t,m=e,g=[],v=g,y=!1;return c({type:l.INIT}),d={dispatch:c,subscribe:s,getState:o,replaceReducer:h},d[u.default]=f,d}e.__esModule=!0,e.ActionTypes=void 0,e.default=i;var o=n(139),a=r(o),s=n(1122),u=r(s),l=e.ActionTypes={INIT:"@@redux/INIT"}},function(t,e,n){"use strict";function r(t){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(t);try{throw new Error(t)}catch(t){}}e.__esModule=!0,e.default=r},function(t,e,n){"use strict";function r(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?function(t){return t}:1===e.length?e[0]:e.reduce(function(t,e){return function(){return t(e.apply(void 0,arguments))}})}e.__esModule=!0,e.default=r},function(t,e){function n(t){return i(t)&&p.call(t,"callee")&&(!g.call(t,"callee")||m.call(t)==c)}function r(t){return null!=t&&a(t.length)&&!o(t)}function i(t){return u(t)&&r(t)}function o(t){var e=s(t)?m.call(t):"";return e==h||e==f}function a(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=l}function s(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function u(t){return!!t&&"object"==typeof t}var l=9007199254740991,c="[object Arguments]",h="[object Function]",f="[object GeneratorFunction]",d=Object.prototype,p=d.hasOwnProperty,m=d.toString,g=d.propertyIsEnumerable;t.exports=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){var e=arguments.length<=1||void 0===arguments[1]?a.default:arguments[1],n=arguments[2];(0,f.default)((0,u.default)(e)||(0,c.default)(e),"Expected payloadCreator to be a function, undefined or null");var r=(0,c.default)(e)||e===a.default?a.default:function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return t instanceof Error?t:e.apply(void 0,[t].concat(r))},i=(0,u.default)(n),o=t.toString(),s=function(){var e=r.apply(void 0,arguments),o={type:t};return e instanceof Error&&(o.error=!0),void 0!==e&&(o.payload=e),i&&(o.meta=n.apply(void 0,arguments)),o};return s.toString=function(){return o},s}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var o=n(167),a=r(o),s=n(115),u=r(s),l=n(1138),c=r(l),h=n(81),f=r(h)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){var e=arguments.length<=1||void 0===arguments[1]?h.default:arguments[1],n=arguments[2],r=t.toString().split(w.ACTION_TYPE_DELIMITER);(0,b.default)(!(0,m.default)(n),"defaultState for reducer handling "+r.join(", ")+" should be defined"),(0,b.default)((0,s.default)(e)||(0,l.default)(e),"Expected reducer to be a function or object with next and throw reducers");var i=(0,s.default)(e)?[e,e]:[e.next,e.throw].map(function(t){return(0,d.default)(t)?h.default:t}),a=o(i,2),u=a[0],c=a[1];return function(){var t=arguments.length<=0||void 0===arguments[0]?n:arguments[0],e=arguments[1],i=e.type;return i&&(0,v.default)(r,i.toString())?(!0===e.error?c:u)(t,e):t}}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e.default=i;var a=n(115),s=r(a),u=n(139),l=r(u),c=n(167),h=r(c),f=n(501),d=r(f),p=n(1139),m=r(p),g=n(1140),v=r(g),y=n(81),b=r(y),w=n(502)},function(t,e){function n(t){return null==t}t.exports=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){return(0,u.default)(t)||(0,c.default)(t)||(0,g.default)(t)}function o(t){return!(0,f.default)(t)&&t.every(i)}function a(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];(0,y.default)(o(e),"Expected action types to be strings, symbols, or action creators");var r=e.map(p.default).join(b);return{toString:function(){return r}}}Object.defineProperty(e,"__esModule",{value:!0}),e.ACTION_TYPE_DELIMITER=void 0,e.default=a;var s=n(345),u=r(s),l=n(115),c=r(l),h=n(484),f=r(h),d=n(490),p=r(d),m=n(342),g=r(m),v=n(81),y=r(v),b=e.ACTION_TYPE_DELIMITER="||"},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){function e(n){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=arguments.length<=2||void 0===arguments[2]?[]:arguments[2],o=(0,a.default)(i.shift());i.length?(r[o]||(r[o]={}),e(n,r[o],i)):r[o]=t[n]}var n=arguments.length<=1||void 0===arguments[1]?d:arguments[1],r={};return Object.getOwnPropertyNames(t).forEach(function(t){return e(t,r,t.split(n))}),r}Object.defineProperty(e,"__esModule",{value:!0}),e.unflattenActionCreators=e.flattenReducerMap=e.flattenActionMap=void 0;var o=n(504),a=r(o),s=n(346),u=r(s),l=n(1149),c=r(l),h=n(139),f=r(h),d="/",p=function(t){return function e(n){function r(t){return a?""+a+i+t:t}var i=arguments.length<=1||void 0===arguments[1]?d:arguments[1],o=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],a=arguments.length<=3||void 0===arguments[3]?"":arguments[3];return(0,u.default)(n).forEach(function(a){var s=r(a),u=n[a];t(u)?e(n[a],i,o,s):o[s]=n[a]}),o}},m=p(f.default),g=p(function(t){return(0,f.default)(t)&&!(0,c.default)(t)});e.flattenActionMap=m,e.flattenReducerMap=g,e.unflattenActionCreators=i},function(t,e,n){"use strict";function r(t){return t.match(i).reduce(function(t,e,n){return t+(0===n?e.toLowerCase():e.charAt(0).toUpperCase()+e.substring(1).toLowerCase())},"")}Object.defineProperty(e,"__esModule",{value:!0});var i=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:(?:1ST|2ND|3RD|(?![123])\dTH)\b)|\d*(?:(?:1st|2nd|3rd|(?![123])\dth)\b)|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g;e.default=function(t){return t.split("/").map(r).join("/")}},function(t,e,n){"use strict"},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=f()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(c.a?c()(t,e):t.__proto__=e)}var s=n(10),u=n.n(s),l=n(9),c=n.n(l),h=n(5),f=n.n(h),d=n(1),p=n.n(d),m=n(4),g=n.n(m),v=n(17),y=n.n(v),b=n(246),w=n(200),x=g.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),p()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),E=function(t){function e(t){var n=r(t,[]);return i(this,e),o(this,(e.__proto__||u()(e)).call(this,x({},e.defaults,n)))}return a(e,t),_(e,[{key:"toMapLayer",value:function(){return new y.a.layer.Group({minResolution:this.minResolution,maxResolution:this.maxResolution,visible:this.visible,layers:this.layers.map(function(t){return Object(b.b)(t).toMapLayer()})})}},{key:"addLayer",value:function(t){this.layers.push(t)}}]),e}(w.a);E.defaults={type:"LayerGroup",nameIntl:"layer.LayerGroup.name",layers:[]},e.a=E},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(4),s=r(a),u=n(13),l=r(u),c=n(6),h=r(c),f=n(7),d=r(f),p=n(8),m=r(p),g=n(12),v=r(g),y=n(0),b=r(y),w=n(3),x=r(w),_=n(14),E=n(47),M=r(E),S=n(60),T=r(S),C={accordion:x.default.bool,activeKey:x.default.any,defaultActiveKey:x.default.any,onSelect:x.default.func,role:x.default.string},I={accordion:!1},O=function(t){function e(n,r){(0,h.default)(this,e);var i=(0,d.default)(this,t.call(this,n,r));return i.handleSelect=i.handleSelect.bind(i),i.state={activeKey:n.defaultActiveKey},i}return(0,m.default)(e,t),e.prototype.handleSelect=function(t,e){e.preventDefault(),this.props.onSelect&&this.props.onSelect(t,e),this.state.activeKey===t&&(t=null),this.setState({activeKey:t})},e.prototype.render=function(){var t=this,e=this.props,n=e.accordion,r=e.activeKey,i=e.className,a=e.children,u=(0,l.default)(e,["accordion","activeKey","className","children"]),c=(0,_.splitBsPropsAndOmit)(u,["defaultActiveKey","onSelect"]),h=c[0],f=c[1],d=void 0;n&&(d=null!=r?r:this.state.activeKey,f.role=f.role||"tablist");var p=(0,_.getClassSet)(h);return b.default.createElement("div",(0,o.default)({},f,{className:(0,v.default)(i,p)}),T.default.map(a,function(e){var r={bsStyle:e.props.bsStyle||h.bsStyle};return n&&(0,s.default)(r,{headerRole:"tab",panelRole:"tabpanel",collapsible:!0,expanded:e.props.eventKey===d,onSelect:(0,M.default)(t.handleSelect,e.props.onSelect)}),(0,y.cloneElement)(e,r)}))},e}(b.default.Component);O.propTypes=C,O.defaultProps=I,e.default=(0,_.bsClass)("panel-group",O),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),u=n(6),l=r(u),c=n(7),h=r(c),f=n(8),d=r(f),p=n(12),m=r(p),g=n(0),v=r(g),y=n(3),b=r(y),w=n(93),x=r(w),_={active:b.default.bool,href:b.default.string,title:b.default.node,target:b.default.string},E={active:!1},M=function(t){function e(){return(0,l.default)(this,e),(0,h.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.active,n=t.href,r=t.title,i=t.target,a=t.className,u=(0,s.default)(t,["active","href","title","target","className"]),l={href:n,title:r,target:i};return v.default.createElement("li",{className:(0,m.default)(a,{active:e})},e?v.default.createElement("span",u):v.default.createElement(x.default,(0,o.default)({},u,l)))},e}(v.default.Component);M.propTypes=_,M.defaultProps=E,e.default=M,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),u=n(6),l=r(u),c=n(7),h=r(c),f=n(8),d=r(f),p=n(12),m=r(p),g=n(0),v=r(g),y=n(3),b=r(y),w=n(49),x=r(w),_=n(1181),E=r(_),M={direction:b.default.oneOf(["prev","next"]),onAnimateOutEnd:b.default.func,active:b.default.bool,animateIn:b.default.bool,animateOut:b.default.bool,index:b.default.number},S={active:!1,animateIn:!1,animateOut:!1},T=function(t){function e(n,r){(0,l.default)(this,e);var i=(0,h.default)(this,t.call(this,n,r));return i.handleAnimateOutEnd=i.handleAnimateOutEnd.bind(i),i.state={direction:null},i.isUnmounted=!1,i}return(0,d.default)(e,t),e.prototype.componentWillReceiveProps=function(t){this.props.active!==t.active&&this.setState({direction:null})},e.prototype.componentDidUpdate=function(t){var e=this,n=this.props.active,r=t.active;!n&&r&&E.default.addEndEventListener(x.default.findDOMNode(this),this.handleAnimateOutEnd),n!==r&&setTimeout(function(){return e.startAnimation()},20)},e.prototype.componentWillUnmount=function(){this.isUnmounted=!0},e.prototype.handleAnimateOutEnd=function(){this.isUnmounted||this.props.onAnimateOutEnd&&this.props.onAnimateOutEnd(this.props.index)},e.prototype.startAnimation=function(){this.isUnmounted||this.setState({direction:"prev"===this.props.direction?"right":"left"})},e.prototype.render=function(){var t=this.props,e=t.direction,n=t.active,r=t.animateIn,i=t.animateOut,a=t.className,u=(0,s.default)(t,["direction","active","animateIn","animateOut","className"]);delete u.onAnimateOutEnd,delete u.index;var l={item:!0,active:n&&!r||i};return e&&n&&r&&(l[e]=!0),this.state.direction&&(r||i)&&(l[this.state.direction]=!0),v.default.createElement("div",(0,o.default)({},u,{className:(0,m.default)(a,l)}))},e}(v.default.Component);T.propTypes=M,T.defaultProps=S,e.default=T,t.exports=e.default},function(t,e,n){"use strict";function r(t){return""+t.charAt(0).toUpperCase()+t.slice(1)}e.__esModule=!0,e.default=r,t.exports=e.default},function(t,e,n){"use strict";function r(t){return(0,o.default)(t.replace(a,"ms-"))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var i=n(1186),o=function(t){return t&&t.__esModule?t:{default:t}}(i),a=/^-ms-/;t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.animationEnd=e.animationDelay=e.animationTiming=e.animationDuration=e.animationName=e.transitionEnd=e.transitionDuration=e.transitionDelay=e.transitionTiming=e.transitionProperty=e.transform=void 0;var r=n(119),i=function(t){return t&&t.__esModule?t:{default:t}}(r),o="transform",a=void 0,s=void 0,u=void 0,l=void 0,c=void 0,h=void 0,f=void 0,d=void 0,p=void 0,m=void 0,g=void 0;if(i.default){var v=function(){for(var t=document.createElement("div").style,e={O:function(t){return"o"+t.toLowerCase()},Moz:function(t){return t.toLowerCase()},Webkit:function(t){return"webkit"+t},ms:function(t){return"MS"+t}},n=Object.keys(e),r=void 0,i=void 0,o="",a=0;a<n.length;a++){var s=n[a];if(s+"TransitionProperty"in t){o="-"+s.toLowerCase(),r=e[s]("TransitionEnd"),i=e[s]("AnimationEnd");break}}return!r&&"transitionProperty"in t&&(r="transitionend"),!i&&"animationName"in t&&(i="animationend"),t=null,{animationEnd:i,transitionEnd:r,prefix:o}}();a=v.prefix,e.transitionEnd=s=v.transitionEnd,e.animationEnd=u=v.animationEnd,e.transform=o=a+"-"+o,e.transitionProperty=l=a+"-transition-property",e.transitionDuration=c=a+"-transition-duration",e.transitionDelay=f=a+"-transition-delay",e.transitionTiming=h=a+"-transition-timing-function",e.animationName=d=a+"-animation-name",e.animationDuration=p=a+"-animation-duration",e.animationTiming=m=a+"-animation-delay",e.animationDelay=g=a+"-animation-timing-function"}e.transform=o,e.transitionProperty=l,e.transitionTiming=h,e.transitionDelay=f,e.transitionDuration=c,e.transitionEnd=s,e.animationName=d,e.animationDuration=p,e.animationTiming=m,e.animationDelay=g,e.animationEnd=u,e.default={transform:o,end:s,property:l,timing:h,delay:f,duration:c}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(){}Object.defineProperty(e,"__esModule",{value:!0}),e.EXITING=e.ENTERED=e.ENTERING=e.EXITED=e.UNMOUNTED=void 0;var l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),h=n(12),f=r(h),d=n(249),p=r(d),m=n(512),g=r(m),v=n(0),y=r(v),b=n(3),w=r(b),x=n(49),_=r(x),E=g.default.end,M=e.UNMOUNTED=0,S=e.EXITED=1,T=e.ENTERING=2,C=e.ENTERED=3,I=e.EXITING=4,O=function(t){function e(t,n){o(this,e);var r=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));r.updateStatus=function(){null!==r.nextStatus?function(){r.cancelNextCallback();var t=_.default.findDOMNode(r);r.nextStatus===T?(r.props.onEnter(t),r.safeSetState({status:T},function(){r.props.onEntering(t),r.onTransitionEnd(t,function(){r.safeSetState({status:C},function(){r.props.onEntered(t)})})})):(r.props.onExit(t),r.safeSetState({status:I},function(){r.props.onExiting(t),r.onTransitionEnd(t,function(){r.safeSetState({status:S},function(){r.props.onExited(t)})})})),r.nextStatus=null}():r.props.unmountOnExit&&r.state.status===S&&r.setState({status:M})},r.cancelNextCallback=function(){null!==r.nextCallback&&(r.nextCallback.cancel(),r.nextCallback=null)},r.safeSetState=function(t,e){r.setState(t,r.setNextCallback(e))},r.setNextCallback=function(t){var e=!0;return r.nextCallback=function(n){e&&(e=!1,r.nextCallback=null,t(n))},r.nextCallback.cancel=function(){e=!1},r.nextCallback},r.onTransitionEnd=function(t,e){r.setNextCallback(e),t?((0,p.default)(t,E,r.nextCallback),setTimeout(r.nextCallback,r.props.timeout)):setTimeout(r.nextCallback,0)};var i=void 0;return r.nextStatus=null,t.in?t.transitionAppear?(i=S,r.nextStatus=T):i=C:i=t.unmountOnExit||t.mountOnEnter?M:S,r.state={status:i},r.nextCallback=null,r}return s(e,t),c(e,[{key:"componentDidMount",value:function(){this.updateStatus()}},{key:"componentWillReceiveProps",value:function(t){var e=this.state.status;t.in?(e===M&&this.setState({status:S}),e!==T&&e!==C&&(this.nextStatus=T)):e!==T&&e!==C||(this.nextStatus=I)}},{key:"componentDidUpdate",value:function(){this.updateStatus()}},{key:"componentWillUnmount",value:function(){this.cancelNextCallback()}},{key:"render",value:function(){var t=this.state.status;if(t===M)return null;var n=this.props,r=n.children,o=n.className,a=i(n,["children","className"]);Object.keys(e.propTypes).forEach(function(t){return delete a[t]});var s=void 0;t===S?s=this.props.exitedClassName:t===T?s=this.props.enteringClassName:t===C?s=this.props.enteredClassName:t===I&&(s=this.props.exitingClassName);var u=y.default.Children.only(r);return y.default.cloneElement(u,l({},a,{className:(0,f.default)(u.props.className,o,s)}))}}]),e}(y.default.Component);O.propTypes={in:w.default.bool,mountOnEnter:w.default.bool,unmountOnExit:w.default.bool,transitionAppear:w.default.bool,timeout:w.default.number,exitedClassName:w.default.string,exitingClassName:w.default.string,enteredClassName:w.default.string,enteringClassName:w.default.string,onEnter:w.default.func,onEntering:w.default.func,onEntered:w.default.func,onExit:w.default.func,onExiting:w.default.func,onExited:w.default.func},O.displayName="Transition",O.defaultProps={in:!1,unmountOnExit:!1,transitionAppear:!1,timeout:5e3,onEnter:u,onEntering:u,onEntered:u,onExit:u,onExiting:u,onExited:u},e.default=O},function(t,e,n){"use strict";function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,o.default)();try{return t.activeElement}catch(t){}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var i=n(168),o=function(t){return t&&t.__esModule?t:{default:t}}(i);t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t){return 0===t.button}function u(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(169),h=r(c),f=n(0),d=r(f),p=n(3),m=r(p),g=n(49),v=r(g),y=n(516),b=r(y),w=n(203),x=r(w),_=27,E=function(t){function e(t,n){i(this,e);var r=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.addEventListeners=function(){var t=r.props.event,e=(0,x.default)(r);r.documentMouseCaptureListener=(0,b.default)(e,t,r.handleMouseCapture,!0),r.documentMouseListener=(0,b.default)(e,t,r.handleMouse),r.documentKeyupListener=(0,b.default)(e,"keyup",r.handleKeyUp)},r.removeEventListeners=function(){r.documentMouseCaptureListener&&r.documentMouseCaptureListener.remove(),r.documentMouseListener&&r.documentMouseListener.remove(),r.documentKeyupListener&&r.documentKeyupListener.remove()},r.handleMouseCapture=function(t){r.preventMouseRootClose=u(t)||!s(t)||(0,h.default)(v.default.findDOMNode(r),t.target)},r.handleMouse=function(t){!r.preventMouseRootClose&&r.props.onRootClose&&r.props.onRootClose(t)},r.handleKeyUp=function(t){t.keyCode===_&&r.props.onRootClose&&r.props.onRootClose(t)},r.preventMouseRootClose=!1,r}return a(e,t),l(e,[{key:"componentDidMount",value:function(){this.props.disabled||this.addEventListeners()}},{key:"componentDidUpdate",value:function(t){!this.props.disabled&&t.disabled?this.addEventListeners():this.props.disabled&&!t.disabled&&this.removeEventListeners()}},{key:"componentWillUnmount",value:function(){this.props.disabled||this.removeEventListeners()}},{key:"render",value:function(){return this.props.children}}]),e}(d.default.Component);E.displayName="RootCloseWrapper",E.propTypes={onRootClose:m.default.func,children:m.default.element,disabled:m.default.bool,event:m.default.oneOf(["click","mousedown"])},E.defaultProps={event:"click"},e.default=E,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n,r){return(0,o.default)(t,e,n,r),{remove:function(){(0,s.default)(t,e,n,r)}}};var i=n(249),o=r(i),a=n(354),s=r(a);t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),u=n(6),l=r(u),c=n(7),h=r(c),f=n(8),d=r(f),p=n(0),m=r(p),g=n(3),v=r(g),y=n(12),b=r(y),w=n(201),x=r(w),_=n(93),E=r(_),M=n(14),S={noCaret:v.default.bool,open:v.default.bool,title:v.default.string,useAnchor:v.default.bool},T={open:!1,useAnchor:!1,bsRole:"toggle"},C=function(t){function e(){return(0,l.default)(this,e),(0,h.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.noCaret,n=t.open,r=t.useAnchor,i=t.bsClass,a=t.className,u=t.children,l=(0,s.default)(t,["noCaret","open","useAnchor","bsClass","className","children"]);delete l.bsRole;var c=r?E.default:x.default,h=!e;return m.default.createElement(c,(0,o.default)({},l,{role:"button",className:(0,b.default)(a,i),"aria-haspopup":!0,"aria-expanded":n}),u||l.title,h&&" ",h&&m.default.createElement("span",{className:"caret"}))},e}(m.default.Component);C.propTypes=S,C.defaultProps=T,e.default=(0,M.bsClass)("dropdown-toggle",C),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),u=n(6),l=r(u),c=n(7),h=r(c),f=n(8),d=r(f),p=n(12),m=r(p),g=n(0),v=r(g),y=n(3),b=r(y),w=n(33),x=r(w),_=n(14),E={fluid:b.default.bool,componentClass:x.default},M={componentClass:"div",fluid:!1},S=function(t){function e(){return(0,l.default)(this,e),(0,h.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.fluid,n=t.componentClass,r=t.className,i=(0,s.default)(t,["fluid","componentClass","className"]),a=(0,_.splitBsProps)(i),u=a[0],l=a[1],c=(0,_.prefix)(u,e&&"fluid");return v.default.createElement(n,(0,o.default)({},l,{className:(0,m.default)(r,c)}))},e}(v.default.Component);S.propTypes=E,S.defaultProps=M,e.default=(0,_.bsClass)("container",S),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(59),o=r(i),a=n(11),s=r(a),u=n(13),l=r(u),c=n(6),h=r(c),f=n(7),d=r(f),p=n(8),m=r(p),g=n(12),v=r(g),y=n(0),b=r(y),w=n(3),x=r(w),_=n(14),E=n(52),M={active:x.default.any,disabled:x.default.any,header:x.default.node,listItem:x.default.bool,onClick:x.default.func,href:x.default.string,type:x.default.string},S={listItem:!1},T=function(t){function e(){return(0,h.default)(this,e),(0,d.default)(this,t.apply(this,arguments))}return(0,m.default)(e,t),e.prototype.renderHeader=function(t,e){return b.default.isValidElement(t)?(0,y.cloneElement)(t,{className:(0,v.default)(t.props.className,e)}):b.default.createElement("h4",{className:e},t)},e.prototype.render=function(){var t=this.props,e=t.active,n=t.disabled,r=t.className,i=t.header,o=t.listItem,a=t.children,u=(0,l.default)(t,["active","disabled","className","header","listItem","children"]),c=(0,_.splitBsProps)(u),h=c[0],f=c[1],d=(0,s.default)({},(0,_.getClassSet)(h),{active:e,disabled:n}),p=void 0;return f.href?p="a":f.onClick?(p="button",f.type=f.type||"button"):p=o?"li":"span",f.className=(0,v.default)(r,d),i?b.default.createElement(p,f,this.renderHeader(i,(0,_.prefix)(h,"heading")),b.default.createElement("p",{className:(0,_.prefix)(h,"text")},a)):b.default.createElement(p,f,a)},e}(b.default.Component);T.propTypes=M,T.defaultProps=S,e.default=(0,_.bsClass)("list-group-item",(0,_.bsStyles)((0,o.default)(E.State),T)),t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if((!o||t)&&i.default){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),o=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return o};var r=n(119),i=function(t){return t&&t.__esModule?t:{default:t}}(r),o=void 0;t.exports=e.default},function(t,e,n){"use strict";function r(t){function e(e,n,r,i,o,a){var s=i||"<<anonymous>>",u=a||r;if(null==n[r])return e?new Error("Required "+o+" `"+u+"` was not specified in `"+s+"`."):null;for(var l=arguments.length,c=Array(l>6?l-6:0),h=6;h<l;h++)c[h-6]=arguments[h];return t.apply(void 0,[n,r,s,o,u].concat(c))}var n=e.bind(null,!1);return n.isRequired=e.bind(null,!0),n}e.__esModule=!0,e.default=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n,r,i){var a=t[e],u=void 0===a?"undefined":o(a);return s.default.isValidElement(a)?new Error("Invalid "+r+" `"+i+"` of type ReactElement supplied to `"+n+"`, expected an element type (a string or a ReactClass)."):"function"!==u&&"string"!==u?new Error("Invalid "+r+" `"+i+"` of value `"+a+"` supplied to `"+n+"`, expected an element type (a string or a ReactClass)."):null}e.__esModule=!0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},a=n(0),s=r(a),u=n(521),l=r(u);e.default=(0,l.default)(i)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(0),l=r(u),c=n(3),h=r(c),f=n(49),d=r(f),p=n(356),m=r(p),g=n(203),v=r(g),y=n(357),b=r(y),w=function(t){function e(){var t,n,r,a;i(this,e);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=r=o(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(u))),r._mountOverlayTarget=function(){r._overlayTarget||(r._overlayTarget=document.createElement("div"),r._portalContainerNode=(0,b.default)(r.props.container,(0,v.default)(r).body),r._portalContainerNode.appendChild(r._overlayTarget))},r._unmountOverlayTarget=function(){r._overlayTarget&&(r._portalContainerNode.removeChild(r._overlayTarget),r._overlayTarget=null),r._portalContainerNode=null},r._renderOverlay=function(){var t=r.props.children?l.default.Children.only(r.props.children):null;null!==t?(r._mountOverlayTarget(),r._overlayInstance=d.default.unstable_renderSubtreeIntoContainer(r,t,r._overlayTarget)):(r._unrenderOverlay(),r._unmountOverlayTarget())},r._unrenderOverlay=function(){r._overlayTarget&&(d.default.unmountComponentAtNode(r._overlayTarget),r._overlayInstance=null)},r.getMountNode=function(){return r._overlayTarget},r.getOverlayDOMNode=function(){if(!r._isMounted)throw new Error("getOverlayDOMNode(): A component must be mounted to have a DOM node.");return r._overlayInstance?d.default.findDOMNode(r._overlayInstance):null},a=n,o(r,a)}return a(e,t),s(e,[{key:"componentDidMount",value:function(){this._isMounted=!0,this._renderOverlay()}},{key:"componentDidUpdate",value:function(){this._renderOverlay()}},{key:"componentWillReceiveProps",value:function(t){this._overlayTarget&&t.container!==this.props.container&&(this._portalContainerNode.removeChild(this._overlayTarget),this._portalContainerNode=(0,b.default)(t.container,(0,v.default)(this).body),this._portalContainerNode.appendChild(this._overlayTarget))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this._unrenderOverlay(),this._unmountOverlayTarget()}},{key:"render",value:function(){return null}}]),e}(l.default.Component);w.displayName="Portal",w.propTypes={container:h.default.oneOfType([m.default,h.default.func])},e.default=w,t.exports=e.default},function(t,e,n){"use strict";function r(t,e){return t.classList?!!e&&t.classList.contains(e):-1!==(" "+t.className+" ").indexOf(" "+e+" ")}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){return t&&"body"===t.tagName.toLowerCase()}function o(t){var e=(0,c.default)(t),n=(0,u.default)(e),r=n.innerWidth;if(!r){var i=e.documentElement.getBoundingClientRect();r=i.right-Math.abs(i.left)}return e.body.clientWidth<r}function a(t){return(0,u.default)(t)||i(t)?o(t):t.scrollHeight>t.clientHeight}Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var s=n(255),u=r(s),l=n(168),c=r(l);t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),u=n(6),l=r(u),c=n(7),h=r(c),f=n(8),d=r(f),p=n(12),m=r(p),g=n(0),v=r(g),y=n(33),b=r(y),w=n(14),x={componentClass:b.default},_={componentClass:"div"},E=function(t){function e(){return(0,l.default)(this,e),(0,h.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.componentClass,n=t.className,r=(0,s.default)(t,["componentClass","className"]),i=(0,w.splitBsProps)(r),a=i[0],u=i[1],l=(0,w.getClassSet)(a);return v.default.createElement(e,(0,o.default)({},u,{className:(0,m.default)(n,l)}))},e}(v.default.Component);E.propTypes=x,E.defaultProps=_,e.default=(0,w.bsClass)("modal-body",E),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),u=n(6),l=r(u),c=n(7),h=r(c),f=n(8),d=r(f),p=n(12),m=r(p),g=n(0),v=r(g),y=n(33),b=r(y),w=n(14),x={componentClass:b.default},_={componentClass:"div"},E=function(t){function e(){return(0,l.default)(this,e),(0,h.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.componentClass,n=t.className,r=(0,s.default)(t,["componentClass","className"]),i=(0,w.splitBsProps)(r),a=i[0],u=i[1],l=(0,w.getClassSet)(a);return v.default.createElement(e,(0,o.default)({},u,{className:(0,m.default)(n,l)}))},e}(v.default.Component);E.propTypes=x,E.defaultProps=_,e.default=(0,w.bsClass)("modal-footer",E),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),u=n(6),l=r(u),c=n(7),h=r(c),f=n(8),d=r(f),p=n(12),m=r(p),g=n(0),v=r(g),y=n(3),b=r(y),w=n(14),x=n(47),_=r(x),E=n(349),M=r(E),S={closeLabel:b.default.string,closeButton:b.default.bool,onHide:b.default.func},T={closeLabel:"Close",closeButton:!1},C={$bs_modal:b.default.shape({onHide:b.default.func})},I=function(t){function e(){return(0,l.default)(this,e),(0,h.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.closeLabel,n=t.closeButton,r=t.onHide,i=t.className,a=t.children,u=(0,s.default)(t,["closeLabel","closeButton","onHide","className","children"]),l=this.context.$bs_modal,c=(0,w.splitBsProps)(u),h=c[0],f=c[1],d=(0,w.getClassSet)(h);return v.default.createElement("div",(0,o.default)({},f,{className:(0,m.default)(i,d)}),n&&v.default.createElement(M.default,{label:e,onClick:(0,_.default)(l&&l.onHide,r)}),a)},e}(v.default.Component);I.propTypes=S,I.defaultProps=T,I.contextTypes=C,e.default=(0,w.bsClass)("modal-header",I),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),u=n(6),l=r(u),c=n(7),h=r(c),f=n(8),d=r(f),p=n(12),m=r(p),g=n(0),v=r(g),y=n(33),b=r(y),w=n(14),x={componentClass:b.default},_={componentClass:"h4"},E=function(t){function e(){return(0,l.default)(this,e),(0,h.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.componentClass,n=t.className,r=(0,s.default)(t,["componentClass","className"]),i=(0,w.splitBsProps)(r),a=i[0],u=i[1],l=(0,w.getClassSet)(a);return v.default.createElement(e,(0,o.default)({},u,{className:(0,m.default)(n,l)}))},e}(v.default.Component);E.propTypes=x,E.defaultProps=_,e.default=(0,w.bsClass)("modal-title",E),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),u=n(6),l=r(u),c=n(7),h=r(c),f=n(8),d=r(f),p=n(12),m=r(p),g=n(251),v=r(g),y=n(0),b=r(y),w=n(3),x=r(w),_=n(49),E=r(_),M=n(247),S=r(M),T=n(83),C=(r(T),n(14)),I=n(47),O=r(I),A=n(60),L=r(A),R={activeKey:x.default.any,activeHref:x.default.string,stacked:x.default.bool,justified:(0,S.default)(x.default.bool,function(t){var e=t.justified,n=t.navbar;return e&&n?Error("justified navbar `Nav`s are not supported"):null}),onSelect:x.default.func,role:x.default.string,navbar:x.default.bool,pullRight:x.default.bool,pullLeft:x.default.bool},N={justified:!1,pullRight:!1,pullLeft:!1,stacked:!1},P={$bs_navbar:x.default.shape({bsClass:x.default.string,onSelect:x.default.func}),$bs_tabContainer:x.default.shape({activeKey:x.default.any,onSelect:x.default.func.isRequired,getTabId:x.default.func.isRequired,getPaneId:x.default.func.isRequired})},k=function(t){function e(){return(0,l.default)(this,e),(0,h.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.componentDidUpdate=function(){var t=this;if(this._needsRefocus){this._needsRefocus=!1;var e=this.props.children,n=this.getActiveProps(),r=n.activeKey,i=n.activeHref,o=L.default.find(e,function(e){return t.isActive(e,r,i)}),a=L.default.toArray(e),s=a.indexOf(o),u=E.default.findDOMNode(this).children,l=u&&u[s];l&&l.firstChild&&l.firstChild.focus()}},e.prototype.handleTabKeyDown=function(t,e){var n=void 0;switch(e.keyCode){case v.default.codes.left:case v.default.codes.up:n=this.getNextActiveChild(-1);break;case v.default.codes.right:case v.default.codes.down:n=this.getNextActiveChild(1);break;default:return}e.preventDefault(),t&&n&&null!=n.props.eventKey&&t(n.props.eventKey),this._needsRefocus=!0},e.prototype.getNextActiveChild=function(t){var e=this,n=this.props.children,r=n.filter(function(t){return null!=t.props.eventKey&&!t.props.disabled}),i=this.getActiveProps(),o=i.activeKey,a=i.activeHref,s=L.default.find(n,function(t){return e.isActive(t,o,a)}),u=r.indexOf(s);if(-1===u)return r[0];var l=u+t,c=r.length;return l>=c?l=0:l<0&&(l=c-1),r[l]},e.prototype.getActiveProps=function(){var t=this.context.$bs_tabContainer;return t||this.props},e.prototype.isActive=function(t,e,n){var r=t.props;return!!(r.active||null!=e&&r.eventKey===e||n&&r.href===n)||r.active},e.prototype.getTabProps=function(t,e,n,r,i){var o=this;if(!e&&"tablist"!==n)return null;var a=t.props,s=a.id,u=a["aria-controls"],l=a.eventKey,c=a.role,h=a.onKeyDown,f=a.tabIndex;return e&&(s=e.getTabId(l),u=e.getPaneId(l)),"tablist"===n&&(c=c||"tab",h=(0,O.default)(function(t){return o.handleTabKeyDown(i,t)},h),f=r?f:-1),{id:s,role:c,onKeyDown:h,"aria-controls":u,tabIndex:f}},e.prototype.render=function(){var t,e=this,n=this.props,r=n.stacked,i=n.justified,a=n.onSelect,u=n.role,l=n.navbar,c=n.pullRight,h=n.pullLeft,f=n.className,d=n.children,p=(0,s.default)(n,["stacked","justified","onSelect","role","navbar","pullRight","pullLeft","className","children"]),g=this.context.$bs_tabContainer,v=u||(g?"tablist":null),w=this.getActiveProps(),x=w.activeKey,_=w.activeHref;delete p.activeKey,delete p.activeHref;var E=(0,C.splitBsProps)(p),M=E[0],S=E[1],T=(0,o.default)({},(0,C.getClassSet)(M),(t={},t[(0,C.prefix)(M,"stacked")]=r,t[(0,C.prefix)(M,"justified")]=i,t)),I=null!=l?l:this.context.$bs_navbar,A=void 0,R=void 0;if(I){var N=this.context.$bs_navbar||{bsClass:"navbar"};T[(0,C.prefix)(N,"nav")]=!0,R=(0,C.prefix)(N,"right"),A=(0,C.prefix)(N,"left")}else R="pull-right",A="pull-left";return T[R]=c,T[A]=h,b.default.createElement("ul",(0,o.default)({},S,{role:v,className:(0,m.default)(f,T)}),L.default.map(d,function(t){var n=e.isActive(t,x,_),r=(0,O.default)(t.props.onSelect,a,I&&I.onSelect,g&&g.onSelect);return(0,y.cloneElement)(t,(0,o.default)({},e.getTabProps(t,g,v,n,r),{active:n,activeKey:x,activeHref:_,onSelect:r}))}))},e}(b.default.Component);k.propTypes=R,k.defaultProps=N,k.contextTypes=P,e.default=(0,C.bsClass)("nav",(0,C.bsStyles)(["tabs","pills"],k)),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),u=n(6),l=r(u),c=n(7),h=r(c),f=n(8),d=r(f),p=n(12),m=r(p),g=n(0),v=r(g),y=n(3),b=r(y),w=n(14),x={$bs_navbar:b.default.shape({bsClass:b.default.string})},_=function(t){function e(){return(0,l.default)(this,e),(0,h.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.className,n=t.children,r=(0,s.default)(t,["className","children"]),i=this.context.$bs_navbar||{bsClass:"navbar"},a=(0,w.prefix)(i,"brand");return v.default.isValidElement(n)?v.default.cloneElement(n,{className:(0,m.default)(n.props.className,e,a)}):v.default.createElement("span",(0,o.default)({},r,{className:(0,m.default)(e,a)}),n)},e}(v.default.Component);_.contextTypes=x,e.default=_,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),u=n(6),l=r(u),c=n(7),h=r(c),f=n(8),d=r(f),p=n(12),m=r(p),g=n(0),v=r(g),y=n(3),b=r(y),w=n(93),x=r(w),_=n(47),E=r(_),M={active:b.default.bool,disabled:b.default.bool,role:b.default.string,href:b.default.string,onClick:b.default.func,onSelect:b.default.func,eventKey:b.default.any},S={active:!1,disabled:!1},T=function(t){function e(n,r){(0,l.default)(this,e);var i=(0,h.default)(this,t.call(this,n,r));return i.handleClick=i.handleClick.bind(i),i}return(0,d.default)(e,t),e.prototype.handleClick=function(t){this.props.onSelect&&(t.preventDefault(),this.props.disabled||this.props.onSelect(this.props.eventKey,t))},e.prototype.render=function(){var t=this.props,e=t.active,n=t.disabled,r=t.onClick,i=t.className,a=t.style,u=(0,s.default)(t,["active","disabled","onClick","className","style"]);return delete u.onSelect,delete u.eventKey,delete u.activeKey,delete u.activeHref,u.role?"tab"===u.role&&(u["aria-selected"]=e):"#"===u.href&&(u.role="button"),v.default.createElement("li",{role:"presentation",className:(0,m.default)(i,{active:e,disabled:n}),style:a},v.default.createElement(x.default,(0,o.default)({},u,{disabled:n,onClick:(0,E.default)(r,this.handleClick)})))},e}(v.default.Component);T.propTypes=M,T.defaultProps=S,e.default=T,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(13),o=r(i),a=n(6),s=r(a),u=n(7),l=r(u),c=n(8),h=r(c),f=n(11),d=r(f),p=n(12),m=r(p),g=n(0),v=r(g),y=n(3),b=r(y),w=n(1235),x=r(w),_=n(33),E=r(_),M=n(254),S=r(M),T=(0,d.default)({},x.default.propTypes,{show:b.default.bool,rootClose:b.default.bool,onHide:b.default.func,animation:b.default.oneOfType([b.default.bool,E.default]),onEnter:b.default.func,onEntering:b.default.func,onEntered:b.default.func,onExit:b.default.func,onExiting:b.default.func,onExited:b.default.func,placement:b.default.oneOf(["top","right","bottom","left"])}),C={animation:S.default,rootClose:!1,show:!1,placement:"right"},I=function(t){function e(){return(0,s.default)(this,e),(0,l.default)(this,t.apply(this,arguments))}return(0,h.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.animation,n=t.children,r=(0,o.default)(t,["animation","children"]),i=!0===e?S.default:e||null,a=void 0;return a=i?n:(0,g.cloneElement)(n,{className:(0,m.default)(n.props.className,"in")}),v.default.createElement(x.default,(0,d.default)({},r,{transition:i}),a)},e}(v.default.Component);I.propTypes=T,I.defaultProps=C,e.default=I,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){var e=(0,c.default)(t),n=(0,u.default)(e),r=e&&e.documentElement,i={top:0,left:0,height:0,width:0};if(e)return(0,a.default)(r,t)?(void 0!==t.getBoundingClientRect&&(i=t.getBoundingClientRect()),i={top:i.top+(n.pageYOffset||r.scrollTop)-(r.clientTop||0),left:i.left+(n.pageXOffset||r.scrollLeft)-(r.clientLeft||0),width:(null==i.width?t.offsetWidth:i.width)||0,height:(null==i.height?t.offsetHeight:i.height)||0}):i}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var o=n(169),a=r(o),s=n(255),u=r(s),l=n(168),c=r(l);t.exports=e.default},function(t,e,n){"use strict";function r(t,e){var n=(0,o.default)(t);if(void 0===e)return n?"pageYOffset"in n?n.pageYOffset:n.document.documentElement.scrollTop:t.scrollTop;n?n.scrollTo("pageXOffset"in n?n.pageXOffset:n.document.documentElement.scrollLeft,e):t.scrollTop=e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var i=n(255),o=function(t){return t&&t.__esModule?t:{default:t}}(i);t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),u=n(6),l=r(u),c=n(7),h=r(c),f=n(8),d=r(f),p=n(12),m=r(p),g=n(0),v=r(g),y=n(3),b=r(y),w=n(93),x=r(w),_=n(47),E=r(_),M={disabled:b.default.bool,previous:b.default.bool,next:b.default.bool,onClick:b.default.func,onSelect:b.default.func,eventKey:b.default.any},S={disabled:!1,previous:!1,next:!1},T=function(t){function e(n,r){(0,l.default)(this,e);var i=(0,h.default)(this,t.call(this,n,r));return i.handleSelect=i.handleSelect.bind(i),i}return(0,d.default)(e,t),e.prototype.handleSelect=function(t){var e=this.props,n=e.disabled,r=e.onSelect,i=e.eventKey;(r||n)&&t.preventDefault(),n||r&&r(i,t)},e.prototype.render=function(){var t=this.props,e=t.disabled,n=t.previous,r=t.next,i=t.onClick,a=t.className,u=t.style,l=(0,s.default)(t,["disabled","previous","next","onClick","className","style"]);return delete l.onSelect,delete l.eventKey,v.default.createElement("li",{className:(0,m.default)(a,{disabled:e,previous:n,next:r}),style:u},v.default.createElement(x.default,(0,o.default)({},l,{disabled:e,onClick:(0,E.default)(i,this.handleSelect)})))},e}(v.default.Component);T.propTypes=M,T.defaultProps=S,e.default=T,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),u=n(6),l=r(u),c=n(7),h=r(c),f=n(8),d=r(f),p=n(12),m=r(p),g=n(0),v=r(g),y=n(3),b=r(y),w=n(33),x=r(w),_=n(93),E=r(_),M=n(47),S=r(M),T={componentClass:x.default,className:b.default.string,eventKey:b.default.any,onSelect:b.default.func,disabled:b.default.bool,active:b.default.bool,onClick:b.default.func},C={componentClass:E.default,active:!1,disabled:!1},I=function(t){function e(n,r){(0,l.default)(this,e);var i=(0,h.default)(this,t.call(this,n,r));return i.handleClick=i.handleClick.bind(i),i}return(0,d.default)(e,t),e.prototype.handleClick=function(t){var e=this.props,n=e.disabled,r=e.onSelect,i=e.eventKey;n||r&&r(i,t)},e.prototype.render=function(){var t=this.props,e=t.componentClass,n=t.active,r=t.disabled,i=t.onClick,a=t.className,u=t.style,l=(0,s.default)(t,["componentClass","active","disabled","onClick","className","style"]);return e===E.default&&delete l.eventKey,delete l.onSelect,v.default.createElement("li",{className:(0,m.default)(a,{active:n,disabled:r}),style:u},v.default.createElement(e,(0,o.default)({},l,{disabled:r,onClick:(0,S.default)(i,this.handleClick)})))},e}(v.default.Component);I.propTypes=T,I.defaultProps=C,e.default=I,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),u=n(6),l=r(u),c=n(7),h=r(c),f=n(8),d=r(f),p=n(12),m=r(p),g=n(0),v=r(g),y=n(3),b=r(y),w=n(33),x=r(w),_=n(83),E=(r(_),n(14)),M=n(47),S=r(M),T=n(254),C=r(T),I={eventKey:b.default.any,animation:b.default.oneOfType([b.default.bool,x.default]),id:b.default.string,"aria-labelledby":b.default.string,bsClass:b.default.string,onEnter:b.default.func,onEntering:b.default.func,onEntered:b.default.func,onExit:b.default.func,onExiting:b.default.func,onExited:b.default.func,mountOnEnter:b.default.bool,unmountOnExit:b.default.bool},O={$bs_tabContainer:b.default.shape({getTabId:b.default.func,getPaneId:b.default.func}),$bs_tabContent:b.default.shape({bsClass:b.default.string,animation:b.default.oneOfType([b.default.bool,x.default]),activeKey:b.default.any,mountOnEnter:b.default.bool,unmountOnExit:b.default.bool,onPaneEnter:b.default.func.isRequired,onPaneExited:b.default.func.isRequired,exiting:b.default.bool.isRequired})},A={$bs_tabContainer:b.default.oneOf([null])},L=function(t){function e(n,r){(0,l.default)(this,e);var i=(0,h.default)(this,t.call(this,n,r));return i.handleEnter=i.handleEnter.bind(i),i.handleExited=i.handleExited.bind(i),i.in=!1,i}return(0,d.default)(e,t),e.prototype.getChildContext=function(){return{$bs_tabContainer:null}},e.prototype.componentDidMount=function(){this.shouldBeIn()&&this.handleEnter()},e.prototype.componentDidUpdate=function(){this.in?this.shouldBeIn()||this.handleExited():this.shouldBeIn()&&this.handleEnter()},e.prototype.componentWillUnmount=function(){this.in&&this.handleExited()},e.prototype.handleEnter=function(){var t=this.context.$bs_tabContent;t&&(this.in=t.onPaneEnter(this,this.props.eventKey))},e.prototype.handleExited=function(){var t=this.context.$bs_tabContent;t&&(t.onPaneExited(this),this.in=!1)},e.prototype.getAnimation=function(){if(null!=this.props.animation)return this.props.animation;var t=this.context.$bs_tabContent;return t&&t.animation},e.prototype.isActive=function(){var t=this.context.$bs_tabContent,e=t&&t.activeKey;return this.props.eventKey===e},e.prototype.shouldBeIn=function(){return this.getAnimation()&&this.isActive()},e.prototype.render=function(){var t=this.props,e=t.eventKey,n=t.className,r=t.onEnter,i=t.onEntering,a=t.onEntered,u=t.onExit,l=t.onExiting,c=t.onExited,h=t.mountOnEnter,f=t.unmountOnExit,d=(0,s.default)(t,["eventKey","className","onEnter","onEntering","onEntered","onExit","onExiting","onExited","mountOnEnter","unmountOnExit"]),p=this.context,g=p.$bs_tabContent,y=p.$bs_tabContainer,b=(0,E.splitBsPropsAndOmit)(d,["animation"]),w=b[0],x=b[1],_=this.isActive(),M=this.getAnimation(),T=null!=h?h:g&&g.mountOnEnter,I=null!=f?f:g&&g.unmountOnExit;if(!_&&!M&&I)return null;var O=!0===M?C.default:M||null;g&&(w.bsClass=(0,E.prefix)(g,"pane"));var A=(0,o.default)({},(0,E.getClassSet)(w),{active:_});y&&(x.id=y.getPaneId(e),x["aria-labelledby"]=y.getTabId(e));var L=v.default.createElement("div",(0,o.default)({},x,{role:"tabpanel","aria-hidden":!_,className:(0,m.default)(n,A)}));if(O){var R=g&&g.exiting;return v.default.createElement(O,{in:_&&!R,onEnter:(0,S.default)(this.handleEnter,r),onEntering:i,onEntered:a,onExit:u,onExiting:l,onExited:(0,S.default)(this.handleExited,c),mountOnEnter:T,unmountOnExit:I},L)}return L},e}(v.default.Component);L.propTypes=I,L.contextTypes=O,L.childContextTypes=A,e.default=(0,E.bsClass)("tab-pane",L),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),u=n(6),l=r(u),c=n(7),h=r(c),f=n(8),d=r(f),p=n(3),m=r(p),g=n(0),v=r(g),y=n(201),b=r(y),w={type:m.default.oneOf(["checkbox","radio"]),name:m.default.string,checked:m.default.bool,onChange:m.default.func,value:m.default.any.isRequired},x=function(t){function e(){return(0,l.default)(this,e),(0,h.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.children,n=t.name,r=t.checked,i=t.type,a=t.onChange,u=t.value,l=(0,s.default)(t,["children","name","checked","type","onChange","value"]);return v.default.createElement(b.default,(0,o.default)({},l,{active:!!r,componentClass:"label"}),v.default.createElement("input",{name:n,type:i,autoComplete:"off",value:u,checked:!!r,onChange:a}),e)},e}(v.default.Component);x.propTypes=w,e.default=x,t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0,e.storeShape=e.subscriptionShape=void 0;var r=n(3),i=function(t){return t&&t.__esModule?t:{default:t}}(r);e.subscriptionShape=i.default.shape({trySubscribe:i.default.func.isRequired,tryUnsubscribe:i.default.func.isRequired,notifyNestedSubs:i.default.func.isRequired,isSubscribed:i.default.func.isRequired}),e.storeShape=i.default.shape({subscribe:i.default.func.isRequired,dispatch:i.default.func.isRequired,getState:i.default.func.isRequired})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function u(){}function l(t,e){var n={run:function(r){try{var i=t(e.getState(),r);(i!==n.props||n.error)&&(n.shouldComponentUpdate=!0,n.props=i,n.error=null)}catch(t){n.shouldComponentUpdate=!0,n.error=t}}};return n}function c(t){var e,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=r.getDisplayName,f=void 0===c?function(t){return"ConnectAdvanced("+t+")"}:c,p=r.methodName,v=void 0===p?"connectAdvanced":p,_=r.renderCountProp,E=void 0===_?void 0:_,M=r.shouldHandleStateChanges,S=void 0===M||M,T=r.storeKey,C=void 0===T?"store":T,I=r.withRef,O=void 0!==I&&I,A=s(r,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),L=C+"Subscription",R=w++,N=(e={},e[C]=b.storeShape,e[L]=b.subscriptionShape,e),P=(n={},n[L]=b.subscriptionShape,n);return function(e){(0,m.default)("function"==typeof e,"You must pass a component to the function returned by connect. Instead received "+JSON.stringify(e));var n=e.displayName||e.name||"Component",r=f(n),s=h({},A,{getDisplayName:f,methodName:v,renderCountProp:E,shouldHandleStateChanges:S,storeKey:C,withRef:O,displayName:r,wrappedComponentName:n,WrappedComponent:e}),c=function(n){function c(t,e){i(this,c);var a=o(this,n.call(this,t,e));return a.version=R,a.state={},a.renderCount=0,a.store=t[C]||e[C],a.propsMode=Boolean(t[C]),a.setWrappedInstance=a.setWrappedInstance.bind(a),(0,m.default)(a.store,'Could not find "'+C+'" in either the context or props of "'+r+'". Either wrap the root component in a <Provider>, or explicitly pass "'+C+'" as a prop to "'+r+'".'),a.initSelector(),a.initSubscription(),a}return a(c,n),c.prototype.getChildContext=function(){var t,e=this.propsMode?null:this.subscription;return t={},t[L]=e||this.context[L],t},c.prototype.componentDidMount=function(){S&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},c.prototype.componentWillReceiveProps=function(t){this.selector.run(t)},c.prototype.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},c.prototype.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=u,this.store=null,this.selector.run=u,this.selector.shouldComponentUpdate=!1},c.prototype.getWrappedInstance=function(){return(0,m.default)(O,"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the "+v+"() call."),this.wrappedInstance},c.prototype.setWrappedInstance=function(t){this.wrappedInstance=t},c.prototype.initSelector=function(){var e=t(this.store.dispatch,s);this.selector=l(e,this.store),this.selector.run(this.props)},c.prototype.initSubscription=function(){if(S){var t=(this.propsMode?this.props:this.context)[L];this.subscription=new y.default(this.store,t,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},c.prototype.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(x)):this.notifyNestedSubs()},c.prototype.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},c.prototype.isSubscribed=function(){return Boolean(this.subscription)&&this.subscription.isSubscribed()},c.prototype.addExtraProps=function(t){if(!(O||E||this.propsMode&&this.subscription))return t;var e=h({},t);return O&&(e.ref=this.setWrappedInstance),E&&(e[E]=this.renderCount++),this.propsMode&&this.subscription&&(e[L]=this.subscription),e},c.prototype.render=function(){var t=this.selector;if(t.shouldComponentUpdate=!1,t.error)throw t.error;return(0,g.createElement)(e,this.addExtraProps(t.props))},c}(g.Component);return c.WrappedComponent=e,c.displayName=r,c.childContextTypes=P,c.contextTypes=N,c.propTypes=N,(0,d.default)(c,e)}}e.__esModule=!0;var h=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.default=c;var f=n(1264),d=r(f),p=n(81),m=r(p),g=n(0),v=n(1265),y=r(v),b=n(540),w=0,x={}},function(t,e,n){"use strict";function r(t){return function(e,n){function r(){return i}var i=t(e,n);return r.dependsOnOwnProps=!1,r}}function i(t){return null!==t.dependsOnOwnProps&&void 0!==t.dependsOnOwnProps?Boolean(t.dependsOnOwnProps):1!==t.length}function o(t,e){return function(e,n){var r=(n.displayName,function(t,e){return r.dependsOnOwnProps?r.mapToProps(t,e):r.mapToProps(t)});return r.dependsOnOwnProps=!0,r.mapToProps=function(e,n){r.mapToProps=t,r.dependsOnOwnProps=i(t);var o=r(e,n);return"function"==typeof o&&(r.mapToProps=o,r.dependsOnOwnProps=i(o),o=r(e,n)),o},r}}e.__esModule=!0,e.wrapMapToPropsConstant=r,e.getDependsOnOwnProps=i,e.wrapMapToPropsFunc=o;var a=n(543);!function(t){t&&t.__esModule}(a)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n){(0,a.default)(t)||(0,u.default)(n+"() in "+e+" must return a plain object. Instead received "+t+".")}e.__esModule=!0,e.default=i;var o=n(139),a=r(o),s=n(360),u=r(s)},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e){(function(e){t.exports=e}).call(e,{})},function(t,e,n){"use strict";(function(t){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",function(){return v}),n.d(e,"b",function(){return y});var i=n(16),o=n.n(i),a=n(103),s=n.n(a),u=n(1),l=n.n(u),c=n(58),h=n.n(c),f=n(66),d=n.n(f),p=n(1280),m="function"==typeof d.a&&"symbol"==typeof h.a?function(t){return typeof t}:function(t){return t&&"function"==typeof d.a&&t.constructor===d.a&&t!==d.a.prototype?"symbol":typeof t},g=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),l()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),v=function(){function e(t){r(this,e);var n=t.cacheSize,i=void 0===n?p.a.DEFAULT_SIZE:n,o=t.serviceUrl,a=t.appName,s=t.appVersion,u=t.headers;this._cache=new p.a({maxSize:i}),this._serviceUrl=o,this._headers=u,this._appName=a,this._appVersion=s,this._generateSessionId(),this._buildUrl()}return g(e,[{key:"_generateSessionId",value:function(){for(var t=(new Date).getTime(),e=new Date("2012").getTime(),n=(t-e)/1e3&4294967295,r=0,i=s()(this._headers),o=0,a=i.length;o<a;++o)r+=i.charCodeAt(o);this._sessionId=n+r}},{key:"_buildUrl",value:function(){var e=t,n=e.encodeURIComponent,r=this._serviceUrl;if(!r||!r.length)return void(this._builtUrl=null);var i=n(this._sessionId),o=n(this._appName),a=n(this._appVersion);this._builtUrl=r+"/?sessionId="+i+"&app="+o+"&appversion="+a}},{key:"log",value:function(t){this.online?this._send(t):this._cache.append(t)}},{key:"_send",value:function(t){var e=this._builtUrl,n=new Request(e,{method:"POST",mode:"cors",cache:"no-cache",redirect:"follow",headers:new Headers(this._headers),credentials:"include",body:t.toXmlString()});return fetch(n)}},{key:"online",get:function(){return!!this._builtUrl}},{key:"serviceUrl",get:function(){return this._serviceUrl},set:function(t){if(this._serviceUrl=t,this._buildUrl(),this.online){var e=this._cache,n=!0,r=!1,i=void 0;try{for(var a,s=o()(e.items);!(n=(a=s.next()).done);n=!0){var u=a.value;this._send(u)}}catch(t){r=!0,i=t}finally{try{!n&&s.return&&s.return()}finally{if(r)throw i}}e.clear()}}}]),e}(),y=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,e),this._eventType=t.eventType||"",this._detail=t.detail||"",this._time=(new Date).getTime()}return g(e,[{key:"toXmlString",value:function(){var e=document,n=e.createElement("Entry"),r=function(t){return"object"!==(void 0===t?"undefined":m(t))||t instanceof Date?""+t:s()(t)},i=function(i,o){var a=e.createElement(i);o instanceof Node&&!o.parentNode&&o!==t?a.appendChild(o):a.textContent=r(o),n.appendChild(a)};return i("EventType",this._eventType),i("Detail",this._detail),i("Time",this._time),(new XMLSerializer).serializeToString(n)}}]),e}()}).call(e,n(34))},function(t,e,n){(function(e){var r=n(548),i=n(1296),o=n(550),a=n(1297);t.exports=function(t,n){var s=new a,u=n&&n.prj?n.prj:o;[i.point(t),i.pointZ(t),i.line(t),i.lineZ(t),i.polygon(t),i.polygonZ(t)].forEach(function(t){t.geometries.length&&t.geometries[0].length&&r(t.properties,t.type,t.geometries,function(e,r){var i=n&&n.types[t.type.toLowerCase()]?n.types[t.type.toLowerCase()]:t.type;s.file(i+".shp",r.shp.buffer,{binary:!0}),s.file(i+".shx",r.shx.buffer,{binary:!0}),s.file(i+".dbf",r.dbf.buffer,{binary:!0}),s.file(i+".prj",u)})});var l={compression:"STORE"};return e.browser||(l.type="nodebuffer"),s.generate(l)}}).call(e,n(364))},function(t,e,n){function r(t,e,n,r){var l=a.geometries[e],c=h[l],f=c.parts(n,l),d=100+4*(f-n.length)+c.shpLength(n),p=100+c.shxLength(n),m=new ArrayBuffer(d),g=new DataView(m),v=new ArrayBuffer(p),y=new DataView(v),b=c.extent(n);i(g,l),i(y,l),o(b,g),o(b,y),c.write(n,b,new DataView(m,100),new DataView(v,100),l),g.setInt32(24,d/2),y.setInt32(24,50+4*n.length),r(null,{shp:g,shx:y,dbf:s.structure(t),prj:u})}function i(t,e){t.setInt32(0,9994),t.setInt32(28,1e3,!0),t.setInt32(32,e,!0)}function o(t,e){e.setFloat64(36,t.xmin,!0),e.setFloat64(44,t.ymin,!0),e.setFloat64(52,t.xmax,!0),e.setFloat64(60,t.ymax,!0),e.setFloat64(68,t.zmin,!0),e.setFloat64(76,t.zmax,!0),e.setFloat64(84,0,!0),e.setFloat64(92,0,!0)}var a=n(258),s=n(1285),u=n(550),l=(n(365),n(1289),n(1290),n(1294)),c=n(1295),h={1:l,3:c,5:c,11:l,13:c,15:c};t.exports=r},function(t,e){t.exports={C:254,L:1,D:8,N:18,M:18,F:18,B:8}},function(t,e){t.exports='GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137,298.257223563]],PRIMEM["Greenwich",0],UNIT["Degree",0.017453292519943295]]'},function(t,e,n){"use strict";function r(t,e,n,r){for(var i=65535&t|0,o=t>>>16&65535|0,a=0;0!==n;){a=n>2e3?2e3:n,n-=a;do{i=i+e[r++]|0,o=o+i|0}while(--a);i%=65521,o%=65521}return i|o<<16|0}t.exports=r},function(t,e,n){"use strict";function r(t,e,n,r){var o=i,a=r+n;t^=-1;for(var s=r;s<a;s++)t=t>>>8^o[255&(t^e[s])];return-1^t}var i=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();t.exports=r},function(t,e,n){"use strict";function r(t,e){if(e<65537&&(t.subarray&&a||!t.subarray&&o))return String.fromCharCode.apply(null,i.shrinkBuf(t,e));for(var n="",r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n}var i=n(120),o=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(t){o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){a=!1}for(var s=new i.Buf8(256),u=0;u<256;u++)s[u]=u>=252?6:u>=248?5:u>=240?4:u>=224?3:u>=192?2:1;s[254]=s[254]=1,e.string2buf=function(t){var e,n,r,o,a,s=t.length,u=0;for(o=0;o<s;o++)n=t.charCodeAt(o),55296==(64512&n)&&o+1<s&&56320==(64512&(r=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),u+=n<128?1:n<2048?2:n<65536?3:4;for(e=new i.Buf8(u),a=0,o=0;a<u;o++)n=t.charCodeAt(o),55296==(64512&n)&&o+1<s&&56320==(64512&(r=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),n<128?e[a++]=n:n<2048?(e[a++]=192|n>>>6,e[a++]=128|63&n):n<65536?(e[a++]=224|n>>>12,e[a++]=128|n>>>6&63,e[a++]=128|63&n):(e[a++]=240|n>>>18,e[a++]=128|n>>>12&63,e[a++]=128|n>>>6&63,e[a++]=128|63&n);return e},e.buf2binstring=function(t){return r(t,t.length)},e.binstring2buf=function(t){for(var e=new i.Buf8(t.length),n=0,r=e.length;n<r;n++)e[n]=t.charCodeAt(n);return e},e.buf2string=function(t,e){var n,i,o,a,u=e||t.length,l=new Array(2*u);for(i=0,n=0;n<u;)if((o=t[n++])<128)l[i++]=o;else if((a=s[o])>4)l[i++]=65533,n+=a-1;else{for(o&=2===a?31:3===a?15:7;a>1&&n<u;)o=o<<6|63&t[n++],a--;a>1?l[i++]=65533:o<65536?l[i++]=o:(o-=65536,l[i++]=55296|o>>10&1023,l[i++]=56320|1023&o)}return r(l,i)},e.utf8border=function(t,e){var n;for(e=e||t.length,e>t.length&&(e=t.length),n=e-1;n>=0&&128==(192&t[n]);)n--;return n<0?e:0===n?e:n+s[t[n]]>e?n:e}},function(t,e,n){"use strict";function r(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}t.exports=r},function(t,e,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(t,e,n){"use strict";e.LOCAL_FILE_HEADER="PK",e.CENTRAL_FILE_HEADER="PK",e.CENTRAL_DIRECTORY_END="PK",e.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",e.ZIP64_CENTRAL_DIRECTORY_END="PK",e.DATA_DESCRIPTOR="PK\b"},function(t,e,n){"use strict";e.base64=!1,e.binary=!1,e.dir=!1,e.createFolders=!1,e.date=null,e.compression=null,e.compressionOptions=null,e.comment=null,e.unixPermissions=null,e.dosPermissions=null},function(t,e,n){"use strict";function r(){this.compressedSize=0,this.uncompressedSize=0,this.crc32=0,this.compressionMethod=null,this.compressedContent=null}r.prototype={getContent:function(){return null},getCompressedContent:function(){return null}},t.exports=r},function(t,e,n){"use strict";function r(t,e){this.data=t,e||(this.data=o.string2binary(this.data)),this.length=this.data.length,this.index=0}var i=n(560),o=n(96);r.prototype=new i,r.prototype.byteAt=function(t){return this.data.charCodeAt(t)},r.prototype.lastIndexOfSignature=function(t){return this.data.lastIndexOf(t)},r.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.index,this.index+t);return this.index+=t,e},t.exports=r},function(t,e,n){"use strict";function r(t){this.data=null,this.length=0,this.index=0}var i=n(96);r.prototype={checkOffset:function(t){this.checkIndex(this.index+t)},checkIndex:function(t){if(this.length<t||t<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+t+"). Corrupted zip ?")},setIndex:function(t){this.checkIndex(t),this.index=t},skip:function(t){this.setIndex(this.index+t)},byteAt:function(t){},readInt:function(t){var e,n=0;for(this.checkOffset(t),e=this.index+t-1;e>=this.index;e--)n=(n<<8)+this.byteAt(e);return this.index+=t,n},readString:function(t){return i.transformTo("string",this.readData(t))},readData:function(t){},lastIndexOfSignature:function(t){},readDate:function(){var t=this.readInt(4);return new Date(1980+(t>>25&127),(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1)}},t.exports=r},function(t,e,n){"use strict";function r(t){t&&(this.data=t,this.length=this.data.length,this.index=0)}var i=n(560);r.prototype=new i,r.prototype.byteAt=function(t){return this.data[t]},r.prototype.lastIndexOfSignature=function(t){for(var e=t.charCodeAt(0),n=t.charCodeAt(1),r=t.charCodeAt(2),i=t.charCodeAt(3),o=this.length-4;o>=0;--o)if(this.data[o]===e&&this.data[o+1]===n&&this.data[o+2]===r&&this.data[o+3]===i)return o;return-1},r.prototype.readData=function(t){if(this.checkOffset(t),0===t)return new Uint8Array(0);var e=this.data.subarray(this.index,this.index+t);return this.index+=t,e},t.exports=r},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=h()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(l.a?l()(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=n(10),s=n.n(a),u=n(9),l=n.n(u),c=n(5),h=n.n(c),f=n(1),d=n.n(f),p=n(208),m=n(210),g=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),v=function(t){function e(t){return r(this,e),i(this,(e.__proto__||s()(e)).call(this,m.a.MAP,t))}return o(e,t),g(e,null,[{key:"fromJson",value:function(t){return new e(t.method)}}]),e}(p.a);e.default=v},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=l()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(s.a?s()(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=n(9),s=n.n(a),u=n(5),l=n.n(u),c=n(10),h=n.n(c),f=n(57),d=n.n(f),p=n(1),m=n.n(p),g=n(4),v=n.n(g),y=n(230),b=(n.n(y),n(371)),w=n(208),x=n(210),_=v.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},E=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),m()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),M=function t(e,n,r){null===e&&(e=Function.prototype);var i=d()(e,n);if(void 0===i){var o=h()(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},S=function(t){function e(t,n,o){r(this,e);var a=i(this,(e.__proto__||h()(e)).call(this,x.a.OBLIQUE,t));return a.imageId=n,a.intrinsics=o,a}return o(e,t),E(e,[{key:"update",value:function(){}},{key:"toJson",value:function(){return _({},M(e.prototype.__proto__||h()(e.prototype),"toJson",this).call(this),{imageId:this.imageId,intrinsics:this.intrinsics.toJson()})}}],[{key:"fromJson",value:function(t){return new e(t.method,t.imageId,b.a.fromJson(t.intrinsics))}}]),e}(w.a);e.default=S},function(t,e,n){"use strict";n.d(e,"a",function(){return y});var r=n(46),i=(n.n(r),n(171)),o=(n.n(i),n(1323)),a=n(172),s=n(207),u=n(39),l=n(259),c=(n(1324),function(){return new Float64Array(3)}),h=function(t){return r.vec3.copy(c(),t)},f=Object(u.e)(.1),d=f,p=.1*f,m={internalPositionToOblique:function(t,e,n,r,i,o,a,s,u,c,h,f,d,p,m,g,v,y){return new l.b({coords:[r,i],recordingHeight:o,heading:a,pitch:s,roll:u,f:c,dU:h,dV:f,width:d,height:p,k1:m,k2:g,p1:v,p2:y}).worldVectorToPixel(t,e,n)}},g={panoramaObservationPrecision:f,obliqueObservationPrecision:1},v={CONVERGENCE_REACHED:"convergence_reached",ITERATION_LIMIT_REACHED:"iteration_limit_reached",NOT_ENOUGH_OBSERVATIONS:"not_enough_observations",NUMERICAL_FAILURE:"numerical_failure"},y=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g.panoramaObservationPrecision,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:g.obliqueObservationPrecision,y=e.length;if(y<2)return o.a.fail(v.NOT_ENOUGH_OBSERVATIONS);var b=void 0,w=void 0,x=void 0,_=void 0,E=void 0,M=void 0,S=void 0,T=c(),C=c(),I=c(),O=c(),A=0,L=3;for(b=0;b<y;++b)if(E=e[b],E.type===s.c.PANORAMA)A+=6,L+=4;else{if(E.type!==s.c.OBLIQUE)throw new Error("Unsupported observation type: "+E.type);A+=8,L+=6}var R=new i.Matrix(L,1),N=new i.Matrix(L,1),P=new i.Matrix(A,A),k=h(t),D=r.vec3.subtract(c(),t,k),F=Math.pow(n,-2),j=Math.pow(l,-2);for(x=0,_=0,b=0;b<y;++b)E=e[b],M=E.extrinsics,r.vec3.subtract(T,M.position,k),r.vec3.copy(C,M.positionStdev),r.vec3.copy(I,M.orientation),r.vec3.copy(O,M.orientationStdev),(!C||isNaN(C[0])||isNaN(C[1])||isNaN(C[2]))&&r.vec3.set(C,1,1,1),(!O||isNaN(O[0])||E.type===s.c.OBLIQUE&&(isNaN(O[1])||isNaN(O[2])))&&r.vec3.set(O,f,f,f),R.set(_,0,T[0]),N.set(_,0,T[0]),R.set(_+1,0,T[1]),N.set(_+1,0,T[1]),R.set(_+2,0,T[2]),N.set(_+2,0,T[2]),E.type===s.c.PANORAMA?(R.set(_+3,0,0),N.set(_+3,0,0),P.set(x,x++,Math.pow(Math.max(C[0],.05),-2)),P.set(x,x++,Math.pow(Math.max(C[1],.05),-2)),P.set(x,x++,Math.pow(Math.max(C[2],.05),-2)),P.set(x,x++,Math.pow(Math.max(O[0],d),-2)),P.set(x,x++,F),P.set(x,x++,F),_+=4):(R.set(_+3,0,I[0]),N.set(_+3,0,I[0]),R.set(_+4,0,I[1]),N.set(_+4,0,I[1]),R.set(_+5,0,I[2]),N.set(_+5,0,I[2]),P.set(x,x++,Math.pow(Math.max(C[0],.05),-2)),P.set(x,x++,Math.pow(Math.max(C[1],.05),-2)),P.set(x,x++,Math.pow(Math.max(C[2],.05),-2)),P.set(x,x++,Math.pow(Math.max(O[0],p),-2)),P.set(x,x++,Math.pow(Math.max(O[1],p),-2)),P.set(x,x++,Math.pow(Math.max(O[2],p),-2)),P.set(x,x++,j),P.set(x,x++,j),_+=6);R.set(L-3,0,D[0]),N.set(L-3,0,D[0]),R.set(L-2,0,D[1]),N.set(L-2,0,D[1]),R.set(L-1,0,D[2]),N.set(L-1,0,D[2]);for(var U=new i.Matrix(A,L),B=new i.Matrix(A,1),z=void 0,V=[],G=NaN,H=NaN,q=0,W=void 0;;){x=0,_=0;var Y=N.get(L-3,0),X=N.get(L-2,0),Z=N.get(L-1,0),K=void 0,$=void 0,Q=void 0,J=void 0,tt=void 0,et=void 0;for(b=0;b<y;++b)if(E=e[b],E.type===s.c.PANORAMA){K=N.get(_,0),$=N.get(_+1,0),Q=N.get(_+2,0),J=N.get(_+3,0);var nt=E.directionHV,rt=Y-K,it=X-$,ot=Z-Q,at=rt*rt+it*it,st=at+ot*ot;if(0===at)return o.a.fail(v.NUMERICAL_FAILURE);var ut=1/at,lt=Math.sqrt(at);U.set(x,_,1),U.set(x+1,_+1,1),U.set(x+2,_+2,1),U.set(x+3,_+3,1),U.set(x+4,_,it*ut),U.set(x+4,_+1,-rt*ut),U.set(x+4,_+2,0),U.set(x+4,_+3,-1),U.set(x+4,L-3,-it*ut),U.set(x+4,L-2,rt*ut),U.set(x+5,_,rt*ot/(lt*st)),U.set(x+5,_+1,it*ot/(lt*st)),U.set(x+5,_+2,-lt/st),U.set(x+5,L-3,-U.get(x+5,_)),U.set(x+5,L-2,-U.get(x+5,_+1)),U.set(x+5,L-1,-U.get(x+5,_+2)),B.set(x,0,R.get(_,0)-N.get(_,0)),B.set(x+1,0,R.get(_+1,0)-N.get(_+1,0)),B.set(x+2,0,R.get(_+2,0)-N.get(_+2,0)),B.set(x+3,0,R.get(_+3,0)-N.get(_+3,0)),B.set(x+4,0,Object(u.f)(nt[0]-(Math.atan2(it,rt)-J),-Math.PI,Math.PI)),B.set(x+5,0,nt[1]-Math.atan2(ot,lt)),x+=6,_+=4}else{var ct=E.imageXY[0],ht=E.imageXY[1];S=E.intrinsics,K=N.get(_,0),$=N.get(_+1,0),Q=N.get(_+2,0),J=N.get(_+3,0),tt=N.get(_+4,0),et=N.get(_+5,0);var ft=S.focalLength,dt=S.ppX,pt=S.ppY,mt=S.imageWidth,gt=S.imageHeight,vt=S.k1,yt=S.k2,bt=S.p1,wt=S.p2,xt=m.internalPositionToOblique(Y,X,Z,K,$,Q,J,tt,et,ft,dt,pt,mt,gt,vt,yt,bt,wt);for(B.set(x,0,R.get(_,0)-N.get(_,0)),B.set(x+1,0,R.get(_+1,0)-N.get(_+1,0)),B.set(x+2,0,R.get(_+2,0)-N.get(_+2,0)),B.set(x+3,0,R.get(_+3,0)-N.get(_+3,0)),B.set(x+4,0,R.get(_+4,0)-N.get(_+4,0)),B.set(x+5,0,R.get(_+5,0)-N.get(_+5,0)),B.set(x+6,0,ct-xt[0]),B.set(x+7,0,ht-xt[1]),w=0;w<6;++w)U.set(x+w,_+w,1);var _t=void 0;for(w=0;w<3;++w){var Et=[Y,X,Z];Et[w]+=a.b,_t=m.internalPositionToOblique(Et[0],Et[1],Et[2],K,$,Q,J,tt,et,ft,dt,pt,mt,gt,vt,yt,bt,wt),U.set(x+6,L-3+w,(_t[0]-xt[0])/a.b),U.set(x+7,L-3+w,(_t[1]-xt[1])/a.b)}for(w=0;w<3;++w){var Mt=[K,$,Q];Mt[w]+=a.b,_t=m.internalPositionToOblique(Y,X,Z,Mt[0],Mt[1],Mt[2],J,tt,et,ft,dt,pt,mt,gt,vt,yt,bt,wt),U.set(x+6,_+w,(_t[0]-xt[0])/a.b),U.set(x+7,_+w,(_t[1]-xt[1])/a.b)}for(w=0;w<3;++w){var St=[J,tt,et];St[w]+=a.a,_t=m.internalPositionToOblique(Y,X,Z,K,$,Q,St[0],St[1],St[2],ft,dt,pt,mt,gt,vt,yt,bt,wt),U.set(x+6,_+w+3,(_t[0]-xt[0])/a.a),U.set(x+7,_+w+3,(_t[1]-xt[1])/a.a)}x+=8,_+=6}var Tt=U.transpose().multiply(P);z=Tt.multiply(U);var Ct=Tt.multiply(B),It=void 0;try{It=z.solve(Ct)}catch(t){return o.a.fail(v.NUMERICAL_FAILURE)}for(N.add(It),G=0,w=0;w<A;++w)G+=Math.pow(B.get(w,0),2);G=Math.sqrt(G/A),V.push(G),H=(0===q?1e100:V[q-1])-G;var Ot=void 0;if(Ot=Math.abs(H)<=1e-4,q++,Ot){W=v.CONVERGENGE_REACHED;break}if(q>=25){if(W=v.ITERATION_LIMIT_REACHED,Math.abs(H)>.001)return o.a.fail(W);break}}var At=B.transpose().multiply(P.multiply(B)),Lt=At.get(0,0)/(A-L),Rt=z.inverse();D[0]=k[0]+N.get(L-3,0),D[1]=k[1]+N.get(L-2,0),D[2]=k[2]+N.get(L-1,0);var Nt=r.vec3.fromValues(Math.sqrt(Rt.get(L-3,L-3)),Math.sqrt(Rt.get(L-2,L-2)),Math.sqrt(Rt.get(L-1,L-1)));return o.a.succeed(D,Nt,Lt,W)}},function(t,e){!function(){"use strict";function e(t){this.type=Float64Array,this.length=0,t instanceof e?this.combine(t):t&&t.shape?(this.data=new t.type(t.data),this.length=t.shape[0]*t.shape[1],this.type=t.type):t instanceof Array?(this.data=new this.type(t),this.length=t.length):t&&t.buffer&&t.buffer instanceof ArrayBuffer&&(this.data=t,this.length=t.length,this.type=t.constructor)}function n(t){return{get:function(){return this.get(t)},set:function(e){return this.set(t,e)}}}e.binOp=function(t,n,r){return new e(t).binOp(n,r)},e.prototype.binOp=function(t,e){var n=this.length,r=t.length;if(n!==r)throw new Error("sizes do not match!");if(!n&&!r)return this;var i;for(i=0;i<n;i++)this.data[i]=e(this.data[i],t.data[i],i);return this},e.add=function(t,n){return new e(t).add(n)},e.prototype.add=function(t){return this.binOp(t,function(t,e){return t+e})},e.subtract=function(t,n){return new e(t).subtract(n)},e.prototype.subtract=function(t){return this.binOp(t,function(t,e){return t-e})},e.scale=function(t,n){return new e(t).scale(n)},e.prototype.scale=function(t){return this.each(function(e,n,r){r[n]*=t})},e.normalize=function(t){return new e(t).normalize()},e.prototype.normalize=function(){return this.scale(1/this.magnitude())},e.project=function(t,n){return t.project(new e(n))},e.prototype.project=function(t){return t.scale(this.dot(t)/t.dot(t))},e.fill=function(t,n,r){if(t<0)throw new Error("invalid size");if(0===t)return new e;n=n||0,r=r||Float64Array;var i,o=new r(t),a="function"==typeof n;for(i=0;i<t;i++)o[i]=a?n(i):n;return new e(o)},e.zeros=function(t,n){return e.fill(t,0,n)},e.ones=function(t,n){return e.fill(t,1,n)},e.random=function(t,n,r,i){return n=n||1,r=r||0,e.fill(t,function(){return n*Math.random()+r},i)},e.range=function(){var t,n,r,i=[].slice.call(arguments,0),o=!1,a=Float64Array;switch("function"==typeof i[i.length-1]&&(a=i.pop()),i.length){case 2:r=i.pop(),n=1,t=i.pop();break;case 3:r=i.pop(),n=i.pop(),t=i.pop();break;default:throw new Error("invalid range")}if(r-t<0){var s=r;r=t,t=s,o=!0}if(n>r-t)throw new Error("invalid range");var u,l,c=new a(Math.ceil((r-t)/n));for(u=t,l=0;u<r;u+=n,l++)c[l]=o?r-u+t:u;return new e(c)},e.dot=function(t,e){return t.dot(e)},e.prototype.dot=function(t){if(this.length!==t.length)throw new Error("sizes do not match");var e,n,r=this.data,i=t.data,o=0;for(e=0,n=this.length;e<n;e++)o+=r[e]*i[e];return o},e.prototype.magnitude=function(){if(!this.length)return 0;var t,e,n=0,r=this.data;for(t=0,e=this.length;t<e;t++)n+=r[t]*r[t];return Math.sqrt(n)},e.angle=function(t,e){return t.angle(e)},e.prototype.angle=function(t){return Math.acos(this.dot(t)/this.magnitude()/t.magnitude())},e.equals=function(t,e){return t.equals(e)},e.prototype.equals=function(t){if(this.length!==t.length)return!1;for(var e=this.data,n=t.data,r=this.length,i=0;i<r&&e[i]===n[i];)i++;return i===r},e.prototype.min=function(){return this.reduce(function(t,e){return Math.min(t,e)},Number.POSITIVE_INFINITY)},e.prototype.max=function(){return this.reduce(function(t,e){return Math.max(t,e)},Number.NEGATIVE_INFINITY)},e.prototype.check=function(t){if(t<0||t>this.length-1)throw new Error("index out of bounds")},e.prototype.get=function(t){return this.check(t),this.data[t]},e.prototype.set=function(t,e){return this.check(t),this.data[t]=e,this},Object.defineProperties(e.prototype,{x:n(0),y:n(1),z:n(2),w:n(3)}),e.combine=function(t,n){return new e(t).combine(n)},e.prototype.combine=function(t){if(!t.length)return this;if(!this.length)return this.data=new t.type(t.data),this.length=t.length,this.type=t.type,this;var e=this.length,n=t.length,r=this.data,i=t.data,o=new this.type(e+n);return o.set(r),o.set(i,e),this.data=o,this.length=e+n,this},e.prototype.push=function(t){return this.combine(new e([t]))},e.prototype.map=function(t){var n,r=new e(this),i=r.data;for(n=0;n<this.length;n++)i[n]=t.call(r,i[n],n,i);return r},e.prototype.each=function(t){var e;for(e=0;e<this.length;e++)t.call(this,this.data[e],e,this.data);return this},e.prototype.reduce=function(t,e){var n=this.length;if(0===n&&!e)throw new Error("Reduce of empty matrix with no initial value.");for(var r=0,i=e||this.data[r++];r<n;r++)i=t.call(this,i,this.data[r],r,this.data);return i},e.prototype.toString=function(){var t,e=["["];for(t=0;t<this.length;t++)e.push(t>0?", "+this.data[t]:this.data[t]);return e.push("]"),e.join("")},e.prototype.toArray=function(){return this.data?Array.prototype.slice.call(this.data):[]},t.exports=e;try{window.Vector=e}catch(t){}}()},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=h()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(l.a?l()(t,e):t.__proto__=e)}var a=n(10),s=n.n(a),u=n(9),l=n.n(u),c=n(5),h=n.n(c),f=n(17),d=n.n(f),p=function(t){function e(t){var n=t.coordinate,o=t.id,a=t.srs,u=t.xyz,l=t.groundLevelOffset,c=t.orientation,h=t.orientationPrecision,f=t.recorderDirection,p=t.recordedAt,m=t.expiredAt,g=t.tileSchema,v=t.longitudePrecision,y=t.latitudePrecision,b=t.heightPrecision,w=t.productType,x=t.heightSystem,_=t.hasDepthMap,E=t.depthMapVersion,M=t.depthMapPrecision;return r(this,e),i(this,(e.__proto__||s()(e)).call(this,{geometry:new d.a.geom.Point(n),name:o,id:o,srs:a,xyz:u,groundLevelOffset:l,orientation:c,orientationPrecision:h,recorderDirection:f,recordedAt:p,expiredAt:m,tileSchema:g,longitudePrecision:v,latitudePrecision:y,heightPrecision:b,productType:w,heightSystem:x,hasDepthMap:_,depthMapVersion:E,depthMapPrecision:M}))}return o(e,t),e}(d.a.Feature);e.a=p},function(t,e,n){"use strict";e.a={PANORAMA_CREATED:"panoramaCreated",PANORAMA_UPDATED:"panoramaUpdated",PANORAMA_DELETED:"panoramaDeleted"}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=h()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(l.a?l()(t,e):t.__proto__=e)}var a=n(48),s=n.n(a),u=n(9),l=n.n(u),c=n(5),h=n.n(c),f=n(10),d=n.n(f),p=n(57),m=n.n(p),g=n(1),v=n.n(g),y=n(19),b=n.n(y),w=n(16),x=n.n(w),_=n(58),E=n.n(_),M=n(66),S=n.n(M),T=n(29),C=n.n(T),I=n(17),O=n.n(I),A=n(15),L=(n.n(A),n(261)),R=n(1334),N=n(82),P="function"==typeof S.a&&"symbol"==typeof E.a?function(t){return typeof t}:function(t){return t&&"function"==typeof S.a&&t.constructor===S.a&&t!==S.a.prototype?"symbol":typeof t},k=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=x()(t);!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(b()(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),D=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),v()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),F=function t(e,n,r){null===e&&(e=Function.prototype);var i=m()(e,n);if(void 0===i){var o=d()(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},j=Object(A.defineMessages)({layerName:{id:"layer.AddressLayer.name",description:"Default address layer name",defaultMessage:"Address layer"},streetAddressFormat:{id:"layer.AddressFeature.streetAddressFormat",description:"Format of a street address, e.g. '{num} {street}, {city}' (NB: number may be a range)",defaultMessage:"{num} {street}, {city}"},sequentialNumberFormat:{id:"layer.AddressFeature.sequentialNumberFormat",description:"Format for sequential address numbers, e.g. '1 to 12'",defaultMessage:"{a} - {b}"},sequentialEvenNumberFormat:{id:"layer.AddressFeature.sequentialEvenNumberFormat",description:"Format for sequential even address numbers, e.g. '2 to 12 even'",defaultMessage:"{a} - {b} even"},sequentialOddNumberFormat:{id:"layer.AddressFeature.sequentialOddNumberFormat",description:"Format for sequential odd address numbers, e.g. '1 to 11 odd'",defaultMessage:"{a} - {b} odd"}}),U=function(t){function e(t){r(this,e);var n=i(this,(e.__proto__||d()(e)).call(this,C.a.defaults({},t,e.defaults)));return n._onFeatureHover=n._onFeatureHover.bind(n),n}return o(e,t),D(e,[{key:"onBeforeAddFeature",value:function(t){F(e.prototype.__proto__||d()(e.prototype),"onBeforeAddFeature",this).call(this,t);var n=t.get("AddressString").split(";"),r=n[1]+" "+n[2]+" "+n[0];t.setId(r)}},{key:"_onFeatureHover",value:function(t){var e=this._formatAddresses(this._sortAddresses(t.get("features").map(function(t){return t.get("AddressString").split(";")})));dispatchEvent(new CustomEvent("hoverOverAddress",{detail:{address:e}}))}},{key:"_onFeatureClick",value:function(t){}},{key:"_onFeatureOut",value:function(t){dispatchEvent(new CustomEvent("hoverOverAddress",{detail:{address:[""]}}))}},{key:"createMapSource",value:function(){return new O.a.source.Cluster({source:new O.a.source.Vector(this._getMapSourceOptions()),distance:20})}},{key:"getFeatureStyle",value:function(){return function(t){var e=void 0;if(1===t.get("features").length){e=t.get("features")[0].get("AddressString").split(";")[2]}else e="...",t.set("type","addressCluster");return new R.a({text:e})}}},{key:"_sortAddresses",value:function(t){return t.map(function(t){var e=k(t,3),n=e[0],r=e[1],i=e[2];return[t,n.toUpperCase(),r.toUpperCase(),i.split(" ").map(function(t){return isFinite(t)?parseFloat(t):t.toUpperCase()})]}).sort(function(t,e){if(t[1]!==e[1])return t[1]<e[1]?-1:1;if(t[2]!==e[2])return t[2]<e[2]?-1:1;for(var n=t[3],r=e[3],i=n.length,o=r.length,a=0;!0;++a){if(a>=i&&a>=o)return 0;if(a>=i)return-1;if(a>=o)return 1;var s=n[a],u=r[a];if(s!==u){var l=void 0===s?"undefined":P(s);return l!==(void 0===u?"undefined":P(u))?"number"===l?-1:1:s<u?-1:1}}}).map(function(t){return t[0]})}},{key:"_formatAddresses",value:function(t){var e=t.reduce(function(t,e){var n=k(e,3),r=n[0],i=n[1],o=n[2],a=t[r]||(t[r]={});return(a[i]||(a[i]=[])).push(o),t},{}),n=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n=[t[0]],r=[n],i=-1,o=1,a=t.length;o<a;++o){var s=t[o],u=s-t[o-1],l=1===n.length;(u>2||!l&&u!==i)&&(n=[],r.push(n)),l&&(i=u),n.push(s)}return r.map(function(t){var n=t.length;if(n<e)return t.join(", ");var r=t[0],o=t[1],a=t[n-1];switch(i=o-r){case 1:return Object(N.b)(j.sequentialNumberFormat,{a:r,b:a});case 2:return Object(N.b)(r%2==0?j.sequentialEvenNumberFormat:j.sequentialOddNumberFormat,{a:r,b:a});default:return t.join(", ")}}).join(", ")};return C.a.flatten(s()(e).sort().map(function(t){var e=k(t,2),r=e[0],i=e[1];return s()(i).sort().map(function(t){var e=k(t,2),i=e[0],o=e[1];return Object(N.b)(j.streetAddressFormat,{city:r,street:i,num:n(o)})})}))}}]),e}(L.a);U.defaults={id:"addressLayer",type:"AddressLayer",nameIntl:"layer.AddressLayer.name",visible:!0,version:"1.1.0",typeName:"atlas:Address",authRequired:!0},e.a=U},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=f()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(c.a?c()(t,e):t.__proto__=e)}var s=n(10),u=n.n(s),l=n(9),c=n.n(l),h=n(5),f=n.n(h),d=n(1),p=n.n(d),m=n(4),g=n.n(m),v=n(17),y=(n.n(v),n(15)),b=(n.n(y),n(173)),w=n(1335),x=n(570),_=n(571),E=g.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},M=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),p()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),S=(Object(y.defineMessages)({layerName:{id:"layer.ObliqueFootprintLayer.name",description:"Default oblique footprint layer name",defaultMessage:"Oblique footprint layer"}}),function(t){function e(t){var n=r(t,[]);i(this,e);var a=o(this,(e.__proto__||u()(e)).call(this,E({},e.defaults,n)));return addEventListener(_.a.OBLIQUE_CREATED,function(t){a.createFeature(t.detail.id,t.detail,t.detail.colorStyle)},!1),addEventListener(_.a.OBLIQUE_UPDATED,function(t){a.updateFeature(t.detail.id,t.detail,t.detail.colorStyle)},!1),addEventListener(_.a.OBLIQUE_DELETED,function(t){a.deleteFeature(t.detail.id)},!1),a.updateFeature=a.updateFeature.bind(a),a.toMapLayer(),a}return a(e,t),M(e,[{key:"_getMapSourceOptions",value:function(){}},{key:"_getMapLayerOptions",value:function(){return{visible:this.visible}}},{key:"createFeature",value:function(t,e,n){var r=new w.a(e);r.update(e),this.mapLayer.getSource().addFeature(r)}},{key:"updateFeature",value:function(t,e,n){var r=this.mapLayer.getSource(),i=r.getFeatureById("footprint_"+t);i&&i.update(e)}},{key:"deleteFeature",value:function(t){var e=this.mapLayer.getSource(),n=e.getFeatureById("footprint_"+t);n&&e.removeFeature(n)}},{key:"getFeatureStyle",value:function(){return new x.a}}]),e}(b.a));S.defaults={id:"oblique-footprint-layer",type:"ObliqueFootprintLayer",nameIntl:"layer.ObliqueFootprintLayer.name",visible:!0},e.a=S},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=p()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(f.a?f()(t,e):t.__proto__=e)}function a(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return c()(t)}var s=n(10),u=n.n(s),l=n(31),c=n.n(l),h=n(9),f=n.n(h),d=n(5),p=n.n(d),m=n(4),g=n.n(m),v=n(334),y=n(195),b=g.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},w={fillColor:[].concat(a(y.c.blue),[.02]),strokeColor:[].concat(a(y.c.blue),[.8]),strokeWidth:2,radius:4},x=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,e);var n=i(this,(e.__proto__||u()(e)).call(this)),o=n.glow=new v.a({strokeColor:[255,255,255,.75],strokeWidth:4,zIndex:1}),a=n.mainStyle=new v.a(b({},w,t,{zIndex:2}));return n.push(o,a),n}return o(e,t),e}(Array);e.a=x},function(t,e,n){"use strict";e.a={OBLIQUE_CREATED:"obliqueCreated",OBLIQUE_UPDATED:"obliqueUpdated",OBLIQUE_DELETED:"obliqueDeleted"}},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=f()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(c.a?c()(t,e):t.__proto__=e)}var s=n(10),u=n.n(s),l=n(9),c=n.n(l),h=n(5),f=n.n(h),d=n(1),p=n.n(d),m=n(29),g=n.n(m),v=n(15),y=(n.n(v),n(173)),b=n(1336),w=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),p()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();Object(v.defineMessages)({layerName:{id:"layer.MeasurementLayer.name",description:"Default Measurement layers name",defaultMessage:"Measurement layer"}});var x=function(t){function e(t){var n=r(t,[]);return i(this,e),o(this,(e.__proto__||u()(e)).call(this,g.a.defaults({},n,e.defaults)))}return a(e,t),w(e,[{key:"getFeatureStyle",value:function(){return function(t,e){return b.a.createStyle(t)}}}]),e}(y.a);x.defaults={id:"measurementLayer",type:"MeasurementLayer",nameIntl:"layer.MeasurementLayer.name",color:"#0000FF"},e.a=x},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return s()(t)}function i(t,e,n){for(var i=arguments.length,o=Array(i>3?i-3:0),a=3;a<i;a++)o[a-3]=arguments[a];(arguments.length<2||!Array.isArray(t)||"number"!=typeof e||void 0!==n&&"number"!=typeof n)&&Object(d.b)("spliceArr");var s=e>-1?e:t.length+e,u=n&&n>-1?n:0;return[].concat(r(t.slice(0,s)),o,r(t.slice(s+u)))}e.a=i;var o=n(48),a=(n.n(o),n(31)),s=n.n(a),u=n(19),l=n.n(u),c=n(16),h=n.n(c),f=n(38),d=(n.n(f),n(107));!function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=h()(t);!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}}()},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n(58),i=n.n(r),o=n(66),a=n.n(o),s=("function"==typeof a.a&&i.a,Array.isArray),u=function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},l=function(t){return s(t)||u(t)}},function(t,e,n){"use strict";function r(t){return function(){var e=t.apply(this,arguments);return new u.a(function(t,n){function r(i,o){try{var a=e[i](o),s=a.value}catch(t){return void n(t)}if(!a.done)return u.a.resolve(s).then(function(t){r("next",t)},function(t){r("throw",t)});t(s)}return r("next")})}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=n(24),a=n.n(o),s=n(23),u=n.n(s),l=n(1),c=n.n(l),h=n(19),f=n.n(h),d=n(16),p=n.n(d),m=n(4),g=n.n(m),v=n(29),y=n.n(v),b=n(17),w=n.n(b),x=n(53),_=n(117),E=n(44),M=g.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},S=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=p()(t);!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(f()(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),T=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),c()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),C=new w.a.format.WFS,I=function(){function t(e){i(this,t),y.a.defaults(this,e,t.defaultOptions)}return T(t,[{key:"getExtraFilter",value:function(t){return null}},{key:"requestWithRadius",value:function(t,e,n,r){var i=S(t,2),o=i[0],a=i[1],s=Object(E.n)(e).xyUnits,u=void 0,l=void 0;if(s===E.d.DEGREES){var c=Object(E.g)(n,t),h=c.dLon,f=c.dLat;u=h,l=f}else u=l=s===E.d.USFEET||s===E.d.FEET?Object(E.h)(E.d.METERS,s,n):n;var d=[o-u,a-l,o+u,a+l];return this.requestWithBBOX(d,e,r)}},{key:"requestWithBBOX",value:function(t,e,n){var r=w.a.format.filter,i=r.bbox(this.defaultGeometryName,t,e);return n&&n.filter&&(i=r.and(i,n.filter)),this.doRequest(M({},n,{srsName:e,filter:i}))}},{key:"requestById",value:function(t,e,n){var r=w.a.format.filter,i=r.equalTo("id",t,!1);return this.doRequest(M({},n,{isById:!0,srsName:e,filter:i}))}},{key:"postProcessFeatures",value:function(t){return t}},{key:"doRequest",value:function(){function t(t){return e.apply(this,arguments)}var e=r(a.a.mark(function t(e){var n,r,i,o,s,u,l,c;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.createRequestBody(e),r=e.srsName,i={"Content-Type":"application/xml"},this.authRequired&&(i=M({},i,Object(x.b)())),o=new Request(this.uri,{method:"POST",mode:"cors",headers:new Headers(i),body:n}),t.prev=5,t.next=8,fetch(o);case 8:return s=t.sent,t.next=11,Object(_.a)(s,"text");case 11:return u=t.sent,l=new w.a.format.WFS,c=l.readFeatures(u),c.forEach(function(t){return t.set("srs",r)}),t.abrupt("return",this.postProcessFeatures(c));case 18:throw t.prev=18,t.t0=t.catch(5),new Error("WFSClient: doRequest(): Error in loading wfs features!\nMessage: "+t.t0.message+"\nURL: "+this.uri);case 21:case"end":return t.stop()}},t,this,[[5,18]])}));return t}()},{key:"createRequestBody",value:function(t){var e=w.a.format.filter,n=t.srsName,r=t.filter,i=t.maxFeatures,o=t.isById,a=void 0!==o&&o,s=void 0,u=a?null:this.getExtraFilter(t);s=u?e.and(r,u):r;var l=C.writeGetFeature({featureNS:this.featureNS,featurePrefix:this.featurePrefix,featureTypes:[this.defaultFeatureType],srsName:n,filter:s,maxFeatures:i});return(new XMLSerializer).serializeToString(l)}}]),t}();I.defaultOptions={uri:void 0,authRequired:!1,defaultFeatureType:null,defaultGeometryName:"the_geom",featurePrefix:"atlas"},e.a=I},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(1),o=n.n(i),a=n(39),s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),o()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=["N","E","S","W"],l=function(){function t(){r(this,t)}return s(t,null,[{key:"turnDegrees",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:90;return Object(a.f)(t+e,0,360)}},{key:"turnRadians",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.a;return Object(a.f)(t+e,0,a.b)}},{key:"fromDegrees",value:function(t){var e=Math.round(Object(a.f)(t,0,360)/90)%4;return u[e]}},{key:"fromRadians",value:function(t){var e=Math.round(Object(a.f)(t,0,a.b)/a.a)%4;return u[e]}},{key:"toDegrees",value:function(t){return 90*u.indexOf(t)}},{key:"toRadians",value:function(t){return u.indexOf(t)*a.a}}]),t}();l.NORTH="N",l.EAST="E",l.SOUTH="S",l.WEST="W",e.a=l},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=10},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return y()(t)}function o(t,e,n){return e in t?g()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e){var n=e[t].children,r=[].concat(i(n));return n.forEach(function(t){return r.push.apply(r,i(a(t,e)))}),r}function s(t,e){var n=a(t,e);return S()(e,n)}function u(t,e){var n=s(t,e),i=n[t],a=r(n,[t]),u=e[i.parentId],l=u.children,c=l.indexOf(t);return A({},a,o({},u.id,A({},u,{children:Object(O.a)(l,c,1)})))}e.b=a;var l,c,h=n(71),f=n.n(h),d=n(80),p=n.n(d),m=n(1),g=n.n(m),v=n(31),y=n.n(v),b=n(4),w=n.n(b),x=n(18),_=(n.n(x),n(29)),E=n.n(_),M=n(13),S=n.n(M),T=n(145),C=n(27),I=n(257),O=n(573),A=w.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},L={id:null,parentId:null,type:null,children:[],weight:100,direction:null},R=function(){return E.a.cloneDeep(L)},N=(l={},o(l,I.b.ROOT,A({},R(),{id:I.b.ROOT,type:I.c.CONTAINER,children:[I.b.VIEWERS],direction:I.a.ROW})),o(l,I.b.VIEWERS,A({},R(),{id:I.b.VIEWERS,parentId:I.b.ROOT,type:I.c.CONTAINER,direction:I.a.ODD,children:[I.b.MAPS,I.b.PANORAMAS,I.b.OBLIQUES]})),o(l,I.b.MAPS,A({},R(),{id:I.b.MAPS,parentId:I.b.VIEWERS,type:I.c.CONTAINER})),o(l,I.b.PANORAMAS,A({},R(),{id:I.b.PANORAMAS,parentId:I.b.VIEWERS,type:I.c.CONTAINER})),o(l,I.b.OBLIQUES,A({},L,{id:I.b.OBLIQUES,parentId:I.b.VIEWERS,type:I.c.CONTAINER})),l),P={containerKeys:{},layout:N,savedNodes:{},maxLengthWindowContainer:3,maxLengthWindows:1,helpWindowNode:null,windowLoadingCount:new p.a,revision:0};e.a=Object(x.handleActions)((c={},o(c,C.ActionTypes.LOAD_USER_PROFILE,function(t,e){var n=A({},t),r=e.payload;return C.UserProfileConfigKeys.MAX_WINDOWS in r&&(n.maxLengthWindows=parseFloat(r[C.UserProfileConfigKeys.MAX_WINDOWS])),n}),o(c,T.ActionTypes.SET_MAX_WINDOWS,function(t,e){var n=e.payload.maxWindows;return f()(n)?A({},t,{maxLengthWindows:n}):t}),o(c,T.ActionTypes.ADD_NODE,function(t,e){var n,a=e.payload,s=a.replace,l=void 0!==s&&s,c=a.childIndex,h=void 0===c?-1:c,f=r(a,["replace","childIndex"]),d=A({},R(),f);"number"!=typeof d.weight&&(d.weight=L.weight);var p=d.id,m=d.parentId,g=A({},t.layout),v=A({},g[m]),y=v.children;if(-1===h)v.children=[].concat(i(y),[p]);else{var b=l&&y[h];v.children=Object(O.a)(y,h,l?1:0,p),b&&(g=u(b,g))}return A({},t,{layout:A({},g,(n={},o(n,m,v),o(n,p,d),n)),revision:t.revision+1})}),o(c,T.ActionTypes.MOVE_NODE,function(t,e){var n,r=e.payload,a=r.id,s=r.parentId,u=r.childIndex,l=t.layout,c=l[a],h=l[s],f=l[c.parentId],d=f.children.indexOf(a);return A({},t,{layout:A({},l,(n={},o(n,c.id,A({},c,{parentId:s})),o(n,f.id,A({},f,{children:[].concat(i(f.children.slice(0,d)),i(f.children.slice(d+1)))})),o(n,h.id,A({},h,{children:[].concat(i(h.children.slice(0,u)),[c.id],i(h.children.slice(u)))})),n)),revision:t.revision+1})}),o(c,T.ActionTypes.CLEAR_NODE,function(t,e){var n=t.layout,r=e.payload;return A({},t,{layout:A({},s(r,n),o({},r,A({},n[r],{children:[]}))),revision:t.revision+1})}),o(c,T.ActionTypes.REMOVE_NODE,function(t,e){return A({},t,{layout:u(e.payload,t.layout),revision:t.revision+1})}),o(c,T.ActionTypes.UPDATE_LOADING_COUNT,function(t,e){var n=e.payload,r=n.wid,i=n.loadingDelta,o=new p.a(t.windowLoadingCount),a=t.windowLoadingCount.get(r)||0;return a=0===i?0:Math.max(0,a+i),o.set(r,a),A({},t,{windowLoadingCount:o})}),o(c,T.ActionTypes.SAVE_NODE,function(t,e){var n=e.payload,r=n.key,i=n.id,s=t.layout,u=a(i,s);u.push(i);var l={};return u.forEach(function(t){l[t]=s[t]}),l=E.a.cloneDeep(l),A({},t,{savedNodes:A({},t.savedNodes,o({},r,{id:i,layout:l}))})}),o(c,T.ActionTypes.POP_NODE,function(t,e){var n=e.payload,i=n.key,a=n.parentId,s=n.childIndex,u=void 0===s?-1:s,l=t.layout,c=t.savedNodes,h=c[i],f=r(c,[i]),d=l[a],p=h.id,m=h.layout;return A({},t,{layout:A({},l,m,o({},a,A({},d,{children:Object(O.a)(d.children,u,0,p)}))),savedNodes:f})}),o(c,T.ActionTypes.FORCE_UPDATE_VIEWS,function(t){return A({},t,{revision:t.revision+1})}),c),P)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=v()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(m.a?m()(t,e):t.__proto__=e)}function a(t,e,n){return e in t?b()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s,u=n(104),l=n.n(u),c=n(71),h=n.n(c),f=n(10),d=n.n(f),p=n(9),m=n.n(p),g=n(5),v=n.n(g),y=n(1),b=n.n(y),w=n(4),x=n.n(w),_=n(230),E=n.n(_),M=n(91),S=n.n(M),T=n(0),C=n.n(T),I=n(38),O=(n.n(I),n(15)),A=(n.n(O),n(36)),L=(n.n(A),n(70)),R=n.n(L),N=n(26),P=(n.n(N),n(94)),k=n(73),D=n(54),F=n(30),j=n(108),U=n(144),B=n(147),z=n(44),V=n(574),G=n(263),H=x.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},q=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),b()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),W=Object(O.defineMessages)({panelHeader:{id:"MeasurementInformation.panelHeader",description:"Header for the measurement information panel",defaultMessage:"New measurement"},measurementTab:{id:"MeasurementInformation.measurementTab",description:"Name of the measurement tab",defaultMessage:"Measurement"},currentMeasurement:{id:"MeasurementInformation.currentMeasurement",description:"Name of the current tab",defaultMessage:"Current"},position:{id:"MeasurementInformation.position",description:"The position of the measurement",defaultMessage:"Position"},positionXY:{id:"MeasurementInformation.positionXY",description:"The position of the measurement, XY only",defaultMessage:"Position (XY)"},positionZ:{id:"MeasurementInformation.positionZ",description:"The position of the measurement, Z only",defaultMessage:"Position (Z)"},distance:{id:"MeasurementInformation.distance",description:"The distance of the measurement",defaultMessage:"Distance"},perimeter:{id:"MeasurementInformation.perimeter",description:"The perimeter of the measurement",defaultMessage:"Perimeter"},area:{id:"MeasurementInformation.area",description:"Label for area in measurement information panel",defaultMessage:"Area"},deltaXY:{id:"measurement.deltaXY",defaultMessage:"Delta-XY"},deltaZ:{id:"measurement.deltaZ",defaultMessage:"Delta-Z"},slopeAngle:{id:"measurement.slopeAngle",defaultMessage:"Slope angle"},slopePercentage:{id:"measurement.slopePercentage",defaultMessage:"Slope percentage"},pointNumber:{id:"MeasurementInformation.pointNumber",description:"The number of the measurement point",defaultMessage:"Number"},valueColumn:{id:"MeasurementInformation.valueColumn",description:"Value column for the table",defaultMessage:"Value"},feedbackAddPoint:{id:"MeasurementInformation.feedbackAddPoint",description:"Measurement feedback to user to add point.",defaultMessage:"Click to add point."},feedbackTooFewRecordins:{id:"MeasurementInformation.feedbackTooFewRecordins",description:"Measurement feedback to user when too few recordings",defaultMessage:"Too few observations"},feedbackInvalidAngle:{id:"MeasurementInformation.feedbackInvalidAngle",description:"Measurement feedback to user when an angle between observations is too small",defaultMessage:"Intersection angle too big or too small"},feedbackPointTooFar:{id:"MeasurementInformation.feedbackRecordingsTooFar",description:"Measurement feedback to user when recordings are further away than the max distance",defaultMessage:"Point is further away than {maxDistance}"},feedbackStandardDeviationTooHigh:{id:"MeasurementInformation.feedbackStandardDeviationTooHigh",description:"Measurement feedback to user when deviation of the recording is too high",defaultMessage:"Standard Deviation too high"},feedbackIncompleteMeasurement:{id:"MeasurementInformation.feedbackIncompleteMeasurement",description:"Measurement feedback to user when there are insufficient points ",defaultMessage:"Measurement has insufficient points."},pointName:{id:"MeasurementInformation.pointName",description:"Name of the point",defaultMessage:"Point"},pointsWithErrors:{id:"MeasurementInformation.pointsWithErrors",description:"Message for when there are points with errors",defaultMessage:"One or more points have problems"}}),Y=(s={},a(s,k.MeasureMethod.SMART_CLICK,P.b.SmartClickSmall),a(s,k.MeasureMethod.DEPTH_MAP,P.b.DepthMapSmall),a(s,k.MeasureMethod.FORWARD_INTERSECTION,P.b.ManualMeasurementSmall),s),X=function(t){switch(t){case B.f.OK:return C.a.createElement(P.c,{glyph:P.a.AlertTriangle,style:{color:"orange"}});case B.f.BAD:return C.a.createElement(P.c,{glyph:P.a.AlertCircle,style:{color:"red"}});default:return null}},Z=function(t){function e(){var t;r(this,e);for(var n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];var s=i(this,(t=e.__proto__||d()(e)).call.apply(t,[this].concat(o)));return s.state={minimized:!1,activeObservation:-1},s.saveMeasurement=function(){return s.props.actions.saveMeasurement()},s.newMeasurement=function(){return s.props.actions.showTypeSelectionModal()},s.toggleMinimized=function(){return s.setState({minimized:!s.state.minimized})},s.closeMeasurements=function(){return s.props.actions.disableMeasurementMode()},s}return o(e,t),q(e,[{key:"componentWillReceiveProps",value:function(t){var e=Object(B.k)(this.props.measurements.activeMeasurement.geometry),n=Object(B.k)(t.measurements.activeMeasurement.geometry);n<e?this.setState({activeObservation:-1}):n>e&&this.setState({activeObservation:n-1})}},{key:"shouldComponentUpdate",value:function(t,e){var n=this.props.measurements.activeMeasurement.geometry,r=n.type,i=n.coordinates,o=Object(B.l)(r,i),a=t.measurements.activeMeasurement.geometry,s=a.type,u=a.coordinates,l=Object(B.l)(s,u);return this.state.minimized!==e.minimized||r!==s||o.length!==l.length||o.indexOf(function(t,e){return t.indexOf(function(t,n){return t!==l[e][n]})})}},{key:"createHeader",value:function(){var t=this.state.minimized,e=this.props.measurements.activeMeasurement.properties,n=e.measureReliability,r=e.validGeometry;return C.a.createElement("div",{className:"measurement-floating-panel-header"},C.a.createElement(O.FormattedMessage,W.panelHeader),X(n)||!1===r&&C.a.createElement(P.c,{glyph:P.a.AlertTriangle,style:{color:"gray"}}),C.a.createElement("div",{className:"measurement-floating-panel-controls"},!this.props.config.isApi&&C.a.createElement(j.a,H({placement:"top"},U.a.saveMeasurement),C.a.createElement(N.Button,{onClick:this.saveMeasurement},C.a.createElement(P.b.Save,null))),C.a.createElement(j.a,H({placement:"top"},U.a.newMeasurement),C.a.createElement(N.Button,{onClick:this.newMeasurement},C.a.createElement(P.b.ZoomIn,null))),t?C.a.createElement(j.a,H({placement:"top"},U.a.expandMeasurementPanel),C.a.createElement(N.Button,{onClick:this.toggleMinimized},C.a.createElement(P.b.Maximize,null))):C.a.createElement(j.a,H({placement:"top"},U.a.collapseMeasurementPanel),C.a.createElement(N.Button,{onClick:this.toggleMinimized},C.a.createElement(P.b.Restore,null)))))}},{key:"onDeletePoint",value:function(t,e){t.stopPropagation(),this.props.actions.removeMeasurementPoint(e)}},{key:"renderDerivedData",value:function(){var t=this.props,e=t.measurements.activeMeasurement.properties,n=e.derivedData;n=void 0===n?{}:n;var r=n.unit,i=n.totalLength,o=n.area,a=(n.position,n.positionXY),s=n.positionZ,u=n.precision,l=n.deltaXY,c=n.deltaZ,f=n.slopeAngle,d=n.slopePercentage,p=e.preciseGeometry,m=p.coordinates,g=p.type,v=e.customGeometryType,y=e.preciseCRS,b=t.userSrs,w=t.userSrsUnit,x=[],_=function(t){return h()(t)||Object(V.a)(t)&&t.every(function(t){return h()(t)})},M=function(t,e,n){var r=t.value,i=t.stdev,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(!_(r))return null;var s=function(t){return C.a.createElement(O.FormattedNumber,{value:t*o,minimumFractionDigits:u,maximumFractionDigits:u,useGrouping:a})},l=function(t){if(!Object(V.a)(t))return s(t);var e=[];return t.forEach(function(t,n){n>0&&e.push(", "),e.push(s(t))}),e},c=[C.a.createElement(O.FormattedMessage,e),": ",l(r)," ",n&&C.a.createElement(O.FormattedMessage,n)];return _(i)&&c.push([" (σ: ",l(i),")"]),c};if(g===B.b.POINT){if(a)if(s){var T=[a.value[0],a.value[1],s.value],I=R()(y,b,T),A=S.a.sqrDist(T,I)<1e-6,L=A?a:{value:[I[0],I[1]]},N=A?s:{value:I[2]};x.push(M(L,W.positionXY,G.a[w],1,!1),M(N,W.positionZ,null,1,!1))}else{var P=R()(y,b,a.value),k=E.a.sqrDist(a.value,P)<1e-6,D=k?a:{value:P};x.push(M(D,W.positionXY,G.a[w],1,!1))}}if(r!==z.d.DEGREES&&r!==z.d.UNKNOWN){var F=r,j=1,U=1;if(w!==F&&(F=w,j=w===z.d.METERS?z.b:z.c,U=Math.pow(j,2)),o&&x.push(M(o,W.area,G.a[F+"2"],U)),i){var H=v===B.a.CIRCLE||g===B.b.POLYGON&&m&&m.length>0&&m[0].length>3?W.perimeter:W.distance;x.push(M(i,H,G.a[F],j))}l&&x.push(M(l,W.deltaXY,G.a[F],j)),c&&x.push(M(c,W.deltaZ,G.a[F],j)),f&&f.value<=45&&x.push(M(f,W.slopeAngle,G.a.degrees,j)),d&&d.value<=100&&x.push(M(d,W.slopePercentage,G.a.percent,j))}return x.map(function(t){return C.a.createElement("p",null,t)})}},{key:"createPointPanel",value:function(t,e,n,r){var i=this,o=this.props.actions,a=void 0,s=void 0,u=void 0,c=void 0,h=void 0;e?(a=e.measureMethod,s=a===k.MeasureMethod.SMART_CLICK&&e.details&&e.details.ResultDirections.ResultDirection,u=X(e.pointReliability),n&&(c=l()(n[0],n[1]).toFixed(2),h=n[2].toFixed(2))):(a=void 0,s=null);var f=Y[a],d=this.props.measurements.activeMeasurement.properties.customGeometryType,p=[];if(s)for(var m=0;m<3;m++)p.push(C.a.createElement("div",{key:m,className:"flexItem"},s[m]?C.a.createElement("div",{className:"relative"},C.a.createElement("div",{className:"observation-image-crosshair"}),C.a.createElement(N.Image,{className:"observation-image",src:"data:image/jpeg;base64,"+s[m].MatchImage})):C.a.createElement("div",{className:"relative"},C.a.createElement(P.b.QuestionMark,{className:"observation-image"}))));return C.a.createElement(N.Panel,{eventKey:t,className:"measurement-point-panel",header:C.a.createElement("div",{className:"measurement-point-panel-header flexRow"},C.a.createElement("div",{className:"measurement-point-number"},"  "+(t+1)+"  "),C.a.createElement("div",{className:"flexItem measurement-point-name"},e&&n&&C.a.createElement("span",null,"(σ",C.a.createElement("sub",null,"XY"),": ",c,", σ",C.a.createElement("sub",null,"Z"),":",h,")"),!e&&C.a.createElement(P.b.Locate,null),f&&C.a.createElement(f,null)),C.a.createElement("div",{className:"flexItem measurement-point-actions"},C.a.createElement(j.a,H({placement:"left"},U.a.wrongMeasurementPoint),C.a.createElement(N.Button,null,u)),e&&C.a.createElement(j.a,H({placement:"top"},U.a.removeMeasurementPoint),C.a.createElement(N.Button,{eventKey:t,onClick:function(e){return i.onDeletePoint(e,t)}},C.a.createElement(P.b.Delete,null))),e&&r>1&&"Circle"!==d&&C.a.createElement(j.a,H({placement:"left"},U.a.insertAbove),C.a.createElement(N.Button,{onClick:function(e){e.stopPropagation(),o.setInsertPointIndex(t)}},C.a.createElement(P.b.AddRowUp,null))),e&&t+1!==r&&r>1&&"Circle"!==d&&C.a.createElement(j.a,H({placement:"left"},U.a.insertBelow),C.a.createElement(N.Button,{onClick:function(e){e.stopPropagation(),o.setInsertPointIndex(t+1)}},C.a.createElement(P.b.AddRowDown,null)))))},e&&e.pointReliability!==B.f.GOOD&&this.renderPointMeasureErrors(e.pointProblems),p&&p.length>1&&C.a.createElement("div",{className:"measurement-point-observations flexRow"},p))}},{key:"renderPointMeasureErrors",value:function(t){if(t&&t.length>0){var e=this.props,n=e.userSrsUnit,r=e.measurements.activeMeasurement.properties.precision,i=this.context.intl.formatNumber,o=[],a=i(n===z.d.METERS?B.d:B.c,{minimumFractionDigits:r,maximumFractionDigits:r}),s=a+" "+n;return t.forEach(function(t){switch(t){case B.e.INVALID_ANGLE:o.push(W.feedbackInvalidAngle);break;case B.e.POINT_TOO_FAR:o.push(H({},W.feedbackPointTooFar,{values:{maxDistance:s}}));break;case B.e.STANDARD_DEVIATION:o.push(W.feedbackStandardDeviationTooHigh);break;case B.e.TOO_FEW_RECORDINGS:o.push(W.feedbackTooFewRecordins)}}),C.a.createElement("div",{className:"point-problems"},o.map(function(t){return C.a.createElement("p",null,C.a.createElement(O.FormattedMessage,t))}))}return null}},{key:"renderMeasureFeedback",value:function(){var t=this.props.measurements.activeMeasurement.properties,e=t.measureReliability,n=t.pointsWithErrors,r=t.validGeometry,i=[];return n&&e!==B.f.GOOD?i.push([C.a.createElement(O.FormattedMessage,W.pointsWithErrors),": ",n.map(function(t){return t+1}).join(", ")]):i.push(C.a.createElement(O.FormattedMessage,W.feedbackAddPoint)),!1===r&&i.push(C.a.createElement(O.FormattedMessage,W.feedbackIncompleteMeasurement)),C.a.createElement("div",{className:"measurement-panel-error-message"},i.map(function(t){return C.a.createElement("p",null,t)}))}},{key:"renderMeasurementInformation",value:function(){var t=this,e=this.props.measurements,n=e.activeMeasurement,r=n.properties,i=r.derivedData,o=r.measureDetails,a=n.geometry.type,s=e.geometryType,u=this.state.activeObservation;return C.a.createElement("div",{className:"measurement-floating-panel-body flexColumn"},this.renderDerivedData(),this.renderMeasureFeedback(),C.a.createElement(N.Accordion,{expanded:u>=0,activeKey:u,onSelect:function(e){t.setState({activeObservation:t.state.activeObservation===e?-1:e})}},o.map(function(e,n){return t.createPointPanel(n,e,i.coordinateStdevs[n],o.length)}),(a!==B.b.POINT||o&&0===o.length)&&(s!==B.a.CIRCLE||o.length<2)&&this.createPointPanel(o.length)))}},{key:"render",value:function(){var t=this.state.minimized;return C.a.createElement(N.Panel,{className:"measurement-floating-panel",header:this.createHeader()},!t&&this.renderMeasurementInformation())}}]),e}(F.a),K=function(t){var e=t.measurements,n=t.srs,r=t.config,i=n.userSrs;return{measurements:e,userSrs:i,userSrsUnit:Object(z.n)(i).xyUnits,config:r}},$=function(t){return{actions:Object(I.bindActionCreators)(H({},k.default,D.default),t)}};e.a=Object(A.connect)(K,$)(Z)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=h()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(l.a?l()(t,e):t.__proto__=e)}var a=n(10),s=n.n(a),u=n(9),l=n.n(u),c=n(5),h=n.n(c),f=n(1),d=n.n(f),p=n(3),m=n.n(p),g=n(0),v=n.n(g),y=n(36),b=(n.n(y),n(26)),w=(n.n(b),n(15)),x=(n.n(w),n(38)),_=(n.n(x),n(30)),E=n(246),M=n(378),S=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),T=(Object(w.defineMessages)({header:{id:"LayerPanel.header",defaultMessage:"Overlays"}}),function(t){function e(){var t;r(this,e);for(var n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];var u=i(this,(t=e.__proto__||s()(e)).call.apply(t,[this].concat(o)));return u.state={panelHeight:0,initialPanelHeight:0,navbarOffset:69},u.handleResize=u.handleResize.bind(u),u}return o(e,t),S(e,[{key:"toggleLayer",value:function(t){var e=this.props.onToggleLayer;e&&e(t)}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.handleResize);var t=document.getElementsByClassName("layerpanel")[0].offsetHeight+this.state.navbarOffset;this.setState({initialPanelHeight:t})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize)}},{key:"handleResize",value:function(){this.forceUpdate()}},{key:"render",value:function(){var t=this,e=this.props.layers,n=[],r=e.map(function(e,r){var i=Object(E.b)(e,t.props),o={key:i.id,label:i.name,value:i};return i.visible&&n.push(o),o}),i={},o=document.getElementsByClassName("viewer")[0];return o&&(i.maxHeight=o.offsetHeight-this.state.navbarOffset),v.a.createElement(b.Panel,{className:"layerpanel panel-overlays",style:i},v.a.createElement(M.c,{multiple:!0,WrapperComponent:M.a,ItemComponent:M.b,items:r,value:n,onChange:function(e){var n=e.value;return t.toggleLayer(n)}}))}}]),e}(_.a));T.propTypes={layers:m.a.array,onToggleLayer:m.a.func},T.defaultProps={layers:[]};var C=function(t){return{panoramaviewer:t.panoramaviewer}},I=function(t){return{actions:Object(x.bindActionCreators)({},t)}};e.a=Object(y.connect)(C,I,null,{withRef:!0})(T)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=h()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(l.a?l()(t,e):t.__proto__=e)}var a=n(10),s=n.n(a),u=n(9),l=n.n(u),c=n(5),h=n.n(c),f=n(1),d=n.n(f),p=n(4),m=n.n(p),g=n(1352),v=n.n(g),y=n(29),b=n.n(y),w=n(3),x=n.n(w),_=n(0),E=n.n(_),M=m.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},S=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),T=function(t){function e(){var t;r(this,e);for(var n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];var u=i(this,(t=e.__proto__||s()(e)).call.apply(t,[this].concat(o)));return u.onSlide=u.onSlide.bind(u),u.onSlideStop=u.onSlideStop.bind(u),u.onChange=u.onChange.bind(u),u}return o(e,t),S(e,[{key:"componentDidMount",value:function(){this.createSlider(this.props)}},{key:"componentWillUpdate",value:function(t,e){this.slider&&(b.a.isEqual(this.props.ticks,t.ticks)?this.props.value!==t.value&&this.slider.setValue(t.value):(this.destroySlider(),this.createSlider(t)))}},{key:"componentWillUnmount",value:function(){this.destroySlider()}},{key:"onSlide",value:function(t){var e=this.props.onSlide;e&&e(t),this.slider.setValue(t)}},{key:"onSlideStop",value:function(t){var e=this.props.onSlideStop;e&&e(t),this.slider.setValue(t)}},{key:"onChange",value:function(t){var e=this.props.onChange;e&&e(t.newValue),this.slider.setValue(t.newValue)}},{key:"createSlider",value:function(t){var e=this.slider=new v.a(this.sliderDiv,M({},t));e.on("slide",this.onSlide),e.on("slideStop",this.onSlideStop),e.on("change",this.onChange)}},{key:"destroySlider",value:function(){this.slider.destroy()}},{key:"getValue",value:function(){return this.slider.getValue()}},{key:"render",value:function(){var t=this;return E.a.createElement("div",{ref:function(e){t.sliderDiv=e}})}}]),e}(_.Component);T.propTypes={id:x.a.string,min:x.a.number,max:x.a.number,step:x.a.number,value:x.a.number.isRequired,toolTip:x.a.bool,onSlide:x.a.func,onSlideStop:x.a.func,onChange:x.a.func,ticks:x.a.array,ticks_labels:x.a.array},T.defaultProps={min:0,max:100,step:100,value:0,toolTip:!1,onSlide:void 0,onSlideStop:void 0,onChange:void 0,ticks:[],ticks_labels:[]},e.a=T},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=h()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(l.a?l()(t,e):t.__proto__=e)}var a=n(10),s=n.n(a),u=n(9),l=n.n(u),c=n(5),h=n.n(c),f=n(1),d=n.n(f),p=n(3),m=n.n(p),g=n(0),v=n.n(g),y=n(26),b=(n.n(y),n(30)),w=n(74),x=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),_=function(t){var e=t.clientX,n=t.clientY,r=t.target,i=r.getBoundingClientRect(),o=i.left,a=i.top,s=i.width,u=i.height,l=e-(o+s/2),c=n-(a+u/2);return Math.atan2(l,-c)},E=function(t){function e(){var t;r(this,e);for(var n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];var u=i(this,(t=e.__proto__||s()(e)).call.apply(t,[this].concat(o)));return u.handleMouseDown=u.handleMouseDown.bind(u),u.handleMouseUp=u.handleMouseUp.bind(u),u.handleMouseMove=u.handleMouseMove.bind(u),u}return o(e,t),x(e,[{key:"render",value:function(){var t=this.props,e=t.rotation,n=t.resetRotation;return v.a.createElement("div",{className:"compass-overlay"},v.a.createElement(y.Image,{src:Object(w.a)("./assets/img/compass.svg"),circle:!0,style:{transform:"rotate("+e+"rad)"},onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onMouseMove:this.handleMouseMove,onDoubleClick:n,draggable:!1}))}},{key:"handleMouseDown",value:function(t){1&t.buttons&&(this.mouseDownInfo={rotation:this.props.rotation,angle:_(t)})}},{key:"handleMouseUp",value:function(t){1&t.buttons&&(this.mouseDownInfo=void 0)}},{key:"handleMouseMove",value:function(t){var e=this.props.setRotation;if(e&&1&t.buttons){var n=this.mouseDownInfo,r=n.rotation,i=n.angle;e(r+(_(t)-i))}}}]),e}(b.a);E.propTypes={rotation:m.a.number,setRotation:m.a.func,resetRotation:m.a.func},E.defaultProps={rotation:0},e.a=E},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=f()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(c.a?c()(t,e):t.__proto__=e)}var s=n(10),u=n.n(s),l=n(9),c=n.n(l),h=n(5),f=n.n(h),d=n(1),p=n.n(d),m=n(4),g=n.n(m),v=n(29),y=n.n(v),b=n(17),w=n.n(b),x=n(15),_=(n.n(x),n(148)),E=g.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},M=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),p()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),S=(Object(x.defineMessages)({layerName:{id:"layer.WMSLayer.name",description:"Default WMS layers name",defaultMessage:"WMS layer"}}),function(t){function e(t){var n=r(t,[]);return i(this,e),o(this,(e.__proto__||u()(e)).call(this,E({},e.defaults,n)))}return a(e,t),M(e,[{key:"createMapSource",value:function(){var t=this.tiled?w.a.source.TileWMS:w.a.source.ImageWMS,n=E({},this._getMapSourceOptions(),{params:y.a.defaults({},{VERSION:this.version,FORMAT:this.imageFormat,TRANSPARENT:this.transparent,BGCOLOR:this.bgColor,LAYERS:this.layers.map(function(t){return t.name}).join(","),EXCEPTIONS:this.exceptions},e.defaults.params)});return this.tiled&&(n.tileGrid=new w.a.tilegrid.TileGrid(this.tileGrid)),new t(n)}}]),e}(_.a));S.defaults={type:"WMSLayer",nameIntl:"layer.WMSLayer.name",tiled:!1,params:{VERSION:"1.1.1",FORMAT:"image/png",TRANSPARENT:!1,BGCOLOR:"0xffffff",EXCEPTIONS:"application/vnd.ogc.se_xml"}},e.a=S},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=f()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(c.a?c()(t,e):t.__proto__=e)}var s=n(10),u=n.n(s),l=n(9),c=n.n(l),h=n(5),f=n.n(h),d=n(1),p=n.n(d),m=n(4),g=n.n(m),v=n(17),y=n.n(v),b=n(15),w=(n.n(b),n(148)),x=g.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),p()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),E=(Object(b.defineMessages)({layerName:{id:"layer.WMTSLayer.name",description:"Default name for WMTS layers",defaultMessage:"WMTS layer"}}),function(t){function e(t){var n=r(t,[]);return i(this,e),o(this,(e.__proto__||u()(e)).call(this,x({},e.defaults,n,{tiled:!0})))}return a(e,t),_(e,[{key:"createMapSource",value:function(){for(var t=this.layers[0],e=this.tileGrid,n=t.tileMatrixSet,r=[],i=0,o=e.resolutions.length;i<o;++i)r.push(n+":"+i);var a=new y.a.tilegrid.WMTS(x({},e,{matrixIds:r}));return new y.a.source.WMTS(x({},this._getMapSourceOptions(),{format:t.imageFormat,layer:t.name,matrixSet:n,style:t.style,tileGrid:a,version:this.version}))}}]),e}(w.a));E.defaults={type:"WMTSLayer",nameIntl:"layer.WMTSLayer.name",version:"1.0.0",params:{FORMAT:"image/png",STYLE:"default"}},e.a=E},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=f()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(c.a?c()(t,e):t.__proto__=e)}var s=n(10),u=n.n(s),l=n(9),c=n.n(l),h=n(5),f=n.n(h),d=n(1),p=n.n(d),m=n(4),g=n.n(m),v=n(17),y=n.n(v),b=n(15),w=(n.n(b),n(148)),x=g.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),p()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),E=(Object(b.defineMessages)({layerName:{id:"layer.TMSLayer.name",description:"Default TMS layers name",defaultMessage:"TMS layer"}}),function(t){function e(t){var n=r(t,[]);return i(this,e),o(this,(e.__proto__||u()(e)).call(this,x({},e.defaults,n)))}return a(e,t),_(e,[{key:"createMapSource",value:function(){return new y.a.source.XYZ(x({},this._getMapSourceOptions()))}}]),e}(w.a));E.defaults={type:"TMSLayer",nameIntl:"layer.TMSLayer.name",projection:"EPSG:3857"},e.a=E},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=f()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(c.a?c()(t,e):t.__proto__=e)}var s=n(10),u=n.n(s),l=n(9),c=n.n(l),h=n(5),f=n.n(h),d=n(1),p=n.n(d),m=n(4),g=n.n(m),v=n(17),y=n.n(v),b=n(15),w=(n.n(b),n(148)),x=g.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),p()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),E=(Object(b.defineMessages)({layerName:{id:"layer.OSMLayer.name",description:"Default OSM layer name",defaultMessage:"OSM layer"}}),function(t){function e(t){var n=r(t,[]);return i(this,e),o(this,(e.__proto__||u()(e)).call(this,x({},e.defaults,n)))}return a(e,t),_(e,[{key:"createMapSource",value:function(){return new y.a.source.OSM(x({},this._getMapSourceOptions(),{url:void 0}))}}]),e}(w.a));E.defaults={type:"OSMLayer",nameIntl:"layer.OSMLayer.name",tiled:!0,projection:"EPSG:3857",url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png"},e.a=E},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=f()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(c.a?c()(t,e):t.__proto__=e)}var s=n(10),u=n.n(s),l=n(9),c=n.n(l),h=n(5),f=n.n(h),d=n(1),p=n.n(d),m=n(4),g=n.n(m),v=n(29),y=n.n(v),b=n(17),w=n.n(b),x=n(15),_=(n.n(x),n(148)),E=g.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},M=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),p()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),S=(Object(x.defineMessages)({layerName:{id:"layer.BingLayer.name",description:"Default Bing layers name",defaultMessage:"Bing layer"}}),function(t){function e(t){var n=(t.url,r(t,["url"]));return i(this,e),o(this,(e.__proto__||u()(e)).call(this,y.a.defaults({},n,e.defaults)))}return a(e,t),M(e,[{key:"createMapSource",value:function(){var t=this.bingKey,e=this.imagerySet;return new w.a.source.BingMaps(E({},this._getMapSourceOptions(),{key:t,imagerySet:e}))}}]),e}(_.a));S.defaults={type:"BingLayer",nameIntl:"layer.BingLayer.name",imagerySet:"Road",projection:"EPSG:3857"},e.a=S},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=f()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(c.a?c()(t,e):t.__proto__=e)}var s=n(10),u=n.n(s),l=n(9),c=n.n(l),h=n(5),f=n.n(h),d=n(1),p=n.n(d),m=n(4),g=n.n(m),v=n(29),y=n.n(v),b=n(17),w=n.n(b),x=n(15),_=(n.n(x),n(148)),E=g.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},M=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),p()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),S=(Object(x.defineMessages)({layerName:{id:"layer.ArcGISLayer.name",description:"Default ArcGIS layers name",defaultMessage:"ArcGIS layer"}}),function(t){function e(t){var n=r(t,[]);return i(this,e),o(this,(e.__proto__||u()(e)).call(this,y.a.defaults({},n,e.defaults)))}return a(e,t),M(e,[{key:"createMapSource",value:function(){var t={};this.layers&&(t.LAYERS=this.layers);var e=this.url;return-1!==e.indexOf("MapServer")?e=e.split("MapServer")[0]+"MapServer":-1!==e.indexOf("ImageServer")&&(e=e.split("ImageServer")[0]+"ImageServer"),new w.a.source.TileArcGISRest(E({},this._getMapSourceOptions(),{params:t,url:e}))}}]),e}(_.a));S.defaults={type:"ArcGISLayer",nameIntl:"layer.ArcGISLayer.name",projection:"EPSG:3857"},e.a=S},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",function(){return m});var i=n(80),o=n.n(i),a=n(1),s=n.n(a),u=n(58),l=n.n(u),c=n(66),h=n.n(c),f=n(118),d="function"==typeof h.a&&"symbol"==typeof l.a?function(t){return typeof t}:function(t){return t&&"function"==typeof h.a&&t.constructor===h.a&&t!==h.a.prototype?"symbol":typeof t},p=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),s()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),m={USER_ONLY:1,API_ONLY:2,ALL:3},g=function t(){r(this,t)},v=function t(){r(this,t)},y=function(){function t(){r(this,t)}return p(t,[{key:"parse",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.filter,r=void 0===n?m.USER_ONLY:n;t=t.UserInfo;var i=t.Customer,a=Object(f.e)(i,"Name",""),s=Object(f.e)(i,"Logo/@d3p1:href",""),u=Object(f.e)(i,"CrmAccountId"),l=Object(f.e)(t,"Account/Description",""),c=t.User,h=Object(f.e)(c,"UserName"),p=Object(f.e)(c,"Name","");"object"==(void 0===p?"undefined":d(p))&&(p="");var y=Object(f.a)(Object(f.e)(t,"Packages/Package")),b=new o.a;y.forEach(function(t){var e=Object(f.b)(t.ApiPackage,!1);if(r===m.USER_ONLY&&!e||r===m.API_ONLY&&e){var n=new g;n.configId=t.ConfigId,n.name=t.Name,n.description=t.Description,n.apiPackage=e,b.set(n.configId,n)}});var w=new v;return w.username=h,w.userFullName=p,w.accountDescription=l,w.customerName=a,w.logo=s,w.crmAccountID=u,w.configurations=b,w}}]),t}();e.b=y},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=h()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(l.a?l()(t,e):t.__proto__=e)}var a=n(10),s=n.n(a),u=n(9),l=n.n(u),c=n(5),h=n.n(c),f=function(t){function e(t,n,o){r(this,e);var a=i(this,(e.__proto__||s()(e)).call(this,n||"AuthError::"+t));return a.name="AuthError",a.type=t,a.detail=o,a}return o(e,t),e}(Error);f.SERVER_UNREACHABLE="SERVER_UNREACHABLE",f.UNAUTHORIZED="UNAUTHORIZED",f.NOT_FOUND="SERVER_RESPONSE::NOT_FOUND",f.CREDENTIALS_EMPTY="CREDENTIALS_EMPTY",f.NOT_AGREED="NOT_AGREED",f.AUTO_LOGIN_FAILED="AUTO_LOGIN_FAILED",f.UNKNOWN_ERROR="UNKNOWN_ERROR",e.a=f},function(t,e,n){"use strict";function r(t){return function(){var e=t.apply(this,arguments);return new s.a(function(t,n){function r(i,o){try{var a=e[i](o),u=a.value}catch(t){return void n(t)}if(!a.done)return s.a.resolve(u).then(function(t){r("next",t)},function(t){r("throw",t)});t(u)}return r("next")})}}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"LOAD_CUSTOMER_LOGO",function(){return c}),n.d(e,"loadCustomerLogo",function(){return f}),n.d(e,"ActionTypes",function(){return d});var i=n(24),o=n.n(i),a=n(23),s=n.n(a),u=n(18),l=(n.n(u),n(53)),c="@@customerlogo/LOAD_CUSTOMER_LOGO",h=function(t,e){var n=new Request(t,{method:"GET",headers:new Headers(e),mode:"cors"});return fetch(n)},f=Object(u.createAction)(c,function(){var t=r(o.a.mark(function t(){var e,n,r,i,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=a.url,u=a.headers;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return u||(u=Object(l.b)()),e=s+"customerlogo?width=600&height=200&resizeCanvas=true",t.next=4,h(e,u);case 4:if(n=t.sent,n.ok){t.next=8;break}return r="Loading the customer logo failed with status code "+n.status+". Message: "+n.statusText,t.abrupt("return",new Error(r));case 8:return t.next=10,n.blob();case 10:return i=t.sent,t.abrupt("return",URL.createObjectURL(i));case 12:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()),d={LOAD_CUSTOMER_LOGO:c};e.default={loadCustomerLogo:f}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.routerMiddleware=e.routerActions=e.goForward=e.goBack=e.go=e.replace=e.push=e.CALL_HISTORY_METHOD=e.routerReducer=e.LOCATION_CHANGE=e.syncHistoryWithStore=void 0;var i=n(593);Object.defineProperty(e,"LOCATION_CHANGE",{enumerable:!0,get:function(){return i.LOCATION_CHANGE}}),Object.defineProperty(e,"routerReducer",{enumerable:!0,get:function(){return i.routerReducer}});var o=n(594);Object.defineProperty(e,"CALL_HISTORY_METHOD",{enumerable:!0,get:function(){return o.CALL_HISTORY_METHOD}}),Object.defineProperty(e,"push",{enumerable:!0,get:function(){return o.push}}),Object.defineProperty(e,"replace",{enumerable:!0,get:function(){return o.replace}}),Object.defineProperty(e,"go",{enumerable:!0,get:function(){return o.go}}),Object.defineProperty(e,"goBack",{enumerable:!0,get:function(){return o.goBack}}),Object.defineProperty(e,"goForward",{enumerable:!0,get:function(){return o.goForward}}),Object.defineProperty(e,"routerActions",{enumerable:!0,get:function(){return o.routerActions}});var a=n(1369),s=r(a),u=n(1370),l=r(u);e.syncHistoryWithStore=s.default,e.routerMiddleware=l.default},function(t,e,n){"use strict";function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.type,r=e.payload;return n===o?i({},t,{locationBeforeTransitions:r}):t}Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.routerReducer=r;var o=e.LOCATION_CHANGE="@@router/LOCATION_CHANGE",a={locationBeforeTransitions:null}},function(t,e,n){"use strict";function r(t){return function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return{type:i,payload:{method:t,args:n}}}}Object.defineProperty(e,"__esModule",{value:!0});var i=e.CALL_HISTORY_METHOD="@@router/CALL_HISTORY_METHOD",o=e.push=r("push"),a=e.replace=r("replace"),s=e.go=r("go"),u=e.goBack=r("goBack"),l=e.goForward=r("goForward");e.routerActions={push:o,replace:a,go:s,goBack:u,goForward:l}},function(t,e,n){"use strict";function r(t){return function(){var e=t.apply(this,arguments);return new l.a(function(t,n){function r(i,o){try{var a=e[i](o),s=a.value}catch(t){return void n(t)}if(!a.done)return l.a.resolve(s).then(function(t){r("next",t)},function(t){r("throw",t)});t(s)}return r("next")})}}n.d(e,"a",function(){return v});var i=n(24),o=n.n(i),a=n(103),s=n.n(a),u=n(23),l=n.n(u),c=n(18),h=(n.n(c),n(27)),f=this,d=function(t,e){var n=e().searchhistory.searchHistory;t(h.default.setProfileConfig(h.UserProfileConfigKeys.SEARCH_HISTORY,s()(n)))},p=function(t){return function(){var e=r(o.a.mark(function e(n,r){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n(Object(c.createAction)("@@searchhistory/ADD_SEARCH_HISTORY_ITEM")(t)),d(n,r);case 2:case"end":return e.stop()}},e,f)}));return function(t,n){return e.apply(this,arguments)}}()},m=function(t){return function(){var e=r(o.a.mark(function e(n,r){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n(Object(c.createAction)("@@searchhistory/REMOVE_SEARCH_HISTORY_ITEM")(t)),d(n,r);case 2:case"end":return e.stop()}},e,f)}));return function(t,n){return e.apply(this,arguments)}}()},g=function(){return function(){var t=r(o.a.mark(function t(e,n){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e(Object(c.createAction)("@@searchhistory/CLEAR_SEARCH_HISTORY")()),d(e,n);case 2:case"end":return t.stop()}},t,f)}));return function(e,n){return t.apply(this,arguments)}}()},v={ADD_SEARCH_HISTORY_ITEM:"@@searchhistory/ADD_SEARCH_HISTORY_ITEM",REMOVE_SEARCH_HISTORY_ITEM:"@@searchhistory/REMOVE_SEARCH_HISTORY_ITEM",CLEAR_SEARCH_HISTORY:"@@searchhistory/CLEAR_SEARCH_HISTORY"};e.b={addSearchHistoryItem:p,removeSearchHistoryItem:m,clearSearchHistory:g}},function(t,e,n){"use strict";function r(t){return function(){var e=t.apply(this,arguments);return new s.a(function(t,n){function r(i,o){try{var a=e[i](o),u=a.value}catch(t){return void n(t)}if(!a.done)return s.a.resolve(u).then(function(t){r("next",t)},function(t){r("throw",t)});t(u)}return r("next")})}}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"StageState",function(){return R}),n.d(e,"APP_INIT_START",function(){return N}),n.d(e,"APP_INIT_COMPLETE",function(){return P}),n.d(e,"SET_STAGE_STATE",function(){return k}),n.d(e,"initConfig",function(){return F}),n.d(e,"appInitComplete",function(){return B}),n.d(e,"setStageState",function(){return z}),n.d(e,"initApp",function(){return V}),n.d(e,"initAppTID",function(){return G}),n.d(e,"ActionTypes",function(){return H});var i=n(24),o=n.n(i),a=n(23),s=n.n(a),u=n(343),l=n.n(u),c=n(18),h=(n.n(c),n(15)),f=(n.n(h),n(140)),d=n(72),p=n(67),m=n(174),g=n(380),v=n(121),y=n(27),b=(n(145),n(73)),w=n(589),x=n(269),_=n(53),E=n(265),M=n(375),S=n(82),T=n(74),C=n(344),I=n.n(C),O=this,A=Object(h.defineMessages)({noAccessToConfig:{id:"stage.noAccessToConfig",defaultMessage:"The user does not have access to previously selected configuration."}}),L=l()(I.a),R={ERROR:-1,START_UP:0,READY:1},N="@@stage/APP_INIT_START",P="@@stage/APP_INIT_COMPLETE",k="@@stage/SET_STAGE_STATE",D=function(){return function(t,e){var n=e().config,r=n.isApi;if(n.config&&n.config.services){var i=n.config.services,o=i.recording,a=i.panoramaTile,s=i.smartClick,u=i.usageLogging,l=i.obliqueTile,c=i.obliqueLocation,h=n.config.map.obliqueLayers;if(o){var f=o.onlineResource,d=n.apiKey;if(E.a.initRecordingClient(f,d),a||l){var m=a.onlineResources,g=l.onlineResource;t(v.default.setup({panoramaTilesUrls:m,obliqueTileUrl:g}))}}s&&t(b.default.initSmartClickClient()),c&&h&&0!==h.length&&Object(M.b)(c.onlineResource),t(p.default.setServiceUrl(!r&&u?u.onlineResource:null))}}},F=function(){return function(){var t=r(o.a.mark(function t(e,n){var r,i,a,s;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e(D()),r=n().config,i=r.isApi,a=r.configId,i){t.next=12;break}return t.next=5,e(y.default.loadUserProfile(a));case 5:return s=t.sent,t.next=8,e(b.default.readMeasurements(a));case 8:if(!s.error){t.next=10;break}throw s.payload;case 10:return t.next=12,e(Object(x.setInitialMessages)());case 12:case"end":return t.stop()}},t,O)}));return function(e,n){return t.apply(this,arguments)}}()},j=function(t){return function(){var e=r(o.a.mark(function e(n,r){var i,a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=r().config.isApi){e.next=8;break}return a=5e3,n(d.default.showFlashMessage(t,{style:"danger",delay:a,dismiss:!1})),e.next=6,new s.a(function(t){return setTimeout(t,a)});case 6:n(m.default.logout()),n(g.default.push("login"));case 8:case"end":return e.stop()}},e,O)}));return function(t,n){return e.apply(this,arguments)}}()},U=Object(c.createAction)(N,function(t){return{isApi:t}}),B=Object(c.createAction)(P),z=Object(c.createAction)(k,function(t,e){return{stage:t,detail:e}}),V=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.headers;return function(){var t=r(o.a.mark(function t(n,r){var i,a,s,u,l,c,h,m,g,v,y,b;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=e||Object(_.b)(),a=r(),s=a.config.isApi,a.login.loggedIn){t.next=5;break}throw new Error("initApp action called when app is not logged in");case 5:return n(U(s)),n(p.default.initClient({appName:"Street Smart Web",appVersion:L.version,headers:i})),u=s?w.a.API_ONLY:w.a.USER_ONLY,t.next=10,n(Object(f.getUserInfo)({headers:i,filter:u}));case 10:if(l=t.sent,!l.error){t.next=15;break}throw c="Error! Failed to load app using the provided credentials! Logging out...",n(j(c)),new Error(c);case 15:if(h=void 0,!a.config.configFile){t.next=20;break}h="local",t.next=26;break;case 20:if(m=l.payload.configurations,m&&1===m.size||s&&m&&m.size>0?h=m.entries().next().value[1].configId:(g=r(),v=g.config,v&&(h=v.configId)),!h||!m||m.has(h)){t.next=26;break}return n(Object(f.destroyUserConfig)()),n(d.default.showFlashMessage(Object(S.b)(A.noAccessToConfig))),t.abrupt("return");case 26:if(!h){t.next=36;break}return t.next=29,n(Object(f.loadUserConfig)({name:h,headers:i}));case 29:if(y=t.sent,!y.error){t.next=34;break}throw b="Error! Failed to load configuration! Logging out...",n(j(b)),new Error(b);case 34:return t.next=36,n(F());case 36:case"end":return t.stop()}},t,O)}));return function(e,n){return t.apply(this,arguments)}}()},G=function(){return function(){var t=r(o.a.mark(function t(e,n){var r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(Object(f.loadCustomConfig)({url:Object(T.a)("./assets/config/tid.xml")}));case 2:if(r=t.sent,!r.error){t.next=5;break}throw new Error("Error! Failed to load configuration! Logging out...");case 5:e(D()),e(z(R.READY));case 7:case"end":return t.stop()}},t,O)}));return function(e,n){return t.apply(this,arguments)}}()};e.default={initApp:V,initConfig:F,initAppTID:G,appInitComplete:B,setStageState:z};var H={APP_INIT_START:N,APP_INIT_COMPLETE:P,SET_STAGE_STATE:k}},function(t,e,n){"use strict";function r(t){return function(){var e=t.apply(this,arguments);return new s.a(function(t,n){function r(i,o){try{var a=e[i](o),u=a.value}catch(t){return void n(t)}if(!a.done)return s.a.resolve(u).then(function(t){r("next",t)},function(t){r("throw",t)});t(u)}return r("next")})}}n.d(e,"a",function(){return c});var i=n(24),o=n.n(i),a=n(23),s=n.n(a),u=n(53),l=this,c=function(){var t=r(o.a.mark(function t(e,n){var r,i;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=new Request(e,{method:"GET",headers:n||new Headers(Object(u.b)()),mode:"cors"}),t.prev=1,t.next=4,fetch(r);case 4:if(i=t.sent,i.ok){t.next=7;break}throw new Error("Response Not OK");case 7:return t.t0=URL,t.next=10,i.blob();case 10:return t.t1=t.sent,t.abrupt("return",t.t0.createObjectURL.call(t.t0,t.t1));case 14:throw t.prev=14,t.t2=t.catch(1),new Error("Failed to load url: "+e+". Error: "+t.t2+" "+t.t2.message);case 17:case"end":return t.stop()}},t,l,[[1,14]])}));return function(e,n){return t.apply(this,arguments)}}()},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=c()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(u.a?u()(t,e):t.__proto__=e)}n.d(e,"a",function(){return T});var s=n(9),u=n.n(s),l=n(5),c=n.n(l),h=n(10),f=n.n(h),d=n(57),p=n.n(d),m=n(1),g=n.n(m),v=n(4),y=n.n(v),b=n(17),w=n.n(b),x=n(15),_=(n.n(x),n(148)),E=y.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},M=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),g()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),S=function t(e,n,r){null===e&&(e=Function.prototype);var i=p()(e,n);if(void 0===i){var o=f()(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},T=(Object(x.defineMessages)({layerName:{id:"layer.ObliqueTileLayer.name",description:"Default Oblique layers name",defaultMessage:"Oblique layer"}}),512),C=function(t){function e(t){var n=r(t,[]);i(this,e);var a=o(this,(e.__proto__||f()(e)).call(this,E({},e.defaults,n))),s=a.imageSize,u=a.extent=a.tileGridExtent=[0,0,s[0],s[1]];return a.olProjection=new w.a.proj.Projection({code:"OBLIQUE",units:"pixels",extent:u}),a.projection=a.olProjection.code,a.maxMapResolution=Math.pow(2,a.maxZoomLevel-a.minZoomLevel),a.origin=w.a.extent.getTopLeft(u),a}return a(e,t),M(e,[{key:"getResolutions",value:function(){for(var t=this.minZoomLevel,e=this.maxZoomLevel,n=new Array(e),r=t;r<=e;++r)n[r]=this.maxMapResolution*Math.pow(2,t-r);return n}},{key:"createMapSource",value:function(){var t=this,e=new w.a.tilegrid.TileGrid(this.tileGrid),n=this.url+"/Tiles/{imageId}/{z}/{x}/{y}";return new w.a.source.TileImage(E({},this._getMapSourceOptions(),{tileUrlFunction:function(e,r,i){return n.replace("{imageId}",t.imageId).replace("{z}",""+e[0]).replace("{x}",""+e[1]).replace("{y}",""+(-e[2]-1))},wrapX:!1,projection:this.olProjection,tileGrid:e}))}},{key:"tileGrid",get:function(){return E({},S(e.prototype.__proto__||f()(e.prototype),"tileGrid",this),{tileSize:T,resolutions:this.getResolutions()})}}]),e}(_.a);C.defaults={id:"oblique",type:"ObliqueTileLayer",nameIntl:"layer.ObliqueTileLayer.name",tiled:!0,isBaseLayer:!0,minResolution:0,maxResolution:1e6,authRequired:!0,visible:!0,imageSize:[4004,2662],minZoomLevel:1,maxZoomLevel:5},e.b=C},function(t,e,n){"use strict";function r(t){return function(){var e=t.apply(this,arguments);return new s.a(function(t,n){function r(i,o){try{var a=e[i](o),u=a.value}catch(t){return void n(t)}if(!a.done)return s.a.resolve(u).then(function(t){r("next",t)},function(t){r("throw",t)});t(u)}return r("next")})}}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"START_TOUR",function(){return p}),n.d(e,"SET_TOUR_STEP",function(){return m}),n.d(e,"END_TOUR",function(){return g}),n.d(e,"startTour",function(){return b}),n.d(e,"setTourStep",function(){return w}),n.d(e,"endTour",function(){return x});var i=n(24),o=n.n(i),a=n(23),s=n.n(a),u=n(4),l=n.n(u),c=n(18),h=(n.n(c),n(74)),f=this,d=l.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},p="@@tour/STARR_TOUR",m="@@tour/SET_TOUR_STEP",g="@@tour/END_TOUR",v={fontWeight:700,fontSize:16,paddingTop:10,paddingBottom:10,paddingLeft:10},y={fontSize:12,paddingLeft:10},b=Object(c.createAction)(p,function(){var t=r(o.a.mark(function t(e){var n,r,i;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=new Request(Object(h.a)("./assets/tour/"+e+".json"),{method:"GET",mode:"cors"}),t.next=3,fetch(n);case 3:return r=t.sent,t.next=6,r.json();case 6:return i=t.sent,t.abrupt("return",i.map(function(t,e){return d({},t,{step:e+1,title:React.createElement("div",{style:v},t.title),body:React.createElement("div",{style:y},t.body)})}));case 8:case"end":return t.stop()}},t,f)}));return function(e){return t.apply(this,arguments)}}()),w=Object(c.createAction)(m,function(t){return t}),x=Object(c.createAction)(g)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=m()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(d.a?d()(t,e):t.__proto__=e)}var a=n(80),s=n.n(a),u=n(48),l=n.n(u),c=n(10),h=n.n(c),f=n(9),d=n.n(f),p=n(5),m=n.n(p),g=n(1),v=n.n(g),y=n(4),b=n.n(y),w=n(19),x=n.n(w),_=n(16),E=n.n(_),M=n(12),S=n.n(M),T=n(3),C=n.n(T),I=n(0),O=n.n(I),A=n(1386),L=n.n(A),R=n(601),N=n(1387),P=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=E()(t);!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(x()(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),k=b.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},D=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),v()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),F={closable:N.a.Close,minimizable:N.a.Minimize|N.a.Restore,maximizable:N.a.Maximize|N.a.Restore,resizable:N.a.Minimize|N.a.Maximize|N.a.Restore},j=function(t){function e(t){r(this,e);var n=i(this,(e.__proto__||h()(e)).call(this,t));return n.onClose=n.onClose.bind(n),n.toggleFullscreen=n.toggleFullscreen.bind(n),n}return o(e,t),D(e,[{key:"onClose",value:function(){var t=this.props,e=t.onClose,n=t.wid;e&&e(n)}},{key:"toggleFullscreen",value:function(){var t=this;if(L.a.toggle(this.domNode),L.a.isFullscreen){var e=L.a.raw.fullscreenchange,n=function n(){L.a.isFullscreen||(document.removeEventListener(e,n),t.forceUpdate())};document.addEventListener(e,n)}this.forceUpdate()}},{key:"render",value:function(){var t=this,e=this.props,n=e.isLoading,r=e.style,i=void 0===r?{}:r,o=L.a.isFullscreen&&L.a.element===this.domNode,a=0,s=!0,u=!1,c=void 0;try{for(var h,f=E()(l()(e));!(s=(h=f.next()).done);s=!0){var d=P(h.value,2),p=d[0],m=d[1];p in F&&m&&(a|=F[p])}}catch(t){u=!0,c=t}finally{try{!s&&f.return&&f.return()}finally{if(u)throw c}}return o&&(i=k({},i,{width:"100%",height:"100%",margin:0})),O.a.createElement("div",{ref:function(e){t.domNode=e},className:S()("window",this.props.className),style:i},e.children,n&&O.a.createElement(R.a,null),O.a.createElement(N.b,{controls:a,onClose:this.onClose,maximized:o,onMaximize:this.toggleFullscreen,onRestore:this.toggleFullscreen}))}}]),e}(I.Component);j.propTypes={wid:C.a.string,windowLoadingCount:C.a.instanceOf(s.a),style:C.a.object,onClose:C.a.func,id:C.a.string,isLoading:C.a.bool},j.defaultProps={closable:!0,wid:-1},e.a=j},function(t,e,n){"use strict";var r=n(0),i=n.n(r),o=n(26),a=(n.n(o),n(74));e.a=function(){return i.a.createElement("div",{className:"window-loading-icon"},i.a.createElement(o.Image,{src:Object(a.a)("./assets/img/loading-mini.gif")}))}},function(t,e,n){"use strict";var r=n(15);n.n(r);e.a=Object(r.defineMessages)({yes:{id:"button.yes",defaultMessage:"Yes"},no:{id:"button.no",defaultMessage:"No"},ok:{id:"button.ok",defaultMessage:"OK"},cancel:{id:"button.cancel",defaultMessage:"Cancel"},apply:{id:"button.apply",defaultMessage:"Apply"},reset:{id:"button.reset",defaultMessage:"Reset"},accept:{id:"button.accept",defaultMessage:"Accept"},reject:{id:"button.reject",defaultMessage:"Reject"},open:{id:"button.open",defaultMessage:"Open"},close:{id:"button.close",defaultMessage:"Close"},show:{id:"button.show",defaultMessage:"Show"},hide:{id:"button.hide",defaultMessage:"Hide"},minimize:{id:"button.minimize",defaultMessage:"Minimize"},maximize:{id:"button.maximize",defaultMessage:"Maximize"},restore:{id:"button.restore",defaultMessage:"Restore"},line:{id:"button.line",defaultMessage:"Distance"},load:{id:"button.load",defaultMessage:"Load"},save:{id:"button.save",defaultMessage:"Save"},share:{id:"button.share",defaultMessage:"Share"},point:{id:"button.point",defaultMessage:"Location"},polygon:{id:"button.polygon",defaultMessage:"Surface"},print:{id:"button.print",defaultMessage:"Print"},select:{id:"button.select",defaultMessage:"Select"}})},function(t,e,n){"use strict";function r(t,e,n){return e in t?I()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t){return function(){var e=t.apply(this,arguments);return new T.a(function(t,n){function r(i,o){try{var a=e[i](o),s=a.value}catch(t){return void n(t)}if(!a.done)return T.a.resolve(s).then(function(t){r("next",t)},function(t){r("throw",t)});t(s)}return r("next")})}}function o(t){return Array.isArray(t)?t:M()(t)}function a(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return M()(t)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=_()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(w.a?w()(t,e):t.__proto__=e)}var c,h=n(51),f=n.n(h),d=n(24),p=n.n(d),m=n(10),g=n.n(m),v=n(71),y=n.n(v),b=n(9),w=n.n(b),x=n(5),_=n.n(x),E=n(31),M=n.n(E),S=n(23),T=n.n(S),C=n(1),I=n.n(C),O=n(19),A=n.n(O),L=n(16),R=n.n(L),N=n(4),P=n.n(N),k=n(482),D=n.n(k),F=n(12),j=n.n(F),U=n(46),B=(n.n(U),n(29)),z=n.n(B),V=n(32),G=n.n(V),H=n(17),q=n.n(H),W=n(3),Y=n.n(W),X=n(0),Z=n.n(X),K=n(26),$=(n.n(K),n(15)),Q=(n.n($),n(36)),J=(n.n(Q),n(38)),tt=(n.n(J),n(1388)),et=(n.n(tt),n(70)),nt=n.n(et),rt=n(30),it=n(580),ot=n(53),at=n(1389),st=n(604),ut=n(605),lt=n(1390),ct=n(606),ht=n(1392),ft=n(1393),dt=n(579),pt=n(265),mt=n(374),gt=n(212),vt=n(54),yt=n(95),bt=n(73),wt=n(121),xt=n(67),_t=n(72),Et=n(377),Mt=n(109),St=n(270),Tt=n(107),Ct=n(44),It=n(607),Ot=n(567),At=n(264),Lt=n(145),Rt=n(138),Nt=n(39),Pt=n(147),kt=n(1395),Dt=n(1396),Ft=n(601),jt=n(213),Ut=n(331),Bt=n(332),zt=n(241),Vt=n(1397),Gt=n(575),Ht=n(260),qt=n(608),Wt=P.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yt=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=R()(t);!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(A()(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Xt=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),I()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Zt=y.a,Kt={NO_ADDRESS_CLIENT:"NoAddressClient",NO_ADDRESS_FOUND:"NoAddressFound",NO_SRS_PROVIDED:"NoSrsProvided",ADDRESS_CLIENT_ERROR:"AddressClientError",ADDRESS_NOT_A_POINT:"AddressNotAPoint",NO_RECORDING_LOADED:"NoRecordingLoaded"},$t=Object($.defineMessages)({overlayPanelHeader:{id:"PanoramaNavigation.overlayPanelHeader",description:"Header text for the overlay panel",defaultMessage:"Overlays"},overlayPanelOverlayTab:{id:"PanoramaNavigation.overlayPanelOverlayTab",description:"Tab text for the overlays tab in the overlay panel",defaultMessage:"Overlays"},overlayPanelRecordingsTab:{id:"PanoramaNavigation.overlayPanelRecordingsTab",description:"Tab text for the recordings tab in the overlay panel",defaultMessage:"Recordings"},overlayPanelViewerSettingsTab:{id:"PanoramaNavigation.overlayPanelViewerSettingsTab",description:"Tab text for the viewer settings tab in the overlay panel",defaultMessage:"Viewer"},warningStillLoading:{id:"PanoramaViewer.warningStillLoading",description:"Flash message shown if trying to make measurement while viewer still loading tiles",defaultMessage:"Depth information not loaded yet"}}),Qt=function(t){function e(){var t;s(this,e);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=u(this,(t=e.__proto__||g()(e)).call.apply(t,[this].concat(r)));o.colorManager=o.props.colorManager,o.colorStyle=o.colorManager.getColorStyle(),o.state={activeTab:1},o.threeViewer=null,o.mouseDown=null,o.zoomIn=o.zoomIn.bind(o),o.zoomOut=o.zoomOut.bind(o),o.onPanoramaRecordingClick=o.onPanoramaRecordingClick.bind(o),o.onPanoramaChange=o.onPanoramaChange.bind(o),o.toggleTimeTravelVisible=o.toggleTimeTravelVisible.bind(o),o.getTimeTravelVisible=o.getTimeTravelVisible.bind(o),o.toggleTimeTravelExpanded=o.toggleTimeTravelExpanded.bind(o),o.getTimeTravelExpanded=o.getTimeTravelExpanded.bind(o),o.toggleNavbarExpanded=o.toggleNavbarExpanded.bind(o),o.getNavbarExpanded=o.getNavbarExpanded.bind(o),o.toggleNavbarVisible=o.toggleNavbarVisible.bind(o),o.getNavbarVisible=o.getNavbarVisible.bind(o),o.getRecordingsVisible=o.getRecordingsVisible.bind(o),o.onViewChange=o.onViewChange.bind(o),o._onViewLoadStart=o._onViewLoadStart.bind(o),o._onViewLoadEnd=o._onViewLoadEnd.bind(o),o._onTileLoadError=o._onTileLoadError.bind(o),o._onPointerUp=o._onPointerUp.bind(o),o.toggleOverlay=o.toggleOverlay.bind(o),o.onTimeTravelChange=o.onTimeTravelChange.bind(o);var a=o.props.addressService;return a&&(o.addressClient=new mt.a({addressService:a})),D.a.createEmitter(o),o}return l(e,t),Xt(e,[{key:"componentWillMount",value:function(){this._onViewLoadStart()}},{key:"componentDidMount",value:function(){var t=this.props,e=t.recording,n=t.x,r=t.y,i=t.proj,o=t.id,a=t.panoramaTilesUrls,s=t.depthTilesUrls,u=t.recordingsUrl,l=t.apiKey,c=t.ui,h=c[St.a.NAVBAR].expanded,f=c[St.a.TIME_TRAVEL].expanded,d=(c[St.a.RECORDINGS].visible,c[St.a.SURFACE_CURSOR].visible,t.viewerMode),p=this._viewer;if(!p){p=this._viewer=CM.createPanoramaViewer({viewerContainer:o,recordingMarkerStyles:null,recordingClient:new CM.aperture.WfsRecordingClient({uriManager:new CM.aperture.WfsRecordingUriManager({apiKey:l,dataUri:u,withCredentials:!0}),authHeaders:Object(ot.b)()}),recordingRequestRadius:30,uriManager:new CM.aperture.DefaultBitmapUriManager({apiKey:l,dataUri:a.map(function(t){return t+"/Tile/"}),withCredentials:!0}),depthMapUriManager:s?new CM.aperture.DepthMapUriManager({apiKey:l,dataUri:s.map(function(t){return t+"/"}),withCredentials:!0}):void 0,authHeaders:Object(ot.b)(),recordingClickHandler:this.onPanoramaRecordingClick}),this._setViewerRecordingsVisibility(),p.setAllowRotateWhenZoomed(d!==vt.ViewerMode.MEASUREMENT),d===vt.ViewerMode.MEASUREMENT?window.CM.panoramaMode=vt.ViewerMode.MEASUREMENT:window.CM.panoramaMode=null,CM.El.addEvent(p,CM.EVENT_PANORAMA_CHANGE,this.onPanoramaChange),CM.El.addEvent(p,CM.EVENT_VIEW_CHANGE,this.onViewChange),CM.El.addEvent(p,CM.EVENT_VIEW_LOAD_START,this._onViewLoadStart),CM.El.addEvent(p,CM.EVENT_VIEW_LOAD_END,this._onViewLoadEnd),CM.El.addEvent(p,CM.TILE_LOAD_ERROR,this._onTileLoadError);var m=p.getElement();CM.El.addEvent(m,"pointerup",this._onPointerUp)}e?(p.openPanoramaFromRecording(e),this.onRecordingLoaded()):Zt(n)&&Zt(r)&&i&&p.openNearestPanorama(n,r,i);var g={yaw:0,hFov:Et.a,xyz:e&&e.xyz||(Zt(n)&&Zt(r)?[n,r,0]:[0,0,0]),srs:e&&e.srs||i};dispatchEvent(new CustomEvent(Ot.a.PANORAMA_CREATED,{detail:{viewerData:g,panoramaId:o,colorStyle:this.colorStyle}})),"boolean"==typeof f&&f&&this.toggleTimeTravelExpanded(f),"boolean"==typeof h&&h&&this.toggleNavbarExpanded(h),this.threeViewer||(this.threeViewer=new ft.a(p)),this.threeViewer.initThree(),this._getOverlays(),this._drawWfsOverlays(e),this.props.actions.addTimeTravel()}},{key:"componentWillReceiveProps",value:function(t){var e=this._viewer,n=this.threeViewer,r=t.recording,i=t.orientation,o=t.ui,a=o[St.a.NAVBAR],s=a.visible,u=a.expanded,l=o[St.a.TIME_TRAVEL],c=l.visible,h=l.expanded,f=o[St.a.RECORDINGS].visible,d=t.addressService,p=t.viewerMode,m=t.activeMeasurement,g=t.cubeProgram,v=t.isApi,y=this.props,b=y.recording,w=y.ui,x=w[St.a.NAVBAR],_=x.visible,E=x.expanded,M=w[St.a.TIME_TRAVEL],S=M.visible,T=M.expanded,C=w[St.a.RECORDINGS].visible,I=y.addressService,O=y.viewerMode,A=y.activeMeasurement,L=y.cubeProgram,R=r&&b!==r;if(g!==L&&e._viewer.setCubeProgram(g),!R&&z.a.isEqual(A,m)||(n&&n.drawLayer&&n.drawLayer.disposeGroup("active-measurements"),this.drawMeasurement(m,r)),e._viewer.showCrossHairs=p===vt.ViewerMode.MEASUREMENT,(!v&&p!==O||f!==C)&&this._setViewerRecordingsVisibility(t),i){var N=i.yaw,P=i.pitch,k=i.hFov;e.setOrientation({yaw:N,pitch:P,hFov:k})}if(R){var D=e.getRecording();D&&D.id===r.id||e.openPanoramaFromRecording(r),this._updateRecording(r),this._drawWfsOverlays(r)}s!==_&&s!==this.getNavbarVisible()&&this.toggleNavbarVisible(s),u!==E&&u!==this.getNavbarExpanded()&&this.toggleNavbarExpanded(u),c!==S&&c!==this.getTimeTravelVisible()&&this.toggleTimeTravelVisible(c),h!==T&&h!==this.getTimeTravelExpanded()&&this.toggleTimeTravelExpanded(h),d!==I&&this.addressClient.setSettings(d),e.invalidateSize()}},{key:"componentDidUpdate",value:function(t){var e=this._viewer,n=this.threeViewer,r=this.props,i=r.recording,o=r.activeMeasurement;t.recording,t.activeMeasurement;e.invalidateSize(),n&&n.resizeDrawLayer(),n&&n.drawLayer&&n.drawLayer.disposeGroup("active-measurements"),this.drawMeasurement(o,i),t.overlays!==this.props.overlays&&(this._getOverlays(),this._drawWfsOverlays(this.props.recording));var a=e._viewer._viewerWrapper.classList,s=e.getRecording();s&&s.hasDepthMap&&window.CM.Req.panoramaTilesLoadingCount>0&&window.CM.panoramaMode===vt.ViewerMode.MEASUREMENT&&a.add("invalidDepth")}},{key:"componentWillUnmount",value:function(){var t=this._viewer;if(this.props.actions.removeTimeTravel(),this.colorManager.releaseColor(this.colorStyle.name),t){CM.El.removeEvent(t,CM.EVENT_PANORAMA_CHANGE,this.onPanoramaChange),CM.El.removeEvent(t,CM.EVENT_VIEW_CHANGE,this.onViewChange),CM.El.removeEvent(t,CM.EVENT_VIEW_LOAD_START,this._onViewLoadStart),CM.El.removeEvent(t,CM.EVENT_VIEW_LOAD_END,this._onViewLoadEnd),CM.El.removeEvent(t,CM.TILE_LOAD_ERROR,this._onTileLoadError);var e=t.getElement();CM.El.removeEvent(e,"pointerup",this._onPointerUp),t.destroy(),this._viewer=null}dispatchEvent(new CustomEvent(Ot.a.PANORAMA_DELETED,{detail:{panoramaId:this.props.id}})),this.threeViewer&&this.threeViewer.destroyThree(),this._onViewLoadEnd(),this.off(),this.stopListening()}},{key:"shouldComponentUpdate",value:function(t,e){return this.props!==t||this.state!==e}},{key:"getType",value:function(){return vt.ViewerType.PANORAMA}},{key:"_getOverlays",value:function(){var t=this;this._panoramaOverlays=[];var e=this.props.overlays;Array.isArray(e)&&e.forEach(function(e){if(e.visible)switch(e.type){case"LayerGroup":e.layers.forEach(function(e){"WFSLayer"===e.type&&t._getWfsOverlay(e)});break;case"WFSLayer":t._getWfsOverlay(e);break;case"SHPLayer":case"RecordingLayer":t._getOtherOverlay(e)}})}},{key:"_getWfsOverlay",value:function(t){var e=this._panoramaOverlays,n={},r=t.typeName.split(":"),i=void 0;i=r.length>=2?r[1]:1===r.length?r[0]:"";var o=r.length>=2?r[0]:"";n.wfsClient=new Gt.a({uri:t.useProxy?""+t.proxyUrl+t.url:t.url,authRequired:t.authRequired,defaultFeatureType:i,defaultGeometryName:"",featurePrefix:o}),n.projection=t.projection,t.color&&(n.color=t.color),n.id=t.id,n.type=t.type,n.visible=t.visible,e.push(n)}},{key:"_getOtherOverlay",value:function(t){this._panoramaOverlays.push(t)}},{key:"convertMultiPolygon",value:function(t,e){var n=[],r=[],i=!0,o=!1,a=void 0;try{for(var s,u=R()(t);!(i=(s=u.next()).done);i=!0){var l=s.value,c=this.convertPolygon(l,e),h=c.jstsRings,f=c.dstRings;n.push(f),r.push(h)}}catch(t){o=!0,a=t}finally{try{!i&&u.return&&u.return()}finally{if(o)throw a}}return{dstPolygons:n,jstsPolygons:r}}},{key:"convertPolygon",value:function(t,e){var n=[],r=[],i=!0,o=!1,a=void 0;try{for(var s,u=R()(t);!(i=(s=u.next()).done);i=!0){var l=s.value,c=this.convertLine(l,e),h=c.jstsRing,f=c.dstRing;n.push(f),r.push(h)}}catch(t){o=!0,a=t}finally{try{!i&&u.return&&u.return()}finally{if(o)throw a}}return{dstRings:n,jstsRings:r}}},{key:"convertLine",value:function(t,e){var n=[],r=[],i=!0,o=!1,a=void 0;try{for(var s,u=R()(t);!(i=(s=u.next()).done);i=!0){var l=s.value,c=this.convertCoordinate(l,e),h=c.jstsCoord,f=c.dstCoord;n.push(f),r.push(h)}}catch(t){o=!0,a=t}finally{try{!i&&u.return&&u.return()}finally{if(o)throw a}}return{jstsRing:r,dstRing:n}}},{key:"convertMultiLine",value:function(t,e){var n=[],r=[],i=!0,o=!1,a=void 0;try{for(var s,u=R()(t);!(i=(s=u.next()).done);i=!0){var l=s.value,c=this.convertCoordinate(l,e),h=c.jstsCoord,f=c.dstCoord;n.push(f),r.push(h)}}catch(t){o=!0,a=t}finally{try{!i&&u.return&&u.return()}finally{if(o)throw a}}return{jstsRing:r,dstRing:n}}},{key:"handleXYZMCoord",value:function(t){var e=t;if(Array.isArray(t[2])){var n;e=(n=[]).concat.apply(n,a(t)),e.length=3}return e}},{key:"convertCoordinate",value:function(t,e){var n=this.handleXYZMCoord(t),r=e===this.props.srs.userSrs?n:nt()(e,this.props.srs.userSrs,n);return{jstsCoord:new tt.geom.Coordinate(r[0],r[1],r[2]),dstCoord:r}}},{key:"convertMultiPoint",value:function(t,e){var n=[],r=[],i=!0,o=!1,a=void 0;try{for(var s,u=R()(t);!(i=(s=u.next()).done);i=!0){var l=s.value,c=this.convertCoordinate(l,e),h=c.jstsCoord,f=c.dstCoord;n.push(h),r.push(f)}}catch(t){o=!0,a=t}finally{try{!i&&u.return&&u.return()}finally{if(o)throw a}}return{jstsPoints:n,dstPoints:r}}},{key:"createJstsPolygon",value:function(t,e){var n=o(e),r=n[0],i=n.slice(1),a=t.createLinearRing(r),s=[],u=!0,l=!1,c=void 0;try{for(var h,f=R()(i);!(u=(h=f.next()).done);u=!0){var d=h.value;s.push(t.createLinearRing(d))}}catch(t){l=!0,c=t}finally{try{!u&&f.return&&f.return()}finally{if(l)throw c}}return s.length>0?t.createPolygon(a,s):t.createPolygon(a)}},{key:"_drawWfsOverlays",value:function(t){var e=this,n=this._panoramaOverlays,r=this.props.proj;this.threeViewer.removeAllFeatures(),this.toggleRecordingsVisible(!1);var i=[t.xyz[0],t.xyz[1],t.xyz[2],t.groundLevelOffset],o=Object(Ct.n)(t.srs).xyUnits,a=Object(Ct.h)(Ct.d.METERS,o,kt.a);n.forEach(function(n){var o=n.type,s=n.id,u=n.color,l={offset:i,style:{color:u}};if(e.threeViewer)switch(o){case"WFSLayer":var c=n.wfsClient;c&&c.requestWithRadius(t.xyz,c.projection||t.srs||r,a).then(function(t){if("perceel"===s){var n=!0,r=!1,i=void 0;try{for(var o,a=R()(t);!(n=(o=a.next()).done);n=!0){o.value.setGeometryName("begrenzingperceel")}}catch(t){r=!0,i=t}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}l.style.color="#000000",l.style.fillOpacity=0,l.style.wireframeOpacity=0}e.threeViewer.drawFeatures(t,l)});break;case"SHPLayer":var h=Ht.a.get(n.id),f=new tt.geom.PrecisionModel,d=new tt.geom.GeometryFactory(f,e.props.srs.userSrs),p=new tt.geom.Coordinate(t.xyz[0],t.xyz[1],t.xyz[2]),m=d.createPoint(p),g=m.buffer(a),v=Object(Pt.i)(),y=e.props.srs.userSrs,b=y;if(h.crs){var w=Object(Ct.f)(h.crs,y);b=Object(Ct.j)(w)}h.features.forEach(function(t){var n=void 0,r=[],i=t.geometry,o=i.type,a=i.coordinates;switch(o){case Pt.b.POINT:var s=e.convertCoordinate(a,b),u=s.dstCoord,l=s.jstsCoord;l&&(n=d.createPoint(l)),u&&(r=u);break;case Pt.b.MULTIPOINT:var c=e.convertMultiPoint(a,b),h=c.dstPoints,f=c.jstsPoints;if(f){var p=[],m=!0,y=!1,w=void 0;try{for(var x,_=R()(f);!(m=(x=_.next()).done);m=!0){var E=x.value;p.push(d.createPoint(E))}}catch(t){y=!0,w=t}finally{try{!m&&_.return&&_.return()}finally{if(y)throw w}}n=d.createMultiPoint(p)}h&&(r=h);break;case Pt.b.LINESTRING:var M=e.convertLine(a,b),S=M.jstsRing,T=M.dstRing;S&&(n=d.createLineString(S)),T&&(r=T);break;case Pt.b.MULTILINESTRING:var C=e.convertMultiLine(a,b),I=C.jstsLines,O=C.dstLines;if(I){var A=[],L=!0,N=!1,P=void 0;try{for(var k,D=R()(I);!(L=(k=D.next()).done);L=!0){var F=k.value;A.push(d.createLineString(F))}}catch(t){N=!0,P=t}finally{try{!L&&D.return&&D.return()}finally{if(N)throw P}}n=d.createMultiLineString(A)}O&&(r=O);break;case Pt.b.POLYGON:var j=e.convertPolygon(a,b),U=j.jstsRings,B=j.dstRings;U&&(n=e.createJstsPolygon(d,U)),B&&(r=B);break;case Pt.b.MULTIPOLYGON:var V=e.convertMultiPolygon(a,b),G=V.dstPolygons,H=V.jstsPolygons;if(H){var q=[],W=!0,Y=!1,X=void 0;try{for(var Z,K=R()(H);!(W=(Z=K.next()).done);W=!0){var $=Z.value;$.length>=1&&q.push(e.createJstsPolygon(d,$))}}catch(t){Y=!0,X=t}finally{try{!W&&K.return&&K.return()}finally{if(Y)throw X}}n=d.createMultiPolygon(q)}G&&(r=G)}if(n&&g.intersects(n)){var Q=z.a.cloneDeep(t);Q.geometry.coordinates=r,Object(Pt.g)(v,Q)}});var x=(new q.a.format.GeoJSON).readFeatures(v,{dataProjection:e.props.srs.userSrs});e.threeViewer.drawFeatures(x,l);break;case"RecordingLayer":e.toggleRecordingsVisible(!0)}})}},{key:"drawMeasurement",value:function(t,e){if(t){var n=t.properties.preciseGeometry.coordinates;if(n){var r=z.a.cloneDeep(t);switch(r.geometry.type){case Pt.b.POINT:n.length>0&&this.drawPointFeatureInViewer(r,e);break;case Pt.b.LINESTRING:n.length>0&&this.drawLineFeatureInViewer(r,e);break;case Pt.b.POLYGON:n[0]&&n[0].length>0&&this.drawPolygonFeatureInViewer(r,e)}}}}},{key:"_setViewerRecordingsVisibility",value:function(t){var e=t||this.props,n=e.viewerMode,r=e.ui[St.a.RECORDINGS].visible,i=e.isApi;this._viewer.setVisibilityRecordings((i||n)&&r)}},{key:"_toRelativePointFeature",value:function(t,e){for(var n=t.properties.preciseGeometry.coordinates,r=[],i=z.a.cloneDeep(t),o=0;o<n.length;o++)r[o]=n[o]-e.xyz[o];return i.geometry.coordinates=r,i}},{key:"_toRelativeLineFeature",value:function(t,e){for(var n=t.properties.preciseGeometry.coordinates,r=z.a.cloneDeep(n),i=z.a.cloneDeep(t),o=0;o<n.length;o++)for(var a=0;a<n[o].length;a++)r[o][a]=n[o][a]-e.xyz[a];return i.geometry.coordinates=r,i}},{key:"_toRelativePolygonFeature",value:function(t,e){for(var n=t.properties.preciseGeometry.coordinates,r=z.a.cloneDeep(n),i=z.a.cloneDeep(t),o=0,a=n.length;o<a;++o)for(var s=0,u=n[o].length;s<u;++s)for(var l=0,c=n[o][s].length;l<c;++l)r[o][s][l]=n[o][s][l]-e.xyz[l];return i.geometry.coordinates=r,i}},{key:"drawFeature",value:function(t,e){this.threeViewer&&this.threeViewer.drawLayer.create(t,e)}},{key:"drawLabel",value:function(t,e,n){var r=Dt.a.constructFeatureLabel(n,t,e);this.drawFeature(r)}},{key:"drawSegmentLengths",value:function(t){var e=this.context.intl.formatNumber,n=t.geometry,r=n.type,i=n.coordinates,o=t.properties,a=o.customGeometryType,s=o.derivedData;s=void 0===s?{}:s;var u=s.segmentLengths,l=s.unit,c=o.group;if(u&&u.value&&u.value.length>0){var h=Object(Ct.m)(l),f={maximumFractionDigits:h,minimumFractionDigits:h},d=Object(Pt.l)(r,i),p=d.length-1;if(r===Pt.b.POLYGON&&2===p&&p--,r===Pt.b.LINESTRING&&a===Pt.a.ORTHOGONAL)this.drawLabel(Object(Rt.e)(d[p-1],d[p]),e(u.value[p-1],f)+" "+l,c);else for(var m=0,g=p;m<g;m++)this.drawLabel(Object(Rt.e)(d[m],d[m+1]),e(u.value[m],f)+" "+l,c)}}},{key:"drawPointFeatureInViewer",value:function(t,e){var n=this._toRelativePointFeature(t,e),r=Dt.a.constructPointFeatureStyle(n),i=Dt.a.constructFeatureLabel(n.properties.group,n.geometry.coordinates,1);this.drawFeature(n,r),this.drawFeature(i)}},{key:"drawLineFeatureInViewer",value:function(t,e){var n=this._toRelativeLineFeature(t,e),r=n.geometry.coordinates.length,i=Dt.a.constructLineFeatureStyle(n),o=Dt.a.constructPointFeatureStyle(n);r>1&&(this.drawFeature(n,i),this.drawSegmentLengths(n));for(var a=0,s=1;a<r;++a,++s){var u=n.geometry.coordinates[a],l=Dt.a.constructPointFeature(u,o),c=Dt.a.constructFeatureLabel(n.properties.group,u,s);this.drawFeature(l),this.drawFeature(c)}}},{key:"drawPolygonFeatureInViewer",value:function(t,e){var n=this._toRelativePolygonFeature(t,e),r=n.geometry.coordinates[0].length-1,i=Dt.a.constructPolygonFeatureStyle(n),o=Dt.a.constructPointFeatureStyle(n);r>1&&(this.drawFeature(n,i),this.drawSegmentLengths(n));for(var a=0,s=1;a<r;++a,++s){var u=n.geometry.coordinates[0][a],l=Dt.a.constructPointFeature(u,o),c=Dt.a.constructFeatureLabel(n.properties.group,u,s);this.drawFeature(l),this.drawFeature(c)}}},{key:"getViewerColor",value:function(){return this.colorStyle.color}},{key:"rotateLeft",value:function(t){Zt(t)||Object(Tt.b)("rotateLeft"),this._rotate(-Object(Nt.e)(t),0)}},{key:"rotateRight",value:function(t){Zt(t)||Object(Tt.b)("rotateRight"),this._rotate(Object(Nt.e)(t),0)}},{key:"rotateUp",value:function(t){Zt(t)||Object(Tt.b)("rotateUp"),this._rotate(0,Object(Nt.e)(t))}},{key:"rotateDown",value:function(t){Zt(t)||Object(Tt.b)("rotateDown"),this._rotate(0,-Object(Nt.e)(t))}},{key:"_rotate",value:function(t,e){var n=this._viewer;n.setOrientation({yaw:n.getYaw()+t,pitch:n.getPitch()+e})}},{key:"getOrientation",value:function(){var t=this._viewer.getOrientation();return{yaw:Object(Nt.d)(t.yaw),pitch:Object(Nt.d)(t.pitch),hFov:Object(Nt.d)(t.hFov)}}},{key:"setOrientation",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.yaw,n=t.pitch,r=t.hFov;(void 0!==e&&!Zt(e)||void 0!==n&&!Zt(n)||void 0!==r&&!Zt(r))&&Object(Tt.b)("setOrientation (all privided orientation parameters must be numeric and finite)"),this._viewer.setOrientation({yaw:Object(Nt.e)(e),pitch:Object(Nt.e)(n),hFov:Object(Nt.e)(r)})}},{key:"getRecording",value:function(){return this._viewer?this._viewer.getRecording():null}},{key:"lookAtCoordinate",value:function(t,e){(!Object(Rt.h)(t)||e&&!Object(Ct.o)(e))&&Object(Tt.b)("lookAtCoordinate");var n=this.props.recording;n||Object(Tt.a)("lookAtCoordinate",Kt.NO_RECORDING_LOADED),e&&(t=q.a.proj.transform(t,e,n.srs));var r=n.xyz;this._viewer.setOrientation({yaw:Object(Rt.k)(r,t),pitch:0})}},{key:"toggleRecordingsVisible",value:function(t){this.props.tidEnabled&&Object(Tt.c)("toggleRecordingsVisible"),t&&void 0!==t&&"boolean"!=typeof t&&Object(Tt.b)("toggleRecordingsVisible");var e=this.props.actions,n=this.props.ui[St.a.RECORDINGS].visible;e.toggleUiState(St.a.RECORDINGS,"visible",void 0!==t?t:!n)}},{key:"toggleOverlay",value:function(t){var e=this.props.actions,n=e.toggleOverlay,r=e.logToggleOverlay,i=e.setLayerVisibility,o=this.props,a=o.id,s=o.inMeasurementMode,u=t.id,l=!t.visible;n(a,u,l),s||i(u,l),r(u,t.name,l)}},{key:"toggleSurfaceCursor",value:function(t){this.props.tidEnabled&&Object(Tt.c)("toggleSurfaceCursorVisible"),t&&void 0!==t&&"boolean"!=typeof t&&Object(Tt.b)("toggleSurfaceCursorVisible");var e=this.props.actions,n=this.props.ui[St.a.SURFACE_CURSOR].visible;e.toggleUiState(St.a.SURFACE_CURSOR,"visible",void 0!==t?t:!n),this.props.cubeProgram===zt.a.SURFACE_CURSOR?this.props.actions.setCubeProgram(zt.a.PLAIN_COLOR):this.props.actions.setCubeProgram(zt.a.SURFACE_CURSOR)}},{key:"getRecordingsVisible",value:function(){return this.props.ui[St.a.RECORDINGS].visible}},{key:"toggleNavbarVisible",value:function(t){void 0!==t&&"boolean"!=typeof t&&Object(Tt.b)("toggleNavbarVisible");var e=this.props.actions,n=this.props.ui[St.a.NAVBAR].visible;e.toggleUiState(St.a.NAVBAR,"visible",void 0!==t?t:!n)}},{key:"getNavbarVisible",value:function(){return this.props.ui[St.a.NAVBAR].visible}},{key:"toggleNavbarExpanded",value:function(t){void 0!==t&&"boolean"!=typeof t&&Object(Tt.b)("toggleNavbarExpanded");var e=this.props.actions,n=this.props.ui[St.a.NAVBAR].expanded;e.toggleUiState(St.a.NAVBAR,"expanded",void 0!==t?t:!n)}},{key:"getNavbarExpanded",value:function(){return this.props.ui[St.a.NAVBAR].expanded}},{key:"toggleButtonEnabled",value:function(t,e){this.props.actions.toggleUiState(t,"enabled",e)}},{key:"getButtonEnabled",value:function(t){var e=this.props.ui;return"*"===t?[].concat(a(e)):e[t].enabled}},{key:"toggleTimeTravelVisible",value:function(t){this.props.tidEnabled&&Object(Tt.c)("toggleTimeTravelVisible"),void 0!==t&&"boolean"!=typeof t&&Object(Tt.b)("toggleTimeTravelVisible");var e=this.props.actions,n=this.props.ui[St.a.TIME_TRAVEL].visible;e.toggleUiState(St.a.TIME_TRAVEL,"visible",void 0!==t?t:!n)}},{key:"getTimeTravelVisible",value:function(){return this.props.ui[St.a.TIME_TRAVEL]&&this.props.ui[St.a.TIME_TRAVEL].visible}},{key:"toggleTimeTravelExpanded",value:function(t){this.props.tidEnabled&&Object(Tt.c)("toggleTimeTravelExpanded"),void 0!==t&&"boolean"!=typeof t&&Object(Tt.b)("toggleTimeTravelExpanded");var e=this.props,n=e.actions,r=e.timetravel;n.toggleTimeTravel(void 0!==t?t:!r.visible)}},{key:"getTimeTravelExpanded",value:function(){return this.props.timetravel&&this.props.timetravel.visible}},{key:"openByImageId",value:function(){function t(t,n){return e.apply(this,arguments)}var e=i(p.a.mark(function t(e,n){var r,i,o;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(!Object(At.parsePanoramaId)(e)||n&&!Object(Ct.o)(n))&&Object(Tt.b)("openByImageId"),n||(n=this.props.srs.userSrs),t.next=4,pt.a.getRecordingById(e,n);case 4:return r=t.sent,i=Yt(r,1),o=i[0],this._updateRecording(o),t.abrupt("return",o);case 9:case"end":return t.stop()}},t,this)}));return t}()},{key:"openByCoordinate",value:function(){function t(t,n){return e.apply(this,arguments)}var e=i(p.a.mark(function t(e,n){var r,i,o,a;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r="openByCoordinate",this.props.tidEnabled&&Object(Tt.c)(r),(!Object(Rt.h)(e)||n&&!Object(Ct.o)(n))&&Object(Tt.b)(r),n||(n=this.props.srs.userSrs),t.next=6,pt.a.getRecordingsByRadius(e,n,100,{maxFeatures:1});case 6:return i=t.sent,o=Yt(i,1),a=o[0],this._updateRecording(a),this.lookAtCoordinate(e,n),t.abrupt("return",a);case 12:case"end":return t.stop()}},t,this)}));return t}()},{key:"openByAddress",value:function(){function t(t,n){return e.apply(this,arguments)}var e=i(p.a.mark(function t(e,n){var r,i,o,a,s;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r="openByAddress",this.props.tidEnabled&&Object(Tt.c)(r),("string"!=typeof e||!e||n&&!Object(Ct.o)(n))&&Object(Tt.b)(r),n=n||this.props.srs.userSrs,n||Object(Tt.a)(r,Kt.NO_SRS_PROVIDED),this.addressClient||Object(Tt.a)(r,Kt.NO_ADDRESS_CLIENT),t.next=8,this.addressClient.searchAddress(e,n);case 8:return i=t.sent,i||Object(Tt.a)(r,Kt.NO_ADDRESS_FOUND),o=i.geometry,a=o.extent,s=o.coord,a&&Object(Tt.a)(r,Kt.ADDRESS_NOT_A_POINT),s||Object(Tt.a)(r,Kt.ADDRESS_CLIENT_ERROR),t.next=15,this.openByCoordinate(s,n);case 15:return t.abrupt("return",t.sent);case 16:case"end":return t.stop()}},t,this)}));return t}()},{key:"onRecordingLoaded",value:function(){var t=this._viewer.getRecording();this._updateRecording(t)}},{key:"onViewChange",value:function(t){var e=this.props,n=e.id,r=e.recording,i=e.actions,o=void 0,a=void 0;r&&(o=r.xyz,a=r.srs),i.updatePanoramaOrientation({yaw:t.yaw,pitch:t.pitch,hFov:t.hFov,xyz:o});var s={yaw:t.yaw,hFov:t.hFov,pitch:t.pitch,xyz:o,srs:a};dispatchEvent(new CustomEvent(Ot.a.PANORAMA_UPDATED,{detail:{viewerData:s,panoramaId:n}}));var u=It.VIEW_CHANGE,l=Wt({},t,{yaw:Object(Nt.d)(t.yaw),pitch:Object(Nt.d)(t.pitch),hFov:Object(Nt.d)(t.hFov)});this.trigger(u,new qt.a(u,l));var c=this.threeViewer;if(c){var h=c.camera;h.filmGauge=1,h.fov=Object(Nt.d)(this._viewer._viewer.getVFov()),h.updateProjectionMatrix(),h.rotation.set(t.pitch,-t.yaw,0,"YXZ"),c.animateDrawLayer()}}},{key:"_onViewLoadStart",value:function(){this.props.actions.updateLoadingCount(1);var t=It.VIEW_LOAD_START;this.trigger(t,new qt.a(t))}},{key:"_onViewLoadEnd",value:function(){this.props.actions.updateLoadingCount(-1);var t=It.VIEW_LOAD_END;this.trigger(t,new qt.a(t))}},{key:"_onTileLoadError",value:function(t){this.props.actions.updateLoadingCount(-1);var e=It.TILE_LOAD_ERROR,n={request:t};this.trigger(e,new qt.a(e,n)),G.a.warn("Some panoramatiles could not be loaded.")}},{key:"onPanoramaRecordingClick",value:function(t,e){if(e.shiftKey){if(this.props.viewerMode===vt.ViewerMode.MEASUREMENT)return;var n=this.props.orientation,r=n.yaw,i=n.pitch,o=n.hFov;this.props.actions.openPanoramaViewerByRecording(t,{replace:!1,yaw:r,pitch:i,hFov:o,openOblique:!1})}else this._updateRecording(t);var a=It.RECORDING_CLICK,s={recording:t,eventData:e};this.trigger(a,new qt.a(a,s))}},{key:"onPanoramaChange",value:function(){var t=this._viewer.getRecording();if(t){var e=this.props,n=e.id,r=e.onPanoramaChange,i=e.actions;this._updateRecording(t),i.toggleTimeTravel(!1),r&&r(n,t);var o=It.IMAGE_CHANGE;this.trigger(o,new qt.a(o))}}},{key:"_pixelToWorldVector",value:function(t){var e=this._viewer,n=CM.El.getPagePos(e.getElement()),r=U.vec2.fromValues(t.pageX-n.x,t.pageY-n.y),i=e.pixelToWorldVector(r[0],r[1]),o=e.getRecording(),a=o.srs;return{imageId:o.id,srsname:a,direction:i}}},{key:"_onPointerUp",value:function(t){if(0!==t.button)return void t.preventDefault();var e=this.context.intl.formatMessage,n=this._viewer._viewer._isDragInteracting,r=this._viewer._viewer._longPressZoomed,i=this._viewer.getRecording();if(this.props.viewerMode===vt.ViewerMode.MEASUREMENT&&(!n||n&&r))if(i&&i.hasDepthMap)if(!1===this.props.isLoading&&0===window.CM.Req.panoramaTilesLoadingCount){var o=this._pixelToWorldVector(t);this.props.actions.measurePoint(o,this)}else this.props.actions.showFlashMessage(e($t.warningStillLoading),{style:"warning"});else{var a=this._pixelToWorldVector(t);this.props.actions.measurePoint(a,this)}}},{key:"onTimeTravelChange",value:function(t){var e=It.TIME_TRAVEL_CHANGE;this.trigger(e,new qt.a(e,{date:new Date(t)}))}},{key:"getSmartMeasurePoint",value:function(t){var e=this._viewer.getRecording();if(e&&e.hasDepthMap){var n=this._viewer._viewer._currentPointerPos[2];if(n){var r=Object(Ct.n)(e.srs).xyUnits,i=Object(Ct.h)(Ct.d.METERS,r,n);return U.glMatrix.setMatrixArrayType(Float64Array),U.vec3.scaleAndAdd(U.vec3.create(),e.xyz,t.direction,i)}}}},{key:"getSmartMeasurePointDetails",value:function(t){var e=this._viewer.getRecording();if(e&&e.hasDepthMap){var n=this._viewer._viewer._currentPointerPos[2];if(n){var r=Object(Ct.n)(e.srs).xyUnits,i=Object(Ct.h)(Ct.d.METERS,r,n);U.glMatrix.setMatrixArrayType(Float64Array);var o=t.direction;return{position:U.vec3.scaleAndAdd(U.vec3.create(),e.xyz,o,i),direction:o,depthInMeters:n,depth:i,recordingInfo:{id:e.id,xyz:e.xyz,srs:e.srs,yaw:e.orientation,xyzStdev:[e.latitudePrecision,e.longitudePrecision,e.heightPrecision],yawStdev:e.orientationPrecision,depthStdev:e.depthMapPrecision}}}}}},{key:"_setDateRangeToViewer",value:function(t){var e=t.recordedAt,n=t.expiredAt,r=void 0;if(n){var i=e.getMonth(),o=new Date(e);o.setMonth(i-1);var a=new Date(e);a.setMonth(i+1),r={from:o,to:a,onlyExpired:!0}}this._viewer.setViewedRecordingOptions({dateRange:r})}},{key:"_updateRecording",value:function(t){this.props.actions.updateRecording(t);var e=this._viewer.getRecordingLayer(),n=t.expiredAt?Bt.a.history:Bt.a.recent;e.setMarkerStyles(n),this._setDateRangeToViewer(t)}},{key:"updateZoom",value:function(t){Zt(t)||Object(Tt.b)("updateZoom");var e=this._viewer.getHFov(),n=e+Object(Nt.e)(5*t);this._viewer.setHFov(n)}},{key:"zoomIn",value:function(){this.updateZoom(-1)}},{key:"zoomOut",value:function(){this.updateZoom(1)}},{key:"selectTab",value:function(t){this.setState({activeTabPanorama:t})}},{key:"renderActivePanel",value:function(){var t=this,e=this.props.recording,n=this.context.intl.formatMessage;switch(this.props.activePanel){case Mt.a.IMAGE_INFORMATION:return Z.a.createElement(at.a,{recording:e});case Mt.a.OVERLAYS:var r=[{key:"SurfaceCursor",label:n(jt.b.surfaceCursor),value:this.props.ui[St.a.SURFACE_CURSOR].visible,action:function(){return t.toggleSurfaceCursor()},show:e.hasDepthMap}];return Z.a.createElement(K.Panel,{header:n($t.overlayPanelHeader),className:"cmtOverlayPanel cmtNavBarPanel"},Z.a.createElement(K.Tab.Container,{position:"left",defaultActiveKey:"panoramaOverlays",activeKey:this.state.activeTabPanorama,onSelect:this.selectTab},Z.a.createElement(K.Row,{className:"clearfix fix-bootstrap-row"},Z.a.createElement(K.Col,{xs:3,className:"fix-bootstrap-col"},Z.a.createElement(K.Nav,{bsStyle:"pills",stacked:!0},Z.a.createElement(K.NavItem,{eventKey:"panoramaOverlays"},n($t.overlayPanelOverlayTab)))),Z.a.createElement(K.Col,{xs:9,className:"fix-bootstrap-col"},Z.a.createElement(K.Tab.Content,null,Z.a.createElement(K.Tab.Pane,{eventKey:"panoramaOverlays"},Z.a.createElement(it.a,{layers:this.props.overlays,onToggleLayer:this.toggleOverlay}),Z.a.createElement("table",{className:"checklist table table-hover"},Z.a.createElement("tbody",null,r.map(function(t){return Z.a.createElement(Vt.a,{key:t.key,optionName:t.label,itemChecked:t.value,action:t.action,show:t.show})})))))))));default:return null}}},{key:"render",value:function(){var t=this.props,e=t.id,n=t.orientation.yaw,r=t.recording,i=t.className,o=t.actions,a=o.logClickControl,s=o.toggleTimeTravel,u=t.isApi,l=t.viewerMode,c=t.timetravel,h=t.ui,f=h[St.a.NAVBAR],d=f.visible,p=f.expanded,m=h[St.a.TIME_TRAVEL].visible,g=c&&m&&!!r,v=this.props.pendingMeasurementsCount,y=this.renderActivePanel(),b=l===vt.ViewerMode.MEASUREMENT?"crosshair":"";return Z.a.createElement("div",{className:j()("panoramaviewer","viewer","flexColumn",i)},!!v&&Z.a.createElement(Ft.a,null),Z.a.createElement("div",{className:"flexColumn pv-relative-pos"},Z.a.createElement("div",{id:e,className:j()("panoramaview","flexItem",b),"data-touch-action":"none"}),Z.a.createElement(ut.a,{color:this.colorStyle.color}),Z.a.createElement(ct.a,{visible:m,recording:r,onClick:function(){a("time_travel_toggle"),s()}}),g&&Z.a.createElement(ht.a,{id:e,recording:r,yaw:n,onChange:this.onTimeTravelChange}),Z.a.createElement(st.a,null),this.props.viewerMode===vt.ViewerMode.MEASUREMENT&&Z.a.createElement(dt.a,null),Z.a.createElement("div",{className:"cmtViewerPanel"},y)),d&&Z.a.createElement(lt.a,{id:e,expanded:p,onExpand:this.toggleNavbarExpanded,zoomIn:this.zoomIn,zoomOut:this.zoomOut,viewer:this._viewer,isApi:u}))}},{key:"_onForDocs",value:function(){}},{key:"_offForDocs",value:function(){}}]),e}(rt.a),Jt=function(t,e){var n=t.panoramaviewer,r=t.timetravel,i=t.config,o=t.srs,a=t.login,s=t.windowmanager,u=t.viewermanager,l=t.measurements,c=t.layer,h=e.id,d=n.byId[h];return Wt({},d,n.byId[h]||{},{panoramaViewerCount:f()(n.byId).length,timetravel:r.byId[h]||null,apiKey:i.apiKey,isApi:i.isApi,tidEnabled:"string"==typeof a.tidToken,srs:o,addressService:i.config.services.address,windowmanagerRevision:s.revision,viewerMode:u.viewerMode,activeMeasurement:l.activeMeasurement,pendingMeasurementsCount:l.pendingCount,overlays:c.overlays[h],layer:c})};Qt.propTypes={id:Y.a.string.isRequired,recording:Y.a.instanceOf(Ut.a),x:Y.a.number,y:Y.a.number,proj:Y.a.string,apiKey:Y.a.string,recordingsUrl:Y.a.string.isRequired,panoramaTilesUrls:Y.a.array.isRequired,depthTilesUrls:Y.a.array,addressService:Y.a.object,ui:Y.a.object},Qt.defaultProps={id:"cyclorama",x:null,y:null,proj:null,apiKey:void 0,orientation:{yaw:0,pitch:0,hFov:110},ui:(c={},r(c,St.a.NAVBAR,{visible:!0,expanded:!0}),r(c,St.a.TIME_TRAVEL,{visible:!0,expanded:!1}),r(c,St.a.RECORDINGS,{visible:!0}),c)};var te=function(t,e){var n=function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return t.bind.apply(t,[null,e.id].concat(r))};return{actions:Object(J.bindActionCreators)(Wt({showFlashMessage:_t.showFlashMessage,addPanoramaViewer:n(yt.default.addPanoramaViewer),removePanoramaViewer:n(yt.default.removePanoramaViewer),updatePanoramaViewer:n(yt.default.updatePanoramaViewer),updatePanoramaOrientation:n(yt.default.updatePanoramaOrientation),updateRecording:n(yt.default.updateRecording),toggleUiState:n(yt.default.toggleUiState),setCubeProgram:n(yt.default.setCubeProgram),addTimeTravel:n(wt.default.addTimeTravel,wt.TimeTravelType.PANORAMA),removeTimeTravel:n(wt.default.removeTimeTravel),toggleTimeTravel:n(wt.default.toggleTimeTravel),updateLoadingCount:n(Lt.updateLoadingCount)},gt.default,xt.default,vt.default,bt.default),t)}};e.a=Object(Q.connect)(Jt,te,null,{withRef:!0})(Qt)},function(t,e,n){"use strict";var r=n(3),i=n.n(r),o=n(0),a=n.n(o),s=function(t){var e=t.label,n=void 0===e?"CycloMedia":e,r=t.url,i=void 0===r?"https://www.cyclomedia.com/":r;return a.a.createElement("div",{className:"cmtAttributionLabel"},a.a.createElement("a",{href:i,onClick:function(t){t.preventDefault();var e=window.open();e.opener=null,e.location=t.target.href}},"© ",n))};s.propTypes={label:i.a.string,url:i.a.string},e.a=s},function(t,e,n){"use strict";var r=n(3),i=n.n(r),o=n(0),a=n.n(o),s=function(t){var e=t.color,n={top:0,left:0,position:"absolute",width:0,height:0,zIndex:1,borderStyle:"solid",borderWidth:"24px 24px 0 0",borderColor:"rgba("+e.join(",")+") transparent transparent transparent"};return a.a.createElement("div",{className:"colorIndicator",style:n})};s.propTypes={color:i.a.arrayOf(i.a.number)},e.a=s},function(t,e,n){"use strict";function r(t){var e=t.visible,n=void 0===e||e,r=t.recording,i=t.onClick;return n?s.a.createElement(l.a,f({placement:"right"},h.a.timetravel),s.a.createElement(c.a,{icon:s.a.createElement(u.b.TimeTravel,{className:"timetravelToggle"}),recording:r,onClick:i})):s.a.createElement(c.a,{recording:r})}e.a=r;var i=n(4),o=n.n(i),a=n(0),s=n.n(a),u=n(94),l=n(108),c=n(1391),h=n(144),f=o.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"RECORDING_CLICK",function(){return r}),n.d(e,"IMAGE_CHANGE",function(){return i}),n.d(e,"VIEW_CHANGE",function(){return o}),n.d(e,"VIEW_LOAD_START",function(){return a}),n.d(e,"VIEW_LOAD_END",function(){return s}),n.d(e,"TILE_LOAD_ERROR",function(){return u}),n.d(e,"TIME_TRAVEL_CHANGE",function(){return l});var r="RECORDING_CLICK",i="IMAGE_CHANGE",o="VIEW_CHANGE",a="VIEW_LOAD_START",s="VIEW_LOAD_END",u="TILE_LOAD_ERROR",l="TIME_TRAVEL_CHANGE"},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;r(this,t),this.detail=n,this.type=e};e.a=i},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=h()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(l.a?l()(t,e):t.__proto__=e)}var a=n(10),s=n.n(a),u=n(9),l=n.n(u),c=n(5),h=n.n(c),f=n(1),d=n.n(f),p=n(3),m=n.n(p),g=n(0),v=n.n(g),y=n(26),b=(n.n(y),n(30)),w=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),x=function(t){function e(){var t;r(this,e);for(var n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];var u=i(this,(t=e.__proto__||s()(e)).call.apply(t,[this].concat(o)));return u.onToggleButton=u.onToggleButton.bind(u),u}return o(e,t),w(e,[{key:"onToggleButton",value:function(t){var e=this.props.onToggleButton;e&&e(t)}},{key:"renderSwitchButton",value:function(){var t=this,e=this.props,n=e.key,r=e.disabled,i=e.value,o="switch-button "+(i?"on":"off");return v.a.createElement(y.Button,{key:n,bsStyle:"primary",onClick:function(){return t.onToggleButton(!i)},className:o,disabled:r})}},{key:"render",value:function(){var t=this,e=this.props,n=e.labelOff,r=e.labelOn,i=e.disabled;return v.a.createElement("div",{className:"switchbutton"},v.a.createElement(y.Button,{onClick:function(){return t.onToggleButton(!1)},disabled:i},n),this.renderSwitchButton(),v.a.createElement(y.Button,{onClick:function(){return t.onToggleButton(!0)},disabled:i},r))}}]),e}(b.a);x.propTypes={key:m.a.string,disabled:m.a.bool,value:m.a.bool,labelOff:m.a.node,labelOn:m.a.node,onToggleButton:m.a.func},x.defaultProps={disabled:!1},e.a=x},function(t,e,n){(function(r){var i,o,i,o;!function(r,a){i=[n(143)],void 0!==(o=function(t){return r.Bloodhound=a(t)}.apply(e,i))&&(t.exports=o)}(this,function(t){var e=function(){"use strict";return{isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:t.isArray,isFunction:t.isFunction,isObject:t.isPlainObject,isUndefined:function(t){return void 0===t},isElement:function(t){return!(!t||1!==t.nodeType)},isJQuery:function(e){return e instanceof t},toStr:function(t){return e.isUndefined(t)||null===t?"":t+""},bind:t.proxy,each:function(e,n){function r(t,e){return n(e,t)}t.each(e,r)},map:t.map,filter:t.grep,every:function(e,n){var r=!0;return e?(t.each(e,function(t,i){if(!(r=n.call(null,i,t,e)))return!1}),!!r):r},some:function(e,n){var r=!1;return e?(t.each(e,function(t,i){if(r=n.call(null,i,t,e))return!1}),!!r):r},mixin:t.extend,identity:function(t){return t},clone:function(e){return t.extend(!0,{},e)},getIdGenerator:function(){var t=0;return function(){return t++}},templatify:function(e){function n(){return String(e)}return t.isFunction(e)?e:n},defer:function(t){setTimeout(t,0)},debounce:function(t,e,n){var r,i;return function(){var o,a,s=this,u=arguments;return o=function(){r=null,n||(i=t.apply(s,u))},a=n&&!r,clearTimeout(r),r=setTimeout(o,e),a&&(i=t.apply(s,u)),i}},throttle:function(t,e){var n,r,i,o,a,s;return a=0,s=function(){a=new Date,i=null,o=t.apply(n,r)},function(){var u=new Date,l=e-(u-a);return n=this,r=arguments,l<=0?(clearTimeout(i),i=null,a=u,o=t.apply(n,r)):i||(i=setTimeout(s,l)),o}},stringify:function(t){return e.isString(t)?t:JSON.stringify(t)},noop:function(){}}}(),n="0.11.1",r=function(){"use strict";function t(t){return t=e.toStr(t),t?t.split(/\s+/):[]}function n(t){return t=e.toStr(t),t?t.split(/\W+/):[]}function r(t){return function(n){return n=e.isArray(n)?n:[].slice.call(arguments,0),function(r){var i=[];return e.each(n,function(n){i=i.concat(t(e.toStr(r[n])))}),i}}}return{nonword:n,whitespace:t,obj:{nonword:r(n),whitespace:r(t)}}}(),i=function(){"use strict";function n(n){this.maxSize=e.isNumber(n)?n:100,this.reset(),this.maxSize<=0&&(this.set=this.get=t.noop)}function r(){this.head=this.tail=null}function i(t,e){this.key=t,this.val=e,this.prev=this.next=null}return e.mixin(n.prototype,{set:function(t,e){var n,r=this.list.tail;this.size>=this.maxSize&&(this.list.remove(r),delete this.hash[r.key],this.size--),(n=this.hash[t])?(n.val=e,this.list.moveToFront(n)):(n=new i(t,e),this.list.add(n),this.hash[t]=n,this.size++)},get:function(t){var e=this.hash[t];if(e)return this.list.moveToFront(e),e.val},reset:function(){this.size=0,this.hash={},this.list=new r}}),e.mixin(r.prototype,{add:function(t){this.head&&(t.next=this.head,this.head.prev=t),this.head=t,this.tail=this.tail||t},remove:function(t){t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev},moveToFront:function(t){this.remove(t),this.add(t)}}),n}(),o=function(){"use strict";function n(t,n){this.prefix=["__",t,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+e.escapeRegExChars(this.prefix)),this.ls=n||s,!this.ls&&this._noop()}function r(){return(new Date).getTime()}function i(t){return JSON.stringify(e.isUndefined(t)?null:t)}function o(e){return t.parseJSON(e)}function a(t){var e,n,r=[],i=s.length;for(e=0;e<i;e++)(n=s.key(e)).match(t)&&r.push(n.replace(t,""));return r}var s;try{s=window.localStorage,s.setItem("~~~","!"),s.removeItem("~~~")}catch(t){s=null}return e.mixin(n.prototype,{_prefix:function(t){return this.prefix+t},_ttlKey:function(t){return this._prefix(t)+this.ttlKey},_noop:function(){this.get=this.set=this.remove=this.clear=this.isExpired=e.noop},_safeSet:function(t,e){try{this.ls.setItem(t,e)}catch(t){"QuotaExceededError"===t.name&&(this.clear(),this._noop())}},get:function(t){return this.isExpired(t)&&this.remove(t),o(this.ls.getItem(this._prefix(t)))},set:function(t,n,o){return e.isNumber(o)?this._safeSet(this._ttlKey(t),i(r()+o)):this.ls.removeItem(this._ttlKey(t)),this._safeSet(this._prefix(t),i(n))},remove:function(t){return this.ls.removeItem(this._ttlKey(t)),this.ls.removeItem(this._prefix(t)),this},clear:function(){var t,e=a(this.keyMatcher);for(t=e.length;t--;)this.remove(e[t]);return this},isExpired:function(t){var n=o(this.ls.getItem(this._ttlKey(t)));return!!(e.isNumber(n)&&r()>n)}}),n}(),a=function(){"use strict";function n(t){t=t||{},this.cancelled=!1,this.lastReq=null,this._send=t.transport,this._get=t.limiter?t.limiter(this._get):this._get,this._cache=!1===t.cache?new i(0):s}var r=0,o={},a=6,s=new i(10);return n.setMaxPendingRequests=function(t){a=t},n.resetCache=function(){s.reset()},e.mixin(n.prototype,{_fingerprint:function(e){return e=e||{},e.url+e.type+t.param(e.data||{})},_get:function(t,e){function n(t){e(null,t),c._cache.set(u,t)}function i(){e(!0)}function s(){r--,delete o[u],c.onDeckRequestArgs&&(c._get.apply(c,c.onDeckRequestArgs),c.onDeckRequestArgs=null)}var u,l,c=this;u=this._fingerprint(t),this.cancelled||u!==this.lastReq||((l=o[u])?l.done(n).fail(i):r<a?(r++,o[u]=this._send(t).done(n).fail(i).always(s)):this.onDeckRequestArgs=[].slice.call(arguments,0))},get:function(n,r){var i,o;r=r||t.noop,n=e.isString(n)?{url:n}:n||{},o=this._fingerprint(n),this.cancelled=!1,this.lastReq=o,(i=this._cache.get(o))?r(null,i):this._get(n,r)},cancel:function(){this.cancelled=!0}}),n}(),s=window.SearchIndex=function(){"use strict";function n(n){n=n||{},n.datumTokenizer&&n.queryTokenizer||t.error("datumTokenizer and queryTokenizer are both required"),this.identify=n.identify||e.stringify,this.datumTokenizer=n.datumTokenizer,this.queryTokenizer=n.queryTokenizer,this.reset()}function r(t){return t=e.filter(t,function(t){return!!t}),t=e.map(t,function(t){return t.toLowerCase()})}function i(){var t={};return t[u]=[],t[s]={},t}function o(t){for(var e={},n=[],r=0,i=t.length;r<i;r++)e[t[r]]||(e[t[r]]=!0,n.push(t[r]));return n}function a(t,e){var n=0,r=0,i=[];t=t.sort(),e=e.sort();for(var o=t.length,a=e.length;n<o&&r<a;)t[n]<e[r]?n++:t[n]>e[r]?r++:(i.push(t[n]),n++,r++);return i}var s="c",u="i";return e.mixin(n.prototype,{bootstrap:function(t){this.datums=t.datums,this.trie=t.trie},add:function(t){var n=this;t=e.isArray(t)?t:[t],e.each(t,function(t){var o,a;n.datums[o=n.identify(t)]=t,a=r(n.datumTokenizer(t)),e.each(a,function(t){var e,r,a;for(e=n.trie,r=t.split("");a=r.shift();)e=e[s][a]||(e[s][a]=i()),e[u].push(o)})})},get:function(t){var n=this;return e.map(t,function(t){return n.datums[t]})},search:function(t){var n,i,l=this;return n=r(this.queryTokenizer(t)),e.each(n,function(t){var e,n,r,o;if(i&&0===i.length)return!1;for(e=l.trie,n=t.split("");e&&(r=n.shift());)e=e[s][r];if(!e||0!==n.length)return i=[],!1;o=e[u].slice(0),i=i?a(i,o):o}),i?e.map(o(i),function(t){return l.datums[t]}):[]},all:function(){var t=[];for(var e in this.datums)t.push(this.datums[e]);return t},reset:function(){this.datums={},this.trie=i()},serialize:function(){return{datums:this.datums,trie:this.trie}}}),n}(),u=function(){"use strict";function t(t){this.url=t.url,this.ttl=t.ttl,this.cache=t.cache,this.prepare=t.prepare,this.transform=t.transform,this.transport=t.transport,this.thumbprint=t.thumbprint,this.storage=new o(t.cacheKey)}var n;return n={data:"data",protocol:"protocol",thumbprint:"thumbprint"},e.mixin(t.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},store:function(t){this.cache&&(this.storage.set(n.data,t,this.ttl),this.storage.set(n.protocol,location.protocol,this.ttl),this.storage.set(n.thumbprint,this.thumbprint,this.ttl))},fromCache:function(){var t,e={};return this.cache?(e.data=this.storage.get(n.data),e.protocol=this.storage.get(n.protocol),e.thumbprint=this.storage.get(n.thumbprint),t=e.thumbprint!==this.thumbprint||e.protocol!==location.protocol,e.data&&!t?e.data:null):null},fromNetwork:function(t){function e(){t(!0)}function n(e){t(null,i.transform(e))}var r,i=this;t&&(r=this.prepare(this._settings()),this.transport(r).fail(e).done(n))},clear:function(){return this.storage.clear(),this}}),t}(),l=function(){"use strict";function t(t){this.url=t.url,this.prepare=t.prepare,this.transform=t.transform,this.transport=new a({cache:t.cache,limiter:t.limiter,transport:t.transport})}return e.mixin(t.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},get:function(t,e){function n(t,n){e(t?[]:i.transform(n))}var r,i=this;if(e)return t=t||"",r=this.prepare(t,this._settings()),this.transport.get(r,n)},cancelLastRequest:function(){this.transport.cancel()}}),t}(),c=function(){"use strict";function r(r){var i;return r?(i={url:null,ttl:864e5,cache:!0,cacheKey:null,thumbprint:"",prepare:e.identity,transform:e.identity,transport:null},r=e.isString(r)?{url:r}:r,r=e.mixin(i,r),!r.url&&t.error("prefetch requires url to be set"),r.transform=r.filter||r.transform,r.cacheKey=r.cacheKey||r.url,r.thumbprint=n+r.thumbprint,r.transport=r.transport?s(r.transport):t.ajax,r):null}function i(n){var r;if(n)return r={url:null,cache:!0,prepare:null,replace:null,wildcard:null,limiter:null,rateLimitBy:"debounce",rateLimitWait:300,transform:e.identity,transport:null},n=e.isString(n)?{url:n}:n,n=e.mixin(r,n),!n.url&&t.error("remote requires url to be set"),n.transform=n.filter||n.transform,n.prepare=o(n),n.limiter=a(n),n.transport=n.transport?s(n.transport):t.ajax,delete n.replace,delete n.wildcard,delete n.rateLimitBy,delete n.rateLimitWait,n}function o(t){function e(t,e){return e.url=o(e.url,t),e}function n(t,e){return e.url=e.url.replace(a,encodeURIComponent(t)),e}function r(t,e){return e}var i,o,a;return i=t.prepare,o=t.replace,a=t.wildcard,i||(i=o?e:t.wildcard?n:r)}function a(t){var n,r,i;return n=t.limiter,r=t.rateLimitBy,i=t.rateLimitWait,n||(n=/^throttle$/i.test(r)?function(t){return function(n){return e.throttle(n,t)}}(i):function(t){return function(n){return e.debounce(n,t)}}(i)),n}function s(n){return function(r){function i(t){e.defer(function(){a.resolve(t)})}function o(t){e.defer(function(){a.reject(t)})}var a=t.Deferred();return n(r,i,o),a}}return function(n){var o,a;return o={initialize:!0,identify:e.stringify,datumTokenizer:null,queryTokenizer:null,sufficient:5,sorter:null,local:[],prefetch:null,remote:null},n=e.mixin(o,n||{}),!n.datumTokenizer&&t.error("datumTokenizer is required"),!n.queryTokenizer&&t.error("queryTokenizer is required"),a=n.sorter,n.sorter=a?function(t){return t.sort(a)}:e.identity,n.local=e.isFunction(n.local)?n.local():n.local,n.prefetch=r(n.prefetch),n.remote=i(n.remote),n}}();return function(){"use strict";function n(t){t=c(t),this.sorter=t.sorter,this.identify=t.identify,this.sufficient=t.sufficient,this.local=t.local,this.remote=t.remote?new l(t.remote):null,this.prefetch=t.prefetch?new u(t.prefetch):null,this.index=new s({identify:this.identify,datumTokenizer:t.datumTokenizer,queryTokenizer:t.queryTokenizer}),!1!==t.initialize&&this.initialize()}var i;return i=window&&window.Bloodhound,n.noConflict=function(){return window&&(window.Bloodhound=i),n},n.tokenizers=r,e.mixin(n.prototype,{__ttAdapter:function(){function t(t,e,r){return n.search(t,e,r)}function e(t,e){return n.search(t,e)}var n=this;return this.remote?t:e},_loadPrefetch:function(){function e(t,e){if(t)return n.reject();i.add(e),i.prefetch.store(i.index.serialize()),n.resolve()}var n,r,i=this;return n=t.Deferred(),this.prefetch?(r=this.prefetch.fromCache())?(this.index.bootstrap(r),n.resolve()):this.prefetch.fromNetwork(e):n.resolve(),n.promise()},_initialize:function(){function t(){e.add(e.local)}var e=this;return this.clear(),(this.initPromise=this._loadPrefetch()).done(t),this.initPromise},initialize:function(t){return!this.initPromise||t?this._initialize():this.initPromise},add:function(t){return this.index.add(t),this},get:function(t){return t=e.isArray(t)?t:[].slice.call(arguments),this.index.get(t)},search:function(t,n,r){function i(t){var n=[];e.each(t,function(t){!e.some(o,function(e){return a.identify(t)===a.identify(e)})&&n.push(t)}),r&&r(n)}var o,a=this;return o=this.sorter(this.index.search(t)),n(this.remote?o.slice():o),this.remote&&o.length<this.sufficient?this.remote.get(t,i):this.remote&&this.remote.cancelLastRequest(),this},all:function(){return this.index.all()},clear:function(){return this.index.reset(),this},clearPrefetchCache:function(){return this.prefetch&&this.prefetch.clear(),this},clearRemoteCache:function(){return a.resetCache(),this},ttAdapter:function(){return this.__ttAdapter()}}),n}()}),function(r,a){i=[n(143)],void 0!==(o=function(t){return a(t)}.apply(e,i))&&(t.exports=o)}(0,function(t){var e=function(){"use strict";return{isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:t.isArray,isFunction:t.isFunction,isObject:t.isPlainObject,isUndefined:function(t){return void 0===t},isElement:function(t){return!(!t||1!==t.nodeType)},isJQuery:function(e){return e instanceof t},toStr:function(t){return e.isUndefined(t)||null===t?"":t+""},bind:t.proxy,each:function(e,n){function r(t,e){return n(e,t)}t.each(e,r)},map:t.map,filter:t.grep,every:function(e,n){var r=!0;return e?(t.each(e,function(t,i){if(!(r=n.call(null,i,t,e)))return!1}),!!r):r},some:function(e,n){var r=!1;return e?(t.each(e,function(t,i){if(r=n.call(null,i,t,e))return!1}),!!r):r},mixin:t.extend,identity:function(t){return t},clone:function(e){return t.extend(!0,{},e)},getIdGenerator:function(){var t=0;return function(){return t++}},templatify:function(e){function n(){return String(e)}return t.isFunction(e)?e:n},defer:function(t){setTimeout(t,0)},debounce:function(t,e,n){var r,i;return function(){var o,a,s=this,u=arguments;return o=function(){r=null,n||(i=t.apply(s,u))},a=n&&!r,clearTimeout(r),r=setTimeout(o,e),a&&(i=t.apply(s,u)),i}},throttle:function(t,e){var n,r,i,o,a,s;return a=0,s=function(){a=new Date,i=null,o=t.apply(n,r)},function(){var u=new Date,l=e-(u-a);return n=this,r=arguments,l<=0?(clearTimeout(i),i=null,a=u,o=t.apply(n,r)):i||(i=setTimeout(s,l)),o}},stringify:function(t){return e.isString(t)?t:JSON.stringify(t)},noop:function(){}}}(),n=function(){"use strict";function t(t){var a,s;return s=e.mixin({},o,t),a={css:i(),classes:s,html:n(s),selectors:r(s)},{css:a.css,html:a.html,classes:a.classes,selectors:a.selectors,mixin:function(t){e.mixin(t,a)}}}function n(t){return{wrapper:'<span class="'+t.wrapper+'"></span>',menu:'<div class="'+t.menu+'"></div>'}}function r(t){var n={};return e.each(t,function(t,e){n[e]="."+t}),n}function i(){var t={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},menu:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};return e.isMsie()&&e.mixin(t.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),t}var o={wrapper:"twitter-typeahead",input:"tt-input",hint:"tt-hint",menu:"tt-menu",dataset:"tt-dataset",suggestion:"tt-suggestion",selectable:"tt-selectable",empty:"tt-empty",open:"tt-open",cursor:"tt-cursor",highlight:"tt-highlight"};return t}(),i=function(){"use strict";function n(e){e&&e.el||t.error("EventBus initialized without el"),this.$el=t(e.el)}var r,i;return r="typeahead:",i={render:"rendered",cursorchange:"cursorchanged",select:"selected",autocomplete:"autocompleted"},e.mixin(n.prototype,{_trigger:function(e,n){var i;return i=t.Event(r+e),(n=n||[]).unshift(i),this.$el.trigger.apply(this.$el,n),i},before:function(t){var e,n;return e=[].slice.call(arguments,1),n=this._trigger("before"+t,e),n.isDefaultPrevented()},trigger:function(t){var e;this._trigger(t,[].slice.call(arguments,1)),(e=i[t])&&this._trigger(e,[].slice.call(arguments,1))}}),n}(),o=function(){"use strict";function t(t,e,n,r){var i;if(!n)return this;for(e=e.split(u),n=r?s(n,r):n,this._callbacks=this._callbacks||{};i=e.shift();)this._callbacks[i]=this._callbacks[i]||{sync:[],async:[]},this._callbacks[i][t].push(n);return this}function e(e,n,r){return t.call(this,"async",e,n,r)}function n(e,n,r){return t.call(this,"sync",e,n,r)}function i(t){var e;if(!this._callbacks)return this;for(t=t.split(u);e=t.shift();)delete this._callbacks[e];return this}function o(t){var e,n,r,i,o;if(!this._callbacks)return this;for(t=t.split(u),r=[].slice.call(arguments,1);(e=t.shift())&&(n=this._callbacks[e]);)i=a(n.sync,this,[e].concat(r)),o=a(n.async,this,[e].concat(r)),i()&&l(o);return this}function a(t,e,n){function r(){for(var r,i=0,o=t.length;!r&&i<o;i+=1)r=!1===t[i].apply(e,n);return!r}return r}function s(t,e){return t.bind?t.bind(e):function(){t.apply(e,[].slice.call(arguments,0))}}var u=/\s+/,l=function(){return window.setImmediate?function(t){r(function(){t()})}:function(t){setTimeout(function(){t()},0)}}();return{onSync:n,onAsync:e,off:i,trigger:o}}(),a=function(t){"use strict";function n(t,n,r){for(var i,o=[],a=0,s=t.length;a<s;a++)o.push(e.escapeRegExChars(t[a]));return i=r?"\\b("+o.join("|")+")\\b":"("+o.join("|")+")",n?new RegExp(i):new RegExp(i,"i")}var r={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(i){function o(e){var n,r,o;return(n=s.exec(e.data))&&(o=t.createElement(i.tagName),i.className&&(o.className=i.className),r=e.splitText(n.index),r.splitText(n[0].length),o.appendChild(r.cloneNode(!0)),e.parentNode.replaceChild(o,r)),!!n}function a(t,e){for(var n,r=0;r<t.childNodes.length;r++)n=t.childNodes[r],3===n.nodeType?r+=e(n)?1:0:a(n,e)}var s;i=e.mixin({},r,i),i.node&&i.pattern&&(i.pattern=e.isArray(i.pattern)?i.pattern:[i.pattern],s=n(i.pattern,i.caseSensitive,i.wordsOnly),a(i.node,o))}}(window.document),s=function(){"use strict";function n(n,i){n=n||{},n.input||t.error("input is missing"),i.mixin(this),this.$hint=t(n.hint),this.$input=t(n.input),this.query=this.$input.val(),this.queryWhenFocused=this.hasFocus()?this.query:null,this.$overflowHelper=r(this.$input),this._checkLanguageDirection(),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=e.noop)}function r(e){return t('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:e.css("font-family"),fontSize:e.css("font-size"),fontStyle:e.css("font-style"),fontVariant:e.css("font-variant"),fontWeight:e.css("font-weight"),wordSpacing:e.css("word-spacing"),letterSpacing:e.css("letter-spacing"),textIndent:e.css("text-indent"),textRendering:e.css("text-rendering"),textTransform:e.css("text-transform")}).insertAfter(e)}function i(t,e){return n.normalizeQuery(t)===n.normalizeQuery(e)}function a(t){return t.altKey||t.ctrlKey||t.metaKey||t.shiftKey}var s;return s={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},n.normalizeQuery=function(t){return e.toStr(t).replace(/^\s*/g,"").replace(/\s{2,}/g," ")},e.mixin(n.prototype,o,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.queryWhenFocused=this.query,this.trigger("focused")},_onKeydown:function(t){var e=s[t.which||t.keyCode];this._managePreventDefault(e,t),e&&this._shouldTrigger(e,t)&&this.trigger(e+"Keyed",t)},_onInput:function(){this._setQuery(this.getInputValue()),this.clearHintIfInvalid(),this._checkLanguageDirection()},_managePreventDefault:function(t,e){var n;switch(t){case"up":case"down":n=!a(e);break;default:n=!1}n&&e.preventDefault()},_shouldTrigger:function(t,e){var n;switch(t){case"tab":n=!a(e);break;default:n=!0}return n},_checkLanguageDirection:function(){var t=(this.$input.css("direction")||"ltr").toLowerCase();this.dir!==t&&(this.dir=t,this.$hint.attr("dir",t),this.trigger("langDirChanged",t))},_setQuery:function(t,e){var n,r;n=i(t,this.query),r=!!n&&this.query.length!==t.length,this.query=t,e||n?!e&&r&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},bind:function(){var t,n,r,i,o=this;return t=e.bind(this._onBlur,this),n=e.bind(this._onFocus,this),r=e.bind(this._onKeydown,this),i=e.bind(this._onInput,this),this.$input.on("blur.tt",t).on("focus.tt",n).on("keydown.tt",r),!e.isMsie()||e.isMsie()>9?this.$input.on("input.tt",i):this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(t){s[t.which||t.keyCode]||e.defer(e.bind(o._onInput,o,t))}),this},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getLangDir:function(){return this.dir},getQuery:function(){return this.query||""},setQuery:function(t,e){this.setInputValue(t),this._setQuery(t,e)},hasQueryChangedSinceLastFocus:function(){return this.query!==this.queryWhenFocused},getInputValue:function(){return this.$input.val()},setInputValue:function(t){this.$input.val(t),this.clearHintIfInvalid(),this._checkLanguageDirection()},resetInputValue:function(){this.setInputValue(this.query)},getHint:function(){return this.$hint.val()},setHint:function(t){this.$hint.val(t)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var t,e,n,r;t=this.getInputValue(),e=this.getHint(),n=t!==e&&0===e.indexOf(t),!(r=""!==t&&n&&!this.hasOverflow())&&this.clearHint()},hasFocus:function(){return this.$input.is(":focus")},hasOverflow:function(){var t=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=t},isCursorAtEnd:function(){var t,n,r;return t=this.$input.val().length,n=this.$input[0].selectionStart,e.isNumber(n)?n===t:!document.selection||(r=document.selection.createRange(),r.moveStart("character",-t),t===r.text.length)},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$overflowHelper.remove(),this.$hint=this.$input=this.$overflowHelper=t("<div>")}}),n}(),u=function(){"use strict";function n(n,o){n=n||{},n.templates=n.templates||{},n.templates.notFound=n.templates.notFound||n.templates.empty,n.source||t.error("missing source"),n.node||t.error("missing node"),n.name&&!s(n.name)&&t.error("invalid dataset name: "+n.name),o.mixin(this),this.highlight=!!n.highlight,this.name=n.name||l(),this.limit=n.limit||5,this.displayFn=r(n.display||n.displayKey),this.templates=i(n.templates,this.displayFn),this.source=n.source.__ttAdapter?n.source.__ttAdapter():n.source,this.async=e.isUndefined(n.async)?this.source.length>2:!!n.async,this._resetLastSuggestion(),this.$el=t(n.node).addClass(this.classes.dataset).addClass(this.classes.dataset+"-"+this.name)}function r(t){function n(e){return e[t]}return t=t||e.stringify,e.isFunction(t)?t:n}function i(n,r){function i(e){return t("<div>").text(r(e))}return{notFound:n.notFound&&e.templatify(n.notFound),pending:n.pending&&e.templatify(n.pending),header:n.header&&e.templatify(n.header),footer:n.footer&&e.templatify(n.footer),suggestion:n.suggestion||i}}function s(t){return/^[_a-zA-Z0-9-]+$/.test(t)}var u,l;return u={val:"tt-selectable-display",obj:"tt-selectable-object"},l=e.getIdGenerator(),n.extractData=function(e){var n=t(e);return n.data(u.obj)?{val:n.data(u.val)||"",obj:n.data(u.obj)||null}:null},e.mixin(n.prototype,o,{_overwrite:function(t,e){e=e||[],e.length?this._renderSuggestions(t,e):this.async&&this.templates.pending?this._renderPending(t):!this.async&&this.templates.notFound?this._renderNotFound(t):this._empty(),this.trigger("rendered",this.name,e,!1)},_append:function(t,e){e=e||[],e.length&&this.$lastSuggestion.length?this._appendSuggestions(t,e):e.length?this._renderSuggestions(t,e):!this.$lastSuggestion.length&&this.templates.notFound&&this._renderNotFound(t),this.trigger("rendered",this.name,e,!0)},_renderSuggestions:function(t,e){var n;n=this._getSuggestionsFragment(t,e),this.$lastSuggestion=n.children().last(),this.$el.html(n).prepend(this._getHeader(t,e)).append(this._getFooter(t,e))},_appendSuggestions:function(t,e){var n,r;n=this._getSuggestionsFragment(t,e),r=n.children().last(),this.$lastSuggestion.after(n),this.$lastSuggestion=r},_renderPending:function(t){var e=this.templates.pending;this._resetLastSuggestion(),e&&this.$el.html(e({query:t,dataset:this.name}))},_renderNotFound:function(t){var e=this.templates.notFound;this._resetLastSuggestion(),e&&this.$el.html(e({query:t,dataset:this.name}))},_empty:function(){this.$el.empty(),this._resetLastSuggestion()},_getSuggestionsFragment:function(n,r){var i,o=this;return i=document.createDocumentFragment(),e.each(r,function(e){var r,a;a=o._injectQuery(n,e),r=t(o.templates.suggestion(a)).data(u.obj,e).data(u.val,o.displayFn(e)).addClass(o.classes.suggestion+" "+o.classes.selectable),i.appendChild(r[0])}),this.highlight&&a({className:this.classes.highlight,node:i,pattern:n}),t(i)},_getFooter:function(t,e){return this.templates.footer?this.templates.footer({query:t,suggestions:e,dataset:this.name}):null},_getHeader:function(t,e){return this.templates.header?this.templates.header({query:t,suggestions:e,dataset:this.name}):null},_resetLastSuggestion:function(){this.$lastSuggestion=t()},_injectQuery:function(t,n){return e.isObject(n)?e.mixin({_query:t},n):n},update:function(e){function n(t){a||(a=!0,t=(t||[]).slice(0,i.limit),s=t.length,i._overwrite(e,t),s<i.limit&&i.async&&i.trigger("asyncRequested",e))}function r(n){n=n||[],!o&&s<i.limit&&(i.cancel=t.noop,s+=n.length,i._append(e,n.slice(0,i.limit-s)),i.async&&i.trigger("asyncReceived",e))}var i=this,o=!1,a=!1,s=0;this.cancel(),this.cancel=function(){o=!0,i.cancel=t.noop,i.async&&i.trigger("asyncCanceled",e)},this.source(e,n,r),!a&&n([])},cancel:t.noop,clear:function(){this._empty(),this.cancel(),this.trigger("cleared")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=t("<div>")}}),n}(),l=function(){"use strict";function n(n,r){function i(e){var n=o.$node.find(e.node).first();return e.node=n.length?n:t("<div>").appendTo(o.$node),new u(e,r)}var o=this;n=n||{},n.node||t.error("node is required"),r.mixin(this),this.$node=t(n.node),this.query=null,this.datasets=e.map(n.datasets,i)}return e.mixin(n.prototype,o,{_onSelectableClick:function(e){this.trigger("selectableClicked",t(e.currentTarget))},_onRendered:function(t,e,n,r){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetRendered",e,n,r)},_onCleared:function(){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetCleared")},_propagate:function(){this.trigger.apply(this,arguments)},_allDatasetsEmpty:function(){function t(t){return t.isEmpty()}return e.every(this.datasets,t)},_getSelectables:function(){return this.$node.find(this.selectors.selectable)},_removeCursor:function(){var t=this.getActiveSelectable();t&&t.removeClass(this.classes.cursor)},_ensureVisible:function(t){var e,n,r,i;e=t.position().top,n=e+t.outerHeight(!0),r=this.$node.scrollTop(),i=this.$node.height()+parseInt(this.$node.css("paddingTop"),10)+parseInt(this.$node.css("paddingBottom"),10),e<0?this.$node.scrollTop(r+e):i<n&&this.$node.scrollTop(r+(n-i))},bind:function(){var t,n=this;return t=e.bind(this._onSelectableClick,this),this.$node.on("click.tt",this.selectors.selectable,t),e.each(this.datasets,function(t){t.onSync("asyncRequested",n._propagate,n).onSync("asyncCanceled",n._propagate,n).onSync("asyncReceived",n._propagate,n).onSync("rendered",n._onRendered,n).onSync("cleared",n._onCleared,n)}),this},isOpen:function(){return this.$node.hasClass(this.classes.open)},open:function(){this.$node.addClass(this.classes.open)},close:function(){this.$node.removeClass(this.classes.open),this._removeCursor()},setLanguageDirection:function(t){this.$node.attr("dir",t)},selectableRelativeToCursor:function(t){var e,n,r,i;return n=this.getActiveSelectable(),e=this._getSelectables(),r=n?e.index(n):-1,i=r+t,i=(i+1)%(e.length+1)-1,i=i<-1?e.length-1:i,-1===i?null:e.eq(i)},setCursor:function(t){this._removeCursor(),(t=t&&t.first())&&(t.addClass(this.classes.cursor),this._ensureVisible(t))},getSelectableData:function(t){return t&&t.length?u.extractData(t):null},getActiveSelectable:function(){var t=this._getSelectables().filter(this.selectors.cursor).first();return t.length?t:null},getTopSelectable:function(){var t=this._getSelectables().first();return t.length?t:null},update:function(t){function n(e){e.update(t)}var r=t!==this.query;return r&&(this.query=t,e.each(this.datasets,n)),r},empty:function(){function t(t){t.clear()}e.each(this.datasets,t),this.query=null,this.$node.addClass(this.classes.empty)},destroy:function(){function n(t){t.destroy()}this.$node.off(".tt"),this.$node=t("<div>"),e.each(this.datasets,n)}}),n}(),c=function(){"use strict";function t(){l.apply(this,[].slice.call(arguments,0))}var n=l.prototype;return e.mixin(t.prototype,l.prototype,{open:function(){return!this._allDatasetsEmpty()&&this._show(),n.open.apply(this,[].slice.call(arguments,0))},close:function(){return this._hide(),n.close.apply(this,[].slice.call(arguments,0))},_onRendered:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),n._onRendered.apply(this,[].slice.call(arguments,0))},_onCleared:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),n._onCleared.apply(this,[].slice.call(arguments,0))},setLanguageDirection:function(t){return this.$node.css("ltr"===t?this.css.ltr:this.css.rtl),n.setLanguageDirection.apply(this,[].slice.call(arguments,0))},_hide:function(){this.$node.hide()},_show:function(){this.$node.css("display","block")}}),t}(),h=function(){"use strict";function n(n,i){var o,a,s,u,l,c,h,f,d,p,m;n=n||{},n.input||t.error("missing input"),n.menu||t.error("missing menu"),n.eventBus||t.error("missing event bus"),i.mixin(this),this.eventBus=n.eventBus,this.minLength=e.isNumber(n.minLength)?n.minLength:1,this.input=n.input,this.menu=n.menu,this.enabled=!0,this.active=!1,this.input.hasFocus()&&this.activate(),this.dir=this.input.getLangDir(),this._hacks(),this.menu.bind().onSync("selectableClicked",this._onSelectableClicked,this).onSync("asyncRequested",this._onAsyncRequested,this).onSync("asyncCanceled",this._onAsyncCanceled,this).onSync("asyncReceived",this._onAsyncReceived,this).onSync("datasetRendered",this._onDatasetRendered,this).onSync("datasetCleared",this._onDatasetCleared,this),o=r(this,"activate","open","_onFocused"),a=r(this,"deactivate","_onBlurred"),s=r(this,"isActive","isOpen","_onEnterKeyed"),u=r(this,"isActive","isOpen","_onTabKeyed"),l=r(this,"isActive","_onEscKeyed"),c=r(this,"isActive","open","_onUpKeyed"),h=r(this,"isActive","open","_onDownKeyed"),f=r(this,"isActive","isOpen","_onLeftKeyed"),d=r(this,"isActive","isOpen","_onRightKeyed"),p=r(this,"_openIfActive","_onQueryChanged"),m=r(this,"_openIfActive","_onWhitespaceChanged"),this.input.bind().onSync("focused",o,this).onSync("blurred",a,this).onSync("enterKeyed",s,this).onSync("tabKeyed",u,this).onSync("escKeyed",l,this).onSync("upKeyed",c,this).onSync("downKeyed",h,this).onSync("leftKeyed",f,this).onSync("rightKeyed",d,this).onSync("queryChanged",p,this).onSync("whitespaceChanged",m,this).onSync("langDirChanged",this._onLangDirChanged,this)}function r(t){var n=[].slice.call(arguments,1);return function(){var r=[].slice.call(arguments);e.each(n,function(e){return t[e].apply(t,r)})}}return e.mixin(n.prototype,{_hacks:function(){var n,r;n=this.input.$input||t("<div>"),r=this.menu.$node||t("<div>"),n.on("blur.tt",function(t){var i,o,a;i=document.activeElement,o=r.is(i),a=r.has(i).length>0,e.isMsie()&&(o||a)&&(t.preventDefault(),t.stopImmediatePropagation(),e.defer(function(){n.focus()}))}),r.on("mousedown.tt",function(t){t.preventDefault()})},_onSelectableClicked:function(t,e){this.select(e)},_onDatasetCleared:function(){this._updateHint()},_onDatasetRendered:function(t,e,n,r){this._updateHint(),this.eventBus.trigger("render",n,r,e)},_onAsyncRequested:function(t,e,n){this.eventBus.trigger("asyncrequest",n,e)},_onAsyncCanceled:function(t,e,n){this.eventBus.trigger("asynccancel",n,e)},_onAsyncReceived:function(t,e,n){this.eventBus.trigger("asyncreceive",n,e)},_onFocused:function(){this._minLengthMet()&&this.menu.update(this.input.getQuery())},_onBlurred:function(){this.input.hasQueryChangedSinceLastFocus()&&this.eventBus.trigger("change",this.input.getQuery())},_onEnterKeyed:function(t,e){var n;(n=this.menu.getActiveSelectable())&&this.select(n)&&e.preventDefault()},_onTabKeyed:function(t,e){var n;(n=this.menu.getActiveSelectable())?this.select(n)&&e.preventDefault():(n=this.menu.getTopSelectable())&&this.autocomplete(n)&&e.preventDefault()},_onEscKeyed:function(){this.close()},_onUpKeyed:function(){this.moveCursor(-1)},_onDownKeyed:function(){this.moveCursor(1)},_onLeftKeyed:function(){"rtl"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onRightKeyed:function(){"ltr"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onQueryChanged:function(t,e){this._minLengthMet(e)?this.menu.update(e):this.menu.empty()},_onWhitespaceChanged:function(){this._updateHint()},_onLangDirChanged:function(t,e){this.dir!==e&&(this.dir=e,this.menu.setLanguageDirection(e))},_openIfActive:function(){this.isActive()&&this.open()},_minLengthMet:function(t){return t=e.isString(t)?t:this.input.getQuery()||"",t.length>=this.minLength},_updateHint:function(){var t,n,r,i,o,a,u;t=this.menu.getTopSelectable(),n=this.menu.getSelectableData(t),r=this.input.getInputValue(),!n||e.isBlankString(r)||this.input.hasOverflow()?this.input.clearHint():(i=s.normalizeQuery(r),o=e.escapeRegExChars(i),a=new RegExp("^(?:"+o+")(.+$)","i"),(u=a.exec(n.val))&&this.input.setHint(r+u[1]))},isEnabled:function(){return this.enabled},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},isActive:function(){return this.active},activate:function(){return!!this.isActive()||!(!this.isEnabled()||this.eventBus.before("active"))&&(this.active=!0,this.eventBus.trigger("active"),!0)},deactivate:function(){return!this.isActive()||!this.eventBus.before("idle")&&(this.active=!1,this.close(),this.eventBus.trigger("idle"),!0)},isOpen:function(){return this.menu.isOpen()},open:function(){return this.isOpen()||this.eventBus.before("open")||(this.menu.open(),this._updateHint(),this.eventBus.trigger("open")),this.isOpen()},close:function(){return this.isOpen()&&!this.eventBus.before("close")&&(this.menu.close(),this.input.clearHint(),this.input.resetInputValue(),this.eventBus.trigger("close")),!this.isOpen()},setVal:function(t){this.input.setQuery(e.toStr(t))},getVal:function(){return this.input.getQuery()},select:function(t){var e=this.menu.getSelectableData(t);return!(!e||this.eventBus.before("select",e.obj))&&(this.input.setQuery(e.val,!0),this.eventBus.trigger("select",e.obj),this.close(),!0)},autocomplete:function(t){var e,n;return e=this.input.getQuery(),n=this.menu.getSelectableData(t),!(!(n&&e!==n.val)||this.eventBus.before("autocomplete",n.obj))&&(this.input.setQuery(n.val),this.eventBus.trigger("autocomplete",n.obj),!0)},moveCursor:function(t){var e,n,r,i;return e=this.input.getQuery(),n=this.menu.selectableRelativeToCursor(t),r=this.menu.getSelectableData(n),i=r?r.obj:null,!(this._minLengthMet()&&this.menu.update(e))&&!this.eventBus.before("cursorchange",i)&&(this.menu.setCursor(n),r?this.input.setInputValue(r.val):(this.input.resetInputValue(),this._updateHint()),this.eventBus.trigger("cursorchange",i),!0)},destroy:function(){this.input.destroy(),this.menu.destroy()}}),n}();!function(){"use strict";function r(e,n){e.each(function(){var e,r=t(this);(e=r.data(m.typeahead))&&n(e,r)})}function o(t,e){return t.clone().addClass(e.classes.hint).removeData().css(e.css.hint).css(u(t)).prop("readonly",!0).removeAttr("id name placeholder required").attr({autocomplete:"off",spellcheck:"false",tabindex:-1})}function a(t,e){t.data(m.attrs,{dir:t.attr("dir"),autocomplete:t.attr("autocomplete"),spellcheck:t.attr("spellcheck"),style:t.attr("style")}),t.addClass(e.classes.input).attr({autocomplete:"off",spellcheck:!1});try{!t.attr("dir")&&t.attr("dir","auto")}catch(t){}return t}function u(t){return{backgroundAttachment:t.css("background-attachment"),backgroundClip:t.css("background-clip"),backgroundColor:t.css("background-color"),backgroundImage:t.css("background-image"),backgroundOrigin:t.css("background-origin"),backgroundPosition:t.css("background-position"),backgroundRepeat:t.css("background-repeat"),backgroundSize:t.css("background-size")}}function f(t){var n,r;n=t.data(m.www),r=t.parent().filter(n.selectors.wrapper),e.each(t.data(m.attrs),function(n,r){e.isUndefined(n)?t.removeAttr(r):t.attr(r,n)}),t.removeData(m.typeahead).removeData(m.www).removeData(m.attr).removeClass(n.classes.input),r.length&&(t.detach().insertAfter(r),r.remove())}function d(n){var r,i;return r=e.isJQuery(n)||e.isElement(n),i=r?t(n).first():[],i.length?i:null}var p,m,g;p=t.fn.typeahead,m={www:"tt-www",attrs:"tt-attrs",typeahead:"tt-typeahead"},g={initialize:function(r,u){function f(){var n,f,g,v,y,b,w,x,_,E,M;e.each(u,function(t){t.highlight=!!r.highlight}),n=t(this),f=t(p.html.wrapper),g=d(r.hint),v=d(r.menu),y=!1!==r.hint&&!g,b=!1!==r.menu&&!v,y&&(g=o(n,p)),b&&(v=t(p.html.menu).css(p.css.menu)),g&&g.val(""),n=a(n,p),(y||b)&&(f.css(p.css.wrapper),n.css(y?p.css.input:p.css.inputWithNoHint),n.wrap(f).parent().prepend(y?g:null).append(b?v:null)),M=b?c:l,w=new i({el:n}),x=new s({hint:g,input:n},p),_=new M({node:v,datasets:u},p),E=new h({input:x,menu:_,eventBus:w,minLength:r.minLength},p),n.data(m.www,p),n.data(m.typeahead,E)}var p;return u=e.isArray(u)?u:[].slice.call(arguments,1),r=r||{},p=n(r.classNames),this.each(f)},isEnabled:function(){var t;return r(this.first(),function(e){t=e.isEnabled()}),t},enable:function(){return r(this,function(t){t.enable()}),this},disable:function(){return r(this,function(t){t.disable()}),this},isActive:function(){var t;return r(this.first(),function(e){t=e.isActive()}),t},activate:function(){return r(this,function(t){t.activate()}),this},deactivate:function(){return r(this,function(t){t.deactivate()}),this},isOpen:function(){var t;return r(this.first(),function(e){t=e.isOpen()}),t},open:function(){return r(this,function(t){t.open()}),this},close:function(){return r(this,function(t){t.close()}),this},select:function(e){var n=!1,i=t(e);return r(this.first(),function(t){n=t.select(i)}),n},autocomplete:function(e){var n=!1,i=t(e);return r(this.first(),function(t){n=t.autocomplete(i)}),n},moveCursor:function(t){var e=!1;return r(this.first(),function(n){e=n.moveCursor(t)}),e},val:function(t){var e;return arguments.length?(r(this,function(e){e.setVal(t)}),this):(r(this.first(),function(t){e=t.getVal()}),e)},destroy:function(){return r(this,function(t,e){f(e),t.destroy()}),this}},t.fn.typeahead=function(t){return g[t]?g[t].apply(this,[].slice.call(arguments,1)):g.initialize.apply(this,arguments)},t.fn.typeahead.noConflict=function(){return t.fn.typeahead=p,this}}()})}).call(e,n(1408).setImmediate)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=h()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(l.a?l()(t,e):t.__proto__=e)}var a=n(10),s=n.n(a),u=n(9),l=n.n(u),c=n(5),h=n.n(c),f=n(1),d=n.n(f),p=n(3),m=n.n(p),g=n(0),v=n.n(g),y=n(26),b=(n.n(y),n(15)),w=(n.n(b),n(612)),x=n(30),_=n(602),E=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),M=function(t){function e(){return r(this,e),i(this,(e.__proto__||s()(e)).apply(this,arguments))}return o(e,t),E(e,[{key:"renderButton",value:function(t){var e=this.props;return v.a.createElement(y.Button,{key:t,eventKey:t,onClick:function(n){return e.callback(t,n)}},v.a.createElement(b.FormattedMessage,_.a[t]))}},{key:"render",value:function(){var t=this.props,n=t.title,r=t.message,i=t.show,o=n,a=r,s=[];return t.yes&&s.push(this.renderButton(e.YES)),t.no&&s.push(this.renderButton(e.NO)),t.ok&&s.push(this.renderButton(e.OK)),t.apply&&s.push(this.renderButton(e.APPLY)),t.accept&&s.push(this.renderButton(e.ACCEPT)),t.reject&&s.push(this.renderButton(e.REJECT)),t.cancel&&s.push(this.renderButton(e.CANCEL)),v.a.createElement(w.a,{show:i,className:"dialog-modal"},v.a.createElement(w.a.Header,null,v.a.createElement(w.a.Title,null,o)),v.a.createElement(w.a.Body,null,a),v.a.createElement(w.a.Footer,null,s))}}]),e}(x.a);M.YES="yes",M.NO="no",M.OK="ok",M.APPLY="apply",M.ACCEPT="accept",M.REJECT="reject",M.CANCEL="cancel",M.propTypes={yes:m.a.bool,no:m.a.bool,ok:m.a.bool,apply:m.a.bool,accept:m.a.bool,reject:m.a.bool,cancel:m.a.bool,show:m.a.bool,message:m.a.string,title:m.a.string,callback:m.a.func.isRequired},M.defaultProps={show:!0},e.a=M},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=l()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(s.a?s()(t,e):t.__proto__=e)}var a=n(9),s=n.n(a),u=n(5),l=n.n(u),c=n(10),h=n.n(c),f=n(57),d=n.n(f),p=n(1),m=n.n(p),g=n(4),v=n.n(g),y=n(3),b=n.n(y),w=n(0),x=n.n(w),_=n(26),E=(n.n(_),v.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}),M=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),m()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),S=function t(e,n,r){null===e&&(e=Function.prototype);var i=d()(e,n);if(void 0===i){var o=h()(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},T=function(t){function e(){return r(this,e),i(this,(e.__proto__||h()(e)).apply(this,arguments))}return o(e,t),M(e,[{key:"render",value:function(){S(e.prototype.__proto__||h()(e.prototype),"render",this).call(this);var t=this.props,n=this.context.rootElement;return x.a.createElement(_.Modal,E({},t,{container:n}),this.props.children)}}]),e}(_.Modal);T.contextTypes={rootElement:b.a.object,intl:b.a.object},e.a=T},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=h()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(l.a?l()(t,e):t.__proto__=e)}var a=n(10),s=n.n(a),u=n(9),l=n.n(u),c=n(5),h=n.n(c),f=n(1),d=n.n(f),p=n(17),m=n.n(p),g=n(614),v=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),y=function(t){function e(){return r(this,e),i(this,(e.__proto__||s()(e)).apply(this,arguments))}return o(e,t),v(e,[{key:"_buildStyle",value:function(t){var e=t.name,n=t.rgba;return{name:e,color:n,style:new m.a.style.Style({fill:new m.a.style.Fill({color:n}),stroke:new m.a.style.Stroke({color:n,width:.2})})}}},{key:"getColorStyle",value:function(t){var e=this.getColor(t);return this._buildStyle(e)}}]),e}(g.a);e.a=y},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return a()(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=n(31),a=n.n(o),s=n(1),u=n.n(s),l=n(195),c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),u()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),h=function(){function t(){i(this,t),this._colors=l.d.map(function(t){return{name:t.name,rgba:[].concat(r(t.rgb),[.5]),hex:l.a[t.name.slice(4)]}}),this._availableColors=new Array(this._colors.length).fill(!0)}return c(t,[{key:"getColor",value:function(t){var e=this._availableColors,n=this._colors,r=void 0;return r=t&&e[t]?t:e.indexOf(!0),r<0&&(r=0),e[r]=!1,n[r]}},{key:"releaseColor",value:function(t){for(var e=this._availableColors,n=this._colors,r=0,i=n.length;r<i;++r)if(n[r].name===t){e[r]=!0;break}}}]),t}();e.a=h},function(t,e,n){"use strict";function r(t){return function(){var e=t.apply(this,arguments);return new h.a(function(t,n){function r(i,o){try{var a=e[i](o),s=a.value}catch(t){return void n(t)}if(!a.done)return h.a.resolve(s).then(function(t){r("next",t)},function(t){r("throw",t)});t(s)}return r("next")})}}function i(t){var e=!0,n=!1,r=void 0;try{for(var i,o=s()(v);!(e=(i=o.next()).done);e=!0){var a=i.value;if(a.wid===t)return a}}catch(t){n=!0,r=t}finally{try{!e&&o.return&&o.return()}finally{if(n)throw r}}return null}function o(t,e){if(!t)throw new Error("We need a window ID (wid)!");var n=i(t);n?(d()(n,e),n.reject&&"function"==typeof n.reject?(n.reject(n.rejectReason),n.reject=null,n.rejectReason=null):n.component&&n.resolve&&"function"==typeof n.resolve&&(n.resolve(n.component),n.resolve=null)):v.push(g({wid:t},e))}n.d(e,"c",function(){return y}),e.b=i,e.d=o;var a=n(16),s=n.n(a),u=n(24),l=n.n(u),c=n(23),h=n.n(c),f=n(4),d=n.n(f),p=n(198),m=n(267);n.d(e,"a",function(){return m.a});var g=d.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},v=[],y=function(){var t=r(l.a.mark(function t(e,n){var r,i,a,u,c,f,d,m;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Object(p.n)(),t.next=3,p.a.viewermanager.openViewer(e,n);case 3:for(r=t.sent,i=[],a=!0,u=!1,c=void 0,t.prev=8,f=function(){var t=m.value;t&&t.wid&&i.push(new h.a(function(e,n){o(t.wid,{resolve:e}),setTimeout(function(){o(t.wid,{reject:n,rejectReason:"Creating component took too long!"})},1e3)}))},d=s()(r);!(a=(m=d.next()).done);a=!0)f();t.next=17;break;case 13:t.prev=13,t.t0=t.catch(8),u=!0,c=t.t0;case 17:t.prev=17,t.prev=18,!a&&d.return&&d.return();case 20:if(t.prev=20,!u){t.next=23;break}throw c;case 23:return t.finish(20);case 24:return t.finish(17);case 25:return t.abrupt("return",h.a.all(i));case 26:case"end":return t.stop()}},t,this,[[8,13,17,25],[18,,20,24]])}));return function(e,n){return t.apply(this,arguments)}}()},function(t,e,n){t.exports=n.p+"assets/fonts/glyphicons-halflings-regular.eot"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"MEASUREMENT_CHANGED",function(){return r});var r="MEASUREMENT_CHANGED"},function(t,e,n){"use strict";function r(t,e){if(!(this instanceof r))return new r(t,e);this.files={},this.comment=null,this.root="",t&&this.load(t,e),this.clone=function(){var t=new r;for(var e in this)"function"!=typeof this[e]&&(t[e]=this[e]);return t}}var i=n(382);r.prototype=n(383),r.prototype.load=n(1455),r.support=n(175),r.defaults=n(625),r.utils=n(1459),r.base64={encode:function(t){return i.encode(t)},decode:function(t){return i.decode(t)}},r.compressions=n(384),t.exports=r},function(t,e,n){"use strict";function r(t,e,n,r){for(var i=65535&t|0,o=t>>>16&65535|0,a=0;0!==n;){a=n>2e3?2e3:n,n-=a;do{i=i+e[r++]|0,o=o+i|0}while(--a);i%=65521,o%=65521}return i|o<<16|0}t.exports=r},function(t,e,n){"use strict";function r(t,e,n,r){var o=i,a=r+n;t^=-1;for(var s=r;s<a;s++)t=t>>>8^o[255&(t^e[s])];return-1^t}var i=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();t.exports=r},function(t,e,n){"use strict";function r(t,e){if(e<65537&&(t.subarray&&a||!t.subarray&&o))return String.fromCharCode.apply(null,i.shrinkBuf(t,e));for(var n="",r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n}var i=n(122),o=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(t){o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){a=!1}for(var s=new i.Buf8(256),u=0;u<256;u++)s[u]=u>=252?6:u>=248?5:u>=240?4:u>=224?3:u>=192?2:1;s[254]=s[254]=1,e.string2buf=function(t){var e,n,r,o,a,s=t.length,u=0;for(o=0;o<s;o++)n=t.charCodeAt(o),55296==(64512&n)&&o+1<s&&56320==(64512&(r=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),u+=n<128?1:n<2048?2:n<65536?3:4;for(e=new i.Buf8(u),a=0,o=0;a<u;o++)n=t.charCodeAt(o),55296==(64512&n)&&o+1<s&&56320==(64512&(r=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),n<128?e[a++]=n:n<2048?(e[a++]=192|n>>>6,e[a++]=128|63&n):n<65536?(e[a++]=224|n>>>12,e[a++]=128|n>>>6&63,e[a++]=128|63&n):(e[a++]=240|n>>>18,e[a++]=128|n>>>12&63,e[a++]=128|n>>>6&63,e[a++]=128|63&n);return e},e.buf2binstring=function(t){return r(t,t.length)},e.binstring2buf=function(t){for(var e=new i.Buf8(t.length),n=0,r=e.length;n<r;n++)e[n]=t.charCodeAt(n);return e},e.buf2string=function(t,e){var n,i,o,a,u=e||t.length,l=new Array(2*u);for(i=0,n=0;n<u;)if((o=t[n++])<128)l[i++]=o;else if((a=s[o])>4)l[i++]=65533,n+=a-1;else{for(o&=2===a?31:3===a?15:7;a>1&&n<u;)o=o<<6|63&t[n++],a--;a>1?l[i++]=65533:o<65536?l[i++]=o:(o-=65536,l[i++]=55296|o>>10&1023,l[i++]=56320|1023&o)}return r(l,i)},e.utf8border=function(t,e){var n;for(e=e||t.length,e>t.length&&(e=t.length),n=e-1;n>=0&&128==(192&t[n]);)n--;return n<0?e:0===n?e:n+s[t[n]]>e?n:e}},function(t,e,n){"use strict";function r(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}t.exports=r},function(t,e,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(t,e,n){"use strict";e.LOCAL_FILE_HEADER="PK",e.CENTRAL_FILE_HEADER="PK",e.CENTRAL_DIRECTORY_END="PK",e.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",e.ZIP64_CENTRAL_DIRECTORY_END="PK",e.DATA_DESCRIPTOR="PK\b"},function(t,e,n){"use strict";e.base64=!1,e.binary=!1,e.dir=!1,e.createFolders=!1,e.date=null,e.compression=null,e.compressionOptions=null,e.comment=null,e.unixPermissions=null,e.dosPermissions=null},function(t,e,n){"use strict";function r(){this.compressedSize=0,this.uncompressedSize=0,this.crc32=0,this.compressionMethod=null,this.compressedContent=null}r.prototype={getContent:function(){return null},getCompressedContent:function(){return null}},t.exports=r},function(t,e,n){"use strict";for(var r=n(84),i=n(175),o=n(386),a=new Array(256),s=0;s<256;s++)a[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;a[254]=a[254]=1;var u=function(t){var e,n,r,o,a,s=t.length,u=0;for(o=0;o<s;o++)n=t.charCodeAt(o),55296==(64512&n)&&o+1<s&&56320==(64512&(r=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),u+=n<128?1:n<2048?2:n<65536?3:4;for(e=i.uint8array?new Uint8Array(u):new Array(u),a=0,o=0;a<u;o++)n=t.charCodeAt(o),55296==(64512&n)&&o+1<s&&56320==(64512&(r=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),n<128?e[a++]=n:n<2048?(e[a++]=192|n>>>6,e[a++]=128|63&n):n<65536?(e[a++]=224|n>>>12,e[a++]=128|n>>>6&63,e[a++]=128|63&n):(e[a++]=240|n>>>18,e[a++]=128|n>>>12&63,e[a++]=128|n>>>6&63,e[a++]=128|63&n);return e},l=function(t,e){var n;for(e=e||t.length,e>t.length&&(e=t.length),n=e-1;n>=0&&128==(192&t[n]);)n--;return n<0?e:0===n?e:n+a[t[n]]>e?n:e},c=function(t){var e,n,i,o,s=t.length,u=new Array(2*s);for(n=0,e=0;e<s;)if((i=t[e++])<128)u[n++]=i;else if((o=a[i])>4)u[n++]=65533,e+=o-1;else{for(i&=2===o?31:3===o?15:7;o>1&&e<s;)i=i<<6|63&t[e++],o--;o>1?u[n++]=65533:i<65536?u[n++]=i:(i-=65536,u[n++]=55296|i>>10&1023,u[n++]=56320|1023&i)}return u.length!==n&&(u.subarray?u=u.subarray(0,n):u.length=n),r.applyFromCharCode(u)};e.utf8encode=function(t){return i.nodebuffer?o(t,"utf-8"):u(t)},e.utf8decode=function(t){if(i.nodebuffer)return r.transformTo("nodebuffer",t).toString("utf-8");t=r.transformTo(i.uint8array?"uint8array":"array",t);for(var e=[],n=0,o=t.length;n<o;){var a=l(t,Math.min(n+65536,o));i.uint8array?e.push(c(t.subarray(n,a))):e.push(c(t.slice(n,a))),n=a}return e.join("")}},function(t,e,n){"use strict";function r(t,e){this.data=t,e||(this.data=o.string2binary(this.data)),this.length=this.data.length,this.index=0,this.zero=0}var i=n(629),o=n(84);r.prototype=new i,r.prototype.byteAt=function(t){return this.data.charCodeAt(this.zero+t)},r.prototype.lastIndexOfSignature=function(t){return this.data.lastIndexOf(t)-this.zero},r.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},t.exports=r},function(t,e,n){"use strict";function r(t){this.data=null,this.length=0,this.index=0,this.zero=0}var i=n(84);r.prototype={checkOffset:function(t){this.checkIndex(this.index+t)},checkIndex:function(t){if(this.length<this.zero+t||t<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+t+"). Corrupted zip ?")},setIndex:function(t){this.checkIndex(t),this.index=t},skip:function(t){this.setIndex(this.index+t)},byteAt:function(t){},readInt:function(t){var e,n=0;for(this.checkOffset(t),e=this.index+t-1;e>=this.index;e--)n=(n<<8)+this.byteAt(e);return this.index+=t,n},readString:function(t){return i.transformTo("string",this.readData(t))},readData:function(t){},lastIndexOfSignature:function(t){},readDate:function(){var t=this.readInt(4);return new Date(1980+(t>>25&127),(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1)}},t.exports=r},function(t,e,n){"use strict";function r(t){t&&(this.data=t,this.length=this.data.length,this.index=0,this.zero=0)}var i=n(631);r.prototype=new i,r.prototype.readData=function(t){if(this.checkOffset(t),0===t)return new Uint8Array(0);var e=this.data.subarray(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},t.exports=r},function(t,e,n){"use strict";function r(t){if(t){this.data=t,this.length=this.data.length,this.index=0,this.zero=0;for(var e=0;e<this.data.length;e++)t[e]=255&t[e]}}var i=n(629);r.prototype=new i,r.prototype.byteAt=function(t){return this.data[this.zero+t]},r.prototype.lastIndexOfSignature=function(t){for(var e=t.charCodeAt(0),n=t.charCodeAt(1),r=t.charCodeAt(2),i=t.charCodeAt(3),o=this.length-4;o>=0;--o)if(this.data[o]===e&&this.data[o+1]===n&&this.data[o+2]===r&&this.data[o+3]===i)return o-this.zero;return-1},r.prototype.readData=function(t){if(this.checkOffset(t),0===t)return[];var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},t.exports=r},function(t,e,n){"use strict";function r(){}function i(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=y,this.queue=[],this.outcome=void 0,t!==r&&u(this,t)}function o(t,e,n){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function a(t,e,n){p(function(){var r;try{r=e(n)}catch(e){return m.reject(t,e)}r===t?m.reject(t,new TypeError("Cannot resolve promise with itself")):m.resolve(t,r)})}function s(t){var e=t&&t.then;if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function u(t,e){function n(e){o||(o=!0,m.reject(t,e))}function r(e){o||(o=!0,m.resolve(t,e))}function i(){e(r,n)}var o=!1,a=l(i);"error"===a.status&&n(a.value)}function l(t,e){var n={};try{n.value=t(e),n.status="success"}catch(t){n.status="error",n.value=t}return n}function c(t){return t instanceof this?t:m.resolve(new this(r),t)}function h(t){var e=new this(r);return m.reject(e,t)}function f(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,i=!1;if(!n)return this.resolve([]);for(var o=new Array(n),a=0,s=-1,u=new this(r);++s<n;)!function(t,r){function s(t){o[r]=t,++a!==n||i||(i=!0,m.resolve(u,o))}e.resolve(t).then(s,function(t){i||(i=!0,m.reject(u,t))})}(t[s],s);return u}function d(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,i=!1;if(!n)return this.resolve([]);for(var o=-1,a=new this(r);++o<n;)!function(t){e.resolve(t).then(function(t){i||(i=!0,m.resolve(a,t))},function(t){i||(i=!0,m.reject(a,t))})}(t[o]);return a}var p=n(1463),m={},g=["REJECTED"],v=["FULFILLED"],y=["PENDING"];t.exports=i,i.prototype.catch=function(t){return this.then(null,t)},i.prototype.then=function(t,e){if("function"!=typeof t&&this.state===v||"function"!=typeof e&&this.state===g)return this;var n=new this.constructor(r);if(this.state!==y){a(n,this.state===v?t:e,this.outcome)}else this.queue.push(new o(n,t,e));return n},o.prototype.callFulfilled=function(t){m.resolve(this.promise,t)},o.prototype.otherCallFulfilled=function(t){a(this.promise,this.onFulfilled,t)},o.prototype.callRejected=function(t){m.reject(this.promise,t)},o.prototype.otherCallRejected=function(t){a(this.promise,this.onRejected,t)},m.resolve=function(t,e){var n=l(s,e);if("error"===n.status)return m.reject(t,n.value);var r=n.value;if(r)u(t,r);else{t.state=v,t.outcome=e;for(var i=-1,o=t.queue.length;++i<o;)t.queue[i].callFulfilled(e)}return t},m.reject=function(t,e){t.state=g,t.outcome=e;for(var n=-1,r=t.queue.length;++n<r;)t.queue[n].callRejected(e);return t},i.resolve=c,i.reject=h,i.all=f,i.race=d},function(t,e,n){n(387),n(838),n(421),n(841),t.exports=n(481)},function(t,e,n){n(635),n(638),n(639),n(640),n(641),n(642),n(643),n(644),n(645),n(646),n(647),n(648),n(649),n(650),n(651),n(652),n(654),n(655),n(656),n(657),n(658),n(659),n(660),n(661),n(662),n(663),n(664),n(665),n(666),n(667),n(668),n(669),n(670),n(671),n(672),n(673),n(674),n(675),n(676),n(677),n(678),n(679),n(680),n(681),n(682),n(683),n(684),n(685),n(686),n(687),n(688),n(689),n(690),n(691),n(692),n(693),n(694),n(695),n(696),n(697),n(698),n(699),n(700),n(701),n(702),n(703),n(704),n(705),n(706),n(707),n(708),n(709),n(710),n(711),n(712),n(713),n(714),n(716),n(717),n(719),n(720),n(721),n(722),n(723),n(724),n(725),n(727),n(728),n(729),n(730),n(731),n(732),n(733),n(734),n(735),n(736),n(737),n(738),n(739),n(296),n(740),n(741),n(405),n(742),n(743),n(744),n(745),n(746),n(408),n(410),n(411),n(747),n(748),n(749),n(750),n(751),n(752),n(753),n(754),n(755),n(756),n(757),n(758),n(759),n(760),n(761),n(762),n(763),n(764),n(765),n(766),n(767),n(768),n(769),n(770),n(771),n(772),n(773),n(774),n(775),n(776),n(777),n(778),n(779),n(780),n(781),n(782),n(783),n(784),n(785),n(786),n(787),n(788),n(789),n(790),n(791),n(792),n(793),n(794),n(795),n(796),n(797),n(798),n(799),n(800),n(801),n(802),n(803),n(804),n(805),n(806),n(807),n(808),n(809),n(810),n(811),n(812),n(813),n(814),n(815),n(816),n(817),n(818),n(819),n(820),n(821),n(822),n(823),n(824),n(825),n(826),n(827),n(828),n(829),n(832),n(833),t.exports=n(85)},function(t,e,n){"use strict";var r=n(21),i=n(61),o=n(40),a=n(2),s=n(63),u=n(111).KEY,l=n(25),c=n(215),h=n(149),f=n(124),d=n(35),p=n(389),m=n(276),g=n(636),v=n(637),y=n(218),b=n(20),w=n(64),x=n(86),_=n(123),E=n(127),M=n(392),S=n(68),T=n(41),C=n(112),I=S.f,O=T.f,A=M.f,L=r.Symbol,R=r.JSON,N=R&&R.stringify,P=d("_hidden"),k=d("toPrimitive"),D={}.propertyIsEnumerable,F=c("symbol-registry"),j=c("symbols"),U=c("op-symbols"),B=Object.prototype,z="function"==typeof L,V=r.QObject,G=!V||!V.prototype||!V.prototype.findChild,H=o&&l(function(){return 7!=E(O({},"a",{get:function(){return O(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=I(B,e);r&&delete B[e],O(t,e,n),r&&t!==B&&O(B,e,r)}:O,q=function(t){var e=j[t]=E(L.prototype);return e._k=t,e},W=z&&"symbol"==typeof L.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof L},Y=function(t,e,n){return t===B&&Y(U,e,n),b(t),e=x(e,!0),b(n),i(j,e)?(n.enumerable?(i(t,P)&&t[P][e]&&(t[P][e]=!1),n=E(n,{enumerable:_(0,!1)})):(i(t,P)||O(t,P,_(1,{})),t[P][e]=!0),H(t,e,n)):O(t,e,n)},X=function(t,e){b(t);for(var n,r=v(e=w(e)),i=0,o=r.length;o>i;)Y(t,n=r[i++],e[n]);return t},Z=function(t,e){return void 0===e?E(t):X(E(t),e)},K=function(t){var e=D.call(this,t=x(t,!0));return!(this===B&&i(j,t)&&!i(U,t))&&(!(e||!i(this,t)||!i(j,t)||i(this,P)&&this[P][t])||e)},$=function(t,e){if(t=w(t),e=x(e,!0),t!==B||!i(j,e)||i(U,e)){var n=I(t,e);return!n||!i(j,e)||i(t,P)&&t[P][e]||(n.enumerable=!0),n}},Q=function(t){for(var e,n=A(w(t)),r=[],o=0;n.length>o;)i(j,e=n[o++])||e==P||e==u||r.push(e);return r},J=function(t){for(var e,n=t===B,r=A(n?U:w(t)),o=[],a=0;r.length>a;)!i(j,e=r[a++])||n&&!i(B,e)||o.push(j[e]);return o};z||(L=function(){if(this instanceof L)throw TypeError("Symbol is not a constructor!");var t=f(arguments.length>0?arguments[0]:void 0),e=function(n){this===B&&e.call(U,n),i(this,P)&&i(this[P],t)&&(this[P][t]=!1),H(this,t,_(1,n))};return o&&G&&H(B,t,{configurable:!0,set:e}),q(t)},s(L.prototype,"toString",function(){return this._k}),S.f=$,T.f=Y,n(128).f=M.f=Q,n(177).f=K,n(217).f=J,o&&!n(125)&&s(B,"propertyIsEnumerable",K,!0),p.f=function(t){return q(d(t))}),a(a.G+a.W+a.F*!z,{Symbol:L});for(var tt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),et=0;tt.length>et;)d(tt[et++]);for(var nt=C(d.store),rt=0;nt.length>rt;)m(nt[rt++]);a(a.S+a.F*!z,"Symbol",{for:function(t){return i(F,t+="")?F[t]:F[t]=L(t)},keyFor:function(t){if(W(t))return g(F,t);throw TypeError(t+" is not a symbol!")},useSetter:function(){G=!0},useSimple:function(){G=!1}}),a(a.S+a.F*!z,"Object",{create:Z,defineProperty:Y,defineProperties:X,getOwnPropertyDescriptor:$,getOwnPropertyNames:Q,getOwnPropertySymbols:J}),R&&a(a.S+a.F*(!z||l(function(){var t=L();return"[null]"!=N([t])||"{}"!=N({a:t})||"{}"!=N(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!W(t)){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);return e=r[1],"function"==typeof e&&(n=e),!n&&y(e)||(e=function(t,e){if(n&&(e=n.call(this,t,e)),!W(e))return e}),r[1]=e,N.apply(R,r)}}}),L.prototype[k]||n(62)(L.prototype,k,L.prototype.valueOf),h(L,"Symbol"),h(Math,"Math",!0),h(r.JSON,"JSON",!0)},function(t,e,n){var r=n(112),i=n(64);t.exports=function(t,e){for(var n,o=i(t),a=r(o),s=a.length,u=0;s>u;)if(o[n=a[u++]]===e)return n}},function(t,e,n){var r=n(112),i=n(217),o=n(177);t.exports=function(t){var e=r(t),n=i.f;if(n)for(var a,s=n(t),u=o.f,l=0;s.length>l;)u.call(t,a=s[l++])&&e.push(a);return e}},function(t,e,n){var r=n(2);r(r.S,"Object",{create:n(127)})},function(t,e,n){var r=n(2);r(r.S+r.F*!n(40),"Object",{defineProperty:n(41).f})},function(t,e,n){var r=n(2);r(r.S+r.F*!n(40),"Object",{defineProperties:n(391)})},function(t,e,n){var r=n(64),i=n(68).f;n(89)("getOwnPropertyDescriptor",function(){return function(t,e){return i(r(t),e)}})},function(t,e,n){var r=n(45),i=n(69);n(89)("getPrototypeOf",function(){return function(t){return i(r(t))}})},function(t,e,n){var r=n(45),i=n(112);n(89)("keys",function(){return function(t){return i(r(t))}})},function(t,e,n){n(89)("getOwnPropertyNames",function(){return n(392).f})},function(t,e,n){var r=n(28),i=n(111).onFreeze;n(89)("freeze",function(t){return function(e){return t&&r(e)?t(i(e)):e}})},function(t,e,n){var r=n(28),i=n(111).onFreeze;n(89)("seal",function(t){return function(e){return t&&r(e)?t(i(e)):e}})},function(t,e,n){var r=n(28),i=n(111).onFreeze;n(89)("preventExtensions",function(t){return function(e){return t&&r(e)?t(i(e)):e}})},function(t,e,n){var r=n(28);n(89)("isFrozen",function(t){return function(e){return!r(e)||!!t&&t(e)}})},function(t,e,n){var r=n(28);n(89)("isSealed",function(t){return function(e){return!r(e)||!!t&&t(e)}})},function(t,e,n){var r=n(28);n(89)("isExtensible",function(t){return function(e){return!!r(e)&&(!t||t(e))}})},function(t,e,n){var r=n(2);r(r.S+r.F,"Object",{assign:n(393)})},function(t,e,n){var r=n(2);r(r.S,"Object",{is:n(653)})},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},function(t,e,n){var r=n(2);r(r.S,"Object",{setPrototypeOf:n(280).set})},function(t,e,n){"use strict";var r=n(178),i={};i[n(35)("toStringTag")]="z",i+""!="[object z]"&&n(63)(Object.prototype,"toString",function(){return"[object "+r(this)+"]"},!0)},function(t,e,n){var r=n(2);r(r.P,"Function",{bind:n(394)})},function(t,e,n){var r=n(41).f,i=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in i||n(40)&&r(i,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},function(t,e,n){"use strict";var r=n(28),i=n(69),o=n(35)("hasInstance"),a=Function.prototype;o in a||n(41).f(a,o,{value:function(t){if("function"!=typeof this||!r(t))return!1;if(!r(this.prototype))return t instanceof this;for(;t=i(t);)if(this.prototype===t)return!0;return!1}})},function(t,e,n){var r=n(2),i=n(395);r(r.G+r.F*(parseInt!=i),{parseInt:i})},function(t,e,n){var r=n(2),i=n(396);r(r.G+r.F*(parseFloat!=i),{parseFloat:i})},function(t,e,n){"use strict";var r=n(21),i=n(61),o=n(76),a=n(282),s=n(86),u=n(25),l=n(128).f,c=n(68).f,h=n(41).f,f=n(150).trim,d=r.Number,p=d,m=d.prototype,g="Number"==o(n(127)(m)),v="trim"in String.prototype,y=function(t){var e=s(t,!1);if("string"==typeof e&&e.length>2){e=v?e.trim():f(e,3);var n,r,i,o=e.charCodeAt(0);if(43===o||45===o){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+e}for(var a,u=e.slice(2),l=0,c=u.length;l<c;l++)if((a=u.charCodeAt(l))<48||a>i)return NaN;return parseInt(u,r)}}return+e};if(!d(" 0o1")||!d("0b1")||d("+0x1")){d=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof d&&(g?u(function(){m.valueOf.call(n)}):"Number"!=o(n))?a(new p(y(e)),n,d):y(e)};for(var b,w=n(40)?l(p):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),x=0;w.length>x;x++)i(p,b=w[x])&&!i(d,b)&&h(d,b,c(p,b));d.prototype=m,m.constructor=d,n(63)(r,"Number",d)}},function(t,e,n){"use strict";var r=n(2),i=n(88),o=n(397),a=n(283),s=1..toFixed,u=Math.floor,l=[0,0,0,0,0,0],c="Number.toFixed: incorrect invocation!",h=function(t,e){for(var n=-1,r=e;++n<6;)r+=t*l[n],l[n]=r%1e7,r=u(r/1e7)},f=function(t){for(var e=6,n=0;--e>=0;)n+=l[e],l[e]=u(n/t),n=n%t*1e7},d=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==l[t]){var n=String(l[t]);e=""===e?n:e+a.call("0",7-n.length)+n}return e},p=function(t,e,n){return 0===e?n:e%2==1?p(t,e-1,n*t):p(t*t,e/2,n)},m=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e};r(r.P+r.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(25)(function(){s.call({})})),"Number",{toFixed:function(t){var e,n,r,s,u=o(this,c),l=i(t),g="",v="0";if(l<0||l>20)throw RangeError(c);if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return String(u);if(u<0&&(g="-",u=-u),u>1e-21)if(e=m(u*p(2,69,1))-69,n=e<0?u*p(2,-e,1):u/p(2,e,1),n*=4503599627370496,(e=52-e)>0){for(h(0,n),r=l;r>=7;)h(1e7,0),r-=7;for(h(p(10,r,1),0),r=e-1;r>=23;)f(1<<23),r-=23;f(1<<r),h(1,1),f(2),v=d()}else h(0,n),h(1<<-e,0),v=d()+a.call("0",l);return l>0?(s=v.length,v=g+(s<=l?"0."+a.call("0",l-s)+v:v.slice(0,s-l)+"."+v.slice(s-l))):v=g+v,v}})},function(t,e,n){"use strict";var r=n(2),i=n(25),o=n(397),a=1..toPrecision;r(r.P+r.F*(i(function(){return"1"!==a.call(1,void 0)})||!i(function(){a.call({})})),"Number",{toPrecision:function(t){var e=o(this,"Number#toPrecision: incorrect invocation!");return void 0===t?a.call(e):a.call(e,t)}})},function(t,e,n){var r=n(2);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,e,n){var r=n(2),i=n(21).isFinite;r(r.S,"Number",{isFinite:function(t){return"number"==typeof t&&i(t)}})},function(t,e,n){var r=n(2);r(r.S,"Number",{isInteger:n(398)})},function(t,e,n){var r=n(2);r(r.S,"Number",{isNaN:function(t){return t!=t}})},function(t,e,n){var r=n(2),i=n(398),o=Math.abs;r(r.S,"Number",{isSafeInteger:function(t){return i(t)&&o(t)<=9007199254740991}})},function(t,e,n){var r=n(2);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,n){var r=n(2);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e,n){var r=n(2),i=n(396);r(r.S+r.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},function(t,e,n){var r=n(2),i=n(395);r(r.S+r.F*(Number.parseInt!=i),"Number",{parseInt:i})},function(t,e,n){var r=n(2),i=n(399),o=Math.sqrt,a=Math.acosh;r(r.S+r.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:i(t-1+o(t-1)*o(t+1))}})},function(t,e,n){function r(t){return isFinite(t=+t)&&0!=t?t<0?-r(-t):Math.log(t+Math.sqrt(t*t+1)):t}var i=n(2),o=Math.asinh;i(i.S+i.F*!(o&&1/o(0)>0),"Math",{asinh:r})},function(t,e,n){var r=n(2),i=Math.atanh;r(r.S+r.F*!(i&&1/i(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},function(t,e,n){var r=n(2),i=n(284);r(r.S,"Math",{cbrt:function(t){return i(t=+t)*Math.pow(Math.abs(t),1/3)}})},function(t,e,n){var r=n(2);r(r.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},function(t,e,n){var r=n(2),i=Math.exp;r(r.S,"Math",{cosh:function(t){return(i(t=+t)+i(-t))/2}})},function(t,e,n){var r=n(2),i=n(285);r(r.S+r.F*(i!=Math.expm1),"Math",{expm1:i})},function(t,e,n){var r=n(2);r(r.S,"Math",{fround:n(400)})},function(t,e,n){var r=n(2),i=Math.abs;r(r.S,"Math",{hypot:function(t,e){for(var n,r,o=0,a=0,s=arguments.length,u=0;a<s;)n=i(arguments[a++]),u<n?(r=u/n,o=o*r*r+1,u=n):n>0?(r=n/u,o+=r*r):o+=n;return u===1/0?1/0:u*Math.sqrt(o)}})},function(t,e,n){var r=n(2),i=Math.imul;r(r.S+r.F*n(25)(function(){return-5!=i(4294967295,5)||2!=i.length}),"Math",{imul:function(t,e){var n=+t,r=+e,i=65535&n,o=65535&r;return 0|i*o+((65535&n>>>16)*o+i*(65535&r>>>16)<<16>>>0)}})},function(t,e,n){var r=n(2);r(r.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},function(t,e,n){var r=n(2);r(r.S,"Math",{log1p:n(399)})},function(t,e,n){var r=n(2);r(r.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},function(t,e,n){var r=n(2);r(r.S,"Math",{sign:n(284)})},function(t,e,n){var r=n(2),i=n(285),o=Math.exp;r(r.S+r.F*n(25)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(i(t)-i(-t))/2:(o(t-1)-o(-t-1))*(Math.E/2)}})},function(t,e,n){var r=n(2),i=n(285),o=Math.exp;r(r.S,"Math",{tanh:function(t){var e=i(t=+t),n=i(-t);return e==1/0?1:n==1/0?-1:(e-n)/(o(t)+o(-t))}})},function(t,e,n){var r=n(2);r(r.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},function(t,e,n){var r=n(2),i=n(126),o=String.fromCharCode,a=String.fromCodePoint;r(r.S+r.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(t){for(var e,n=[],r=arguments.length,a=0;r>a;){if(e=+arguments[a++],i(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?o(e):o(55296+((e-=65536)>>10),e%1024+56320))}return n.join("")}})},function(t,e,n){var r=n(2),i=n(64),o=n(42);r(r.S,"String",{raw:function(t){for(var e=i(t.raw),n=o(e.length),r=arguments.length,a=[],s=0;n>s;)a.push(String(e[s++])),s<r&&a.push(String(arguments[s]));return a.join("")}})},function(t,e,n){"use strict";n(150)("trim",function(t){return function(){return t(this,3)}})},function(t,e,n){"use strict";var r=n(286)(!0);n(287)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){"use strict";var r=n(2),i=n(286)(!1);r(r.P,"String",{codePointAt:function(t){return i(this,t)}})},function(t,e,n){"use strict";var r=n(2),i=n(42),o=n(289),a="".endsWith;r(r.P+r.F*n(290)("endsWith"),"String",{endsWith:function(t){var e=o(this,t,"endsWith"),n=arguments.length>1?arguments[1]:void 0,r=i(e.length),s=void 0===n?r:Math.min(i(n),r),u=String(t);return a?a.call(e,u,s):e.slice(s-u.length,s)===u}})},function(t,e,n){"use strict";var r=n(2),i=n(289);r(r.P+r.F*n(290)("includes"),"String",{includes:function(t){return!!~i(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var r=n(2);r(r.P,"String",{repeat:n(283)})},function(t,e,n){"use strict";var r=n(2),i=n(42),o=n(289),a="".startsWith;r(r.P+r.F*n(290)("startsWith"),"String",{startsWith:function(t){var e=o(this,t,"startsWith"),n=i(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return a?a.call(e,r,n):e.slice(n,n+r.length)===r}})},function(t,e,n){"use strict";n(65)("anchor",function(t){return function(e){return t(this,"a","name",e)}})},function(t,e,n){"use strict";n(65)("big",function(t){return function(){return t(this,"big","","")}})},function(t,e,n){"use strict";n(65)("blink",function(t){return function(){return t(this,"blink","","")}})},function(t,e,n){"use strict";n(65)("bold",function(t){return function(){return t(this,"b","","")}})},function(t,e,n){"use strict";n(65)("fixed",function(t){return function(){return t(this,"tt","","")}})},function(t,e,n){"use strict";n(65)("fontcolor",function(t){return function(e){return t(this,"font","color",e)}})},function(t,e,n){"use strict";n(65)("fontsize",function(t){return function(e){return t(this,"font","size",e)}})},function(t,e,n){"use strict";n(65)("italics",function(t){return function(){return t(this,"i","","")}})},function(t,e,n){"use strict";n(65)("link",function(t){return function(e){return t(this,"a","href",e)}})},function(t,e,n){"use strict";n(65)("small",function(t){return function(){return t(this,"small","","")}})},function(t,e,n){"use strict";n(65)("strike",function(t){return function(){return t(this,"strike","","")}})},function(t,e,n){"use strict";n(65)("sub",function(t){return function(){return t(this,"sub","","")}})},function(t,e,n){"use strict";n(65)("sup",function(t){return function(){return t(this,"sup","","")}})},function(t,e,n){var r=n(2);r(r.S,"Date",{now:function(){return(new Date).getTime()}})},function(t,e,n){"use strict";var r=n(2),i=n(45),o=n(86);r(r.P+r.F*n(25)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(t){var e=i(this),n=o(e);return"number"!=typeof n||isFinite(n)?e.toISOString():null}})},function(t,e,n){var r=n(2),i=n(715);r(r.P+r.F*(Date.prototype.toISOString!==i),"Date",{toISOString:i})},function(t,e,n){"use strict";var r=n(25),i=Date.prototype.getTime,o=Date.prototype.toISOString,a=function(t){return t>9?t:"0"+t};t.exports=r(function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-5e13-1))})||!r(function(){o.call(new Date(NaN))})?function(){if(!isFinite(i.call(this)))throw RangeError("Invalid time value");var t=this,e=t.getUTCFullYear(),n=t.getUTCMilliseconds(),r=e<0?"-":e>9999?"+":"";return r+("00000"+Math.abs(e)).slice(r?-6:-4)+"-"+a(t.getUTCMonth()+1)+"-"+a(t.getUTCDate())+"T"+a(t.getUTCHours())+":"+a(t.getUTCMinutes())+":"+a(t.getUTCSeconds())+"."+(n>99?n:"0"+a(n))+"Z"}:o},function(t,e,n){var r=Date.prototype,i=r.toString,o=r.getTime;new Date(NaN)+""!="Invalid Date"&&n(63)(r,"toString",function(){var t=o.call(this);return t===t?i.call(this):"Invalid Date"})},function(t,e,n){var r=n(35)("toPrimitive"),i=Date.prototype;r in i||n(62)(i,r,n(718))},function(t,e,n){"use strict";var r=n(20),i=n(86);t.exports=function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return i(r(this),"number"!=t)}},function(t,e,n){var r=n(2);r(r.S,"Array",{isArray:n(218)})},function(t,e,n){"use strict";var r=n(75),i=n(2),o=n(45),a=n(401),s=n(291),u=n(42),l=n(292),c=n(293);i(i.S+i.F*!n(221)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,i,h,f=o(t),d="function"==typeof this?this:Array,p=arguments.length,m=p>1?arguments[1]:void 0,g=void 0!==m,v=0,y=c(f);if(g&&(m=r(m,p>2?arguments[2]:void 0,2)),void 0==y||d==Array&&s(y))for(e=u(f.length),n=new d(e);e>v;v++)l(n,v,g?m(f[v],v):f[v]);else for(h=y.call(f),n=new d;!(i=h.next()).done;v++)l(n,v,g?a(h,m,[i.value,v],!0):i.value);return n.length=v,n}})},function(t,e,n){"use strict";var r=n(2),i=n(292);r(r.S+r.F*n(25)(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);e>t;)i(n,t,arguments[t++]);return n.length=e,n}})},function(t,e,n){"use strict";var r=n(2),i=n(64),o=[].join;r(r.P+r.F*(n(176)!=Object||!n(77)(o)),"Array",{join:function(t){return o.call(i(this),void 0===t?",":t)}})},function(t,e,n){"use strict";var r=n(2),i=n(279),o=n(76),a=n(126),s=n(42),u=[].slice;r(r.P+r.F*n(25)(function(){i&&u.call(i)}),"Array",{slice:function(t,e){var n=s(this.length),r=o(this);if(e=void 0===e?n:e,"Array"==r)return u.call(this,t,e);for(var i=a(t,n),l=a(e,n),c=s(l-i),h=Array(c),f=0;f<c;f++)h[f]="String"==r?this.charAt(i+f):this[i+f];return h}})},function(t,e,n){"use strict";var r=n(2),i=n(50),o=n(45),a=n(25),s=[].sort,u=[1,2,3];r(r.P+r.F*(a(function(){u.sort(void 0)})||!a(function(){u.sort(null)})||!n(77)(s)),"Array",{sort:function(t){return void 0===t?s.call(o(this)):s.call(o(this),i(t))}})},function(t,e,n){"use strict";var r=n(2),i=n(90)(0),o=n(77)([].forEach,!0);r(r.P+r.F*!o,"Array",{forEach:function(t){return i(this,t,arguments[1])}})},function(t,e,n){var r=n(28),i=n(218),o=n(35)("species");t.exports=function(t){var e;return i(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!i(e.prototype)||(e=void 0),r(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){"use strict";var r=n(2),i=n(90)(1);r(r.P+r.F*!n(77)([].map,!0),"Array",{map:function(t){return i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(2),i=n(90)(2);r(r.P+r.F*!n(77)([].filter,!0),"Array",{filter:function(t){return i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(2),i=n(90)(3);r(r.P+r.F*!n(77)([].some,!0),"Array",{some:function(t){return i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(2),i=n(90)(4);r(r.P+r.F*!n(77)([].every,!0),"Array",{every:function(t){return i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(2),i=n(402);r(r.P+r.F*!n(77)([].reduce,!0),"Array",{reduce:function(t){return i(this,t,arguments.length,arguments[1],!1)}})},function(t,e,n){"use strict";var r=n(2),i=n(402);r(r.P+r.F*!n(77)([].reduceRight,!0),"Array",{reduceRight:function(t){return i(this,t,arguments.length,arguments[1],!0)}})},function(t,e,n){"use strict";var r=n(2),i=n(216)(!1),o=[].indexOf,a=!!o&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(a||!n(77)(o)),"Array",{indexOf:function(t){return a?o.apply(this,arguments)||0:i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(2),i=n(64),o=n(88),a=n(42),s=[].lastIndexOf,u=!!s&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(u||!n(77)(s)),"Array",{lastIndexOf:function(t){if(u)return s.apply(this,arguments)||0;var e=i(this),n=a(e.length),r=n-1;for(arguments.length>1&&(r=Math.min(r,o(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in e&&e[r]===t)return r||0;return-1}})},function(t,e,n){var r=n(2);r(r.P,"Array",{copyWithin:n(403)}),n(113)("copyWithin")},function(t,e,n){var r=n(2);r(r.P,"Array",{fill:n(295)}),n(113)("fill")},function(t,e,n){"use strict";var r=n(2),i=n(90)(5),o=!0;"find"in[]&&Array(1).find(function(){o=!1}),r(r.P+r.F*o,"Array",{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(113)("find")},function(t,e,n){"use strict";var r=n(2),i=n(90)(6),o="findIndex",a=!0;o in[]&&Array(1)[o](function(){a=!1}),r(r.P+r.F*a,"Array",{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(113)(o)},function(t,e,n){n(129)("Array")},function(t,e,n){var r=n(21),i=n(282),o=n(41).f,a=n(128).f,s=n(220),u=n(222),l=r.RegExp,c=l,h=l.prototype,f=/a/g,d=/a/g,p=new l(f)!==f;if(n(40)&&(!p||n(25)(function(){return d[n(35)("match")]=!1,l(f)!=f||l(d)==d||"/a/i"!=l(f,"i")}))){l=function(t,e){var n=this instanceof l,r=s(t),o=void 0===e;return!n&&r&&t.constructor===l&&o?t:i(p?new c(r&&!o?t.source:t,e):c((r=t instanceof l)?t.source:t,r&&o?u.call(t):e),n?this:h,l)};for(var m=a(c),g=0;m.length>g;)!function(t){t in l||o(l,t,{configurable:!0,get:function(){return c[t]},set:function(e){c[t]=e}})}(m[g++]);h.constructor=l,l.prototype=h,n(63)(r,"RegExp",l)}n(129)("RegExp")},function(t,e,n){"use strict";n(405);var r=n(20),i=n(222),o=n(40),a=/./.toString,s=function(t){n(63)(RegExp.prototype,"toString",t,!0)};n(25)(function(){return"/a/b"!=a.call({source:"a",flags:"b"})})?s(function(){var t=r(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?i.call(t):void 0)}):"toString"!=a.name&&s(function(){return a.call(this)})},function(t,e,n){n(223)("match",1,function(t,e,n){return[function(n){"use strict";var r=t(this),i=void 0==n?void 0:n[e];return void 0!==i?i.call(n,r):new RegExp(n)[e](String(r))},n]})},function(t,e,n){n(223)("replace",2,function(t,e,n){return[function(r,i){"use strict";var o=t(this),a=void 0==r?void 0:r[e];return void 0!==a?a.call(r,o,i):n.call(String(o),r,i)},n]})},function(t,e,n){n(223)("search",1,function(t,e,n){return[function(n){"use strict";var r=t(this),i=void 0==n?void 0:n[e];return void 0!==i?i.call(n,r):new RegExp(n)[e](String(r))},n]})},function(t,e,n){n(223)("split",2,function(t,e,r){"use strict";var i=n(220),o=r,a=[].push,s="length";if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1)[s]||2!="ab".split(/(?:ab)*/)[s]||4!=".".split(/(.?)(.?)/)[s]||".".split(/()()/)[s]>1||"".split(/.?/)[s]){var u=void 0===/()??/.exec("")[1];r=function(t,e){var n=String(this);if(void 0===t&&0===e)return[];if(!i(t))return o.call(n,t,e);var r,l,c,h,f,d=[],p=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),m=0,g=void 0===e?4294967295:e>>>0,v=new RegExp(t.source,p+"g");for(u||(r=new RegExp("^"+v.source+"$(?!\\s)",p));(l=v.exec(n))&&!((c=l.index+l[0][s])>m&&(d.push(n.slice(m,l.index)),!u&&l[s]>1&&l[0].replace(r,function(){for(f=1;f<arguments[s]-2;f++)void 0===arguments[f]&&(l[f]=void 0)}),l[s]>1&&l.index<n[s]&&a.apply(d,l.slice(1)),h=l[0][s],m=c,d[s]>=g));)v.lastIndex===l.index&&v.lastIndex++;return m===n[s]?!h&&v.test("")||d.push(""):d.push(n.slice(m)),d[s]>g?d.slice(0,g):d}}else"0".split(void 0,0)[s]&&(r=function(t,e){return void 0===t&&0===e?[]:o.call(this,t,e)});return[function(n,i){var o=t(this),a=void 0==n?void 0:n[e];return void 0!==a?a.call(n,o,i):r.call(String(o),n,i)},r]})},function(t,e,n){"use strict";var r,i,o,a,s=n(125),u=n(21),l=n(75),c=n(178),h=n(2),f=n(28),d=n(50),p=n(130),m=n(131),g=n(224),v=n(297).set,y=n(298)(),b=n(299),w=n(406),x=n(407),_=u.TypeError,E=u.process,M=u.Promise,S="process"==c(E),T=function(){},C=i=b.f,I=!!function(){try{var t=M.resolve(1),e=(t.constructor={})[n(35)("species")]=function(t){t(T,T)};return(S||"function"==typeof PromiseRejectionEvent)&&t.then(T)instanceof e}catch(t){}}(),O=s?function(t,e){return t===e||t===M&&e===a}:function(t,e){return t===e},A=function(t){var e;return!(!f(t)||"function"!=typeof(e=t.then))&&e},L=function(t,e){if(!t._n){t._n=!0;var n=t._c;y(function(){for(var r=t._v,i=1==t._s,o=0;n.length>o;)!function(e){var n,o,a=i?e.ok:e.fail,s=e.resolve,u=e.reject,l=e.domain;try{a?(i||(2==t._h&&P(t),t._h=1),!0===a?n=r:(l&&l.enter(),n=a(r),l&&l.exit()),n===e.promise?u(_("Promise-chain cycle")):(o=A(n))?o.call(n,s,u):s(n)):u(r)}catch(t){u(t)}}(n[o++]);t._c=[],t._n=!1,e&&!t._h&&R(t)})}},R=function(t){v.call(u,function(){var e,n,r,i=t._v,o=N(t);if(o&&(e=w(function(){S?E.emit("unhandledRejection",i,t):(n=u.onunhandledrejection)?n({promise:t,reason:i}):(r=u.console)&&r.error&&r.error("Unhandled promise rejection",i)}),t._h=S||N(t)?2:1),t._a=void 0,o&&e.e)throw e.v})},N=function(t){if(1==t._h)return!1;for(var e,n=t._a||t._c,r=0;n.length>r;)if(e=n[r++],e.fail||!N(e.promise))return!1;return!0},P=function(t){v.call(u,function(){var e;S?E.emit("rejectionHandled",t):(e=u.onrejectionhandled)&&e({promise:t,reason:t._v})})},k=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),L(e,!0))},D=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw _("Promise can't be resolved itself");(e=A(t))?y(function(){var r={_w:n,_d:!1};try{e.call(t,l(D,r,1),l(k,r,1))}catch(t){k.call(r,t)}}):(n._v=t,n._s=1,L(n,!1))}catch(t){k.call({_w:n,_d:!1},t)}}};I||(M=function(t){p(this,M,"Promise","_h"),d(t),r.call(this);try{t(l(D,this,1),l(k,this,1))}catch(t){k.call(this,t)}},r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=n(132)(M.prototype,{then:function(t,e){var n=C(g(this,M));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=S?E.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&L(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new r;this.promise=t,this.resolve=l(D,t,1),this.reject=l(k,t,1)},b.f=C=function(t){return O(M,t)?new o(t):i(t)}),h(h.G+h.W+h.F*!I,{Promise:M}),n(149)(M,"Promise"),n(129)("Promise"),a=n(85).Promise,h(h.S+h.F*!I,"Promise",{reject:function(t){var e=C(this);return(0,e.reject)(t),e.promise}}),h(h.S+h.F*(s||!I),"Promise",{resolve:function(t){return t instanceof M&&O(t.constructor,this)?t:x(this,t)}}),h(h.S+h.F*!(I&&n(221)(function(t){M.all(t).catch(T)})),"Promise",{all:function(t){var e=this,n=C(e),r=n.resolve,i=n.reject,o=w(function(){var n=[],o=0,a=1;m(t,!1,function(t){var s=o++,u=!1;n.push(void 0),a++,e.resolve(t).then(function(t){u||(u=!0,n[s]=t,--a||r(n))},i)}),--a||r(n)});return o.e&&i(o.v),n.promise},race:function(t){var e=this,n=C(e),r=n.reject,i=w(function(){m(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}})},function(t,e,n){"use strict";var r=n(412),i=n(152);n(225)("WeakSet",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return r.def(i(this,"WeakSet"),t,!0)}},r,!1,!0)},function(t,e,n){"use strict";var r=n(2),i=n(226),o=n(300),a=n(20),s=n(126),u=n(42),l=n(28),c=n(21).ArrayBuffer,h=n(224),f=o.ArrayBuffer,d=o.DataView,p=i.ABV&&c.isView,m=f.prototype.slice,g=i.VIEW;r(r.G+r.W+r.F*(c!==f),{ArrayBuffer:f}),r(r.S+r.F*!i.CONSTR,"ArrayBuffer",{isView:function(t){return p&&p(t)||l(t)&&g in t}}),r(r.P+r.U+r.F*n(25)(function(){return!new f(2).slice(1,void 0).byteLength}),"ArrayBuffer",{slice:function(t,e){if(void 0!==m&&void 0===e)return m.call(a(this),t);for(var n=a(this).byteLength,r=s(t,n),i=s(void 0===e?n:e,n),o=new(h(this,f))(u(i-r)),l=new d(this),c=new d(o),p=0;r<i;)c.setUint8(p++,l.getUint8(r++));return o}}),n(129)("ArrayBuffer")},function(t,e,n){var r=n(2);r(r.G+r.W+r.F*!n(226).ABV,{DataView:n(300).DataView})},function(t,e,n){n(97)("Int8",1,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(97)("Uint8",1,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(97)("Uint8",1,function(t){return function(e,n,r){return t(this,e,n,r)}},!0)},function(t,e,n){n(97)("Int16",2,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(97)("Uint16",2,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(97)("Int32",4,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(97)("Uint32",4,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(97)("Float32",4,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(97)("Float64",8,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){var r=n(2),i=n(50),o=n(20),a=(n(21).Reflect||{}).apply,s=Function.apply;r(r.S+r.F*!n(25)(function(){a(function(){})}),"Reflect",{apply:function(t,e,n){var r=i(t),u=o(n);return a?a(r,e,u):s.call(r,e,u)}})},function(t,e,n){var r=n(2),i=n(127),o=n(50),a=n(20),s=n(28),u=n(25),l=n(394),c=(n(21).Reflect||{}).construct,h=u(function(){function t(){}return!(c(function(){},[],t)instanceof t)}),f=!u(function(){c(function(){})});r(r.S+r.F*(h||f),"Reflect",{construct:function(t,e){o(t),a(e);var n=arguments.length<3?t:o(arguments[2]);if(f&&!h)return c(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return r.push.apply(r,e),new(l.apply(t,r))}var u=n.prototype,d=i(s(u)?u:Object.prototype),p=Function.apply.call(t,d,e);return s(p)?p:d}})},function(t,e,n){var r=n(41),i=n(2),o=n(20),a=n(86);i(i.S+i.F*n(25)(function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(t,e,n){o(t),e=a(e,!0),o(n);try{return r.f(t,e,n),!0}catch(t){return!1}}})},function(t,e,n){var r=n(2),i=n(68).f,o=n(20);r(r.S,"Reflect",{deleteProperty:function(t,e){var n=i(o(t),e);return!(n&&!n.configurable)&&delete t[e]}})},function(t,e,n){"use strict";var r=n(2),i=n(20),o=function(t){this._t=i(t),this._i=0;var e,n=this._k=[];for(e in t)n.push(e)};n(288)(o,"Object",function(){var t,e=this,n=e._k;do{if(e._i>=n.length)return{value:void 0,done:!0}}while(!((t=n[e._i++])in e._t));return{value:t,done:!1}}),r(r.S,"Reflect",{enumerate:function(t){return new o(t)}})},function(t,e,n){function r(t,e){var n,s,c=arguments.length<3?t:arguments[2];return l(t)===c?t[e]:(n=i.f(t,e))?a(n,"value")?n.value:void 0!==n.get?n.get.call(c):void 0:u(s=o(t))?r(s,e,c):void 0}var i=n(68),o=n(69),a=n(61),s=n(2),u=n(28),l=n(20);s(s.S,"Reflect",{get:r})},function(t,e,n){var r=n(68),i=n(2),o=n(20);i(i.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return r.f(o(t),e)}})},function(t,e,n){var r=n(2),i=n(69),o=n(20);r(r.S,"Reflect",{getPrototypeOf:function(t){return i(o(t))}})},function(t,e,n){var r=n(2);r(r.S,"Reflect",{has:function(t,e){return e in t}})},function(t,e,n){var r=n(2),i=n(20),o=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(t){return i(t),!o||o(t)}})},function(t,e,n){var r=n(2);r(r.S,"Reflect",{ownKeys:n(414)})},function(t,e,n){var r=n(2),i=n(20),o=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(t){i(t);try{return o&&o(t),!0}catch(t){return!1}}})},function(t,e,n){function r(t,e,n){var u,f,d=arguments.length<4?t:arguments[3],p=o.f(c(t),e);if(!p){if(h(f=a(t)))return r(f,e,n,d);p=l(0)}return s(p,"value")?!(!1===p.writable||!h(d))&&(u=o.f(d,e)||l(0),u.value=n,i.f(d,e,u),!0):void 0!==p.set&&(p.set.call(d,n),!0)}var i=n(41),o=n(68),a=n(69),s=n(61),u=n(2),l=n(123),c=n(20),h=n(28);u(u.S,"Reflect",{set:r})},function(t,e,n){var r=n(2),i=n(280);i&&r(r.S,"Reflect",{setPrototypeOf:function(t,e){i.check(t,e);try{return i.set(t,e),!0}catch(t){return!1}}})},function(t,e,n){"use strict";var r=n(2),i=n(216)(!0);r(r.P,"Array",{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(113)("includes")},function(t,e,n){"use strict";var r=n(2),i=n(415),o=n(45),a=n(42),s=n(50),u=n(294);r(r.P,"Array",{flatMap:function(t){var e,n,r=o(this);return s(t),e=a(r.length),n=u(r,0),i(n,r,r,e,0,1,t,arguments[1]),n}}),n(113)("flatMap")},function(t,e,n){"use strict";var r=n(2),i=n(415),o=n(45),a=n(42),s=n(88),u=n(294);r(r.P,"Array",{flatten:function(){var t=arguments[0],e=o(this),n=a(e.length),r=u(e,0);return i(r,e,e,n,0,void 0===t?1:s(t)),r}}),n(113)("flatten")},function(t,e,n){"use strict";var r=n(2),i=n(286)(!0);r(r.P,"String",{at:function(t){return i(this,t)}})},function(t,e,n){"use strict";var r=n(2),i=n(416);r(r.P,"String",{padStart:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},function(t,e,n){"use strict";var r=n(2),i=n(416);r(r.P,"String",{padEnd:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},function(t,e,n){"use strict";n(150)("trimLeft",function(t){return function(){return t(this,1)}},"trimStart")},function(t,e,n){"use strict";n(150)("trimRight",function(t){return function(){return t(this,2)}},"trimEnd")},function(t,e,n){"use strict";var r=n(2),i=n(87),o=n(42),a=n(220),s=n(222),u=RegExp.prototype,l=function(t,e){this._r=t,this._s=e};n(288)(l,"RegExp String",function(){var t=this._r.exec(this._s);return{value:t,done:null===t}}),r(r.P,"String",{matchAll:function(t){if(i(this),!a(t))throw TypeError(t+" is not a regexp!");var e=String(this),n="flags"in u?String(t.flags):s.call(t),r=new RegExp(t.source,~n.indexOf("g")?n:"g"+n);return r.lastIndex=o(t.lastIndex),new l(r,e)}})},function(t,e,n){n(276)("asyncIterator")},function(t,e,n){n(276)("observable")},function(t,e,n){var r=n(2),i=n(414),o=n(64),a=n(68),s=n(292);r(r.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,n,r=o(t),u=a.f,l=i(r),c={},h=0;l.length>h;)void 0!==(n=u(r,e=l[h++]))&&s(c,e,n);return c}})},function(t,e,n){var r=n(2),i=n(417)(!1);r(r.S,"Object",{values:function(t){return i(t)}})},function(t,e,n){var r=n(2),i=n(417)(!0);r(r.S,"Object",{entries:function(t){return i(t)}})},function(t,e,n){"use strict";var r=n(2),i=n(45),o=n(50),a=n(41);n(40)&&r(r.P+n(227),"Object",{__defineGetter__:function(t,e){a.f(i(this),t,{get:o(e),enumerable:!0,configurable:!0})}})},function(t,e,n){"use strict";var r=n(2),i=n(45),o=n(50),a=n(41);n(40)&&r(r.P+n(227),"Object",{__defineSetter__:function(t,e){a.f(i(this),t,{set:o(e),enumerable:!0,configurable:!0})}})},function(t,e,n){"use strict";var r=n(2),i=n(45),o=n(86),a=n(69),s=n(68).f;n(40)&&r(r.P+n(227),"Object",{__lookupGetter__:function(t){var e,n=i(this),r=o(t,!0);do{if(e=s(n,r))return e.get}while(n=a(n))}})},function(t,e,n){"use strict";var r=n(2),i=n(45),o=n(86),a=n(69),s=n(68).f;n(40)&&r(r.P+n(227),"Object",{__lookupSetter__:function(t){var e,n=i(this),r=o(t,!0);do{if(e=s(n,r))return e.set}while(n=a(n))}})},function(t,e,n){var r=n(2);r(r.P+r.R,"Map",{toJSON:n(418)("Map")})},function(t,e,n){var r=n(2);r(r.P+r.R,"Set",{toJSON:n(418)("Set")})},function(t,e,n){n(228)("Map")},function(t,e,n){n(228)("Set")},function(t,e,n){n(228)("WeakMap")},function(t,e,n){n(228)("WeakSet")},function(t,e,n){n(229)("Map")},function(t,e,n){n(229)("Set")},function(t,e,n){n(229)("WeakMap")},function(t,e,n){n(229)("WeakSet")},function(t,e,n){var r=n(2);r(r.G,{global:n(21)})},function(t,e,n){var r=n(2);r(r.S,"System",{global:n(21)})},function(t,e,n){var r=n(2),i=n(76);r(r.S,"Error",{isError:function(t){return"Error"===i(t)}})},function(t,e,n){var r=n(2);r(r.S,"Math",{clamp:function(t,e,n){return Math.min(n,Math.max(e,t))}})},function(t,e,n){var r=n(2);r(r.S,"Math",{DEG_PER_RAD:Math.PI/180})},function(t,e,n){var r=n(2),i=180/Math.PI;r(r.S,"Math",{degrees:function(t){return t*i}})},function(t,e,n){var r=n(2),i=n(420),o=n(400);r(r.S,"Math",{fscale:function(t,e,n,r,a){return o(i(t,e,n,r,a))}})},function(t,e,n){var r=n(2);r(r.S,"Math",{iaddh:function(t,e,n,r){var i=t>>>0,o=e>>>0,a=n>>>0;return o+(r>>>0)+((i&a|(i|a)&~(i+a>>>0))>>>31)|0}})},function(t,e,n){var r=n(2);r(r.S,"Math",{isubh:function(t,e,n,r){var i=t>>>0,o=e>>>0,a=n>>>0;return o-(r>>>0)-((~i&a|~(i^a)&i-a>>>0)>>>31)|0}})},function(t,e,n){var r=n(2);r(r.S,"Math",{imulh:function(t,e){var n=+t,r=+e,i=65535&n,o=65535&r,a=n>>16,s=r>>16,u=(a*o>>>0)+(i*o>>>16);return a*s+(u>>16)+((i*s>>>0)+(65535&u)>>16)}})},function(t,e,n){var r=n(2);r(r.S,"Math",{RAD_PER_DEG:180/Math.PI})},function(t,e,n){var r=n(2),i=Math.PI/180;r(r.S,"Math",{radians:function(t){return t*i}})},function(t,e,n){var r=n(2);r(r.S,"Math",{scale:n(420)})},function(t,e,n){var r=n(2);r(r.S,"Math",{umulh:function(t,e){var n=+t,r=+e,i=65535&n,o=65535&r,a=n>>>16,s=r>>>16,u=(a*o>>>0)+(i*o>>>16);return a*s+(u>>>16)+((i*s>>>0)+(65535&u)>>>16)}})},function(t,e,n){var r=n(2);r(r.S,"Math",{signbit:function(t){return(t=+t)!=t?t:0==t?1/t==1/0:t>0}})},function(t,e,n){"use strict";var r=n(2),i=n(85),o=n(21),a=n(224),s=n(407);r(r.P+r.R,"Promise",{finally:function(t){var e=a(this,i.Promise||o.Promise),n="function"==typeof t;return this.then(n?function(n){return s(e,t()).then(function(){return n})}:t,n?function(n){return s(e,t()).then(function(){throw n})}:t)}})},function(t,e,n){"use strict";var r=n(2),i=n(299),o=n(406);r(r.S,"Promise",{try:function(t){var e=i.f(this),n=o(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}})},function(t,e,n){var r=n(98),i=n(20),o=r.key,a=r.set;r.exp({defineMetadata:function(t,e,n,r){a(t,e,i(n),o(r))}})},function(t,e,n){var r=n(98),i=n(20),o=r.key,a=r.map,s=r.store;r.exp({deleteMetadata:function(t,e){var n=arguments.length<3?void 0:o(arguments[2]),r=a(i(e),n,!1);if(void 0===r||!r.delete(t))return!1;if(r.size)return!0;var u=s.get(e);return u.delete(n),!!u.size||s.delete(e)}})},function(t,e,n){var r=n(98),i=n(20),o=n(69),a=r.has,s=r.get,u=r.key,l=function(t,e,n){if(a(t,e,n))return s(t,e,n);var r=o(e);return null!==r?l(t,r,n):void 0};r.exp({getMetadata:function(t,e){return l(t,i(e),arguments.length<3?void 0:u(arguments[2]))}})},function(t,e,n){var r=n(410),i=n(419),o=n(98),a=n(20),s=n(69),u=o.keys,l=o.key,c=function(t,e){var n=u(t,e),o=s(t);if(null===o)return n;var a=c(o,e);return a.length?n.length?i(new r(n.concat(a))):a:n};o.exp({getMetadataKeys:function(t){return c(a(t),arguments.length<2?void 0:l(arguments[1]))}})},function(t,e,n){var r=n(98),i=n(20),o=r.get,a=r.key;r.exp({getOwnMetadata:function(t,e){return o(t,i(e),arguments.length<3?void 0:a(arguments[2]))}})},function(t,e,n){var r=n(98),i=n(20),o=r.keys,a=r.key;r.exp({getOwnMetadataKeys:function(t){return o(i(t),arguments.length<2?void 0:a(arguments[1]))}})},function(t,e,n){var r=n(98),i=n(20),o=n(69),a=r.has,s=r.key,u=function(t,e,n){if(a(t,e,n))return!0;var r=o(e);return null!==r&&u(t,r,n)};r.exp({hasMetadata:function(t,e){return u(t,i(e),arguments.length<3?void 0:s(arguments[2]))}})},function(t,e,n){var r=n(98),i=n(20),o=r.has,a=r.key;r.exp({hasOwnMetadata:function(t,e){return o(t,i(e),arguments.length<3?void 0:a(arguments[2]))}})},function(t,e,n){var r=n(98),i=n(20),o=n(50),a=r.key,s=r.set;r.exp({metadata:function(t,e){return function(n,r){s(t,e,(void 0!==r?i:o)(n),a(r))}}})},function(t,e,n){var r=n(2),i=n(298)(),o=n(21).process,a="process"==n(76)(o);r(r.G,{asap:function(t){var e=a&&o.domain;i(e?e.bind(t):t)}})},function(t,e,n){"use strict";var r=n(2),i=n(21),o=n(85),a=n(298)(),s=n(35)("observable"),u=n(50),l=n(20),c=n(130),h=n(132),f=n(62),d=n(131),p=d.RETURN,m=function(t){return null==t?void 0:u(t)},g=function(t){var e=t._c;e&&(t._c=void 0,e())},v=function(t){return void 0===t._o},y=function(t){v(t)||(t._o=void 0,g(t))},b=function(t,e){l(t),this._c=void 0,this._o=t,t=new w(this);try{var n=e(t),r=n;null!=n&&("function"==typeof n.unsubscribe?n=function(){r.unsubscribe()}:u(n),this._c=n)}catch(e){return void t.error(e)}v(this)&&g(this)};b.prototype=h({},{unsubscribe:function(){y(this)}});var w=function(t){this._s=t};w.prototype=h({},{next:function(t){var e=this._s;if(!v(e)){var n=e._o;try{var r=m(n.next);if(r)return r.call(n,t)}catch(t){try{y(e)}finally{throw t}}}},error:function(t){var e=this._s;if(v(e))throw t;var n=e._o;e._o=void 0;try{var r=m(n.error);if(!r)throw t;t=r.call(n,t)}catch(t){try{g(e)}finally{throw t}}return g(e),t},complete:function(t){var e=this._s;if(!v(e)){var n=e._o;e._o=void 0;try{var r=m(n.complete);t=r?r.call(n,t):void 0}catch(t){try{g(e)}finally{throw t}}return g(e),t}}});var x=function(t){c(this,x,"Observable","_f")._f=u(t)};h(x.prototype,{subscribe:function(t){return new b(t,this._f)},forEach:function(t){var e=this;return new(o.Promise||i.Promise)(function(n,r){u(t);var i=e.subscribe({next:function(e){try{return t(e)}catch(t){r(t),i.unsubscribe()}},error:r,complete:n})})}}),h(x,{from:function(t){var e="function"==typeof this?this:x,n=m(l(t)[s]);if(n){var r=l(n.call(t));return r.constructor===e?r:new e(function(t){return r.subscribe(t)})}return new e(function(e){var n=!1;return a(function(){if(!n){try{if(d(t,!1,function(t){if(e.next(t),n)return p})===p)return}catch(t){if(n)throw t;return void e.error(t)}e.complete()}}),function(){n=!0}})},of:function(){for(var t=0,e=arguments.length,n=Array(e);t<e;)n[t]=arguments[t++];return new("function"==typeof this?this:x)(function(t){var e=!1;return a(function(){if(!e){for(var r=0;r<n.length;++r)if(t.next(n[r]),e)return;t.complete()}}),function(){e=!0}})}}),f(x.prototype,s,function(){return this}),r(r.G,{Observable:x}),n(129)("Observable")},function(t,e,n){var r=n(21),i=n(2),o=n(219),a=n(830),s=r.navigator,u=!!s&&/MSIE .\./.test(s.userAgent),l=function(t){return u?function(e,n){return t(o(a,[].slice.call(arguments,2),"function"==typeof e?e:Function(e)),n)}:t};i(i.G+i.B+i.F*u,{setTimeout:l(r.setTimeout),setInterval:l(r.setInterval)})},function(t,e,n){"use strict";var r=n(831),i=n(219),o=n(50);t.exports=function(){for(var t=o(this),e=arguments.length,n=Array(e),a=0,s=r._,u=!1;e>a;)(n[a]=arguments[a++])===s&&(u=!0);return function(){var r,o=this,a=arguments.length,l=0,c=0;if(!u&&!a)return i(t,n,o);if(r=n.slice(),u)for(;e>l;l++)r[l]===s&&(r[l]=arguments[c++]);for(;a>c;)r.push(arguments[c++]);return i(t,r,o)}}},function(t,e,n){t.exports=n(21)},function(t,e,n){var r=n(2),i=n(297);r(r.G+r.B,{setImmediate:i.set,clearImmediate:i.clear})},function(t,e,n){for(var r=n(296),i=n(112),o=n(63),a=n(21),s=n(62),u=n(151),l=n(35),c=l("iterator"),h=l("toStringTag"),f=u.Array,d={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=i(d),m=0;m<p.length;m++){var g,v=p[m],y=d[v],b=a[v],w=b&&b.prototype;if(w&&(w[c]||s(w,c,f),w[h]||s(w,h,v),u[v]=f,y))for(g in r)w[g]||o(w,g,r[g],!0)}},function(t,e,n){(function(e){!function(e){"use strict";function n(t,e,n,r){var o=e&&e.prototype instanceof i?e:i,a=Object.create(o.prototype),s=new d(r||[]);return a._invoke=l(t,n,s),a}function r(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function i(){}function o(){}function a(){}function s(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function u(t){function n(e,i,o,a){var s=r(t[e],t,i);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==typeof l&&y.call(l,"__await")?Promise.resolve(l.__await).then(function(t){n("next",t,o,a)},function(t){n("throw",t,o,a)}):Promise.resolve(l).then(function(t){u.value=t,o(u)},a)}a(s.arg)}function i(t,e){function r(){return new Promise(function(r,i){n(t,e,r,i)})}return o=o?o.then(r,r):r()}"object"==typeof e.process&&e.process.domain&&(n=e.process.domain.bind(n));var o;this._invoke=i}function l(t,e,n){var i=S;return function(o,a){if(i===C)throw new Error("Generator is already running");if(i===I){if("throw"===o)throw a;return m()}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=c(s,n);if(u){if(u===O)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===S)throw i=I,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=C;var l=r(t,e,n);if("normal"===l.type){if(i=n.done?I:T,l.arg===O)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=I,n.method="throw",n.arg=l.arg)}}}function c(t,e){var n=t.iterator[e.method];if(n===g){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=g,c(t,e),"throw"===e.method))return O;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return O}var i=r(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,O;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=g),e.delegate=null,O):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,O)}function h(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function f(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function d(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(h,this),this.reset(!0)}function p(t){if(t){var e=t[w];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(y.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=g,e.done=!0,e};return r.next=r}}return{next:m}}function m(){return{value:g,done:!0}}var g,v=Object.prototype,y=v.hasOwnProperty,b="function"==typeof Symbol?Symbol:{},w=b.iterator||"@@iterator",x=b.asyncIterator||"@@asyncIterator",_=b.toStringTag||"@@toStringTag",E="object"==typeof t,M=e.regeneratorRuntime;if(M)return void(E&&(t.exports=M));M=e.regeneratorRuntime=E?t.exports:{},M.wrap=n;var S="suspendedStart",T="suspendedYield",C="executing",I="completed",O={},A={};A[w]=function(){return this};var L=Object.getPrototypeOf,R=L&&L(L(p([])));R&&R!==v&&y.call(R,w)&&(A=R);var N=a.prototype=i.prototype=Object.create(A);o.prototype=N.constructor=a,a.constructor=o,a[_]=o.displayName="GeneratorFunction",M.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===o||"GeneratorFunction"===(e.displayName||e.name))},M.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,a):(t.__proto__=a,_ in t||(t[_]="GeneratorFunction")),t.prototype=Object.create(N),t},M.awrap=function(t){return{__await:t}},s(u.prototype),u.prototype[x]=function(){return this},M.AsyncIterator=u,M.async=function(t,e,r,i){var o=new u(n(t,e,r,i));return M.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},s(N),N[_]="Generator",N[w]=function(){return this},N.toString=function(){return"[object Generator]"},M.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},M.values=p,d.prototype={constructor:d,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=g,this.done=!1,this.delegate=null,this.method="next",this.arg=g,this.tryEntries.forEach(f),!t)for(var e in this)"t"===e.charAt(0)&&y.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=g)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){function e(e,r){return o.type="throw",o.arg=t,n.next=e,r&&(n.method="next",n.arg=g),!!r}if(this.done)throw t;for(var n=this,r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var a=y.call(i,"catchLoc"),s=y.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&y.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,O):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),O},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),f(n),O}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;f(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:p(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=g),O}}}("object"==typeof e?e:"object"==typeof window?window:"object"==typeof self?self:this)}).call(e,n(34))},function(t,e,n){n(836),t.exports=n(85).RegExp.escape},function(t,e,n){var r=n(2),i=n(837)(/[\\^$*+?.()|[\]{}]/g,"\\$&");r(r.S,"RegExp",{escape:function(t){return i(t)}})},function(t,e){t.exports=function(t,e){var n=e===Object(e)?function(t){return e[t]}:e;return function(e){return String(e).replace(t,n)}}},function(t,e,n){(function(e){e.IntlPolyfill=n(839),n(840),e.Intl||(e.Intl=e.IntlPolyfill,e.IntlPolyfill.__applyLocaleSensitivePrototypes()),t.exports=e.IntlPolyfill}).call(e,n(34))},function(t,e,n){"use strict";(function(e){function n(t){if("function"==typeof Math.log10)return Math.floor(Math.log10(t));var e=Math.round(Math.log(t)*Math.LOG10E);return e-(Number("1e"+e)>t)}function r(t){for(var e in t)(t instanceof r||Ft.call(t,e))&&jt(this,e,{value:t[e],enumerable:!0,writable:!0,configurable:!0})}function i(){jt(this,"length",{writable:!0,value:0}),arguments.length&&Gt.apply(this,zt.call(arguments))}function o(){if(Yt.disableRegExpRestore)return function(){};for(var t={lastMatch:RegExp.lastMatch||"",leftContext:RegExp.leftContext,multiline:RegExp.multiline,input:RegExp.input},e=!1,n=1;n<=9;n++)e=(t["$"+n]=RegExp["$"+n])||e;return function(){var n=/[.?*+^$[\]\\(){}|-]/g,r=t.lastMatch.replace(n,"\\$&"),o=new i;if(e)for(var a=1;a<=9;a++){var s=t["$"+a];s?(s=s.replace(n,"\\$&"),r=r.replace(s,"("+s+")")):r="()"+r,Gt.call(o,r.slice(0,r.indexOf("(")+1)),r=r.slice(r.indexOf("(")+1)}var u=Ht.call(o,"")+r;u=u.replace(/(\\\(|\\\)|[^()])+/g,function(t){return"[\\s\\S]{"+t.replace("\\","").length+"}"});var l=new RegExp(u,t.multiline?"gm":"g");l.lastIndex=t.leftContext.length,l.exec(t.input)}}function a(t){if(null===t)throw new TypeError("Cannot convert null or undefined to object");return"object"===(void 0===t?"undefined":Pt.typeof(t))?t:Object(t)}function s(t){return"number"==typeof t?t:Number(t)}function u(t){var e=s(t);return isNaN(e)?0:0===e||-0===e||e===1/0||e===-1/0?e:e<0?-1*Math.floor(Math.abs(e)):Math.floor(Math.abs(e))}function l(t){var e=u(t);return e<=0?0:e===1/0?Math.pow(2,53)-1:Math.min(e,Math.pow(2,53)-1)}function c(t){return Ft.call(t,"__getInternalProperties")?t.__getInternalProperties(Xt):Bt(null)}function h(t){ee=t}function f(t){for(var e=t.length;e--;){var n=t.charAt(e);n>="a"&&n<="z"&&(t=t.slice(0,e)+n.toUpperCase()+t.slice(e+1))}return t}function d(t){return!!$t.test(t)&&(!Qt.test(t)&&!Jt.test(t))}function p(t){var e=void 0,n=void 0;t=t.toLowerCase(),n=t.split("-");for(var r=1,i=n.length;r<i;r++)if(2===n[r].length)n[r]=n[r].toUpperCase();else if(4===n[r].length)n[r]=n[r].charAt(0).toUpperCase()+n[r].slice(1);else if(1===n[r].length&&"x"!==n[r])break;t=Ht.call(n,"-"),(e=t.match(te))&&e.length>1&&(e.sort(),t=t.replace(RegExp("(?:"+te.source+")+","i"),Ht.call(e,""))),Ft.call(ne.tags,t)&&(t=ne.tags[t]),n=t.split("-");for(var o=1,a=n.length;o<a;o++)Ft.call(ne.subtags,n[o])?n[o]=ne.subtags[n[o]]:Ft.call(ne.extLang,n[o])&&(n[o]=ne.extLang[n[o]][0],1===o&&ne.extLang[n[1]][1]===n[0]&&(n=zt.call(n,o++),a-=1));return Ht.call(n,"-")}function m(){return ee}function g(t){var e=String(t),n=f(e);return!1!==re.test(n)}function v(t){if(void 0===t)return new i;var e=new i;t="string"==typeof t?[t]:t;for(var n=a(t),r=l(n.length),o=0;o<r;){var s=String(o);if(s in n){var u=n[s];if(null===u||"string"!=typeof u&&"object"!==(void 0===u?"undefined":Pt.typeof(u)))throw new TypeError("String or Object type expected");var c=String(u);if(!d(c))throw new RangeError("'"+c+"' is not a structurally valid language tag");c=p(c),-1===Ut.call(e,c)&&Gt.call(e,c)}o++}return e}function y(t,e){for(var n=e;n;){if(Ut.call(t,n)>-1)return n;var r=n.lastIndexOf("-");if(r<0)return;r>=2&&"-"===n.charAt(r-2)&&(r-=2),n=n.substring(0,r)}}function b(t,e){for(var n=0,i=e.length,o=void 0,a=void 0,s=void 0;n<i&&!o;)a=e[n],s=String(a).replace(ie,""),o=y(t,s),n++;var u=new r;if(void 0!==o){if(u["[[locale]]"]=o,String(a)!==String(s)){var l=a.match(ie)[0],c=a.indexOf("-u-");u["[[extension]]"]=l,u["[[extensionIndex]]"]=c}}else u["[[locale]]"]=m();return u}function w(t,e){return b(t,e)}function x(t,e,n,i,o){if(0===t.length)throw new ReferenceError("No locale data has been provided for this object yet.");var a=n["[[localeMatcher]]"],s=void 0;s="lookup"===a?b(t,e):w(t,e);var u=s["[[locale]]"],l=void 0,c=void 0;if(Ft.call(s,"[[extension]]")){var h=s["[[extension]]"];l=String.prototype.split.call(h,"-"),c=l.length}var f=new r;f["[[dataLocale]]"]=u;for(var d="-u",m=0,g=i.length;m<g;){var v=i[m],y=o[u],x=y[v],_=x[0],E="",M=Ut;if(void 0!==l){var S=M.call(l,v);if(-1!==S)if(S+1<c&&l[S+1].length>2){var T=l[S+1],C=M.call(x,T);-1!==C&&(_=T,E="-"+v+"-"+_)}else{var I=M(x,"true");-1!==I&&(_="true")}}if(Ft.call(n,"[["+v+"]]")){var O=n["[["+v+"]]"];-1!==M.call(x,O)&&O!==_&&(_=O,E="")}f["[["+v+"]]"]=_,d+=E,m++}if(d.length>2){var A=u.indexOf("-x-");if(-1===A)u+=d;else{u=u.substring(0,A)+d+u.substring(A)}u=p(u)}return f["[[locale]]"]=u,f}function _(t,e){for(var n=e.length,r=new i,o=0;o<n;){var a=e[o];void 0!==y(t,String(a).replace(ie,""))&&Gt.call(r,a),o++}return zt.call(r)}function E(t,e){return _(t,e)}function M(t,e,n){var i=void 0,o=void 0;if(void 0!==n&&(n=new r(a(n)),void 0!==(i=n.localeMatcher)&&"lookup"!==(i=String(i))&&"best fit"!==i))throw new RangeError('matcher should be "lookup" or "best fit"');o=void 0===i||"best fit"===i?E(t,e):_(t,e);for(var s in o)Ft.call(o,s)&&jt(o,s,{writable:!1,configurable:!1,value:o[s]});return jt(o,"length",{writable:!1}),o}function S(t,e,n,r,i){var o=t[e];if(void 0!==o){if(o="boolean"===n?Boolean(o):"string"===n?String(o):o,void 0!==r&&-1===Ut.call(r,o))throw new RangeError("'"+o+"' is not an allowed value for `"+e+"`");return o}return i}function T(t,e,n,r,i){var o=t[e];if(void 0!==o){if(o=Number(o),isNaN(o)||o<n||o>r)throw new RangeError("Value is not a number or outside accepted range");return Math.floor(o)}return i}function C(t){for(var e=v(t),n=[],r=e.length,i=0;i<r;)n[i]=e[i],i++;return n}function I(){var t=arguments[0],e=arguments[1];return this&&this!==oe?O(a(this),t,e):new oe.NumberFormat(t,e)}function O(t,e,n){var s=c(t),u=o();if(!0===s["[[initializedIntlObject]]"])throw new TypeError("`this` object has already been initialized as an Intl object");jt(t,"__getInternalProperties",{value:function(){if(arguments[0]===Xt)return s}}),s["[[initializedIntlObject]]"]=!0;var l=v(e);n=void 0===n?{}:a(n);var h=new r,f=S(n,"localeMatcher","string",new i("lookup","best fit"),"best fit");h["[[localeMatcher]]"]=f;var d=Yt.NumberFormat["[[localeData]]"],p=x(Yt.NumberFormat["[[availableLocales]]"],l,h,Yt.NumberFormat["[[relevantExtensionKeys]]"],d);s["[[locale]]"]=p["[[locale]]"],s["[[numberingSystem]]"]=p["[[nu]]"],s["[[dataLocale]]"]=p["[[dataLocale]]"];var m=p["[[dataLocale]]"],y=S(n,"style","string",new i("decimal","percent","currency"),"decimal");s["[[style]]"]=y;var b=S(n,"currency","string");if(void 0!==b&&!g(b))throw new RangeError("'"+b+"' is not a valid currency code");if("currency"===y&&void 0===b)throw new TypeError("Currency code is required when style is currency");var w=void 0;"currency"===y&&(b=b.toUpperCase(),s["[[currency]]"]=b,w=A(b));var _=S(n,"currencyDisplay","string",new i("code","symbol","name"),"symbol");"currency"===y&&(s["[[currencyDisplay]]"]=_);var E=T(n,"minimumIntegerDigits",1,21,1);s["[[minimumIntegerDigits]]"]=E;var M="currency"===y?w:0,C=T(n,"minimumFractionDigits",0,20,M);s["[[minimumFractionDigits]]"]=C;var I="currency"===y?Math.max(C,w):"percent"===y?Math.max(C,0):Math.max(C,3),O=T(n,"maximumFractionDigits",C,20,I);s["[[maximumFractionDigits]]"]=O;var R=n.minimumSignificantDigits,N=n.maximumSignificantDigits;void 0===R&&void 0===N||(R=T(n,"minimumSignificantDigits",1,21,1),N=T(n,"maximumSignificantDigits",R,21,21),s["[[minimumSignificantDigits]]"]=R,s["[[maximumSignificantDigits]]"]=N);var P=S(n,"useGrouping","boolean",void 0,!0);s["[[useGrouping]]"]=P;var k=d[m],D=k.patterns,F=D[y];return s["[[positivePattern]]"]=F.positivePattern,s["[[negativePattern]]"]=F.negativePattern,s["[[boundFormat]]"]=void 0,s["[[initializedNumberFormat]]"]=!0,Dt&&(t.format=L.call(t)),u(),t}function A(t){return void 0!==ae[t]?ae[t]:2}function L(){var t=null!==this&&"object"===Pt.typeof(this)&&c(this);if(!t||!t["[[initializedNumberFormat]]"])throw new TypeError("`this` value for format() is not an initialized Intl.NumberFormat object.");if(void 0===t["[[boundFormat]]"]){var e=function(t){return k(this,Number(t))},n=Wt.call(e,this);t["[[boundFormat]]"]=n}return t["[[boundFormat]]"]}function R(){var t=arguments.length<=0||void 0===arguments[0]?void 0:arguments[0],e=null!==this&&"object"===Pt.typeof(this)&&c(this);if(!e||!e["[[initializedNumberFormat]]"])throw new TypeError("`this` value for formatToParts() is not an initialized Intl.NumberFormat object.");return N(this,Number(t))}function N(t,e){for(var n=P(t,e),r=[],i=0,o=0;n.length>o;o++){var a=n[o],s={};s.type=a["[[type]]"],s.value=a["[[value]]"],r[i]=s,i+=1}return r}function P(t,e){var n=c(t),r=n["[[dataLocale]]"],o=n["[[numberingSystem]]"],a=Yt.NumberFormat["[[localeData]]"][r],s=a.symbols[o]||a.symbols.latn,u=void 0;!isNaN(e)&&e<0?(e=-e,u=n["[[negativePattern]]"]):u=n["[[positivePattern]]"];for(var l=new i,h=u.indexOf("{",0),f=0,d=0,p=u.length;h>-1&&h<p;){if(-1===(f=u.indexOf("}",h)))throw new Error;if(h>d){var m=u.substring(d,h);Gt.call(l,{"[[type]]":"literal","[[value]]":m})}var g=u.substring(h+1,f);if("number"===g)if(isNaN(e)){var v=s.nan;Gt.call(l,{"[[type]]":"nan","[[value]]":v})}else if(isFinite(e)){"percent"===n["[[style]]"]&&isFinite(e)&&(e*=100);var y=void 0;y=Ft.call(n,"[[minimumSignificantDigits]]")&&Ft.call(n,"[[maximumSignificantDigits]]")?D(e,n["[[minimumSignificantDigits]]"],n["[[maximumSignificantDigits]]"]):F(e,n["[[minimumIntegerDigits]]"],n["[[minimumFractionDigits]]"],n["[[maximumFractionDigits]]"]),se[o]?function(){var t=se[o];y=String(y).replace(/\d/g,function(e){return t[e]})}():y=String(y);var b=void 0,w=void 0,x=y.indexOf(".",0);if(x>0?(b=y.substring(0,x),w=y.substring(x+1,x.length)):(b=y,w=void 0),!0===n["[[useGrouping]]"]){var _=s.group,E=[],M=a.patterns.primaryGroupSize||3,S=a.patterns.secondaryGroupSize||M;if(b.length>M){var T=b.length-M,C=T%S,I=b.slice(0,C);for(I.length&&Gt.call(E,I);C<T;)Gt.call(E,b.slice(C,C+S)),C+=S;Gt.call(E,b.slice(T))}else Gt.call(E,b);if(0===E.length)throw new Error;for(;E.length;){var O=qt.call(E);Gt.call(l,{"[[type]]":"integer","[[value]]":O}),E.length&&Gt.call(l,{"[[type]]":"group","[[value]]":_})}}else Gt.call(l,{"[[type]]":"integer","[[value]]":b});if(void 0!==w){var A=s.decimal;Gt.call(l,{"[[type]]":"decimal","[[value]]":A}),Gt.call(l,{"[[type]]":"fraction","[[value]]":w})}}else{var L=s.infinity;Gt.call(l,{"[[type]]":"infinity","[[value]]":L})}else if("plusSign"===g){var R=s.plusSign;Gt.call(l,{"[[type]]":"plusSign","[[value]]":R})}else if("minusSign"===g){var N=s.minusSign;Gt.call(l,{"[[type]]":"minusSign","[[value]]":N})}else if("percentSign"===g&&"percent"===n["[[style]]"]){var P=s.percentSign;Gt.call(l,{"[[type]]":"literal","[[value]]":P})}else if("currency"===g&&"currency"===n["[[style]]"]){var k=n["[[currency]]"],j=void 0;"code"===n["[[currencyDisplay]]"]?j=k:"symbol"===n["[[currencyDisplay]]"]?j=a.currencies[k]||k:"name"===n["[[currencyDisplay]]"]&&(j=k),Gt.call(l,{"[[type]]":"currency","[[value]]":j})}else{var U=u.substring(h,f);Gt.call(l,{"[[type]]":"literal","[[value]]":U})}d=f+1,h=u.indexOf("{",d)}if(d<p){var B=u.substring(d,p);Gt.call(l,{"[[type]]":"literal","[[value]]":B})}return l}function k(t,e){for(var n=P(t,e),r="",i=0;n.length>i;i++){r+=n[i]["[[value]]"]}return r}function D(t,e,r){var i=r,o=void 0,a=void 0;if(0===t)o=Ht.call(Array(i+1),"0"),a=0;else{a=n(Math.abs(t));var s=Math.round(Math.exp(Math.abs(a-i+1)*Math.LN10));o=String(Math.round(a-i+1<0?t*s:t/s))}if(a>=i)return o+Ht.call(Array(a-i+1+1),"0");if(a===i-1)return o;if(a>=0?o=o.slice(0,a+1)+"."+o.slice(a+1):a<0&&(o="0."+Ht.call(Array(1-(a+1)),"0")+o),o.indexOf(".")>=0&&r>e){for(var u=r-e;u>0&&"0"===o.charAt(o.length-1);)o=o.slice(0,-1),u--;"."===o.charAt(o.length-1)&&(o=o.slice(0,-1))}return o}function F(t,e,n,r){var i=r,o=Math.pow(10,i)*t,a=0===o?"0":o.toFixed(0),s=void 0,u=(s=a.indexOf("e"))>-1?a.slice(s+1):0;u&&(a=a.slice(0,s).replace(".",""),a+=Ht.call(Array(u-(a.length-1)+1),"0"));var l=void 0;if(0!==i){var c=a.length;if(c<=i){a=Ht.call(Array(i+1-c+1),"0")+a,c=i+1}var h=a.substring(0,c-i);a=h+"."+a.substring(c-i,a.length),l=h.length}else l=a.length;for(var f=r-n;f>0&&"0"===a.slice(-1);)a=a.slice(0,-1),f--;if("."===a.slice(-1)&&(a=a.slice(0,-1)),l<e){a=Ht.call(Array(e-l+1),"0")+a}return a}function j(t){for(var e=0;e<fe.length;e+=1)if(t.hasOwnProperty(fe[e]))return!1;return!0}function U(t){for(var e=0;e<he.length;e+=1)if(t.hasOwnProperty(he[e]))return!1;return!0}function B(t,e){for(var n={_:{}},r=0;r<he.length;r+=1)t[he[r]]&&(n[he[r]]=t[he[r]]),t._[he[r]]&&(n._[he[r]]=t._[he[r]]);for(var i=0;i<fe.length;i+=1)e[fe[i]]&&(n[fe[i]]=e[fe[i]]),e._[fe[i]]&&(n._[fe[i]]=e._[fe[i]]);return n}function z(t){return t.pattern12=t.extendedPattern.replace(/'([^']*)'/g,function(t,e){return e||"'"}),t.pattern=t.pattern12.replace("{ampm}","").replace(le,""),t}function V(t,e){switch(t.charAt(0)){case"G":return e.era=["short","short","short","long","narrow"][t.length-1],"{era}";case"y":case"Y":case"u":case"U":case"r":return e.year=2===t.length?"2-digit":"numeric","{year}";case"Q":case"q":return e.quarter=["numeric","2-digit","short","long","narrow"][t.length-1],"{quarter}";case"M":case"L":return e.month=["numeric","2-digit","short","long","narrow"][t.length-1],"{month}";case"w":return e.week=2===t.length?"2-digit":"numeric","{weekday}";case"W":return e.week="numeric","{weekday}";case"d":return e.day=2===t.length?"2-digit":"numeric","{day}";case"D":case"F":case"g":return e.day="numeric","{day}";case"E":return e.weekday=["short","short","short","long","narrow","short"][t.length-1],"{weekday}";case"e":return e.weekday=["numeric","2-digit","short","long","narrow","short"][t.length-1],"{weekday}";case"c":return e.weekday=["numeric",void 0,"short","long","narrow","short"][t.length-1],"{weekday}";case"a":case"b":case"B":return e.hour12=!0,"{ampm}";case"h":case"H":return e.hour=2===t.length?"2-digit":"numeric","{hour}";case"k":case"K":return e.hour12=!0,e.hour=2===t.length?"2-digit":"numeric","{hour}";case"m":return e.minute=2===t.length?"2-digit":"numeric","{minute}";case"s":return e.second=2===t.length?"2-digit":"numeric","{second}";case"S":case"A":return e.second="numeric","{second}";case"z":case"Z":case"O":case"v":case"V":case"X":case"x":return e.timeZoneName=t.length<4?"short":"long","{timeZoneName}"}}function G(t,e){if(!ce.test(e)){var n={originalPattern:e,_:{}};return n.extendedPattern=e.replace(ue,function(t){return V(t,n._)}),t.replace(ue,function(t){return V(t,n)}),z(n)}}function H(t){var e=t.availableFormats,n=t.timeFormats,r=t.dateFormats,i=[],o=void 0,a=void 0,s=void 0,u=void 0,l=void 0,c=[],h=[];for(o in e)e.hasOwnProperty(o)&&(a=e[o],(s=G(o,a))&&(i.push(s),j(s)?h.push(s):U(s)&&c.push(s)));for(o in n)n.hasOwnProperty(o)&&(a=n[o],(s=G(o,a))&&(i.push(s),c.push(s)));for(o in r)r.hasOwnProperty(o)&&(a=r[o],(s=G(o,a))&&(i.push(s),h.push(s)));for(u=0;u<c.length;u+=1)for(l=0;l<h.length;l+=1)a="long"===h[l].month?h[l].weekday?t.full:t.long:"short"===h[l].month?t.medium:t.short,s=B(h[l],c[u]),s.originalPattern=a,s.extendedPattern=a.replace("{0}",c[u].extendedPattern).replace("{1}",h[l].extendedPattern).replace(/^[,\s]+|[,\s]+$/gi,""),i.push(z(s));return i}function q(t,e){if(de[t]&&de[t][e]){var n;return n={originalPattern:de[t][e],_:dt({},t,e),extendedPattern:"{"+t+"}"},dt(n,t,e),dt(n,"pattern12","{"+t+"}"),dt(n,"pattern","{"+t+"}"),n}}function W(t,e,n,r,i){var o=t[e]&&t[e][n]?t[e][n]:t.gregory[n],a={narrow:["short","long"],short:["long","narrow"],long:["short","narrow"]},s=Ft.call(o,r)?o[r]:Ft.call(o,a[r][0])?o[a[r][0]]:o[a[r][1]];return null!==i?s[i]:s}function Y(){var t=arguments[0],e=arguments[1];return this&&this!==oe?X(a(this),t,e):new oe.DateTimeFormat(t,e)}function X(t,e,n){var a=c(t),s=o();if(!0===a["[[initializedIntlObject]]"])throw new TypeError("`this` object has already been initialized as an Intl object");jt(t,"__getInternalProperties",{value:function(){if(arguments[0]===Xt)return a}}),a["[[initializedIntlObject]]"]=!0;var u=v(e);n=K(n,"any","date");var l=new r,h=S(n,"localeMatcher","string",new i("lookup","best fit"),"best fit");l["[[localeMatcher]]"]=h;var d=Yt.DateTimeFormat,p=d["[[localeData]]"],m=x(d["[[availableLocales]]"],u,l,d["[[relevantExtensionKeys]]"],p);a["[[locale]]"]=m["[[locale]]"],a["[[calendar]]"]=m["[[ca]]"],a["[[numberingSystem]]"]=m["[[nu]]"],a["[[dataLocale]]"]=m["[[dataLocale]]"];var g=m["[[dataLocale]]"],y=n.timeZone;if(void 0!==y&&"UTC"!==(y=f(y)))throw new RangeError("timeZone is not supported.");a["[[timeZone]]"]=y,l=new r;for(var b in me)if(Ft.call(me,b)){var w=S(n,b,"string",me[b]);l["[["+b+"]]"]=w}var _=void 0,E=p[g],M=Z(E.formats);if(h=S(n,"formatMatcher","string",new i("basic","best fit"),"best fit"),E.formats=M,"basic"===h)_=$(l,M);else{var T=S(n,"hour12","boolean");l.hour12=void 0===T?E.hour12:T,_=Q(l,M)}for(var C in me)if(Ft.call(me,C)&&Ft.call(_,C)){var I=_[C];I=_._&&Ft.call(_._,C)?_._[C]:I,a["[["+C+"]]"]=I}var O=void 0,A=S(n,"hour12","boolean");if(a["[[hour]]"])if(A=void 0===A?E.hour12:A,a["[[hour12]]"]=A,!0===A){var L=E.hourNo0;a["[[hourNo0]]"]=L,O=_.pattern12}else O=_.pattern;else O=_.pattern;return a["[[pattern]]"]=O,a["[[boundFormat]]"]=void 0,a["[[initializedDateTimeFormat]]"]=!0,Dt&&(t.format=J.call(t)),s(),t}function Z(t){return"[object Array]"===Object.prototype.toString.call(t)?t:H(t)}function K(t,e,n){if(void 0===t)t=null;else{var i=a(t);t=new r;for(var o in i)t[o]=i[o]}t=Bt(t);var s=!0;return"date"!==e&&"any"!==e||void 0===t.weekday&&void 0===t.year&&void 0===t.month&&void 0===t.day||(s=!1),"time"!==e&&"any"!==e||void 0===t.hour&&void 0===t.minute&&void 0===t.second||(s=!1),!s||"date"!==n&&"all"!==n||(t.year=t.month=t.day="numeric"),!s||"time"!==n&&"all"!==n||(t.hour=t.minute=t.second="numeric"),t}function $(t,e){for(var n=-1/0,r=void 0,i=0,o=e.length;i<o;){var a=e[i],s=0;for(var u in me)if(Ft.call(me,u)){var l=t["[["+u+"]]"],c=Ft.call(a,u)?a[u]:void 0;if(void 0===l&&void 0!==c)s-=20;else if(void 0!==l&&void 0===c)s-=120;else{var h=["2-digit","numeric","narrow","short","long"],f=Ut.call(h,l),d=Ut.call(h,c),p=Math.max(Math.min(d-f,2),-2);2===p?s-=6:1===p?s-=3:-1===p?s-=6:-2===p&&(s-=8)}}s>n&&(n=s,r=a),i++}return r}function Q(t,e){var n=[];for(var r in me)Ft.call(me,r)&&void 0!==t["[["+r+"]]"]&&n.push(r);if(1===n.length){var i=q(n[0],t["[["+n[0]+"]]"]);if(i)return i}for(var o=-1/0,a=void 0,s=0,u=e.length;s<u;){var l=e[s],c=0;for(var h in me)if(Ft.call(me,h)){var f=t["[["+h+"]]"],d=Ft.call(l,h)?l[h]:void 0,p=Ft.call(l._,h)?l._[h]:void 0;if(f!==p&&(c-=2),void 0===f&&void 0!==d)c-=20;else if(void 0!==f&&void 0===d)c-=120;else{var m=["2-digit","numeric","narrow","short","long"],g=Ut.call(m,f),v=Ut.call(m,d),y=Math.max(Math.min(v-g,2),-2);v<=1&&g>=2||v>=2&&g<=1?y>0?c-=6:y<0&&(c-=8):y>1?c-=3:y<-1&&(c-=6)}}l._.hour12!==t.hour12&&(c-=1),c>o&&(o=c,a=l),s++}return a}function J(){var t=null!==this&&"object"===Pt.typeof(this)&&c(this);if(!t||!t["[[initializedDateTimeFormat]]"])throw new TypeError("`this` value for format() is not an initialized Intl.DateTimeFormat object.");if(void 0===t["[[boundFormat]]"]){var e=function(){var t=arguments.length<=0||void 0===arguments[0]?void 0:arguments[0];return nt(this,void 0===t?Date.now():s(t))},n=Wt.call(e,this);t["[[boundFormat]]"]=n}return t["[[boundFormat]]"]}function tt(){var t=arguments.length<=0||void 0===arguments[0]?void 0:arguments[0],e=null!==this&&"object"===Pt.typeof(this)&&c(this);if(!e||!e["[[initializedDateTimeFormat]]"])throw new TypeError("`this` value for formatToParts() is not an initialized Intl.DateTimeFormat object.");return rt(this,void 0===t?Date.now():s(t))}function et(t,e){if(!isFinite(e))throw new RangeError("Invalid valid date passed to format");var n=t.__getInternalProperties(Xt);o();for(var r=n["[[locale]]"],a=new oe.NumberFormat([r],{useGrouping:!1}),s=new oe.NumberFormat([r],{minimumIntegerDigits:2,useGrouping:!1}),u=it(e,n["[[calendar]]"],n["[[timeZone]]"]),l=n["[[pattern]]"],c=new i,h=0,f=l.indexOf("{"),d=0,p=n["[[dataLocale]]"],m=Yt.DateTimeFormat["[[localeData]]"][p].calendars,g=n["[[calendar]]"];-1!==f;){var v=void 0;if(-1===(d=l.indexOf("}",f)))throw new Error("Unclosed pattern");f>h&&Gt.call(c,{type:"literal",value:l.substring(h,f)});var y=l.substring(f+1,d);if(me.hasOwnProperty(y)){var b=n["[["+y+"]]"],w=u["[["+y+"]]"];if("year"===y&&w<=0?w=1-w:"month"===y?w++:"hour"===y&&!0===n["[[hour12]]"]&&0===(w%=12)&&!0===n["[[hourNo0]]"]&&(w=12),"numeric"===b)v=k(a,w);else if("2-digit"===b)v=k(s,w),v.length>2&&(v=v.slice(-2));else if(b in pe)switch(y){case"month":v=W(m,g,"months",b,u["[["+y+"]]"]);break;case"weekday":try{v=W(m,g,"days",b,u["[["+y+"]]"])}catch(t){throw new Error("Could not find weekday data for locale "+r)}break;case"timeZoneName":v="";break;case"era":try{v=W(m,g,"eras",b,u["[["+y+"]]"])}catch(t){throw new Error("Could not find era data for locale "+r)}break;default:v=u["[["+y+"]]"]}Gt.call(c,{type:y,value:v})}else if("ampm"===y){var x=u["[[hour]]"];v=W(m,g,"dayPeriods",x>11?"pm":"am",null),Gt.call(c,{type:"dayPeriod",value:v})}else Gt.call(c,{type:"literal",value:l.substring(f,d+1)});h=d+1,f=l.indexOf("{",h)}return d<l.length-1&&Gt.call(c,{type:"literal",value:l.substr(d+1)}),c}function nt(t,e){for(var n=et(t,e),r="",i=0;n.length>i;i++){r+=n[i].value}return r}function rt(t,e){for(var n=et(t,e),r=[],i=0;n.length>i;i++){var o=n[i];r.push({type:o.type,value:o.value})}return r}function it(t,e,n){var i=new Date(t),o="get"+(n||"");return new r({"[[weekday]]":i[o+"Day"](),"[[era]]":+(i[o+"FullYear"]()>=0),"[[year]]":i[o+"FullYear"](),"[[month]]":i[o+"Month"](),"[[day]]":i[o+"Date"](),"[[hour]]":i[o+"Hours"](),"[[minute]]":i[o+"Minutes"](),"[[second]]":i[o+"Seconds"](),"[[inDST]]":!1})}function ot(t,e){if(!t.number)throw new Error("Object passed doesn't contain locale data for Intl.NumberFormat");var n=void 0,r=[e],i=e.split("-");for(i.length>2&&4===i[1].length&&Gt.call(r,i[0]+"-"+i[2]);n=qt.call(r);)Gt.call(Yt.NumberFormat["[[availableLocales]]"],n),Yt.NumberFormat["[[localeData]]"][n]=t.number,t.date&&(t.date.nu=t.number.nu,Gt.call(Yt.DateTimeFormat["[[availableLocales]]"],n),Yt.DateTimeFormat["[[localeData]]"][n]=t.date);void 0===ee&&h(e)}var at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},st=function(){var t="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(e,n,r,i){var o=e&&e.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&o)for(var s in o)void 0===n[s]&&(n[s]=o[s]);else n||(n=o||{});if(1===a)n.children=i;else if(a>1){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+3];n.children=u}return{$$typeof:t,type:e,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),ut=function(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){function r(i,o){try{var a=e[i](o),s=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(s).then(function(t){return r("next",t)},function(t){return r("throw",t)});t(s)}return r("next")})}},lt=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},ct=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),ht=function(t,e){for(var n in e){var r=e[n];r.configurable=r.enumerable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,n,r)}return t},ft=function(t,e){for(var n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}return t},dt=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},pt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mt=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},gt=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},vt=function(t,e){return null!=e&&"undefined"!=typeof Symbol&&e[Symbol.hasInstance]?e[Symbol.hasInstance](t):t instanceof e},yt=function(t){return t&&t.__esModule?t:{default:t}},bt=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e},wt=function(t,e){if(t!==e)throw new TypeError("Cannot instantiate an arrow function")},xt=function(t){if(null==t)throw new TypeError("Cannot destructure undefined")},_t=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},Et=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},Mt=void 0===e?self:e,St=function t(e,n,r,i){var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var a=Object.getPrototypeOf(e);null!==a&&t(a,n,r,i)}else if("value"in o&&o.writable)o.value=r;else{var s=o.set;void 0!==s&&s.call(i,r)}return r},Tt=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Ct=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t)){for(var n,r=[],i=t[Symbol.iterator]();!(n=i.next()).done&&(r.push(n.value),!e||r.length!==e););return r}throw new TypeError("Invalid attempt to destructure non-iterable instance")},It=function(t,e){return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))},Ot=function(t,e){return t.raw=e,t},At=function(t,e,n){if(t===n)throw new ReferenceError(e+" is not defined - temporal dead zone");return t},Lt={},Rt=function(t){return Array.isArray(t)?t:Array.from(t)},Nt=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)},Pt=Object.freeze({jsx:st,asyncToGenerator:ut,classCallCheck:lt,createClass:ct,defineEnumerableProperties:ht,defaults:ft,defineProperty:dt,get:mt,inherits:gt,interopRequireDefault:yt,interopRequireWildcard:bt,newArrowCheck:wt,objectDestructuringEmpty:xt,objectWithoutProperties:_t,possibleConstructorReturn:Et,selfGlobal:Mt,set:St,slicedToArray:Tt,slicedToArrayLoose:Ct,taggedTemplateLiteral:It,taggedTemplateLiteralLoose:Ot,temporalRef:At,temporalUndefined:Lt,toArray:Rt,toConsumableArray:Nt,typeof:at,extends:pt,instanceof:vt}),kt=function(){var t=function(){};try{return Object.defineProperty(t,"a",{get:function(){return 1}}),Object.defineProperty(t,"prototype",{writable:!1}),1===t.a&&t.prototype instanceof Object}catch(t){return!1}}(),Dt=!kt&&!Object.prototype.__defineGetter__,Ft=Object.prototype.hasOwnProperty,jt=kt?Object.defineProperty:function(t,e,n){"get"in n&&t.__defineGetter__?t.__defineGetter__(e,n.get):(!Ft.call(t,e)||"value"in n)&&(t[e]=n.value)},Ut=Array.prototype.indexOf||function(t){var e=this;if(!e.length)return-1;for(var n=arguments[1]||0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},Bt=Object.create||function(t,e){function n(){}var r=void 0;n.prototype=t,r=new n;for(var i in e)Ft.call(e,i)&&jt(r,i,e[i]);return r},zt=Array.prototype.slice,Vt=Array.prototype.concat,Gt=Array.prototype.push,Ht=Array.prototype.join,qt=Array.prototype.shift,Wt=Function.prototype.bind||function(t){var e=this,n=zt.call(arguments,1);return e.length,function(){return e.apply(t,Vt.call(n,zt.call(arguments)))}},Yt=Bt(null),Xt=Math.random();r.prototype=Bt(null),i.prototype=Bt(null);var Zt="(?:[a-z0-9]{5,8}|\\d[a-z0-9]{3})",Kt="[0-9a-wy-z](?:-[a-z0-9]{2,8})+",$t=RegExp("^(?:(?:[a-z]{2,3}(?:-[a-z]{3}(?:-[a-z]{3}){0,2})?|[a-z]{4}|[a-z]{5,8})(?:-[a-z]{4})?(?:-(?:[a-z]{2}|\\d{3}))?(?:-(?:[a-z0-9]{5,8}|\\d[a-z0-9]{3}))*(?:-[0-9a-wy-z](?:-[a-z0-9]{2,8})+)*(?:-x(?:-[a-z0-9]{1,8})+)?|x(?:-[a-z0-9]{1,8})+|(?:(?:en-GB-oed|i-(?:ami|bnn|default|enochian|hak|klingon|lux|mingo|navajo|pwn|tao|tay|tsu)|sgn-(?:BE-FR|BE-NL|CH-DE))|(?:art-lojban|cel-gaulish|no-bok|no-nyn|zh-(?:guoyu|hakka|min|min-nan|xiang))))$","i"),Qt=RegExp("^(?!x).*?-("+Zt+")-(?:\\w{4,8}-(?!x-))*\\1\\b","i"),Jt=RegExp("^(?!x).*?-([0-9a-wy-z])-(?:\\w+-(?!x-))*\\1\\b","i"),te=RegExp("-"+Kt,"ig"),ee=void 0,ne={tags:{"art-lojban":"jbo","i-ami":"ami","i-bnn":"bnn","i-hak":"hak","i-klingon":"tlh","i-lux":"lb","i-navajo":"nv","i-pwn":"pwn","i-tao":"tao","i-tay":"tay","i-tsu":"tsu","no-bok":"nb","no-nyn":"nn","sgn-BE-FR":"sfb","sgn-BE-NL":"vgt","sgn-CH-DE":"sgg","zh-guoyu":"cmn","zh-hakka":"hak","zh-min-nan":"nan","zh-xiang":"hsn","sgn-BR":"bzs","sgn-CO":"csn","sgn-DE":"gsg","sgn-DK":"dsl","sgn-ES":"ssp","sgn-FR":"fsl","sgn-GB":"bfi","sgn-GR":"gss","sgn-IE":"isg","sgn-IT":"ise","sgn-JP":"jsl","sgn-MX":"mfs","sgn-NI":"ncs","sgn-NL":"dse","sgn-NO":"nsl","sgn-PT":"psr","sgn-SE":"swl","sgn-US":"ase","sgn-ZA":"sfs","zh-cmn":"cmn","zh-cmn-Hans":"cmn-Hans","zh-cmn-Hant":"cmn-Hant","zh-gan":"gan","zh-wuu":"wuu","zh-yue":"yue"},subtags:{BU:"MM",DD:"DE",FX:"FR",TP:"TL",YD:"YE",ZR:"CD",heploc:"alalc97",in:"id",iw:"he",ji:"yi",jw:"jv",mo:"ro",ayx:"nun",bjd:"drl",ccq:"rki",cjr:"mom",cka:"cmr",cmk:"xch",drh:"khk",drw:"prs",gav:"dev",hrr:"jal",ibi:"opa",kgh:"kml",lcq:"ppr",mst:"mry",myt:"mry",sca:"hle",tie:"ras",tkk:"twm",tlw:"weo",tnf:"prs",ybd:"rki",yma:"lrr"},extLang:{aao:["aao","ar"],abh:["abh","ar"],abv:["abv","ar"],acm:["acm","ar"],acq:["acq","ar"],acw:["acw","ar"],acx:["acx","ar"],acy:["acy","ar"],adf:["adf","ar"],ads:["ads","sgn"],aeb:["aeb","ar"],aec:["aec","ar"],aed:["aed","sgn"],aen:["aen","sgn"],afb:["afb","ar"],afg:["afg","sgn"],ajp:["ajp","ar"],apc:["apc","ar"],apd:["apd","ar"],arb:["arb","ar"],arq:["arq","ar"],ars:["ars","ar"],ary:["ary","ar"],arz:["arz","ar"],ase:["ase","sgn"],asf:["asf","sgn"],asp:["asp","sgn"],asq:["asq","sgn"],asw:["asw","sgn"],auz:["auz","ar"],avl:["avl","ar"],ayh:["ayh","ar"],ayl:["ayl","ar"],ayn:["ayn","ar"],ayp:["ayp","ar"],bbz:["bbz","ar"],bfi:["bfi","sgn"],bfk:["bfk","sgn"],bjn:["bjn","ms"],bog:["bog","sgn"],bqn:["bqn","sgn"],bqy:["bqy","sgn"],btj:["btj","ms"],bve:["bve","ms"],bvl:["bvl","sgn"],bvu:["bvu","ms"],bzs:["bzs","sgn"],cdo:["cdo","zh"],cds:["cds","sgn"],cjy:["cjy","zh"],cmn:["cmn","zh"],coa:["coa","ms"],cpx:["cpx","zh"],csc:["csc","sgn"],csd:["csd","sgn"],cse:["cse","sgn"],csf:["csf","sgn"],csg:["csg","sgn"],csl:["csl","sgn"],csn:["csn","sgn"],csq:["csq","sgn"],csr:["csr","sgn"],czh:["czh","zh"],czo:["czo","zh"],doq:["doq","sgn"],dse:["dse","sgn"],dsl:["dsl","sgn"],dup:["dup","ms"],ecs:["ecs","sgn"],esl:["esl","sgn"],esn:["esn","sgn"],eso:["eso","sgn"],eth:["eth","sgn"],fcs:["fcs","sgn"],fse:["fse","sgn"],fsl:["fsl","sgn"],fss:["fss","sgn"],gan:["gan","zh"],gds:["gds","sgn"],gom:["gom","kok"],gse:["gse","sgn"],gsg:["gsg","sgn"],gsm:["gsm","sgn"],gss:["gss","sgn"],gus:["gus","sgn"],hab:["hab","sgn"],haf:["haf","sgn"],hak:["hak","zh"],hds:["hds","sgn"],hji:["hji","ms"],hks:["hks","sgn"],hos:["hos","sgn"],hps:["hps","sgn"],hsh:["hsh","sgn"],hsl:["hsl","sgn"],hsn:["hsn","zh"],icl:["icl","sgn"],ils:["ils","sgn"],inl:["inl","sgn"],ins:["ins","sgn"],ise:["ise","sgn"],isg:["isg","sgn"],isr:["isr","sgn"],jak:["jak","ms"],jax:["jax","ms"],jcs:["jcs","sgn"],jhs:["jhs","sgn"],jls:["jls","sgn"],jos:["jos","sgn"],jsl:["jsl","sgn"],jus:["jus","sgn"],kgi:["kgi","sgn"],knn:["knn","kok"],kvb:["kvb","ms"],kvk:["kvk","sgn"],kvr:["kvr","ms"],kxd:["kxd","ms"],lbs:["lbs","sgn"],lce:["lce","ms"],lcf:["lcf","ms"],liw:["liw","ms"],lls:["lls","sgn"],lsg:["lsg","sgn"],lsl:["lsl","sgn"],lso:["lso","sgn"],lsp:["lsp","sgn"],lst:["lst","sgn"],lsy:["lsy","sgn"],ltg:["ltg","lv"],lvs:["lvs","lv"],lzh:["lzh","zh"],max:["max","ms"],mdl:["mdl","sgn"],meo:["meo","ms"],mfa:["mfa","ms"],mfb:["mfb","ms"],mfs:["mfs","sgn"],min:["min","ms"],mnp:["mnp","zh"],mqg:["mqg","ms"],mre:["mre","sgn"],msd:["msd","sgn"],msi:["msi","ms"],msr:["msr","sgn"],mui:["mui","ms"],mzc:["mzc","sgn"],mzg:["mzg","sgn"],mzy:["mzy","sgn"],nan:["nan","zh"],nbs:["nbs","sgn"],ncs:["ncs","sgn"],nsi:["nsi","sgn"],nsl:["nsl","sgn"],nsp:["nsp","sgn"],nsr:["nsr","sgn"],nzs:["nzs","sgn"],okl:["okl","sgn"],orn:["orn","ms"],ors:["ors","ms"],pel:["pel","ms"],pga:["pga","ar"],pks:["pks","sgn"],prl:["prl","sgn"],prz:["prz","sgn"],psc:["psc","sgn"],psd:["psd","sgn"],pse:["pse","ms"],psg:["psg","sgn"],psl:["psl","sgn"],pso:["pso","sgn"],psp:["psp","sgn"],psr:["psr","sgn"],pys:["pys","sgn"],rms:["rms","sgn"],rsi:["rsi","sgn"],rsl:["rsl","sgn"],sdl:["sdl","sgn"],sfb:["sfb","sgn"],sfs:["sfs","sgn"],sgg:["sgg","sgn"],sgx:["sgx","sgn"],shu:["shu","ar"],slf:["slf","sgn"],sls:["sls","sgn"],sqk:["sqk","sgn"],sqs:["sqs","sgn"],ssh:["ssh","ar"],ssp:["ssp","sgn"],ssr:["ssr","sgn"],svk:["svk","sgn"],swc:["swc","sw"],swh:["swh","sw"],swl:["swl","sgn"],syy:["syy","sgn"],tmw:["tmw","ms"],tse:["tse","sgn"],tsm:["tsm","sgn"],tsq:["tsq","sgn"],tss:["tss","sgn"],tsy:["tsy","sgn"],tza:["tza","sgn"],ugn:["ugn","sgn"],ugy:["ugy","sgn"],ukl:["ukl","sgn"],uks:["uks","sgn"],urk:["urk","ms"],uzn:["uzn","uz"],uzs:["uzs","uz"],vgt:["vgt","sgn"],vkk:["vkk","ms"],vkt:["vkt","ms"],vsi:["vsi","sgn"],vsl:["vsl","sgn"],vsv:["vsv","sgn"],wuu:["wuu","zh"],xki:["xki","sgn"],xml:["xml","sgn"],xmm:["xmm","ms"],xms:["xms","sgn"],yds:["yds","sgn"],ysl:["ysl","sgn"],yue:["yue","zh"],zib:["zib","sgn"],zlm:["zlm","ms"],zmi:["zmi","ms"],zsl:["zsl","sgn"],zsm:["zsm","ms"]}},re=/^[A-Z]{3}$/,ie=/-u(?:-[0-9a-z]{2,8})+/gi,oe={};Object.defineProperty(oe,"getCanonicalLocales",{enumerable:!1,configurable:!0,writable:!0,value:C});var ae={BHD:3,BYR:0,XOF:0,BIF:0,XAF:0,CLF:4,CLP:0,KMF:0,DJF:0,XPF:0,GNF:0,ISK:0,IQD:3,JPY:0,JOD:3,KRW:0,KWD:3,LYD:3,OMR:3,PYG:0,RWF:0,TND:3,UGX:0,UYI:0,VUV:0,VND:0};jt(oe,"NumberFormat",{configurable:!0,writable:!0,value:I}),jt(oe.NumberFormat,"prototype",{writable:!1}),Yt.NumberFormat={"[[availableLocales]]":[],"[[relevantExtensionKeys]]":["nu"],"[[localeData]]":{}},jt(oe.NumberFormat,"supportedLocalesOf",{configurable:!0,writable:!0,value:Wt.call(function(t){if(!Ft.call(this,"[[availableLocales]]"))throw new TypeError("supportedLocalesOf() is not a constructor");var e=o(),n=arguments[1],r=this["[[availableLocales]]"],i=v(t);return e(),M(r,i,n)},Yt.NumberFormat)}),jt(oe.NumberFormat.prototype,"format",{configurable:!0,get:L}),Object.defineProperty(oe.NumberFormat.prototype,"formatToParts",{configurable:!0,enumerable:!1,writable:!0,value:R});var se={arab:["٠","١","٢","٣","٤","٥","٦","٧","٨","٩"],arabext:["۰","۱","۲","۳","۴","۵","۶","۷","۸","۹"],bali:["᭐","᭑","᭒","᭓","᭔","᭕","᭖","᭗","᭘","᭙"],beng:["০","১","২","৩","৪","৫","৬","৭","৮","৯"],deva:["०","१","२","३","४","५","६","७","८","९"],fullwide:["０","１","２","３","４","５","６","７","８","９"],gujr:["૦","૧","૨","૩","૪","૫","૬","૭","૮","૯"],guru:["੦","੧","੨","੩","੪","੫","੬","੭","੮","੯"],hanidec:["〇","一","二","三","四","五","六","七","八","九"],khmr:["០","១","២","៣","៤","៥","៦","៧","៨","៩"],knda:["೦","೧","೨","೩","೪","೫","೬","೭","೮","೯"],laoo:["໐","໑","໒","໓","໔","໕","໖","໗","໘","໙"],latn:["0","1","2","3","4","5","6","7","8","9"],limb:["᥆","᥇","᥈","᥉","᥊","᥋","᥌","᥍","᥎","᥏"],mlym:["൦","൧","൨","൩","൪","൫","൬","൭","൮","൯"],mong:["᠐","᠑","᠒","᠓","᠔","᠕","᠖","᠗","᠘","᠙"],mymr:["၀","၁","၂","၃","၄","၅","၆","၇","၈","၉"],orya:["୦","୧","୨","୩","୪","୫","୬","୭","୮","୯"],tamldec:["௦","௧","௨","௩","௪","௫","௬","௭","௮","௯"],telu:["౦","౧","౨","౩","౪","౫","౬","౭","౮","౯"],thai:["๐","๑","๒","๓","๔","๕","๖","๗","๘","๙"],tibt:["༠","༡","༢","༣","༤","༥","༦","༧","༨","༩"]};jt(oe.NumberFormat.prototype,"resolvedOptions",{configurable:!0,writable:!0,value:function(){var t=void 0,e=new r,n=["locale","numberingSystem","style","currency","currencyDisplay","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","useGrouping"],i=null!==this&&"object"===Pt.typeof(this)&&c(this);if(!i||!i["[[initializedNumberFormat]]"])throw new TypeError("`this` value for resolvedOptions() is not an initialized Intl.NumberFormat object.");for(var o=0,a=n.length;o<a;o++)Ft.call(i,t="[["+n[o]+"]]")&&(e[n[o]]={value:i[t],writable:!0,configurable:!0,enumerable:!0});return Bt({},e)}});var ue=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g,le=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ce=/[rqQASjJgwWIQq]/,he=["era","year","month","day","weekday","quarter"],fe=["hour","minute","second","hour12","timeZoneName"],de={second:{numeric:"s","2-digit":"ss"},minute:{numeric:"m","2-digit":"mm"},year:{numeric:"y","2-digit":"yy"},day:{numeric:"d","2-digit":"dd"},month:{numeric:"L","2-digit":"LL",narrow:"LLLLL",short:"LLL",long:"LLLL"},weekday:{narrow:"ccccc",short:"ccc",long:"cccc"}},pe=Bt(null,{narrow:{},short:{},long:{}});jt(oe,"DateTimeFormat",{configurable:!0,writable:!0,value:Y}),jt(Y,"prototype",{writable:!1});var me={weekday:["narrow","short","long"],era:["narrow","short","long"],year:["2-digit","numeric"],month:["2-digit","numeric","narrow","short","long"],day:["2-digit","numeric"],hour:["2-digit","numeric"],minute:["2-digit","numeric"],second:["2-digit","numeric"],timeZoneName:["short","long"]};Yt.DateTimeFormat={"[[availableLocales]]":[],"[[relevantExtensionKeys]]":["ca","nu"],"[[localeData]]":{}},jt(oe.DateTimeFormat,"supportedLocalesOf",{configurable:!0,writable:!0,value:Wt.call(function(t){if(!Ft.call(this,"[[availableLocales]]"))throw new TypeError("supportedLocalesOf() is not a constructor");var e=o(),n=arguments[1],r=this["[[availableLocales]]"],i=v(t);return e(),M(r,i,n)},Yt.NumberFormat)}),jt(oe.DateTimeFormat.prototype,"format",{configurable:!0,get:J}),Object.defineProperty(oe.DateTimeFormat.prototype,"formatToParts",{enumerable:!1,writable:!0,configurable:!0,value:tt}),jt(oe.DateTimeFormat.prototype,"resolvedOptions",{writable:!0,configurable:!0,value:function(){var t=void 0,e=new r,n=["locale","calendar","numberingSystem","timeZone","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName"],i=null!==this&&"object"===Pt.typeof(this)&&c(this);if(!i||!i["[[initializedDateTimeFormat]]"])throw new TypeError("`this` value for resolvedOptions() is not an initialized Intl.DateTimeFormat object.");for(var o=0,a=n.length;o<a;o++)Ft.call(i,t="[["+n[o]+"]]")&&(e[n[o]]={value:i[t],writable:!0,configurable:!0,enumerable:!0});return Bt({},e)}});var ge=oe.__localeSensitiveProtos={Number:{},Date:{}};ge.Number.toLocaleString=function(){if("[object Number]"!==Object.prototype.toString.call(this))throw new TypeError("`this` value must be a number for Number.prototype.toLocaleString()");return k(new I(arguments[0],arguments[1]),this)},ge.Date.toLocaleString=function(){if("[object Date]"!==Object.prototype.toString.call(this))throw new TypeError("`this` value must be a Date instance for Date.prototype.toLocaleString()");var t=+this;if(isNaN(t))return"Invalid Date";var e=arguments[0],n=arguments[1];return n=K(n,"any","all"),nt(new Y(e,n),t)},ge.Date.toLocaleDateString=function(){if("[object Date]"!==Object.prototype.toString.call(this))throw new TypeError("`this` value must be a Date instance for Date.prototype.toLocaleDateString()");var t=+this;if(isNaN(t))return"Invalid Date";var e=arguments[0],n=arguments[1];return n=K(n,"date","date"),nt(new Y(e,n),t)},ge.Date.toLocaleTimeString=function(){if("[object Date]"!==Object.prototype.toString.call(this))throw new TypeError("`this` value must be a Date instance for Date.prototype.toLocaleTimeString()");var t=+this;if(isNaN(t))return"Invalid Date";var e=arguments[0],n=arguments[1];return n=K(n,"time","time"),nt(new Y(e,n),t)},jt(oe,"__applyLocaleSensitivePrototypes",{writable:!0,configurable:!0,value:function(){jt(Number.prototype,"toLocaleString",{writable:!0,configurable:!0,value:ge.Number.toLocaleString}),jt(Date.prototype,"toLocaleString",{writable:!0,configurable:!0,value:ge.Date.toLocaleString});for(var t in ge.Date)Ft.call(ge.Date,t)&&jt(Date.prototype,t,{writable:!0,configurable:!0,value:ge.Date[t]})}}),jt(oe,"__addLocaleData",{value:function(t){if(!d(t.locale))throw new Error("Object passed doesn't identify itself with a valid language tag");ot(t,t.locale)}}),jt(oe,"__disableRegExpRestore",{value:function(){Yt.disableRegExpRestore=!0}}),t.exports=oe}).call(e,n(34))},function(t,e){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var r=n(46),i=(n.n(r),n(846)),o=(n.n(i),n(847),n(891),n(906),n(910),n(912)),a=(n.n(o),n(160),n(915)),s=(n.n(a),n(322));n.d(e,"injectAnimationFrame",function(){return s.a});var u=n(326);n.d(e,"TILE_LOAD_ERROR",function(){return u.a});var l=(n(456),n(457),n(240));n.d(e,"Type",function(){return l.f}),n.d(e,"Dcr9TileSchema",function(){return l.b}),n.d(e,"Dcr10TileSchema",function(){return l.a}),n.d(e,"SwedishTileSchema",function(){return l.e}),n.d(e,"NoTileSchema",function(){return l.d}),n.d(e,"KnownTileSchemas",function(){return l.c});var c=n(460);n.d(e,"defaults",function(){return c.b});var h=(n(462),n(972),n(973),n(468));n.d(e,"Events",function(){return h.a});var f=(n(984),n(1e3),n(332));n.d(e,"DefaultMarkerStyles",function(){return f.a});var d=(n(1002),n(1003),n(1004),n(1005),n(242));n.d(e,"VERSION",function(){return d.c}),n.d(e,"REVISION",function(){return d.b}),n.d(e,"GeometryType",function(){return d.a});var p=n(461),m=n(459),g=n(467);r.glMatrix.setMatrixArrayType(t.Float64Array||Array),CM.aperture.DefaultBitmapUriManager=p.a,CM.aperture.DepthMapUriManager=m.a,CM.aperture.WfsRecordingUriManager=g.a}.call(e,n(34))},function(t,e,n){var r=n(99),i={};i.create=function(){var t=new r.ARRAY_TYPE(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},i.clone=function(t){var e=new r.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},i.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},i.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},i.fromValues=function(t,e,n,i){var o=new r.ARRAY_TYPE(4);return o[0]=t,o[1]=e,o[2]=n,o[3]=i,o},i.set=function(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t},i.transpose=function(t,e){if(t===e){var n=e[1];t[1]=e[2],t[2]=n}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t},i.invert=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n*o-i*r;return a?(a=1/a,t[0]=o*a,t[1]=-r*a,t[2]=-i*a,t[3]=n*a,t):null},i.adjoint=function(t,e){var n=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=n,t},i.determinant=function(t){return t[0]*t[3]-t[2]*t[1]},i.multiply=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=n[0],u=n[1],l=n[2],c=n[3];return t[0]=r*s+o*u,t[1]=i*s+a*u,t[2]=r*l+o*c,t[3]=i*l+a*c,t},i.mul=i.multiply,i.rotate=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+o*s,t[1]=i*u+a*s,t[2]=r*-s+o*u,t[3]=i*-s+a*u,t},i.scale=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=n[0],u=n[1];return t[0]=r*s,t[1]=i*s,t[2]=o*u,t[3]=a*u,t},i.fromRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t},i.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t},i.str=function(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},i.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))},i.LDU=function(t,e,n,r){return t[2]=r[2]/r[0],n[0]=r[0],n[1]=r[1],n[3]=r[3]-t[2]*n[1],[t,e,n]},i.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t},i.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t},i.sub=i.subtract,i.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},i.equals=function(t,e){var n=t[0],i=t[1],o=t[2],a=t[3],s=e[0],u=e[1],l=e[2],c=e[3];return Math.abs(n-s)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(i-u)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(o-l)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(l))&&Math.abs(a-c)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(c))},i.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t},i.multiplyScalarAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t},t.exports=i},function(t,e,n){var r=n(99),i={};i.create=function(){var t=new r.ARRAY_TYPE(6);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},i.clone=function(t){var e=new r.ARRAY_TYPE(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},i.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},i.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},i.fromValues=function(t,e,n,i,o,a){var s=new r.ARRAY_TYPE(6);return s[0]=t,s[1]=e,s[2]=n,s[3]=i,s[4]=o,s[5]=a,s},i.set=function(t,e,n,r,i,o,a){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t},i.invert=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=n*o-r*i;return u?(u=1/u,t[0]=o*u,t[1]=-r*u,t[2]=-i*u,t[3]=n*u,t[4]=(i*s-o*a)*u,t[5]=(r*a-n*s)*u,t):null},i.determinant=function(t){return t[0]*t[3]-t[1]*t[2]},i.multiply=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=n[0],c=n[1],h=n[2],f=n[3],d=n[4],p=n[5];return t[0]=r*l+o*c,t[1]=i*l+a*c,t[2]=r*h+o*f,t[3]=i*h+a*f,t[4]=r*d+o*p+s,t[5]=i*d+a*p+u,t},i.mul=i.multiply,i.rotate=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=Math.sin(n),c=Math.cos(n);return t[0]=r*c+o*l,t[1]=i*c+a*l,t[2]=r*-l+o*c,t[3]=i*-l+a*c,t[4]=s,t[5]=u,t},i.scale=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=n[0],c=n[1];return t[0]=r*l,t[1]=i*l,t[2]=o*c,t[3]=a*c,t[4]=s,t[5]=u,t},i.translate=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=n[0],c=n[1];return t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=r*l+o*c+s,t[5]=i*l+a*c+u,t},i.fromRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t[4]=0,t[5]=0,t},i.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t[4]=0,t[5]=0,t},i.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0],t[5]=e[1],t},i.str=function(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"},i.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)},i.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t},i.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t},i.sub=i.subtract,i.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t},i.multiplyScalarAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t},i.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]},i.equals=function(t,e){var n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=e[0],c=e[1],h=e[2],f=e[3],d=e[4],p=e[5];return Math.abs(n-l)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(i-c)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(c))&&Math.abs(o-h)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(h))&&Math.abs(a-f)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(f))&&Math.abs(s-d)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(d))&&Math.abs(u-p)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(p))},t.exports=i},function(t,e,n){var r=n(99),i={scalar:{},SIMD:{}};i.create=function(){var t=new r.ARRAY_TYPE(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},i.clone=function(t){var e=new r.ARRAY_TYPE(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},i.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},i.fromValues=function(t,e,n,i,o,a,s,u,l,c,h,f,d,p,m,g){var v=new r.ARRAY_TYPE(16);return v[0]=t,v[1]=e,v[2]=n,v[3]=i,v[4]=o,v[5]=a,v[6]=s,v[7]=u,v[8]=l,v[9]=c,v[10]=h,v[11]=f,v[12]=d,v[13]=p,v[14]=m,v[15]=g,v},i.set=function(t,e,n,r,i,o,a,s,u,l,c,h,f,d,p,m,g){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t[6]=s,t[7]=u,t[8]=l,t[9]=c,t[10]=h,t[11]=f,t[12]=d,t[13]=p,t[14]=m,t[15]=g,t},i.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},i.scalar.transpose=function(t,e){if(t===e){var n=e[1],r=e[2],i=e[3],o=e[6],a=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=o,t[11]=e[14],t[12]=i,t[13]=a,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t},i.SIMD.transpose=function(t,e){var n,r,i,o,a,s,u,l,c,h;return n=SIMD.Float32x4.load(e,0),r=SIMD.Float32x4.load(e,4),i=SIMD.Float32x4.load(e,8),o=SIMD.Float32x4.load(e,12),a=SIMD.Float32x4.shuffle(n,r,0,1,4,5),s=SIMD.Float32x4.shuffle(i,o,0,1,4,5),u=SIMD.Float32x4.shuffle(a,s,0,2,4,6),l=SIMD.Float32x4.shuffle(a,s,1,3,5,7),SIMD.Float32x4.store(t,0,u),SIMD.Float32x4.store(t,4,l),a=SIMD.Float32x4.shuffle(n,r,2,3,6,7),s=SIMD.Float32x4.shuffle(i,o,2,3,6,7),c=SIMD.Float32x4.shuffle(a,s,0,2,4,6),h=SIMD.Float32x4.shuffle(a,s,1,3,5,7),SIMD.Float32x4.store(t,8,c),SIMD.Float32x4.store(t,12,h),t},i.transpose=r.USE_SIMD?i.SIMD.transpose:i.scalar.transpose,i.scalar.invert=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],l=e[7],c=e[8],h=e[9],f=e[10],d=e[11],p=e[12],m=e[13],g=e[14],v=e[15],y=n*s-r*a,b=n*u-i*a,w=n*l-o*a,x=r*u-i*s,_=r*l-o*s,E=i*l-o*u,M=c*m-h*p,S=c*g-f*p,T=c*v-d*p,C=h*g-f*m,I=h*v-d*m,O=f*v-d*g,A=y*O-b*I+w*C+x*T-_*S+E*M;return A?(A=1/A,t[0]=(s*O-u*I+l*C)*A,t[1]=(i*I-r*O-o*C)*A,t[2]=(m*E-g*_+v*x)*A,t[3]=(f*_-h*E-d*x)*A,t[4]=(u*T-a*O-l*S)*A,t[5]=(n*O-i*T+o*S)*A,t[6]=(g*w-p*E-v*b)*A,t[7]=(c*E-f*w+d*b)*A,t[8]=(a*I-s*T+l*M)*A,t[9]=(r*T-n*I-o*M)*A,t[10]=(p*_-m*w+v*y)*A,t[11]=(h*w-c*_-d*y)*A,t[12]=(s*S-a*C-u*M)*A,t[13]=(n*C-r*S+i*M)*A,t[14]=(m*b-p*x-g*y)*A,t[15]=(c*x-h*b+f*y)*A,t):null},i.SIMD.invert=function(t,e){var n,r,i,o,a,s,u,l,c,h,f=SIMD.Float32x4.load(e,0),d=SIMD.Float32x4.load(e,4),p=SIMD.Float32x4.load(e,8),m=SIMD.Float32x4.load(e,12);return a=SIMD.Float32x4.shuffle(f,d,0,1,4,5),r=SIMD.Float32x4.shuffle(p,m,0,1,4,5),n=SIMD.Float32x4.shuffle(a,r,0,2,4,6),r=SIMD.Float32x4.shuffle(r,a,1,3,5,7),a=SIMD.Float32x4.shuffle(f,d,2,3,6,7),o=SIMD.Float32x4.shuffle(p,m,2,3,6,7),i=SIMD.Float32x4.shuffle(a,o,0,2,4,6),o=SIMD.Float32x4.shuffle(o,a,1,3,5,7),a=SIMD.Float32x4.mul(i,o),a=SIMD.Float32x4.swizzle(a,1,0,3,2),s=SIMD.Float32x4.mul(r,a),u=SIMD.Float32x4.mul(n,a),a=SIMD.Float32x4.swizzle(a,2,3,0,1),s=SIMD.Float32x4.sub(SIMD.Float32x4.mul(r,a),s),u=SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,a),u),u=SIMD.Float32x4.swizzle(u,2,3,0,1),a=SIMD.Float32x4.mul(r,i),a=SIMD.Float32x4.swizzle(a,1,0,3,2),s=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,a),s),c=SIMD.Float32x4.mul(n,a),a=SIMD.Float32x4.swizzle(a,2,3,0,1),s=SIMD.Float32x4.sub(s,SIMD.Float32x4.mul(o,a)),c=SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,a),c),c=SIMD.Float32x4.swizzle(c,2,3,0,1),a=SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(r,2,3,0,1),o),a=SIMD.Float32x4.swizzle(a,1,0,3,2),i=SIMD.Float32x4.swizzle(i,2,3,0,1),s=SIMD.Float32x4.add(SIMD.Float32x4.mul(i,a),s),l=SIMD.Float32x4.mul(n,a),a=SIMD.Float32x4.swizzle(a,2,3,0,1),s=SIMD.Float32x4.sub(s,SIMD.Float32x4.mul(i,a)),l=SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,a),l),l=SIMD.Float32x4.swizzle(l,2,3,0,1),a=SIMD.Float32x4.mul(n,r),a=SIMD.Float32x4.swizzle(a,1,0,3,2),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,a),l),c=SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,a),c),a=SIMD.Float32x4.swizzle(a,2,3,0,1),l=SIMD.Float32x4.sub(SIMD.Float32x4.mul(o,a),l),c=SIMD.Float32x4.sub(c,SIMD.Float32x4.mul(i,a)),a=SIMD.Float32x4.mul(n,o),a=SIMD.Float32x4.swizzle(a,1,0,3,2),u=SIMD.Float32x4.sub(u,SIMD.Float32x4.mul(i,a)),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(r,a),l),a=SIMD.Float32x4.swizzle(a,2,3,0,1),u=SIMD.Float32x4.add(SIMD.Float32x4.mul(i,a),u),l=SIMD.Float32x4.sub(l,SIMD.Float32x4.mul(r,a)),a=SIMD.Float32x4.mul(n,i),a=SIMD.Float32x4.swizzle(a,1,0,3,2),u=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,a),u),c=SIMD.Float32x4.sub(c,SIMD.Float32x4.mul(r,a)),a=SIMD.Float32x4.swizzle(a,2,3,0,1),u=SIMD.Float32x4.sub(u,SIMD.Float32x4.mul(o,a)),c=SIMD.Float32x4.add(SIMD.Float32x4.mul(r,a),c),h=SIMD.Float32x4.mul(n,s),h=SIMD.Float32x4.add(SIMD.Float32x4.swizzle(h,2,3,0,1),h),h=SIMD.Float32x4.add(SIMD.Float32x4.swizzle(h,1,0,3,2),h),a=SIMD.Float32x4.reciprocalApproximation(h),h=SIMD.Float32x4.sub(SIMD.Float32x4.add(a,a),SIMD.Float32x4.mul(h,SIMD.Float32x4.mul(a,a))),(h=SIMD.Float32x4.swizzle(h,0,0,0,0))?(SIMD.Float32x4.store(t,0,SIMD.Float32x4.mul(h,s)),SIMD.Float32x4.store(t,4,SIMD.Float32x4.mul(h,u)),SIMD.Float32x4.store(t,8,SIMD.Float32x4.mul(h,l)),SIMD.Float32x4.store(t,12,SIMD.Float32x4.mul(h,c)),t):null},i.invert=r.USE_SIMD?i.SIMD.invert:i.scalar.invert,i.scalar.adjoint=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],l=e[7],c=e[8],h=e[9],f=e[10],d=e[11],p=e[12],m=e[13],g=e[14],v=e[15];return t[0]=s*(f*v-d*g)-h*(u*v-l*g)+m*(u*d-l*f),t[1]=-(r*(f*v-d*g)-h*(i*v-o*g)+m*(i*d-o*f)),t[2]=r*(u*v-l*g)-s*(i*v-o*g)+m*(i*l-o*u),t[3]=-(r*(u*d-l*f)-s*(i*d-o*f)+h*(i*l-o*u)),t[4]=-(a*(f*v-d*g)-c*(u*v-l*g)+p*(u*d-l*f)),t[5]=n*(f*v-d*g)-c*(i*v-o*g)+p*(i*d-o*f),t[6]=-(n*(u*v-l*g)-a*(i*v-o*g)+p*(i*l-o*u)),t[7]=n*(u*d-l*f)-a*(i*d-o*f)+c*(i*l-o*u),t[8]=a*(h*v-d*m)-c*(s*v-l*m)+p*(s*d-l*h),t[9]=-(n*(h*v-d*m)-c*(r*v-o*m)+p*(r*d-o*h)),t[10]=n*(s*v-l*m)-a*(r*v-o*m)+p*(r*l-o*s),t[11]=-(n*(s*d-l*h)-a*(r*d-o*h)+c*(r*l-o*s)),t[12]=-(a*(h*g-f*m)-c*(s*g-u*m)+p*(s*f-u*h)),t[13]=n*(h*g-f*m)-c*(r*g-i*m)+p*(r*f-i*h),t[14]=-(n*(s*g-u*m)-a*(r*g-i*m)+p*(r*u-i*s)),t[15]=n*(s*f-u*h)-a*(r*f-i*h)+c*(r*u-i*s),t},i.SIMD.adjoint=function(t,e){var n,r,i,o,a,s,u,l,c,h,f,d,p,n=SIMD.Float32x4.load(e,0),r=SIMD.Float32x4.load(e,4),i=SIMD.Float32x4.load(e,8),o=SIMD.Float32x4.load(e,12);return c=SIMD.Float32x4.shuffle(n,r,0,1,4,5),s=SIMD.Float32x4.shuffle(i,o,0,1,4,5),a=SIMD.Float32x4.shuffle(c,s,0,2,4,6),s=SIMD.Float32x4.shuffle(s,c,1,3,5,7),c=SIMD.Float32x4.shuffle(n,r,2,3,6,7),l=SIMD.Float32x4.shuffle(i,o,2,3,6,7),u=SIMD.Float32x4.shuffle(c,l,0,2,4,6),l=SIMD.Float32x4.shuffle(l,c,1,3,5,7),c=SIMD.Float32x4.mul(u,l),c=SIMD.Float32x4.swizzle(c,1,0,3,2),h=SIMD.Float32x4.mul(s,c),f=SIMD.Float32x4.mul(a,c),c=SIMD.Float32x4.swizzle(c,2,3,0,1),h=SIMD.Float32x4.sub(SIMD.Float32x4.mul(s,c),h),f=SIMD.Float32x4.sub(SIMD.Float32x4.mul(a,c),f),f=SIMD.Float32x4.swizzle(f,2,3,0,1),c=SIMD.Float32x4.mul(s,u),c=SIMD.Float32x4.swizzle(c,1,0,3,2),h=SIMD.Float32x4.add(SIMD.Float32x4.mul(l,c),h),p=SIMD.Float32x4.mul(a,c),c=SIMD.Float32x4.swizzle(c,2,3,0,1),h=SIMD.Float32x4.sub(h,SIMD.Float32x4.mul(l,c)),p=SIMD.Float32x4.sub(SIMD.Float32x4.mul(a,c),p),p=SIMD.Float32x4.swizzle(p,2,3,0,1),c=SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,2,3,0,1),l),c=SIMD.Float32x4.swizzle(c,1,0,3,2),u=SIMD.Float32x4.swizzle(u,2,3,0,1),h=SIMD.Float32x4.add(SIMD.Float32x4.mul(u,c),h),d=SIMD.Float32x4.mul(a,c),c=SIMD.Float32x4.swizzle(c,2,3,0,1),h=SIMD.Float32x4.sub(h,SIMD.Float32x4.mul(u,c)),d=SIMD.Float32x4.sub(SIMD.Float32x4.mul(a,c),d),d=SIMD.Float32x4.swizzle(d,2,3,0,1),c=SIMD.Float32x4.mul(a,s),c=SIMD.Float32x4.swizzle(c,1,0,3,2),d=SIMD.Float32x4.add(SIMD.Float32x4.mul(l,c),d),p=SIMD.Float32x4.sub(SIMD.Float32x4.mul(u,c),p),c=SIMD.Float32x4.swizzle(c,2,3,0,1),d=SIMD.Float32x4.sub(SIMD.Float32x4.mul(l,c),d),p=SIMD.Float32x4.sub(p,SIMD.Float32x4.mul(u,c)),c=SIMD.Float32x4.mul(a,l),c=SIMD.Float32x4.swizzle(c,1,0,3,2),f=SIMD.Float32x4.sub(f,SIMD.Float32x4.mul(u,c)),d=SIMD.Float32x4.add(SIMD.Float32x4.mul(s,c),d),c=SIMD.Float32x4.swizzle(c,2,3,0,1),f=SIMD.Float32x4.add(SIMD.Float32x4.mul(u,c),f),d=SIMD.Float32x4.sub(d,SIMD.Float32x4.mul(s,c)),c=SIMD.Float32x4.mul(a,u),c=SIMD.Float32x4.swizzle(c,1,0,3,2),f=SIMD.Float32x4.add(SIMD.Float32x4.mul(l,c),f),p=SIMD.Float32x4.sub(p,SIMD.Float32x4.mul(s,c)),c=SIMD.Float32x4.swizzle(c,2,3,0,1),f=SIMD.Float32x4.sub(f,SIMD.Float32x4.mul(l,c)),p=SIMD.Float32x4.add(SIMD.Float32x4.mul(s,c),p),SIMD.Float32x4.store(t,0,h),SIMD.Float32x4.store(t,4,f),SIMD.Float32x4.store(t,8,d),SIMD.Float32x4.store(t,12,p),t},i.adjoint=r.USE_SIMD?i.SIMD.adjoint:i.scalar.adjoint,i.determinant=function(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],u=t[7],l=t[8],c=t[9],h=t[10],f=t[11],d=t[12],p=t[13],m=t[14],g=t[15];return(e*a-n*o)*(h*g-f*m)-(e*s-r*o)*(c*g-f*p)+(e*u-i*o)*(c*m-h*p)+(n*s-r*a)*(l*g-f*d)-(n*u-i*a)*(l*m-h*d)+(r*u-i*s)*(l*p-c*d)},i.SIMD.multiply=function(t,e,n){var r=SIMD.Float32x4.load(e,0),i=SIMD.Float32x4.load(e,4),o=SIMD.Float32x4.load(e,8),a=SIMD.Float32x4.load(e,12),s=SIMD.Float32x4.load(n,0),u=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,0,0,0,0),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,1,1,1,1),i),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,3,3,3,3),a))));SIMD.Float32x4.store(t,0,u);var l=SIMD.Float32x4.load(n,4),c=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(l,0,0,0,0),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(l,1,1,1,1),i),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(l,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(l,3,3,3,3),a))));SIMD.Float32x4.store(t,4,c);var h=SIMD.Float32x4.load(n,8),f=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(h,0,0,0,0),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(h,1,1,1,1),i),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(h,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(h,3,3,3,3),a))));SIMD.Float32x4.store(t,8,f);var d=SIMD.Float32x4.load(n,12),p=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(d,0,0,0,0),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(d,1,1,1,1),i),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(d,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(d,3,3,3,3),a))));return SIMD.Float32x4.store(t,12,p),t},i.scalar.multiply=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],h=e[8],f=e[9],d=e[10],p=e[11],m=e[12],g=e[13],v=e[14],y=e[15],b=n[0],w=n[1],x=n[2],_=n[3];return t[0]=b*r+w*s+x*h+_*m,t[1]=b*i+w*u+x*f+_*g,t[2]=b*o+w*l+x*d+_*v,t[3]=b*a+w*c+x*p+_*y,b=n[4],w=n[5],x=n[6],_=n[7],t[4]=b*r+w*s+x*h+_*m,t[5]=b*i+w*u+x*f+_*g,t[6]=b*o+w*l+x*d+_*v,t[7]=b*a+w*c+x*p+_*y,b=n[8],w=n[9],x=n[10],_=n[11],t[8]=b*r+w*s+x*h+_*m,t[9]=b*i+w*u+x*f+_*g,t[10]=b*o+w*l+x*d+_*v,t[11]=b*a+w*c+x*p+_*y,b=n[12],w=n[13],x=n[14],_=n[15],t[12]=b*r+w*s+x*h+_*m,t[13]=b*i+w*u+x*f+_*g,t[14]=b*o+w*l+x*d+_*v,t[15]=b*a+w*c+x*p+_*y,t},i.multiply=r.USE_SIMD?i.SIMD.multiply:i.scalar.multiply,i.mul=i.multiply,i.scalar.translate=function(t,e,n){var r,i,o,a,s,u,l,c,h,f,d,p,m=n[0],g=n[1],v=n[2];return e===t?(t[12]=e[0]*m+e[4]*g+e[8]*v+e[12],t[13]=e[1]*m+e[5]*g+e[9]*v+e[13],t[14]=e[2]*m+e[6]*g+e[10]*v+e[14],t[15]=e[3]*m+e[7]*g+e[11]*v+e[15]):(r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],h=e[8],f=e[9],d=e[10],p=e[11],t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t[6]=l,t[7]=c,t[8]=h,t[9]=f,t[10]=d,t[11]=p,t[12]=r*m+s*g+h*v+e[12],t[13]=i*m+u*g+f*v+e[13],t[14]=o*m+l*g+d*v+e[14],t[15]=a*m+c*g+p*v+e[15]),t},i.SIMD.translate=function(t,e,n){var r=SIMD.Float32x4.load(e,0),i=SIMD.Float32x4.load(e,4),o=SIMD.Float32x4.load(e,8),a=SIMD.Float32x4.load(e,12),s=SIMD.Float32x4(n[0],n[1],n[2],0);e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11]),r=SIMD.Float32x4.mul(r,SIMD.Float32x4.swizzle(s,0,0,0,0)),i=SIMD.Float32x4.mul(i,SIMD.Float32x4.swizzle(s,1,1,1,1)),o=SIMD.Float32x4.mul(o,SIMD.Float32x4.swizzle(s,2,2,2,2));var u=SIMD.Float32x4.add(r,SIMD.Float32x4.add(i,SIMD.Float32x4.add(o,a)));return SIMD.Float32x4.store(t,12,u),t},i.translate=r.USE_SIMD?i.SIMD.translate:i.scalar.translate,i.scalar.scale=function(t,e,n){var r=n[0],i=n[1],o=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},i.SIMD.scale=function(t,e,n){var r,i,o,a=SIMD.Float32x4(n[0],n[1],n[2],0);return r=SIMD.Float32x4.load(e,0),SIMD.Float32x4.store(t,0,SIMD.Float32x4.mul(r,SIMD.Float32x4.swizzle(a,0,0,0,0))),i=SIMD.Float32x4.load(e,4),SIMD.Float32x4.store(t,4,SIMD.Float32x4.mul(i,SIMD.Float32x4.swizzle(a,1,1,1,1))),o=SIMD.Float32x4.load(e,8),SIMD.Float32x4.store(t,8,SIMD.Float32x4.mul(o,SIMD.Float32x4.swizzle(a,2,2,2,2))),t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},i.scale=r.USE_SIMD?i.SIMD.scale:i.scalar.scale,i.rotate=function(t,e,n,i){var o,a,s,u,l,c,h,f,d,p,m,g,v,y,b,w,x,_,E,M,S,T,C,I,O=i[0],A=i[1],L=i[2],R=Math.sqrt(O*O+A*A+L*L);return Math.abs(R)<r.EPSILON?null:(R=1/R,O*=R,A*=R,L*=R,o=Math.sin(n),a=Math.cos(n),s=1-a,u=e[0],l=e[1],c=e[2],h=e[3],f=e[4],d=e[5],p=e[6],m=e[7],g=e[8],v=e[9],y=e[10],b=e[11],w=O*O*s+a,x=A*O*s+L*o,_=L*O*s-A*o,E=O*A*s-L*o,M=A*A*s+a,S=L*A*s+O*o,T=O*L*s+A*o,C=A*L*s-O*o,I=L*L*s+a,t[0]=u*w+f*x+g*_,t[1]=l*w+d*x+v*_,t[2]=c*w+p*x+y*_,t[3]=h*w+m*x+b*_,t[4]=u*E+f*M+g*S,t[5]=l*E+d*M+v*S,t[6]=c*E+p*M+y*S,t[7]=h*E+m*M+b*S,t[8]=u*T+f*C+g*I,t[9]=l*T+d*C+v*I,t[10]=c*T+p*C+y*I,t[11]=h*T+m*C+b*I,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)},i.scalar.rotateX=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[4],a=e[5],s=e[6],u=e[7],l=e[8],c=e[9],h=e[10],f=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*i+l*r,t[5]=a*i+c*r,t[6]=s*i+h*r,t[7]=u*i+f*r,t[8]=l*i-o*r,t[9]=c*i-a*r,t[10]=h*i-s*r,t[11]=f*i-u*r,t},i.SIMD.rotateX=function(t,e,n){var r=SIMD.Float32x4.splat(Math.sin(n)),i=SIMD.Float32x4.splat(Math.cos(n));e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);var o=SIMD.Float32x4.load(e,4),a=SIMD.Float32x4.load(e,8);return SIMD.Float32x4.store(t,4,SIMD.Float32x4.add(SIMD.Float32x4.mul(o,i),SIMD.Float32x4.mul(a,r))),SIMD.Float32x4.store(t,8,SIMD.Float32x4.sub(SIMD.Float32x4.mul(a,i),SIMD.Float32x4.mul(o,r))),t},i.rotateX=r.USE_SIMD?i.SIMD.rotateX:i.scalar.rotateX,i.scalar.rotateY=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],u=e[3],l=e[8],c=e[9],h=e[10],f=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i-l*r,t[1]=a*i-c*r,t[2]=s*i-h*r,t[3]=u*i-f*r,t[8]=o*r+l*i,t[9]=a*r+c*i,t[10]=s*r+h*i,t[11]=u*r+f*i,t},i.SIMD.rotateY=function(t,e,n){var r=SIMD.Float32x4.splat(Math.sin(n)),i=SIMD.Float32x4.splat(Math.cos(n));e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);var o=SIMD.Float32x4.load(e,0),a=SIMD.Float32x4.load(e,8);return SIMD.Float32x4.store(t,0,SIMD.Float32x4.sub(SIMD.Float32x4.mul(o,i),SIMD.Float32x4.mul(a,r))),SIMD.Float32x4.store(t,8,SIMD.Float32x4.add(SIMD.Float32x4.mul(o,r),SIMD.Float32x4.mul(a,i))),t},i.rotateY=r.USE_SIMD?i.SIMD.rotateY:i.scalar.rotateY,i.scalar.rotateZ=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],u=e[3],l=e[4],c=e[5],h=e[6],f=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i+l*r,t[1]=a*i+c*r,t[2]=s*i+h*r,t[3]=u*i+f*r,t[4]=l*i-o*r,t[5]=c*i-a*r,t[6]=h*i-s*r,t[7]=f*i-u*r,t},i.SIMD.rotateZ=function(t,e,n){var r=SIMD.Float32x4.splat(Math.sin(n)),i=SIMD.Float32x4.splat(Math.cos(n));e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);var o=SIMD.Float32x4.load(e,0),a=SIMD.Float32x4.load(e,4);return SIMD.Float32x4.store(t,0,SIMD.Float32x4.add(SIMD.Float32x4.mul(o,i),SIMD.Float32x4.mul(a,r))),SIMD.Float32x4.store(t,4,SIMD.Float32x4.sub(SIMD.Float32x4.mul(a,i),SIMD.Float32x4.mul(o,r))),t},i.rotateZ=r.USE_SIMD?i.SIMD.rotateZ:i.scalar.rotateZ,i.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t},i.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},i.fromRotation=function(t,e,n){var i,o,a,s=n[0],u=n[1],l=n[2],c=Math.sqrt(s*s+u*u+l*l);return Math.abs(c)<r.EPSILON?null:(c=1/c,s*=c,u*=c,l*=c,i=Math.sin(e),o=Math.cos(e),a=1-o,t[0]=s*s*a+o,t[1]=u*s*a+l*i,t[2]=l*s*a-u*i,t[3]=0,t[4]=s*u*a-l*i,t[5]=u*u*a+o,t[6]=l*u*a+s*i,t[7]=0,t[8]=s*l*a+u*i,t[9]=u*l*a-s*i,t[10]=l*l*a+o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)},i.fromXRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},i.fromYRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},i.fromZRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},i.fromRotationTranslation=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=r+r,u=i+i,l=o+o,c=r*s,h=r*u,f=r*l,d=i*u,p=i*l,m=o*l,g=a*s,v=a*u,y=a*l;return t[0]=1-(d+m),t[1]=h+y,t[2]=f-v,t[3]=0,t[4]=h-y,t[5]=1-(c+m),t[6]=p+g,t[7]=0,t[8]=f+v,t[9]=p-g,t[10]=1-(c+d),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t},i.getTranslation=function(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t},i.getRotation=function(t,e){var n=e[0]+e[5]+e[10],r=0;return n>0?(r=2*Math.sqrt(n+1),t[3]=.25*r,t[0]=(e[6]-e[9])/r,t[1]=(e[8]-e[2])/r,t[2]=(e[1]-e[4])/r):e[0]>e[5]&e[0]>e[10]?(r=2*Math.sqrt(1+e[0]-e[5]-e[10]),t[3]=(e[6]-e[9])/r,t[0]=.25*r,t[1]=(e[1]+e[4])/r,t[2]=(e[8]+e[2])/r):e[5]>e[10]?(r=2*Math.sqrt(1+e[5]-e[0]-e[10]),t[3]=(e[8]-e[2])/r,t[0]=(e[1]+e[4])/r,t[1]=.25*r,t[2]=(e[6]+e[9])/r):(r=2*Math.sqrt(1+e[10]-e[0]-e[5]),t[3]=(e[1]-e[4])/r,t[0]=(e[8]+e[2])/r,t[1]=(e[6]+e[9])/r,t[2]=.25*r),t},i.fromRotationTranslationScale=function(t,e,n,r){var i=e[0],o=e[1],a=e[2],s=e[3],u=i+i,l=o+o,c=a+a,h=i*u,f=i*l,d=i*c,p=o*l,m=o*c,g=a*c,v=s*u,y=s*l,b=s*c,w=r[0],x=r[1],_=r[2];return t[0]=(1-(p+g))*w,t[1]=(f+b)*w,t[2]=(d-y)*w,t[3]=0,t[4]=(f-b)*x,t[5]=(1-(h+g))*x,t[6]=(m+v)*x,t[7]=0,t[8]=(d+y)*_,t[9]=(m-v)*_,t[10]=(1-(h+p))*_,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t},i.fromRotationTranslationScaleOrigin=function(t,e,n,r,i){var o=e[0],a=e[1],s=e[2],u=e[3],l=o+o,c=a+a,h=s+s,f=o*l,d=o*c,p=o*h,m=a*c,g=a*h,v=s*h,y=u*l,b=u*c,w=u*h,x=r[0],_=r[1],E=r[2],M=i[0],S=i[1],T=i[2];return t[0]=(1-(m+v))*x,t[1]=(d+w)*x,t[2]=(p-b)*x,t[3]=0,t[4]=(d-w)*_,t[5]=(1-(f+v))*_,t[6]=(g+y)*_,t[7]=0,t[8]=(p+b)*E,t[9]=(g-y)*E,t[10]=(1-(f+m))*E,t[11]=0,t[12]=n[0]+M-(t[0]*M+t[4]*S+t[8]*T),t[13]=n[1]+S-(t[1]*M+t[5]*S+t[9]*T),t[14]=n[2]+T-(t[2]*M+t[6]*S+t[10]*T),t[15]=1,t},i.fromQuat=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n+n,s=r+r,u=i+i,l=n*a,c=r*a,h=r*s,f=i*a,d=i*s,p=i*u,m=o*a,g=o*s,v=o*u;return t[0]=1-h-p,t[1]=c+v,t[2]=f-g,t[3]=0,t[4]=c-v,t[5]=1-l-p,t[6]=d+m,t[7]=0,t[8]=f+g,t[9]=d-m,t[10]=1-l-h,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},i.frustum=function(t,e,n,r,i,o,a){var s=1/(n-e),u=1/(i-r),l=1/(o-a);return t[0]=2*o*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*u,t[6]=0,t[7]=0,t[8]=(n+e)*s,t[9]=(i+r)*u,t[10]=(a+o)*l,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*o*2*l,t[15]=0,t},i.perspective=function(t,e,n,r,i){var o=1/Math.tan(e/2),a=1/(r-i);return t[0]=o/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(i+r)*a,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*i*r*a,t[15]=0,t},i.perspectiveFromFieldOfView=function(t,e,n,r){var i=Math.tan(e.upDegrees*Math.PI/180),o=Math.tan(e.downDegrees*Math.PI/180),a=Math.tan(e.leftDegrees*Math.PI/180),s=Math.tan(e.rightDegrees*Math.PI/180),u=2/(a+s),l=2/(i+o);return t[0]=u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=l,t[6]=0,t[7]=0,t[8]=-(a-s)*u*.5,t[9]=(i-o)*l*.5,t[10]=r/(n-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n/(n-r),t[15]=0,t},i.ortho=function(t,e,n,r,i,o,a){var s=1/(e-n),u=1/(r-i),l=1/(o-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*l,t[11]=0,t[12]=(e+n)*s,t[13]=(i+r)*u,t[14]=(a+o)*l,t[15]=1,t},i.lookAt=function(t,e,n,o){var a,s,u,l,c,h,f,d,p,m,g=e[0],v=e[1],y=e[2],b=o[0],w=o[1],x=o[2],_=n[0],E=n[1],M=n[2];return Math.abs(g-_)<r.EPSILON&&Math.abs(v-E)<r.EPSILON&&Math.abs(y-M)<r.EPSILON?i.identity(t):(f=g-_,d=v-E,p=y-M,m=1/Math.sqrt(f*f+d*d+p*p),f*=m,d*=m,p*=m,a=w*p-x*d,s=x*f-b*p,u=b*d-w*f,m=Math.sqrt(a*a+s*s+u*u),m?(m=1/m,a*=m,s*=m,u*=m):(a=0,s=0,u=0),l=d*u-p*s,c=p*a-f*u,h=f*s-d*a,m=Math.sqrt(l*l+c*c+h*h),m?(m=1/m,l*=m,c*=m,h*=m):(l=0,c=0,h=0),t[0]=a,t[1]=l,t[2]=f,t[3]=0,t[4]=s,t[5]=c,t[6]=d,t[7]=0,t[8]=u,t[9]=h,t[10]=p,t[11]=0,t[12]=-(a*g+s*v+u*y),t[13]=-(l*g+c*v+h*y),t[14]=-(f*g+d*v+p*y),t[15]=1,t)},i.str=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},i.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))},i.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t},i.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t},i.sub=i.subtract,i.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t},i.multiplyScalarAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t[9]=e[9]+n[9]*r,t[10]=e[10]+n[10]*r,t[11]=e[11]+n[11]*r,t[12]=e[12]+n[12]*r,t[13]=e[13]+n[13]*r,t[14]=e[14]+n[14]*r,t[15]=e[15]+n[15]*r,t},i.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]},i.equals=function(t,e){var n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],h=t[8],f=t[9],d=t[10],p=t[11],m=t[12],g=t[13],v=t[14],y=t[15],b=e[0],w=e[1],x=e[2],_=e[3],E=e[4],M=e[5],S=e[6],T=e[7],C=e[8],I=e[9],O=e[10],A=e[11],L=e[12],R=e[13],N=e[14],P=e[15];return Math.abs(n-b)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(b))&&Math.abs(i-w)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(w))&&Math.abs(o-x)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(x))&&Math.abs(a-_)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(_))&&Math.abs(s-E)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(E))&&Math.abs(u-M)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(M))&&Math.abs(l-S)<=r.EPSILON*Math.max(1,Math.abs(l),Math.abs(S))&&Math.abs(c-T)<=r.EPSILON*Math.max(1,Math.abs(c),Math.abs(T))&&Math.abs(h-C)<=r.EPSILON*Math.max(1,Math.abs(h),Math.abs(C))&&Math.abs(f-I)<=r.EPSILON*Math.max(1,Math.abs(f),Math.abs(I))&&Math.abs(d-O)<=r.EPSILON*Math.max(1,Math.abs(d),Math.abs(O))&&Math.abs(p-A)<=r.EPSILON*Math.max(1,Math.abs(p),Math.abs(A))&&Math.abs(m-L)<=r.EPSILON*Math.max(1,Math.abs(m),Math.abs(L))&&Math.abs(g-R)<=r.EPSILON*Math.max(1,Math.abs(g),Math.abs(R))&&Math.abs(v-N)<=r.EPSILON*Math.max(1,Math.abs(v),Math.abs(N))&&Math.abs(y-P)<=r.EPSILON*Math.max(1,Math.abs(y),Math.abs(P))},t.exports=i},function(t,e,n){var r=n(99),i=n(301),o=n(91),a=n(422),s={};s.create=function(){var t=new r.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},s.rotationTo=function(){var t=o.create(),e=o.fromValues(1,0,0),n=o.fromValues(0,1,0);return function(r,i,a){var u=o.dot(i,a);return u<-.999999?(o.cross(t,e,i),o.length(t)<1e-6&&o.cross(t,n,i),o.normalize(t,t),s.setAxisAngle(r,t,Math.PI),r):u>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(o.cross(t,i,a),r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=1+u,s.normalize(r,r))}}(),s.setAxes=function(){var t=i.create();return function(e,n,r,i){return t[0]=r[0],t[3]=r[1],t[6]=r[2],t[1]=i[0],t[4]=i[1],t[7]=i[2],t[2]=-n[0],t[5]=-n[1],t[8]=-n[2],s.normalize(e,s.fromMat3(e,t))}}(),s.clone=a.clone,s.fromValues=a.fromValues,s.copy=a.copy,s.set=a.set,s.identity=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},s.setAxisAngle=function(t,e,n){n*=.5;var r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t},s.getAxisAngle=function(t,e){var n=2*Math.acos(e[3]),r=Math.sin(n/2);return 0!=r?(t[0]=e[0]/r,t[1]=e[1]/r,t[2]=e[2]/r):(t[0]=1,t[1]=0,t[2]=0),n},s.add=a.add,s.multiply=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=n[0],u=n[1],l=n[2],c=n[3];return t[0]=r*c+a*s+i*l-o*u,t[1]=i*c+a*u+o*s-r*l,t[2]=o*c+a*l+r*u-i*s,t[3]=a*c-r*s-i*u-o*l,t},s.mul=s.multiply,s.scale=a.scale,s.rotateX=function(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+a*s,t[1]=i*u+o*s,t[2]=o*u-i*s,t[3]=a*u-r*s,t},s.rotateY=function(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u-o*s,t[1]=i*u+a*s,t[2]=o*u+r*s,t[3]=a*u-i*s,t},s.rotateZ=function(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+i*s,t[1]=i*u-r*s,t[2]=o*u+a*s,t[3]=a*u-o*s,t},s.calculateW=function(t,e){var n=e[0],r=e[1],i=e[2];return t[0]=n,t[1]=r,t[2]=i,t[3]=Math.sqrt(Math.abs(1-n*n-r*r-i*i)),t},s.dot=a.dot,s.lerp=a.lerp,s.slerp=function(t,e,n,r){var i,o,a,s,u,l=e[0],c=e[1],h=e[2],f=e[3],d=n[0],p=n[1],m=n[2],g=n[3];return o=l*d+c*p+h*m+f*g,o<0&&(o=-o,d=-d,p=-p,m=-m,g=-g),1-o>1e-6?(i=Math.acos(o),a=Math.sin(i),s=Math.sin((1-r)*i)/a,u=Math.sin(r*i)/a):(s=1-r,u=r),t[0]=s*l+u*d,t[1]=s*c+u*p,t[2]=s*h+u*m,t[3]=s*f+u*g,t},s.sqlerp=function(){var t=s.create(),e=s.create();return function(n,r,i,o,a,u){return s.slerp(t,r,a,u),s.slerp(e,i,o,u),s.slerp(n,t,e,2*u*(1-u)),n}}(),s.invert=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n*n+r*r+i*i+o*o,s=a?1/a:0;return t[0]=-n*s,t[1]=-r*s,t[2]=-i*s,t[3]=o*s,t},s.conjugate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t},s.length=a.length,s.len=s.length,s.squaredLength=a.squaredLength,s.sqrLen=s.squaredLength,s.normalize=a.normalize,s.fromMat3=function(t,e){var n,r=e[0]+e[4]+e[8];if(r>0)n=Math.sqrt(r+1),t[3]=.5*n,n=.5/n,t[0]=(e[5]-e[7])*n,t[1]=(e[6]-e[2])*n,t[2]=(e[1]-e[3])*n;else{var i=0;e[4]>e[0]&&(i=1),e[8]>e[3*i+i]&&(i=2);var o=(i+1)%3,a=(i+2)%3;n=Math.sqrt(e[3*i+i]-e[3*o+o]-e[3*a+a]+1),t[i]=.5*n,n=.5/n,t[3]=(e[3*o+a]-e[3*a+o])*n,t[o]=(e[3*o+i]+e[3*i+o])*n,t[a]=(e[3*a+i]+e[3*i+a])*n}return t},s.str=function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},s.exactEquals=a.exactEquals,s.equals=a.equals,t.exports=s},function(t,e){!function(){"use strict";window.CM||(window.CM={uniqueID:function(){var t=Math.floor(1e6*Math.random());return function(){return t=(t+1)%1e6}}()})}()},function(t,e,n){"use strict";var r=n(70),i=n.n(r),o=i.a;window.CM.Proj4={getProj4:function(){return o},setProj4:function(t){o=t}}},function(t,e,n){function r(t,e,n){var r;return Array.isArray(n)?(r=s(t,e,n),3===n.length?[r.x,r.y,r.z]:[r.x,r.y]):s(t,e,n)}function i(t){return t instanceof a?t:t.oProj?t.oProj:a(t)}function o(t,e,n){t=i(t);var o,a=!1;return void 0===e?(e=t,t=u,a=!0):(void 0!==e.x||Array.isArray(e))&&(n=e,e=t,t=u,a=!0),e=i(e),n?r(t,e,n):(o={forward:function(n){return r(t,e,n)},inverse:function(n){return r(e,t,n)}},a&&(o.oProj=e),o)}var a=n(302),s=n(426),u=a("WGS84");t.exports=o},function(t,e,n){function r(t){return"string"==typeof t}function i(t){return t in u}function o(t){return["GEOGCS","GEOCCS","PROJCS","LOCAL_CS"].reduce(function(e,n){return e+1+t.indexOf(n)},0)}function a(t){return"+"===t[0]}function s(t){return r(t)?i(t)?u[t]:o(t)?l(t):a(t)?c(t):void 0:t}var u=n(423),l=n(425),c=n(424);t.exports=s},function(t,e){t.exports=function(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}},function(t,e){e.greenwich=0,e.lisbon=-9.131906111111,e.paris=2.337229166667,e.bogota=-74.080916666667,e.madrid=-3.687938888889,e.rome=12.452333333333,e.bern=7.439583333333,e.jakarta=106.807719444444,e.ferro=-17.666666666667,e.brussels=4.367975,e.stockholm=18.058277777778,e.athens=23.7163375,e.oslo=10.722916666667},function(t,e){e.ft={to_meter:.3048},e["us-ft"]={to_meter:1200/3937}},function(t,e,n){function r(t,e){var n=a.length;return t.names?(a[n]=t,t.names.forEach(function(t){o[t.toLowerCase()]=n}),this):(console.log(e),!0)}var i=[n(854),n(855)],o={},a=[];e.add=r,e.get=function(t){if(!t)return!1;var e=t.toLowerCase();return void 0!==o[e]&&a[o[e]]?a[o[e]]:void 0},e.start=function(){i.forEach(r)}},function(t,e,n){var r=n(153),i=Math.PI/2,o=57.29577951308232,a=n(43),s=Math.PI/4,u=n(231),l=n(232);e.init=function(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=r(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)},e.forward=function(t){var e=t.x,n=t.y;if(n*o>90&&n*o<-90&&e*o>180&&e*o<-180)return null;var r,l;if(Math.abs(Math.abs(n)-i)<=1e-10)return null;if(this.sphere)r=this.x0+this.a*this.k0*a(e-this.long0),l=this.y0+this.a*this.k0*Math.log(Math.tan(s+.5*n));else{var c=Math.sin(n),h=u(this.e,n,c);r=this.x0+this.a*this.k0*a(e-this.long0),l=this.y0-this.a*this.k0*Math.log(h)}return t.x=r,t.y=l,t},e.inverse=function(t){var e,n,r=t.x-this.x0,o=t.y-this.y0;if(this.sphere)n=i-2*Math.atan(Math.exp(-o/(this.a*this.k0)));else{var s=Math.exp(-o/(this.a*this.k0));if(-9999===(n=l(this.e,s)))return null}return e=a(this.long0+r/(this.a*this.k0)),t.x=e,t.y=n,t},e.names=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]},function(t,e){function n(t){return t}e.init=function(){},e.forward=n,e.inverse=n,e.names=["longlat","identity"]},function(t,e,n){var r=n(857),i=n(858),o=n(303),a=n(859);t.exports=function(t){if(t.datumCode&&"none"!==t.datumCode){var e=r[t.datumCode];e&&(t.datum_params=e.towgs84?e.towgs84.split(","):null,t.ellps=e.ellipse,t.datumName=e.datumName?e.datumName:t.datumCode)}if(!t.a){var n=i[t.ellps]?i[t.ellps]:i.WGS84;o(t,n)}return t.rf&&!t.b&&(t.b=(1-1/t.rf)*t.a),(0===t.rf||Math.abs(t.a-t.b)<1e-10)&&(t.sphere=!0,t.b=t.a),t.a2=t.a*t.a,t.b2=t.b*t.b,t.es=(t.a2-t.b2)/t.a2,t.e=Math.sqrt(t.es),t.R_A&&(t.a*=1-t.es*(.16666666666666666+t.es*(.04722222222222222+.022156084656084655*t.es)),t.a2=t.a*t.a,t.b2=t.b*t.b,t.es=0),t.ep2=(t.a2-t.b2)/t.b2,t.k0||(t.k0=1),t.axis||(t.axis="enu"),t.datum||(t.datum=a(t)),t}},function(t,e){e.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},e.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},e.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},e.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},e.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},e.potsdam={towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},e.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},e.hermannskogel={towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"},e.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},e.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},e.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},e.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},e.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},e.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},e.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},e.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"}},function(t,e){e.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"},e.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},e.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},e.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"},e.airy={a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},e.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},e.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},e.mod_airy={a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},e.andrae={a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},e.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},e.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},e.bessel={a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},e.bess_nam={a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},e.clrk66={a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},e.clrk80={a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},e.clrk58={a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},e.CPM={a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},e.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},e.engelis={a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},e.evrst30={a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},e.evrst48={a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},e.evrst56={a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},e.evrst69={a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},e.evrstSS={a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},e.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},e.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"},e.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"},e.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"},e.hough={a:6378270,rf:297,ellipseName:"Hough"},e.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},e.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"},e.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"},e.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"},e.new_intl={a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},e.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},e.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},e.SEasia={a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},e.walbeck={a:6376896,b:6355834.8467,ellipseName:"Walbeck"},e.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"},e.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"},e.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"},e.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"},e.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"}},function(t,e){var n=Math.PI/2,r=function(t){if(!(this instanceof r))return new r(t);this.datum_type=4,t&&(t.datumCode&&"none"===t.datumCode&&(this.datum_type=5),t.datum_params&&(this.datum_params=t.datum_params.map(parseFloat),0===this.datum_params[0]&&0===this.datum_params[1]&&0===this.datum_params[2]||(this.datum_type=1),this.datum_params.length>3&&(0===this.datum_params[3]&&0===this.datum_params[4]&&0===this.datum_params[5]&&0===this.datum_params[6]||(this.datum_type=2,this.datum_params[3]*=484813681109536e-20,this.datum_params[4]*=484813681109536e-20,this.datum_params[5]*=484813681109536e-20,this.datum_params[6]=this.datum_params[6]/1e6+1))),this.datum_type=t.grids?3:this.datum_type,this.a=t.a,this.b=t.b,this.es=t.es,this.ep2=t.ep2,3===this.datum_type&&(this.grids=t.grids))};r.prototype={compare_datums:function(t){return this.datum_type===t.datum_type&&(!(this.a!==t.a||Math.abs(this.es-t.es)>5e-11)&&(1===this.datum_type?this.datum_params[0]===t.datum_params[0]&&this.datum_params[1]===t.datum_params[1]&&this.datum_params[2]===t.datum_params[2]:2===this.datum_type?this.datum_params[0]===t.datum_params[0]&&this.datum_params[1]===t.datum_params[1]&&this.datum_params[2]===t.datum_params[2]&&this.datum_params[3]===t.datum_params[3]&&this.datum_params[4]===t.datum_params[4]&&this.datum_params[5]===t.datum_params[5]&&this.datum_params[6]===t.datum_params[6]:3!==this.datum_type&&3!==t.datum_type||this.nadgrids===t.nadgrids))},geodetic_to_geocentric:function(t){var e,r,i,o,a,s,u,l=t.x,c=t.y,h=t.z?t.z:0;if(c<-n&&c>-1.001*n)c=-n;else if(c>n&&c<1.001*n)c=n;else if(c<-n||c>n)return null;return l>Math.PI&&(l-=2*Math.PI),a=Math.sin(c),u=Math.cos(c),s=a*a,o=this.a/Math.sqrt(1-this.es*s),e=(o+h)*u*Math.cos(l),r=(o+h)*u*Math.sin(l),i=(o*(1-this.es)+h)*a,t.x=e,t.y=r,t.z=i,0},geocentric_to_geodetic:function(t){var e,r,i,o,a,s,u,l,c,h,f,d,p,m,g,v,y=t.x,b=t.y,w=t.z?t.z:0;if(!1,e=Math.sqrt(y*y+b*b),r=Math.sqrt(y*y+b*b+w*w),e/this.a<1e-12){if(!0,m=0,r/this.a<1e-12)return g=n,void(v=-this.b)}else m=Math.atan2(b,y);i=w/r,o=e/r,a=1/Math.sqrt(1-this.es*(2-this.es)*o*o),l=o*(1-this.es)*a,c=i*a,p=0;do{p++,u=this.a/Math.sqrt(1-this.es*c*c),v=e*l+w*c-u*(1-this.es*c*c),s=this.es*u/(u+v),a=1/Math.sqrt(1-s*(2-s)*o*o),h=o*(1-s)*a,f=i*a,d=f*l-h*c,l=h,c=f}while(d*d>1e-24&&p<30);return g=Math.atan(f/Math.abs(h)),t.x=m,t.y=g,t.z=v,t},geocentric_to_geodetic_noniter:function(t){var e,r,i,o,a,s,u,l,c,h,f,d,p,m,g,v,y,b=t.x,w=t.y,x=t.z?t.z:0;if(b=parseFloat(b),w=parseFloat(w),x=parseFloat(x),y=!1,0!==b)e=Math.atan2(w,b);else if(w>0)e=n;else if(w<0)e=-n;else if(y=!0,e=0,x>0)r=n;else{if(!(x<0))return r=n,void(i=-this.b);r=-n}return a=b*b+w*w,o=Math.sqrt(a),s=1.0026*x,l=Math.sqrt(s*s+a),h=s/l,d=o/l,f=h*h*h,u=x+this.b*this.ep2*f,v=o-this.a*this.es*d*d*d,c=Math.sqrt(u*u+v*v),p=u/c,m=v/c,g=this.a/Math.sqrt(1-this.es*p*p),i=m>=.3826834323650898?o/m-g:m<=-.3826834323650898?o/-m-g:x/p+g*(this.es-1),!1===y&&(r=Math.atan(p/m)),t.x=e,t.y=r,t.z=i,t},geocentric_to_wgs84:function(t){if(1===this.datum_type)t.x+=this.datum_params[0],t.y+=this.datum_params[1],t.z+=this.datum_params[2];else if(2===this.datum_type){var e=this.datum_params[0],n=this.datum_params[1],r=this.datum_params[2],i=this.datum_params[3],o=this.datum_params[4],a=this.datum_params[5],s=this.datum_params[6],u=s*(t.x-a*t.y+o*t.z)+e,l=s*(a*t.x+t.y-i*t.z)+n,c=s*(-o*t.x+i*t.y+t.z)+r;t.x=u,t.y=l,t.z=c}},geocentric_from_wgs84:function(t){if(1===this.datum_type)t.x-=this.datum_params[0],t.y-=this.datum_params[1],t.z-=this.datum_params[2];else if(2===this.datum_type){var e=this.datum_params[0],n=this.datum_params[1],r=this.datum_params[2],i=this.datum_params[3],o=this.datum_params[4],a=this.datum_params[5],s=this.datum_params[6],u=(t.x-e)/s,l=(t.y-n)/s,c=(t.z-r)/s;t.x=u+a*l-o*c,t.y=-a*u+l+i*c,t.z=o*u-i*l+c}}},t.exports=r},function(t,e){var n=1,r=2;t.exports=function(t,e,i){function o(t){return t===n||t===r}var a,s,u;if(t.compare_datums(e))return i;if(5===t.datum_type||5===e.datum_type)return i;var l=t.a,c=t.es,h=e.a,f=e.es,d=t.datum_type;if(3===d)if(0===this.apply_gridshift(t,0,i))t.a=6378137,t.es=.006694379990141316;else{if(!t.datum_params)return t.a=l,t.es=t.es,i;for(a=1,s=0,u=t.datum_params.length;s<u;s++)a*=t.datum_params[s];if(0===a)return t.a=l,t.es=t.es,i;d=t.datum_params.length>3?r:n}return 3===e.datum_type&&(e.a=6378137,e.es=.006694379990141316),(t.es!==e.es||t.a!==e.a||o(d)||o(e.datum_type))&&(t.geodetic_to_geocentric(i),o(t.datum_type)&&t.geocentric_to_wgs84(i),o(e.datum_type)&&e.geocentric_from_wgs84(i),e.geocentric_to_geodetic(i)),3===e.datum_type&&this.apply_gridshift(e,1,i),t.a=l,t.es=c,e.a=h,e.es=f,i}},function(t,e){t.exports=function(t,e,n){var r,i,o,a=n.x,s=n.y,u=n.z||0;for(o=0;o<3;o++)if(!e||2!==o||void 0!==n.z)switch(0===o?(r=a,i="x"):1===o?(r=s,i="y"):(r=u,i="z"),t.axis[o]){case"e":n[i]=r;break;case"w":n[i]=-r;break;case"n":n[i]=r;break;case"s":n[i]=-r;break;case"u":void 0!==n[i]&&(n.z=r);break;case"d":void 0!==n[i]&&(n.z=-r);break;default:return null}return n}},function(t,e,n){function r(t,e,n){if(!(this instanceof r))return new r(t,e,n);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if("object"==typeof t)this.x=t.x,this.y=t.y,this.z=t.z||0;else if("string"==typeof t&&void 0===e){var i=t.split(",");this.x=parseFloat(i[0],10),this.y=parseFloat(i[1],10),this.z=parseFloat(i[2],10)||0}else this.x=t,this.y=e,this.z=n||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}var i=n(428);r.fromMGRS=function(t){return new r(i.toPoint(t))},r.prototype.toMGRS=function(t){return i.forward([this.x,this.y],t)},t.exports=r},function(t,e){t.exports={_args:[[{name:"proj4",raw:"proj4@2.3.15",rawSpec:"2.3.15",scope:null,spec:"2.3.15",type:"version"},"D:\\Users\\Gbo\\Documents\\workspaces\\Street Smart"]],_from:"proj4@2.3.15",_id:"proj4@2.3.15",_inCache:!0,_installable:!0,_location:"/proj4",_nodeVersion:"6.1.0",_npmOperationalInternal:{host:"packages-12-west.internal.npmjs.com",tmp:"tmp/proj4-2.3.15.tgz_1471808262546_0.6752060337457806"},_npmUser:{email:"andreas.hocevar@gmail.com",name:"ahocevar"},_npmVersion:"3.8.6",_phantomChildren:{},_requested:{name:"proj4",raw:"proj4@2.3.15",rawSpec:"2.3.15",scope:null,spec:"2.3.15",type:"version"},_requiredBy:["/"],_resolved:"https://registry.npmjs.org/proj4/-/proj4-2.3.15.tgz",_shasum:"5ad06e8bca30be0ffa389a49e4565f51f06d089e",_shrinkwrap:null,_spec:"proj4@2.3.15",_where:"D:\\Users\\Gbo\\Documents\\workspaces\\Street Smart",author:"",bugs:{url:"https://github.com/proj4js/proj4js/issues"},contributors:[{email:"madair@dmsolutions.ca",name:"Mike Adair"},{email:"rich@greenwoodmap.com",name:"Richard Greenwood"},{email:"calvin.metcalf@gmail.com",name:"Calvin Metcalf"},{name:"Richard Marsden",url:"http://www.winwaed.com"},{name:"T. Mittan"},{name:"D. Steinwand"},{name:"S. Nelson"}],dependencies:{mgrs:"~0.0.2"},description:"Proj4js is a JavaScript library to transform point coordinates from one coordinate system to another, including datum transformations.",devDependencies:{browserify:"~12.0.1",chai:"~1.8.1",curl:"git://github.com/cujojs/curl.git",grunt:"~0.4.2","grunt-browserify":"~4.0.1","grunt-cli":"~0.1.13","grunt-contrib-connect":"~0.6.0","grunt-contrib-jshint":"~0.8.0","grunt-contrib-uglify":"~0.11.1","grunt-mocha-phantomjs":"~0.4.0",istanbul:"~0.2.4",mocha:"~1.17.1",tin:"~0.4.0"},directories:{doc:"docs",test:"test"},dist:{shasum:"5ad06e8bca30be0ffa389a49e4565f51f06d089e",tarball:"https://registry.npmjs.org/proj4/-/proj4-2.3.15.tgz"},gitHead:"9fa5249c1f4183d5ddee3c4793dfd7b9f29f1886",homepage:"https://github.com/proj4js/proj4js#readme",jam:{include:["dist/proj4.js","README.md","AUTHORS","LICENSE.md"],main:"dist/proj4.js"},license:"MIT",main:"lib/index.js",maintainers:[{email:"calvin.metcalf@gmail.com",name:"cwmma"},{email:"andreas.hocevar@gmail.com",name:"ahocevar"}],name:"proj4",optionalDependencies:{},readme:"ERROR: No README data found!",repository:{type:"git",url:"git://github.com/proj4js/proj4js.git"},scripts:{test:"./node_modules/istanbul/lib/cli.js test ./node_modules/mocha/bin/_mocha test/test.js"},version:"2.3.15"}},function(t,e,n){var r=[n(429),n(865),n(866),n(869),n(870),n(871),n(872),n(873),n(874),n(875),n(876),n(877),n(878),n(880),n(881),n(882),n(883),n(884),n(887),n(888),n(889),n(890)];t.exports=function(t){r.forEach(function(e){t.Proj.projections.add(e)})}},function(t,e,n){var r=n(429);e.dependsOn="tmerc",e.init=function(){this.zone&&(this.lat0=0,this.long0=.017453292519943295*(6*Math.abs(this.zone)-183),this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,r.init.apply(this),this.forward=r.forward,this.inverse=r.inverse)},e.names=["Universal Transverse Mercator System","utm"]},function(t,e,n){var r=n(867),i=n(43);e.init=function(){r.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},e.forward=function(t){var e,n,o,a;return t.x=i(t.x-this.long0),r.forward.apply(this,[t]),e=Math.sin(t.y),n=Math.cos(t.y),o=Math.cos(t.x),a=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*n*o),t.x=a*n*Math.sin(t.x),t.y=a*(this.cosc0*e-this.sinc0*n*o),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t},e.inverse=function(t){var e,n,o,a,s;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,s=Math.sqrt(t.x*t.x+t.y*t.y)){var u=2*Math.atan2(s,this.R2);e=Math.sin(u),n=Math.cos(u),a=Math.asin(n*this.sinc0+t.y*e*this.cosc0/s),o=Math.atan2(t.x*e,s*this.cosc0*n-t.y*this.sinc0*e)}else a=this.phic0,o=0;return t.x=o,t.y=a,r.inverse.apply(this,[t]),t.x=i(t.x+this.long0),t},e.names=["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative"]},function(t,e,n){var r=Math.PI/4,i=n(868),o=Math.PI/2;e.init=function(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+r)/(Math.pow(Math.tan(.5*this.lat0+r),this.C)*i(this.e*t,this.ratexp))},e.forward=function(t){var e=t.x,n=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*n+r),this.C)*i(this.e*Math.sin(n),this.ratexp))-o,t.x=this.C*e,t},e.inverse=function(t){for(var e=t.x/this.C,n=t.y,a=Math.pow(Math.tan(.5*n+r)/this.K,1/this.C),s=20;s>0&&(n=2*Math.atan(a*i(this.e*Math.sin(t.y),-.5*this.e))-o,!(Math.abs(n-t.y)<1e-14));--s)t.y=n;return s?(t.x=e,t.y=n,t):null},e.names=["gauss"]},function(t,e){t.exports=function(t,e){return Math.pow((1-t)/(1+t),e)}},function(t,e,n){var r=Math.PI/2,i=n(179),o=n(153),a=n(231),s=n(232),u=n(43);e.ssfn_=function(t,e,n){return e*=n,Math.tan(.5*(r+t))*Math.pow((1-e)/(1+e),.5*n)},e.init=function(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=1e-10&&(this.k0=.5*(1+i(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=1e-10&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=1e-10&&(this.k0=.5*this.cons*o(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/a(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=o(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-r,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},e.forward=function(t){var e,n,i,o,s,l,c=t.x,h=t.y,f=Math.sin(h),d=Math.cos(h),p=u(c-this.long0);return Math.abs(Math.abs(c-this.long0)-Math.PI)<=1e-10&&Math.abs(h+this.lat0)<=1e-10?(t.x=NaN,t.y=NaN,t):this.sphere?(e=2*this.k0/(1+this.sinlat0*f+this.coslat0*d*Math.cos(p)),t.x=this.a*e*d*Math.sin(p)+this.x0,t.y=this.a*e*(this.coslat0*f-this.sinlat0*d*Math.cos(p))+this.y0,t):(n=2*Math.atan(this.ssfn_(h,f,this.e))-r,o=Math.cos(n),i=Math.sin(n),Math.abs(this.coslat0)<=1e-10?(s=a(this.e,h*this.con,this.con*f),l=2*this.a*this.k0*s/this.cons,t.x=this.x0+l*Math.sin(c-this.long0),t.y=this.y0-this.con*l*Math.cos(c-this.long0),t):(Math.abs(this.sinlat0)<1e-10?(e=2*this.a*this.k0/(1+o*Math.cos(p)),t.y=e*i):(e=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*i+this.cosX0*o*Math.cos(p))),t.y=e*(this.cosX0*i-this.sinX0*o*Math.cos(p))+this.y0),t.x=e*o*Math.sin(p)+this.x0,t))},e.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e,n,i,o,a,l=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var c=2*Math.atan(l/(.5*this.a*this.k0));return e=this.long0,(n=this.lat0,l<=1e-10)?(t.x=e,t.y=n,t):(n=Math.asin(Math.cos(c)*this.sinlat0+t.y*Math.sin(c)*this.coslat0/l),e=u(Math.abs(this.coslat0)<1e-10?this.lat0>0?this.long0+Math.atan2(t.x,-1*t.y):this.long0+Math.atan2(t.x,t.y):this.long0+Math.atan2(t.x*Math.sin(c),l*this.coslat0*Math.cos(c)-t.y*this.sinlat0*Math.sin(c))),t.x=e,t.y=n,t)}if(Math.abs(this.coslat0)<=1e-10){if(l<=1e-10)return n=this.lat0,e=this.long0,t.x=e,t.y=n,t;t.x*=this.con,t.y*=this.con,i=l*this.cons/(2*this.a*this.k0),n=this.con*s(this.e,i),e=this.con*u(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else o=2*Math.atan(l*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,l<=1e-10?a=this.X0:(a=Math.asin(Math.cos(o)*this.sinX0+t.y*Math.sin(o)*this.cosX0/l),e=u(this.long0+Math.atan2(t.x*Math.sin(o),l*this.cosX0*Math.cos(o)-t.y*this.sinX0*Math.sin(o)))),n=-1*s(this.e,Math.tan(.5*(r+a)));return t.x=e,t.y=n,t},e.names=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"]},function(t,e){e.init=function(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),n=this.a,r=this.rf,i=1/r,o=2*i-Math.pow(i,2),a=this.e=Math.sqrt(o);this.R=this.k0*n*Math.sqrt(1-o)/(1-o*Math.pow(e,2)),this.alpha=Math.sqrt(1+o/(1-o)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var s=Math.log(Math.tan(Math.PI/4+this.b0/2)),u=Math.log(Math.tan(Math.PI/4+t/2)),l=Math.log((1+a*e)/(1-a*e));this.K=s-this.alpha*u+this.alpha*a/2*l},e.forward=function(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),n=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),r=-this.alpha*(e+n)+this.K,i=2*(Math.atan(Math.exp(r))-Math.PI/4),o=this.alpha*(t.x-this.lambda0),a=Math.atan(Math.sin(o)/(Math.sin(this.b0)*Math.tan(i)+Math.cos(this.b0)*Math.cos(o))),s=Math.asin(Math.cos(this.b0)*Math.sin(i)-Math.sin(this.b0)*Math.cos(i)*Math.cos(o));return t.y=this.R/2*Math.log((1+Math.sin(s))/(1-Math.sin(s)))+this.y0,t.x=this.R*a+this.x0,t},e.inverse=function(t){for(var e=t.x-this.x0,n=t.y-this.y0,r=e/this.R,i=2*(Math.atan(Math.exp(n/this.R))-Math.PI/4),o=Math.asin(Math.cos(this.b0)*Math.sin(i)+Math.sin(this.b0)*Math.cos(i)*Math.cos(r)),a=Math.atan(Math.sin(r)/(Math.cos(this.b0)*Math.cos(r)-Math.sin(this.b0)*Math.tan(i))),s=this.lambda0+a/this.alpha,u=0,l=o,c=-1e3,h=0;Math.abs(l-c)>1e-7;){if(++h>20)return;u=1/this.alpha*(Math.log(Math.tan(Math.PI/4+o/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(l))/2)),c=l,l=2*Math.atan(Math.exp(u))-Math.PI/2}return t.x=s,t.y=l,t},e.names=["somerc"]},function(t,e,n){var r=n(231),i=n(43),o=n(232),a=Math.PI/2,s=Math.PI/4;e.init=function(){this.no_off=this.no_off||!1,this.no_rot=this.no_rot||!1,isNaN(this.k0)&&(this.k0=1);var t=Math.sin(this.lat0),e=Math.cos(this.lat0),n=this.e*t;this.bl=Math.sqrt(1+this.es/(1-this.es)*Math.pow(e,4)),this.al=this.a*this.bl*this.k0*Math.sqrt(1-this.es)/(1-n*n);var o=r(this.e,this.lat0,t),a=this.bl/e*Math.sqrt((1-this.es)/(1-n*n));a*a<1&&(a=1);var s,u;if(isNaN(this.longc)){var l=r(this.e,this.lat1,Math.sin(this.lat1)),c=r(this.e,this.lat2,Math.sin(this.lat2));this.lat0>=0?this.el=(a+Math.sqrt(a*a-1))*Math.pow(o,this.bl):this.el=(a-Math.sqrt(a*a-1))*Math.pow(o,this.bl);var h=Math.pow(l,this.bl),f=Math.pow(c,this.bl);s=this.el/h,u=.5*(s-1/s);var d=(this.el*this.el-f*h)/(this.el*this.el+f*h),p=(f-h)/(f+h),m=i(this.long1-this.long2);this.long0=.5*(this.long1+this.long2)-Math.atan(d*Math.tan(.5*this.bl*m)/p)/this.bl,this.long0=i(this.long0);var g=i(this.long1-this.long0);this.gamma0=Math.atan(Math.sin(this.bl*g)/u),this.alpha=Math.asin(a*Math.sin(this.gamma0))}else s=this.lat0>=0?a+Math.sqrt(a*a-1):a-Math.sqrt(a*a-1),this.el=s*Math.pow(o,this.bl),u=.5*(s-1/s),this.gamma0=Math.asin(Math.sin(this.alpha)/a),this.long0=this.longc-Math.asin(u*Math.tan(this.gamma0))/this.bl;this.no_off?this.uc=0:this.lat0>=0?this.uc=this.al/this.bl*Math.atan2(Math.sqrt(a*a-1),Math.cos(this.alpha)):this.uc=-1*this.al/this.bl*Math.atan2(Math.sqrt(a*a-1),Math.cos(this.alpha))},e.forward=function(t){var e,n,o,u=t.x,l=t.y,c=i(u-this.long0);if(Math.abs(Math.abs(l)-a)<=1e-10)o=l>0?-1:1,n=this.al/this.bl*Math.log(Math.tan(s+o*this.gamma0*.5)),e=-1*o*a*this.al/this.bl;else{var h=r(this.e,l,Math.sin(l)),f=this.el/Math.pow(h,this.bl),d=.5*(f-1/f),p=.5*(f+1/f),m=Math.sin(this.bl*c),g=(d*Math.sin(this.gamma0)-m*Math.cos(this.gamma0))/p;n=Math.abs(Math.abs(g)-1)<=1e-10?Number.POSITIVE_INFINITY:.5*this.al*Math.log((1-g)/(1+g))/this.bl,e=Math.abs(Math.cos(this.bl*c))<=1e-10?this.al*this.bl*c:this.al*Math.atan2(d*Math.cos(this.gamma0)+m*Math.sin(this.gamma0),Math.cos(this.bl*c))/this.bl}return this.no_rot?(t.x=this.x0+e,t.y=this.y0+n):(e-=this.uc,t.x=this.x0+n*Math.cos(this.alpha)+e*Math.sin(this.alpha),t.y=this.y0+e*Math.cos(this.alpha)-n*Math.sin(this.alpha)),t},e.inverse=function(t){var e,n;this.no_rot?(n=t.y-this.y0,e=t.x-this.x0):(n=(t.x-this.x0)*Math.cos(this.alpha)-(t.y-this.y0)*Math.sin(this.alpha),e=(t.y-this.y0)*Math.cos(this.alpha)+(t.x-this.x0)*Math.sin(this.alpha),e+=this.uc);var r=Math.exp(-1*this.bl*n/this.al),s=.5*(r-1/r),u=.5*(r+1/r),l=Math.sin(this.bl*e/this.al),c=(l*Math.cos(this.gamma0)+s*Math.sin(this.gamma0))/u,h=Math.pow(this.el/Math.sqrt((1+c)/(1-c)),1/this.bl);return Math.abs(c-1)<1e-10?(t.x=this.long0,t.y=a):Math.abs(c+1)<1e-10?(t.x=this.long0,t.y=-1*a):(t.y=o(this.e,h),t.x=i(this.long0-Math.atan2(s*Math.cos(this.gamma0)-l*Math.sin(this.gamma0),Math.cos(this.bl*e/this.al))/this.bl)),t},e.names=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","omerc"]},function(t,e,n){var r=n(153),i=n(231),o=Math.PI/2,a=n(179),s=n(43),u=n(232);e.init=function(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<1e-10)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),n=Math.cos(this.lat1),o=r(this.e,e,n),a=i(this.e,this.lat1,e),s=Math.sin(this.lat2),u=Math.cos(this.lat2),l=r(this.e,s,u),c=i(this.e,this.lat2,s),h=i(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>1e-10?this.ns=Math.log(o/l)/Math.log(a/c):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=o/(this.ns*Math.pow(a,this.ns)),this.rh=this.a*this.f0*Math.pow(h,this.ns),this.title||(this.title="Lambert Conformal Conic")}},e.forward=function(t){var e=t.x,n=t.y;Math.abs(2*Math.abs(n)-Math.PI)<=1e-10&&(n=a(n)*(o-2e-10));var r,u,l=Math.abs(Math.abs(n)-o);if(l>1e-10)r=i(this.e,n,Math.sin(n)),u=this.a*this.f0*Math.pow(r,this.ns);else{if((l=n*this.ns)<=0)return null;u=0}var c=this.ns*s(e-this.long0);return t.x=this.k0*(u*Math.sin(c))+this.x0,t.y=this.k0*(this.rh-u*Math.cos(c))+this.y0,t},e.inverse=function(t){var e,n,r,i,a,l=(t.x-this.x0)/this.k0,c=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(l*l+c*c),n=1):(e=-Math.sqrt(l*l+c*c),n=-1);var h=0;if(0!==e&&(h=Math.atan2(n*l,n*c)),0!==e||this.ns>0){if(n=1/this.ns,r=Math.pow(e/(this.a*this.f0),n),-9999===(i=u(this.e,r)))return null}else i=-o;return a=s(h/this.ns+this.long0),t.x=a,t.y=i,t},e.names=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_2SP","lcc"]},function(t,e,n){var r=n(43);e.init=function(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},e.forward=function(t){var e,n,i,o,a,s,u,l=t.x,c=t.y,h=r(l-this.long0);return e=Math.pow((1+this.e*Math.sin(c))/(1-this.e*Math.sin(c)),this.alfa*this.e/2),n=2*(Math.atan(this.k*Math.pow(Math.tan(c/2+this.s45),this.alfa)/e)-this.s45),i=-h*this.alfa,o=Math.asin(Math.cos(this.ad)*Math.sin(n)+Math.sin(this.ad)*Math.cos(n)*Math.cos(i)),a=Math.asin(Math.cos(n)*Math.sin(i)/Math.cos(o)),s=this.n*a,u=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(o/2+this.s45),this.n),t.y=u*Math.cos(s)/1,t.x=u*Math.sin(s)/1,this.czech||(t.y*=-1,t.x*=-1),t},e.inverse=function(t){var e,n,r,i,o,a,s,u,l=t.x;t.x=t.y,t.y=l,this.czech||(t.y*=-1,t.x*=-1),a=Math.sqrt(t.x*t.x+t.y*t.y),o=Math.atan2(t.y,t.x),i=o/Math.sin(this.s0),r=2*(Math.atan(Math.pow(this.ro0/a,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(r)-Math.sin(this.ad)*Math.cos(r)*Math.cos(i)),n=Math.asin(Math.cos(r)*Math.sin(i)/Math.cos(e)),t.x=this.long0-n/this.alfa,s=e,u=0;var c=0;do{t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(s))/(1-this.e*Math.sin(s)),this.e/2))-this.s45),Math.abs(s-t.y)<1e-10&&(u=1),s=t.y,c+=1}while(0===u&&c<15);return c>=15?null:t},e.names=["Krovak","krovak"]},function(t,e,n){var r=n(184),i=n(180),o=n(181),a=n(182),s=n(183),u=n(304),l=n(43),c=n(185),h=n(305),f=Math.PI/2;e.init=function(){this.sphere||(this.e0=i(this.es),this.e1=o(this.es),this.e2=a(this.es),this.e3=s(this.es),this.ml0=this.a*r(this.e0,this.e1,this.e2,this.e3,this.lat0))},e.forward=function(t){var e,n,i=t.x,o=t.y;if(i=l(i-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(o)*Math.sin(i)),n=this.a*(Math.atan2(Math.tan(o),Math.cos(i))-this.lat0);else{var a=Math.sin(o),s=Math.cos(o),c=u(this.a,this.e,a),h=Math.tan(o)*Math.tan(o),f=i*Math.cos(o),d=f*f,p=this.es*s*s/(1-this.es),m=this.a*r(this.e0,this.e1,this.e2,this.e3,o);e=c*f*(1-d*h*(1/6-(8-h+8*p)*d/120)),n=m-this.ml0+c*a/s*d*(.5+(5-h+6*p)*d/24)}return t.x=e+this.x0,t.y=n+this.y0,t},e.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e,n,r=t.x/this.a,i=t.y/this.a;if(this.sphere){var o=i+this.lat0;e=Math.asin(Math.sin(o)*Math.cos(r)),n=Math.atan2(Math.tan(r),Math.cos(o))}else{var a=this.ml0/this.a+i,s=h(a,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(s)-f)<=1e-10)return t.x=this.long0,t.y=f,i<0&&(t.y*=-1),t;var d=u(this.a,this.e,Math.sin(s)),p=d*d*d/this.a/this.a*(1-this.es),m=Math.pow(Math.tan(s),2),g=r*this.a/d,v=g*g;e=s-d*Math.tan(s)/p*g*g*(.5-(1+3*m)*g*g/24),n=g*(1-v*(m/3+(1+3*m)*m*v/15))/Math.cos(s)}return t.x=l(n+this.long0),t.y=c(e),t},e.names=["Cassini","Cassini_Soldner","cass"]},function(t,e,n){var r=Math.PI/2,i=Math.PI/4,o=n(306),a=n(43);e.S_POLE=1,e.N_POLE=2,e.EQUIT=3,e.OBLIQ=4,e.init=function(){var t=Math.abs(this.lat0);if(Math.abs(t-r)<1e-10?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(t)<1e-10?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0){var e;switch(this.qp=o(this.e,1),this.mmf=.5/(1-this.es),this.apa=this.authset(this.es),this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),e=Math.sin(this.lat0),this.sinb1=o(this.e,e)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*e*e)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},e.forward=function(t){var e,n,s,u,l,c,h,f,d,p,m=t.x,g=t.y;if(m=a(m-this.long0),this.sphere){if(l=Math.sin(g),p=Math.cos(g),s=Math.cos(m),this.mode===this.OBLIQ||this.mode===this.EQUIT){if((n=this.mode===this.EQUIT?1+p*s:1+this.sinph0*l+this.cosph0*p*s)<=1e-10)return null;n=Math.sqrt(2/n),e=n*p*Math.sin(m),n*=this.mode===this.EQUIT?l:this.cosph0*l-this.sinph0*p*s}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(s=-s),Math.abs(g+this.phi0)<1e-10)return null;n=i-.5*g,n=2*(this.mode===this.S_POLE?Math.cos(n):Math.sin(n)),e=n*Math.sin(m),n*=s}}else{switch(h=0,f=0,d=0,s=Math.cos(m),u=Math.sin(m),l=Math.sin(g),c=o(this.e,l),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(h=c/this.qp,f=Math.sqrt(1-h*h)),this.mode){case this.OBLIQ:d=1+this.sinb1*h+this.cosb1*f*s;break;case this.EQUIT:d=1+f*s;break;case this.N_POLE:d=r+g,c=this.qp-c;break;case this.S_POLE:d=g-r,c=this.qp+c}if(Math.abs(d)<1e-10)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:d=Math.sqrt(2/d),n=this.mode===this.OBLIQ?this.ymf*d*(this.cosb1*h-this.sinb1*f*s):(d=Math.sqrt(2/(1+f*s)))*h*this.ymf,e=this.xmf*d*f*u;break;case this.N_POLE:case this.S_POLE:c>=0?(e=(d=Math.sqrt(c))*u,n=s*(this.mode===this.S_POLE?d:-d)):e=n=0}}return t.x=this.a*e+this.x0,t.y=this.a*n+this.y0,t},e.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e,n,i,o,s,u,l,c=t.x/this.a,h=t.y/this.a;if(this.sphere){var f,d=0,p=0;if(f=Math.sqrt(c*c+h*h),(n=.5*f)>1)return null;switch(n=2*Math.asin(n),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(p=Math.sin(n),d=Math.cos(n)),this.mode){case this.EQUIT:n=Math.abs(f)<=1e-10?0:Math.asin(h*p/f),c*=p,h=d*f;break;case this.OBLIQ:n=Math.abs(f)<=1e-10?this.phi0:Math.asin(d*this.sinph0+h*p*this.cosph0/f),c*=p*this.cosph0,h=(d-Math.sin(n)*this.sinph0)*f;break;case this.N_POLE:h=-h,n=r-n;break;case this.S_POLE:n-=r}e=0!==h||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(c,h):0}else{if(l=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(c/=this.dd,h*=this.dd,(u=Math.sqrt(c*c+h*h))<1e-10)return t.x=0,t.y=this.phi0,t;o=2*Math.asin(.5*u/this.rq),i=Math.cos(o),c*=o=Math.sin(o),this.mode===this.OBLIQ?(l=i*this.sinb1+h*o*this.cosb1/u,s=this.qp*l,h=u*this.cosb1*i-h*this.sinb1*o):(l=h*o/u,s=this.qp*l,h=u*i)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(h=-h),!(s=c*c+h*h))return t.x=0,t.y=this.phi0,t;l=1-s/this.qp,this.mode===this.S_POLE&&(l=-l)}e=Math.atan2(c,h),n=this.authlat(Math.asin(l),this.apa)}return t.x=a(this.long0+e),t.y=n,t},e.P00=.3333333333333333,e.P01=.17222222222222222,e.P02=.10257936507936508,e.P10=.06388888888888888,e.P11=.0664021164021164,e.P20=.016415012942191543,e.authset=function(t){var e,n=[];return n[0]=t*this.P00,e=t*t,n[0]+=e*this.P01,n[1]=e*this.P10,e*=t,n[0]+=e*this.P02,n[1]+=e*this.P11,n[2]=e*this.P20,n},e.authlat=function(t,e){var n=t+t;return t+e[0]*Math.sin(n)+e[1]*Math.sin(n+n)+e[2]*Math.sin(n+n+n)},e.names=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"]},function(t,e,n){var r=n(153),i=n(306),o=n(43),a=n(154);e.init=function(){Math.abs(this.lat1+this.lat2)<1e-10||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=r(this.e3,this.sin_po,this.cos_po),this.qs1=i(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=r(this.e3,this.sin_po,this.cos_po),this.qs2=i(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=i(this.e3,this.sin_po,this.cos_po),Math.abs(this.lat1-this.lat2)>1e-10?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},e.forward=function(t){var e=t.x,n=t.y;this.sin_phi=Math.sin(n),this.cos_phi=Math.cos(n);var r=i(this.e3,this.sin_phi,this.cos_phi),a=this.a*Math.sqrt(this.c-this.ns0*r)/this.ns0,s=this.ns0*o(e-this.long0),u=a*Math.sin(s)+this.x0,l=this.rh-a*Math.cos(s)+this.y0;return t.x=u,t.y=l,t},e.inverse=function(t){var e,n,r,i,a,s;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),r=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),r=-1),i=0,0!==e&&(i=Math.atan2(r*t.x,r*t.y)),r=e*this.ns0/this.a,this.sphere?s=Math.asin((this.c-r*r)/(2*this.ns0)):(n=(this.c-r*r)/this.ns0,s=this.phi1z(this.e3,n)),a=o(i/this.ns0+this.long0),t.x=a,t.y=s,t},e.phi1z=function(t,e){var n,r,i,o,s,u=a(.5*e);if(t<1e-10)return u;for(var l=t*t,c=1;c<=25;c++)if(n=Math.sin(u),r=Math.cos(u),i=t*n,o=1-i*i,s=.5*o*o/r*(e/(1-l)-n/o+.5/t*Math.log((1-i)/(1+i))),u+=s,Math.abs(s)<=1e-7)return u;return null},e.names=["Albers_Conic_Equal_Area","Albers","aea"]},function(t,e,n){var r=n(43),i=n(154);e.init=function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},e.forward=function(t){var e,n,i,o,a,s,u,l,c=t.x,h=t.y;return i=r(c-this.long0),e=Math.sin(h),n=Math.cos(h),o=Math.cos(i),s=this.sin_p14*e+this.cos_p14*n*o,a=1,s>0||Math.abs(s)<=1e-10?(u=this.x0+this.a*a*n*Math.sin(i)/s,l=this.y0+this.a*a*(this.cos_p14*e-this.sin_p14*n*o)/s):(u=this.x0+this.infinity_dist*n*Math.sin(i),l=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*n*o)),t.x=u,t.y=l,t},e.inverse=function(t){var e,n,o,a,s,u;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(a=Math.atan2(e,this.rc),n=Math.sin(a),o=Math.cos(a),u=i(o*this.sin_p14+t.y*n*this.cos_p14/e),s=Math.atan2(t.x*n,e*this.cos_p14*o-t.y*this.sin_p14*n),s=r(this.long0+s)):(u=this.phic0,s=0),t.x=s,t.y=u,t},e.names=["gnom"]},function(t,e,n){var r=n(43),i=n(306),o=n(153),a=n(879);e.init=function(){this.sphere||(this.k0=o(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},e.forward=function(t){var e,n,o=t.x,a=t.y,s=r(o-this.long0);if(this.sphere)e=this.x0+this.a*s*Math.cos(this.lat_ts),n=this.y0+this.a*Math.sin(a)/Math.cos(this.lat_ts);else{var u=i(this.e,Math.sin(a));e=this.x0+this.a*this.k0*s,n=this.y0+this.a*u*.5/this.k0}return t.x=e,t.y=n,t},e.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e,n;return this.sphere?(e=r(this.long0+t.x/this.a/Math.cos(this.lat_ts)),n=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(n=a(this.e,2*t.y*this.k0/this.a),e=r(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=n,t},e.names=["cea"]},function(t,e){var n=Math.PI/2;t.exports=function(t,e){var r=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-r)<1e-6)return e<0?-1*n:n;for(var i,o,a,s,u=Math.asin(.5*e),l=0;l<30;l++)if(o=Math.sin(u),a=Math.cos(u),s=t*o,i=Math.pow(1-s*s,2)/(2*a)*(e/(1-t*t)-o/(1-s*s)+.5/t*Math.log((1-s)/(1+s))),u+=i,Math.abs(i)<=1e-10)return u;return NaN}},function(t,e,n){var r=n(43),i=n(185);e.init=function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},e.forward=function(t){var e=t.x,n=t.y,o=r(e-this.long0),a=i(n-this.lat0);return t.x=this.x0+this.a*o*this.rc,t.y=this.y0+this.a*a,t},e.inverse=function(t){var e=t.x,n=t.y;return t.x=r(this.long0+(e-this.x0)/(this.a*this.rc)),t.y=i(this.lat0+(n-this.y0)/this.a),t},e.names=["Equirectangular","Equidistant_Cylindrical","eqc"]},function(t,e,n){var r=n(180),i=n(181),o=n(182),a=n(183),s=n(43),u=n(185),l=n(184),c=n(304);e.init=function(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=r(this.es),this.e1=i(this.es),this.e2=o(this.es),this.e3=a(this.es),this.ml0=this.a*l(this.e0,this.e1,this.e2,this.e3,this.lat0)},e.forward=function(t){var e,n,r,i=t.x,o=t.y,a=s(i-this.long0);if(r=a*Math.sin(o),this.sphere)Math.abs(o)<=1e-10?(e=this.a*a,n=-1*this.a*this.lat0):(e=this.a*Math.sin(r)/Math.tan(o),n=this.a*(u(o-this.lat0)+(1-Math.cos(r))/Math.tan(o)));else if(Math.abs(o)<=1e-10)e=this.a*a,n=-1*this.ml0;else{var h=c(this.a,this.e,Math.sin(o))/Math.tan(o);e=h*Math.sin(r),n=this.a*l(this.e0,this.e1,this.e2,this.e3,o)-this.ml0+h*(1-Math.cos(r))}return t.x=e+this.x0,t.y=n+this.y0,t},e.inverse=function(t){var e,n,r,i,o,a,u,c,h;if(r=t.x-this.x0,i=t.y-this.y0,this.sphere)if(Math.abs(i+this.a*this.lat0)<=1e-10)e=s(r/this.a+this.long0),n=0;else{a=this.lat0+i/this.a,u=r*r/this.a/this.a+a*a,c=a;var f;for(o=20;o;--o)if(f=Math.tan(c),h=-1*(a*(c*f+1)-c-.5*(c*c+u)*f)/((c-a)/f-1),c+=h,Math.abs(h)<=1e-10){n=c;break}e=s(this.long0+Math.asin(r*Math.tan(c)/this.a)/Math.sin(n))}else if(Math.abs(i+this.ml0)<=1e-10)n=0,e=s(this.long0+r/this.a);else{a=(this.ml0+i)/this.a,u=r*r/this.a/this.a+a*a,c=a;var d,p,m,g,v;for(o=20;o;--o)if(v=this.e*Math.sin(c),d=Math.sqrt(1-v*v)*Math.tan(c),p=this.a*l(this.e0,this.e1,this.e2,this.e3,c),m=this.e0-2*this.e1*Math.cos(2*c)+4*this.e2*Math.cos(4*c)-6*this.e3*Math.cos(6*c),g=p/this.a,h=(a*(d*g+1)-g-.5*d*(g*g+u))/(this.es*Math.sin(2*c)*(g*g+u-2*a*g)/(4*d)+(a-g)*(d*m-2/Math.sin(2*c))-m),c-=h,Math.abs(h)<=1e-10){n=c;break}d=Math.sqrt(1-this.es*Math.pow(Math.sin(n),2))*Math.tan(n),e=s(this.long0+Math.asin(r*d/this.a)/Math.sin(n))}return t.x=e,t.y=n,t},e.names=["Polyconic","poly"]},function(t,e){e.iterations=1,e.init=function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},e.forward=function(t){var e,n=t.x,r=t.y,i=r-this.lat0,o=n-this.long0,a=i/484813681109536e-20*1e-5,s=o,u=1,l=0;for(e=1;e<=10;e++)u*=a,l+=this.A[e]*u;var c,h,f=l,d=s,p=1,m=0,g=0,v=0;for(e=1;e<=6;e++)c=p*f-m*d,h=m*f+p*d,p=c,m=h,g=g+this.B_re[e]*p-this.B_im[e]*m,v=v+this.B_im[e]*p+this.B_re[e]*m;return t.x=v*this.a+this.x0,t.y=g*this.a+this.y0,t},e.inverse=function(t){var e,n,r,i=t.x,o=t.y,a=i-this.x0,s=o-this.y0,u=s/this.a,l=a/this.a,c=1,h=0,f=0,d=0;for(e=1;e<=6;e++)n=c*u-h*l,r=h*u+c*l,c=n,h=r,f=f+this.C_re[e]*c-this.C_im[e]*h,d=d+this.C_im[e]*c+this.C_re[e]*h;for(var p=0;p<this.iterations;p++){var m,g,v=f,y=d,b=u,w=l;for(e=2;e<=6;e++)m=v*f-y*d,g=y*f+v*d,v=m,y=g,b+=(e-1)*(this.B_re[e]*v-this.B_im[e]*y),w+=(e-1)*(this.B_im[e]*v+this.B_re[e]*y);v=1,y=0;var x=this.B_re[1],_=this.B_im[1];for(e=2;e<=6;e++)m=v*f-y*d,g=y*f+v*d,v=m,y=g,x+=e*(this.B_re[e]*v-this.B_im[e]*y),_+=e*(this.B_im[e]*v+this.B_re[e]*y);var E=x*x+_*_;f=(b*x+w*_)/E,d=(w*x-b*_)/E}var M=f,S=d,T=1,C=0;for(e=1;e<=9;e++)T*=M,C+=this.D[e]*T;var I=this.lat0+484813681109536e-20*C*1e5,O=this.long0+S;return t.x=O,t.y=I,t},e.names=["New_Zealand_Map_Grid","nzmg"]},function(t,e,n){var r=n(43);e.init=function(){},e.forward=function(t){var e=t.x,n=t.y,i=r(e-this.long0),o=this.x0+this.a*i,a=this.y0+this.a*Math.log(Math.tan(Math.PI/4+n/2.5))*1.25;return t.x=o,t.y=a,t},e.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e=r(this.long0+t.x/this.a),n=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=n,t},e.names=["Miller_Cylindrical","mill"]},function(t,e,n){var r=n(43),i=n(185),o=n(885),a=n(430),s=n(886),u=Math.PI/2,l=n(154);e.init=function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=o(this.es)},e.forward=function(t){var e,n,i=t.x,o=t.y;if(i=r(i-this.long0),this.sphere){if(this.m)for(var s=this.n*Math.sin(o),u=20;u;--u){var l=(this.m*o+Math.sin(o)-s)/(this.m+Math.cos(o));if(o-=l,Math.abs(l)<1e-10)break}else o=1!==this.n?Math.asin(this.n*Math.sin(o)):o;e=this.a*this.C_x*i*(this.m+Math.cos(o)),n=this.a*this.C_y*o}else{var c=Math.sin(o),h=Math.cos(o);n=this.a*a(o,c,h,this.en),e=this.a*i*h/Math.sqrt(1-this.es*c*c)}return t.x=e,t.y=n,t},e.inverse=function(t){var e,n,o,a;return t.x-=this.x0,o=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,o/=this.C_x*(this.m+Math.cos(e)),this.m?e=l((this.m*e+Math.sin(e))/this.n):1!==this.n&&(e=l(Math.sin(e)/this.n)),o=r(o+this.long0),e=i(e)):(e=s(t.y/this.a,this.es,this.en),a=Math.abs(e),a<u?(a=Math.sin(e),n=this.long0+t.x*Math.sqrt(1-this.es*a*a)/(this.a*Math.cos(e)),o=r(n)):a-1e-10<u&&(o=this.long0)),t.x=o,t.y=e,t},e.names=["Sinusoidal","sinu"]},function(t,e){var n=.01068115234375;t.exports=function(t){var e=[];e[0]=1-t*(.25+t*(.046875+t*(.01953125+t*n))),e[1]=t*(.75-t*(.046875+t*(.01953125+t*n)));var r=t*t;return e[2]=r*(.46875-t*(.013020833333333334+.007120768229166667*t)),r*=t,e[3]=r*(.3645833333333333-.005696614583333333*t),e[4]=r*t*.3076171875,e}},function(t,e,n){var r=n(430);t.exports=function(t,e,n){for(var i=1/(1-e),o=t,a=20;a;--a){var s=Math.sin(o),u=1-e*s*s;if(u=(r(o,s,Math.cos(o),n)-t)*(u*Math.sqrt(u))*i,o-=u,Math.abs(u)<1e-10)return o}return o}},function(t,e,n){var r=n(43);e.init=function(){},e.forward=function(t){for(var e=t.x,n=t.y,i=r(e-this.long0),o=n,a=Math.PI*Math.sin(n),s=0;!0;s++){var u=-(o+Math.sin(o)-a)/(1+Math.cos(o));if(o+=u,Math.abs(u)<1e-10)break}o/=2,Math.PI/2-Math.abs(n)<1e-10&&(i=0);var l=.900316316158*this.a*i*Math.cos(o)+this.x0,c=1.4142135623731*this.a*Math.sin(o)+this.y0;return t.x=l,t.y=c,t},e.inverse=function(t){var e,n;t.x-=this.x0,t.y-=this.y0,n=t.y/(1.4142135623731*this.a),Math.abs(n)>.999999999999&&(n=.999999999999),e=Math.asin(n);var i=r(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));i<-Math.PI&&(i=-Math.PI),i>Math.PI&&(i=Math.PI),n=(2*e+Math.sin(2*e))/Math.PI,Math.abs(n)>1&&(n=1);var o=Math.asin(n);return t.x=i,t.y=o,t},e.names=["Mollweide","moll"]},function(t,e,n){var r=n(180),i=n(181),o=n(182),a=n(183),s=n(153),u=n(184),l=n(43),c=n(185),h=n(305);e.init=function(){Math.abs(this.lat1+this.lat2)<1e-10||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=r(this.es),this.e1=i(this.es),this.e2=o(this.es),this.e3=a(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=s(this.e,this.sinphi,this.cosphi),this.ml1=u(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<1e-10?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=s(this.e,this.sinphi,this.cosphi),this.ml2=u(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=u(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},e.forward=function(t){var e,n=t.x,r=t.y;if(this.sphere)e=this.a*(this.g-r);else{var i=u(this.e0,this.e1,this.e2,this.e3,r);e=this.a*(this.g-i)}var o=this.ns*l(n-this.long0),a=this.x0+e*Math.sin(o),s=this.y0+this.rh-e*Math.cos(o);return t.x=a,t.y=s,t},e.inverse=function(t){t.x-=this.x0,t.y=this.rh-t.y+this.y0;var e,n,r,i;this.ns>=0?(n=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(n=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var o=0;if(0!==n&&(o=Math.atan2(e*t.x,e*t.y)),this.sphere)return i=l(this.long0+o/this.ns),r=c(this.g-n/this.a),t.x=i,t.y=r,t;var a=this.g-n/this.a;return r=h(a,this.e0,this.e1,this.e2,this.e3),i=l(this.long0+o/this.ns),t.x=i,t.y=r,t},e.names=["Equidistant_Conic","eqdc"]},function(t,e,n){var r=n(43),i=Math.PI/2,o=n(154);e.init=function(){this.R=this.a},e.forward=function(t){var e,n,a=t.x,s=t.y,u=r(a-this.long0);Math.abs(s)<=1e-10&&(e=this.x0+this.R*u,n=this.y0);var l=o(2*Math.abs(s/Math.PI));(Math.abs(u)<=1e-10||Math.abs(Math.abs(s)-i)<=1e-10)&&(e=this.x0,n=s>=0?this.y0+Math.PI*this.R*Math.tan(.5*l):this.y0+Math.PI*this.R*-Math.tan(.5*l));var c=.5*Math.abs(Math.PI/u-u/Math.PI),h=c*c,f=Math.sin(l),d=Math.cos(l),p=d/(f+d-1),m=p*p,g=p*(2/f-1),v=g*g,y=Math.PI*this.R*(c*(p-v)+Math.sqrt(h*(p-v)*(p-v)-(v+h)*(m-v)))/(v+h);u<0&&(y=-y),e=this.x0+y;var b=h+p;return y=Math.PI*this.R*(g*b-c*Math.sqrt((v+h)*(h+1)-b*b))/(v+h),n=s>=0?this.y0+y:this.y0-y,t.x=e,t.y=n,t},e.inverse=function(t){var e,n,i,o,a,s,u,l,c,h,f,d,p;return t.x-=this.x0,t.y-=this.y0,f=Math.PI*this.R,i=t.x/f,o=t.y/f,a=i*i+o*o,s=-Math.abs(o)*(1+a),u=s-2*o*o+i*i,l=-2*s+1+2*o*o+a*a,p=o*o/l+(2*u*u*u/l/l/l-9*s*u/l/l)/27,c=(s-u*u/3/l)/l,h=2*Math.sqrt(-c/3),f=3*p/c/h,Math.abs(f)>1&&(f=f>=0?1:-1),d=Math.acos(f)/3,n=t.y>=0?(-h*Math.cos(d+Math.PI/3)-u/3/l)*Math.PI:-(-h*Math.cos(d+Math.PI/3)-u/3/l)*Math.PI,e=Math.abs(i)<1e-10?this.long0:r(this.long0+Math.PI*(a-1+Math.sqrt(1+2*(i*i-o*o)+a*a))/2/i),t.x=e,t.y=n,t},e.names=["Van_der_Grinten_I","VanDerGrinten","vandg"]},function(t,e,n){var r=n(43),i=Math.PI/2,o=n(184),a=n(180),s=n(181),u=n(182),l=n(183),c=n(304),h=n(154),f=n(305);e.init=function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},e.forward=function(t){var e,n,h,f,d,p,m,g,v,y,b,w,x,_,E,M,S,T,C,I,O,A,L,R=t.x,N=t.y,P=Math.sin(t.y),k=Math.cos(t.y),D=r(R-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=1e-10?(t.x=this.x0+this.a*(i-N)*Math.sin(D),t.y=this.y0-this.a*(i-N)*Math.cos(D),t):Math.abs(this.sin_p12+1)<=1e-10?(t.x=this.x0+this.a*(i+N)*Math.sin(D),t.y=this.y0+this.a*(i+N)*Math.cos(D),t):(T=this.sin_p12*P+this.cos_p12*k*Math.cos(D),M=Math.acos(T),S=M/Math.sin(M),t.x=this.x0+this.a*S*k*Math.sin(D),t.y=this.y0+this.a*S*(this.cos_p12*P-this.sin_p12*k*Math.cos(D)),t):(e=a(this.es),n=s(this.es),h=u(this.es),f=l(this.es),Math.abs(this.sin_p12-1)<=1e-10?(d=this.a*o(e,n,h,f,i),p=this.a*o(e,n,h,f,N),t.x=this.x0+(d-p)*Math.sin(D),t.y=this.y0-(d-p)*Math.cos(D),t):Math.abs(this.sin_p12+1)<=1e-10?(d=this.a*o(e,n,h,f,i),p=this.a*o(e,n,h,f,N),t.x=this.x0+(d+p)*Math.sin(D),t.y=this.y0+(d+p)*Math.cos(D),t):(m=P/k,g=c(this.a,this.e,this.sin_p12),v=c(this.a,this.e,P),y=Math.atan((1-this.es)*m+this.es*g*this.sin_p12/(v*k)),b=Math.atan2(Math.sin(D),this.cos_p12*Math.tan(y)-this.sin_p12*Math.cos(D)),C=0===b?Math.asin(this.cos_p12*Math.sin(y)-this.sin_p12*Math.cos(y)):Math.abs(Math.abs(b)-Math.PI)<=1e-10?-Math.asin(this.cos_p12*Math.sin(y)-this.sin_p12*Math.cos(y)):Math.asin(Math.sin(D)*Math.cos(y)/Math.sin(b)),w=this.e*this.sin_p12/Math.sqrt(1-this.es),x=this.e*this.cos_p12*Math.cos(b)/Math.sqrt(1-this.es),_=w*x,E=x*x,I=C*C,O=I*C,A=O*C,L=A*C,M=g*C*(1-I*E*(1-E)/6+O/8*_*(1-2*E)+A/120*(E*(4-7*E)-3*w*w*(1-7*E))-L/48*_),t.x=this.x0+M*Math.sin(b),t.y=this.y0+M*Math.cos(b),t))},e.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e,n,d,p,m,g,v,y,b,w,x,_,E,M,S,T,C,I,O,A,L,R,N;if(this.sphere){if((e=Math.sqrt(t.x*t.x+t.y*t.y))>2*i*this.a)return;return n=e/this.a,d=Math.sin(n),p=Math.cos(n),m=this.long0,Math.abs(e)<=1e-10?g=this.lat0:(g=h(p*this.sin_p12+t.y*d*this.cos_p12/e),v=Math.abs(this.lat0)-i,m=r(Math.abs(v)<=1e-10?this.lat0>=0?this.long0+Math.atan2(t.x,-t.y):this.long0-Math.atan2(-t.x,t.y):this.long0+Math.atan2(t.x*d,e*this.cos_p12*p-t.y*this.sin_p12*d))),t.x=m,t.y=g,t}return y=a(this.es),b=s(this.es),w=u(this.es),x=l(this.es),Math.abs(this.sin_p12-1)<=1e-10?(_=this.a*o(y,b,w,x,i),e=Math.sqrt(t.x*t.x+t.y*t.y),E=_-e,g=f(E/this.a,y,b,w,x),m=r(this.long0+Math.atan2(t.x,-1*t.y)),t.x=m,t.y=g,t):Math.abs(this.sin_p12+1)<=1e-10?(_=this.a*o(y,b,w,x,i),e=Math.sqrt(t.x*t.x+t.y*t.y),E=e-_,g=f(E/this.a,y,b,w,x),m=r(this.long0+Math.atan2(t.x,t.y)),t.x=m,t.y=g,t):(e=Math.sqrt(t.x*t.x+t.y*t.y),T=Math.atan2(t.x,t.y),M=c(this.a,this.e,this.sin_p12),C=Math.cos(T),I=this.e*this.cos_p12*C,O=-I*I/(1-this.es),A=3*this.es*(1-O)*this.sin_p12*this.cos_p12*C/(1-this.es),L=e/M,R=L-O*(1+O)*Math.pow(L,3)/6-A*(1+3*O)*Math.pow(L,4)/24,N=1-O*R*R/2-L*R*R*R/6,S=Math.asin(this.sin_p12*Math.cos(R)+this.cos_p12*Math.sin(R)*C),m=r(this.long0+Math.asin(Math.sin(T)*Math.sin(R)/Math.cos(S))),g=Math.atan((1-this.es*N*this.sin_p12/Math.sin(S))*Math.tan(S)/(1-this.es)),t.x=m,t.y=g,t)},e.names=["Azimuthal_Equidistant","aeqd"]},function(t,e,n){"use strict";var r=n(58),i=n.n(r),o=n(66),a=n.n(o),s=n(158),u=n.n(s),l="function"==typeof a.a&&"symbol"==typeof i.a?function(t){return typeof t}:function(t){return t&&"function"==typeof a.a&&t.constructor===a.a&&t!==a.a.prototype?"symbol":typeof t};!function(t,e,n){var r=function(t,e){var n=t.indexOf(e);n>=0&&t.splice(n,1)};t.El=function(){var t=function(t){return t.replace(/\-(\w)/g,function(t,e){return e.toUpperCase()})},r=n.createElement("a"),i="textContent"in r?"textContent":"innerText",a="WheelEvent"in e||"onwheel"in e,s=function(){var t,e,r,i,o,a,s,u,l=["backfaceVisibility","borderRadius","boxSizing","boxShadow","perspective","transform","transformOrigin","transformStyle","userSelect"],c=["Webkit","Moz","Ms","ms","O","Khtml"],h={},f=n.documentElement.style;for(t=0,e=l.length;t<e;++t)if(!((o=l[t])in f)){for(a=o.charAt(0).toUpperCase()+o.slice(1),u=!1,r=0,i=c.length;r<i&&!u;++r)(s=c[r]+a)in f&&(h[o]=s,u=!0);u||(h[o]="undefined")}return h}(),u={UNDEFINED:"undefined",vendorSpecificCssKeys:s,create:function(t,e){var r=n.createElement(t);return e&&u.setProperties(r,e),r},createText:function(t){return n.createTextNode(t)},setProperties:function(t,e){for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];u.setProperty(t,n,r)}},setProperty:function(t,e,n){switch(e){case"text":t[i]=n;break;case"html":t.innerHTML=n;break;case"styles":u.setStyles(t,n);break;case"events":u.addEvents(t,n);break;default:t.setAttribute(e,n)}},getStyles:function(t){return t.style},getStyle:function(t,e){return t.style[e in s?s[e]:e]},getCurrentStyle:function(e,r){var i=n.defaultView;if(e.currentStyle)return r=t(r),parseFloat(e.currentStyle[r in s?s[r]:r]);if(i&&i.getComputedStyle){var o=i.getComputedStyle(e,null),a=o.getPropertyCSSValue(r);return a?a.getFloatValue(CSSPrimitiveValue.CSS_PX):parseFloat(o.getPropertyValue(r))}return r=t(r),parseFloat(u.getStyle(e,r))},setStyles:function(t,e){for(var n in e)e.hasOwnProperty(n)&&u.setStyle(t,n,e[n])},setStyle:function(t,e,n){t.style[e in s?s[e]:e]=n},addEvents:function(t,e){for(var n in e)e.hasOwnProperty(n)&&u.addEvent(t,n,e[n])},addEvent:function(t,e,n){if("mousewheel"===e&&a?e="wheel":"wheel"!==e||a||(e="mousewheel"),"key"===e.substr(0,3)){var r=n;n=function(e){return o.augmentKeyboardEvent(e),r.apply(t,arguments)}}else if("mouse"===e.substr(0,5)||"wheel"===e){var r=n;n=function(e){return o.augmentMouseEvent(e),r.apply(t,arguments)}}t.addEventListener(e,n)},removeEvent:function(t,e,n){t.removeEventListener(e,n)},adopt:function(t,e){if(Array.isArray(e))for(var n=0,r=e.length;n<r;++n)t.appendChild(e[n]);else t.appendChild(e)},remove:function(t){var e=t.parentElement;e&&e.removeChild(t)},query:function(t,e){if(!t)throw Error("Empty query!");return"object"===(void 0===t?"undefined":l(t))&&t instanceof Element?t:"string"==typeof t?(e&&"#"!==t.charAt(0)&&(t="#"+t),n.querySelector(t)):void 0},id:function(t){return u.query(t,!0)},getPagePos:function(t){var r=t.getBoundingClientRect();return{x:r.left+("pageXOffset"in e?e.pageXOffset:(n.documentElement||n.body.parentNode||n.body).scrollLeft),y:r.top+("pageYOffset"in e?e.pageYOffset:(n.documentElement||n.body.parentNode||n.body).scrollTop)}},getWinPos:function(t){var e=t.getBoundingClientRect();return{x:e.left,y:e.top}},getSize:function(t){var e=t.getBoundingClientRect();return{width:e.right-e.left,height:e.bottom-e.top}},getPPI:function(){var t=u.create("div",{style:"width:1in"});u.adopt(n.body,t);var e=u.getSize(t).width;return u.remove(t),e}};return u}();var i={8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",106:"*",107:"+",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},o=t.Events=u.a.Class({STATIC:{keyCodeToKeyMap:i,augmentKeyboardEvent:function(t){var e=t.keyCode,n="Unidentified";e in i?n=i[e]:48<=e&&e<=57||65<=e&&e<=90?n=String.fromCharCode(e):96<=e&&e<=105?n=e-96:112<=e&&e<=135&&(n="F"+(e-111)),t.dom3key=n},augmentMouseEvent:function(t){"mousewheel"===t.type&&("deltaY"in t||(t.deltaY=-t.wheelDelta))}},getListeners:function(){return this._listeners||(this._listeners={}),this._listeners},addEventListener:function(t,e){var n=this.getListeners();t in n||(n[t]=[]),n=n[t],r(n,e),n.push(e)},removeEventListener:function(t,e){var n=this.getListeners();t in n&&r(n[t],e)},fireEvent:function(t){var e,n,r,i=this.getListeners();if(t in i)for(i=i[t].slice(0),e=Array.prototype.slice.call(arguments,1),n=0,r=i.length;n<r;++n)i[n].apply(this,e)}})}(CM,window,document)},function(t,e,n){n(155),n(190),t.exports=n(316).f("iterator")},function(t,e,n){var r=n(307),i=n(308);t.exports=function(t){return function(e,n){var o,a,s=String(i(e)),u=r(n),l=s.length;return u<0||u>=l?t?"":void 0:(o=s.charCodeAt(u),o<55296||o>56319||u+1===l||(a=s.charCodeAt(u+1))<56320||a>57343?t?s.charAt(u):o:t?s.slice(u,u+2):a-56320+(o-55296<<10)+65536)}}},function(t,e,n){"use strict";var r=n(234),i=n(187),o=n(189),a={};n(114)(a,n(56)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(a,{next:i(1,n)}),o(t,e+" Iterator")}},function(t,e,n){var r=n(102),i=n(235),o=n(896);t.exports=function(t){return function(e,n,a){var s,u=r(e),l=i(u.length),c=o(a,l);if(t&&n!=n){for(;l>c;)if((s=u[c++])!=s)return!0}else for(;l>c;c++)if((t||c in u)&&u[c]===n)return t||c||0;return!t&&-1}}},function(t,e,n){var r=n(307),i=Math.max,o=Math.min;t.exports=function(t,e){return t=r(t),t<0?i(t+e,0):o(t,e)}},function(t,e,n){"use strict";var r=n(898),i=n(437),o=n(156),a=n(102);t.exports=n(309)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):"keys"==e?i(0,n):"values"==e?i(0,t[n]):i(0,[n,t[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(t,e){t.exports=function(){}},function(t,e,n){n(317),n(321),n(903),n(904),t.exports=n(22).Symbol},function(t,e,n){var r=n(135),i=n(102);t.exports=function(t,e){for(var n,o=i(t),a=r(o),s=a.length,u=0;s>u;)if(o[n=a[u++]]===e)return n}},function(t,e,n){var r=n(135),i=n(319),o=n(191);t.exports=function(t){var e=r(t),n=i.f;if(n)for(var a,s=n(t),u=o.f,l=0;s.length>l;)u.call(t,a=s[l++])&&e.push(a);return e}},function(t,e,n){var r=n(102),i=n(439).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return i(t)}catch(t){return a.slice()}};t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?s(t):i(r(t))}},function(t,e,n){n(318)("asyncIterator")},function(t,e,n){n(318)("observable")},function(t,e,n){var r,i;!function(){var n={};r=[],void 0!==(i=function(){return n}.apply(e,r))&&(t.exports=i),n.Class=function(){var t,e,n=arguments.length,r=arguments[n-1],i=n>1?arguments[0]:null,s=n>2;if(r.constructor===Object?t=function(){}:(t=r.constructor,delete r.constructor),i&&(e=function(){},e.prototype=i.prototype,t.prototype=new e,t.prototype.constructor=t,t.Super=i,a(t,i,!1)),s)for(var u=1;u<n-1;u++)a(t.prototype,arguments[u].prototype,!1);return o(t,r),t};var o=n.extendClass=function(t,e,n){e.STATIC&&(a(t,e.STATIC,n),delete e.STATIC),a(t.prototype,e,n)},a=function(t,e,n){var r;if(!1===n)for(r in e)r in t||(t[r]=e[r]);else{for(r in e)t[r]=e[r];e.toString!==Object.prototype.toString&&(t.toString=e.toString)}}}()},function(t,e,n){"use strict";var r=n(48),i=n.n(r),o=n(103),a=n.n(o),s=n(158),u=n.n(s);!function(t,e,n){var r="XMLHttpRequest",o="XDomainRequest",s="WebSocket",l=e[r],c=/MSIE [89]/.test(navigator.appVersion)&&e[o],h=e[s],f=function(){},d=0,p=function(t){var n=e.location,r=n.protocol+"//"+n.host+"/";return t.indexOf("://")<0||0===t.indexOf(r)},m=t.Req=u.a.Class({STATIC:{defaults:{async:!0,autoSend:!0,binary:!1,data:void 0,headers:{},method:"get",retryInterval:1e3,timeout:5e3,contentType:"json",responseType:"",url:"",onopen:f,onload:f,onerror:f},contentTypes:{form:"application/x-www-form-urlencoded; charset=UTF-8",json:"application/json; charset=UTF-8",xml:"application/xml; charset=UTF-8",arraybuffer:"arraybuffer",blob:"blob",none:null},responseTypes:{string:"",json:"json",arraybuffer:"arraybuffer",blob:"blob",text:"text",none:null},panoramaTilesLoadingCount:0,xhr:function(t){var e=new l,n=!1;e.onreadystatechange=function(){switch(e.readyState){case 0:break;case 1:d++,m.panoramaTilesLoadingCount=d,n||(t.onopen(),n=!0);break;case 2:case 3:break;case 4:var r=e.status;if(d--,m.panoramaTilesLoadingCount=d,r>=200&&r<=299||304===r)switch(t.responseType){case m.responseTypes.arraybuffer:case m.responseTypes.blob:t.onload(e.response);break;default:t.onload(e.responseText,e.responseXML)}else t.onerror(e.statusText||r,e)}},e.open(t.method,t.url,t.async);var r=m.contentTypes,o=t.contentType;return o in r?("none"!==o&&e.setRequestHeader("Content-Type",r[o]),"json"===o&&(t.data=a()(t.data)),(t.headers instanceof Headers?t.headers:i()(t.headers)).forEach(function(t,n){e.setRequestHeader(n,t)}),!p(t.url)&&t.withCredentials&&(e.withCredentials=!0),e.responseType=t.responseType,e):(t.onerror("Invalid request type: "+o),!1)},xdr:function(t){var e=new c;return e.readyState=0,e.timeout=t.timeout,e.onprogress=function(){e.readyState=3},e.onload=function(){e.readyState=4,t.onload(e.responseText)},e.onerror=function(){e.readyState=4,t.onerror(o+": error!")},e.ontimeout=function(){e.readyState=4,t.onerror(o+": timeout!")},e.readyState=1,e.open(t.method,t.url),t.onopen(),e},ws:function(t){var e=new h(t.url);return e.onopen=function(){t.onopen()},e.onmessage=function(e){t.onload(e.data)},e.onerror=e.onclose=function(e){t.onerror(s+": "+e)},e}},constructor:function(t){if(!(this instanceof m))return new m(t);var e=m.defaults;t=this.opts=t||{};for(var n in e)e.hasOwnProperty(n)&&(n in t||(t[n]=e[n]));this.initRequest(t)},reqType:null,req:null,initRequest:function(t){var e=this;/^(wss?):\/\//i.test(t.url)?(e.reqType=s,e.req=m.ws(t)):c&&!p(t.url)?(e.reqType=o,e.req=m.xdr(t)):(e.reqType=r,e.req=m.xhr(t)),t.autoSend&&e.send(t.data)},send:function(t){var n=this,i=n.reqType,a=n.req,u=n.opts;if(void 0===t&&(t=u.data),e.navigator.onLine)switch(i){case s:!function n(){switch(a.readyState){case 0:e.setTimeout(n,100);break;case 1:a.send(t);break;case 2:case 3:u.onerror(s+": connection not available!")}}();break;case o:e.setTimeout(function(){a.send(t)},0);break;case r:a.sendBinary&&u.binary?a.sendBinary(t):a.send(t);break;default:u.onerror("Invalid request type: "+i)}else e.setTimeout(function(){n.send()},u.retryInterval)},isOpen:function(){var t=this.reqType,e=this.req,n=void 0;switch(t){case r:case o:return 1===(n=e.readyState)||2===n||3===n;case s:return 1===(n=e.readyState)}},abort:function(){var t=this.reqType,e=this.req;switch(t){case r:case o:return e.abort();case s:return e.close(1e3,s+": abort")}}})}(CM,window)},function(t,e,n){n(908),t.exports=n(22).Object.entries},function(t,e,n){var r=n(37),i=n(440)(!0);r(r.S,"Object",{entries:function(t){return i(t)}})},function(t,e,n){var r=n(22),i=r.JSON||(r.JSON={stringify:JSON.stringify});t.exports=function(t){return i.stringify.apply(i,arguments)}},function(t,e,n){"use strict";var r=n(46),i=(n.n(r),n(39));!function(t,e,n){t.ENUTransformWGS=function t(r){if(!(this instanceof t))return new t(r);var o,a,s,u,l,c,h,f,d=6378137,p=6356752.31424518,m=d*d,g=p*p,v=(m-g)/m,y=function(t){var r=Object(i.e)(t[0]),p=Object(i.e)(t[1]);o=n.clone(t),s=e.sin(p),u=e.cos(p),l=e.sin(r),c=e.cos(r),h=e.sqrt(1-v*s*s),f=d/h,a=M(o)},b=function(t,e,r,i){var o=n.clone([-t,-e,0]),a=n.clone([t,e,0]),s=w(o),u=w(a);n.copy(r,s),n.copy(i,u)},w=function(t){var e=_(t);return S(e)},x=function(t){var e=M(t);return E(e)},_=function(t){var e=t[0],r=t[1],i=t[2],o=n.create();return o[0]=a[0]+-l*e+-s*c*r+u*c*i,o[1]=a[1]+c*e+-s*l*r+u*l*i,o[2]=a[2]+u*r+s*i,o},E=function(t){var e=n.sub(n.create(),t,a),r=e[0],i=e[1],o=e[2],h=n.create(),f=c*r,d=l*i;return h[0]=-l*r+c*i,h[1]=-s*f+-s*d+u*o,h[2]=u*f+u*d+s*o,h},M=function(t){isNaN(t[2])&&(t[2]=0);var r=Object(i.e)(t[0]),o=Object(i.e)(t[1]),a=t[2],u=e.sin(o),l=e.cos(o),c=e.sin(r),f=e.cos(r),p=(e.sqrt(1-v*s*s),d/h),m=n.create(),g=(p+a)*l;return m[0]=g*f,m[1]=g*c,m[2]=(p*(1-v)+a)*u,m},S=function(t){var r,o,a,s,u,l,c,h,f,p,y,b,w,x=t[0],_=t[1],E=t[2],M=x*x,S=_*_,T=E*E;r=M+S,o=e.sqrt(r),a=m-g,s=54*g*E*E,u=r+(1-v)*T-v*a,l=v*v*s*r/(u*u*u),c=e.pow(1+l+e.sqrt(l*l+2*l),1/3);var C=c+1/c+1;h=s/(3*C*C*u*u),f=e.sqrt(1+2*v*v*h),p=-h*v*o/(1+f)+e.sqrt(.5*m*(1+1/f)-h*(1-v)*T/(f*(1+f))-.5*h*r),C=o-v*p,C*=C,y=e.sqrt(C+T),b=e.sqrt(C+(1-v)*T),w=g*E/(d*b);var I=n.create();return I[0]=Object(i.d)(e.atan2(_,x)),I[1]=Object(i.d)(e.atan((E+.006739496742276239*w)/o)),I[2]=y*(1-g/(d*b)),I};this.constructor=y,this.computeBoundingBox=b,this.fromENU=w,this.toENU=x,this.getWgs84Reference=function(){return n.clone(o)},this.getEcefReference=function(){return n.clone(a)},this.constructor.apply(this,arguments)}}(window,Math,r.vec3)},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i});var r=.5*Math.PI,i=2*Math.PI},function(t,e){!function(t){var e=t.normalizeSrs=function(t,e){var n=/(?:(EPSG|ESRI):)?(\d+)/,r=(""+t).match(n);if(!r)throw new Error('Invalid SRS: "'+t+'"');var i=r[1],o=parseInt(r[2],10);return 102100===o&&(o=3857),e?i?i+":"+o:"EPSG:"+o:o},n={},r=function(t){return Array.prototype.slice.call(t,0)},i={forward:r,inverse:r},o=t.getProj4Transform=function(t,r){if(t=e(t,!0),r=e(r,!0),t===r)return i;var o=t+";"+r;return o in n?n[o]:n[o]=proj4(t,r)};t.transformXyz=function(t,e,n){return o(e,n).forward(t)}}(CM)},function(t,e,n){n(914);var r=n(22).Object;t.exports=function(t,e,n){return r.defineProperty(t,e,n)}},function(t,e,n){var r=n(37);r(r.S+r.F*!n(79),"Object",{defineProperty:n(78).f})},function(t,e,n){(function(t){var e={},n=[];CM.isDeviceOrientationAvailable=function(){return void 0!==t.DeviceOrientationEvent},CM.isDeviceMotionAvailable=function(){return void 0!==t.DeviceMotionEvent},CM.aperture={registerViewerClass:function(t){var r=t.VIEWER_TYPE;if(!r)throw new Error("Unable to determine viewer type.");e[r]=t,n.push(t)},getViewerClasses:function(){return n},isSupportedViewerType:function(t){return Object.hasOwnProperty.call(e,t)},getPreferredViewerType:function(){return n.length>0?n[0].prototype.VIEWER_TYPE:null}}}).call(e,n(34))},function(t,e,n){"use strict";(function(t){function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return l()(t)}n.d(e,"a",function(){return y});var i=n(51),o=n.n(i),a=n(80),s=n.n(a),u=n(31),l=n.n(u),c=n(19),h=n.n(c),f=n(16),d=n.n(f),p=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=d()(t);!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(h()(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),m=t;if(!m.UniqueValues)var g={},v=m.UniqueValues={data:g,store:function(t,e){Object.hasOwnProperty.call(g,t)||(g[t]=new s.a),g[t].set(e,(g[t].get(e)||0)+1)},get:function(t){return void 0!==t?[].concat(r(g[t].entries())).map(function(t){var e=p(t,2);return{value:e[0],count:e[1]}}):o()(g).map(function(t){return{key:t,values:v.get(t)}})}};var y=m.store;m.get}).call(e,n(34))},function(t,e,n){n(918),t.exports=n(22).Object.keys},function(t,e,n){var r=n(157),i=n(135);n(238)("keys",function(){return function(t){return i(r(t))}})},function(t,e,n){n(321),n(155),n(190),n(920),n(926),n(929),n(931),t.exports=n(22).Map},function(t,e,n){"use strict";var r=n(921),i=n(445);t.exports=n(922)("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=r.getEntry(i(this,"Map"),t);return e&&e.v},set:function(t,e){return r.def(i(this,"Map"),0===t?0:t,e)}},r,!0)},function(t,e,n){"use strict";var r=n(78).f,i=n(234),o=n(323),a=n(100),s=n(324),u=n(192),l=n(309),c=n(437),h=n(444),f=n(79),d=n(237).fastKey,p=n(445),m=f?"_s":"size",g=function(t,e){var n,r=d(e);if("F"!==r)return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,l){var c=t(function(t,r){s(t,c,e,"_i"),t._t=e,t._i=i(null),t._f=void 0,t._l=void 0,t[m]=0,void 0!=r&&u(r,n,t[l],t)});return o(c.prototype,{clear:function(){for(var t=p(this,e),n=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];t._f=t._l=void 0,t[m]=0},delete:function(t){var n=p(this,e),r=g(n,t);if(r){var i=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),n._f==r&&(n._f=i),n._l==r&&(n._l=o),n[m]--}return!!r},forEach:function(t){p(this,e);for(var n,r=a(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!g(p(this,e),t)}}),f&&r(c.prototype,"size",{get:function(){return p(this,e)[m]}}),c},def:function(t,e,n){var r,i,o=g(t,e);return o?o.v=n:(t._l=o={i:i=d(e,!0),k:e,v:n,p:r=t._l,n:void 0,r:!1},t._f||(t._f=o),r&&(r.n=o),t[m]++,"F"!==i&&(t._i[i]=o)),t},getEntry:g,setStrong:function(t,e,n){l(t,e,function(t,n){this._t=p(t,e),this._k=n,this._l=void 0},function(){for(var t=this,e=t._k,n=t._l;n&&n.r;)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?"keys"==e?c(0,n.k):"values"==e?c(0,n.v):c(0,[n.k,n.v]):(t._t=void 0,c(1))},n?"entries":"values",!n,!0),h(e)}}},function(t,e,n){"use strict";var r=n(55),i=n(37),o=n(237),a=n(133),s=n(114),u=n(323),l=n(192),c=n(324),h=n(92),f=n(189),d=n(78).f,p=n(923)(0),m=n(79);t.exports=function(t,e,n,g,v,y){var b=r[t],w=b,x=v?"set":"add",_=w&&w.prototype,E={};return m&&"function"==typeof w&&(y||_.forEach&&!a(function(){(new w).entries().next()}))?(w=e(function(e,n){c(e,w,t,"_c"),e._c=new b,void 0!=n&&l(n,v,e[x],e)}),p("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(t){var e="add"==t||"set"==t;t in _&&(!y||"clear"!=t)&&s(w.prototype,t,function(n,r){if(c(this,w,t),!e&&y&&!h(n))return"get"==t&&void 0;var i=this._c[t](0===n?0:n,r);return e?this:i})}),y||d(w.prototype,"size",{get:function(){return this._c.size}})):(w=g.getConstructor(e,t,v,x),u(w.prototype,n),o.NEED=!0),f(w,t),E[t]=w,i(i.G+i.W+i.F,E),y||g.setStrong(w,t,v),w}},function(t,e,n){var r=n(100),i=n(312),o=n(157),a=n(235),s=n(924);t.exports=function(t,e){var n=1==t,u=2==t,l=3==t,c=4==t,h=6==t,f=5==t||h,d=e||s;return function(e,s,p){for(var m,g,v=o(e),y=i(v),b=r(s,p,3),w=a(y.length),x=0,_=n?d(e,w):u?d(e,0):void 0;w>x;x++)if((f||x in y)&&(m=y[x],g=b(m,x,v),t))if(n)_[x]=g;else if(g)switch(t){case 3:return!0;case 5:return m;case 6:return x;case 2:_.push(m)}else if(c)return!1;return h?-1:l||c?c:_}}},function(t,e,n){var r=n(925);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,n){var r=n(92),i=n(438),o=n(56)("species");t.exports=function(t){var e;return i(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!i(e.prototype)||(e=void 0),r(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){var r=n(37);r(r.P+r.R,"Map",{toJSON:n(927)("Map")})},function(t,e,n){var r=n(239),i=n(928);t.exports=function(t){return function(){if(r(this)!=t)throw TypeError(t+"#toJSON isn't generic");return i(this)}}},function(t,e,n){var r=n(192);t.exports=function(t,e){var n=[];return r(t,!1,n.push,n,e),n}},function(t,e,n){n(930)("Map")},function(t,e,n){"use strict";var r=n(37);t.exports=function(t){r(r.S,t,{of:function(){for(var t=arguments.length,e=Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},function(t,e,n){n(932)("Map")},function(t,e,n){"use strict";var r=n(37),i=n(186),o=n(100),a=n(192);t.exports=function(t){r(r.S,t,{from:function(t){var e,n,r,s,u=arguments[1];return i(this),e=void 0!==u,e&&i(u),void 0==t?new this:(n=[],e?(r=0,s=o(u,arguments[2],2),a(t,!1,function(t){n.push(s(t,r++))})):a(t,!1,n.push,n),new this(n))}})}},function(t,e,n){n(155),n(934),t.exports=n(22).Array.from},function(t,e,n){"use strict";var r=n(100),i=n(37),o=n(157),a=n(442),s=n(443),u=n(235),l=n(935),c=n(325);i(i.S+i.F*!n(446)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,i,h,f=o(t),d="function"==typeof this?this:Array,p=arguments.length,m=p>1?arguments[1]:void 0,g=void 0!==m,v=0,y=c(f);if(g&&(m=r(m,p>2?arguments[2]:void 0,2)),void 0==y||d==Array&&s(y))for(e=u(f.length),n=new d(e);e>v;v++)l(n,v,g?m(f[v],v):f[v]);else for(h=y.call(f),n=new d;!(i=h.next()).done;v++)l(n,v,g?a(h,m,[i.value,v],!0):i.value);return n.length=v,n}})},function(t,e,n){"use strict";var r=n(78),i=n(187);t.exports=function(t,e,n){e in t?r.f(t,e,i(0,n)):t[e]=n}},function(t,e,n){n(190),n(155),t.exports=n(937)},function(t,e,n){var r=n(239),i=n(56)("iterator"),o=n(156);t.exports=n(22).isIterable=function(t){var e=Object(t);return void 0!==e[i]||"@@iterator"in e||o.hasOwnProperty(r(e))}},function(t,e,n){n(190),n(155),t.exports=n(939)},function(t,e,n){var r=n(101),i=n(325);t.exports=n(22).getIterator=function(t){var e=i(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return r(e.call(t))}},function(t,e){function n(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}t.exports=n},function(t,e,n){function r(t,e){return i(e,function(e){return o(t[e])})}var i=n(942),o=n(115);t.exports=r},function(t,e){function n(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}t.exports=n},function(t,e,n){function r(t){var e=a.call(t,u),n=t[u];try{t[u]=void 0;var r=!0}catch(t){}var i=s.call(t);return r&&(e?t[u]=n:delete t[u]),i}var i=n(327),o=Object.prototype,a=o.hasOwnProperty,s=o.toString,u=i?i.toStringTag:void 0;t.exports=r},function(t,e){function n(t){return i.call(t)}var r=Object.prototype,i=r.toString;t.exports=n},function(t,e){function n(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}t.exports=n},function(t,e,n){function r(t,e){var n=a(t),r=!n&&o(t),c=!n&&!r&&s(t),f=!n&&!r&&!c&&l(t),d=n||r||c||f,p=d?i(t.length,String):[],m=p.length;for(var g in t)!e&&!h.call(t,g)||d&&("length"==g||c&&("offset"==g||"parent"==g)||f&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||u(g,m))||p.push(g);return p}var i=n(947),o=n(449),a=n(163),s=n(450),u=n(451),l=n(452),c=Object.prototype,h=c.hasOwnProperty;t.exports=r},function(t,e){function n(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}t.exports=n},function(t,e,n){function r(t){return o(t)&&i(t)==a}var i=n(136),o=n(162),a="[object Arguments]";t.exports=r},function(t,e){function n(){return!1}t.exports=n},function(t,e,n){function r(t){return a(t)&&o(t.length)&&!!s[i(t)]}var i=n(136),o=n(453),a=n(162),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,t.exports=r},function(t,e){function n(t){return function(e){return t(e)}}t.exports=n},function(t,e,n){(function(t){var r=n(448),i="object"==typeof e&&e&&!e.nodeType&&e,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a&&r.process,u=function(){try{return s&&s.binding&&s.binding("util")}catch(t){}}();t.exports=u}).call(e,n(164)(t))},function(t,e,n){var r=n(455),i=r(Object.keys,Object);t.exports=i},function(t,e,n){n(955),t.exports=n(22).Object.assign},function(t,e,n){var r=n(37);r(r.S+r.F,"Object",{assign:n(956)})},function(t,e,n){"use strict";var r=n(135),i=n(319),o=n(191),a=n(157),s=n(312),u=Object.assign;t.exports=!u||n(133)(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=u({},t)[n]||Object.keys(u({},e)).join("")!=r})?function(t,e){for(var n=a(t),u=arguments.length,l=1,c=i.f,h=o.f;u>l;)for(var f,d=s(arguments[l++]),p=c?r(d).concat(c(d)):r(d),m=p.length,g=0;m>g;)h.call(d,f=p[g++])&&(n[f]=d[f]);return n}:u},function(t,e,n){n(958),t.exports=n(22).Object.getPrototypeOf},function(t,e,n){var r=n(157),i=n(436);n(238)("getPrototypeOf",function(){return function(t){return i(r(t))}})},function(t,e,n){n(960),t.exports=n(22).Object.setPrototypeOf},function(t,e,n){var r=n(37);r(r.S,"Object",{setPrototypeOf:n(961).set})},function(t,e,n){var r=n(92),i=n(101),o=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{r=n(100)(Function.call,n(320).f(Object.prototype,"__proto__").set,2),r(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:o}},function(t,e,n){n(963);var r=n(22).Object;t.exports=function(t,e){return r.create(t,e)}},function(t,e,n){var r=n(37);r(r.S,"Object",{create:n(234)})},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(1),o=n.n(i),a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),o()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=function(){function t(){r(this,t),this.reset()}return a(t,[{key:"reset",value:function(){this.currentZoom=-1,this.loadingZoom=-1,this.failed=!1}}]),t}();e.a=s},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(1),o=n.n(i),a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),o()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=function(){function t(e){r(this,t),this.ubermax=e,this.reset()}return a(t,[{key:"reset",value:function(){this.max=this.ubermax,this.now=0}}]),t}();e.a=s},function(t,e,n){"use strict";var r=n(46);n.n(r);e.a=function(t,e,n,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=-o,s=o+n,u=o+i,l=-o,c=void 0,h=void 0,f=void 0,d=void 0,p=void 0,m=void 0,g=void 0,v=void 0,y=void 0,b=void 0,w=void 0,x=t.map(function(t){return r.vec3.transformMat3(r.vec3.create(),t,e)}),_=[],E=[],M=x.length;c=x[M-1];for(var S=0;S<M;++S)m=x[S],g=m[0],v=m[1],y=m[2],h=c[0],f=c[1],d=c[2],b=y<=-1,p=d<=-1,b!==p&&(w=(1+d)/(y-d),_.push([w*(g-h)-h,w*(v-f)-f])),b&&_.push([g/y,v/y]),c=m;if((M=_.length)<3)return E;x.length=0,c=_[M-1];for(var T=0;T<M;++T)m=_[T],g=m[0],h=c[0],b=g<s,p=h<s,b!==p&&(v=m[1],f=c[1],x.push([s,f+(v-f)/(g-h)*(s-h)])),b&&x.push(m),c=m;if((M=x.length)<3)return E;_.length=0,c=x[M-1];for(var C=0;C<M;++C)m=x[C],g=m[0],h=c[0],b=g>=a,p=h>=a,b!==p&&(v=m[1],f=c[1],_.push([a,f+(v-f)/(g-h)*(a-h)])),b&&_.push(m),c=m;if((M=_.length)<3)return E;x.length=0,c=_[M-1];for(var I=0;I<M;++I)m=_[I],v=m[1],f=c[1],b=v<u,p=f<u,b!==p&&(g=m[0],h=c[0],x.push([h+(g-h)/(v-f)*(u-f),u])),b&&x.push(m),c=m;if((M=x.length)<3)return E;_.length=0,c=x[M-1];for(var O=0;O<M;++O)m=x[O],v=m[1],f=c[1],b=v>=l,p=f>=l,b!==p&&(g=m[0],h=c[0],_.push([h+(g-h)/(v-f)*(l-f),l])),b&&_.push(m),c=m;return _}},function(t,e,n){n(968),t.exports=n(22).Math.hypot},function(t,e,n){var r=n(37),i=Math.abs;r(r.S,"Math",{hypot:function(t,e){for(var n,r,o=0,a=0,s=arguments.length,u=0;a<s;)n=i(arguments[a++]),u<n?(r=u/n,o=o*r*r+1,u=n):n>0?(r=n/u,o+=r*r):o+=n;return u===1/0?1/0:u*Math.sqrt(o)}})},function(t,e,n){n(970),t.exports=n(22).Number.isFinite},function(t,e,n){var r=n(37),i=n(55).isFinite;r(r.S,"Number",{isFinite:function(t){return"number"==typeof t&&i(t)}})},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(1),o=n.n(i),a=n(46),s=(n.n(a),function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),o()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}()),u=a.mat3.clone([1,0,0,0,0,-1,0,-1,0]),l=a.mat4.create(),c=function(){function t(){r(this,t),this.rot4=a.mat4.create(),this.K=a.mat3.create(),this.extrinsicMatrix=a.mat3.create(),this.intrinsicMatrix=a.mat3.clone(u),this.projectionMatrix=a.mat3.create(),this.offsetRot4=a.mat4.create(),this.offsetExtrinsicMatrix=a.mat3.create(),this.offsetProjectionMatrix=a.mat3.create(),this.focalLength=0,this.yawOffset=0,this.yaw=0,this.pitch=0,this.hFov=Math.PI/2,this.width=0,this.height=0,this.xyz=a.vec3.create()}return s(t,[{key:"setPosition",value:function(t){var e=t.xyz,n=t.yawOffset,r=void 0===n?0:n;a.vec3.copy(this.xyz,e),this.yawOffset=r}},{key:"update",value:function(t,e,n,r,i){var o=this.K,s=this.rot4,c=this.intrinsicMatrix,h=this.extrinsicMatrix,f=this.projectionMatrix,d=this.offsetRot4,p=this.offsetExtrinsicMatrix,m=this.offsetProjectionMatrix,g=t/(2*Math.tan(.5*i));this.focalLength=g,this.width=t,this.height=e,this.yaw=n,this.pitch=r,this.hFov=i,o[0]=o[4]=-g,o[6]=.5*t,o[7]=.5*e,a.mat3.mul(c,o,u),a.mat4.rotateX(s,l,-r),a.mat4.rotateZ(s,s,n),a.mat3.fromMat4(h,s),a.mat3.mul(f,c,h),a.mat4.rotateX(d,l,-r),a.mat4.rotateZ(d,d,n+this.yawOffset),a.mat3.fromMat4(p,d),a.mat3.mul(m,c,p)}},{key:"imageToWorldVector",value:function(t,e){var n=a.vec3.fromValues(t-.5*this.width,e-.5*this.height,-this.focalLength),r=a.mat3.create();return a.mat3.mul(r,u,this.extrinsicMatrix),a.mat3.transpose(r,r),a.vec3.transformMat3(n,n,r),a.vec3.normalize(n,n),n}},{key:"pixelToWorldVector",value:function(t,e){return this.imageToWorldVector(t+.5,e+.5)}},{key:"worldCoordToImage",value:function(t,e,n){var r=a.vec3.fromValues(t,e,n);return a.vec3.sub(r,r,this.xyz),a.vec3.transformMat3(r,r,this.projectionMatrix),r[2]>-1?null:a.vec2.fromValues(r[0]/r[2],r[1]/r[2])}}]),t}();e.a=c},function(t,e,n){"use strict";var r=n(158),i=n.n(r);!function(){var t=CM.aperture;if(!t.AbstractRecordingClient){var e={};e.EVENT_AREA_LOAD_START="arealoadstart",e.EVENT_AREA_LOAD_SUCCESS="arealoadsuccess",e.EVENT_AREA_LOAD_FAILURE="arealoadfailure",e.EVENT_AREA_LOAD_COMPLETE="arealoadcomplete",e.EVENT_RECORDING_LOAD_START="recordingloadstart",e.EVENT_RECORDING_LOAD_SUCCESS="recordingloadsuccess",e.EVENT_RECORDING_LOAD_FAILURE="recordingloadfailure",e.EVENT_RECORDING_LOAD_CANCEL="recordingloadcancel";t.AbstractRecordingClient=i.a.Class(null,CM.Events,{_uriManager:null,_request:null,constructor:function(t){t.uriManager&&this.setUriManager(t.uriManager)},getUriManager:function(){return this._uriManager},setUriManager:function(t){this._uriManager=t},requestWithinRadius:function(t,e,n){console.error("Not implemented")},requestWithinBBOX:function(t,e,n,r){console.error("Not implemented")}}),t.AbstractRecordingClient.Events=e}}()},function(t,e,n){"use strict";function r(t){return function(){var e=t.apply(this,arguments);return new s.a(function(t,n){function r(i,o){try{var a=e[i](o),u=a.value}catch(t){return void n(t)}if(!a.done)return s.a.resolve(u).then(function(t){r("next",t)},function(t){r("throw",t)});t(u)}return r("next")})}}var i=n(24),o=n.n(i),a=n(23),s=n.n(a),u=n(4),l=n.n(u),c=n(58),h=n.n(c),f=n(66),d=n.n(f),p=n(158),m=n.n(p),g=n(331),v=n(467),y=n(117),b=n(39),w="function"==typeof d.a&&"symbol"==typeof h.a?function(t){return typeof t}:function(t){return t&&"function"==typeof d.a&&t.constructor===d.a&&t!==d.a.prototype?"symbol":typeof t},x=l.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};!function(){var t=CM.aperture;if(!t.WfsRecordingClient)var e={},n=(e.EVENT_AREA_LOAD_START="arealoadstart",e.EVENT_AREA_LOAD_SUCCESS="arealoadsuccess",e.EVENT_AREA_LOAD_FAILURE="arealoadfailure"),i=(e.EVENT_AREA_LOAD_COMPLETE="arealoadcomplete",e.EVENT_RECORDING_LOAD_START="recordingloadstart"),a=e.EVENT_RECORDING_LOAD_SUCCESS="recordingloadsuccess",s=(e.EVENT_RECORDING_LOAD_FAILURE="recordingloadfailure",e.EVENT_RECORDING_LOAD_CANCEL="recordingloadcancel",t.WfsRecordingClient=m.a.Class(t.AbstractRecordingClient,{constructor:function(t){t=t||{},t&&t.authHeaders&&(this._authHeaders=t.authHeaders),t.uriManager||(t.uriManager=new v.a),s.Super.call(this,t)},requestWithinRadius:function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=x({},i,{x:t,y:e,radius:n});return this._doRequest("radius",r,o)},fetchRecording:function(t,e){var n={imageId:t};return this._doRequest("recording",e,n)},requestWithinBBOX:function(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=x({},o,{minX:t,minY:e,maxX:n,maxY:r});return this._doRequest("bbox",i,a)},_doRequest:function(){function t(t,n){return e.apply(this,arguments)}var e=r(o.a.mark(function t(e,r){var a,s,u,l,c,h,f,d,p,m,g,v,y,b,w,x,_,E,M,S,T,C,I,O,A,L=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=this,a.fireEvent(i),r=CM.normalizeSrs(r,!0),s=void 0,"recording"===e?(u=['<ogc:FeatureId fid="',L.imageId,'"/>'].join(""),s=['<wfs:GetFeature service="WFS" version="1.1.0" resultType="results" outputFormat="text/xml; subtype=gml/3.1.1" xmlns:wfs="http://www.opengis.net/wfs">','<wfs:Query typeName="atlas:Recording" srsName="',r,'" xmlns:atlas="http://www.cyclomedia.com/atlas">','<ogc:Filter xmlns:ogc="http://www.opengis.net/ogc">',u,"</ogc:Filter>","</wfs:Query>","</wfs:GetFeature>"].join("")):(l=L.dateRange,c=L.showAerorama,h=L.maxFeatures,f=void 0,"bbox"===e?(d=L.minX,p=L.minY,m=L.maxX,g=L.maxY,f=["<ogc:BBOX>",'<gml:Envelope srsName="',r,'" xmlns:gml="http://www.opengis.net/gml">',"<gml:lowerCorner>",d," ",p,"</gml:lowerCorner>","<gml:upperCorner>",m," ",g,"</gml:upperCorner>","</gml:Envelope>","</ogc:BBOX>"].join("")):"radius"===e&&(v=L.x,y=L.y,b=L.radius,f=["<ogc:DWithin>","<ogc:PropertyName>Recording/location</ogc:PropertyName>",'<gml:Point srsName="',r,'" xmlns:gml="http://www.opengis.net/gml">',"<gml:pos>",v," ",y,"</gml:pos>","</gml:Point>",'<ogc:Distance units="http://www.opengeospatial.org/se/units/metre">',b,"</ogc:Distance>","</ogc:DWithin>"].join("")),w=["<ogc:PropertyIsNull>","<ogc:PropertyName>expiredAt</ogc:PropertyName>","</ogc:PropertyIsNull>"].join(""),x=void 0,l?(_=new Date(l.from||"1995-01-01").toISOString(),E=new Date(l.to||"2100-01-01").toISOString(),M=["<ogc:PropertyIsBetween>","<ogc:PropertyName>recordedAt</ogc:PropertyName>","<ogc:LowerBoundary>","<ogc:Literal>",_,"</ogc:Literal>","</ogc:LowerBoundary>","<ogc:UpperBoundary>","<ogc:Literal>",E,"</ogc:Literal>","</ogc:UpperBoundary>","</ogc:PropertyIsBetween>"].join(""),x=!0===l.onlyExpired?[M,"<ogc:PropertyIsBetween>","<ogc:PropertyName>expiredAt</ogc:PropertyName>","<ogc:LowerBoundary>","<ogc:Literal>1995-01-01</ogc:Literal>","</ogc:LowerBoundary>","<ogc:UpperBoundary>","<ogc:Literal>2100-01-01</ogc:Literal>","</ogc:UpperBoundary>","</ogc:PropertyIsBetween>"].join(""):M):x=w,S=void 0===c||!1===c?['<ogc:PropertyIsNotEqualTo matchCase="1">',"<ogc:PropertyName>productType</ogc:PropertyName>","<ogc:Literal>Aerorama</ogc:Literal>","</ogc:PropertyIsNotEqualTo>"].join(""):"",T=void 0!==h?' maxFeatures="'+h+'"':"",s=['<wfs:GetFeature service="WFS" version="1.1.0"',' resultType="results"',' outputFormat="text/xml; subtype=gml/3.1.1"',' xmlns:wfs="http://www.opengis.net/wfs"',T,">",'<wfs:Query typeName="atlas:Recording" srsName="',r,'" xmlns:atlas="http://www.cyclomedia.com/atlas">','<ogc:Filter xmlns:ogc="http://www.opengis.net/ogc">',"<ogc:And>",f,x,S,"<ogc:PropertyIsEqualTo>","<ogc:PropertyName>isAuthorized</ogc:PropertyName>","<ogc:Literal>true</ogc:Literal>","</ogc:PropertyIsEqualTo>","</ogc:And>","</ogc:Filter>","</wfs:Query>","</wfs:GetFeature>"].join("")),C=a._uriManager.getDataUri()[0],I={type:e,minX:L.minX,maxX:L.maxX,minY:L.minY,maxY:L.maxY,srs:r,x:L.x,y:L.y,imageId:L.imageId},"radius"===e&&(I.radius=L.radius),O=new Headers(a._authHeaders||{}),O.append("Content-Type","text/xml"),a._uriManager.apiKey&&(C=C+(/\?$/.test(C)?"":"?")+"apiKey="+a._uriManager.apiKey),A=new Request(C,{method:"POST",mode:a._uriManager.withCredentials?"cors":"no-cors",headers:O,body:s,redirect:"follow"}),t.next=14,fetch(A).then(function(t){if(!t.ok)throw new Error("REQUEST_FAILED");return t.text().then(function(t){return a._onWfsRequestComplete(t,I)})},function(t){throw a.fireEvent(n,null,t,A),new Error(n)});case 14:return t.abrupt("return",t.sent);case 15:case"end":return t.stop()}},t,this)}));return t}(),_onWfsRequestComplete:function(t,e){var n=[];n.length=0;var r=Object(y.b)(t),i=r["wfs:FeatureCollection"]["gml:featureMembers"]["atlas:Recording"];if(void 0!==i){Array.isArray(i)||(i=[i]);for(var o=0,s=i.length;o<s;++o){var u=i[o];if(u["atlas:isAuthorized"]){var l=u["atlas:tileSchema"];switch(l){case"Dcr10Tiling":case"Dcr9Tiling":break;default:continue}var c=u["atlas:location"]["gml:Point"],h=c["gml:pos"].split(" "),f=c["@srsName"].substr(18),d=c["@srsDimension"],p=u["atlas:height"];p&&"object"===(void 0===p?"undefined":w(p))||(p={"@system":void 0,"#text":p});var m=!0===u["atlas:hasDepthMap"];n.push(new g.a({id:u["atlas:imageId"],xyz:[parseFloat(h[0]),parseFloat(h[1]),parseFloat(d>2?h[2]:p["#text"])],srs:f,recorderDirection:Object(b.e)(parseFloat(u["atlas:recorderDirection"])),groundLevelOffset:parseFloat(u["atlas:groundLevelOffset"]),recordedAt:u["atlas:recordedAt"],orientation:Object(b.e)(parseFloat(u["atlas:orientation"])),orientationPrecision:parseFloat(u["atlas:orientationPrecision"]),tileSchema:l,longitudePrecision:parseFloat(u["atlas:longitudePrecision"]),latitudePrecision:parseFloat(u["atlas:latitudePrecision"]),heightPrecision:parseFloat(u["atlas:heightPrecision"]),productType:u["atlas:productType"],heightSystem:p["@system"],expiredAt:u["atlas:expiredAt"],hasDepthMap:m,depthMapVersion:m?u["atlas:depthMapVersion"]:void 0,depthMapPrecision:m?parseFloat(u["atlas:depthMapPrecision"]):void 0}))}}}return this.fireEvent(a,e,n),n}}))}()},function(t,e,n){var r=function(){return this}()||Function("return this")(),i=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,o=i&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,t.exports=n(975),i)r.regeneratorRuntime=o;else try{delete r.regeneratorRuntime}catch(t){r.regeneratorRuntime=void 0}},function(t,e){!function(e){"use strict";function n(t,e,n,r){var o=e&&e.prototype instanceof i?e:i,a=Object.create(o.prototype),s=new d(r||[]);return a._invoke=l(t,n,s),a}function r(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function i(){}function o(){}function a(){}function s(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function u(t){function e(n,i,o,a){var s=r(t[n],t,i);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==typeof l&&y.call(l,"__await")?Promise.resolve(l.__await).then(function(t){e("next",t,o,a)},function(t){e("throw",t,o,a)}):Promise.resolve(l).then(function(t){u.value=t,o(u)},a)}a(s.arg)}function n(t,n){function r(){return new Promise(function(r,i){e(t,n,r,i)})}return i=i?i.then(r,r):r()}var i;this._invoke=n}function l(t,e,n){var i=S;return function(o,a){if(i===C)throw new Error("Generator is already running");if(i===I){if("throw"===o)throw a;return m()}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=c(s,n);if(u){if(u===O)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===S)throw i=I,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=C;var l=r(t,e,n);if("normal"===l.type){if(i=n.done?I:T,l.arg===O)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=I,n.method="throw",n.arg=l.arg)}}}function c(t,e){var n=t.iterator[e.method];if(n===g){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=g,c(t,e),"throw"===e.method))return O;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return O}var i=r(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,O;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=g),e.delegate=null,O):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,O)}function h(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function f(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function d(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(h,this),this.reset(!0)}function p(t){if(t){var e=t[w];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(y.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=g,e.done=!0,e};return r.next=r}}return{next:m}}function m(){return{value:g,done:!0}}var g,v=Object.prototype,y=v.hasOwnProperty,b="function"==typeof Symbol?Symbol:{},w=b.iterator||"@@iterator",x=b.asyncIterator||"@@asyncIterator",_=b.toStringTag||"@@toStringTag",E="object"==typeof t,M=e.regeneratorRuntime;if(M)return void(E&&(t.exports=M));M=e.regeneratorRuntime=E?t.exports:{},M.wrap=n;var S="suspendedStart",T="suspendedYield",C="executing",I="completed",O={},A={};A[w]=function(){return this};var L=Object.getPrototypeOf,R=L&&L(L(p([])));R&&R!==v&&y.call(R,w)&&(A=R);var N=a.prototype=i.prototype=Object.create(A);o.prototype=N.constructor=a,a.constructor=o,a[_]=o.displayName="GeneratorFunction",M.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===o||"GeneratorFunction"===(e.displayName||e.name))},M.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,a):(t.__proto__=a,_ in t||(t[_]="GeneratorFunction")),t.prototype=Object.create(N),t},M.awrap=function(t){return{__await:t}},s(u.prototype),u.prototype[x]=function(){return this},M.AsyncIterator=u,M.async=function(t,e,r,i){var o=new u(n(t,e,r,i));return M.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},s(N),N[_]="Generator",N[w]=function(){return this},N.toString=function(){return"[object Generator]"},M.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},M.values=p,d.prototype={constructor:d,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=g,this.done=!1,this.delegate=null,this.method="next",this.arg=g,this.tryEntries.forEach(f),!t)for(var e in this)"t"===e.charAt(0)&&y.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=g)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){function e(e,r){return o.type="throw",o.arg=t,n.next=e,r&&(n.method="next",n.arg=g),!!r}if(this.done)throw t;for(var n=this,r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var a=y.call(i,"catchLoc"),s=y.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&y.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,O):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),O},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),f(n),O}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;f(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:p(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=g),O}}}(function(){return this}()||Function("return this")())},function(t,e,n){n(321),n(155),n(190),n(977),n(980),n(981),t.exports=n(22).Promise},function(t,e,n){"use strict";var r,i,o,a,s=n(233),u=n(55),l=n(100),c=n(239),h=n(37),f=n(92),d=n(186),p=n(324),m=n(192),g=n(463),v=n(464).set,y=n(979)(),b=n(330),w=n(465),x=n(466),_=u.TypeError,E=u.process,M=u.Promise,S="process"==c(E),T=function(){},C=i=b.f,I=!!function(){try{var t=M.resolve(1),e=(t.constructor={})[n(56)("species")]=function(t){t(T,T)};return(S||"function"==typeof PromiseRejectionEvent)&&t.then(T)instanceof e}catch(t){}}(),O=s?function(t,e){return t===e||t===M&&e===a}:function(t,e){return t===e},A=function(t){var e;return!(!f(t)||"function"!=typeof(e=t.then))&&e},L=function(t,e){if(!t._n){t._n=!0;var n=t._c;y(function(){for(var r=t._v,i=1==t._s,o=0;n.length>o;)!function(e){var n,o,a=i?e.ok:e.fail,s=e.resolve,u=e.reject,l=e.domain;try{a?(i||(2==t._h&&P(t),t._h=1),!0===a?n=r:(l&&l.enter(),n=a(r),l&&l.exit()),n===e.promise?u(_("Promise-chain cycle")):(o=A(n))?o.call(n,s,u):s(n)):u(r)}catch(t){u(t)}}(n[o++]);t._c=[],t._n=!1,e&&!t._h&&R(t)})}},R=function(t){v.call(u,function(){var e,n,r,i=t._v,o=N(t);if(o&&(e=w(function(){S?E.emit("unhandledRejection",i,t):(n=u.onunhandledrejection)?n({promise:t,reason:i}):(r=u.console)&&r.error&&r.error("Unhandled promise rejection",i)}),t._h=S||N(t)?2:1),t._a=void 0,o&&e.e)throw e.v})},N=function(t){if(1==t._h)return!1;for(var e,n=t._a||t._c,r=0;n.length>r;)if(e=n[r++],e.fail||!N(e.promise))return!1;return!0},P=function(t){v.call(u,function(){var e;S?E.emit("rejectionHandled",t):(e=u.onrejectionhandled)&&e({promise:t,reason:t._v})})},k=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),L(e,!0))},D=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw _("Promise can't be resolved itself");(e=A(t))?y(function(){var r={_w:n,_d:!1};try{e.call(t,l(D,r,1),l(k,r,1))}catch(t){k.call(r,t)}}):(n._v=t,n._s=1,L(n,!1))}catch(t){k.call({_w:n,_d:!1},t)}}};I||(M=function(t){p(this,M,"Promise","_h"),d(t),r.call(this);try{t(l(D,this,1),l(k,this,1))}catch(t){k.call(this,t)}},r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=n(323)(M.prototype,{then:function(t,e){var n=C(g(this,M));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=S?E.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&L(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new r;this.promise=t,this.resolve=l(D,t,1),this.reject=l(k,t,1)},b.f=C=function(t){return O(M,t)?new o(t):i(t)}),h(h.G+h.W+h.F*!I,{Promise:M}),n(189)(M,"Promise"),n(444)("Promise"),a=n(22).Promise,h(h.S+h.F*!I,"Promise",{reject:function(t){var e=C(this);return(0,e.reject)(t),e.promise}}),h(h.S+h.F*(s||!I),"Promise",{resolve:function(t){return t instanceof M&&O(t.constructor,this)?t:x(this,t)}}),h(h.S+h.F*!(I&&n(446)(function(t){M.all(t).catch(T)})),"Promise",{all:function(t){var e=this,n=C(e),r=n.resolve,i=n.reject,o=w(function(){var n=[],o=0,a=1;m(t,!1,function(t){var s=o++,u=!1;n.push(void 0),a++,e.resolve(t).then(function(t){u||(u=!0,n[s]=t,--a||r(n))},i)}),--a||r(n)});return o.e&&i(o.v),n.promise},race:function(t){var e=this,n=C(e),r=n.reject,i=w(function(){m(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}})},function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var r=n(55),i=n(464).set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,u="process"==n(188)(a);t.exports=function(){var t,e,n,l=function(){var r,i;for(u&&(r=a.domain)&&r.exit();t;){i=t.fn,t=t.next;try{i()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(u)n=function(){a.nextTick(l)};else if(o){var c=!0,h=document.createTextNode("");new o(l).observe(h,{characterData:!0}),n=function(){h.data=c=!c}}else if(s&&s.resolve){var f=s.resolve();n=function(){f.then(l)}}else n=function(){i.call(r,l)};return function(r){var i={fn:r,next:void 0};e&&(e.next=i),t||(t=i,n()),e=i}}},function(t,e,n){"use strict";var r=n(37),i=n(22),o=n(55),a=n(463),s=n(466);r(r.P+r.R,"Promise",{finally:function(t){var e=a(this,i.Promise||o.Promise),n="function"==typeof t;return this.then(n?function(n){return s(e,t()).then(function(){return n})}:t,n?function(n){return s(e,t()).then(function(){throw n})}:t)}})},function(t,e,n){"use strict";var r=n(37),i=n(330),o=n(465);r(r.S,"Promise",{try:function(t){var e=i.f(this),n=o(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}})},function(t,e,n){"use strict";var r=/^\s*$/,i=/^(?:true|false)$/i,o=function(t){return r.test(t)?null:i.test(t)?"true"===t.toLowerCase():isFinite(t)?parseFloat(t):t},a=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.trim,i=void 0===r||r;if(e.nodeType===Node.TEXT_NODE){var a=e.textContent;return i&&(a=a.trim()),o(a)}var s={},u=e.attributes;if(u&&"length"in u)for(var l=u.length,c=0;c<l;++c){var h=u[c];s["@"+h.name]=o(h.value)}var f=e.firstChild;if(!f)return s;if(!f.nextSibling&&f.nodeType===Node.TEXT_NODE&&!u.length){var d=f.textContent;return i&&(d=d.trim()),o(d)}for(;f;f=f.nextSibling){var p=f.nodeName;p in s?(s[p]instanceof Array||(s[p]=[s[p]]),s[p].push(t(f))):s[p]=t(f)}return s};e.a=a},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=h()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(l.a?l()(t,e):t.__proto__=e)}var a=n(10),s=n.n(a),u=n(9),l=n.n(u),c=n(5),h=n.n(c),f=n(1),d=n.n(f),p=n(160),m=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),g=function(t){function e(t){return r(this,e),i(this,(e.__proto__||s()(e)).call(this,t))}return o(e,t),m(e,[{key:"getUriFromClick",value:function(t,e,n,r,i){var o="/FindPosition?imageID="+t+"&srsName="+e+"&dx="+n+"&dy="+r+"&dz="+i;return this._selectDataUriHashBased(o)+o}}]),e}(p.a);e.a=g},function(t,e,n){"use strict";(function(t){function e(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return m()(t)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=d()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(h.a?h()(t,e):t.__proto__=e)}var a=n(104),s=n.n(a),u=n(48),l=n.n(u),c=n(9),h=n.n(c),f=n(5),d=n.n(f),p=n(31),m=n.n(p),g=n(19),v=n.n(g),y=n(16),b=n.n(y),w=n(10),x=n.n(w),_=n(57),E=n.n(_),M=n(1),S=n.n(M),T=n(32),C=n.n(T),I=n(46),O=(n.n(I),n(460)),A=n(240),L=n(458),R=n(241),N=n(987),P=n.n(N),k=n(988),D=n.n(k),F=n(989),j=n.n(F),U=n(990),B=n.n(U),z=n(991),V=n.n(z),G=n(992),H=n.n(G),q=n(993),W=n.n(q),Y=n(994),X=n.n(Y),Z=n(995),K=n.n(Z),$=n(996),Q=n.n($),J=n(997),tt=n.n(J),et=n(998),nt=n.n(et),rt=(n(999),function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),S()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}()),it=function t(e,n,r){null===e&&(e=Function.prototype);var i=E()(e,n);if(void 0===i){var o=x()(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},ot=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=b()(t);!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(v()(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),at=t.WebGLRenderingContext.LINK_STATUS?t.WebGLRenderingContext:t.WebGLRenderingContext.prototype,st=function(){var t={},e=!0,n=!1,r=void 0;try{for(var i,o=b()(l()(at));!(e=(i=o.next()).done);e=!0){var a=ot(i.value,2),s=a[0],u=a[1];"number"==typeof u&&(t[u]=s)}}catch(t){n=!0,r=t}finally{try{!e&&o.return&&o.return()}finally{if(n)throw r}}return t},ut=function(){var t=CM.El.create("canvas");if(!t||!t.getContext)return C.a.error("canvas not available!"),null;var e=["webgl","experimental-webgl"],n=void 0,r=!0,i=!1,o=void 0;try{for(var a,s=b()(e);!(r=(a=s.next()).done);r=!0){var u=a.value;try{n=t.getContext(u)}catch(t){}if(n)return u}}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return C.a.error("No WebGL context available! Tried: "+e.join(", ")),null}(),lt=function(n){function a(e){r(this,a);var n=i(this,(a.__proto__||x()(a)).call(this,e));n._imageTextures=[],n._depthTextures=[],n._showCrossHairs=!0;var o=I.glMatrix.ARRAY_TYPE;I.glMatrix.setMatrixArrayType(Float32Array),n._mvMatrix=I.mat4.create(),n._pMatrix=I.mat4.create(),n._invMvMatrix=I.mat4.create(),n._invPMatrix=I.mat4.create(),I.glMatrix.setMatrixArrayType(o);var s=CM.El.create("canvas",{styles:{position:"absolute",userSelect:"none",width:"100%",height:"100%"}}),u={alpha:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!0},l=s.getContext(ut,u),c=l.getSupportedExtensions();if(c.includes("WEBGL_debug_renderer_info")){var h=l.getExtension("WEBGL_debug_renderer_info");C.a.info("WebGL vendor: "+l.getParameter(h.UNMASKED_VENDOR_WEBGL)),C.a.info("WebGL renderer: "+l.getParameter(h.UNMASKED_RENDERER_WEBGL))}CM.El.adopt(n._viewerWrapper,s),n._viewer=s,n._canvas=s,n._gl=l;var f=l.getParameter(at.MAX_TEXTURE_SIZE);n._faceTextureSize=Math.min(f,n._tileSchema.maxZoomResolution),n._depthTextureSize=Math.min(f,A.b.maxZoomResolution),n._initializeShaders(),n._initializeBuffers(),n._initializeTextures();var d=n._rotateCubeProgramHandler=function(t){192===t.keyCode&&n.rotateCubeProgram(!t.shiftKey)};return CM.El.addEvent(t,"keydown",d),n}return o(a,n),rt(a,[{key:"destroy",value:function(){this._gl&&(this._destroyTextures(),this._destroyBuffers(),this._destroyShaders(),this._destroyGl()),this._canvas&&this._destroyCanvas(),CM.El.removeEvent(t,"keydown",this._rotateCubeProgramHandler),it(a.prototype.__proto__||x()(a.prototype),"destroy",this).call(this)}},{key:"_destroyGl",value:function(){var t=this._gl,e=t.getSupportedExtensions();e.includes("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").loseContext(),this._gl=null}},{key:"_destroyCanvas",value:function(){var t=this._canvas;t.width=t.height=1,t.parentElement.removeChild(t),this._canvas=this._viewer=null}},{key:"setCubeProgram",value:function(t){this._selectedCubeProgram!==t&&this._enabledCubePrograms.includes(t)&&(this._selectedCubeProgram=t,this.requestAnimationFrame())}},{key:"rotateCubeProgram",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=this._enabledCubePrograms,n=e.length,r=e.indexOf(this._selectedCubeProgram),i=(r+(t?1:-1))%n;this.setCubeProgram(e[i<0?i+n:i])}},{key:"_initializeShaders",value:function(){this._clearProgram=this._createProgram(P.a,D.a,["aVertexPos"],["uColor"]),this._tileProgram=this._createProgram(j.a,B.a,["aVertexPos","aTexCoord"],["uImage"]),this._plainColorProgram=this._createProgram(V.a,H.a,["aVertexPos","aTexCoord"],["uMVMatrix","uPMatrix","uImage"]),this._surfaceCursorProgram=this._createProgram(V.a,W.a,["aVertexPos","aTexCoord"],["uMVMatrix","uPMatrix","uInvMVMatrix","uInvPMatrix","uImage","uDepth","uDepthTexSize","uResolution","uPointerPos"]),this._hvProgram=this._createProgram(V.a,X.a,["aVertexPos","aTexCoord"],["uMVMatrix","uPMatrix","uImage","uDepth","uDepthTexSize"]),this._fogProgram=this._createProgram(V.a,K.a,["aVertexPos","aTexCoord"],["uMVMatrix","uPMatrix","uDepth","uPreset"]),this._heightProgram=this._createProgram(V.a,Q.a,["aVertexPos","aTexCoord"],["uMVMatrix","uPMatrix","uDepth","uHeightRange"]),this._crossHairsProgram=this._createProgram(tt.a,nt.a,["aVertexPos"],["uResolution","uAlpha"]),this._enabledCubePrograms=[R.a.PLAIN_COLOR,R.a.SURFACE_CURSOR,R.a.HV_MAP,R.a.HEIGHT,R.a.FOG,R.a.DARKNESS],this._selectedCubeProgram=R.a.SURFACE_CURSOR}},{key:"_destroyShaders",value:function(){var t=this._gl,e=this._clearProgram,n=this._tileProgram,r=this._plainColorProgram,i=this._surfaceCursorProgram,o=this._hvProgram;t.useProgram(null);for(var a=[e,n,r,i,o],s=0;s<a.length;s++){var u=a[s];if(u){var l=!0,c=!1,h=void 0;try{for(var f,d=b()(t.getAttachedShaders(u));!(l=(f=d.next()).done);l=!0){var p=f.value;p&&t.deleteShader(p)}}catch(t){c=!0,h=t}finally{try{!l&&d.return&&d.return()}finally{if(c)throw h}}t.deleteProgram(u)}}}},{key:"_createProgram",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=this._gl,o=this._createShader(at.VERTEX_SHADER,t),a=this._createShader(at.FRAGMENT_SHADER,e);if(!o||!a)return null;var s=i.createProgram();if(i.attachShader(s,o),i.attachShader(s,a),i.linkProgram(s),!i.getProgramParameter(s,at.LINK_STATUS)){var u="Unable to initialize WebGL shader program",l=i.getProgramInfoLog(s);return alert(u+":\n"+l),C.a.error(u,{log:l}),null}var c=!0,h=!1,f=void 0;try{for(var d,p=b()(n);!(c=(d=p.next()).done);c=!0){var m=d.value;s[m]=i.getAttribLocation(s,m)}}catch(t){h=!0,f=t}finally{try{!c&&p.return&&p.return()}finally{if(h)throw f}}var g=!0,v=!1,y=void 0;try{for(var w,x=b()(r);!(g=(w=x.next()).done);g=!0){var _=w.value;s[_]=i.getUniformLocation(s,_)}}catch(t){v=!0,y=t}finally{try{!g&&x.return&&x.return()}finally{if(v)throw y}}return s}},{key:"_createShader",value:function(t,e){var n=this._gl,r=n.createShader(t);if(n.shaderSource(r,e),n.compileShader(r),!n.getShaderParameter(r,at.COMPILE_STATUS)){var i="An error occurred compiling WebGL shaders",o=n.getShaderInfoLog(r),a={log:o};return alert(i+":\n"+o),C.a.error(i,a),null}return r}},{key:"_initializeBuffers",value:function(){var t=this._gl;this._tileFramebuffer=t.createFramebuffer(),this._createCubeBuffers()}},{key:"_destroyBuffers",value:function(){var t=this._gl,e=this._tileFrameBuffer,n=this._cubeBuffer,r=this._cubeIndexBuffer;t.bindFramebuffer(at.FRAMEBUFFER,null);for(var i=[e],o=0;o<i.length;o++){var a=i[o];a&&t.deleteFramebuffer(a)}t.bindBuffer(at.ARRAY_BUFFER,null),t.bindBuffer(at.ELEMENT_ARRAY_BUFFER,null);for(var s=[n,r],u=0;u<s.length;u++){var l=s[u];l&&t.deleteBuffer(l)}t.bindRenderbuffer(at.RENDERBUFFER,null)}},{key:"_createCubeBuffers",value:function(){var t=this._gl,e=this._cubeBuffer=t.createBuffer();t.bindBuffer(at.ARRAY_BUFFER,e),t.bufferData(at.ARRAY_BUFFER,new Float32Array(L.b),at.STATIC_DRAW),e.stride=20,e.xyzOffset=0,e.stOffset=12;var n=this._cubeIndexBuffer=t.createBuffer();t.bindBuffer(at.ELEMENT_ARRAY_BUFFER,n),t.bufferData(at.ELEMENT_ARRAY_BUFFER,new Uint16Array(L.a),at.STATIC_DRAW),this.checkGlErrors()}},{key:"_initializeTextures",value:function(){this._imageTextures=this._createImageTextures(),this._depthTextures=this._createDepthTextures(),this._tileTexture=this._createTileTexture(),this._clear()}},{key:"_destroyTextures",value:function(){for(var t=this._gl,n=this._imageTextures,r=this._depthTextures,i=this._tileTexture,o=t.getParameter(at.MAX_TEXTURE_IMAGE_UNITS),a=0;a<o;++a)t.activeTexture(at.TEXTURE0+a),t.bindTexture(at.TEXTURE_2D,null),t.bindTexture(at.TEXTURE_CUBE_MAP,null);for(var s=[].concat(e(n),e(r),[i]),u=0;u<s.length;u++){var l=s[u];l&&t.deleteTexture(l)}}},{key:"_createImageTextures",value:function(){for(var t=this._faceTextureSize,e=[],n=0;n<6;++n)e.push(this._createTexture({init:function(e){e.texImage2D(at.TEXTURE_2D,0,at.RGB,t,t,0,at.RGB,at.UNSIGNED_BYTE,null)}}));return e}},{key:"_createDepthTextures",value:function(){for(var t=this._depthTextureSize,e=[],n=0;n<6;++n)e.push(this._createTexture({minFilter:at.NEAREST,magFilter:at.NEAREST,init:function(e){e.texImage2D(at.TEXTURE_2D,0,at.RGB,t,t,0,at.RGB,at.UNSIGNED_BYTE,null)}}));return e}},{key:"_createTileTexture",value:function(){return this._createTexture()}},{key:"_createTexture",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.magFilter,n=void 0===e?at.LINEAR:e,r=t.minFilter,i=void 0===r?at.LINEAR:r,o=t.wrapS,a=void 0===o?at.CLAMP_TO_EDGE:o,s=t.wrapT,u=t.init,l=this._gl,c=l.createTexture();return l.bindTexture(at.TEXTURE_2D,c),l.pixelStorei(at.UNPACK_FLIP_Y_WEBGL,!1),l.texParameteri(at.TEXTURE_2D,at.TEXTURE_MAG_FILTER,n),l.texParameteri(at.TEXTURE_2D,at.TEXTURE_MIN_FILTER,i),l.texParameteri(at.TEXTURE_2D,at.TEXTURE_WRAP_S,a),l.texParameteri(at.TEXTURE_2D,at.TEXTURE_WRAP_T,s||a),u&&u(l,c),l.bindTexture(at.TEXTURE_2D,null),c}},{key:"_createRectangleBuffer",value:function(t,e,n,r,i){var o=[t,e,t+n,e,t,e+r,t,e+r,t+n,e,t+n,e+r];return this._createBuffer(o,i)}},{key:"_createBuffer",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=this._gl,i=r.createBuffer();return r.bindBuffer(at.ARRAY_BUFFER,i),r.bufferData(at.ARRAY_BUFFER,Array.isArray(t)?new Float32Array(t):t,at.STATIC_DRAW),void 0!==e&&(r.enableVertexAttribArray(e),r.vertexAttribPointer(e,n,at.FLOAT,!1,0,0)),i}},{key:"_clear",value:function(){var t=this._gl,e=this._clearProgram,n=this._faceTextureSize,r=this._depthTextureSize;if(e){t.useProgram(e),t.activeTexture(at.TEXTURE0);var i=this._createRectangleBuffer(0,0,1,1,e.aVertexPos);t.bindFramebuffer(at.FRAMEBUFFER,this._tileFramebuffer);var o=function(e,n){t.bindTexture(at.TEXTURE_2D,e),t.framebufferTexture2D(at.FRAMEBUFFER,at.COLOR_ATTACHMENT0,at.TEXTURE_2D,e,0),t.viewport(0,0,n,n),t.drawArrays(at.TRIANGLES,0,6),t.bindTexture(at.TEXTURE_2D,null)},a=this.clearColor.map(function(t){return t/255}),s=ot(a,3),u=s[0],l=s[1],c=s[2];t.uniform4f(e.uColor,u,l,c,1);var h=!0,f=!1,d=void 0;try{for(var p,m=b()(this._imageTextures);!(h=(p=m.next()).done);h=!0){o(p.value,n)}}catch(t){f=!0,d=t}finally{try{!h&&m.return&&m.return()}finally{if(f)throw d}}t.uniform4f(e.uColor,1,1,1,1);var g=!0,v=!1,y=void 0;try{for(var w,x=b()(this._depthTextures);!(g=(w=x.next()).done);g=!0){o(w.value,r)}}catch(t){v=!0,y=t}finally{try{!g&&x.return&&x.return()}finally{if(v)throw y}}t.bindFramebuffer(at.FRAMEBUFFER,null),t.deleteBuffer(i)}}},{key:"_drawImageTile",value:function(t,e,n,r,i,o,a,s,u,l){this._drawTile({img:e,srcX:n,srcY:r,srcWidth:i,srcHeight:o,dstX:a,dstY:s,dstWidth:u,dstHeight:l,dstScale:1/this._tileSchema.maxZoomResolution,srcTexture:this._imageTextures[t],dstTexture:this._tileTexture,dstSize:this._faceTextureSize})}},{key:"_drawDepthTile",value:function(t,e,n,r,i,o,a,s,u,l){this._drawTile({img:e,srcX:n,srcY:r,srcWidth:i,srcHeight:o,dstX:a,dstY:s,dstWidth:u,dstHeight:l,dstScale:1/A.b.maxZoomResolution,srcTexture:this._depthTextures[t],dstTexture:this._tileTexture,dstSize:this._depthTextureSize})}},{key:"_drawTile",value:function(e){var n=e.img,r=e.srcX,i=e.srcY,o=e.srcWidth,a=e.srcHeight,s=e.dstX,u=e.dstY,l=e.dstWidth,c=e.dstHeight,h=e.srcTexture,f=e.dstTexture,d=e.dstSize,p=e.dstScale;if(!this._destroyed){var m=this._gl,g=this._tileProgram,v=this._tileFramebuffer;if(g){m.activeTexture(at.TEXTURE0),m.bindTexture(at.TEXTURE_2D,f),m.texImage2D(at.TEXTURE_2D,0,at.RGB,at.RGB,at.UNSIGNED_BYTE,n),m.useProgram(g),m.uniform1i(g.uImage,0),m.uniform2f(g.uResolution,d,d),m.bindFramebuffer(at.FRAMEBUFFER,v),m.framebufferTexture2D(at.FRAMEBUFFER,at.COLOR_ATTACHMENT0,at.TEXTURE_2D,h,0);var y=this._createRectangleBuffer(p*s,p*u,p*l,p*c,g.aVertexPos),b=1/n.width,w=1/n.height,x=this._createRectangleBuffer(b*r,w*i,b*o,w*a,g.aTexCoord);m.viewport(0,0,d,d),m.drawArrays(at.TRIANGLES,0,6),m.deleteBuffer(x),m.deleteBuffer(y),m.texImage2D(at.TEXTURE_2D,0,at.RGB,1,1,0,at.RGB,at.UNSIGNED_BYTE,null),t.setTimeout(function(){0===n.src.indexOf("blob:")&&URL.revokeObjectURL(n.src),delete n.src}),m.bindBuffer(at.ARRAY_BUFFER,null),m.bindFramebuffer(at.FRAMEBUFFER,null),m.bindTexture(at.TEXTURE_2D,null),this.requestAnimationFrame()}}}},{key:"_drawTileDebugInfo",value:function(t,e,n,r,i,o,a,s,u,l,c){}},{key:"_render",value:function(t,e){var n=this._gl,r=this._canvas,i=this._camera,o=i.yawOffset,a=i.yaw,s=i.pitch,u=i.hFov,l=this._mvMatrix,c=this._pMatrix,h=this._invMvMatrix,f=this._invPMatrix,d=ot(this._currentPointerPos,2),p=d[0],m=d[1];r.width===t&&r.height===e||(r.width=t,r.height=e),n.clear(at.COLOR_BUFFER_BIT|at.DEPTH_BUFFER_BIT);var g=2*Math.atan(Math.tan(.5*u)*e/t);switch(I.mat4.perspective(c,g,t/e,.1,100),I.mat4.identity(l),I.mat4.rotateX(l,l,-s),I.mat4.rotateY(l,l,o+a),I.mat4.invert(f,c),I.mat4.invert(h,l),n.viewport(0,0,t,e),this._selectedCubeProgram){case R.a.PLAIN_DEPTH:case R.a.SURFACE_CURSOR:case R.a.HV_MAP:case R.a.FOG:case R.a.DARKNESS:case R.a.HEIGHT:this._readDepth(),this._pointerPosWorld=this._camera.pixelToWorldVector(p,m);break;default:this._pointerPosWorld=null;var v=this._viewerWrapper.classList;v.contains("invalidDepth")&&v.remove("invalidDepth")}switch(this._selectedCubeProgram){case R.a.PLAIN_COLOR:this._renderColor({textures:this._imageTextures});break;case R.a.PLAIN_DEPTH:this._renderColor({textures:this._depthTextures}),this._renderSurfaceCursor();break;case R.a.SURFACE_CURSOR:this._renderColor({textures:this._imageTextures}),this._renderSurfaceCursor();break;case R.a.HV_MAP:this._renderHvMap(),this._renderSurfaceCursor();break;case R.a.FOG:this._renderColor({textures:this._imageTextures}),this._renderFog(),this._renderSurfaceCursor();break;case R.a.DARKNESS:this._renderColor({textures:this._imageTextures}),this._renderFog(1),this._renderSurfaceCursor();break;case R.a.HEIGHT:this._renderColor({textures:this._imageTextures}),this._renderHeight(),this._renderSurfaceCursor()}this._showCrossHairs&&p>=0&&p<=t&&m>=0&&m<=e&&this._renderCrossHairs(t,e)}},{key:"_renderColor",value:function(t){var e=t.textures,n=this._gl,r=this._plainColorProgram,i=this._cubeBuffer,o=this._cubeIndexBuffer,a=this._pMatrix,s=this._mvMatrix;if(r){n.useProgram(r),n.uniformMatrix4fv(r.uPMatrix,!1,a),n.uniformMatrix4fv(r.uMVMatrix,!1,s),n.uniform1i(r.uImage,0),n.bindBuffer(at.ARRAY_BUFFER,i),n.vertexAttribPointer(r.aVertexPos,3,at.FLOAT,!1,i.stride,i.xyzOffset),n.vertexAttribPointer(r.aTexCoord,2,at.FLOAT,!1,i.stride,i.stOffset),n.bindBuffer(at.ELEMENT_ARRAY_BUFFER,o);for(var u=0;u<6;++u)n.activeTexture(at.TEXTURE0),n.bindTexture(at.TEXTURE_2D,e[u]),n.drawElements(at.TRIANGLES,6,at.UNSIGNED_SHORT,12*u);n.bindTexture(at.TEXTURE_2D,null),n.bindBuffer(at.ELEMENT_ARRAY_BUFFER,null),n.bindBuffer(at.ARRAY_BUFFER,null)}}},{key:"_renderSurfaceCursor",value:function(){var t=this._gl,e=this._surfaceCursorProgram,n=this._cubeBuffer,r=this._cubeIndexBuffer,i=this._canvas,o=i.width,a=i.height,s=this._depthTextures,u=this._depthTextureSize,l=this._mvMatrix,c=this._pMatrix,h=this._invMvMatrix,f=this._invPMatrix,d=this._currentPointerPos;if(e){t.useProgram(e),t.enable(at.BLEND),t.blendFunc(at.SRC_ALPHA,at.ONE_MINUS_SRC_ALPHA),t.uniformMatrix4fv(e.uPMatrix,!1,c),t.uniformMatrix4fv(e.uMVMatrix,!1,l),t.uniformMatrix4fv(e.uInvPMatrix,!1,f),t.uniformMatrix4fv(e.uInvMVMatrix,!1,h),t.uniform1i(e.uDepth,0),t.uniform1f(e.uDepthTexSize,u),t.uniform2f(e.uResolution,o,a),t.uniform4f(e.uPointerPos,d[0]+.5,a-(d[1]+.5),d[2],d[3]),t.bindBuffer(at.ARRAY_BUFFER,n),t.vertexAttribPointer(e.aVertexPos,3,at.FLOAT,!1,n.stride,n.xyzOffset),t.vertexAttribPointer(e.aTexCoord,2,at.FLOAT,!1,n.stride,n.stOffset),t.bindBuffer(at.ELEMENT_ARRAY_BUFFER,r);for(var p=0;p<6;++p)t.activeTexture(at.TEXTURE0),t.bindTexture(at.TEXTURE_2D,s[p]),t.drawElements(at.TRIANGLES,6,at.UNSIGNED_SHORT,12*p);t.bindTexture(at.TEXTURE_2D,null),t.bindBuffer(at.ELEMENT_ARRAY_BUFFER,null),t.bindBuffer(at.ARRAY_BUFFER,null),t.disable(at.BLEND)}}},{key:"_renderHvMap",value:function(){var t=this._gl,e=this._hvProgram,n=this._cubeBuffer,r=this._cubeIndexBuffer,i=this._canvas,o=i.width,a=i.height,s=this._depthTextures,u=this._depthTextureSize,l=this._mvMatrix,c=this._pMatrix;if(e){t.useProgram(e),t.uniformMatrix4fv(e.uPMatrix,!1,c),t.uniformMatrix4fv(e.uMVMatrix,!1,l),t.uniform1i(e.uDepth,0),t.uniform1f(e.uDepthTexSize,u),t.uniform2f(e.uResolution,o,a),t.bindBuffer(at.ARRAY_BUFFER,n),t.vertexAttribPointer(e.aVertexPos,3,at.FLOAT,!1,n.stride,n.xyzOffset),t.vertexAttribPointer(e.aTexCoord,2,at.FLOAT,!1,n.stride,n.stOffset),t.bindBuffer(at.ELEMENT_ARRAY_BUFFER,r);for(var h=0;h<6;++h)t.activeTexture(at.TEXTURE0),t.bindTexture(at.TEXTURE_2D,s[h]),t.drawElements(at.TRIANGLES,6,at.UNSIGNED_SHORT,12*h);t.bindTexture(at.TEXTURE_2D,null),t.bindBuffer(at.ELEMENT_ARRAY_BUFFER,null),t.bindBuffer(at.ARRAY_BUFFER,null)}}},{key:"_renderFog",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=this._gl,n=this._fogProgram,r=this._cubeBuffer,i=this._cubeIndexBuffer,o=this._depthTextures,a=this._mvMatrix,s=this._pMatrix;if(n){e.useProgram(n),e.enable(at.BLEND),e.blendFunc(at.SRC_ALPHA,at.ONE_MINUS_SRC_ALPHA),e.uniformMatrix4fv(n.uPMatrix,!1,s),e.uniformMatrix4fv(n.uMVMatrix,!1,a),e.uniform1i(n.uDepth,0),e.uniform1i(n.uPreset,t),e.bindBuffer(at.ARRAY_BUFFER,r),e.vertexAttribPointer(n.aVertexPos,3,at.FLOAT,!1,r.stride,r.xyzOffset),e.vertexAttribPointer(n.aTexCoord,2,at.FLOAT,!1,r.stride,r.stOffset),e.bindBuffer(at.ELEMENT_ARRAY_BUFFER,i);for(var u=0;u<6;++u)e.activeTexture(at.TEXTURE0),e.bindTexture(at.TEXTURE_2D,o[u]),e.drawElements(at.TRIANGLES,6,at.UNSIGNED_SHORT,12*u);e.bindTexture(at.TEXTURE_2D,null),e.bindBuffer(at.ELEMENT_ARRAY_BUFFER,null),e.bindBuffer(at.ARRAY_BUFFER,null),e.disable(at.BLEND)}}},{key:"_renderHeight",value:function(){var t=this._gl,e=this._heightProgram,n=this._cubeBuffer,r=this._cubeIndexBuffer,i=this._depthTextures,o=this._mvMatrix,a=this._pMatrix;if(e){t.useProgram(e),t.enable(at.BLEND),t.blendFunc(at.SRC_ALPHA,at.ONE_MINUS_SRC_ALPHA),t.uniformMatrix4fv(e.uPMatrix,!1,a),t.uniformMatrix4fv(e.uMVMatrix,!1,o),t.uniform1i(e.uDepth,0),t.uniform2f(e.uHeightRange,-1.8,20),t.bindBuffer(at.ARRAY_BUFFER,n),t.vertexAttribPointer(e.aVertexPos,3,at.FLOAT,!1,n.stride,n.xyzOffset),t.vertexAttribPointer(e.aTexCoord,2,at.FLOAT,!1,n.stride,n.stOffset),t.bindBuffer(at.ELEMENT_ARRAY_BUFFER,r);for(var s=0;s<6;++s)t.activeTexture(at.TEXTURE0),t.bindTexture(at.TEXTURE_2D,i[s]),t.drawElements(at.TRIANGLES,6,at.UNSIGNED_SHORT,12*s);t.bindTexture(at.TEXTURE_2D,null),t.bindBuffer(at.ELEMENT_ARRAY_BUFFER,null),t.bindBuffer(at.ARRAY_BUFFER,null),t.disable(at.BLEND)}}},{key:"_renderCrossHairs",value:function(t,e){var n=this._gl,r=this._crossHairsProgram,i=ot(this._currentPointerPos,2),o=i[0],a=i[1],s=new Float32Array([0,a,o-3,a,o+3,a,t,a,o,0,o,a-3,o,a+3,o,e]);n.useProgram(r),n.uniform2f(r.uResolution,t,e),n.uniform1f(r.uAlpha,.8),n.lineWidth(1);var u=this._createBuffer(s,r.aVertexPos);n.drawArrays(at.LINES,0,8),n.deleteBuffer(u),n.bindBuffer(at.ARRAY_BUFFER,null)}},{key:"_readDepth",value:function(){var t=this._gl,e=this._canvas,n=e.width,r=e.height,i=this._depthTextures,o=this._currentPointerPos,a=ot(o,2),u=a[0],l=a[1];if(!(u>=n||l>=r||u<0||l<0)){var c=u-3,h=r-l-3;t.scissor(c,h,7,7),t.bindTexture(at.TEXTURE_2D,i[0]);var f=t.getTexParameter(at.TEXTURE_2D,at.TEXTURE_MAG_FILTER),d=t.getTexParameter(at.TEXTURE_2D,at.TEXTURE_MIN_FILTER);t.bindTexture(at.TEXTURE_2D,null),this.setTextureInterpolation({textures:i,magFilter:at.NEAREST,minFilter:at.NEAREST}),t.enable(at.SCISSOR_TEST),this._renderColor({textures:i}),t.disable(at.SCISSOR_TEST),this.setTextureInterpolation({textures:i,magFilter:f,minFilter:d});var p=new ArrayBuffer(196),m=new Uint8Array(p);t.readPixels(c,h,7,7,at.RGBA,at.UNSIGNED_BYTE,m);var g=function(t,e){var n=7*e+t,r=m[4*n],i=m[4*n+1],o=(192&r)>>6,a=o<<1&255;return((16383&(r<<8|i))<<a)/1e3},v=g(4,4);o[2]=v,o[3]=function(t){if(t<=0)return 0;for(var e=0,n=0,r=0;r<7;++r)for(var i=0;i<7;++i){var o=g(i,r);if(o>0&&Math.abs(o-t)<=.125){var a=1-s()(4-i,4-r)/s()(3.5,3.5);e+=a*o,n+=a}}return e/n}(v);var y=this._viewerWrapper.classList;0===v?y.add("invalidDepth"):y.remove("invalidDepth")}}},{key:"setTextureInterpolation",value:function(t){for(var e=t.textures,n=t.magFilter,r=void 0===n?at.LINEAR:n,i=t.minFilter,o=void 0===i?at.LINEAR:i,a=this._gl,s=0;s<6;++s){var u=e[s];a.bindTexture(at.TEXTURE_2D,u),a.texParameteri(at.TEXTURE_2D,at.TEXTURE_MAG_FILTER,r),a.texParameteri(at.TEXTURE_2D,at.TEXTURE_MIN_FILTER,o)}a.bindTexture(at.TEXTURE_2D,null)}},{key:"checkGlErrors",value:function(){for(var t=this._gl,e=void 0,n=!0;(e=t.getError())!==at.NO_ERROR;){n=!1;var r=st[e]||"unknown",i=("0000"+e.toString(16)).substr(-4);console.log("GL result != NO_ERROR: "+r+" (0x"+i+")")}return n||console.trace("WebGL failed!"),n}},{key:"getCanvas",value:function(){return this._canvas}},{key:"showCrossHairs",get:function(){return this._showCrossHairs},set:function(t){this._showCrossHairs!==t&&(this._showCrossHairs=t,this.requestAnimationFrame())}}]),a}(O.a);lt.VIEWER_TYPE="webgl";CM.aperture.registerViewerClass(lt)}).call(e,n(34))},function(t,e,n){n(986);var r=n(22).Object;t.exports=function(t,e){return r.getOwnPropertyDescriptor(t,e)}},function(t,e,n){var r=n(102),i=n(320).f;n(238)("getOwnPropertyDescriptor",function(){return function(t,e){return i(r(t),e)}})},function(t,e){t.exports="#define GLSLIFY 1\nattribute mediump vec2 aVertexPos;void main(){vec2 unitFace=2.0*aVertexPos-1.0;gl_Position=vec4(unitFace,0.0,1.0);}"},function(t,e){t.exports="#define GLSLIFY 1\nuniform mediump vec4 uColor;void main(){gl_FragColor=uColor;}"},function(t,e){t.exports="#define GLSLIFY 1\nattribute mediump vec2 aVertexPos;attribute mediump vec2 aTexCoord;varying mediump vec2 vTexCoord;void main(){vec2 unitFace=2.0*aVertexPos-1.0;gl_Position=vec4(unitFace,0,1);vTexCoord=aTexCoord;}"},function(t,e){t.exports="#define GLSLIFY 1\nuniform mediump sampler2D uImage;varying mediump vec2 vTexCoord;void main(){gl_FragColor=texture2D(uImage,vTexCoord);}"},function(t,e){t.exports="#define GLSLIFY 1\nattribute vec3 aVertexPos;attribute vec2 aTexCoord;uniform mat4 uMVMatrix;uniform mat4 uPMatrix;varying vec4 vModelPos;varying vec4 vWorldPos;varying vec2 vTexCoord;void main(void){vModelPos=vec4(aVertexPos,1.0);vWorldPos=uPMatrix*uMVMatrix*vModelPos;vTexCoord=aTexCoord;gl_Position=vWorldPos;}"},function(t,e){t.exports="#version 100\nprecision mediump float;\n#define GLSLIFY 1\nvarying vec2 vTexCoord;uniform sampler2D uImage;void main(void){gl_FragColor=texture2D(uImage,vTexCoord);}"},function(t,e){t.exports="#version 100\nprecision mediump float;\n#define GLSLIFY 1\nvarying vec4 vWorldPos;varying vec2 vTexCoord;uniform mat4 uInvPMatrix;uniform mat4 uInvMVMatrix;uniform sampler2D uDepth;uniform mediump float uDepthTexSize;uniform vec2 uResolution;uniform vec4 uPointerPos;const float alpha=0.8;\nstruct CmtColors_1_0{vec4 green;vec4 orange;vec4 blue;vec4 purple;vec4 gray;};const CmtColors_1_0 cmtColors_1_1=CmtColors_1_0(vec4(vec3(152,194,60)/255.0,1.0),vec4(vec3(236,122,8)/255.0,1.0),vec4(vec3(0,82,147)/255.0,1.0),vec4(vec3(151,2,84)/255.0,1.0),vec4(vec3(188,189,188)/255.0,1.0));\n\n\nvec3 screenToWorld_2_2(const vec2 screen,const highp float depth){vec4 hcc=vec4(2.0*(screen.x/uResolution.x-0.5), -2.0*(screen.y/uResolution.y-0.5),1.0,1.0);vec4 eye=uInvPMatrix*hcc;vec4 worldRay=normalize(uInvMVMatrix*eye);vec4 worldPos=worldRay*depth;return worldPos.xyz;}vec3 screenToWorld_2_2(const highp vec3 screenWithDepth){return screenToWorld_2_2(screenWithDepth.xy,screenWithDepth.z);}\n\n\nbool isNaN_5_3(const float value){return!(value<=0.0||0.0<=value);}\n\n\nbool isValidDepth_3_4(const float depth){return!isNaN_5_3(depth)&&depth>0.0&&depth<1000.0;}\n\n\nhighp float getDepth(const vec4 depthMapFloatValue){if(depthMapFloatValue==vec4(1.0,1.0,1.0,1.0)){return-1.0;}ivec4 depthMapIntValue=ivec4(depthMapFloatValue*vec4(255.0));int precisionBits=depthMapIntValue.r/64;int depthBits=(depthMapIntValue.r-precisionBits*64)*256+depthMapIntValue.g;float precisionScale=pow(2.0,float(precisionBits*2));highp float depthInMm=float(depthBits)*precisionScale;return depthInMm/1000.0;}float getDepth(const vec2 texCoord){return getDepth(texture2D(uDepth,texCoord));}\n\nfloat getRectilinearDepth(const vec2 texCoord){const float cubeSize=2.0;float depth=getDepth(texCoord);float glDepth=gl_FragCoord.z/gl_FragCoord.w;return depth*glDepth/cubeSize;}\n\nfloat getInterpolatedDepth(const vec2 texCoord,const float limit){float nonInterpolatedDepth=getDepth(texCoord);if(!isValidDepth_3_4(nonInterpolatedDepth)){return nonInterpolatedDepth;}float oneTexel=1.0/uDepthTexSize;vec2 offset=vec2(oneTexel,0.0);vec2 uv=mod(texCoord,oneTexel);vec2 flooredTexCoord=texCoord-uv;uv*=uDepthTexSize;highp float depths[4];depths[0]=getDepth(flooredTexCoord);depths[1]=getDepth(flooredTexCoord+offset.xy);depths[2]=getDepth(flooredTexCoord+offset.yx);depths[3]=getDepth(flooredTexCoord+offset.xx);for(int i=0;i<4;++i){if(!isValidDepth_3_4(depths[i])||abs(depths[i]-nonInterpolatedDepth)>limit){depths[i]=nonInterpolatedDepth;}}return mix(mix(depths[0],depths[1],uv.x),mix(depths[2],depths[3],uv.x),uv.y);}float getInterpolatedDepth(const vec2 texCoord){return getInterpolatedDepth(texCoord,0.125);}\n\nfloat concentricalRings_4_5(const vec3 point,const vec3 pivot,const float outerRadius,const float numRings,const float smoothness){float dist=distance(point,pivot);float ringSmoothing=numRings*outerRadius*smoothness;float insideRing=smoothstep(-ringSmoothing, +ringSmoothing,abs(mod(numRings*dist+0.25,1.0)-0.5)-0.25);return float(dist<outerRadius+ringSmoothing)*insideRing;}float concentricalRings_4_5(const vec3 point,const vec3 pivot){return concentricalRings_4_5(point,pivot,1.0,4.0,0.01);}\n\n\nvec4 depthLaplacian(){vec2 offset=vec2(1.0/uDepthTexSize,0.0);float depthAtPixel=getDepth(vTexCoord);float scale=32.0/(1.0+depthAtPixel);return vec4(vec3(0.5+scale*(+getDepth(vTexCoord.st-offset.xy)+getDepth(vTexCoord.st+offset.xy)+getDepth(vTexCoord.st-offset.yx)+getDepth(vTexCoord.st+offset.yx)-4.0*depthAtPixel)),1.0);}\n\nvec4 depth2ndDerivative(){vec2 offset=vec2(1.0/uDepthTexSize,0.0);float depthAtPixel=getDepth(vTexCoord);float scale=32.0/(1.0+depthAtPixel);return vec4(0.5+scale*(+getDepth(vTexCoord-offset.xy)+getDepth(vTexCoord+offset.xy)-2.0*depthAtPixel),0.5+scale*(+getDepth(vTexCoord-offset.yx)+getDepth(vTexCoord+offset.yx)-2.0*depthAtPixel),0.5,1.0);}\n\nvec3 depthGradient(){vec2 offset=vec2(0.5/uDepthTexSize,0.0);return vec3((-getDepth(vTexCoord.st-offset.xy)+getDepth(vTexCoord.st+offset.xy)),(-getDepth(vTexCoord.st-offset.yx)+getDepth(vTexCoord.st+offset.yx)),2.0/uDepthTexSize/getDepth(vTexCoord));}\n\nvoid main(void){vec2 mouseCursorDist2d=gl_FragCoord.xy-uPointerPos.xy;float size=min(uResolution.x,uResolution.y);float depth=getInterpolatedDepth(vTexCoord);if(isValidDepth_3_4(uPointerPos.z)&&isValidDepth_3_4(depth)){vec3 mouseWorldPos=screenToWorld_2_2(uPointerPos.xyw);vec3 fragmentWorldPos=screenToWorld_2_2(gl_FragCoord.xy,depth);gl_FragColor=vec4(cmtColors_1_1.green.rgb,alpha*concentricalRings_4_5(fragmentWorldPos,mouseWorldPos));}else{gl_FragColor=vec4(0);}}"},function(t,e){t.exports="#version 100\nprecision mediump float;\n#define GLSLIFY 1\nvarying vec4 vModelPos;varying vec4 vWorldPos;varying vec2 vTexCoord;uniform sampler2D uDepth;uniform mediump float uDepthTexSize;uniform vec2 uResolution;\nstruct CmtColors_1_0{vec4 green;vec4 orange;vec4 blue;vec4 purple;vec4 gray;};const CmtColors_1_0 cmtColors_1_1=CmtColors_1_0(vec4(vec3(152,194,60)/255.0,1.0),vec4(vec3(236,122,8)/255.0,1.0),vec4(vec3(0,82,147)/255.0,1.0),vec4(vec3(151,2,84)/255.0,1.0),vec4(vec3(188,189,188)/255.0,1.0));\n\n\nbool isNaN_3_2(const float value){return!(value<=0.0||0.0<=value);}\n\n\nbool isValidDepth_2_3(const float depth){return!isNaN_3_2(depth)&&depth>0.0&&depth<1000.0;}\n\n\nhighp float getDepth(const vec4 depthMapFloatValue){if(depthMapFloatValue==vec4(1.0,1.0,1.0,1.0)){return-1.0;}ivec4 depthMapIntValue=ivec4(depthMapFloatValue*vec4(255.0));int precisionBits=depthMapIntValue.r/64;int depthBits=(depthMapIntValue.r-precisionBits*64)*256+depthMapIntValue.g;float precisionScale=pow(2.0,float(precisionBits*2));highp float depthInMm=float(depthBits)*precisionScale;return depthInMm/1000.0;}float getDepth(const vec2 texCoord){return getDepth(texture2D(uDepth,texCoord));}\n\nfloat getInterpolatedDepth(const vec2 texCoord,const float limit){float nonInterpolatedDepth=getDepth(texCoord);if(!isValidDepth_2_3(nonInterpolatedDepth)){return nonInterpolatedDepth;}float oneTexel=1.0/uDepthTexSize;vec2 offset=vec2(oneTexel,0.0);vec2 uv=mod(texCoord,oneTexel);vec2 flooredTexCoord=texCoord-uv;uv*=uDepthTexSize;highp float depths[4];depths[0]=getDepth(flooredTexCoord);depths[1]=getDepth(flooredTexCoord+offset.xy);depths[2]=getDepth(flooredTexCoord+offset.yx);depths[3]=getDepth(flooredTexCoord+offset.xx);for(int i=0;i<4;++i){if(!isValidDepth_2_3(depths[i])||abs(depths[i]-nonInterpolatedDepth)>limit){depths[i]=nonInterpolatedDepth;}}return mix(mix(depths[0],depths[1],uv.x),mix(depths[2],depths[3],uv.x),uv.y);}float getInterpolatedDepth(const vec2 texCoord){return getInterpolatedDepth(texCoord,0.125);}\n\nconst float PI=3.14159265359;const float TWO_PI=6.28318530718;vec3 getNormal(){float depthAtPixel=getInterpolatedDepth(vTexCoord.st);vec3 modelPos=vModelPos.xzy;vec3 modelDir=normalize(modelPos);vec3 worldPos=modelDir*depthAtPixel;float oneTexel=1.0/uDepthTexSize;vec3 offsetX=vec3(0.0,0.0,0.0);vec3 offsetY=vec3(0.0,0.0,0.0);vec3 absModelDir=abs(modelDir);if(absModelDir.x>absModelDir.y&&absModelDir.x>absModelDir.z){offsetX.y=modelDir.x<0.0? -1.0:1.0;offsetY.z= -1.0;}else if(absModelDir.y>absModelDir.x&&absModelDir.y>absModelDir.z){offsetX.x=modelDir.y>0.0? -1.0:1.0;offsetY.z= -1.0;}else{offsetX.x=1.0;offsetY.y=modelDir.z>0.0? -1.0:1.0;}vec3 modelDirX=normalize(modelPos+oneTexel*offsetX);vec3 modelDirY=normalize(modelPos+oneTexel*offsetY);float worldDistX=getInterpolatedDepth(vTexCoord.st+vec2(oneTexel,0.0));float worldDistY=getInterpolatedDepth(vTexCoord.st+vec2(0.0,oneTexel));vec3 worldPosX=modelDirX*worldDistX;vec3 worldPosY=modelDirY*worldDistY;vec3 dx=worldPos-worldPosX;vec3 dy=worldPos-worldPosY;return cross(normalize(dy),normalize(dx));}vec3 getNormal(const bool doNormalize){vec3 normal=getNormal();return doNormalize?normalize(normal):normal;}vec3 hv(){vec3 normal=getNormal(true);vec3 modelDir=normalize(vModelPos.xyz);vec3 worldDir=normalize(vWorldPos.xzy);float cosAngle=dot(modelDir,worldDir);vec3 lightDir=normalize(vec3(0.0,1.0,1.0));float angle=acos(dot(normal,lightDir));return vec3(mod(angle+TWO_PI,TWO_PI)/PI);}void main(void){gl_FragColor=vec4(hv(),1.0);if(gl_FragColor.w==0.0){gl_FragColor=mix(gl_FragColor,vec4(1.0,0.0,0.0,0.0),0.5);}}"},function(t,e){t.exports="#version 100\nprecision mediump float;\n#define GLSLIFY 1\nvarying vec2 vTexCoord;uniform sampler2D uDepth;uniform int uPreset;highp float getDepth(const vec4 depthMapFloatValue){if(depthMapFloatValue==vec4(1.0,1.0,1.0,1.0)){return-1.0;}ivec4 depthMapIntValue=ivec4(depthMapFloatValue*vec4(255.0));int precisionBits=depthMapIntValue.r/64;int depthBits=(depthMapIntValue.r-precisionBits*64)*256+depthMapIntValue.g;float precisionScale=pow(2.0,float(precisionBits*2));highp float depthInMm=float(depthBits)*precisionScale;return depthInMm/1000.0;}float getDepth(const vec2 texCoord){return getDepth(texture2D(uDepth,texCoord));}\n\nstruct FogParams{int mode;vec2 range;float attenuation;vec3 color;vec4 invalidColor;vec2 mixRange;};\n\nstruct _FogMode{int LINEAR;int EXP;int EXP2;};const _FogMode FogMode=_FogMode(9729,2048,2049);\n\nfloat linearFog(highp float depth,const float fogStart,const float fogEnd){return 1.0-(fogEnd-depth)/(fogEnd-fogStart);}float linearFog(highp float depth){return linearFog(depth,2.5,25.0);}\n\nfloat expFog(highp float depth,const float fogAttenuation){return 1.0-exp(-depth*fogAttenuation);}float expFog(highp float depth){return expFog(depth,0.05);}\n\nfloat exp2Fog(highp float depth,const float fogAttenuation){return 1.0-exp(-pow(depth*fogAttenuation,2.0));}float exp2Fog(highp float depth){return exp2Fog(depth,0.05);}\n\nconst int defaultFogMode=FogMode.EXP;const vec3 defaultFogColor=vec3(0.7,0.75,0.8);const vec4 defaultInvalidColor=vec4(1.0,0.5,0.5,0.5);const FogParams defaultFogParams=FogParams(FogMode.EXP,vec2(2.5,25.0),0.05,vec3(0.7,0.75,0.8),vec4(vec3(0.375),0.875),vec2(0.0,0.9));vec4 depthFog(const FogParams params){highp float depth=getDepth(vTexCoord.st);vec3 mixColor;float mixFactor;if(depth==0.0){return params.invalidColor;}else if(depth<0.0){return vec4(0.0);}else{if(params.mode==FogMode.LINEAR){mixFactor=linearFog(depth,params.range.x,params.range.y);}else if(params.mode==FogMode.EXP){mixFactor=expFog(depth,params.attenuation);}else if(params.mode==FogMode.EXP2){mixFactor=exp2Fog(depth,params.attenuation);}else{return params.invalidColor;}return vec4(params.color,clamp(mixFactor,params.mixRange.x,params.mixRange.y));}}vec4 depthFog(const int fogMode){FogParams params=defaultFogParams;params.mode=fogMode;return depthFog(params);}vec4 depthFog(){return depthFog(defaultFogParams);}\n\nconst FogParams darknessParams=FogParams(FogMode.LINEAR,vec2(2.5,25.0),0.05,vec3(0.0),vec4(vec3(0.0),1.0),vec2(0.0,1.0));void main(void){if(uPreset==1){gl_FragColor=depthFog(darknessParams);}else{gl_FragColor=depthFog();}}"},function(t,e){t.exports="#version 100\nprecision mediump float;\n#define GLSLIFY 1\nvarying vec4 vModelPos;varying vec4 vWorldPos;varying vec2 vTexCoord;uniform sampler2D uDepth;uniform vec2 uHeightRange;highp float getDepth(const vec4 depthMapFloatValue){if(depthMapFloatValue==vec4(1.0,1.0,1.0,1.0)){return-1.0;}ivec4 depthMapIntValue=ivec4(depthMapFloatValue*vec4(255.0));int precisionBits=depthMapIntValue.r/64;int depthBits=(depthMapIntValue.r-precisionBits*64)*256+depthMapIntValue.g;float precisionScale=pow(2.0,float(precisionBits*2));highp float depthInMm=float(depthBits)*precisionScale;return depthInMm/1000.0;}float getDepth(const vec2 texCoord){return getDepth(texture2D(uDepth,texCoord));}\n\n// HSV functions from iq (https://www.shadertoy.com/view/MsS3Wc)\nvec3 hsv2rgb_3_0( in vec3 hsv )\n{\n    vec3 rgb = clamp( abs(mod(hsv.x*6.0+vec3(0.0,4.0,2.0),6.0)-3.0)-1.0, 0.0, 1.0 );\n\n\treturn hsv.z * mix( vec3(1.0), rgb, hsv.y);\n}\n\n\nbool isNaN_2_1(const float value){return!(value<=0.0||0.0<=value);}\n\n\nbool isValidDepth_1_2(const float depth){return!isNaN_2_1(depth)&&depth>0.0&&depth<1000.0;}\n\n\nvoid main(void){vec4 depthColor=texture2D(uDepth,vTexCoord.st);highp float depth=getDepth(depthColor);vec3 modelPos=vModelPos.xzy;vec3 modelDir=normalize(modelPos);vec3 worldPos=modelDir*depth;float rangeMin=uHeightRange.x;float rangeMax=uHeightRange.y;float range=rangeMax-rangeMin;float rangeCenter=0.5*(rangeMin+rangeMax);vec3 hsv=vec3(0.7-0.8*((clamp(worldPos.z-rangeMin,0.0,range))/range),1.0,1.0);gl_FragColor=vec4(hsv2rgb_3_0(hsv),float(isValidDepth_1_2(depth))*0.33*(1.0-smoothstep(0.5*range-0.125,0.5*range+0.125,abs(worldPos.z-rangeCenter))));}"},function(t,e){t.exports="#define GLSLIFY 1\nattribute mediump vec2 aVertexPos;uniform mediump vec2 uResolution;const vec2 flipY=vec2(1.0, -1.0);const vec2 pixelOffset=vec2(0.5, -0.5);void main(){vec2 unitFace=2.0*(aVertexPos+pixelOffset)/(uResolution)-1.0;unitFace*=flipY;gl_Position=vec4(unitFace,0.0,1.0);}"},function(t,e){t.exports="#version 100\nprecision mediump float;\n#define GLSLIFY 1\nvarying mediump vec2 aVertexPos;uniform float uAlpha;\nstruct CmtColors_1_0{vec4 green;vec4 orange;vec4 blue;vec4 purple;vec4 gray;};const CmtColors_1_0 cmtColors_1_1=CmtColors_1_0(vec4(vec3(152,194,60)/255.0,1.0),vec4(vec3(236,122,8)/255.0,1.0),vec4(vec3(0,82,147)/255.0,1.0),vec4(vec3(151,2,84)/255.0,1.0),vec4(vec3(188,189,188)/255.0,1.0));\n\n\nvoid main(){gl_FragColor=vec4(cmtColors_1_1.orange.rgb,uAlpha);}"},function(t,e,n){"use strict";var r=n(0),i=(n.n(r),n(49));n.n(i)},function(t,e,n){"use strict";var r=n(158),i=n.n(r),o=n(46);n.n(o);!function(){if(!CM.shapes){CM.shapes={},CM.shapes.DEFAULT_SHAPE_SCALE=.8;var t=CM.shapes.AbstractShape=i.a.Class({_scale:1,_points:null,constructor:function(t){this._scale=t,this._points=[]},getPoints:function(){return this._points}}),e=CM.shapes.Circle=i.a.Class(t,{STATIC:{pointCount:24},constructor:function(t){e.Super.apply(this,arguments);for(var n,r=e.pointCount,i=2*Math.PI/r,n=0;n<r;++n)this._points.push(o.vec3.clone([t*Math.sin(i*n),t*Math.cos(i*n),0]))}}),n=CM.shapes.Arrow=i.a.Class(t,{STATIC:{baseCoords:[[0,1,0],[.3,.2,0],[.1,.2,0],[.13,-1,0],[-.13,-1,0],[-.1,.2,0],[-.3,.2,0]]},constructor:function(t){n.Super.apply(this,arguments);for(var e,r=n.baseCoords,i=r.length,a=o.vec3.create(),s=[],e=0;e<i;++e)s[e]=o.vec3.scaleAndAdd(o.vec3.create(),a,r[e],t);this._points=s}})}}()},function(t,e,n){"use strict";e.a=function(t,e,n){for(var r=0,i=t.length,o=void 0,a=t[i-1],s=void 0,u=void 0,l=void 0,c=void 0,h=0;h<i;++h)o=t[h],s=o[0],u=o[1],l=a[0],c=a[1],r^=(u<=n&&n<c||c<=n&&n<u)&&e<(l-s)*(n-u)/(c-u)+s,a=o;return r}},function(t,e,n){"use strict";var r=n(16),i=n.n(r),o=n(4),a=n.n(o),s=n(158),u=n.n(s),l=n(46),c=(n.n(l),n(331)),h=n(332),f=n(39),d=a.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};!function(){function t(t){a[t.getViewerId()]=t}function e(t){delete a[t.getViewerId()]}function n(t){return a[t]}if(CM.api||(CM.api={}),!CM.api.Aperture){CM.EVENT_VIEW_CHANGE="viewchange",CM.EVENT_VIEW_LOAD_START="viewloadstart",CM.EVENT_VIEW_LOAD_END="viewloadend",CM.EVENT_OPEN_NEAREST_PANORAMA_START="opennearestpanoramastart",CM.EVENT_OPEN_NEAREST_PANORAMA_SUCCESS="opennearestpanoramasuccess",CM.EVENT_OPEN_NEAREST_PANORAMA_FAILURE="opennearestpanoramafailure",CM.EVENT_PANORAMA_CHANGE="panoramachange",CM.TILE_LOAD_ERROR="tileloaderror";var r=function(t,e){return e>Math.PI/4?-1:(1-e/Math.PI)/(1+.1*Math.sqrt(t))};CM.api.DEFAULT_RECORDING_REQUEST_RADIUS=30,CM.api.DEFAULT_RECORDING_DRAW_RADIUS=30,CM.api.Aperture=u.a.Class(null,CM.Events,{_viewer:null,_recordingLayer:null,_hotspotLayer:null,_recordingClient:null,_activeRecording:null,_viewedRecordings:[],_recordingRequestRadius:0,_recordingDrawRadius:0,_forwardTarget:null,_backwardTarget:null,_locatingPanorama:!1,_uriManager:null,_viewedRecordingOptions:void 0,_enableKeyboardNavigation:!1,_interactionKeysPressed:{},_dYaw:0,_dPitch:0,_dZoom:0,_lastFrameTime:null,_recordingClickHandler:null,constructor:function(t){var e=t.uriManager,n=t.viewer,r=t.recordingRequestRadius,i=void 0===r?CM.api.DEFAULT_RECORDING_REQUEST_RADIUS:r,o=t.recordingDrawRadius,a=void 0===o?CM.api.DEFAULT_RECORDING_DRAW_RADIUS:o,s=t.recordingClickHandler,u=t.recordingClient,l=(t.dataUri,t.viewedRecordingOptions),c=t.enableKeyboardNavigation,f=void 0!==c&&c;this._uriManager=e,this._onEnterFrame=this._onEnterFrame.bind(this),this._onViewChange=this._onViewChange.bind(this),this._onViewLoadStart=this._onViewLoadStart.bind(this),this._onViewLoadEnd=this._onViewLoadEnd.bind(this),this._onTileLoadError=this._onTileLoadError.bind(this),this._defaultRecordingClickHandler=this._defaultRecordingClickHandler.bind(this),this._onViewerKeyDown=this._onViewerKeyDown.bind(this),this._onViewerKeyUp=this._onViewerKeyUp.bind(this),this._onViewerBlur=this._onViewerBlur.bind(this),this._onRecordingLoadSuccess=this._onRecordingLoadSuccess.bind(this),this._onRecordingLoadFailure=this._onRecordingLoadFailure.bind(this),this._viewer=n,n.setUriManager(e),CM.El.addEvent(n,CM.aperture.EVENT_ENTER_FRAME,this._onEnterFrame),CM.El.addEvent(n,CM.aperture.EVENT_VIEW_CHANGE,this._onViewChange),CM.El.addEvent(n,CM.aperture.EVENT_VIEW_LOAD_START,this._onViewLoadStart),CM.El.addEvent(n,CM.aperture.EVENT_VIEW_LOAD_END,this._onViewLoadEnd),CM.El.addEvent(n,CM.aperture.TILE_LOAD_ERROR,this._onTileLoadError),this._recordingRequestRadius=i,this._recordingDrawRadius=a;var d=this._recordingLayer=new h.b({viewer:n});d.setVisible(!1),this.recordingClickHandler=s||this._defaultRecordingClickHandler,CM.El.addEvent(d,"recordingclick",this.recordingClickHandler);var p=n._viewerWrapper;CM.El.adopt(p,d.toElement());var m=n._viewerContainer;this._recordingClient=u,this._viewedRecordingOptions=l,CM.El.addEvent(u,"recordingloadsuccess",this._onRecordingLoadSuccess),CM.El.addEvent(u,"recordingloadfailure",this._onRecordingLoadFailure),this._enableKeyboardNavigation=f,f&&(CM.El.addEvent(m,"keydown",this._onViewerKeyDown),CM.El.addEvent(m,"keyup",this._onViewerKeyUp),CM.El.addEvent(m,"blur",this._onViewerBlur))},_onTileLoadError:function(t){this.fireEvent(CM.TILE_LOAD_ERROR,t)},destroy:function(){this._removeEvents(),this._viewer.destroy(),this._recordingLayer.destroy()},_removeEvents:function(){var t=this._viewer,e=this._recordingLayer,n=this._recordingClient,r=t._viewerContainer;t.removeEventListener(CM.aperture.EVENT_ENTER_FRAME,this._onEnterFrame),t.removeEventListener(CM.aperture.EVENT_VIEW_CHANGE,this._onViewChange),t.removeEventListener(CM.aperture.EVENT_VIEW_LOAD_START,this._onViewLoadStart),t.removeEventListener(CM.aperture.EVENT_VIEW_LOAD_END,this._onViewLoadEnd),t.removeEventListener(CM.aperture.EVENT_ENTER_FRAME,this._onTileLoadError),e.removeEventListener("recordingclick",this._recordingClickHandler),n.removeEventListener("recordingloadsuccess",this._onRecordingLoadSuccess),n.removeEventListener("recordingloadfailure",this._onRecordingLoadFailure),r.removeEventListener("keydown",this._onViewerKeyDown),r.removeEventListener("blur",this._onViewerBlur)},_onViewChange:function(t){this._enableKeyboardNavigation&&this._updateRecordingScores(),this.fireEvent(CM.EVENT_VIEW_CHANGE,t)},_onViewLoadStart:function(){this.fireEvent(CM.EVENT_VIEW_LOAD_START)},_onViewLoadEnd:function(){this.fireEvent(CM.EVENT_VIEW_LOAD_END)},_defaultRecordingClickHandler:function(t,e){this.openPanoramaFromRecording(t)},_onRecordingLoadSuccess:function(t,e){if("function"==typeof this._uriManager.setActiveRecordings&&this._uriManager.setActiveRecordings(e),this._locatingPanorama){this._locatingPanorama=!1;var n=Object(c.b)(e,t.x,t.y);if(!n)throw this._clearActiveRecording(),this.fireEvent(CM.EVENT_OPEN_NEAREST_PANORAMA_FAILURE),Error();this._activeRecording&&this._activeRecording.id===n.id||this.openPanoramaFromRecording(n),this.fireEvent(CM.EVENT_OPEN_NEAREST_PANORAMA_SUCCESS)}this._viewedRecordings=this._initializeViewedRecordings(e),this._enableKeyboardNavigation&&this._updateRecordingScores(),this._recordingLayer.setRecordings(this._viewedRecordings,this._activeRecording),this._activeRecording},_clearActiveRecording:function(){this._activeRecording=null,this.fireEvent(CM.EVENT_PANORAMA_CHANGE)},_onRecordingLoadFailure:function(t){this.fireEvent(CM.EVENT_OPEN_NEAREST_PANORAMA_FAILURE)},openPanoramaFromRecording:function(t){var e=this._viewer,n=e._viewportTileLoader,r=t.xyz;this._activeRecording=t,e._clear(),e._camera.setPosition({xyz:r,yawOffset:-t.orientation}),isNaN(r)&&(e._camera.xyz[2]=0),e.openPanorama(t.id),n.prepareForLoading(t),this.fireEvent(CM.EVENT_PANORAMA_CHANGE);var i={};this._viewedRecordingOptions&&(i=d({},this._viewedRecordingOptions)),this._recordingClient.requestWithinRadius(r[0],r[1],this._recordingRequestRadius,t.srs,i)},openNearestPanorama:function(t,e,n,r){if(void 0===t||void 0===e)throw Error("X and/or Y coordinate missing!");this._locatingPanorama=!0,this.fireEvent(CM.EVENT_OPEN_NEAREST_PANORAMA_START),this._recordingClient.requestWithinRadius(t,e,this._recordingRequestRadius,n,r)},openPanorama:function(t){this._locatingPanorama=!0,this._viewer.openPanorama(t)},_initializeViewedRecordings:function(t){var e=CM.Proj4.getProj4(),n=this._activeRecording,r=this._recordingDrawRadius;r*=r;var o=e.defs(n.srs),a=void 0,s=void 0,u=void 0,c=o&&"degrees"===o.units,h=o&&o.to_meter;c?a=new ENUTransformWGS(n.xyz):s=h?l.vec3.scale(l.vec3.create(),n.xyz,h):n.xyz;var f=[],d=!0,p=!1,m=void 0;try{for(var g,v=i()(t);!(d=(g=v.next()).done);d=!0){var y=g.value;if(y.id!==n.id){var b=void 0;c?b=a.toENU(y.xyz):(u=h?l.vec3.scale(l.vec3.create(),y.xyz,h):y.xyz,b=l.vec3.subtract(l.vec3.create(),u,s)),isNaN(b[2])&&(b[2]=0);var w=l.vec2.sqrLen(b);if(w<=r&&this._checkCandidateAgainstViewedRecordingOptions(y)){w=Math.sqrt(w),y.relativeXyz=b,y.relativeDistance=w;var x=Math.acos(b[1]/w);b[0]<0&&(x=2*Math.PI-x),y.relativeYaw=x,f.push(y)}}}}catch(t){p=!0,m=t}finally{try{!d&&v.return&&v.return()}finally{if(p)throw m}}return f},_dateWithinRange:function(t,e){return!e||e.from<=t&&t<=e.to},_checkCandidateAgainstViewedRecordingOptions:function(t){var e=this._viewedRecordingOptions||{},n=e.dateRange;return this._dateWithinRange(t.recordedAt,n)},invalidateSize:function(){this._viewer.invalidateSize()},getElement:function(){return this._viewer._viewerWrapper},pixelToWorldVector:function(t,e){return this._viewer._camera.pixelToWorldVector(t,e)},imageToWorldVector:function(t,e){return this._viewer._camera.imageToWorldVector(t,e)},worldCoordToImage:function(t,e,n){return this._viewer._camera.worldCoordToImage(t,e,n)},getRecording:function(){return this._activeRecording},getViewerId:function(){return this._viewer.getViewerId()},getViewerType:function(){return this._viewer.getViewerType()},getOrientation:function(){return this._viewer.getOrientation()},getYaw:function(){return this._viewer.getYaw()},getPitch:function(){return this._viewer.getPitch()},getHFov:function(){return this._viewer.getHFov()},setOrientation:function(t){this._viewer.setOrientation(t)},setYaw:function(t){this._viewer.setYaw(t)},setPitch:function(t){this._viewer.setPitch(t)},setHFov:function(t){this._viewer.setHFov(t)},getVisibilityRecordings:function(){return this._recordingLayer.getVisible()},setVisibilityRecordings:function(t){this._recordingLayer.setVisible(t)},getRecordingLayer:function(){return this._recordingLayer},getDataUri:function(){return this._uriManager.getDataUri()},setDataUri:function(t){this._uriManager.setDataUri(t),this._recordingClient._uriManager.setDataUri(t)},getUseDeviceMotion:function(){return this._viewer.getUseDeviceMotion()},getUseDeviceOrientation:function(){return this._viewer.getUseDeviceOrientation()},setUseDeviceMotion:function(t){this._viewer.setUseDeviceMotion(t)},setUseDeviceOrientation:function(t){this._viewer.setUseDeviceOrientation(t)},setAllowRotateWhenZoomed:function(t){this._viewer.setAllowRotateWhenZoomed(t)},setHotspots:function(t){this._hotspotLayer.setHotspots(t)},clearHotspots:function(){this._hotspotLayer.setHotspots([])},setViewedRecordingOptions:function(t){this._viewedRecordingOptions=t},getPanoramaCanvas:function(){var t=void 0;return"webgl"===this.getViewerType()?t=this._viewer.getCanvas():(console.log("Selected Viewer is not a WebGL viewer, download not supported!"),t=null),t},_updateRecordingScores:function(){for(var t=this._viewer._camera,e=this._viewedRecordings,n=t.yaw,i=-1,o=-1,a=-1,s=-1,u=0,l=e.length;u<l;++u){var c=e[u],h=c.relativeYaw,f=c.relativeDistance,d=r(f,Math.acos(Math.cos(n-h)));d>0&&d>i&&(i=d,o=u),c.scoreForward=d,c.forwardTarget=!1;var p=r(f,Math.acos(Math.cos(n-h+Math.PI)));p>0&&p>a&&(a=p,s=u),c.scoreBackward=p,c.backwardTarget=!1}var m=!1,g=this._forwardTarget,v=this._backwardTarget,y=null,b=null;a>=0&&(y=e[s],y.backwardTarget=!0),i>=0&&(b=e[o],b.forwardTarget=!0),y!==v&&(!0,this._backwardTarget=y),b!==g&&(m=!0,this._forwardTarget=b);var w=this._viewer._viewportTileLoader;m&&w.clearPreloadPending()},_onViewerKeyDown:function(t){var e=t.dom3key,n=!0,r=void 0;switch(this._interactionKeysPressed[e]=!0,e){case"Shift":case"Control":n=!1;case"ArrowLeft":case"A":case"ArrowRight":case"D":case"PageUp":case"R":case"PageDown":case"F":case"-":case"_":case"=":case"+":this._viewer.requestAnimationFrame();break;case"ArrowUp":case"W":r=this._forwardTarget,r&&this.openPanoramaFromRecording(r);break;case"ArrowDown":case"S":r=this._backwardTarget,r&&this.openPanoramaFromRecording(r);break;default:n=!1}return!n||(t.preventDefault(),!1)},_onViewerKeyUp:function(t){delete this._interactionKeysPressed[t.dom3key]},_onViewerBlur:function(t){this._interactionKeysPressed={}},_onEnterFrame:function(t){var e=this._viewer,n=this._interactionKeysPressed,r=this._lastFrameTime,i=Date.now(),o=r?1e3/(i-r):60,a=this._dYaw,s=this._dPitch,u=this._dZoom,l=Object(f.e)(120);n.Shift&&(l*=5),n.Control&&(l*=.1);var c=6*l/o,h=3*l/o,d=n.ArrowLeft||n.A,p=n.ArrowRight||n.D,m=n.PageUp||n.R,g=n.PageDown||n.F,v=n["-"]||n._,y=n["="]||n["+"];d&&!p?a=Math.max(-l,a-c):!d&&p&&(a=Math.min(l,a+c)),m&&!g?s=Math.min(l,s+c):!m&&g&&(s=Math.max(-l,s-c)),v&&!y?u=Math.min(l,u+c):!v&&y&&(u=Math.max(-l,u-c)),0===a&&0===s&&0===u||(e.setYaw(e.getYaw()+a/o),e.setPitch(e.getPitch()+s/o),e.setHFov(e.getHFov()+u/o),a=Math.abs(a)<h?0:a+(a>0?-1:1)*h,s=Math.abs(s)<h?0:s+(s>0?-1:1)*h,u=Math.abs(u)<h?0:u+(u>0?-1:1)*h),0!==a||0!==s?(this._lastFrameTime=r,this._viewer.requestAnimationFrame()):this._lastFrameTime=null,this._dYaw=a,this._dPitch=s,this._dZoom=u}});var o=CM.aperture.getViewerClasses(),a={};CM.createPanoramaViewer=function(e){if(o.length>0){var n=new o[0](e),r=d({},e,{viewer:n}),i=new CM.api.Aperture(r);return t(i),i}return null},CM.destroyPanoramaViewer=function(t){var r=n(t);r&&(r.destroy(),e(r))}}}()},function(t,e,n){"use strict";var r=n(106);n.n(r)},function(t,e,n){"use strict";var r=n(5),i=n.n(r),o=n(106),a=(n.n(o),function(t,e){function n(){return 2*Math.PI/60/60*m.autoRotateSpeed}function r(){return Math.pow(.95,m.zoomSpeed)}function i(t){if(!1!==m.enabled){if(t.preventDefault(),t.button===m.mouseButtons.ORBIT){if(!0===m.noRotate)return;P=N.ROTATE,g.set(t.clientX,t.clientY)}else if(t.button===m.mouseButtons.ZOOM){if(!0===m.noZoom)return;P=N.DOLLY,M.set(t.clientX,t.clientY)}else if(t.button===m.mouseButtons.PAN){if(!0===m.noPan)return;P=N.PAN,b.set(t.clientX,t.clientY)}document.addEventListener("mousemove",a,!1),document.addEventListener("mouseup",s,!1),m.dispatchEvent(j)}}function a(t){if(!1!==m.enabled){t.preventDefault();var e=m.domElement===document?m.domElement.body:m.domElement;if(P===N.ROTATE){if(!0===m.noRotate)return;v.set(t.clientX,t.clientY),y.subVectors(v,g),m.rotateLeft(2*Math.PI*y.x/e.clientWidth*m.rotateSpeed),m.rotateUp(2*Math.PI*y.y/e.clientHeight*m.rotateSpeed),g.copy(v)}else if(P===N.DOLLY){if(!0===m.noZoom)return;S.set(t.clientX,t.clientY),T.subVectors(S,M),T.y>0?m.dollyIn():m.dollyOut(),M.copy(S)}else if(P===N.PAN){if(!0===m.noPan)return;w.set(t.clientX,t.clientY),x.subVectors(w,b),m.pan(x.x,x.y),b.copy(w)}m.update()}}function s(){!1!==m.enabled&&(document.removeEventListener("mousemove",a,!1),document.removeEventListener("mouseup",s,!1),m.dispatchEvent(U),P=N.NONE)}function u(t){if(!1!==m.enabled&&!0!==m.noZoom){t.preventDefault(),t.stopPropagation();var e=0;void 0!==t.wheelDelta?e=t.wheelDelta:void 0!==t.detail&&(e=-t.detail),e>0?m.dollyOut():m.dollyIn(),m.update(),m.dispatchEvent(j),m.dispatchEvent(U)}}function l(t){if(!1!==m.enabled&&!0!==m.noKeys&&!0!==m.noPan)switch(t.keyCode){case m.keys.UP:m.pan(0,m.keyPanSpeed),m.update();break;case m.keys.BOTTOM:m.pan(0,-m.keyPanSpeed),m.update();break;case m.keys.LEFT:m.pan(m.keyPanSpeed,0),m.update();break;case m.keys.RIGHT:m.pan(-m.keyPanSpeed,0),m.update()}}function c(t){if(!1!==m.enabled){switch(t.touches.length){case 1:if(!0===m.noRotate)return;P=N.TOUCH_ROTATE,g.set(t.touches[0].pageX,t.touches[0].pageY);break;case 2:if(!0===m.noZoom)return;P=N.TOUCH_DOLLY;var e=t.touches[0].pageX-t.touches[1].pageX,n=t.touches[0].pageY-t.touches[1].pageY,r=Math.sqrt(e*e+n*n);M.set(0,r);break;case 3:if(!0===m.noPan)return;P=N.TOUCH_PAN,b.set(t.touches[0].pageX,t.touches[0].pageY);break;default:P=N.NONE}m.dispatchEvent(j)}}function h(t){if(!1!==m.enabled){t.preventDefault(),t.stopPropagation();var e=m.domElement===document?m.domElement.body:m.domElement;switch(t.touches.length){case 1:if(!0===m.noRotate)return;if(P!==N.TOUCH_ROTATE)return;v.set(t.touches[0].pageX,t.touches[0].pageY),y.subVectors(v,g),m.rotateLeft(2*Math.PI*y.x/e.clientWidth*m.rotateSpeed),m.rotateUp(2*Math.PI*y.y/e.clientHeight*m.rotateSpeed),g.copy(v),m.update();break;case 2:if(!0===m.noZoom)return;if(P!==N.TOUCH_DOLLY)return;var n=t.touches[0].pageX-t.touches[1].pageX,r=t.touches[0].pageY-t.touches[1].pageY,i=Math.sqrt(n*n+r*r);S.set(0,i),T.subVectors(S,M),T.y>0?m.dollyOut():m.dollyIn(),M.copy(S),m.update();break;case 3:if(!0===m.noPan)return;if(P!==N.TOUCH_PAN)return;w.set(t.touches[0].pageX,t.touches[0].pageY),x.subVectors(w,b),m.pan(x.x,x.y),b.copy(w),m.update();break;default:P=N.NONE}}}function f(){!1!==m.enabled&&(m.dispatchEvent(U),P=N.NONE)}this.object=t,this.domElement=void 0!==e?e:document,this.enabled=!0,this.target=new o.Vector3,this.center=this.target,this.noZoom=!1,this.zoomSpeed=1,this.minDistance=0,this.maxDistance=1/0,this.noRotate=!1,this.rotateSpeed=1,this.noPan=!1,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.noKeys=!1,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={ORBIT:o.MOUSE.LEFT,ZOOM:o.MOUSE.MIDDLE,PAN:o.MOUSE.RIGHT};var d,p,m=this,g=new o.Vector2,v=new o.Vector2,y=new o.Vector2,b=new o.Vector2,w=new o.Vector2,x=new o.Vector2,_=new o.Vector3,E=new o.Vector3,M=new o.Vector2,S=new o.Vector2,T=new o.Vector2,C=0,I=0,O=1,A=new o.Vector3,L=new o.Vector3,R=new o.Quaternion,N={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY:4,TOUCH_PAN:5},P=N.NONE;this.target0=this.target.clone(),this.position0=this.object.position.clone();var k=(new o.Quaternion).setFromUnitVectors(t.up,new o.Vector3(0,1,0)),D=k.clone().inverse(),F={type:"change"},j={type:"start"},U={type:"end"};this.rotateLeft=function(t){void 0===t&&(t=n()),I-=t},this.rotateUp=function(t){void 0===t&&(t=n()),C-=t},this.panLeft=function(t){var e=this.object.matrix.elements;_.set(e[0],e[1],e[2]),_.multiplyScalar(-t),A.add(_)},this.panUp=function(t){var e=this.object.matrix.elements;_.set(e[4],e[5],e[6]),_.multiplyScalar(t),A.add(_)},this.pan=function(t,e){var n=m.domElement===document?m.domElement.body:m.domElement;if(void 0!==m.object.fov){var r=m.object.position,i=r.clone().sub(m.target),o=i.length();o*=Math.tan(m.object.fov/2*Math.PI/180),m.panLeft(2*t*o/n.clientHeight),m.panUp(2*e*o/n.clientHeight)}else void 0!==m.object.top?(m.panLeft(t*(m.object.right-m.object.left)/n.clientWidth),m.panUp(e*(m.object.top-m.object.bottom)/n.clientHeight)):console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.")},this.dollyIn=function(t){void 0===t&&(t=r()),O/=t},this.dollyOut=function(t){void 0===t&&(t=r()),O*=t},this.update=function(){var t=this.object.position;E.copy(t).sub(this.target),E.applyQuaternion(k),d=Math.atan2(E.x,E.z),p=Math.atan2(Math.sqrt(E.x*E.x+E.z*E.z),E.y),this.autoRotate&&this.rotateLeft(n()),d+=I,p+=C,d=Math.max(this.minAzimuthAngle,Math.min(this.maxAzimuthAngle,d)),p=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,p)),p=Math.max(1e-6,Math.min(Math.PI-1e-6,p));var e=E.length()*O;e=Math.max(this.minDistance,Math.min(this.maxDistance,e)),this.target.add(A),E.x=e*Math.sin(p)*Math.sin(d),E.y=e*Math.cos(p),E.z=e*Math.sin(p)*Math.cos(d),E.applyQuaternion(D),t.copy(this.target).add(E),this.object.lookAt(this.target),I=0,C=0,O=1,A.set(0,0,0),(L.distanceToSquared(this.object.position)>1e-6||8*(1-R.dot(this.object.quaternion))>1e-6)&&(this.dispatchEvent(F),L.copy(this.object.position),R.copy(this.object.quaternion))},this.reset=function(){P=N.NONE,this.target.copy(this.target0),this.object.position.copy(this.position0),this.update()},this.getPolarAngle=function(){return p},this.getAzimuthalAngle=function(){return d},this.domElement.addEventListener("contextmenu",function(t){t.preventDefault()},!1),this.domElement.addEventListener("mousedown",i,!1),this.domElement.addEventListener("mousewheel",u,!1),this.domElement.addEventListener("DOMMouseScroll",u,!1),this.domElement.addEventListener("touchstart",c,!1),this.domElement.addEventListener("touchend",f,!1),this.domElement.addEventListener("touchmove",h,!1),window.addEventListener("keydown",l,!1),this.update()});a.prototype=i()(o.EventDispatcher.prototype)},function(t,e,n){"use strict";var r=n(5),i=n.n(r),o=n(1006),a=n.n(o),s=n(106),u=(n.n(s),function(t,e){function n(t,e){return function(){e.apply(t,arguments)}}this.object=t,this.domElement=void 0!==e?e:document,e&&this.domElement.setAttribute("tabindex",-1),this.rotationSpeed=.005,this.zoomSpeed=.01,this.fastMultiplier=5,this.slowMultiplier=.2,this.autoRotate=!1,this.keyMapping={16:"fast",18:"slow",87:"forward",83:"back",65:"left",68:"right",82:"up",70:"down",38:"pitchUp",40:"pitchDown",37:"yawLeft",39:"yawRight",81:"rollLeft",69:"rollRight",189:"zoomOut",187:"zoomIn",48:"zoomReset",32:"jump"},this.tmpQuaternion=new s.Quaternion,this.state={fast:0,slow:0,forward:0,back:0,left:0,right:0,up:0,down:0,pitchUp:0,pitchDown:0,yawLeft:0,yawRight:0,rollLeft:0,rollRight:0,zoomIn:0,zoomOut:0,zoomReset:0,jump:0},this.multiplier=1,this.yaw=0,this.pitch=0,this.roll=0,this.focal=1,this.mouseState=[0,0,0],this.pointerDown={x:null,y:null,yaw:null,pitch:null,roll:null},this.handleEvent=function(t){"function"==typeof this[t.type]&&this[t.type](t)},this.handleKeyEvent=function(t,e){if(t.altKey)return!1;var n=t.keyCode,r=this.keyMapping;this.modifierMapping;if(n in r){var i=r[n];return this.state[i]=e,this.update(),!0}return!1},this.keydown=function(t){this.handleKeyEvent(t,1)},this.keyup=function(t){this.handleKeyEvent(t,0)},this.mousedown=function(t){this.domElement!==document&&this.domElement.focus(),t.preventDefault(),t.stopPropagation(),this.mouseState[t.button]=1;var e=this.pointerDown;e.x=t.clientX,e.y=t.clientY,e.yaw=this.yaw,e.pitch=this.pitch,e.roll=this.roll,e.focal=this.focal},this.mousemove=function(t){var e=this.mouseState,n=this.pointerDown,r=t.clientX-n.x,i=t.clientY-n.y,o=!1;if(e[0]&&(this.yaw=n.yaw-r*this.rotationSpeed,this.pitch=n.pitch-i*this.rotationSpeed,o=!0),e[1]){this.focal=n.focal*Math.pow(2,-i*this.zoomSpeed),o=!0;Math.abs(r)>50?this.roll=n.roll+(r-50*a()(r))*this.rotationSpeed:this.roll=n.roll}o&&this.update()},this.mouseup=function(t){t.preventDefault(),t.stopPropagation(),this.mouseState[t.button]=0},this.update=function(t){var e=this.object,n=Math.min(Math.max(.1,this.focal),100);this.focal=n;var r=2*Math.PI,i=.5*Math.PI,o=this.yaw;o/=r,o-=Math.floor(o),o*=r,this.yaw=o;var a=s.Math.clamp(this.pitch,-i,i);this.pitch=a;var u=s.Math.clamp(this.roll,-Math.PI/3,Math.PI/3);this.roll=u,e.setLens(n,1),e.rotation.set(a,o,u,"YXZ"),this.yaw===this.prevYaw&&this.pitch===this.prevPitch&&this.roll===this.prevRoll||(this.prevYaw=this.yaw,this.prevPitch=this.pitch,this.prevRoll=this.roll,console.log("YPR:",o,a,u,"F:",n),this.dispatchEvent({type:"update"}))},this.updateMovementVector=function(){var t=this.state.forward||this.autoForward&&!this.state.back?1:0;this.moveVector.x=-this.state.left+this.state.right,this.moveVector.y=-this.state.down+this.state.up,this.moveVector.z=-t+this.state.back},this.updateRotationVector=function(){this.rotationVector.x=this.state.pitchUp-this.state.pitchDown,this.rotationVector.y=this.state.yawLeft-this.state.yawRight,this.rotationVector.z=this.state.rollLeft-this.state.rollRight},this.getContainerDimensions=function(){return this.domElement!==document?{size:[this.domElement.offsetWidth,this.domElement.offsetHeight],offset:[this.domElement.offsetLeft,this.domElement.offsetTop]}:{size:[window.innerWidth,window.innerHeight],offset:[0,0]}},this.domElement.addEventListener("contextmenu",function(t){t.preventDefault()},!1),this.domElement.addEventListener("mousemove",n(this,this.mousemove),!1),this.domElement.addEventListener("mousedown",n(this,this.mousedown),!1),this.domElement.addEventListener("mouseup",n(this,this.mouseup),!1),window.addEventListener("keydown",n(this,this.keydown),!1),window.addEventListener("keyup",n(this,this.keyup),!1)});u.prototype=i()(s.EventDispatcher.prototype)},function(t,e,n){t.exports={default:n(1007),__esModule:!0}},function(t,e,n){n(1008),t.exports=n(22).Math.sign},function(t,e,n){var r=n(37);r(r.S,"Math",{sign:n(1009)})},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(51),o=n.n(i),a=n(48),s=n.n(a),u=n(59),l=n.n(u),c=n(1),h=n.n(c),f=n(19),d=n.n(f),p=n(16),m=n.n(p),g=n(32),v=n.n(g),y=n(106),b=(n.n(y),n(469)),w=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=m()(t);!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(d()(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),x=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),h()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),_=function(){function t(e){r(this,t),this.drawLayer=e,this.elements={},this.elementsNames={},this.animateId=void 0,this.scaleCandidates=[],this.dummyPos=new y.Vector3(0,0,0),this.projScreenMat=new y.Matrix4,this.updateDistanceScaling=this.updateDistanceScaling.bind(this)}return x(t,[{key:"addElement",value:function(t){void 0!==t.object&&(!0===this.elementsNames[t.name]&&v.a.warn("element name "+t.name+" is already used"),this.elements[""+t.id]=t,t.hasDependency||null===t.object||this.drawLayer.scene.add(t.object),t.uniformScale&&(this.scaleCandidates.push(t),this.animateId=requestAnimationFrame(this.updateDistanceScaling)),null!==t.object&&this.drawLayer.mouseManager.registerElement(t))}},{key:"updateDistanceScaling",value:function(){var t=this.drawLayer.elementManager.scaleCandidates;if(0!==t.length){var e=this.drawLayer.elementManager.dummyPos,n=this.drawLayer.camera.projectionMatrix,r=this.drawLayer.elementManager.projScreenMat,i=n.elements;r.identity(),r.multiplyMatrices(n,this.drawLayer.camera.matrixWorldInverse);for(var o=void 0,a=void 0,s=void 0,u=0;u<t.length;u++)o=t[u],s=o.object,e.copy(s.position),e.applyMatrix4(r),a=i[2]+i[6]+i[10]*e.z,a*=o.scale,s.scale.set(a,-a,1);this.animateId=requestAnimationFrame(this.updateDistanceScaling)}}},{key:"destroy",value:function(){this.destroyAll(),this.drawLayer=void 0}},{key:"destroyAll",value:function(){var t=!0,e=!1,n=void 0;try{for(var r,i=m()(l()(this.elements));!(t=(r=i.next()).done);t=!0){var o=r.value;this.remove(o)}}catch(t){e=!0,n=t}finally{try{!t&&i.return&&i.return()}finally{if(e)throw n}}this.elements={},this.elementsNames={},this.scaleCandidates=[],this.drawLayer.resetElementId(),this.animateId&&(cancelAnimationFrame(this.animateId),this.animateId=void 0)}},{key:"destroyElements",value:function(t){var e=!0,n=!1,r=void 0;try{for(var i,o=m()(t);!(e=(i=o.next()).done);e=!0){var a=i.value;a instanceof b.a&&this.remove(a)}}catch(t){n=!0,r=t}finally{try{!e&&o.return&&o.return()}finally{if(n)throw r}}}},{key:"remove",value:function(t){if(this.drawLayer.mouseManager.unregisterElement(t),t.garbage=!0,delete this.elementsNames[t.name],t.object&&!t.hasDependency){this.drawLayer.scene.remove(t.object);var e=t.nested?t.object.children[0]:t.object;if(e&&e.geometry&&e.geometry.dispose(),t.hasMaterial){var n=e.material;if(t.hasBitmapMaterial){var r=n.map;r&&r.isTexture&&r.dispose&&r.dispose(),r.image&&(r.image=void 0),n.map=void 0}n.dispose&&n.dispose()}t.nested&&(t.object=void 0)}if(delete this.elementsNames[t.name],delete this.elements[""+t.id],this.scaleCandidates.length>0){var i=this.scaleCandidates.indexOf(t);i>=0&&this.scaleCandidates.splice(i,1),0===this.scaleCandidates.length&&this.animateId&&(cancelAnimationFrame(this.animateId),this.animateId=void 0)}}},{key:"setVisible",value:function(t,e){Array.isArray(e)&&e.forEach(function(e){e.object.visible=t})}},{key:"setGroupVisible",value:function(t,e){this.setVisible(t,this.getElementsByGroup(e))}},{key:"update",value:function(t,e,n){if(t.object){var r=t.nested?t.object.children[0]:t.object;if(e){var i=!0,o=!1,a=void 0;try{for(var u,l=m()(s()(e));!(i=(u=l.next()).done);i=!0){var c=w(u.value,2),h=c[0],f=c[1];try{r.material[h]=f}catch(t){}}}catch(t){o=!0,a=t}finally{try{!i&&l.return&&l.return()}finally{if(o)throw a}}}if(null!==n){var d=!0,p=!1,g=void 0;try{for(var v,y=m()(s()(n));!(d=(v=y.next()).done);d=!0){var b=w(v.value,2),h=b[0],f=b[1];try{r[h]=f}catch(t){}}}catch(t){p=!0,g=t}finally{try{!d&&y.return&&y.return()}finally{if(p)throw g}}}}}},{key:"getElementByObject",value:function(t){var e=!0,n=!1,r=void 0;try{for(var i,o=m()(l()(this.elements));!(e=(i=o.next()).done);e=!0){var a=i.value;if(a.nested&&(t===a.object||t===a.object.children[0])||!t.nested&&t===a.object)return a}}catch(t){n=!0,r=t}finally{try{!e&&o.return&&o.return()}finally{if(n)throw r}}return v.a.warn("object not found"),null}},{key:"getElementById",value:function(t){var e=this.elements[""+t];return e||v.a.warn("Element "+t+" does not exist"),e}},{key:"getElementByName",value:function(t){return l()(this.elements).find(function(e){return e.name===t})}},{key:"getElementsByGroup",value:function(t){return l()(this.elements).filter(function(e){return e.group===t})}},{key:"getElementNames",value:function(){return l()(this.elements).map(function(t){return t.name})}},{key:"getElements",value:function(){return l()(this.elements)}},{key:"getElementIds",value:function(){return o()(this.elements)}}]),t}();e.a=_},function(t,e,n){n(1012),t.exports=n(22).Object.values},function(t,e,n){var r=n(37),i=n(440)(!1);r(r.S,"Object",{values:function(t){return i(t)}})},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return c()(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=n(4),a=n.n(o),s=n(16),u=n.n(s),l=n(31),c=n.n(l),h=n(1),f=n.n(h),d=n(32),p=n.n(d),m=n(1014),g=n.n(m),v=n(106),y=(n.n(v),n(242)),b=n(469),w=n(197),x=n(341),_=n(138),E=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),f()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),M=function(){function t(e){i(this,t),this.drawLayer=e}return E(t,[{key:"destroy",value:function(){this.drawLayer=void 0}},{key:"setObjectTransforms",value:function(t,e){void 0!==e.x&&(t.position.x=e.x),void 0!==e.y&&(t.position.y=e.y),void 0!==e.z&&(t.position.z=e.z),void 0!==e.rotationX&&(t.rotation.x=e.rotationX),void 0!==e.rotationY&&(t.rotation.y=e.rotationY),void 0!==e.rotationZ&&(t.rotation.z=e.rotationZ),void 0!==e.scaleX&&(t.scale.x=e.scaleX),void 0!==e.scaleY&&(t.scale.y=e.scaleY),void 0!==e.scaleZ&&(t.scale.z=e.scaleZ)}},{key:"validateData",value:function(t,e){if(t.opacity=void 0!==t.opacity?t.opacity:1,t.color=void 0!==t.color?t.color:13421772,t.radius=void 0!==t.radius?t.radius:1,t.thickness=void 0!==t.thickness?t.thickness:0,t.outlineRadius=void 0!==t.outlineRadius&&t.outlineRadius>t.radius?t.outlineRadius:0,t.outlineColor=void 0!==t.outlineColor?t.outlineColor:16777215,t.width=void 0!==t.width?t.width:1,t.outlineWidth=void 0!==t.outlineWidth?t.outlineWidth:0,void 0===t.lineWidth)switch(e.type){case y.a.LINE:t.lineWidth=1;break;case y.a.CROSSHAIR:t.lineWidth=2;break;default:t.lineWidth=0}return t.transparent=t.opacity<1,e.onMouseOver=t.onMouseOver?t.onMouseOver:void 0,e.onMouseOut=t.onMouseOut?t.onMouseOut:void 0,e.onMouseDown=t.onMouseDown?t.onMouseDown:void 0,e.onMouseUp=t.onMouseUp?t.onMouseUp:void 0,t}},{key:"getBasicMaterial",value:function(t,e,n){var r={opacity:t.opacity,transparent:t.transparent};if(!n&&"fillOpacity"in t){var i=r.opacity=t.fillOpacity;r.transparent=i<1}void 0!==t.url?r.map=v.ImageUtils.loadTexture(t.url):r.color=new v.Color(n?t.outlineColor:t.color);var o=new v.MeshBasicMaterial(r);return void 0!==e&&(o.side=1===e?v.DoubleSide:v.BackSide),o}},{key:"constructObjectFromGeoJSON",value:function(t,e){var n=void 0;if(Object(x.e)(t))n=t.features;else{if(!Object(x.d)(t))throw new Error("Data is not a valid GeoJSON FeatureCollection or Feature");n=[t]}var i=[],o=!0,s=!1,l=void 0;try{for(var c,h=u()(n);!(o=(c=h.next()).done);o=!0){var f=c.value,d={},p=f.geometry.type,m=f.geometry.coordinates;if(p===w.b.POINT)d.type=y.a.DOT_2D,d.x=m[0],d.y=m[2]||e.z||0,d.z=-m[1];else if(p===w.b.LINESTRING){d.type=y.a.LINE;var v=[],b=!0,E=!1,M=void 0;try{for(var S,T=u()(m);!(b=(S=T.next()).done);b=!0){var C=S.value;v.push(C[0],C[2]||e.z||0,-C[1])}}catch(t){E=!0,M=t}finally{try{!b&&T.return&&T.return()}finally{if(E)throw M}}d.coordinates=v}else if(p===w.b.POLYGON){if(d.type=y.a.POLYGON_SHAPE,!d.triangles){var I=[],O=!0,A=!1,L=void 0;try{for(var R,N=u()(m);!(O=(R=N.next()).done);O=!0){var P=R.value,k=void 0;P[0][0]!==P[P.length-1][0]&&P[0][1]!==P[P.length-1][1]||(k=[].concat([].concat(r(P))),k.length=P.length-1),I.push(k)}}catch(t){A=!0,L=t}finally{try{!O&&N.return&&N.return()}finally{if(A)throw L}}var D=g()(I,{clean:!0,nested:!0});d.triangles=Object(_.j)(D.points,{edges:D.edges})}var F=[],j=!0,U=!1,B=void 0;try{for(var z,V=u()(m);!(j=(z=V.next()).done);j=!0){var G=z.value,H=[],q=!0,W=!1,Y=void 0;try{for(var X,Z=u()(G);!(q=(X=Z.next()).done);q=!0){var K=X.value;H.push([K[0],K[2]||e.z||0,-K[1]])}}catch(t){W=!0,Y=t}finally{try{!q&&Z.return&&Z.return()}finally{if(W)throw Y}}F.push(H)}}catch(t){U=!0,B=t}finally{try{!j&&V.return&&V.return()}finally{if(U)throw B}}d.coordinates=F,t.properties&&t.properties.derivedData&&(d.triangles=t.properties.derivedData.triangles)}var $=a()({},d,e);i.push(this.constructObject($.type,$))}}catch(t){s=!0,l=t}finally{try{!o&&h.return&&h.return()}finally{if(s)throw l}}return 1===i.length?i[0]:i}},{key:"constructObject",value:function(t,e,n,r){var i=void 0,o=void 0;r?(o=!0,i=r):(o=!1,i=new b.a(this.drawLayer),void 0!==n&&""!==n||(n=t+"_"+i.id),i.type=t,i.name=n,e.group&&(i.group=e.group)),e=this.validateData(e,i);var a=void 0;switch(t){case y.a.POLYGON_SHAPE:a=this.constructPolygon(e,i);break;case y.a.DOT_2D:a=this.constructDot2D(e);break;case y.a.DOT_3D:a=this.constructDot3D(e);break;case y.a.LINE:var s=this.constructLine(e);o?r.object.add(s):a=s;break;case y.a.POLYGON_RING:a=this.constructPolygonRing(e);break;case y.a.PERSPECTIVE_LINE:a=this.constructPerspectiveLine(e);break;case y.a.PERSPECTIVE_LINE_PLANEXZ:a=this.constructPerspectiveLineXZ();break;case y.a.DASHED_LINE:a=this.constructDashedLine(e);break;case y.a.TEXT:a=this.constructText(e);break;case y.a.TEXT_2D:a=this.constructText2D(e);break;case y.a.BILLBOARD:a=this.constructBillboard(e,i,n);break;case y.a.GEOMETRY:a=this.constructGeometry(e,i,n);break;case y.a.EXTERNAL_GEOMETRY:this.constructExternalGeometry(e,i);break;case y.a.CROSSHAIR:a=this.constructCrosshair(e);break;default:return p.a.error("ElementFactory: Unsupported type: "+t),null}return a&&("renderOrder"in e&&(a.renderOrder=e.renderOrder),"Object3D"===a.type&&(i.nested=!0)),o?r:(i.name=n,a&&(a.name=n,i.object=a,i.id=a.id),null!==a&&this.drawLayer.elementManager.addElement(i),i)}},{key:"constructDot2D",value:function(t){var e=t.radius,n=t.thickness,r=t.outlineRadius,i=void 0,o=this.getBasicMaterial(t,1),a=[];if(0===r)n>0&&a.push(new v.Vector3(0,-n,0),new v.Vector3(e,-n,0)),a.push(new v.Vector3(e,0,0),new v.Vector3(0,0,0)),i=new v.Mesh(new v.LatheGeometry(a,45,0,2*Math.PI,"Y_AXIS"),o);else{i=new v.Object3D;var s=this.getBasicMaterial(t,1,!0);n>0&&a.push(new v.Vector3(e,-n,0),new v.Vector3(r,-n,0)),a.push(new v.Vector3(r,0,0),new v.Vector3(e,0,0));var u=new v.Mesh(new v.LatheGeometry(a,45,0,2*Math.PI,"Y_AXIS"),s);a[0].setX(e),a[1].setX(0);var l=new v.Mesh(new v.LatheGeometry(a,45,0,2*Math.PI,"Y_AXIS"),s);u.name=l.name=name,i.add(u),i.add(l)}return i.position.x=t.x,i.position.y=t.y,i.position.z=t.z,i}},{key:"constructDot3D",value:function(t){var e=t.radius,n=new v.Mesh(new v.SphereGeometry(e,20,20),this.getBasicMaterial(t));return n.position.x=t.x,n.position.y=t.y,n.position.z=t.z,n}},{key:"constructLine",value:function(t){var e=t.coordinates,n=t.color,r=t.opacity,i=t.transparent,o=t.lineWidth,a=e.length;(a<6||a%3!=0)&&p.a.error("Data line incorrect, must hold 3 coordinates and at least 6 numbers");for(var s=new v.Geometry,u=s.vertices,l=void 0,c=void 0,h=0;h<a;h+=3)l=new v.Vector3(e[h],e[h+1],e[h+2]),h>0&&u.push(c),u.push(l),c=l;return new v.Line(s,new v.LineBasicMaterial({color:n,opacity:r,transparent:i,linewidth:o}),v.LineSegments)}},{key:"constructPolygonRing",value:function(t){var e=t.coordinates,n=t.color,r=t.opacity,i=t.transparent,o=t.lineWidth,a=new v.Geometry,s=a.vertices,l=!0,c=!1,h=void 0;try{for(var f,d=u()(e);!(l=(f=d.next()).done);l=!0)for(var p=f.value,m=void 0,g=void 0,y=0;y<p.length;y++)m=new v.Vector3(p[y][0],p[y][1],p[y][2]),y>1&&s.push(g),s.push(m),y!==p.length-1&&(g=m)}catch(t){c=!0,h=t}finally{try{!l&&d.return&&d.return()}finally{if(c)throw h}}return new v.LineSegments(a,new v.LineBasicMaterial({color:n,opacity:r,transparent:i,linewidth:o}))}},{key:"constructPerspectiveLine",value:function(t){var e=t.coordinates,n=t.radius,r=t.outlineRadius,i=e.length;i<6&&p.a.error("Data line incorrect, must hold 2 coordinates and at least 3 numbers");for(var o=2*Math.PI/16,a=void 0,s=new v.Geometry,u=void 0,l=this.getBasicMaterial(t),c={material:1,steps:2},h=new v.SphereGeometry(n,16,16),f=new v.Shape,d=void 0,m=void 0,g=void 0,y=void 0,b=new v.Matrix4,w=0;w<16;++w)d=o*w,g=n*Math.cos(d),y=n*Math.sin(-d),0===w?f.moveTo(g,y):f.lineTo(g,y);for(var x=0;x<i-3;x+=3)m=[new v.Vector3(e[x],e[x+1],e[x+2]),new v.Vector3(e[x+3],e[x+4],e[x+5]+.001)],c.extrudePath=new v.SplineCurve3(m),u=new v.ExtrudeGeometry(f,c),b.identity(),b.setPosition(m[0]),u.merge(h,b),b.identity(),b.setPosition(m[1]),u.merge(h,b),s.merge(u),u.dispose();if(r>0){h.dispose(),f=new v.Shape;for(var _=0;_<16;++_)d=o*_,g=r*Math.cos(d),y=r*Math.sin(-d),0===_?f.moveTo(g,y):f.lineTo(g,y);h=new v.SphereGeometry(r,16,16);for(var E=new v.Geometry,M=0;M<i-3;M+=3)m=[new v.Vector3(e[M],e[M+1],e[M+2]),new v.Vector3(e[M+3],e[M+4],e[M+5]+.001)],c.extrudePath=new v.SplineCurve3(m),u=new v.ExtrudeGeometry(f,c),b.identity(),b.setPosition(m[0]),u.merge(h,b),b.identity(),b.setPosition(m[1]),u.merge(h,b),E.merge(u),u.dispose();a=new v.Object3D;var S=new v.Mesh(s,l),T=new v.Mesh(E,this.getBasicMaterial(t,2,!0));a.add(S),a.add(T),S.name=T.name=name}else h.dispose(),a=new v.Mesh(s,l);return a}},{key:"constructPerspectiveLineXZ",value:function(t){var e=t.coordinates,n=t.width,r=t.thickness,i=e.length;i<6&&p.a.error("Data line incorrect, must hold 2 coordinates and at least 3 numbers");var o=void 0;o=0===r?new v.LatheGeometry([new v.Vector3(-.5*n,0,0),new v.Vector3(0,0,0)],20,0,2*Math.PI,"Y_AXIS"):new v.LatheGeometry([new v.Vector3(-.5*n,-r,0),new v.Vector3(-.5*n,0,0),new v.Vector3(0,0,0)],20,0,2*Math.PI,"Y_AXIS");var a=new v.Geometry,s=void 0,u={material:1,steps:2},l=void 0,c=new v.Matrix4,h=new v.Shape,f=.5*n;h.moveTo(0,-f),h.lineTo(0,f),h.lineTo(r,f),h.lineTo(r,-f),h.lineTo(0,-f);for(var d=0;d<i-3;d+=3)l=[new v.Vector3(e[d],e[d+1],e[d+2]),new v.Vector3(e[d+3],e[d+4],e[d+5]+.001)],u.extrudePath=new v.SplineCurve3(l),s=new v.ExtrudeGeometry(h,u),c.identity(),c.setPosition(l[0]),s.merge(o,c),c.identity(),c.setPosition(l[1]),s.merge(o,c),a.merge(s),s.dispose();var m=new v.Mesh(a,this.getBasicMaterial(t,1));return m.name=name,m}},{key:"constructDashedLine",value:function(t){var e=t.coordinates,n=t.gap,r=void 0===n?10:n,i=t.dashLength,o=void 0===i?10:i,a=t.lineWidth,s=t.color,u=t.opacity,l=t.transparent,c=e.length;(c<6||c%3!=0)&&p.a.error("Data line incorrect, must hold 3 coordinates and at least 6 numbers");for(var h=new v.Geometry,f=void 0,d=void 0,m=new v.Vector3,g=void 0,y=0;y<e.length-3;y+=3)if(f=new v.Vector3(e[y],e[y+1],e[y+2]),d=new v.Vector3(e[y+3],e[y+4],e[y+5]),(g=f.distanceTo(d))<r+o)h.vertices.push(f,d);else{m.x=d.x-f.x,m.y=d.y-f.y,m.z=d.z-f.z,m.normalize();for(var b=new v.Vector3(f.x,f.y,f.z),w=void 0;g>o+r;)w=new v.Vector3(b.x+m.x*o,b.y+m.y*o,b.z+m.z*o),h.vertices.push(b,w),b=new v.Vector3(w.x+m.x*r,w.y+m.y*r,w.z+m.z*r),g=b.distanceTo(d);g>r&&h.vertices.push(b,d)}return new v.Line(h,new v.LineBasicMaterial({color:s,linewidth:a,opacity:u,transparent:l}),v.LinePieces)}},{key:"constructPolygon",value:function(t,e){var n=(t.isVector2D,t.coordinates),r=t.triangles,i=t.lineWidth,o=t.outlineColor,a=t.wireframeOpacity,s=void 0===a?0:a,l=t.group,c=void 0;if(r&&r.length>0&&n&&1===n.length){var h=[],f=!0,d=!1,p=void 0;try{for(var m,g=u()(n);!(f=(m=g.next()).done);f=!0){var b=m.value,w=!0,x=!1,_=void 0;try{for(var E,M=u()(b);!(w=(E=M.next()).done);w=!0){var S=E.value;h.push(S[0],S[1],S[2])}}catch(t){x=!0,_=t}finally{try{!w&&M.return&&M.return()}finally{if(x)throw _}}}}catch(t){d=!0,p=t}finally{try{!f&&g.return&&g.return()}finally{if(d)throw p}}for(var T=new v.BufferGeometry,C=new Float32Array(h),I=r.length,O=3*I,A=new Uint32Array(O),L=0,R=0;L<I;++L)A[R++]=r[L][0],A[R++]=r[L][1],A[R++]=r[L][2];T.setIndex(new v.BufferAttribute(A,1)),T.addAttribute("position",new v.BufferAttribute(C,3)),T.computeBoundingBox(),T.computeBoundingSphere();var N=new v.Mesh(T,this.getBasicMaterial(t,1));if(s>0){var P=N.material.clone();P.wireframe=!0,P.opacity=s,P.transparent=s<1,c=new v.Object3D,c.add(N),c.add(new v.Mesh(T,P))}else c=N}if(0!==i){var k={color:o,lineWidth:i,coordinates:n};l&&(k.group=l),this.constructObject(y.a.POLYGON_RING,k)}return c}},{key:"constructText",value:function(t){var e=t.height,n=t.size,r=t.text,i=t.cameraposition,o=new v.Mesh(new v.TextGeometry(r,{height:e,size:n}),new v.MeshFaceMaterial([new v.MeshPhongMaterial({color:16777215,shading:v.FlatShading}),new v.MeshPhongMaterial({color:16777215,shading:v.SmoothShading})]));return o.rotation.y=i.y,o.position.x=t.x,o.position.y=t.y,o.position.z=t.z,o}},{key:"constructText2D",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.text,n=t.fontface,r=void 0===n?"Arial":n,i=t.fontweight,o=void 0===i?"":i,a=t.fontsize,s=void 0===a?18:a,u=t.padding,l=void 0===u?.25:u,c=t.borderThickness,h=void 0===c?4:c,f=t.borderColor,d=void 0===f?{r:0,g:0,b:0,a:1}:f,p=t.backgroundColor,m=void 0===p?{r:255,g:255,b:255,a:1}:p,g=t.textColor,y=void 0===g?{r:0,g:0,b:0,a:1}:g,b=t.depthTest,w=void 0===b||b,x=document.createElement("canvas");x.width=64,x.height=64;var _=x.getContext("2d");_.font=s+"px "+r+" "+o;var E=_.measureText(e),M=E.width,S=.5*h,T=.5*h,C=M+2*l*s+h,I=(1+2*l)*s+h,O=s/4;_.fillStyle="rgba("+m.r+","+m.g+","+m.b+","+m.a+")",_.strokeStyle="rgba("+d.r+","+d.g+","+d.b+","+d.a+")",_.lineWidth=h,_.beginPath(),_.moveTo(S+O,T),_.lineTo(S+C-O,T),_.quadraticCurveTo(S+C,T,S+C,T+O),_.lineTo(S+C,T+I-O),_.quadraticCurveTo(S+C,T+I,S+C-O,T+I),_.lineTo(S+O,T+I),_.quadraticCurveTo(S,T+I,S,T+I-O),_.lineTo(S,T+O),_.quadraticCurveTo(S,T,S+O,T),_.closePath(),_.fill(),_.stroke(),_.fillStyle="rgba("+y.r+", "+y.g+", "+y.b+", 1.0)",_.fillText(e,h+l*s,(1+l)*s-h+.5);var A=new v.Texture(x);A.needsUpdate=!0;var L=new v.Geometry;return L.vertices.push(new v.Vector3(t.x,t.y,t.z)),new v.Points(L,new v.PointsMaterial({size:64,sizeAttenuation:!1,map:A,transparent:!0,alphaTest:.5,depthTest:w}))}},{key:"constructBillboard",value:function(t,e,n){var r=t.skin,i=t.uniformScale,o=void 0!==i&&i;if(void 0===r)return p.a.warn("no skin provided for "+y.a.BILLBOARD+", "+n),null;e.hasDependency=!0,e.uniformScale=o,void 0===e.scaleX&&(e.scaleX=10),void 0===e.scaleY&&(e.scaleY=10);var a=new v.Sprite({});return v.ImageUtils.loadTexture(r,void 0,function(n){if(e.hasDependency=!1,e.garbage)return void n.dispose();var r=new v.SpriteMaterial({map:n,useScreenCoordinates:e.uniformScale});r.depthTest=!1,a.material=r,a.position.set(t.x,t.y,t.z),e.uniformScale?a.scale.set(1,1,1):a.scale.set(t.scaleX,t.scaleY,1)}),a}},{key:"constructGeometry",value:function(t,e,n){var r=t.indices,i=t.vertices,o=t.uvs;if(void 0===r||void 0===i)return p.a.error("invalid geometry object for "+n),null;var a=r.length,s=new v.Geometry,u=void 0,l=void 0,c=void 0,h=void 0,f=void 0,d=void 0,m=void 0,g=void 0!==o;g||(h=new v.Vector2(0,0),f=new v.Vector2(.5,1),d=new v.Vector2(1,0));for(var y=0;y<a;y+=3)u=r[y],l=3*u,c=2*u,s.vertices.push(new v.Vector3(i[l],i[l+1],i[l+2])),g&&(c=2*u,h=new v.Vector2(o[c],o[c+1])),u=r[y+1],l=3*u,s.vertices.push(new v.Vector3(i[l],i[l+1],i[l+2])),g&&(c=2*u,f=new v.Vector2(o[c],o[c+1])),u=r[y+2],l=3*u,s.vertices.push(new v.Vector3(i[l],i[l+1],i[l+2])),g&&(c=2*u,d=new v.Vector2(o[c],o[c+1])),s.faceVertexUvs[0].push([f,h,d]),m=new v.Face3(r[y],r[y+1],u),s.faces.push(m);s.computeFaceNormals(),s.computeVertexNormals(),s.computeBoundingSphere(),s.computeBoundingBox();var b=this.getBasicMaterial(t);b.ambient=16777215,b.specular=16777215,b.shading=v.SmoothShading,b.shininess=1;var w=new v.Mesh(s,b);return w.name=n,this.setObjectTransforms(w,t),e.object=w,e.hasDependency=!1,w}},{key:"constructExternalGeometry",value:function(t,e){var n=this,r=t.url,i=t.color;e.hasDependency=!0,(new v.JSONLoader).load(r,function(r){var o=new v.MeshPhongMaterial({color:i,ambient:16777215,specular:16777215,shading:v.SmoothShading,shininess:1}),a=new v.Mesh(r,o);a.name=name,e.object=a,n.setObjectTransforms(a,t),e.hasDependency=!1,n.drawLayer.elementManager.addElement(e),o.needsUpdate=!0})}},{key:"constructCrosshair",value:function(t){var e=t.lineWidth,n=void 0===e?2:e,r={r:255,g:255,b:255,a:1},i=document.createElement("canvas");i.width=32,i.height=32;var o=i.getContext("2d");o.strokeStyle="rgba("+r.r+","+r.g+","+r.b+","+r.a+")",o.lineWidth=n,o.beginPath(),o.moveTo(15,0),o.lineTo(15,12),o.moveTo(0,15),o.lineTo(12,15),o.moveTo(19,15),o.lineTo(31,15),o.moveTo(15,19),o.lineTo(15,31),o.stroke();var a=new v.Texture(i);a.needsUpdate=!0;var s=new v.Geometry;return s.vertices.push(new v.Vector3(t.x,t.y,t.z)),new v.Points(s,new v.PointsMaterial({size:32,sizeAttenuation:!1,map:a,transparent:!0,alphaTest:.5}))}}]),t}();e.a=M},function(t,e,n){"use strict";function r(t,e){if(!Array.isArray(t))throw new Error("poly-to-pslg: Error, invalid polygon");if(0===t.length)return{points:[],edges:[]};e=e||{};var n=!0;"nested"in e?n=!!e.nested:2===t[0].length&&"number"==typeof t[0][0]&&(n=!1),n||(t=[t]);for(var r=[],o=[],a=0;a<t.length;++a)for(var s=t[a],u=r.length,l=0;l<s.length;++l)r.push(s[l]),o.push([u+l,u+(l+1)%s.length]);return("clean"in e||!!e.clean)&&i(r,o),{points:r,edges:o}}t.exports=r;var i=n(1015)},function(t,e,n){"use strict";function r(t){var e=x(t);return[E(e,-1/0),E(e,1/0)]}function i(t,e){for(var n=new Array(e.length),r=0;r<e.length;++r){var i=e[r],o=t[i[0]],a=t[i[1]];n[r]=[E(Math.min(o[0],a[0]),-1/0),E(Math.min(o[1],a[1]),-1/0),E(Math.max(o[0],a[0]),1/0),E(Math.max(o[1],a[1]),1/0)]}return n}function o(t){for(var e=new Array(t.length),n=0;n<t.length;++n){var r=t[n];e[n]=[E(r[0],-1/0),E(r[1],-1/0),E(r[0],1/0),E(r[1],1/0)]}return e}function a(t,e,n){var r=[];return v(n,function(n,i){var o=e[n],a=e[i];if(o[0]!==a[0]&&o[0]!==a[1]&&o[1]!==a[0]&&o[1]!==a[1]){var s=t[o[0]],u=t[o[1]],l=t[a[0]],c=t[a[1]];y(s,u,l,c)&&r.push([n,i])}}),r}function s(t,e,n,r){var i=[];return v(n,r,function(n,r){var o=e[n];if(o[0]!==r&&o[1]!==r){var a=t[r],s=t[o[0]],u=t[o[1]];y(s,u,a,a)&&i.push([n,r])}}),i}function u(t,e,n,r,i){var o,a,s=t.map(function(t){return[b(t[0]),b(t[1])]});for(o=0;o<n.length;++o){var u=n[o];a=u[0];var l=u[1],c=e[a],h=e[l],f=M(_(t[c[0]]),_(t[c[1]]),_(t[h[0]]),_(t[h[1]]));if(f){var d=t.length;t.push([x(f[0]),x(f[1])]),s.push(f),r.push([a,d],[l,d])}}for(r.sort(function(t,e){if(t[0]!==e[0])return t[0]-e[0];var n=s[t[1]],r=s[e[1]];return w(n[0],r[0])||w(n[1],r[1])}),o=r.length-1;o>=0;--o){var p=r[o];a=p[0];var m=e[a],g=m[0],v=m[1],y=t[g],E=t[v];if((y[0]-E[0]||y[1]-E[1])<0){var S=g;g=v,v=S}m[0]=g;var T,C=m[1]=p[1];for(i&&(T=m[2]);o>0&&r[o-1][0]===a;){var p=r[--o],I=p[1];i?e.push([C,I,T]):e.push([C,I]),C=I}i?e.push([C,v,T]):e.push([C,v])}return s}function l(t,e,n){for(var i=e.length,o=new g(i),a=[],s=0;s<e.length;++s){var u=e[s],l=r(u[0]),c=r(u[1]);a.push([E(l[0],-1/0),E(c[0],-1/0),E(l[1],1/0),E(c[1],1/0)])}v(a,function(t,e){o.link(t,e)});for(var h=!0,f=new Array(i),s=0;s<i;++s){var d=o.find(s);d!==s&&(h=!1,t[d]=[Math.min(t[s][0],t[d][0]),Math.min(t[s][1],t[d][1])])}if(h)return null;for(var p=0,s=0;s<i;++s){var d=o.find(s);d===s?(f[s]=p,t[p++]=t[s]):f[s]=-1}t.length=p;for(var s=0;s<i;++s)f[s]<0&&(f[s]=f[o.find(s)]);return f}function c(t,e){return t[0]-e[0]||t[1]-e[1]}function h(t,e){var n=t[0]-e[0]||t[1]-e[1];return n||(t[2]<e[2]?-1:t[2]>e[2]?1:0)}function f(t,e,n){if(0!==t.length){if(e)for(var r=0;r<t.length;++r){var i=t[r],o=e[i[0]],a=e[i[1]];i[0]=Math.min(o,a),i[1]=Math.max(o,a)}else for(var r=0;r<t.length;++r){var i=t[r],o=i[0],a=i[1];i[0]=Math.min(o,a),i[1]=Math.max(o,a)}n?t.sort(h):t.sort(c);for(var s=1,r=1;r<t.length;++r){var u=t[r-1],l=t[r];(l[0]!==u[0]||l[1]!==u[1]||n&&l[2]!==u[2])&&(t[s++]=l)}t.length=s}}function d(t,e,n){var r=l(t,[],o(t));return f(e,r,n),!!r}function p(t,e,n){var r=i(t,e),c=a(t,e,r),h=o(t),d=s(t,e,r,h),p=u(t,e,c,d,n),m=l(t,p,h);return f(e,m,n),!!m||(c.length>0||d.length>0)}function m(t,e,n){var r;if(n){r=e;for(var i=new Array(e.length),o=0;o<e.length;++o){var a=e[o];i[o]=[a[0],a[1],n[o]]}e=i}for(var s=d(t,e,!!n);p(t,e,!!n);)s=!0;if(n&&s){r.length=0,n.length=0;for(var o=0;o<e.length;++o){var a=e[o];r.push([a[0],a[1]]),n.push(a[2])}}return s}t.exports=m;var g=n(1016),v=n(1017),y=n(1026),b=n(337),w=n(1031),x=n(1032),_=n(1035),E=n(1036),M=n(1037)},function(t,e,n){"use strict";"use restrict";function r(t){this.roots=new Array(t),this.ranks=new Array(t);for(var e=0;e<t;++e)this.roots[e]=e,this.ranks[e]=0}t.exports=r;var i=r.prototype;Object.defineProperty(i,"length",{get:function(){return this.roots.length}}),i.makeSet=function(){var t=this.roots.length;return this.roots.push(t),this.ranks.push(0),t},i.find=function(t){for(var e=t,n=this.roots;n[t]!==t;)t=n[t];for(;n[e]!==t;){var r=n[e];n[e]=t,e=r}return t},i.link=function(t,e){var n=this.find(t),r=this.find(e);if(n!==r){var i=this.ranks,o=this.roots,a=i[n],s=i[r];a<s?o[n]=r:s<a?o[r]=n:(o[r]=n,++i[n])}}},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<t;++n)if(!(e[n]<=e[n+t]))return!0;return!1}function i(t,e,n,i){for(var o=0,a=0,s=0,u=t.length;s<u;++s){var l=t[s];if(!r(e,l)){for(var c=0;c<2*e;++c)n[o++]=l[c];i[a++]=s}}return a}function o(t,e,n,r){var o=t.length,a=e.length;if(!(o<=0||a<=0)){var s=t[0].length>>>1;if(!(s<=0)){var u,l=h.mallocDouble(2*s*o),c=h.mallocInt32(o);if((o=i(t,s,l,c))>0){if(1===s&&r)f.init(o),u=f.sweepComplete(s,n,0,o,l,c,0,o,l,c);else{var p=h.mallocDouble(2*s*a),m=h.mallocInt32(a);a=i(e,s,p,m),a>0&&(f.init(o+a),u=1===s?f.sweepBipartite(s,n,0,o,l,c,0,a,p,m):d(s,n,r,o,l,c,a,p,m),h.free(p),h.free(m))}h.free(l),h.free(c)}return u}}}function a(t,e){c.push([t,e])}function s(t){return c=[],o(t,t,a,!0),c}function u(t,e){return c=[],o(t,e,a,!1),c}function l(t,e,n){switch(arguments.length){case 1:return s(t);case 2:return"function"==typeof e?o(t,t,e,!0):u(t,e);case 3:return o(t,e,n,!1);default:throw new Error("box-intersect: Invalid arguments")}}t.exports=l;var c,h=n(335),f=n(470),d=n(1023)},function(t,e,n){"use strict";function r(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===t[e-2]?2:"="===t[e-1]?1:0}function i(t){return 3*t.length/4-r(t)}function o(t){var e,n,i,o,a,s=t.length;o=r(t),a=new h(3*s/4-o),n=o>0?s-4:s;var u=0;for(e=0;e<n;e+=4)i=c[t.charCodeAt(e)]<<18|c[t.charCodeAt(e+1)]<<12|c[t.charCodeAt(e+2)]<<6|c[t.charCodeAt(e+3)],a[u++]=i>>16&255,a[u++]=i>>8&255,a[u++]=255&i;return 2===o?(i=c[t.charCodeAt(e)]<<2|c[t.charCodeAt(e+1)]>>4,a[u++]=255&i):1===o&&(i=c[t.charCodeAt(e)]<<10|c[t.charCodeAt(e+1)]<<4|c[t.charCodeAt(e+2)]>>2,a[u++]=i>>8&255,a[u++]=255&i),a}function a(t){return l[t>>18&63]+l[t>>12&63]+l[t>>6&63]+l[63&t]}function s(t,e,n){for(var r,i=[],o=e;o<n;o+=3)r=(t[o]<<16)+(t[o+1]<<8)+t[o+2],i.push(a(r));return i.join("")}function u(t){for(var e,n=t.length,r=n%3,i="",o=[],a=0,u=n-r;a<u;a+=16383)o.push(s(t,a,a+16383>u?u:a+16383));return 1===r?(e=t[n-1],i+=l[e>>2],i+=l[e<<4&63],i+="=="):2===r&&(e=(t[n-2]<<8)+t[n-1],i+=l[e>>10],i+=l[e>>4&63],i+=l[e<<2&63],i+="="),o.push(i),o.join("")}e.byteLength=i,e.toByteArray=o,e.fromByteArray=u;for(var l=[],c=[],h="undefined"!=typeof Uint8Array?Uint8Array:Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=0,p=f.length;d<p;++d)l[d]=f[d],c[f.charCodeAt(d)]=d;c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,l=u>>1,c=-7,h=n?i-1:0,f=n?-1:1,d=t[e+h];for(h+=f,o=d&(1<<-c)-1,d>>=-c,c+=s;c>0;o=256*o+t[e+h],h+=f,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+t[e+h],h+=f,c-=8);if(0===o)o=1-l;else{if(o===u)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),o-=l}return(d?-1:1)*a*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var a,s,u,l=8*o-i-1,c=(1<<l)-1,h=c>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),e+=a+h>=1?f/u:f*Math.pow(2,1-h),e*u>=2&&(a++,u/=2),a+h>=c?(s=0,a=c):a+h>=1?(s=(e*u-1)*Math.pow(2,i),a+=h):(s=e*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;t[n+d]=255&s,d+=p,s/=256,i-=8);for(a=a<<i|s,l+=i;l>0;t[n+d]=255&a,d+=p,a/=256,l-=8);t[n+d-p]|=128*m}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){"use strict";function r(t,e,n){var i=0|t[n];if(i<=0)return[];var o,a=new Array(i);if(n===t.length-1)for(o=0;o<i;++o)a[o]=e;else for(o=0;o<i;++o)a[o]=r(t,e,n+1);return a}function i(t,e){var n,r;for(n=new Array(t),r=0;r<t;++r)n[r]=e;return n}function o(t,e){switch(void 0===e&&(e=0),typeof t){case"number":if(t>0)return i(0|t,e);break;case"object":if("number"==typeof t.length)return r(t,e,0)}return[]}t.exports=o},function(t,e,n){"use strict";function r(t,e){e<=4*f?i(0,e-1,t):h(0,e-1,t)}function i(t,e,n){for(var r=2*(t+1),i=t+1;i<=e;++i){for(var o=n[r++],a=n[r++],s=i,u=r-2;s-- >t;){var l=n[u-2],c=n[u-1];if(l<o)break;if(l===o&&c<a)break;n[u]=l,n[u+1]=c,u-=2}n[u]=o,n[u+1]=a}}function o(t,e,n){t*=2,e*=2;var r=n[t],i=n[t+1];n[t]=n[e],n[t+1]=n[e+1],n[e]=r,n[e+1]=i}function a(t,e,n){t*=2,e*=2,n[t]=n[e],n[t+1]=n[e+1]}function s(t,e,n,r){t*=2,e*=2,n*=2;var i=r[t],o=r[t+1];r[t]=r[e],r[t+1]=r[e+1],r[e]=r[n],r[e+1]=r[n+1],r[n]=i,r[n+1]=o}function u(t,e,n,r,i){t*=2,e*=2,i[t]=i[e],i[e]=n,i[t+1]=i[e+1],i[e+1]=r}function l(t,e,n){t*=2,e*=2;var r=n[t],i=n[e];return!(r<i)&&(r!==i||n[t+1]>n[e+1])}function c(t,e,n,r){t*=2;var i=r[t];return i<e||i===e&&r[t+1]<n}function h(t,e,n){var r=(e-t+1)/6|0,d=t+r,p=e-r,m=t+e>>1,g=m-r,v=m+r,y=d,b=g,w=m,x=v,_=p,E=t+1,M=e-1,S=0;l(y,b,n)&&(S=y,y=b,b=S),l(x,_,n)&&(S=x,x=_,_=S),l(y,w,n)&&(S=y,y=w,w=S),l(b,w,n)&&(S=b,b=w,w=S),l(y,x,n)&&(S=y,y=x,x=S),l(w,x,n)&&(S=w,w=x,x=S),l(b,_,n)&&(S=b,b=_,_=S),l(b,w,n)&&(S=b,b=w,w=S),l(x,_,n)&&(S=x,x=_,_=S);for(var T=n[2*b],C=n[2*b+1],I=n[2*x],O=n[2*x+1],A=2*y,L=2*w,R=2*_,N=2*d,P=2*m,k=2*p,D=0;D<2;++D){var F=n[A+D],j=n[L+D],U=n[R+D];n[N+D]=F,n[P+D]=j,n[k+D]=U}a(g,t,n),a(v,e,n);for(var B=E;B<=M;++B)if(c(B,T,C,n))B!==E&&o(B,E,n),++E;else if(!c(B,I,O,n))for(;;){if(c(M,I,O,n)){c(M,T,C,n)?(s(B,E,M,n),++E,--M):(o(B,M,n),--M);break}if(--M<B)break}u(t,E-1,T,C,n),u(e,M+1,I,O,n),E-2-t<=f?i(t,E-2,n):h(t,E-2,n),e-(M+2)<=f?i(M+2,e,n):h(M+2,e,n),M-E<=f?i(E,M,n):h(E,M,n)}t.exports=r;var f=32},function(t,e,n){"use strict";function r(t,e){var n=8*l.log2(e+1)*(t+1)|0,r=l.nextPow2(S*n);C.length<r&&(u.free(C),C=u.mallocInt32(r));var i=l.nextPow2(T*n);I<i&&(u.free(I),I=u.mallocDouble(i))}function i(t,e,n,r,i,o,a,s,u){var l=S*t;C[l]=e,C[l+1]=n,C[l+2]=r,C[l+3]=i,C[l+4]=o,C[l+5]=a;var c=T*t;I[c]=s,I[c+1]=u}function o(t,e,n,r,i,o,a,s,u,l,c){var h=2*t,f=u*h,d=l[f+e];t:for(var p=i,m=i*h;p<o;++p,m+=h){var g=a[m+e],v=a[m+e+t];if(!(d<g||v<d)&&(!r||d!==g)){for(var y=s[p],b=e+1;b<t;++b){var g=a[m+b],v=a[m+b+t],w=l[f+b],x=l[f+b+t];if(v<w||x<g)continue t}var _;if(void 0!==(_=r?n(c,y):n(y,c)))return _}}}function a(t,e,n,r,i,o,a,s,u,l){var c=2*t,h=s*c,f=u[h+e];t:for(var d=r,p=r*c;d<i;++d,p+=c){var m=a[d];if(m!==l){var g=o[p+e],v=o[p+e+t];if(!(f<g||v<f)){for(var y=e+1;y<t;++y){var g=o[p+y],v=o[p+y+t],b=u[h+y],w=u[h+y+t];if(v<b||w<g)continue t}var x=n(m,l);if(void 0!==x)return x}}}}function s(t,e,n,s,u,l,c,m,O){r(t,s+c);var A,L=0,R=2*t;for(i(L++,0,0,s,0,c,n?16:0,-1/0,1/0),n||i(L++,0,0,c,0,s,1,-1/0,1/0);L>0;){L-=1;var N=L*S,P=C[N],k=C[N+1],D=C[N+2],F=C[N+3],j=C[N+4],U=C[N+5],B=L*T,z=I[B],V=I[B+1],G=1&U,H=!!(16&U),q=u,W=l,Y=m,X=O;if(G&&(q=m,W=O,Y=u,X=l),!(2&U&&(D=x(t,P,k,D,q,W,V),k>=D)||4&U&&(k=_(t,P,k,D,q,W,z))>=D)){var Z=D-k,K=j-F;if(H){if(t*Z*(Z+K)<y){if(void 0!==(A=d.scanComplete(t,P,e,k,D,q,W,F,j,Y,X)))return A;continue}}else{if(t*Math.min(Z,K)<g){if(void 0!==(A=h(t,P,e,G,k,D,q,W,F,j,Y,X)))return A;continue}if(t*Z*K<v){if(void 0!==(A=d.scanBipartite(t,P,e,G,k,D,q,W,F,j,Y,X)))return A;continue}}var $=b(t,P,k,D,q,W,z,V);if(k<$)if(t*($-k)<g){if(void 0!==(A=f(t,P+1,e,k,$,q,W,F,j,Y,X)))return A}else if(P===t-2){if(void 0!==(A=G?d.sweepBipartite(t,e,F,j,Y,X,k,$,q,W):d.sweepBipartite(t,e,k,$,q,W,F,j,Y,X)))return A}else i(L++,P+1,k,$,F,j,G,-1/0,1/0),i(L++,P+1,F,j,k,$,1^G,-1/0,1/0);if($<D){var Q=p(t,P,F,j,Y,X),J=Y[R*Q+P],tt=w(t,P,Q,j,Y,X,J);if(tt<j&&i(L++,P,$,D,tt,j,(4|G)+(H?16:0),J,V),F<Q&&i(L++,P,$,D,F,Q,(2|G)+(H?16:0),z,J),Q+1===tt){if(void 0!==(A=H?a(t,P,e,$,D,q,W,Q,Y,X[Q]):o(t,P,e,G,$,D,q,W,Q,Y,X[Q])))return A}else if(Q<tt){var et;if(H){if(et=E(t,P,$,D,q,W,J),$<et){var nt=w(t,P,$,et,q,W,J);if(P===t-2){if($<nt&&void 0!==(A=d.sweepComplete(t,e,$,nt,q,W,Q,tt,Y,X)))return A;if(nt<et&&void 0!==(A=d.sweepBipartite(t,e,nt,et,q,W,Q,tt,Y,X)))return A}else $<nt&&i(L++,P+1,$,nt,Q,tt,16,-1/0,1/0),nt<et&&(i(L++,P+1,nt,et,Q,tt,0,-1/0,1/0),i(L++,P+1,Q,tt,nt,et,1,-1/0,1/0))}}else et=G?M(t,P,$,D,q,W,J):E(t,P,$,D,q,W,J),$<et&&(P===t-2?A=G?d.sweepBipartite(t,e,Q,tt,Y,X,$,et,q,W):d.sweepBipartite(t,e,$,et,q,W,Q,tt,Y,X):(i(L++,P+1,$,et,Q,tt,G,-1/0,1/0),i(L++,P+1,Q,tt,$,et,1^G,-1/0,1/0)))}}}}}t.exports=s;var u=n(335),l=n(243),c=n(1024),h=c.partial,f=c.full,d=n(470),p=n(1025),m=n(471),g=128,v=1<<22,y=1<<22,b=m("!(lo>=p0)&&!(p1>=hi)",["p0","p1"]),w=m("lo===p0",["p0"]),x=m("lo<p0",["p0"]),_=m("hi<=p0",["p0"]),E=m("lo<=p0&&p0<=hi",["p0"]),M=m("lo<p0&&p0<=hi",["p0"]),S=6,T=2,C=u.mallocInt32(1024),I=u.mallocDouble(1024)},function(t,e,n){"use strict";function r(t,e,n){var r="bruteForce"+(t?"Red":"Blue")+(e?"Flip":"")+(n?"Full":""),i=["function ",r,"(",_.join(),"){","var ",l,"=2*",o,";"],u="for(var i="+c+","+p+"="+l+"*"+c+";i<"+h+";++i,"+p+"+="+l+"){var x0="+f+"["+a+"+"+p+"],x1="+f+"["+a+"+"+p+"+"+o+"],xi="+d+"[i];",E="for(var j="+m+","+b+"="+l+"*"+m+";j<"+g+";++j,"+b+"+="+l+"){var y0="+v+"["+a+"+"+b+"],"+(n?"y1="+v+"["+a+"+"+b+"+"+o+"],":"")+"yi="+y+"[j];";return t?i.push(u,x,":",E):i.push(E,x,":",u),n?i.push("if(y1<x0||x1<y0)continue;"):e?i.push("if(y0<=x0||x1<y0)continue;"):i.push("if(y0<x0||x1<y0)continue;"),i.push("for(var k="+a+"+1;k<"+o+";++k){var r0="+f+"[k+"+p+"],r1="+f+"[k+"+o+"+"+p+"],b0="+v+"[k+"+b+"],b1="+v+"[k+"+o+"+"+b+"];if(r1<b0||b1<r0)continue "+x+";}var "+w+"="+s+"("),e?i.push("yi,xi"):i.push("xi,yi"),i.push(");if("+w+"!==void 0)return "+w+";}}}"),{name:r,code:i.join("")}}function i(t){function e(e,n){var o=r(e,n,t);i.push(o.code),a.push("return "+o.name+"("+_.join()+");")}var n="bruteForce"+(t?"Full":"Partial"),i=[],o=_.slice();t||o.splice(3,0,u);var a=["function "+n+"("+o.join()+"){"];a.push("if("+h+"-"+c+">"+g+"-"+m+"){"),t?(e(!0,!1),a.push("}else{"),e(!1,!1)):(a.push("if("+u+"){"),e(!0,!0),a.push("}else{"),e(!0,!1),a.push("}}else{if("+u+"){"),e(!1,!0),a.push("}else{"),e(!1,!1),a.push("}")),a.push("}}return "+n);var s=i.join("")+a.join("");return new Function(s)()}var o="d",a="ax",s="vv",u="fp",l="es",c="rs",h="re",f="rb",d="ri",p="rp",m="bs",g="be",v="bb",y="bi",b="bp",w="rv",x="Q",_=[o,a,s,c,h,f,d,m,g,v,y];e.partial=i(!1),e.full=i(!0)},function(t,e,n){"use strict";function r(t,e,n,r,i,o){for(var a=2*t,s=a*(n+1)+e,u=n+1;u<r;++u,s+=a)for(var l=i[s],c=u,h=a*(u-1);c>n&&i[h+e]>l;--c,h-=a){for(var f=h,d=h+a,p=0;p<a;++p,++f,++d){var m=i[f];i[f]=i[d],i[d]=m}var g=o[c];o[c]=o[c-1],o[c-1]=g}}function i(t,e,n,i,o,u){if(i<=n+1)return n;for(var l=n,c=i,h=i+n>>>1,f=2*t,d=h,p=o[f*h+e];l<c;){if(c-l<s){r(t,e,l,c,o,u),p=o[f*h+e];break}var m=c-l,g=Math.random()*m+l|0,v=o[f*g+e],y=Math.random()*m+l|0,b=o[f*y+e],w=Math.random()*m+l|0,x=o[f*w+e];v<=b?x>=b?(d=y,p=b):v>=x?(d=g,p=v):(d=w,p=x):b>=x?(d=y,p=b):x>=v?(d=g,p=v):(d=w,p=x);for(var _=f*(c-1),E=f*d,M=0;M<f;++M,++_,++E){var S=o[_];o[_]=o[E],o[E]=S}var T=u[c-1];u[c-1]=u[d],u[d]=T,d=a(t,e,l,c-1,o,u,p);for(var _=f*(c-1),E=f*d,M=0;M<f;++M,++_,++E){var S=o[_];o[_]=o[E],o[E]=S}var T=u[c-1];if(u[c-1]=u[d],u[d]=T,h<d){for(c=d-1;l<c&&o[f*(c-1)+e]===p;)c-=1;c+=1}else{if(!(d<h))break;for(l=d+1;l<c&&o[f*l+e]===p;)l+=1}}return a(t,e,n,h,o,u,o[f*h+e])}t.exports=i;var o=n(471),a=o("lo<p0",["p0"]),s=8},function(t,e,n){"use strict";function r(t,e,n,r){for(var i=0;i<2;++i){var o=t[i],a=e[i],s=Math.min(o,a),u=Math.max(o,a),l=n[i],c=r[i],h=Math.min(l,c);if(Math.max(l,c)<s||u<h)return!1}return!0}function i(t,e,n,i){var a=o(t,n,i),s=o(e,n,i);if(a>0&&s>0||a<0&&s<0)return!1;var u=o(n,t,e),l=o(i,t,e);return!(u>0&&l>0||u<0&&l<0)&&(0!==a||0!==s||0!==u||0!==l||r(t,e,n,i))}t.exports=i;var o=n(472)[3]},function(t,e,n){"use strict";function r(t,e,n){var r=t+e,i=r-t,o=r-i,a=e-i,s=t-o;return n?(n[0]=s+a,n[1]=r,n):[s+a,r]}t.exports=r},function(t,e,n){"use strict";function r(t){return Array.isArray(t)&&2===t.length&&i(t[0])&&i(t[1])}var i=n(476);t.exports=r},function(t,e){},function(t,e,n){"use strict";function r(t){return new i(t)}var i=n(244);t.exports=r},function(t,e,n){"use strict";function r(t,e){return t[0].mul(e[1]).cmp(e[0].mul(t[1]))}t.exports=r},function(t,e,n){"use strict";function r(t){var e=t[0],n=t[1];if(0===e.cmpn(0))return 0;var r=e.abs().divmod(n.abs()),a=r.div,s=i(a),u=r.mod,l=e.negative!==n.negative?-1:1;if(0===u.cmpn(0))return l*s;if(s){var c=o(s)+4,h=i(u.ushln(c).divRound(n));return l*(s+h*Math.pow(2,-c))}var f=n.bitLength()-u.bitLength()+53,h=i(u.ushln(f).divRound(n));return f<1023?l*h*Math.pow(2,-f):(h*=Math.pow(2,-1023),l*h*Math.pow(2,1023-f))}var i=n(1033),o=n(1034);t.exports=r},function(t,e,n){"use strict";function r(t){var e=t.length,n=t.words,r=0;if(1===e)r=n[0];else if(2===e)r=n[0]+67108864*n[1];else for(var o=0;o<e;o++){var a=n[o];r+=a*Math.pow(67108864,o)}return i(t)*r}var i=n(339);t.exports=r},function(t,e,n){"use strict";function r(t){var e=o(i.lo(t));if(e<32)return e;var n=o(i.hi(t));return n>20?52:n+32}var i=n(338),o=n(243).countTrailingZeros;t.exports=r},function(t,e,n){"use strict";function r(t){for(var e=new Array(t.length),n=0;n<t.length;++n)e[n]=i(t[n]);return e}t.exports=r;var i=n(337)},function(t,e,n){"use strict";function r(t,e){if(isNaN(t)||isNaN(e))return NaN;if(t===e)return t;if(0===t)return e<0?-o:o;var n=i.hi(t),r=i.lo(t);return e>t==t>0?r===a?(n+=1,r=0):r+=1:0===r?(r=a,n-=1):r-=1,i.pack(r,n)}var i=n(338),o=Math.pow(2,-1074),a=-1>>>0;t.exports=r},function(t,e,n){"use strict";function r(t,e){return s(o(t[0],e[1]),o(t[1],e[0]))}function i(t,e,n,i){var o=l(e,t),s=l(i,n),f=r(o,s);if(0===u(f))return null;var d=l(t,n),p=r(s,d),m=a(p,f),g=h(o,m);return c(t,g)}t.exports=i;var o=n(479),a=n(478),s=n(480),u=n(1038),l=n(1039),c=n(1040),h=n(1042)},function(t,e,n){"use strict";function r(t){return i(t[0])*i(t[1])}var i=n(339);t.exports=r},function(t,e,n){"use strict";function r(t,e){for(var n=t.length,r=new Array(n),o=0;o<n;++o)r[o]=i(t[o],e[o]);return r}var i=n(480);t.exports=r},function(t,e,n){"use strict";function r(t,e){for(var n=t.length,r=new Array(n),o=0;o<n;++o)r[o]=i(t[o],e[o]);return r}var i=n(1041);t.exports=r},function(t,e,n){"use strict";function r(t,e){return i(t[0].mul(e[1]).add(e[0].mul(t[1])),t[1].mul(e[1]))}var i=n(196);t.exports=r},function(t,e,n){"use strict";function r(t,e){for(var n=i(e),r=t.length,a=new Array(r),s=0;s<r;++s)a[s]=o(t[s],n);return a}var i=n(337),o=n(479);t.exports=r},function(t,e,n){"use strict";function r(t){return[Math.min(t[0],t[1]),Math.max(t[0],t[1])]}function i(t,e){return t[0]-e[0]||t[1]-e[1]}function o(t){return t.map(r).sort(i)}function a(t,e,n){return e in t?t[e]:n}function s(t,e,n){Array.isArray(e)?(n=n||{},e=e||[]):(n=e||{},e=[]);var r=!!a(n,"delaunay",!0),i=!!a(n,"interior",!0),s=!!a(n,"exterior",!0),f=!!a(n,"infinity",!1);if(!i&&!s||0===t.length)return[];var d=u(t,e);if(r||i!==s||f){for(var p=l(t.length,o(e)),m=0;m<d.length;++m){var g=d[m];p.addTriangle(g[0],g[1],g[2])}return r&&c(t,p),s?i?f?h(p,0,f):p.cells():h(p,1,f):h(p,-1)}return d}var u=n(1044),l=n(1045),c=n(1046),h=n(1048);t.exports=s},function(t,e,n){"use strict";function r(t,e,n,r,i){this.a=t,this.b=e,this.idx=n,this.lowerIds=r,this.upperIds=i}function i(t,e,n,r){this.a=t,this.b=e,this.type=n,this.idx=r}function o(t,e){var n=t.a[0]-e.a[0]||t.a[1]-e.a[1]||t.type-e.type;return n||(t.type!==p&&(n=d(t.a,t.b,e.b))?n:t.idx-e.idx)}function a(t,e){return d(t.a,t.b,e)}function s(t,e,n,r,i){for(var o=f.lt(e,r,a),s=f.gt(e,r,a),u=o;u<s;++u){for(var l=e[u],c=l.lowerIds,h=c.length;h>1&&d(n[c[h-2]],n[c[h-1]],r)>0;)t.push([c[h-1],c[h-2],i]),h-=1;c.length=h,c.push(i);for(var p=l.upperIds,h=p.length;h>1&&d(n[p[h-2]],n[p[h-1]],r)<0;)t.push([p[h-2],p[h-1],i]),h-=1;p.length=h,p.push(i)}}function u(t,e){var n;return(n=t.a[0]<e.a[0]?d(t.a,t.b,e.a):d(e.b,e.a,t.a))?n:(n=e.b[0]<t.b[0]?d(t.a,t.b,e.b):d(e.b,e.a,t.b))||t.idx-e.idx}function l(t,e,n){var i=f.le(t,n,u),o=t[i],a=o.upperIds,s=a[a.length-1];o.upperIds=[s],t.splice(i+1,0,new r(n.a,n.b,n.idx,[s],a))}function c(t,e,n){var r=n.a;n.a=n.b,n.b=r;var i=f.eq(t,n,u),o=t[i];t[i-1].upperIds=o.upperIds,t.splice(i,1)}function h(t,e){for(var n=t.length,a=e.length,u=[],h=0;h<n;++h)u.push(new i(t[h],null,p,h));for(var h=0;h<a;++h){var f=e[h],d=t[f[0]],v=t[f[1]];d[0]<v[0]?u.push(new i(d,v,g,h),new i(v,d,m,h)):d[0]>v[0]&&u.push(new i(v,d,g,h),new i(d,v,m,h))}u.sort(o);for(var y=u[0].a[0]-(1+Math.abs(u[0].a[0]))*Math.pow(2,-52),b=[new r([y,1],[y,0],-1,[],[],[],[])],w=[],h=0,x=u.length;h<x;++h){var _=u[h],E=_.type;E===p?s(w,b,t,_.a,_.idx):E===g?l(b,t,_):c(b,t,_)}return w}var f=n(245),d=n(472)[3],p=0,m=1,g=2;t.exports=h},function(t,e,n){"use strict";function r(t,e){this.stars=t,this.edges=e}function i(t,e,n){for(var r=1,i=t.length;r<i;r+=2)if(t[r-1]===e&&t[r]===n)return t[r-1]=t[i-2],t[r]=t[i-1],void(t.length=i-2)}function o(t,e){for(var n=new Array(t),i=0;i<t;++i)n[i]=[];return new r(n,e)}var a=n(245);t.exports=o;var s=r.prototype;s.isConstraint=function(){function t(t,e){return t[0]-e[0]||t[1]-e[1]}var e=[0,0];return function(n,r){return e[0]=Math.min(n,r),e[1]=Math.max(n,r),a.eq(this.edges,e,t)>=0}}(),s.removeTriangle=function(t,e,n){var r=this.stars;i(r[t],e,n),i(r[e],n,t),i(r[n],t,e)},s.addTriangle=function(t,e,n){var r=this.stars;r[t].push(e,n),r[e].push(n,t),r[n].push(t,e)},s.opposite=function(t,e){for(var n=this.stars[e],r=1,i=n.length;r<i;r+=2)if(n[r]===t)return n[r-1];return-1},s.flip=function(t,e){var n=this.opposite(t,e),r=this.opposite(e,t);this.removeTriangle(t,e,n),this.removeTriangle(e,t,r),this.addTriangle(t,r,n),this.addTriangle(e,n,r)},s.edges=function(){for(var t=this.stars,e=[],n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,a=i.length;o<a;o+=2)e.push([i[o],i[o+1]]);return e},s.cells=function(){for(var t=this.stars,e=[],n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,a=i.length;o<a;o+=2){var s=i[o],u=i[o+1];n<Math.min(s,u)&&e.push([n,s,u])}return e}},function(t,e,n){"use strict";function r(t,e,n,r,i,a){var s=e.opposite(r,i);if(!(s<0)){if(i<r){var u=r;r=i,i=u,u=a,a=s,s=u}e.isConstraint(r,i)||o(t[r],t[i],t[a],t[s])<0&&n.push(r,i)}}function i(t,e){for(var n=[],i=t.length,a=e.stars,s=0;s<i;++s)for(var u=a[s],l=1;l<u.length;l+=2){var c=u[l];if(!(c<s)&&!e.isConstraint(s,c)){for(var h=u[l-1],f=-1,d=1;d<u.length;d+=2)if(u[d-1]===c){f=u[d];break}f<0||o(t[s],t[c],t[h],t[f])<0&&n.push(s,c)}}for(;n.length>0;){for(var c=n.pop(),s=n.pop(),h=-1,f=-1,u=a[s],p=1;p<u.length;p+=2){var m=u[p-1],g=u[p];m===c?f=g:g===c&&(h=m)}h<0||f<0||(o(t[s],t[c],t[h],t[f])>=0||(e.flip(s,c),r(t,e,n,h,s,f),r(t,e,n,s,f,h),r(t,e,n,f,c,h),r(t,e,n,c,h,f)))}}var o=n(1047)[4];n(245);t.exports=i},function(t,e,n){"use strict";function r(t,e){for(var n=new Array(t.length-1),r=1;r<t.length;++r)for(var i=n[r-1]=new Array(t.length-1),o=0,a=0;o<t.length;++o)o!==e&&(i[a++]=t[r][o]);return n}function i(t){for(var e=new Array(t),n=0;n<t;++n){e[n]=new Array(t);for(var r=0;r<t;++r)e[n][r]=["m",r,"[",t-n-2,"]"].join("")}return e}function o(t){if(1===t.length)return t[0];if(2===t.length)return["sum(",t[0],",",t[1],")"].join("");var e=t.length>>1;return["sum(",o(t.slice(0,e)),",",o(t.slice(e)),")"].join("")}function a(t,e){if("m"===t.charAt(0)){if("w"===e.charAt(0)){var n=t.split("[");return["w",e.substr(1),"m",n[0].substr(1)].join("")}return["prod(",t,",",e,")"].join("")}return a(e,t)}function s(t){return!0&t?"-":""}function u(t){if(2===t.length)return[["diff(",a(t[0][0],t[1][1]),",",a(t[1][0],t[0][1]),")"].join("")];for(var e=[],n=0;n<t.length;++n)e.push(["scale(",o(u(r(t,n))),",",s(n),t[0][n],")"].join(""));return e}function l(t,e){for(var n=[],r=0;r<e-2;++r)n.push(["prod(m",t,"[",r,"],m",t,"[",r,"])"].join(""));return o(n)}function c(t){for(var e=[],n=[],a=i(t),s=0;s<t;++s)a[0][s]="1",a[t-1][s]="w"+s;for(var s=0;s<t;++s)0==(1&s)?e.push.apply(e,u(r(a,s))):n.push.apply(n,u(r(a,s)));for(var c=o(e),h=o(n),f="exactInSphere"+t,d=[],s=0;s<t;++s)d.push("m"+s);for(var p=["function ",f,"(",d.join(),"){"],s=0;s<t;++s){p.push("var w",s,"=",l(s,t),";");for(var b=0;b<t;++b)b!==s&&p.push("var w",s,"m",b,"=scale(w",s,",m",b,"[0]);")}return p.push("var p=",c,",n=",h,",d=diff(p,n);return d[d.length-1];}return ",f),new Function("sum","diff","prod","scale",p.join(""))(g,v,m,y)}function h(){return 0}function f(){return 0}function d(){return 0}function p(t){var e=w[t.length];return e||(e=w[t.length]=c(t.length)),e.apply(void 0,t)}var m=n(336),g=n(473),v=n(475),y=n(474),b=6,w=[h,f,d];!function(){for(;w.length<=b;)w.push(c(w.length));for(var e=[],n=["slow"],r=0;r<=b;++r)e.push("a"+r),n.push("o"+r);for(var i=["function testInSphere(",e.join(),"){switch(arguments.length){case 0:case 1:return 0;"],r=2;r<=b;++r)i.push("case ",r,":return o",r,"(",e.slice(0,r).join(),");");i.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return testInSphere"),n.push(i.join(""));var o=Function.apply(void 0,n);t.exports=o.apply(void 0,[p].concat(w));for(var r=0;r<=b;++r)t.exports[r]=w[r]}()},function(t,e,n){"use strict";function r(t,e,n,r,i,o,a){this.cells=t,this.neighbor=e,this.flags=r,this.constraint=n,this.active=i,this.next=o,this.boundary=a}function i(t,e){return t[0]-e[0]||t[1]-e[1]||t[2]-e[2]}function o(t,e){for(var n=t.cells(),o=n.length,a=0;a<o;++a){var s=n[a],u=s[0],l=s[1],c=s[2];l<c?l<u&&(s[0]=l,s[1]=c,s[2]=u):c<u&&(s[0]=c,s[1]=u,s[2]=l)}n.sort(i);for(var h=new Array(o),a=0;a<h.length;++a)h[a]=0;var f=[],d=[],p=new Array(3*o),m=new Array(3*o),g=null;e&&(g=[]);for(var v=new r(n,p,m,h,f,d,g),a=0;a<o;++a)for(var s=n[a],y=0;y<3;++y){var u=s[y],l=s[(y+1)%3],b=p[3*a+y]=v.locate(l,u,t.opposite(l,u)),w=m[3*a+y]=t.isConstraint(u,l);b<0&&(w?d.push(a):(f.push(a),h[a]=1),e&&g.push([l,u,-1]))}return v}function a(t,e,n){for(var r=0,i=0;i<t.length;++i)e[i]===n&&(t[r++]=t[i]);return t.length=r,t}function s(t,e,n){var r=o(t,n);if(0===e)return n?r.cells.concat(r.boundary):r.cells;for(var i=1,s=r.active,u=r.next,l=r.flags,c=r.cells,h=r.constraint,f=r.neighbor;s.length>0||u.length>0;){for(;s.length>0;){var d=s.pop();if(l[d]!==-i){l[d]=i;for(var p=(c[d],0);p<3;++p){var m=f[3*d+p];m>=0&&0===l[m]&&(h[3*d+p]?u.push(m):(s.push(m),l[m]=i))}}}var g=u;u=s,s=g,u.length=0,i=-i}var v=a(c,l,e);return n?v.concat(r.boundary):v}var u=n(245);t.exports=s,r.prototype.locate=function(){var t=[0,0,0];return function(e,n,r){var o=e,a=n,s=r;return n<r?n<e&&(o=n,a=r,s=e):r<e&&(o=r,a=e,s=n),o<0?-1:(t[0]=o,t[1]=a,t[2]=s,u.eq(this.cells,t,i))}}()},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(1),o=n.n(i),a=n(106),s=(n.n(a),function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),o()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}()),u=function(){function t(e){r(this,t),this.drawLayer=e,this.mouseX=null,this.mouseY=null,this.raycaster=new a.Raycaster,this.raycaster.linePrecision=3,this.raycaster.near=1,this.raycaster.far=1e4,this.dirVector=new a.Vector3(0,0,1),this.mouseOverPool=[],this.mouseOutPool=[],this.mouseDownPool=[],this.mouseUpPool=[],this.mouseOverPoolCB=[],this.mouseDownPoolCB=[]}return s(t,[{key:"destroy",value:function(){this.raycaster=void 0,this.drawLayer=void 0}},{key:"reset",value:function(){this.mouseOverPool=[],this.mouseOutPool=[],this.mouseDownPool=[],this.mouseUpPool=[]}},{key:"registerElement",value:function(t){var e=void 0;if(void 0!==t.onMouseOver&&null!==t.onMouseOver){if(t.object!==t.name&&(t.object.name=t.name),t.nested)for(e=0;e<t.object.children.length;e++)this.mouseOverPool.push(t.object.children[e]);else this.mouseOverPool.push(t.object);this.mouseOverPoolCB[t.name]=t}if(void 0!==t.onMouseDown&&null!==t.onMouseDown){if(t.object!==t.name&&(t.object.name=t.name),t.nested)for(e=0;e<t.object.children.length;e++)this.mouseDownPool.push(t.object.children[e]);else this.mouseDownPool.push(t.object);this.mouseDownPoolCB[t.name]=t}}},{key:"unregisterElement",value:function(t){var e=void 0,n=void 0,r=t.nested;if(this.mouseOverPoolCB[t.name]){for(e=0;e<this.mouseOverPool.length;e++)if(r)for(n=0;n<t.object.children.length;n++)this.mouseOverPool[e]===t.object.children[n]&&(this.mouseOverPool.splice(e,1),e--);else if(this.mouseOverPool[e]===t.object){this.mouseOverPool.splice(e,1);break}this.mouseOverPoolCB[t.name]=null,this.mouseOutPool.length>0&&this.mouseOutPool[0]===t&&this.mouseOutPool.shift()}if(this.mouseDownPoolCB[t.name]){for(e=0;e<this.mouseDownPool.length;e++)if(r)for(n=0;n<t.object.children.length;n++)this.mouseDownPool[e]===t.object.children[n]&&(this.mouseDownPool.splice(e,1),e--);else if(this.mouseDownPool[e]===t.object){this.mouseDownPool.splice(e,1);break}this.mouseDownPoolCB[t.name]=null,this.mouseUpPool.length>0&&this.mouseUpPool[0]===t&&this.mouseUpPool.shift()}}},{key:"updateMouseMove",value:function(t,e){0!==this.mouseOverPool.length&&(this.setRay(t,e),this.intersectObjects(this.mouseOverPool,0))}},{key:"updateMouseDown",value:function(t,e){var n=CM.El.getPagePos(e);n.x=t.pageX-n.x,n.y=t.pageY-n.y,this.mouseDown=n,this.isDrag=!1,0!==this.mouseDownPool.length&&(this.setRay(t,e),this.intersectObjects(this.mouseDownPool,1))}},{key:"updateMouseUp",value:function(t,e){var n=CM.El.getPagePos(e);if(n.x=t.pageX-n.x,n.y=t.pageY-n.y,this.isDrag=this.mouseDown&&(Math.abs(n.x-this.mouseDown.x)>3||Math.abs(n.y-this.mouseDown.y)>3),0!==this.mouseUpPool.length){var r=this.mouseUpPool.shift();r.onMouseUp(r.object)}}},{key:"setRay",value:function(t,e){this.mouseX=t.layerX/e.width*2-1,this.mouseY=-t.layerY/e.height*2+1,this.dirVector.x=this.mouseX,this.dirVector.y=this.mouseY,this.dirVector.z=1,this.dirVector.unproject(this.drawLayer.camera),this.raycaster.set(this.drawLayer.camera.position,this.dirVector.sub(this.drawLayer.position).normalize())}},{key:"intersectObjects",value:function(t,e){var n=this.raycaster.intersectObjects(t,!1),r=void 0;if(n.length>0){var i=n[0].object;if(0===e){if(!(r=this.mouseOverPoolCB[i.name]))return;r.nested?r.onMouseOver(r.object.children[0]):r.onMouseOver(r.object),void 0!==r.onMouseOut&&this.mouseOutPool.push(r)}else if(1===e){if(!(r=this.mouseDownPoolCB[i.name]))return;r.nested?r.onMouseDown(r.object.children[0]):r.onMouseDown(r.object),void 0!==r.onMouseUp&&this.mouseUpPool.push(r)}}else if(0===e&&this.mouseOutPool.length>0){if(!(r=this.mouseOutPool.shift())||!r.object)return;r.nested?r.onMouseOut(r.object.children[0]):r.onMouseOut(r.object)}}}]),t}();e.a=u},function(t,e,n){function r(t){return i(2,t)}var i=n(1051);t.exports=r},function(t,e,n){function r(t,e){var n;if("function"!=typeof e)throw new TypeError(o);return t=i(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=void 0),n}}var i=n(483),o="Expected a function";t.exports=r},function(t,e,n){function r(t){if(!t)return 0===t?t:0;if((t=i(t))===o||t===-o){return(t<0?-1:1)*a}return t===t?t:0}var i=n(1053),o=1/0,a=1.7976931348623157e308;t.exports=r},function(t,e,n){function r(t){if("number"==typeof t)return t;if(o(t))return a;if(i(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=i(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(s,"");var n=l.test(t);return n||c.test(t)?h(t.slice(2),n?2:8):u.test(t)?a:+t}var i=n(193),o=n(342),a=NaN,s=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,c=/^0o[0-7]+$/i,h=parseInt;t.exports=r},function(t,e,n){var r=n(1055),i=n(1060),o=n(1061),a=n(1062),s=n(1063),u=n(136),l=n(485),c=l(r),h=l(i),f=l(o),d=l(a),p=l(s),m=u;(r&&"[object DataView]"!=m(new r(new ArrayBuffer(1)))||i&&"[object Map]"!=m(new i)||o&&"[object Promise]"!=m(o.resolve())||a&&"[object Set]"!=m(new a)||s&&"[object WeakMap]"!=m(new s))&&(m=function(t){var e=u(t),n="[object Object]"==e?t.constructor:void 0,r=n?l(n):"";if(r)switch(r){case c:return"[object DataView]";case h:return"[object Map]";case f:return"[object Promise]";case d:return"[object Set]";case p:return"[object WeakMap]"}return e}),t.exports=m},function(t,e,n){var r=n(166),i=n(116),o=r(i,"DataView");t.exports=o},function(t,e,n){function r(t){return!(!a(t)||o(t))&&(i(t)?p:l).test(s(t))}var i=n(115),o=n(1057),a=n(193),s=n(485),u=/[\\^$.*+?()[\]{}|]/g,l=/^\[object .+?Constructor\]$/,c=Function.prototype,h=Object.prototype,f=c.toString,d=h.hasOwnProperty,p=RegExp("^"+f.call(d).replace(u,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=r},function(t,e,n){function r(t){return!!o&&o in t}var i=n(1058),o=function(){var t=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();t.exports=r},function(t,e,n){var r=n(116),i=r["__core-js_shared__"];t.exports=i},function(t,e){function n(t,e){return null==t?void 0:t[e]}t.exports=n},function(t,e,n){var r=n(166),i=n(116),o=r(i,"Map");t.exports=o},function(t,e,n){var r=n(166),i=n(116),o=r(i,"Promise");t.exports=o},function(t,e,n){var r=n(166),i=n(116),o=r(i,"Set");t.exports=o},function(t,e,n){var r=n(166),i=n(116),o=r(i,"WeakMap");t.exports=o},function(t,e,n){var r=n(486),i=n(1065),o=n(1066),a=n(165),s=n(328),u=n(194),l=Object.prototype,c=l.hasOwnProperty,h=o(function(t,e){if(s(e)||a(e))return void i(e,u(e),t);for(var n in e)c.call(e,n)&&r(t,n,e[n])});t.exports=h},function(t,e,n){function r(t,e,n,r){var a=!n;n||(n={});for(var s=-1,u=e.length;++s<u;){var l=e[s],c=r?r(n[l],t[l],l,n,t):void 0;void 0===c&&(c=t[l]),a?o(n,l,c):i(n,l,c)}return n}var i=n(486),o=n(487);t.exports=r},function(t,e,n){function r(t){return i(function(e,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(a=t.length>3&&"function"==typeof a?(i--,a):void 0,s&&o(n[0],n[1],s)&&(a=i<3?void 0:a,i=1),e=Object(e);++r<i;){var u=n[r];u&&t(e,u,r,a)}return e})}var i=n(1067),o=n(1074);t.exports=r},function(t,e,n){function r(t,e){return a(o(t,e,i),t+"")}var i=n(167),o=n(1068),a=n(1070);t.exports=r},function(t,e,n){function r(t,e,n){return e=o(void 0===e?t.length-1:e,0),function(){for(var r=arguments,a=-1,s=o(r.length-e,0),u=Array(s);++a<s;)u[a]=r[e+a];a=-1;for(var l=Array(e+1);++a<e;)l[a]=r[a];return l[e]=n(u),i(t,this,l)}}var i=n(1069),o=Math.max;t.exports=r},function(t,e){function n(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}t.exports=n},function(t,e,n){var r=n(1071),i=n(1073),o=i(r);t.exports=o},function(t,e,n){var r=n(1072),i=n(488),o=n(167),a=i?function(t,e){return i(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:o;t.exports=a},function(t,e){function n(t){return function(){return t}}t.exports=n},function(t,e){function n(t){var e=0,n=0;return function(){var a=o(),s=i-(a-n);if(n=a,s>0){if(++e>=r)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var r=800,i=16,o=Date.now;t.exports=n},function(t,e,n){function r(t,e,n){if(!s(n))return!1;var r=typeof e;return!!("number"==r?o(n)&&a(e,n.length):"string"==r&&e in n)&&i(n[e],t)}var i=n(489),o=n(165),a=n(451),s=n(193);t.exports=r},function(t,e,n){function r(t,e){return(s(t)?i:o)(t,a(e))}var i=n(447),o=n(1076),a=n(1081),s=n(163);t.exports=r},function(t,e,n){var r=n(1077),i=n(1080),o=i(r);t.exports=o},function(t,e,n){function r(t,e){return t&&i(t,e,o)}var i=n(1078),o=n(194);t.exports=r},function(t,e,n){var r=n(1079),i=r();t.exports=i},function(t,e){function n(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var u=a[t?s:++i];if(!1===n(o[u],u,o))break}return e}}t.exports=n},function(t,e,n){function r(t,e){return function(n,r){if(null==n)return n;if(!i(n))return t(n,r);for(var o=n.length,a=e?o:-1,s=Object(n);(e?a--:++a<o)&&!1!==r(s[a],a,s););return n}}var i=n(165);t.exports=r},function(t,e,n){function r(t){return"function"==typeof t?t:i}var i=n(167);t.exports=r},function(t,e,n){var r=n(1083),i=/\s+/;e.triggerEvents=function(t,e){var n,r=-1,i=t.length,o=e[0],a=e[1],s=e[2];switch(e.length){case 0:for(;++r<i;)(n=t[r]).callback.call(n.ctx);return;case 1:for(;++r<i;)(n=t[r]).callback.call(n.ctx,o);return;case 2:for(;++r<i;)(n=t[r]).callback.call(n.ctx,o,a);return;case 3:for(;++r<i;)(n=t[r]).callback.call(n.ctx,o,a,s);return;default:for(;++r<i;)(n=t[r]).callback.apply(n.ctx,e);return}},e.eventsApi=function(t,e,n,r){if(!n)return!0;if("object"==typeof n){for(var o in n)t[e].apply(t,[o,n[o]].concat(r));return!1}if(i.test(n)){for(var a=n.split(i),s=0,u=a.length;s<u;s++)t[e].apply(t,[a[s]].concat(r));return!1}return!0},e.createListenMethod=function(t){return function(e,n,i){if(!e)throw new Error("Trying to listenTo event: '"+n+"' but the target object is undefined");if((this._listeningTo||(this._listeningTo={}))[e._listenId||(e._listenId=r("l"))]=e,i||"object"!=typeof n||(i=this),"function"!=typeof e[t])throw new Error("Trying to listenTo event: '"+n+"' on object: "+e.toString()+" but it does not have an 'on' method so is unbindable");return e[t](n,i,this),this}}},function(t,e,n){function r(t){var e=++o;return i(t)+e}var i=n(490),o=0;t.exports=r},function(t,e,n){function r(t){if("string"==typeof t)return t;if(a(t))return o(t,r)+"";if(s(t))return c?c.call(t):"";var e=t+"";return"0"==e&&1/t==-u?"-0":e}var i=n(327),o=n(491),a=n(163),s=n(342),u=1/0,l=i?i.prototype:void 0,c=l?l.toString:void 0;t.exports=r},function(t,e){try{var n=new window.CustomEvent("test");if(n.preventDefault(),!0!==n.defaultPrevented)throw new Error("Could not prevent default")}catch(t){var r=function(t,e){var n,r;return e=e||{bubbles:!1,cancelable:!1,detail:void 0},n=document.createEvent("CustomEvent"),n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),r=n.preventDefault,n.preventDefault=function(){r.call(this);try{Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})}catch(t){this.defaultPrevented=!0}},n};r.prototype=window.Event.prototype,window.CustomEvent=r}},function(t,e,n){"use strict";var r=n(1087),i=n.n(r),o=n(80),a=n.n(o),s=n(5),u=n.n(s);!function(){function t(t,e){e=e||u()(null);var n=document.createEvent("Event");n.initEvent(t,e.bubbles||!1,e.cancelable||!1);for(var r,i=2;i<f.length;i++)r=f[i],n[r]=e[r]||d[i];n.buttons=e.buttons||0;var o=0;return o=e.pressure&&n.buttons?e.pressure:n.buttons?.5:0,n.x=n.clientX,n.y=n.clientY,n.pointerId=e.pointerId||0,n.width=e.width||0,n.height=e.height||0,n.pressure=o,n.tiltX=e.tiltX||0,n.tiltY=e.tiltY||0,n.pointerType=e.pointerType||"",n.hwTimestamp=e.hwTimestamp||0,n.isPrimary=e.isPrimary||!1,n}function e(){this.array=[],this.size=0}function n(t,e,n,r){this.addCallback=t.bind(r),this.removeCallback=e.bind(r),this.changedCallback=n.bind(r),T&&(this.observer=new T(this.mutationWatcher.bind(this)))}function r(t){return"body /shadow-deep/ "+o(t)}function o(t){return'[data-touch-action="'+t+'"]'}function s(t){return"{ -ms-touch-action: "+t+"; touch-action: "+t+"; }"}function l(t){if(!w.pointermap.has(t)){var e=new Error("InvalidPointerId");throw e.name="InvalidPointerId",e}}function c(t){if(!t.ownerDocument.contains(t)){var e=new Error("InvalidStateError");throw e.name="InvalidStateError",e}}function h(t){return 0!==w.pointermap.get(t).buttons}var f=["bubbles","cancelable","view","detail","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","pageX","pageY"],d=[!1,!1,null,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0],p=window.Map&&window.Map.prototype.forEach,m=p?a.a:e;e.prototype={set:function(t,e){if(void 0===e)return this.delete(t);this.has(t)||this.size++,this.array[t]=e},has:function(t){return void 0!==this.array[t]},delete:function(t){this.has(t)&&(delete this.array[t],this.size--)},get:function(t){return this.array[t]},clear:function(){this.array.length=0,this.size=0},forEach:function(t,e){return this.array.forEach(function(n,r){t.call(e,n,r,this)},this)}};var g=["bubbles","cancelable","view","detail","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","buttons","pointerId","width","height","pressure","tiltX","tiltY","pointerType","hwTimestamp","isPrimary","type","target","currentTarget","which","pageX","pageY","timeStamp"],v=[!1,!1,null,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0,0,0,0,0,0,"",0,!1,"",null,null,0,0,0,0],y={pointerover:1,pointerout:1,pointerenter:1,pointerleave:1},b="undefined"!=typeof SVGElementInstance,w={pointermap:new m,eventMap:u()(null),captureInfo:u()(null),eventSources:u()(null),eventSourceList:[],registerSource:function(t,e){var n=e,r=n.events;r&&(r.forEach(function(t){n[t]&&(this.eventMap[t]=n[t].bind(n))},this),this.eventSources[t]=n,this.eventSourceList.push(n))},register:function(t){for(var e,n=this.eventSourceList.length,r=0;r<n&&(e=this.eventSourceList[r]);r++)e.register.call(e,t)},unregister:function(t){for(var e,n=this.eventSourceList.length,r=0;r<n&&(e=this.eventSourceList[r]);r++)e.unregister.call(e,t)},contains:function(t,e){try{return t.contains(e)}catch(t){return!1}},down:function(t){t.bubbles=!0,this.fireEvent("pointerdown",t)},move:function(t){t.bubbles=!0,this.fireEvent("pointermove",t)},up:function(t){t.bubbles=!0,this.fireEvent("pointerup",t)},enter:function(t){t.bubbles=!1,this.fireEvent("pointerenter",t)},leave:function(t){t.bubbles=!1,this.fireEvent("pointerleave",t)},over:function(t){t.bubbles=!0,this.fireEvent("pointerover",t)},out:function(t){t.bubbles=!0,this.fireEvent("pointerout",t)},cancel:function(t){t.bubbles=!0,this.fireEvent("pointercancel",t)},leaveOut:function(t){this.out(t),this.propagate(t,this.leave,!1)},enterOver:function(t){this.over(t),this.propagate(t,this.enter,!0)},eventHandler:function(t){if(!t._handledByPE){var e=t.type,n=this.eventMap&&this.eventMap[e];n&&n(t),t._handledByPE=!0}},listen:function(t,e){e.forEach(function(e){this.addEvent(t,e)},this)},unlisten:function(t,e){e.forEach(function(e){this.removeEvent(t,e)},this)},addEvent:function(t,e){t.addEventListener(e,this.boundHandler)},removeEvent:function(t,e){t.removeEventListener(e,this.boundHandler)},makeEvent:function(e,n){this.captureInfo[n.pointerId]&&(n.relatedTarget=null);var r=new t(e,n);return n.preventDefault&&(r.preventDefault=n.preventDefault),r._target=r._target||n.target,r},fireEvent:function(t,e){var n=this.makeEvent(t,e);return this.dispatchEvent(n)},cloneEvent:function(t){for(var e,n=u()(null),r=0;r<g.length;r++)e=g[r],n[e]=t[e]||v[r],!b||"target"!==e&&"relatedTarget"!==e||n[e]instanceof SVGElementInstance&&(n[e]=n[e].correspondingUseElement);return t.preventDefault&&(n.preventDefault=function(){t.preventDefault()}),n},getTarget:function(t){var e=this.captureInfo[t.pointerId];return e?t._target!==e&&t.type in y?void 0:e:t._target},propagate:function(t,e,n){for(var r=t.target,i=[];!r.contains(t.relatedTarget)&&r!==document;)i.push(r),r=r.parentNode;n&&i.reverse(),i.forEach(function(n){t.target=n,e.call(this,t)},this)},setCapture:function(e,n){this.captureInfo[e]&&this.releaseCapture(e),this.captureInfo[e]=n;var r=new t("gotpointercapture");r.pointerId=e,this.implicitRelease=this.releaseCapture.bind(this,e),document.addEventListener("pointerup",this.implicitRelease),document.addEventListener("pointercancel",this.implicitRelease),r._target=n,this.asyncDispatchEvent(r)},releaseCapture:function(e){var n=this.captureInfo[e];if(n){var r=new t("lostpointercapture");r.pointerId=e,this.captureInfo[e]=void 0,document.removeEventListener("pointerup",this.implicitRelease),document.removeEventListener("pointercancel",this.implicitRelease),r._target=n,this.asyncDispatchEvent(r)}},dispatchEvent:function(t){var e=this.getTarget(t);if(e)return e.dispatchEvent(t)},asyncDispatchEvent:function(t){requestAnimationFrame(this.dispatchEvent.bind(this,t))}};w.boundHandler=w.eventHandler.bind(w);var x={shadow:function(t){if(t)return t.shadowRoot||t.webkitShadowRoot},canTarget:function(t){return t&&Boolean(t.elementFromPoint)},targetingShadow:function(t){var e=this.shadow(t);if(this.canTarget(e))return e},olderShadow:function(t){var e=t.olderShadowRoot;if(!e){var n=t.querySelector("shadow");n&&(e=n.olderShadowRoot)}return e},allShadows:function(t){for(var e=[],n=this.shadow(t);n;)e.push(n),n=this.olderShadow(n);return e},searchRoot:function(t,e,n){if(t){var r,i,o=t.elementFromPoint(e,n);for(i=this.targetingShadow(o);i;){if(r=i.elementFromPoint(e,n)){var a=this.targetingShadow(r);return this.searchRoot(a,e,n)||r}i=this.olderShadow(i)}return o}},owner:function(t){for(var e=t;e.parentNode;)e=e.parentNode;return e.nodeType!==Node.DOCUMENT_NODE&&e.nodeType!==Node.DOCUMENT_FRAGMENT_NODE&&(e=document),e},findTarget:function(t){var e=t.clientX,n=t.clientY,r=this.owner(t.target);return r.elementFromPoint(e,n)||(r=document),this.searchRoot(r,e,n)}},_=Array.prototype.forEach.call.bind(Array.prototype.forEach),E=Array.prototype.map.call.bind(Array.prototype.map),M=Array.prototype.slice.call.bind(Array.prototype.slice),S=Array.prototype.filter.call.bind(Array.prototype.filter),T=window.MutationObserver||window.WebKitMutationObserver,C={subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0,attributeFilter:["data-touch-action"]};n.prototype={watchSubtree:function(t){this.observer&&x.canTarget(t)&&this.observer.observe(t,C)},enableOnSubtree:function(t){this.watchSubtree(t),t===document&&"complete"!==document.readyState?this.installOnLoad():this.installNewSubtree(t)},installNewSubtree:function(t){_(this.findElements(t),this.addElement,this)},findElements:function(t){return t.querySelectorAll?t.querySelectorAll("[data-touch-action]"):[]},removeElement:function(t){this.removeCallback(t)},addElement:function(t){this.addCallback(t)},elementChanged:function(t,e){this.changedCallback(t,e)},concatLists:function(t,e){return t.concat(M(e))},installOnLoad:function(){document.addEventListener("readystatechange",function(){"complete"===document.readyState&&this.installNewSubtree(document)}.bind(this))},isElement:function(t){return t.nodeType===Node.ELEMENT_NODE},flattenMutationTree:function(t){var e=E(t,this.findElements,this);return e.push(S(t,this.isElement)),e.reduce(this.concatLists,[])},mutationWatcher:function(t){t.forEach(this.mutationHandler,this)},mutationHandler:function(t){"childList"===t.type?(this.flattenMutationTree(t.addedNodes).forEach(this.addElement,this),this.flattenMutationTree(t.removedNodes).forEach(this.removeElement,this)):"attributes"===t.type&&this.elementChanged(t.target,t.oldValue)}};var I=["none","auto","pan-x","pan-y",{rule:"pan-x pan-y",selectors:["pan-x pan-y","pan-y pan-x"]}],O="",A=window.PointerEvent||window.MSPointerEvent,L=!window.ShadowDOMPolyfill&&document.head.createShadowRoot,R=w.pointermap,N=[1,4,2,8,16],P=!1;try{P=1===new MouseEvent("test",{buttons:1}).buttons}catch(t){}var k,D={POINTER_ID:1,POINTER_TYPE:"mouse",events:["mousedown","mousemove","mouseup","mouseover","mouseout"],register:function(t){w.listen(t,this.events)},unregister:function(t){w.unlisten(t,this.events)},lastTouches:[],isEventSimulatedFromTouch:function(t){for(var e,n=this.lastTouches,r=t.clientX,i=t.clientY,o=0,a=n.length;o<a&&(e=n[o]);o++){var s=Math.abs(r-e.x),u=Math.abs(i-e.y);if(s<=25&&u<=25)return!0}},prepareEvent:function(t){var e=w.cloneEvent(t),n=e.preventDefault;return e.preventDefault=function(){t.preventDefault(),n()},e.pointerId=this.POINTER_ID,e.isPrimary=!0,e.pointerType=this.POINTER_TYPE,e},prepareButtonsForMove:function(t,e){var n=R.get(this.POINTER_ID);0!==e.which&&n?t.buttons=n.buttons:t.buttons=0,e.buttons=t.buttons},mousedown:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=R.get(this.POINTER_ID),n=this.prepareEvent(t);P||(n.buttons=N[n.button],e&&(n.buttons|=e.buttons),t.buttons=n.buttons),R.set(this.POINTER_ID,t),e&&0!==e.buttons?w.move(n):w.down(n)}},mousemove:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=this.prepareEvent(t);P||this.prepareButtonsForMove(e,t),e.button=-1,R.set(this.POINTER_ID,t),w.move(e)}},mouseup:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=R.get(this.POINTER_ID),n=this.prepareEvent(t);if(!P){var r=N[n.button];n.buttons=e?e.buttons&~r:0,t.buttons=n.buttons}R.set(this.POINTER_ID,t),n.buttons&=~N[n.button],0===n.buttons?w.up(n):w.move(n)}},mouseover:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=this.prepareEvent(t);P||this.prepareButtonsForMove(e,t),e.button=-1,R.set(this.POINTER_ID,t),w.enterOver(e)}},mouseout:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=this.prepareEvent(t);P||this.prepareButtonsForMove(e,t),e.button=-1,w.leaveOut(e)}},cancel:function(t){var e=this.prepareEvent(t);w.cancel(e),this.deactivateMouse()},deactivateMouse:function(){R.delete(this.POINTER_ID)}},F=w.captureInfo,j=x.findTarget.bind(x),U=x.allShadows.bind(x),B=w.pointermap,z={events:["touchstart","touchmove","touchend","touchcancel"],register:function(t){k.enableOnSubtree(t)},unregister:function(){},elementAdded:function(t){var e=t.getAttribute("data-touch-action"),n=this.touchActionToScrollType(e);n&&(t._scrollType=n,w.listen(t,this.events),U(t).forEach(function(t){t._scrollType=n,w.listen(t,this.events)},this))},elementRemoved:function(t){t._scrollType=void 0,w.unlisten(t,this.events),U(t).forEach(function(t){t._scrollType=void 0,w.unlisten(t,this.events)},this)},elementChanged:function(t,e){var n=t.getAttribute("data-touch-action"),r=this.touchActionToScrollType(n),i=this.touchActionToScrollType(e);r&&i?(t._scrollType=r,U(t).forEach(function(t){t._scrollType=r},this)):i?this.elementRemoved(t):r&&this.elementAdded(t)},scrollTypes:{EMITTER:"none",XSCROLLER:"pan-x",YSCROLLER:"pan-y",SCROLLER:/^(?:pan-x pan-y)|(?:pan-y pan-x)|auto$/},touchActionToScrollType:function(t){var e=t,n=this.scrollTypes;return"none"===e?"none":e===n.XSCROLLER?"X":e===n.YSCROLLER?"Y":n.SCROLLER.exec(e)?"XY":void 0},POINTER_TYPE:"touch",firstTouch:null,isPrimaryTouch:function(t){return this.firstTouch===t.identifier},setPrimaryTouch:function(t){(0===B.size||1===B.size&&B.has(1))&&(this.firstTouch=t.identifier,this.firstXY={X:t.clientX,Y:t.clientY},this.scrolling=!1,this.cancelResetClickCount())},removePrimaryPointer:function(t){t.isPrimary&&(this.firstTouch=null,this.firstXY=null,this.resetClickCount())},clickCount:0,resetId:null,resetClickCount:function(){var t=function(){this.clickCount=0,this.resetId=null}.bind(this);this.resetId=setTimeout(t,200)},cancelResetClickCount:function(){this.resetId&&clearTimeout(this.resetId)},typeToButtons:function(t){var e=0;return"touchstart"!==t&&"touchmove"!==t||(e=1),e},touchToPointer:function(t){var e=this.currentTouchEvent,n=w.cloneEvent(t),r=n.pointerId=t.identifier+2;n.target=F[r]||j(n),n.bubbles=!0,n.cancelable=!0,n.detail=this.clickCount,n.button=0,n.buttons=this.typeToButtons(e.type),n.width=t.radiusX||t.webkitRadiusX||0,n.height=t.radiusY||t.webkitRadiusY||0,n.pressure=t.force||t.webkitForce||.5,n.isPrimary=this.isPrimaryTouch(t),n.pointerType=this.POINTER_TYPE,n.altKey=e.altKey,n.ctrlKey=e.ctrlKey,n.metaKey=e.metaKey,n.shiftKey=e.shiftKey;var i=this;return n.preventDefault=function(){i.scrolling=!1,i.firstXY=null,e.preventDefault()},n},processTouches:function(t,e){var n=t.changedTouches;this.currentTouchEvent=t;for(var r,i=0;i<n.length;i++)r=n[i],e.call(this,this.touchToPointer(r))},shouldScroll:function(t){if(this.firstXY){var e,n=t.currentTarget._scrollType;if("none"===n)e=!1;else if("XY"===n)e=!0;else{var r=t.changedTouches[0],i=n,o="Y"===n?"X":"Y",a=Math.abs(r["client"+i]-this.firstXY[i]),s=Math.abs(r["client"+o]-this.firstXY[o]);e=a>=s}return this.firstXY=null,e}},findTouch:function(t,e){for(var n,r=0,i=t.length;r<i&&(n=t[r]);r++)if(n.identifier===e)return!0},vacuumTouches:function(t){var e=t.touches;if(B.size>=e.length){var n=[];B.forEach(function(t,r){if(1!==r&&!this.findTouch(e,r-2)){var i=t.out;n.push(i)}},this),n.forEach(this.cancelOut,this)}},touchstart:function(t){this.vacuumTouches(t),this.setPrimaryTouch(t.changedTouches[0]),this.dedupSynthMouse(t),this.scrolling||(this.clickCount++,this.processTouches(t,this.overDown))},overDown:function(t){B.set(t.pointerId,{target:t.target,out:t,outTarget:t.target}),w.enterOver(t),w.down(t)},touchmove:function(t){this.scrolling||(this.shouldScroll(t)?(this.scrolling=!0,this.touchcancel(t)):(t.preventDefault(),this.processTouches(t,this.moveOverOut)))},moveOverOut:function(t){var e=t,n=B.get(e.pointerId);if(n){var r=n.out,i=n.outTarget;w.move(e),r&&i!==e.target&&(r.relatedTarget=e.target,e.relatedTarget=i,r.target=i,e.target?(w.leaveOut(r),w.enterOver(e)):(e.target=i,e.relatedTarget=null,this.cancelOut(e))),n.out=e,n.outTarget=e.target}},touchend:function(t){this.dedupSynthMouse(t),this.processTouches(t,this.upOut)},upOut:function(t){this.scrolling||(w.up(t),w.leaveOut(t)),this.cleanUpPointer(t)},touchcancel:function(t){this.processTouches(t,this.cancelOut)},cancelOut:function(t){w.cancel(t),w.leaveOut(t),this.cleanUpPointer(t)},cleanUpPointer:function(t){B.delete(t.pointerId),this.removePrimaryPointer(t)},dedupSynthMouse:function(t){var e=D.lastTouches,n=t.changedTouches[0];if(this.isPrimaryTouch(n)){var r={x:n.clientX,y:n.clientY};e.push(r);var i=function(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}.bind(null,e,r);setTimeout(i,2500)}}};k=new n(z.elementAdded,z.elementRemoved,z.elementChanged,z);var V,G,H=w.pointermap,q=window.MSPointerEvent&&"number"==typeof window.MSPointerEvent.MSPOINTER_TYPE_MOUSE,W={events:["MSPointerDown","MSPointerMove","MSPointerUp","MSPointerOut","MSPointerOver","MSPointerCancel","MSGotPointerCapture","MSLostPointerCapture"],register:function(t){w.listen(t,this.events)},unregister:function(t){w.unlisten(t,this.events)},POINTER_TYPES:["","unavailable","touch","pen","mouse"],prepareEvent:function(t){var e=t;return q&&(e=w.cloneEvent(t),e.pointerType=this.POINTER_TYPES[t.pointerType]),e},cleanup:function(t){H.delete(t)},MSPointerDown:function(t){H.set(t.pointerId,t);var e=this.prepareEvent(t);w.down(e)},MSPointerMove:function(t){var e=this.prepareEvent(t);w.move(e)},MSPointerUp:function(t){var e=this.prepareEvent(t);w.up(e),this.cleanup(t.pointerId)},MSPointerOut:function(t){var e=this.prepareEvent(t);w.leaveOut(e)},MSPointerOver:function(t){var e=this.prepareEvent(t);w.enterOver(e)},MSPointerCancel:function(t){var e=this.prepareEvent(t);w.cancel(e),this.cleanup(t.pointerId)},MSLostPointerCapture:function(t){var e=w.makeEvent("lostpointercapture",t);w.dispatchEvent(e)},MSGotPointerCapture:function(t){var e=w.makeEvent("gotpointercapture",t);w.dispatchEvent(e)}},Y=window.navigator;Y.msPointerEnabled?(V=function(t){l(t),c(this),h(t)&&this.msSetPointerCapture(t)},G=function(t){l(t),this.msReleasePointerCapture(t)}):(V=function(t){l(t),c(this),h(t)&&w.setCapture(t,this)},G=function(t){l(t),w.releaseCapture(t,this)}),function(){if(A){I.forEach(function(t){String(t)===t?(O+=o(t)+s(t)+"\n",L&&(O+=r(t)+s(t)+"\n")):(O+=t.selectors.map(o)+s(t.rule)+"\n",L&&(O+=t.selectors.map(r)+s(t.rule)+"\n"))});var t=document.createElement("style");t.textContent=O,document.head.appendChild(t)}}(),function(){if(!window.PointerEvent){if(window.PointerEvent=t,window.navigator.msPointerEnabled){var e=window.navigator.msMaxTouchPoints;Object.defineProperty(window.navigator,"maxTouchPoints",{value:e,enumerable:!0}),w.registerSource("ms",W)}else w.registerSource("mouse",D),void 0!==window.ontouchstart&&w.registerSource("touch",z);w.register(document)}}(),function(){window.Element&&!Element.prototype.setPointerCapture&&i()(Element.prototype,{setPointerCapture:{value:V},releasePointerCapture:{value:G}})}()}()},function(t,e,n){t.exports={default:n(1088),__esModule:!0}},function(t,e,n){n(1089);var r=n(22).Object;t.exports=function(t,e){return r.defineProperties(t,e)}},function(t,e,n){var r=n(37);r(r.S+r.F*!n(79),"Object",{defineProperties:n(433)})},function(t,e,n){"use strict";var r=n(48),i=n.n(r),o=n(19),a=n.n(o),s=n(16),u=n.n(s),l=n(15),c=(n.n(l),n(32)),h=n.n(c),f=n(1114),d=n.n(f),p=n(1115),m=n.n(p),g=n(1116),v=n.n(g),y=n(1117),b=n.n(y),w=n(1118),x=n.n(w),_=n(1119),E=n.n(_),M=n(1120),S=n.n(M),T=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=u()(t);!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(a()(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),C=!0,I=!1,O=void 0;try{for(var A,L=u()(i()({de:d.a,en:m.a,fi:v.a,fr:b.a,nl:x.a,pt:E.a,tr:S.a}));!(C=(A=L.next()).done);C=!0){var R=T(A.value,2),N=R[0],P=R[1];h.a.info("Loading locale data for:",N),Object(l.addLocaleData)(P)}}catch(t){I=!0,O=t}finally{try{!C&&L.return&&L.return()}finally{if(I)throw O}}},function(t,e){},function(t,e,n){"use strict";var r=n(1093),i=n(1098);r.default.__addLocaleData(i.default),r.default.defaultLocale="en",e.default=r.default},function(t,e,n){"use strict";function r(t,e,n){var i="string"==typeof t?r.__parse(t):t;if(!i||"messageFormatPattern"!==i.type)throw new TypeError("A message must be provided as a String or AST.");n=this._mergeFormats(r.formats,n),o.defineProperty(this,"_locale",{value:this._resolveLocale(e)});var a=this._findPluralRuleFunction(this._locale),s=this._compilePattern(i,e,n,a),u=this;this.format=function(t){return u._format(s,t)}}var i=n(494),o=n(1094),a=n(1095),s=n(1096);e.default=r,o.defineProperty(r,"formats",{enumerable:!0,value:{number:{currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}}}),o.defineProperty(r,"__localeData__",{value:o.objCreate(null)}),o.defineProperty(r,"__addLocaleData",{value:function(t){if(!t||!t.locale)throw new Error("Locale data provided to IntlMessageFormat is missing a `locale` property");r.__localeData__[t.locale.toLowerCase()]=t}}),o.defineProperty(r,"__parse",{value:s.default.parse}),o.defineProperty(r,"defaultLocale",{enumerable:!0,writable:!0,value:void 0}),r.prototype.resolvedOptions=function(){return{locale:this._locale}},r.prototype._compilePattern=function(t,e,n,r){return new a.default(e,n,r).compile(t)},r.prototype._findPluralRuleFunction=function(t){for(var e=r.__localeData__,n=e[t.toLowerCase()];n;){if(n.pluralRuleFunction)return n.pluralRuleFunction;n=n.parentLocale&&e[n.parentLocale.toLowerCase()]}throw new Error("Locale data added to IntlMessageFormat is missing a `pluralRuleFunction` for :"+t)},r.prototype._format=function(t,e){var n,r,o,a,s,u="";for(n=0,r=t.length;n<r;n+=1)if("string"!=typeof(o=t[n])){if(a=o.id,!e||!i.hop.call(e,a))throw new Error("A value must be provided for: "+a);s=e[a],o.options?u+=this._format(o.getOption(s),e):u+=o.format(s)}else u+=o;return u},r.prototype._mergeFormats=function(t,e){var n,r,a={};for(n in t)i.hop.call(t,n)&&(a[n]=r=o.objCreate(t[n]),e&&i.hop.call(e,n)&&i.extend(r,e[n]));return a},r.prototype._resolveLocale=function(t){"string"==typeof t&&(t=[t]),t=(t||[]).concat(r.defaultLocale);var e,n,i,o,a=r.__localeData__;for(e=0,n=t.length;e<n;e+=1)for(i=t[e].toLowerCase().split("-");i.length;){if(o=a[i.join("-")])return o.locale;i.pop()}var s=t.pop();throw new Error("No locale data has been added to IntlMessageFormat for: "+t.join(", ")+", or the default locale: "+s)}},function(t,e,n){"use strict";var r=n(494),i=function(){try{return!!Object.defineProperty({},"a",{})}catch(t){return!1}}(),o=(!i&&Object.prototype.__defineGetter__,i?Object.defineProperty:function(t,e,n){"get"in n&&t.__defineGetter__?t.__defineGetter__(e,n.get):(!r.hop.call(t,e)||"value"in n)&&(t[e]=n.value)}),a=Object.create||function(t,e){function n(){}var i,a;n.prototype=t,i=new n;for(a in e)r.hop.call(e,a)&&o(i,a,e[a]);return i};e.defineProperty=o,e.objCreate=a},function(t,e,n){"use strict";function r(t,e,n){this.locales=t,this.formats=e,this.pluralFn=n}function i(t){this.id=t}function o(t,e,n,r,i){this.id=t,this.useOrdinal=e,this.offset=n,this.options=r,this.pluralFn=i}function a(t,e,n,r){this.id=t,this.offset=e,this.numberFormat=n,this.string=r}function s(t,e){this.id=t,this.options=e}e.default=r,r.prototype.compile=function(t){return this.pluralStack=[],this.currentPlural=null,this.pluralNumberFormat=null,this.compileMessage(t)},r.prototype.compileMessage=function(t){if(!t||"messageFormatPattern"!==t.type)throw new Error('Message AST is not of type: "messageFormatPattern"');var e,n,r,i=t.elements,o=[];for(e=0,n=i.length;e<n;e+=1)switch(r=i[e],r.type){case"messageTextElement":o.push(this.compileMessageText(r));break;case"argumentElement":o.push(this.compileArgument(r));break;default:throw new Error("Message element does not have a valid type")}return o},r.prototype.compileMessageText=function(t){return this.currentPlural&&/(^|[^\\])#/g.test(t.value)?(this.pluralNumberFormat||(this.pluralNumberFormat=new Intl.NumberFormat(this.locales)),new a(this.currentPlural.id,this.currentPlural.format.offset,this.pluralNumberFormat,t.value)):t.value.replace(/\\#/g,"#")},r.prototype.compileArgument=function(t){var e=t.format;if(!e)return new i(t.id);var n,r=this.formats,a=this.locales,u=this.pluralFn;switch(e.type){case"numberFormat":return n=r.number[e.style],{id:t.id,format:new Intl.NumberFormat(a,n).format};case"dateFormat":return n=r.date[e.style],{id:t.id,format:new Intl.DateTimeFormat(a,n).format};case"timeFormat":return n=r.time[e.style],{id:t.id,format:new Intl.DateTimeFormat(a,n).format};case"pluralFormat":return n=this.compileOptions(t),new o(t.id,e.ordinal,e.offset,n,u);case"selectFormat":return n=this.compileOptions(t),new s(t.id,n);default:throw new Error("Message element does not have a valid format type")}},r.prototype.compileOptions=function(t){var e=t.format,n=e.options,r={};this.pluralStack.push(this.currentPlural),this.currentPlural="pluralFormat"===e.type?t:null;var i,o,a;for(i=0,o=n.length;i<o;i+=1)a=n[i],r[a.selector]=this.compileMessage(a.value);return this.currentPlural=this.pluralStack.pop(),r},i.prototype.format=function(t){return t?"string"==typeof t?t:String(t):""},o.prototype.getOption=function(t){var e=this.options;return e["="+t]||e[this.pluralFn(t-this.offset,this.useOrdinal)]||e.other},a.prototype.format=function(t){var e=this.numberFormat.format(t-this.offset);return this.string.replace(/(^|[^\\])#/g,"$1"+e).replace(/\\#/g,"#")},s.prototype.getOption=function(t){var e=this.options;return e[t]||e.other}},function(t,e,n){"use strict";e=t.exports=n(1097).default,e.default=e},function(t,e,n){"use strict";e.default=function(){function t(t,e,n,r,i,o){this.message=t,this.expected=e,this.found=n,this.offset=r,this.line=i,this.column=o,this.name="SyntaxError"}function e(e){function n(t){return Zt!==t&&(Zt>t&&(Zt=0,Kt={line:1,column:1,seenCR:!1}),function(t,n,r){var i,o;for(i=n;i<r;i++)o=e.charAt(i),"\n"===o?(t.seenCR||t.line++,t.column=1,t.seenCR=!1):"\r"===o||"\u2028"===o||"\u2029"===o?(t.line++,t.column=1,t.seenCR=!0):(t.column++,t.seenCR=!1)}(Kt,Zt,t),Zt=t),Kt}function r(t){Yt<$t||(Yt>$t&&($t=Yt,Qt=[]),Qt.push(t))}function i(r,i,o){var a=n(o),s=o<e.length?e.charAt(o):null;return null!==i&&function(t){var e=1;for(t.sort(function(t,e){return t.description<e.description?-1:t.description>e.description?1:0});e<t.length;)t[e-1]===t[e]?t.splice(e,1):e++}(i),new t(null!==r?r:function(t,e){var n,r,i,o=new Array(t.length);for(i=0;i<t.length;i++)o[i]=t[i].description;return n=t.length>1?o.slice(0,-1).join(", ")+" or "+o[t.length-1]:o[0],r=e?'"'+function(t){function e(t){return t.charCodeAt(0).toString(16).toUpperCase()}return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(t){return"\\x0"+e(t)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(t){return"\\x"+e(t)}).replace(/[\u0180-\u0FFF]/g,function(t){return"\\u0"+e(t)}).replace(/[\u1080-\uFFFF]/g,function(t){return"\\u"+e(t)})}(e)+'"':"end of input","Expected "+n+" but "+r+" found."}(i,s),i,s,o,a.line,a.column)}function o(){return a()}function a(){var t,e,n;for(t=Yt,e=[],n=s();n!==A;)e.push(n),n=s();return e!==A&&(Xt=t,e=N(e)),t=e}function s(){var t;return t=l(),t===A&&(t=h()),t}function u(){var t,n,r,i,o,a;if(t=Yt,n=[],r=Yt,i=_(),i!==A?(o=C(),o!==A?(a=_(),a!==A?(i=[i,o,a],r=i):(Yt=r,r=P)):(Yt=r,r=P)):(Yt=r,r=P),r!==A)for(;r!==A;)n.push(r),r=Yt,i=_(),i!==A?(o=C(),o!==A?(a=_(),a!==A?(i=[i,o,a],r=i):(Yt=r,r=P)):(Yt=r,r=P)):(Yt=r,r=P);else n=P;return n!==A&&(Xt=t,n=k(n)),t=n,t===A&&(t=Yt,n=x(),n!==A&&(n=e.substring(t,Yt)),t=n),t}function l(){var t,e;return t=Yt,e=u(),e!==A&&(Xt=t,e=D(e)),t=e}function c(){var t,n,i;if((t=S())===A){if(t=Yt,n=[],F.test(e.charAt(Yt))?(i=e.charAt(Yt),Yt++):(i=A,0===Jt&&r(j)),i!==A)for(;i!==A;)n.push(i),F.test(e.charAt(Yt))?(i=e.charAt(Yt),Yt++):(i=A,0===Jt&&r(j));else n=P;n!==A&&(n=e.substring(t,Yt)),t=n}return t}function h(){var t,n,i,o,a,s,u,l,h;return t=Yt,123===e.charCodeAt(Yt)?(n=U,Yt++):(n=A,0===Jt&&r(B)),n!==A?(i=_(),i!==A?(o=c(),o!==A?(a=_(),a!==A?(s=Yt,44===e.charCodeAt(Yt)?(u=V,Yt++):(u=A,0===Jt&&r(G)),u!==A?(l=_(),l!==A?(h=f(),h!==A?(u=[u,l,h],s=u):(Yt=s,s=P)):(Yt=s,s=P)):(Yt=s,s=P),s===A&&(s=z),s!==A?(u=_(),u!==A?(125===e.charCodeAt(Yt)?(l=H,Yt++):(l=A,0===Jt&&r(q)),l!==A?(Xt=t,n=W(o,s),t=n):(Yt=t,t=P)):(Yt=t,t=P)):(Yt=t,t=P)):(Yt=t,t=P)):(Yt=t,t=P)):(Yt=t,t=P)):(Yt=t,t=P),t}function f(){var t;return t=d(),t===A&&(t=p())===A&&(t=m())===A&&(t=g()),t}function d(){var t,n,i,o,a,s,u;return t=Yt,e.substr(Yt,6)===Y?(n=Y,Yt+=6):(n=A,0===Jt&&r(X)),n===A&&(e.substr(Yt,4)===Z?(n=Z,Yt+=4):(n=A,0===Jt&&r(K)),n===A&&(e.substr(Yt,4)===$?(n=$,Yt+=4):(n=A,0===Jt&&r(Q)))),n!==A?(i=_(),i!==A?(o=Yt,44===e.charCodeAt(Yt)?(a=V,Yt++):(a=A,0===Jt&&r(G)),a!==A?(s=_(),s!==A?(u=C(),u!==A?(a=[a,s,u],o=a):(Yt=o,o=P)):(Yt=o,o=P)):(Yt=o,o=P),o===A&&(o=z),o!==A?(Xt=t,n=J(n,o),t=n):(Yt=t,t=P)):(Yt=t,t=P)):(Yt=t,t=P),t}function p(){var t,n,i,o,a,s;return t=Yt,e.substr(Yt,6)===tt?(n=tt,Yt+=6):(n=A,0===Jt&&r(et)),n!==A?(i=_(),i!==A?(44===e.charCodeAt(Yt)?(o=V,Yt++):(o=A,0===Jt&&r(G)),o!==A?(a=_(),a!==A?(s=w(),s!==A?(Xt=t,n=nt(s),t=n):(Yt=t,t=P)):(Yt=t,t=P)):(Yt=t,t=P)):(Yt=t,t=P)):(Yt=t,t=P),t}function m(){var t,n,i,o,a,s;return t=Yt,e.substr(Yt,13)===rt?(n=rt,Yt+=13):(n=A,0===Jt&&r(it)),n!==A?(i=_(),i!==A?(44===e.charCodeAt(Yt)?(o=V,Yt++):(o=A,0===Jt&&r(G)),o!==A?(a=_(),a!==A?(s=w(),s!==A?(Xt=t,n=ot(s),t=n):(Yt=t,t=P)):(Yt=t,t=P)):(Yt=t,t=P)):(Yt=t,t=P)):(Yt=t,t=P),t}function g(){var t,n,i,o,a;if(t=Yt,e.substr(Yt,6)===at?(n=at,Yt+=6):(n=A,0===Jt&&r(st)),n!==A)if(_()!==A)if(44===e.charCodeAt(Yt)?(i=V,Yt++):(i=A,0===Jt&&r(G)),i!==A)if(_()!==A){if(o=[],(a=y())!==A)for(;a!==A;)o.push(a),a=y();else o=P;o!==A?(Xt=t,n=ut(o),t=n):(Yt=t,t=P)}else Yt=t,t=P;else Yt=t,t=P;else Yt=t,t=P;else Yt=t,t=P;return t}function v(){var t,n,i,o;return t=Yt,n=Yt,61===e.charCodeAt(Yt)?(i=lt,Yt++):(i=A,0===Jt&&r(ct)),i!==A?(o=S(),o!==A?(i=[i,o],n=i):(Yt=n,n=P)):(Yt=n,n=P),n!==A&&(n=e.substring(t,Yt)),t=n,t===A&&(t=C()),t}function y(){var t,n,i,o,s,u,l,c,h;return t=Yt,n=_(),n!==A?(i=v(),i!==A?(o=_(),o!==A?(123===e.charCodeAt(Yt)?(s=U,Yt++):(s=A,0===Jt&&r(B)),s!==A?(u=_(),u!==A?(l=a(),l!==A?(c=_(),c!==A?(125===e.charCodeAt(Yt)?(h=H,Yt++):(h=A,0===Jt&&r(q)),h!==A?(Xt=t,n=ht(i,l),t=n):(Yt=t,t=P)):(Yt=t,t=P)):(Yt=t,t=P)):(Yt=t,t=P)):(Yt=t,t=P)):(Yt=t,t=P)):(Yt=t,t=P)):(Yt=t,t=P),t}function b(){var t,n,i,o;return t=Yt,e.substr(Yt,7)===ft?(n=ft,Yt+=7):(n=A,0===Jt&&r(dt)),n!==A?(i=_(),i!==A?(o=S(),o!==A?(Xt=t,n=pt(o),t=n):(Yt=t,t=P)):(Yt=t,t=P)):(Yt=t,t=P),t}function w(){var t,e,n,r;if(t=Yt,e=b(),e===A&&(e=z),e!==A)if(_()!==A){if(n=[],(r=y())!==A)for(;r!==A;)n.push(r),r=y();else n=P;n!==A?(Xt=t,e=mt(e,n),t=e):(Yt=t,t=P)}else Yt=t,t=P;else Yt=t,t=P;return t}function x(){var t,n;if(Jt++,t=[],vt.test(e.charAt(Yt))?(n=e.charAt(Yt),Yt++):(n=A,0===Jt&&r(yt)),n!==A)for(;n!==A;)t.push(n),vt.test(e.charAt(Yt))?(n=e.charAt(Yt),Yt++):(n=A,0===Jt&&r(yt));else t=P;return Jt--,t===A&&(n=A,0===Jt&&r(gt)),t}function _(){var t,n,i;for(Jt++,t=Yt,n=[],i=x();i!==A;)n.push(i),i=x();return n!==A&&(n=e.substring(t,Yt)),t=n,Jt--,t===A&&(n=A,0===Jt&&r(bt)),t}function E(){var t;return wt.test(e.charAt(Yt))?(t=e.charAt(Yt),Yt++):(t=A,0===Jt&&r(xt)),t}function M(){var t;return _t.test(e.charAt(Yt))?(t=e.charAt(Yt),Yt++):(t=A,0===Jt&&r(Et)),t}function S(){var t,n,i,o,a,s;if(t=Yt,48===e.charCodeAt(Yt)?(n=Mt,Yt++):(n=A,0===Jt&&r(St)),n===A){if(n=Yt,i=Yt,Tt.test(e.charAt(Yt))?(o=e.charAt(Yt),Yt++):(o=A,0===Jt&&r(Ct)),o!==A){for(a=[],s=E();s!==A;)a.push(s),s=E();a!==A?(o=[o,a],i=o):(Yt=i,i=P)}else Yt=i,i=P;i!==A&&(i=e.substring(n,Yt)),n=i}return n!==A&&(Xt=t,n=It(n)),t=n}function T(){var t,n,i,o,a,s,u,l;return Ot.test(e.charAt(Yt))?(t=e.charAt(Yt),Yt++):(t=A,0===Jt&&r(At)),t===A&&(t=Yt,e.substr(Yt,2)===Lt?(n=Lt,Yt+=2):(n=A,0===Jt&&r(Rt)),n!==A&&(Xt=t,n=Nt()),(t=n)===A&&(t=Yt,e.substr(Yt,2)===Pt?(n=Pt,Yt+=2):(n=A,0===Jt&&r(kt)),n!==A&&(Xt=t,n=Dt()),(t=n)===A&&(t=Yt,e.substr(Yt,2)===Ft?(n=Ft,Yt+=2):(n=A,0===Jt&&r(jt)),n!==A&&(Xt=t,n=Ut()),(t=n)===A&&(t=Yt,e.substr(Yt,2)===Bt?(n=Bt,Yt+=2):(n=A,0===Jt&&r(zt)),n!==A&&(Xt=t,n=Vt()),(t=n)===A&&(t=Yt,e.substr(Yt,2)===Gt?(n=Gt,Yt+=2):(n=A,0===Jt&&r(Ht)),n!==A?(i=Yt,o=Yt,a=M(),a!==A?(s=M(),s!==A?(u=M(),u!==A?(l=M(),l!==A?(a=[a,s,u,l],o=a):(Yt=o,o=P)):(Yt=o,o=P)):(Yt=o,o=P)):(Yt=o,o=P),o!==A&&(o=e.substring(i,Yt)),i=o,i!==A?(Xt=t,n=qt(i),t=n):(Yt=t,t=P)):(Yt=t,t=P)))))),t}function C(){var t,e,n;if(t=Yt,e=[],(n=T())!==A)for(;n!==A;)e.push(n),n=T();else e=P;return e!==A&&(Xt=t,e=Wt(e)),t=e}var I,O=arguments.length>1?arguments[1]:{},A={},L={start:o},R=o,N=function(t){return{type:"messageFormatPattern",elements:t}},P=A,k=function(t){var e,n,r,i,o,a="";for(e=0,r=t.length;e<r;e+=1)for(i=t[e],n=0,o=i.length;n<o;n+=1)a+=i[n];return a},D=function(t){return{type:"messageTextElement",value:t}},F=/^[^ \t\n\r,.+={}#]/,j={type:"class",value:"[^ \\t\\n\\r,.+={}#]",description:"[^ \\t\\n\\r,.+={}#]"},U="{",B={type:"literal",value:"{",description:'"{"'},z=null,V=",",G={type:"literal",value:",",description:'","'},H="}",q={type:"literal",value:"}",description:'"}"'},W=function(t,e){return{type:"argumentElement",id:t,format:e&&e[2]}},Y="number",X={type:"literal",value:"number",description:'"number"'},Z="date",K={type:"literal",value:"date",description:'"date"'},$="time",Q={type:"literal",value:"time",description:'"time"'},J=function(t,e){return{type:t+"Format",style:e&&e[2]}},tt="plural",et={type:"literal",value:"plural",description:'"plural"'},nt=function(t){return{type:t.type,ordinal:!1,offset:t.offset||0,options:t.options}},rt="selectordinal",it={type:"literal",value:"selectordinal",description:'"selectordinal"'},ot=function(t){return{type:t.type,ordinal:!0,offset:t.offset||0,options:t.options}},at="select",st={type:"literal",value:"select",description:'"select"'},ut=function(t){return{type:"selectFormat",options:t}},lt="=",ct={type:"literal",value:"=",description:'"="'},ht=function(t,e){return{type:"optionalFormatPattern",selector:t,value:e}},ft="offset:",dt={type:"literal",value:"offset:",description:'"offset:"'},pt=function(t){return t},mt=function(t,e){return{type:"pluralFormat",offset:t,options:e}},gt={type:"other",description:"whitespace"},vt=/^[ \t\n\r]/,yt={type:"class",value:"[ \\t\\n\\r]",description:"[ \\t\\n\\r]"},bt={type:"other",description:"optionalWhitespace"},wt=/^[0-9]/,xt={type:"class",value:"[0-9]",description:"[0-9]"},_t=/^[0-9a-f]/i,Et={type:"class",value:"[0-9a-f]i",description:"[0-9a-f]i"},Mt="0",St={type:"literal",value:"0",description:'"0"'},Tt=/^[1-9]/,Ct={type:"class",value:"[1-9]",description:"[1-9]"},It=function(t){return parseInt(t,10)},Ot=/^[^{}\\\0-\x1F \t\n\r]/,At={type:"class",value:"[^{}\\\\\\0-\\x1F \\t\\n\\r]",description:"[^{}\\\\\\0-\\x1F \\t\\n\\r]"},Lt="\\\\",Rt={type:"literal",value:"\\\\",description:'"\\\\\\\\"'},Nt=function(){return"\\"},Pt="\\#",kt={type:"literal",value:"\\#",description:'"\\\\#"'},Dt=function(){return"\\#"},Ft="\\{",jt={type:"literal",value:"\\{",description:'"\\\\{"'},Ut=function(){return"{"},Bt="\\}",zt={type:"literal",value:"\\}",description:'"\\\\}"'},Vt=function(){return"}"},Gt="\\u",Ht={type:"literal",value:"\\u",description:'"\\\\u"'},qt=function(t){return String.fromCharCode(parseInt(t,16))},Wt=function(t){return t.join("")},Yt=0,Xt=0,Zt=0,Kt={line:1,column:1,seenCR:!1},$t=0,Qt=[],Jt=0;if("startRule"in O){if(!(O.startRule in L))throw new Error("Can't start parsing from rule \""+O.startRule+'".');R=L[O.startRule]}if((I=R())!==A&&Yt===e.length)return I;throw I!==A&&Yt<e.length&&r({type:"end",description:"end of input"}),i(null,Qt,$t)}return function(t,e){function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n}(t,Error),{SyntaxError:t,parse:e}}()},function(t,e,n){"use strict";e.default={locale:"en",pluralRuleFunction:function(t,e){var n=String(t).split("."),r=!n[1],i=Number(n[0])==t,o=i&&n[0].slice(-1),a=i&&n[0].slice(-2);return e?1==o&&11!=a?"one":2==o&&12!=a?"two":3==o&&13!=a?"few":"other":1==t&&r?"one":"other"}}},function(t,e){},function(t,e,n){"use strict";var r=n(1101).default;n(1106),e=t.exports=r,e.default=e},function(t,e,n){"use strict";var r=n(1102),i=n(1105);r.default.__addLocaleData(i.default),r.default.defaultLocale="en",e.default=r.default},function(t,e,n){"use strict";function r(t,e){e=e||{},a.isArray(t)&&(t=t.concat()),a.defineProperty(this,"_locale",{value:this._resolveLocale(t)}),a.defineProperty(this,"_options",{value:{style:this._resolveStyle(e.style),units:this._isValidUnits(e.units)&&e.units}}),a.defineProperty(this,"_locales",{value:t}),a.defineProperty(this,"_fields",{value:this._findFields(this._locale)}),a.defineProperty(this,"_messages",{value:a.objCreate(null)});var n=this;this.format=function(t,e){return n._format(t,e)}}var i=n(493),o=n(1103),a=n(1104);e.default=r;var s=["second","minute","hour","day","month","year"],u=["best fit","numeric"];a.defineProperty(r,"__localeData__",{value:a.objCreate(null)}),a.defineProperty(r,"__addLocaleData",{value:function(t){if(!t||!t.locale)throw new Error("Locale data provided to IntlRelativeFormat is missing a `locale` property value");r.__localeData__[t.locale.toLowerCase()]=t,i.default.__addLocaleData(t)}}),a.defineProperty(r,"defaultLocale",{enumerable:!0,writable:!0,value:void 0}),a.defineProperty(r,"thresholds",{enumerable:!0,value:{second:45,minute:45,hour:22,day:26,month:11}}),r.prototype.resolvedOptions=function(){return{locale:this._locale,style:this._options.style,units:this._options.units}},r.prototype._compileMessage=function(t){var e,n=this._locales,r=(this._locale,this._fields[t]),o=r.relativeTime,a="",s="";for(e in o.future)o.future.hasOwnProperty(e)&&(a+=" "+e+" {"+o.future[e].replace("{0}","#")+"}");for(e in o.past)o.past.hasOwnProperty(e)&&(s+=" "+e+" {"+o.past[e].replace("{0}","#")+"}");var u="{when, select, future {{0, plural, "+a+"}}past {{0, plural, "+s+"}}}";return new i.default(u,n)},r.prototype._getMessage=function(t){var e=this._messages;return e[t]||(e[t]=this._compileMessage(t)),e[t]},r.prototype._getRelativeUnits=function(t,e){var n=this._fields[e];if(n.relative)return n.relative[t]},r.prototype._findFields=function(t){for(var e=r.__localeData__,n=e[t.toLowerCase()];n;){if(n.fields)return n.fields;n=n.parentLocale&&e[n.parentLocale.toLowerCase()]}throw new Error("Locale data added to IntlRelativeFormat is missing `fields` for :"+t)},r.prototype._format=function(t,e){var n=e&&void 0!==e.now?e.now:a.dateNow();if(void 0===t&&(t=n),!isFinite(n))throw new RangeError("The `now` option provided to IntlRelativeFormat#format() is not in valid range.");if(!isFinite(t))throw new RangeError("The date value provided to IntlRelativeFormat#format() is not in valid range.");var r=o.default(n,t),i=this._options.units||this._selectUnits(r),s=r[i];if("numeric"!==this._options.style){var u=this._getRelativeUnits(s,i);if(u)return u}return this._getMessage(i).format({0:Math.abs(s),when:s<0?"past":"future"})},r.prototype._isValidUnits=function(t){if(!t||a.arrIndexOf.call(s,t)>=0)return!0;if("string"==typeof t){var e=/s$/.test(t)&&t.substr(0,t.length-1);if(e&&a.arrIndexOf.call(s,e)>=0)throw new Error('"'+t+'" is not a valid IntlRelativeFormat `units` value, did you mean: '+e)}throw new Error('"'+t+'" is not a valid IntlRelativeFormat `units` value, it must be one of: "'+s.join('", "')+'"')},r.prototype._resolveLocale=function(t){"string"==typeof t&&(t=[t]),t=(t||[]).concat(r.defaultLocale);var e,n,i,o,a=r.__localeData__;for(e=0,n=t.length;e<n;e+=1)for(i=t[e].toLowerCase().split("-");i.length;){if(o=a[i.join("-")])return o.locale;i.pop()}var s=t.pop();throw new Error("No locale data has been added to IntlRelativeFormat for: "+t.join(", ")+", or the default locale: "+s)},r.prototype._resolveStyle=function(t){if(!t)return u[0];if(a.arrIndexOf.call(u,t)>=0)return t;throw new Error('"'+t+'" is not a valid IntlRelativeFormat `style` value, it must be one of: "'+u.join('", "')+'"')},r.prototype._selectUnits=function(t){var e,n,i;for(e=0,n=s.length;e<n&&(i=s[e],!(Math.abs(t[i])<r.thresholds[i]));e+=1);return i}},function(t,e,n){"use strict";function r(t){return 400*t/146097}var i=Math.round;e.default=function(t,e){t=+t,e=+e;var n=i(e-t),o=i(n/1e3),a=i(o/60),s=i(a/60),u=i(s/24),l=i(u/7),c=r(u);return{millisecond:n,second:o,minute:a,hour:s,day:u,week:l,month:i(12*c),year:i(c)}}},function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty,i=Object.prototype.toString,o=function(){try{return!!Object.defineProperty({},"a",{})}catch(t){return!1}}(),a=(!o&&Object.prototype.__defineGetter__,o?Object.defineProperty:function(t,e,n){"get"in n&&t.__defineGetter__?t.__defineGetter__(e,n.get):(!r.call(t,e)||"value"in n)&&(t[e]=n.value)}),s=Object.create||function(t,e){function n(){}var i,o;n.prototype=t,i=new n;for(o in e)r.call(e,o)&&a(i,o,e[o]);return i},u=Array.prototype.indexOf||function(t,e){var n=this;if(!n.length)return-1;for(var r=e||0,i=n.length;r<i;r++)if(n[r]===t)return r;return-1},l=Array.isArray||function(t){return"[object Array]"===i.call(t)},c=Date.now||function(){return(new Date).getTime()};e.defineProperty=a,e.objCreate=s,e.arrIndexOf=u,e.isArray=l,e.dateNow=c},function(t,e,n){"use strict";e.default={locale:"en",pluralRuleFunction:function(t,e){var n=String(t).split("."),r=!n[1],i=Number(n[0])==t,o=i&&n[0].slice(-1),a=i&&n[0].slice(-2);return e?1==o&&11!=a?"one":2==o&&12!=a?"two":3==o&&13!=a?"few":"other":1==t&&r?"one":"other"},fields:{year:{displayName:"year",relative:{0:"this year",1:"next year","-1":"last year"},relativeTime:{future:{one:"in {0} year",other:"in {0} years"},past:{one:"{0} year ago",other:"{0} years ago"}}},month:{displayName:"month",relative:{0:"this month",1:"next month","-1":"last month"},relativeTime:{future:{one:"in {0} month",other:"in {0} months"},past:{one:"{0} month ago",other:"{0} months ago"}}},day:{displayName:"day",relative:{0:"today",1:"tomorrow","-1":"yesterday"},relativeTime:{future:{one:"in {0} day",other:"in {0} days"},past:{one:"{0} day ago",other:"{0} days ago"}}},hour:{displayName:"hour",relativeTime:{future:{one:"in {0} hour",other:"in {0} hours"},past:{one:"{0} hour ago",other:"{0} hours ago"}}},minute:{displayName:"minute",relativeTime:{future:{one:"in {0} minute",other:"in {0} minutes"},past:{one:"{0} minute ago",other:"{0} minutes ago"}}},second:{displayName:"second",relative:{0:"now"},relativeTime:{future:{one:"in {0} second",other:"in {0} seconds"},past:{one:"{0} second ago",other:"{0} seconds ago"}}}}}},function(t,e){},function(t,e,n){"use strict";var r=n(1108),i=n(1109),o=n(1110);t.exports=function(){function t(t,e,n,r,a,s){s!==o&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e};return n.checkPropTypes=r,n.PropTypes=n,n}},function(t,e,n){"use strict";function r(t){return function(){return t}}var i=function(){};i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(t){return t},t.exports=i},function(t,e,n){"use strict";function r(t,e,n,r,o,a,s,u){if(i(e),!t){var l;if(void 0===e)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,o,a,s,u],h=0;l=new Error(e.replace(/%s/g,function(){return c[h++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}}var i=function(t){};t.exports=r},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,n){"use strict";e=t.exports=n(1112).default,e.default=e},function(t,e,n){"use strict";function r(t){var e=a.objCreate(null);return function(){var n=Array.prototype.slice.call(arguments),r=i(n),o=r&&e[r];return o||(o=new(a.bind.apply(t,[null].concat(n))),r&&(e[r]=o)),o}}function i(t){if("undefined"!=typeof JSON){var e,n,r,i=[];for(e=0,n=t.length;e<n;e+=1)r=t[e],r&&"object"==typeof r?i.push(o(r)):i.push(r);return JSON.stringify(i)}}function o(t){var e,n,r,i,o=[],a=[];for(e in t)t.hasOwnProperty(e)&&a.push(e);var s=a.sort();for(n=0,r=s.length;n<r;n+=1)e=s[n],i={},i[e]=t[e],o[n]=i;return o}var a=n(1113);e.default=r},function(t,e,n){"use strict";var r=Function.prototype.bind||function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),n=this,r=function(){},i=function(){return n.apply(this instanceof r?this:t,e.concat(Array.prototype.slice.call(arguments)))};return this.prototype&&(r.prototype=this.prototype),i.prototype=new r,i},i=Object.prototype.hasOwnProperty,o=function(){try{return!!Object.defineProperty({},"a",{})}catch(t){return!1}}(),a=(!o&&Object.prototype.__defineGetter__,o?Object.defineProperty:function(t,e,n){"get"in n&&t.__defineGetter__?t.__defineGetter__(e,n.get):(!i.call(t,e)||"value"in n)&&(t[e]=n.value)}),s=Object.create||function(t,e){function n(){}var r,o;n.prototype=t,r=new n;for(o in e)i.call(e,o)&&a(r,o,e[o]);return r};e.bind=r,e.defineProperty=a,e.objCreate=s},function(t,e,n){!function(e,n){t.exports=n()}(0,function(){"use strict";return[{locale:"de",pluralRuleFunction:function(t,e){var n=String(t).split("."),r=!n[1];return e?"other":1==t&&r?"one":"other"},fields:{year:{displayName:"Jahr",relative:{0:"dieses Jahr",1:"nächstes Jahr","-1":"letztes Jahr"},relativeTime:{future:{one:"in {0} Jahr",other:"in {0} Jahren"},past:{one:"vor {0} Jahr",other:"vor {0} Jahren"}}},month:{displayName:"Monat",relative:{0:"diesen Monat",1:"nächsten Monat","-1":"letzten Monat"},relativeTime:{future:{one:"in {0} Monat",other:"in {0} Monaten"},past:{one:"vor {0} Monat",other:"vor {0} Monaten"}}},day:{displayName:"Tag",relative:{0:"heute",1:"morgen",2:"übermorgen","-2":"vorgestern","-1":"gestern"},relativeTime:{future:{one:"in {0} Tag",other:"in {0} Tagen"},past:{one:"vor {0} Tag",other:"vor {0} Tagen"}}},hour:{displayName:"Stunde",relativeTime:{future:{one:"in {0} Stunde",other:"in {0} Stunden"},past:{one:"vor {0} Stunde",other:"vor {0} Stunden"}}},minute:{displayName:"Minute",relativeTime:{future:{one:"in {0} Minute",other:"in {0} Minuten"},past:{one:"vor {0} Minute",other:"vor {0} Minuten"}}},second:{displayName:"Sekunde",relative:{0:"jetzt"},relativeTime:{future:{one:"in {0} Sekunde",other:"in {0} Sekunden"},past:{one:"vor {0} Sekunde",other:"vor {0} Sekunden"}}}}},{locale:"de-AT",parentLocale:"de"},{locale:"de-BE",parentLocale:"de"},{locale:"de-CH",parentLocale:"de"},{locale:"de-LI",parentLocale:"de"},{locale:"de-LU",parentLocale:"de"}]})},function(t,e,n){!function(e,n){t.exports=n()}(0,function(){"use strict";return[{locale:"en",pluralRuleFunction:function(t,e){var n=String(t).split("."),r=!n[1],i=Number(n[0])==t,o=i&&n[0].slice(-1),a=i&&n[0].slice(-2);return e?1==o&&11!=a?"one":2==o&&12!=a?"two":3==o&&13!=a?"few":"other":1==t&&r?"one":"other"},fields:{year:{displayName:"year",relative:{0:"this year",1:"next year","-1":"last year"},relativeTime:{future:{one:"in {0} year",other:"in {0} years"},past:{one:"{0} year ago",other:"{0} years ago"}}},month:{displayName:"month",relative:{0:"this month",1:"next month","-1":"last month"},relativeTime:{future:{one:"in {0} month",other:"in {0} months"},past:{one:"{0} month ago",other:"{0} months ago"}}},day:{displayName:"day",relative:{0:"today",1:"tomorrow","-1":"yesterday"},relativeTime:{future:{one:"in {0} day",other:"in {0} days"},past:{one:"{0} day ago",other:"{0} days ago"}}},hour:{displayName:"hour",relativeTime:{future:{one:"in {0} hour",other:"in {0} hours"},past:{one:"{0} hour ago",other:"{0} hours ago"}}},minute:{displayName:"minute",relativeTime:{future:{one:"in {0} minute",other:"in {0} minutes"},past:{one:"{0} minute ago",other:"{0} minutes ago"}}},second:{displayName:"second",relative:{0:"now"},relativeTime:{future:{one:"in {0} second",other:"in {0} seconds"},past:{one:"{0} second ago",other:"{0} seconds ago"}}}}},{locale:"en-001",parentLocale:"en"},{locale:"en-150",parentLocale:"en-001"},{locale:"en-AG",parentLocale:"en-001"},{locale:"en-AI",parentLocale:"en-001"},{locale:"en-AS",parentLocale:"en"},{locale:"en-AT",parentLocale:"en-150"},{locale:"en-AU",parentLocale:"en-001"},{locale:"en-BB",parentLocale:"en-001"},{locale:"en-BE",parentLocale:"en-001"},{locale:"en-BI",parentLocale:"en"},{locale:"en-BM",parentLocale:"en-001"},{locale:"en-BS",parentLocale:"en-001"},{locale:"en-BW",parentLocale:"en-001"},{locale:"en-BZ",parentLocale:"en-001"},{locale:"en-CA",parentLocale:"en-001"},{locale:"en-CC",parentLocale:"en-001"},{locale:"en-CH",parentLocale:"en-150"},{locale:"en-CK",parentLocale:"en-001"},{locale:"en-CM",parentLocale:"en-001"},{locale:"en-CX",parentLocale:"en-001"},{locale:"en-CY",parentLocale:"en-001"},{locale:"en-DE",parentLocale:"en-150"},{locale:"en-DG",parentLocale:"en-001"},{locale:"en-DK",parentLocale:"en-150"},{locale:"en-DM",parentLocale:"en-001"},{locale:"en-Dsrt",pluralRuleFunction:function(t,e){return"other"},fields:{year:{displayName:"Year",relative:{0:"this year",1:"next year","-1":"last year"},relativeTime:{future:{other:"+{0} y"},past:{other:"-{0} y"}}},month:{displayName:"Month",relative:{0:"this month",1:"next month","-1":"last month"},relativeTime:{future:{other:"+{0} m"},past:{other:"-{0} m"}}},day:{displayName:"Day",relative:{0:"today",1:"tomorrow","-1":"yesterday"},relativeTime:{future:{other:"+{0} d"},past:{other:"-{0} d"}}},hour:{displayName:"Hour",relativeTime:{future:{other:"+{0} h"},past:{other:"-{0} h"}}},minute:{displayName:"Minute",relativeTime:{future:{other:"+{0} min"},past:{other:"-{0} min"}}},second:{displayName:"Second",relative:{0:"now"},relativeTime:{future:{other:"+{0} s"},past:{other:"-{0} s"}}}}},{locale:"en-ER",parentLocale:"en-001"},{locale:"en-FI",parentLocale:"en-150"},{locale:"en-FJ",parentLocale:"en-001"},{locale:"en-FK",parentLocale:"en-001"},{locale:"en-FM",parentLocale:"en-001"},{locale:"en-GB",parentLocale:"en-001"},{locale:"en-GD",parentLocale:"en-001"},{locale:"en-GG",parentLocale:"en-001"},{locale:"en-GH",parentLocale:"en-001"},{locale:"en-GI",parentLocale:"en-001"},{locale:"en-GM",parentLocale:"en-001"},{locale:"en-GU",parentLocale:"en"},{locale:"en-GY",parentLocale:"en-001"},{locale:"en-HK",parentLocale:"en-001"},{locale:"en-IE",parentLocale:"en-001"},{locale:"en-IL",parentLocale:"en-001"},{locale:"en-IM",parentLocale:"en-001"},{locale:"en-IN",parentLocale:"en-001"},{locale:"en-IO",parentLocale:"en-001"},{locale:"en-JE",parentLocale:"en-001"},{locale:"en-JM",parentLocale:"en-001"},{locale:"en-KE",parentLocale:"en-001"},{locale:"en-KI",parentLocale:"en-001"},{locale:"en-KN",parentLocale:"en-001"},{locale:"en-KY",parentLocale:"en-001"},{locale:"en-LC",parentLocale:"en-001"},{locale:"en-LR",parentLocale:"en-001"},{locale:"en-LS",parentLocale:"en-001"},{locale:"en-MG",parentLocale:"en-001"},{locale:"en-MH",parentLocale:"en"},{locale:"en-MO",parentLocale:"en-001"},{locale:"en-MP",parentLocale:"en"},{locale:"en-MS",parentLocale:"en-001"},{locale:"en-MT",parentLocale:"en-001"},{locale:"en-MU",parentLocale:"en-001"},{locale:"en-MW",parentLocale:"en-001"},{locale:"en-MY",parentLocale:"en-001"},{locale:"en-NA",parentLocale:"en-001"},{locale:"en-NF",parentLocale:"en-001"},{locale:"en-NG",parentLocale:"en-001"},{locale:"en-NL",parentLocale:"en-150"},{locale:"en-NR",parentLocale:"en-001"},{locale:"en-NU",parentLocale:"en-001"},{locale:"en-NZ",parentLocale:"en-001"},{locale:"en-PG",parentLocale:"en-001"},{locale:"en-PH",parentLocale:"en-001"},{locale:"en-PK",parentLocale:"en-001"},{locale:"en-PN",parentLocale:"en-001"},{locale:"en-PR",parentLocale:"en"},{locale:"en-PW",parentLocale:"en-001"},{locale:"en-RW",parentLocale:"en-001"},{locale:"en-SB",parentLocale:"en-001"},{locale:"en-SC",parentLocale:"en-001"},{locale:"en-SD",parentLocale:"en-001"},{locale:"en-SE",parentLocale:"en-150"},{locale:"en-SG",parentLocale:"en-001"},{locale:"en-SH",parentLocale:"en-001"},{locale:"en-SI",parentLocale:"en-150"},{locale:"en-SL",parentLocale:"en-001"},{locale:"en-SS",parentLocale:"en-001"},{locale:"en-SX",parentLocale:"en-001"},{locale:"en-SZ",parentLocale:"en-001"},{locale:"en-Shaw",pluralRuleFunction:function(t,e){return"other"},fields:{year:{displayName:"Year",relative:{0:"this year",1:"next year","-1":"last year"},relativeTime:{future:{other:"+{0} y"},past:{other:"-{0} y"}}},month:{displayName:"Month",relative:{0:"this month",1:"next month","-1":"last month"},relativeTime:{future:{other:"+{0} m"},past:{other:"-{0} m"}}},day:{displayName:"Day",relative:{0:"today",1:"tomorrow","-1":"yesterday"},relativeTime:{future:{other:"+{0} d"},past:{other:"-{0} d"}}},hour:{displayName:"Hour",relativeTime:{future:{other:"+{0} h"},past:{other:"-{0} h"}}},minute:{displayName:"Minute",relativeTime:{future:{other:"+{0} min"},past:{other:"-{0} min"}}},second:{displayName:"Second",relative:{0:"now"},relativeTime:{future:{other:"+{0} s"},past:{other:"-{0} s"}}}}},{locale:"en-TC",parentLocale:"en-001"},{locale:"en-TK",parentLocale:"en-001"},{locale:"en-TO",parentLocale:"en-001"},{locale:"en-TT",parentLocale:"en-001"},{locale:"en-TV",parentLocale:"en-001"},{locale:"en-TZ",parentLocale:"en-001"},{locale:"en-UG",parentLocale:"en-001"},{locale:"en-UM",parentLocale:"en"},{locale:"en-US",parentLocale:"en"},{locale:"en-VC",parentLocale:"en-001"},{locale:"en-VG",parentLocale:"en-001"},{locale:"en-VI",parentLocale:"en"},{locale:"en-VU",parentLocale:"en-001"},{locale:"en-WS",parentLocale:"en-001"},{locale:"en-ZA",parentLocale:"en-001"},{locale:"en-ZM",parentLocale:"en-001"},{locale:"en-ZW",parentLocale:"en-001"}]})},function(t,e,n){!function(e,n){t.exports=n()}(0,function(){"use strict";return[{locale:"fi",pluralRuleFunction:function(t,e){var n=String(t).split("."),r=!n[1];return e?"other":1==t&&r?"one":"other"},fields:{year:{displayName:"vuosi",relative:{0:"tänä vuonna",1:"ensi vuonna","-1":"viime vuonna"},relativeTime:{future:{one:"{0} vuoden päästä",other:"{0} vuoden päästä"},past:{one:"{0} vuosi sitten",other:"{0} vuotta sitten"}}},month:{displayName:"kuukausi",relative:{0:"tässä kuussa",1:"ensi kuussa","-1":"viime kuussa"},relativeTime:{future:{one:"{0} kuukauden päästä",other:"{0} kuukauden päästä"},past:{one:"{0} kuukausi sitten",other:"{0} kuukautta sitten"}}},day:{displayName:"päivä",relative:{0:"tänään",1:"huomenna",2:"ylihuomenna","-2":"toissa päivänä","-1":"eilen"},relativeTime:{future:{one:"{0} päivän päästä",other:"{0} päivän päästä"},past:{one:"{0} päivä sitten",other:"{0} päivää sitten"}}},hour:{displayName:"tunti",relativeTime:{future:{one:"{0} tunnin päästä",other:"{0} tunnin päästä"},past:{one:"{0} tunti sitten",other:"{0} tuntia sitten"}}},minute:{displayName:"minuutti",relativeTime:{future:{one:"{0} minuutin päästä",other:"{0} minuutin päästä"},past:{one:"{0} minuutti sitten",other:"{0} minuuttia sitten"}}},second:{displayName:"sekunti",relative:{0:"nyt"},relativeTime:{future:{one:"{0} sekunnin päästä",other:"{0} sekunnin päästä"},past:{one:"{0} sekunti sitten",other:"{0} sekuntia sitten"}}}}}]})},function(t,e,n){!function(e,n){t.exports=n()}(0,function(){"use strict";return[{locale:"fr",pluralRuleFunction:function(t,e){return e?1==t?"one":"other":t>=0&&t<2?"one":"other"},fields:{year:{displayName:"année",relative:{0:"cette année",1:"l’année prochaine","-1":"l’année dernière"},relativeTime:{future:{one:"dans {0} an",other:"dans {0} ans"},past:{one:"il y a {0} an",other:"il y a {0} ans"}}},month:{displayName:"mois",relative:{0:"ce mois-ci",1:"le mois prochain","-1":"le mois dernier"},relativeTime:{future:{one:"dans {0} mois",other:"dans {0} mois"},past:{one:"il y a {0} mois",other:"il y a {0} mois"}}},day:{displayName:"jour",relative:{0:"aujourd’hui",1:"demain",2:"après-demain","-2":"avant-hier","-1":"hier"},relativeTime:{future:{one:"dans {0} jour",other:"dans {0} jours"},past:{one:"il y a {0} jour",other:"il y a {0} jours"}}},hour:{displayName:"heure",relativeTime:{future:{one:"dans {0} heure",other:"dans {0} heures"},past:{one:"il y a {0} heure",other:"il y a {0} heures"}}},minute:{displayName:"minute",relativeTime:{future:{one:"dans {0} minute",other:"dans {0} minutes"},past:{one:"il y a {0} minute",other:"il y a {0} minutes"}}},second:{displayName:"seconde",relative:{0:"maintenant"},relativeTime:{future:{one:"dans {0} seconde",other:"dans {0} secondes"},past:{one:"il y a {0} seconde",other:"il y a {0} secondes"}}}}},{locale:"fr-BE",parentLocale:"fr"},{locale:"fr-BF",parentLocale:"fr"},{locale:"fr-BI",parentLocale:"fr"},{locale:"fr-BJ",parentLocale:"fr"},{locale:"fr-BL",parentLocale:"fr"},{locale:"fr-CA",parentLocale:"fr",fields:{year:{displayName:"année",relative:{0:"cette année",1:"l’année prochaine","-1":"l’année dernière"},relativeTime:{future:{one:"Dans {0} an",other:"Dans {0} ans"},past:{one:"Il y a {0} an",other:"Il y a {0} ans"}}},month:{displayName:"mois",relative:{0:"ce mois-ci",1:"le mois prochain","-1":"le mois dernier"},relativeTime:{future:{one:"dans {0} mois",other:"dans {0} mois"},past:{one:"il y a {0} mois",other:"il y a {0} mois"}}},day:{displayName:"jour",relative:{0:"aujourd’hui",1:"demain",2:"après-demain","-2":"avant-hier","-1":"hier"},relativeTime:{future:{one:"dans {0} jour",other:"dans {0} jours"},past:{one:"il y a {0} jour",other:"il y a {0} jours"}}},hour:{displayName:"heure",relativeTime:{future:{one:"dans {0} heure",other:"dans {0} heures"},past:{one:"il y a {0} heure",other:"il y a {0} heures"}}},minute:{displayName:"minute",relativeTime:{future:{one:"Dans {0} minute",other:"Dans {0} minutes"},past:{one:"Il y a {0} minute",other:"Il y a {0} minutes"}}},second:{displayName:"seconde",relative:{0:"maintenant"},relativeTime:{future:{one:"dans {0} seconde",other:"dans {0} secondes"},past:{one:"il y a {0} seconde",other:"il y a {0} secondes"}}}}},{locale:"fr-CD",parentLocale:"fr"},{locale:"fr-CF",parentLocale:"fr"},{locale:"fr-CG",parentLocale:"fr"},{locale:"fr-CH",parentLocale:"fr"},{locale:"fr-CI",parentLocale:"fr"},{locale:"fr-CM",parentLocale:"fr"},{locale:"fr-DJ",parentLocale:"fr"},{locale:"fr-DZ",parentLocale:"fr"},{locale:"fr-GA",parentLocale:"fr"},{locale:"fr-GF",parentLocale:"fr"},{locale:"fr-GN",parentLocale:"fr"},{locale:"fr-GP",parentLocale:"fr"},{locale:"fr-GQ",parentLocale:"fr"},{locale:"fr-HT",parentLocale:"fr"},{locale:"fr-KM",parentLocale:"fr"},{locale:"fr-LU",parentLocale:"fr"},{locale:"fr-MA",parentLocale:"fr"},{locale:"fr-MC",parentLocale:"fr"},{locale:"fr-MF",parentLocale:"fr"},{locale:"fr-MG",parentLocale:"fr"},{locale:"fr-ML",parentLocale:"fr"},{locale:"fr-MQ",parentLocale:"fr"},{locale:"fr-MR",parentLocale:"fr"},{locale:"fr-MU",parentLocale:"fr"},{locale:"fr-NC",parentLocale:"fr"},{locale:"fr-NE",parentLocale:"fr"},{locale:"fr-PF",parentLocale:"fr"},{locale:"fr-PM",parentLocale:"fr"},{locale:"fr-RE",parentLocale:"fr"},{locale:"fr-RW",parentLocale:"fr"},{locale:"fr-SC",parentLocale:"fr"},{locale:"fr-SN",parentLocale:"fr"},{locale:"fr-SY",parentLocale:"fr"},{locale:"fr-TD",parentLocale:"fr"},{locale:"fr-TG",parentLocale:"fr"},{locale:"fr-TN",parentLocale:"fr"},{locale:"fr-VU",parentLocale:"fr"},{locale:"fr-WF",parentLocale:"fr"},{locale:"fr-YT",parentLocale:"fr"}]})},function(t,e,n){!function(e,n){t.exports=n()}(0,function(){"use strict";return[{locale:"nl",pluralRuleFunction:function(t,e){var n=String(t).split("."),r=!n[1];return e?"other":1==t&&r?"one":"other"},fields:{year:{displayName:"jaar",relative:{0:"dit jaar",1:"volgend jaar","-1":"vorig jaar"},relativeTime:{future:{one:"over {0} jaar",other:"over {0} jaar"},past:{one:"{0} jaar geleden",other:"{0} jaar geleden"}}},month:{displayName:"maand",relative:{0:"deze maand",1:"volgende maand","-1":"vorige maand"},relativeTime:{future:{one:"over {0} maand",other:"over {0} maanden"},past:{one:"{0} maand geleden",other:"{0} maanden geleden"}}},day:{displayName:"dag",relative:{0:"vandaag",1:"morgen",2:"overmorgen","-2":"eergisteren","-1":"gisteren"},relativeTime:{future:{one:"over {0} dag",other:"over {0} dagen"},past:{one:"{0} dag geleden",other:"{0} dagen geleden"}}},hour:{displayName:"Uur",relativeTime:{future:{one:"over {0} uur",other:"over {0} uur"},past:{one:"{0} uur geleden",other:"{0} uur geleden"}}},minute:{displayName:"minuut",relativeTime:{future:{one:"over {0} minuut",other:"over {0} minuten"},past:{one:"{0} minuut geleden",other:"{0} minuten geleden"}}},second:{displayName:"seconde",relative:{0:"nu"},relativeTime:{future:{one:"over {0} seconde",other:"over {0} seconden"},past:{one:"{0} seconde geleden",other:"{0} seconden geleden"}}}}},{locale:"nl-AW",parentLocale:"nl"},{locale:"nl-BE",parentLocale:"nl"},{locale:"nl-BQ",parentLocale:"nl"},{locale:"nl-CW",parentLocale:"nl"},{locale:"nl-SR",parentLocale:"nl"},{locale:"nl-SX",parentLocale:"nl"}]})},function(t,e,n){!function(e,n){t.exports=n()}(0,function(){"use strict";return[{locale:"pt",pluralRuleFunction:function(t,e){var n=String(t).split("."),r=Number(n[0])==t;return e?"other":r&&t>=0&&t<=2&&2!=t?"one":"other"},fields:{year:{displayName:"ano",relative:{0:"este ano",1:"próximo ano","-1":"ano passado"},relativeTime:{future:{one:"em {0} ano",other:"em {0} anos"},past:{one:"há {0} ano",other:"há {0} anos"}}},month:{displayName:"mês",relative:{0:"este mês",1:"próximo mês","-1":"mês passado"},relativeTime:{future:{one:"em {0} mês",other:"em {0} meses"},past:{one:"há {0} mês",other:"há {0} meses"}}},day:{displayName:"dia",relative:{0:"hoje",1:"amanhã",2:"depois de amanhã","-2":"anteontem","-1":"ontem"},relativeTime:{future:{one:"em {0} dia",other:"em {0} dias"},past:{one:"há {0} dia",other:"há {0} dias"}}},hour:{displayName:"hora",relativeTime:{future:{one:"em {0} hora",other:"em {0} horas"},past:{one:"há {0} hora",other:"há {0} horas"}}},minute:{displayName:"minuto",relativeTime:{future:{one:"em {0} minuto",other:"em {0} minutos"},past:{one:"há {0} minuto",other:"há {0} minutos"}}},second:{displayName:"segundo",relative:{0:"agora"},relativeTime:{future:{one:"em {0} segundo",other:"em {0} segundos"},past:{one:"há {0} segundo",other:"há {0} segundos"}}}}},{locale:"pt-AO",parentLocale:"pt-PT"},{locale:"pt-PT",parentLocale:"pt",pluralRuleFunction:function(t,e){var n=String(t).split("."),r=!n[1];return e?"other":1==t&&r?"one":"other"},fields:{year:{displayName:"ano",relative:{0:"este ano",1:"próximo ano","-1":"ano passado"},relativeTime:{future:{one:"dentro de {0} ano",other:"dentro de {0} anos"},past:{one:"há {0} ano",other:"há {0} anos"}}},month:{displayName:"mês",relative:{0:"este mês",1:"próximo mês","-1":"mês passado"},relativeTime:{future:{one:"dentro de {0} mês",other:"dentro de {0} meses"},past:{one:"há {0} mês",other:"há {0} meses"}}},day:{displayName:"dia",relative:{0:"hoje",1:"amanhã",2:"depois de amanhã","-2":"anteontem","-1":"ontem"},relativeTime:{future:{one:"dentro de {0} dia",other:"dentro de {0} dias"},past:{one:"há {0} dia",other:"há {0} dias"}}},hour:{displayName:"hora",relativeTime:{future:{one:"dentro de {0} hora",other:"dentro de {0} horas"},past:{one:"há {0} hora",other:"há {0} horas"}}},minute:{displayName:"minuto",relativeTime:{future:{one:"dentro de {0} minuto",other:"dentro de {0} minutos"},past:{one:"há {0} minuto",other:"há {0} minutos"}}},second:{displayName:"segundo",relative:{0:"agora"},relativeTime:{future:{one:"dentro de {0} segundo",other:"dentro de {0} segundos"},past:{one:"há {0} segundo",other:"há {0} segundos"}}}}},{locale:"pt-CV",parentLocale:"pt-PT"},{locale:"pt-GW",parentLocale:"pt-PT"},{locale:"pt-MO",parentLocale:"pt-PT"},{locale:"pt-MZ",parentLocale:"pt-PT"},{locale:"pt-ST",parentLocale:"pt-PT"},{locale:"pt-TL",parentLocale:"pt-PT"}]})},function(t,e,n){!function(e,n){t.exports=n()}(0,function(){"use strict";return[{locale:"tr",pluralRuleFunction:function(t,e){return e?"other":1==t?"one":"other"},fields:{year:{displayName:"Yıl",relative:{0:"bu yıl",1:"gelecek yıl","-1":"geçen yıl"},relativeTime:{future:{one:"{0} yıl sonra",other:"{0} yıl sonra"},past:{one:"{0} yıl önce",other:"{0} yıl önce"}}},month:{displayName:"Ay",relative:{0:"bu ay",1:"gelecek ay","-1":"geçen ay"},relativeTime:{future:{one:"{0} ay sonra",other:"{0} ay sonra"},past:{one:"{0} ay önce",other:"{0} ay önce"}}},day:{displayName:"Gün",relative:{0:"bugün",1:"yarın",2:"öbür gün","-2":"evvelsi gün","-1":"dün"},relativeTime:{future:{one:"{0} gün sonra",other:"{0} gün sonra"},past:{one:"{0} gün önce",other:"{0} gün önce"}}},hour:{displayName:"Saat",relativeTime:{future:{one:"{0} saat sonra",other:"{0} saat sonra"},past:{one:"{0} saat önce",other:"{0} saat önce"}}},minute:{displayName:"Dakika",relativeTime:{future:{one:"{0} dakika sonra",other:"{0} dakika sonra"},past:{one:"{0} dakika önce",other:"{0} dakika önce"}}},second:{displayName:"Saniye",relative:{0:"şimdi"},relativeTime:{future:{one:"{0} saniye sonra",other:"{0} saniye sonra"},past:{one:"{0} saniye önce",other:"{0} saniye önce"}}}}},{locale:"tr-CY",parentLocale:"tr"}]})},function(t,e,n){var r=n(455),i=r(Object.getPrototypeOf,Object);t.exports=i},function(t,e,n){t.exports=n(1123)},function(t,e,n){"use strict";(function(t,r){Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(1124),a=function(t){return t&&t.__esModule?t:{default:t}}(o);i="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:r;var s=(0,a.default)(i);e.default=s}).call(e,n(34),n(164)(t))},function(t,e,n){"use strict";function r(t){var e,n=t.Symbol;return"function"==typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){var n=e&&e.type;return"Given action "+(n&&'"'+n.toString()+'"'||"an action")+', reducer "'+t+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function o(t){Object.keys(t).forEach(function(e){var n=t[e];if(void 0===n(void 0,{type:s.ActionTypes.INIT}))throw new Error('Reducer "'+e+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+e+"\" returned undefined when probed with a random type. Don't try to handle "+s.ActionTypes.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}function a(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var a=e[r];"function"==typeof t[a]&&(n[a]=t[a])}var s=Object.keys(n),u=void 0;try{o(n)}catch(t){u=t}return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];if(u)throw u;for(var r=!1,o={},a=0;a<s.length;a++){var l=s[a],c=n[l],h=t[l],f=c(h,e);if(void 0===f){var d=i(l,e);throw new Error(d)}o[l]=f,r=r||f!==h}return r?o:t}}e.__esModule=!0,e.default=a;var s=n(495),u=n(139),l=(r(u),n(496));r(l)},function(t,e,n){"use strict";function r(t,e){return function(){return e(t.apply(void 0,arguments))}}function i(t,e){if("function"==typeof t)return r(t,e);if("object"!=typeof t||null===t)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===t?"null":typeof t)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(t),i={},o=0;o<n.length;o++){var a=n[o],s=t[a];"function"==typeof s&&(i[a]=r(s,e))}return i}e.__esModule=!0,e.default=i},function(t,e,n){"use strict";function r(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return function(n,r,o){var s=t(n,r,o),u=s.dispatch,l=[],c={getState:s.getState,dispatch:function(t){return u(t)}};return l=e.map(function(t){return t(c)}),u=a.default.apply(void 0,l)(s.dispatch),i({},s,{dispatch:u})}}}e.__esModule=!0;var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.default=r;var o=n(497),a=function(t){return t&&t.__esModule?t:{default:t}}(o)},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n(38),i=(n.n(r),n(1129)),o=n.n(i),a=n(1135),s=n.n(a),u=n(1136),l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r.createStore)(u.a,t,Object(r.applyMiddleware)(o.a,s.a))}},function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.then}function i(t){var e=t.dispatch;return function(t){return function(n){return a.isFSA(n)?r(n.payload)?n.payload.then(function(t){return e(o({},n,{payload:t}))},function(t){return e(o({},n,{payload:t,error:!0}))}):t(n):r(n)?n.then(e):t(n)}}}e.__esModule=!0;var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.default=i;var a=n(1130);t.exports=e.default},function(t,e,n){"use strict";function r(t){return u.indexOf(t)>-1}function i(t){return s.default(t)&&void 0!==t.type&&Object.keys(t).every(r)}function o(t){return!0===t.error}e.__esModule=!0,e.isFSA=i,e.isError=o;var a=n(1131),s=function(t){return t&&t.__esModule?t:{default:t}}(a),u=["type","payload","error","meta"]},function(t,e,n){function r(t){return!!t&&"object"==typeof t}function i(t,e){return a(t,e,u)}function o(t){var e;if(!r(t)||f.call(t)!=l||s(t)||!h.call(t,"constructor")&&"function"==typeof(e=t.constructor)&&!(e instanceof e))return!1;var n;return i(t,function(t,e){n=e}),void 0===n||h.call(t,n)}var a=n(1132),s=n(498),u=n(1133),l="[object Object]",c=Object.prototype,h=c.hasOwnProperty,f=c.toString;t.exports=o},function(t,e){var n=function(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var u=a[t?s:++i];if(!1===n(o[u],u,o))break}return e}}();t.exports=n},function(t,e,n){function r(t,e){return t="number"==typeof t||l.test(t)?+t:-1,e=null==e?f:e,t>-1&&t%1==0&&t<e}function i(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=f}function o(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function a(t){if(null==t)return[];o(t)||(t=Object(t));var e=t.length;e=e&&i(e)&&(u(t)||s(t))&&e||0;for(var n=t.constructor,a=-1,l="function"==typeof n&&n.prototype===t,c=Array(e),f=e>0;++a<e;)c[a]=a+"";for(var d in t)f&&r(d,e)||"constructor"==d&&(l||!h.call(t,d))||c.push(d);return c}var s=n(498),u=n(1134),l=/^\d+$/,c=Object.prototype,h=c.hasOwnProperty,f=9007199254740991;t.exports=a},function(t,e){function n(t){return!!t&&"object"==typeof t}function r(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=m}function i(t){return o(t)&&f.call(t)==s}function o(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function a(t){return null!=t&&(i(t)?d.test(c.call(t)):n(t)&&u.test(t))}var s="[object Function]",u=/^\[object .+?Constructor\]$/,l=Object.prototype,c=Function.prototype.toString,h=l.hasOwnProperty,f=l.toString,d=RegExp("^"+c.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),p=function(t,e){var n=null==t?void 0:t[e];return a(n)?n:void 0}(Array,"isArray"),m=9007199254740991,g=p||function(t){return n(t)&&r(t.length)&&"[object Array]"==f.call(t)};t.exports=g},function(t,e,n){"use strict";function r(t){return function(e){var n=e.dispatch,r=e.getState;return function(e){return function(i){return"function"==typeof i?i(n,r,t):e(i)}}}}e.__esModule=!0;var i=r();i.withExtraArgument=r,e.default=i},function(t,e,n){"use strict";var r=n(38),i=(n.n(r),n(1137)),o=n(1357),a=n(1358),s=n(1359),u=n(1361),l=n(1362),c=n(1363),h=n(1364),f=n(1365),d=n(266),p=n(1366),m=n(1367),g=n(1368),v=n(1371),y=n(1372),b=n(1374),w=n(1375),x=n(1378),_=n(1379),E=n(1380),M=n(578);e.a=Object(r.combineReducers)({config:i.a,customerlogo:o.a,flash:a.a,intl:s.a,layer:u.a,logging:l.a,login:c.a,mapviewers:h.a,measurements:f.a,obliqueviewer:d.b,panoramaviewer:p.a,reportblurring:m.a,routing:g.a,searchhistory:v.a,srs:y.a,stage:b.a,timetravel:w.a,tour:x.a,userprofile:_.a,viewermanager:E.a,windowmanager:M.a})},function(t,e,n){"use strict";function r(t,e,n){return e in t?a()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var i,o=n(1),a=n.n(o),s=n(4),u=n.n(s),l=n(18),c=(n.n(l),n(343)),h=n.n(c),f=n(344),d=n.n(f),p=n(140),m=n(110),g=n(174),v=n(199),y=n(205),b=u.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},w=void 0;v.a.getLocalStorageEnabled()&&(w=y.a.getItem("streetsmart_config_id"));var x={apiKey:null,userInfo:null,config:null,isApi:!1,configId:w,configUrl:"https://atlas.cyclomedia.com/configuration/",configFile:null};e.a=Object(l.handleActions)((i={},r(i,p.ActionTypes.SET_API_KEY,function(t,e){var n=h()(d.a),r=n.name,i=n.version,o="&nameVersion="+r+"_"+i,a=e.payload+o;return b({},t,{apiKey:a})}),r(i,p.ActionTypes.LOAD_USER_INFO,{next:function(t,e){return b({},t,{userInfo:e.payload})},throw:m.b}),r(i,p.ActionTypes.LOAD_USER_CONFIG,{next:function(t,e){return v.a.getLocalStorageEnabled()&&y.a.setItem("streetsmart_config_id",e.payload.configId),b({},t,{config:e.payload.config,configId:e.payload.configId})},throw:m.b}),r(i,p.ActionTypes.DESTROY_USER_CONFIG,function(t,e){return v.a.getLocalStorageEnabled()&&y.a.removeItem("streetsmart_config_id"),b({},t,{config:null,configId:null})}),r(i,p.ActionTypes.SET_CONFIG_URL,function(t,e){return b({},t,{configUrl:e.payload})}),r(i,p.ActionTypes.SET_CONFIG_FILE,function(t,e){return b({},t,{configFile:e.payload})}),r(i,p.ActionTypes.SET_ADDRESS_SETTINGS,function(t,e){return b({},t,{config:b({},t.config,{services:b({},t.config.services,{address:b({},t.config.services.address,{code:e.payload.locale,databaseResource:e.payload.database})})})})}),r(i,p.ActionTypes.SET_IS_API,function(t,e){return b({},t,{isApi:e.payload})}),r(i,g.ActionTypes.LOGOUT,function(t,e){return b({},t,{config:null,userInfo:null})}),i),x)},function(t,e){function n(t){return null===t}t.exports=n},function(t,e){function n(t){return void 0===t}t.exports=n},function(t,e,n){function r(t,e,n,r){t=o(t)?t:u(t),n=n&&!r?s(n):0;var c=t.length;return n<0&&(n=l(c+n,0)),a(t)?n<=c&&t.indexOf(e,n)>-1:!!c&&i(t,e,n)>-1}var i=n(1141),o=n(165),a=n(345),s=n(483),u=n(1145),l=Math.max;t.exports=r},function(t,e,n){function r(t,e,n){return e===e?a(t,e,n):i(t,o,n)}var i=n(1142),o=n(1143),a=n(1144);t.exports=r},function(t,e){function n(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}t.exports=n},function(t,e){function n(t){return t!==t}t.exports=n},function(t,e){function n(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}t.exports=n},function(t,e,n){function r(t){return null==t?[]:i(t,o(t))}var i=n(1146),o=n(194);t.exports=r},function(t,e,n){function r(t,e){return i(e,function(e){return t[e]})}var i=n(491);t.exports=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t,e){var n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],r=n.namespace;(0,h.default)((0,s.default)(t),"Expected handlers to be an plain object.");var o=(0,g.flattenReducerMap)(t,r),a=(0,m.default)(o).map(function(t){return(0,d.default)(t,o[t],e)}),u=l.default.apply(void 0,i(a));return function(){var t=arguments.length<=0||void 0===arguments[0]?e:arguments[0],n=arguments[1];return u(t,n)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var a=n(139),s=r(a),u=n(1148),l=r(u),c=n(81),h=r(c),f=n(500),d=r(f),p=n(346),m=r(p),g=n(503)},function(t,e,n){"use strict";function r(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t,n){return e.reduce(function(t,e){return e(t,n)},t)}}e.__esModule=!0,e.default=r,t.exports=e.default},function(t,e,n){"use strict";function r(t){var e=(0,o.default)(t),n=e.every(function(t){return"next"===t||"throw"===t});return e.length&&e.length<=2&&n}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var i=n(346),o=function(t){return t&&t.__esModule?t:{default:t}}(i)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function a(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=(0,v.default)((0,x.default)(n))?n.pop():{},o=i.namespace;return(0,L.default)(n.every(E.default)&&((0,E.default)(t)||(0,v.default)(t)),"Expected optional object followed by string action types"),(0,E.default)(t)?l([t].concat(n)):h({},s(t,o),l(n))}function s(t,e){var n=(0,P.flattenActionMap)(t,e),r=u(n);return(0,P.unflattenActionCreators)(r,e)}function u(t){function e(t){if((0,S.default)(t)||(0,C.default)(t))return!0;if((0,b.default)(t)){var e=c(t,2),n=e[0],r=void 0===n?m.default:n,i=e[1];return(0,S.default)(r)&&(0,S.default)(i)}return!1}return(0,N.default)(Object.keys(t),function(n,r){var a=t[r];(0,L.default)(e(a),"Expected function, undefined, null, or array with payload and meta functions for "+r);var s=(0,b.default)(a)?O.default.apply(void 0,[r].concat(o(a))):(0,O.default)(r,a);return h({},n,i({},r,s))})}function l(t){var e=(0,N.default)(t,function(t,e){return h({},t,i({},e,m.default))}),n=u(e);return(0,N.default)(Object.keys(n),function(t,e){return h({},t,i({},(0,d.default)(e),n[e]))})}Object.defineProperty(e,"__esModule",{value:!0});var c=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.default=a;var f=n(504),d=r(f),p=n(167),m=r(p),g=n(139),v=r(g),y=n(163),b=r(y),w=n(1151),x=r(w),_=n(345),E=r(_),M=n(115),S=r(M),T=n(501),C=r(T),I=n(499),O=r(I),A=n(81),L=r(A),R=n(1152),N=r(R),P=n(503)},function(t,e){function n(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}t.exports=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return t.reduce(function(t,n){return e(t,n)},{})}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=["CMDatabase","Solr","OSM","Navteq","PDOK","Nokia","FinlandTransport","FinlandTransport;Nokia"]},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(51),o=n.n(i),a=n(80),s=n.n(a),u=n(1),l=n.n(u),c=n(19),h=n.n(c),f=n(16),d=n.n(f),p=n(32),m=n.n(p),g=n(1155),v=n(1169),y=n(1354),b=n(1355),w=n(1356),x=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=d()(t);!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(h()(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),l()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),E=function t(){r(this,t)},M=new s.a([["gsc:ApplicationConfiguration",["application",g.a]],["gsc:MapConfiguration",["map",v.a]],["gsc:ViewerConfiguration",["viewer",y.a]],["gsc:ServicesConfiguration",["services",b.a]],["gsc:UsageLoggingConfiguration",["usageLogging",w.a]]]),S=function(){function t(){r(this,t)}return _(t,[{key:"parseConfig",value:function(t){var e=new E;t=t["gsc:GlobeSpotterConfiguration"];var n=!0,r=!1,i=void 0;try{for(var a,s=d()(o()(t));!(n=(a=s.next()).done);n=!0){var u=a.value,l=t[u];if(M.has(u)){var c=M.get(u),h=x(c,2),f=h[0],p=h[1];e[f]=p.call(this,l)}else m.a.warn("Unknown child: "+u)}}catch(t){r=!0,i=t}finally{try{!n&&s.return&&s.return()}finally{if(r)throw i}}return e}}]),t}();e.a=S},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",function(){return f});var i=n(32),o=n.n(i),a=n(1156),s=n.n(a),u=n(141),l=n(118),c=function t(){r(this,t),this.functionalities=[]};c.defaults={userProfileOnline:!1,hasOnlineContent:!1,isOnlineContentShared:!1};var h=function(t){return s()(Object(l.a)(t["gsc:Functionality"]).map(function(t){var e=t["gsc:Name"],n=u.a[e];return n||o.a.warn("Unknown functionality: "+e),n}))},f=function(t){var e=new c,n=c.defaults;return e.helpUrl="//streetsmarthelp.cyclomedia.com",e.disclaimerUrl=Object(l.e)(t,"gsc:DisclaimerResource/@xlink:href"),e.logoLink=Object(l.e)(t,"gsc:LogoLink/@xlink:href"),e.userProfileOnline=Object(l.e)(t,"gsc:UserProfileOnline",n),e.hasOnlineContent=Object(l.e)(t,"gsc:HasOnlineContent"),e.isOnlineContentShared=Object(l.e)(t,"gsc:IsOnlineContentShared"),e.messageShortText=Object(l.e)(t,"gsc:MessageShortText"),e.messageFullText=Object(l.e)(t,"gsc:MessageFullText"),e.messageLink=Object(l.e)(t,"gsc:MessageLink"),e.feedbackUrl=Object(l.e)(t,"gsc:FeedbackLink/@xlink:href"),e.feedbackSubject=Object(l.e)(t,"gsc: FeedbackSubject"),e.extraInfoTabTitle=Object(l.e)(t,"gsc:ExtraInfoTabTitle"),e.extraInfoTabText=Object(l.e)(t,"gsc:ExtraInfoTabText"),e.functionalities=h(t["gsc:Functionalities"]),e}},function(t,e){function n(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i}t.exports=n},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",function(){return b});var i=n(51),o=n.n(i),a=n(1158),s=n.n(a),u=n(1160),l=n.n(u),c=n(1162),h=n.n(c),f=n(1165),d=n.n(f),p=n(1),m=n.n(p),g=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),m()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),v=function(){function t(e,n){var i=n.value,o=n.description;r(this,t),y.call(this),d()(i,void 0)||(this.value=i),o&&(this.description=o),h()(this)}return g(t,[{key:"toString",value:function(){return this.sym}},{key:"valueOf",value:function(){return this.value}},{key:"display",get:function(){return this.description||l()(this.sym)}}]),t}(),y=function(){this.sym=s()(name)},b=function(){function t(e){r(this,t);for(var n in e){if(!e[n])throw new TypeError("each enum should have been initialized with at least empty {} value");this[n]=new v(n,e[n])}h()(this)}return g(t,[{key:"symbols",value:function(){var t=this;return o()(this).map(function(e){return t[e]})}},{key:"keys",value:function(){return o()(this)}},{key:"contains",value:function(t){return t instanceof v&&this[l()(t.sym)]===t}}]),t}()},function(t,e,n){t.exports={default:n(1159),__esModule:!0}},function(t,e,n){n(317),t.exports=n(22).Symbol.for},function(t,e,n){t.exports={default:n(1161),__esModule:!0}},function(t,e,n){n(317),t.exports=n(22).Symbol.keyFor},function(t,e,n){t.exports={default:n(1163),__esModule:!0}},function(t,e,n){n(1164),t.exports=n(22).Object.freeze},function(t,e,n){var r=n(92),i=n(237).onFreeze;n(238)("freeze",function(t){return function(e){return t&&r(e)?t(i(e)):e}})},function(t,e,n){t.exports={default:n(1166),__esModule:!0}},function(t,e,n){n(1167),t.exports=n(22).Object.is},function(t,e,n){var r=n(37);r(r.S,"Object",{is:n(1168)})},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t){var e=new B;if(e.srsName=Object(M.e)(t,"gsc:SRSName"),e.initialExtent=Object(M.c)(t["gsc:InitialExtent"]),e.maxExtent=Object(M.c)(t["gsc:MaxExtent"]),e.maxResolution=parseFloat(t["gsc:MaxResolution"]),e.maxZoomLevel=parseInt(t["gsc:MaxZoomLevel"],10),e.featureZoomLevel=parseInt(t["gsc:FeatureZoomLevel"],10),isNaN(e.featureZoomLevel)&&!isNaN(e.maxZoomLevel)&&!isNaN(e.maxResolution)){for(var n=new Array(e.maxZoomLevel+1),r=e.maxResolution,i=e.maxZoomLevel,o=F.b.getResolutionForZoomLevel,s=0,u=i;s<=u;++s)n[s]=o(r,s);e.featureZoomLevel=n.indexOf(n.reduce(function(t,e){return Math.abs(e-.4)<Math.abs(t-.4)?e:t})),U.a.info("Set featureZoomLevel to: ",e.featureZoomLevel)}e.baseLayers=a(t["gsc:BaseLayerConfigurations"]),e.baseLayers&&e.baseLayers.forEach(function(t){return t.isBaseLayer=!0});var l=t["gsc:LayerConfigurations"];return l&&(e.overlays=a(l),e.showALSLayer=Object(M.e)(l,"gsc:ShowALSLayer"),e.showEntitiesLayer=Object(M.e)(l,"gsc:ShowEntitiesLayer")),e.obliqueLayers=a(t["gsc:ObliqueLayerConfigurations"]),e}function o(t){var e={id:t["@id"],name:t["gsc:Name"],description:t["gsc:Description"],visible:Object(M.b)(Object(M.e)(t,"gsc:Visible",!0)),layers:a(t["gsc:Layers"])};if("gsc:AuthRequired"in t){var n=Object(M.b)(t["gsc:AuthRequired"]);e.layers.forEach(function(t){t.authRequired=n})}return e.layers.forEach(function(t){t.visible=!0}),new O.a(e)}function a(t){var e=this,n=[];if(!t)return[];var r=!0,i=!1,o=void 0;try{for(var a,s=x()(b()(t));!(r=(a=s.next()).done);r=!0){var u=a.value,l=Object(M.a)(t[u]);z.has(u)?function(){var t=z.get(u).bind(e);l.forEach(function(e){var r=t(e);r&&n.push(r)})}():U.a.error("Unknown type: "+u)}}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}function s(t){var e={};return g(t,e),e.version=Object(M.d)(Object(M.e)(t,"gsc:WFSVersion")),e.typeName=Object(M.e)(t,"gsc:TypeNames/gsc:Name/#text")||Object(M.e)(t,"gsc:TypeNames/gsc:Name"),e.color=Object(M.e)(t,"gsc:Color"),e.sld={},e.sld.url=Object(M.e)(t,"gsc:SLD/gsc:OnlineResource/@xlink:href"),e.sld.styledLayerDescriptor=Object(M.e)(t,"gsc:SLD/gsc:StyledLayerDescriptor"),e.toolTipProperties=Object(M.e)(t,"gsc:ToolTipProperties"),new A.a(e)}function u(t){var e={};g(t,e);var n=L.a.defaults,r=n.params;return e.version=Object(M.d)(Object(M.e)(t,"gsc:WMSVersion",r.VERSION)),e.imageFormat=Object(M.e)(t,"gsc:ImageFormat",r.FORMAT),e.transparent=Object(M.b)(Object(M.e)(t,"gsc:Transparent",r.TRANSPARENT)),e.tiled=Object(M.e)(t,"gsc:Tiled",n.tiled),e.layers=Object(M.a)(t["gsc:Layers"]["gsc:Layer"]).map(function(t){return{name:Object(M.e)(t,"gsc:Name"),style:Object(M.e)(t,"gsc:Style")}}),e.bgColor=Object(M.e)(t,"gsc:BgColor",r.BGCOLOR),e.exceptions=Object(M.e)(t,"gsc:Exceptions",r.EXCEPTIONS),new L.a(e)}function l(t){var e={};g(t,e);var n=R.a.defaults,r=n.params;return e.version=Object(M.d)(Object(M.e)(t,"gsc:WMTSVersion",n.version)),e.layers=Object(M.a)(t["gsc:Layers"]["gsc:Layer"]).map(function(t){return{name:Object(M.e)(t,"gsc:Name"),tileMatrixSet:Object(M.e)(t,"gsc:TileMatrixSet/gsc:Identifier"),imageFormat:Object(M.e)(t,"gsc:ImageFormat",r.FORMAT),style:Object(M.e)(t,"gsc:Style/gsc:Identifier",r.STYLE)}}),new R.a(e)}function c(t){var e={};return g(t,e),e.tileOrigin=parseInt(Object(M.e)(t,"gsc:TileOrder",I.a.BOTTOM_LEFT),10),h(e),new N.a(e)}function h(t){var e=function(t,e){return t=t.replace(/##([xyz])##/g,"{$1}"),e&&(t=t.replace("{y}","{-y}")),t},n="tileOrigin"in t&&t.tileOrigin===I.a.BOTTOM_LEFT;t.url&&(t.url=e(t.url,n)),t.urls&&(t.urls=t.urls.map(function(t){return e(t,n)}))}function f(t){var e={};return g(t,e),new P.a(e)}function d(t){var e={};return g(t,e),e.imagerySet=Object(M.e)(t,"gsc:ImagerySet"),e.bingKey=Object(M.e)(t,"gsc:Key"),new D.a(e)}function p(t){var e={};return g(t,e),e.arcGIStype=Object(M.e)(t,"gsc:Type"),e.layers=Object(M.e)(t,"gsc:Layers"),new k.a(e)}function m(t){var e={};return g(t,e),{name:e.name}}function g(t,e){var n=t["@id"];e.id=n&&""!==n?n:T()(),e.name=Object(M.e)(t,"gsc:Name"),e.description=Object(M.e)(t,"gsc:Description"),e.projection=Object(M.e)(t,"gsc:SRSName"),e.urls=Object(M.a)(Object(M.e)(t,"gsc:OnlineResource")).map(function(t){return Object(M.e)(t,"@xlink:href")}),1===e.urls.length&&(e.url=e.urls[0]),e.attribution=Object(M.e)(t,"gsc:CopyrightHTML"),e.minZoomLevel=parseInt(Object(M.e)(t,"gsc:MinZoomLevel",0),10),e.maxZoomLevel=parseInt(Object(M.e)(t,"gsc:MaxZoomLevel",99),10),e.visible=Object(M.b)(Object(M.e)(t,"gsc:Visible",!0)),e.sortOrder=parseInt(Object(M.e)(t,"gsc:SortOrder",-1),10),e.capabilitiesRequest=Object(M.e)(t,"gsc:CapabilitiesRequest"),e.capabilitiesFormat=Object(M.e)(t,"gsc:CapabilitiesFormat"),e.capabilitiesCopyrightProperty=Object(M.e)(t,"gsc:CapabilitiesCopyrightProperty"),e.authRequired=Object(M.b)(Object(M.e)(t,"gsc:AuthRequired",!1)),e.credentials=v(t["gsc:Credentials"]),e.useProxy=Object(M.b)(Object(M.e)(t,"gsc:UseProxy",!1))}function v(t){return t?new Credentials(Object(M.e)(t,"gsc:Username"),Object(M.e)(t,"gsc:Password")):null}e.a=i;var y=n(51),b=n.n(y),w=n(16),x=n.n(w),_=n(80),E=n.n(_),M=n(118),S=n(105),T=n.n(S),C=n(17),I=(n.n(C),n(1170)),O=(n(200),n(506)),A=n(261),L=n(583),R=n(584),N=n(585),P=n(586),k=n(588),D=n(587),F=n(142),j=n(32),U=n.n(j),B=function t(){r(this,t)},z=new E.a([["gsc:LayerGroup",o],["gsc:WFSLayer",s],["gsc:WMSLayer",u],["gsc:WMTSLayer",l],["gsc:TMSLayer",c],["gsc:OSMLayer",f],["gsc:BingLayer",d],["gsc:ArcGISRestLayer",p],["gsc:ObliqueLayer",m]])},function(t,e,n){"use strict";e.a={BOTTOM_LEFT:1,TOP_LEFT:2}},function(t,e,n){t.exports={default:n(1172),__esModule:!0}},function(t,e,n){n(1173),t.exports=n(22).Math.log2},function(t,e,n){var r=n(37);r(r.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(6),s=r(a),u=n(7),l=r(u),c=n(8),h=r(c),f=n(0),d=r(f),p=n(507),m=r(p),g=function(t){function e(){return(0,s.default)(this,e),(0,l.default)(this,t.apply(this,arguments))}return(0,h.default)(e,t),e.prototype.render=function(){return d.default.createElement(m.default,(0,o.default)({},this.props,{accordion:!0}),this.props.children)},e}(d.default.Component);e.default=g,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(59),o=r(i),a=n(11),s=r(a),u=n(13),l=r(u),c=n(6),h=r(c),f=n(7),d=r(f),p=n(8),m=r(p),g=n(12),v=r(g),y=n(0),b=r(y),w=n(3),x=r(w),_=n(14),E=n(52),M=n(349),S=r(M),T={onDismiss:x.default.func,closeLabel:x.default.string},C={closeLabel:"Close alert"},I=function(t){function e(){return(0,h.default)(this,e),(0,d.default)(this,t.apply(this,arguments))}return(0,m.default)(e,t),e.prototype.render=function(){var t,e=this.props,n=e.onDismiss,r=e.closeLabel,i=e.className,o=e.children,a=(0,l.default)(e,["onDismiss","closeLabel","className","children"]),u=(0,_.splitBsProps)(a),c=u[0],h=u[1],f=!!n,d=(0,s.default)({},(0,_.getClassSet)(c),(t={},t[(0,_.prefix)(c,"dismissable")]=f,t));return b.default.createElement("div",(0,s.default)({},h,{role:"alert",className:(0,v.default)(i,d)}),f&&b.default.createElement(S.default,{onClick:n,label:r}),o)},e}(b.default.Component);I.propTypes=T,I.defaultProps=C,e.default=(0,_.bsStyles)((0,o.default)(E.State),E.State.INFO,(0,_.bsClass)("alert",I)),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),u=n(6),l=r(u),c=n(7),h=r(c),f=n(8),d=r(f),p=n(12),m=r(p),g=n(0),v=r(g),y=n(3),b=r(y),w=n(14),x={pullRight:b.default.bool},_={pullRight:!1},E=function(t){function e(){return(0,l.default)(this,e),(0,h.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.hasContent=function(t){var e=!1;return v.default.Children.forEach(t,function(t){e||(t||0===t)&&(e=!0)}),e},e.prototype.render=function(){var t=this.props,e=t.pullRight,n=t.className,r=t.children,i=(0,s.default)(t,["pullRight","className","children"]),a=(0,w.splitBsProps)(i),u=a[0],l=a[1],c=(0,o.default)({},(0,w.getClassSet)(u),{"pull-right":e,hidden:!this.hasContent(r)});return v.default.createElement("span",(0,o.default)({},l,{className:(0,m.default)(n,c)}),r)},e}(v.default.Component);E.propTypes=x,E.defaultProps=_,e.default=(0,w.bsClass)("badge",E),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),u=n(6),l=r(u),c=n(7),h=r(c),f=n(8),d=r(f),p=n(12),m=r(p),g=n(0),v=r(g),y=n(508),b=r(y),w=n(14),x=function(t){function e(){return(0,l.default)(this,e),(0,h.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.className,n=(0,s.default)(t,["className"]),r=(0,w.splitBsProps)(n),i=r[0],a=r[1],u=(0,w.getClassSet)(i);return v.default.createElement("ol",(0,o.default)({},a,{role:"navigation","aria-label":"breadcrumbs",className:(0,m.default)(e,u)}))},e}(v.default.Component);x.Item=b.default,e.default=(0,w.bsClass)("breadcrumb",x),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),u=n(6),l=r(u),c=n(7),h=r(c),f=n(8),d=r(f),p=n(12),m=r(p),g=n(0),v=r(g),y=n(14),b=function(t){function e(){return(0,l.default)(this,e),(0,h.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.className,n=(0,s.default)(t,["className"]),r=(0,y.splitBsProps)(n),i=r[0],a=r[1],u=(0,y.getClassSet)(i);return v.default.createElement("div",(0,o.default)({},a,{role:"toolbar",className:(0,m.default)(e,u)}))},e}(v.default.Component);e.default=(0,y.bsClass)("btn-toolbar",b),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),u=n(6),l=r(u),c=n(7),h=r(c),f=n(8),d=r(f),p=n(12),m=r(p),g=n(0),v=r(g),y=n(3),b=r(y),w=n(1180),x=r(w),_=n(509),E=r(_),M=n(352),S=r(M),T=n(93),C=r(T),I=n(14),O=n(60),A=r(O),L={slide:b.default.bool,indicators:b.default.bool,interval:b.default.number,controls:b.default.bool,pauseOnHover:b.default.bool,wrap:b.default.bool,onSelect:b.default.func,onSlideEnd:b.default.func,activeIndex:b.default.number,defaultActiveIndex:b.default.number,direction:b.default.oneOf(["prev","next"]),prevIcon:b.default.node,prevLabel:b.default.string,nextIcon:b.default.node,nextLabel:b.default.string},R={slide:!0,interval:5e3,pauseOnHover:!0,wrap:!0,indicators:!0,controls:!0,prevIcon:v.default.createElement(S.default,{glyph:"chevron-left"}),prevLabel:"Previous",nextIcon:v.default.createElement(S.default,{glyph:"chevron-right"}),nextLabel:"Next"},N=function(t){function e(n,r){(0,l.default)(this,e);var i=(0,h.default)(this,t.call(this,n,r));i.handleMouseOver=i.handleMouseOver.bind(i),i.handleMouseOut=i.handleMouseOut.bind(i),i.handlePrev=i.handlePrev.bind(i),i.handleNext=i.handleNext.bind(i),i.handleItemAnimateOutEnd=i.handleItemAnimateOutEnd.bind(i);var o=n.defaultActiveIndex;return i.state={activeIndex:null!=o?o:0,previousActiveIndex:null,direction:null},i.isUnmounted=!1,i}return(0,d.default)(e,t),e.prototype.componentWillReceiveProps=function(t){var e=this.getActiveIndex();null!=t.activeIndex&&t.activeIndex!==e&&(clearTimeout(this.timeout),this.setState({previousActiveIndex:e,direction:null!=t.direction?t.direction:this.getDirection(e,t.activeIndex)}))},e.prototype.componentDidMount=function(){this.waitForNext()},e.prototype.componentWillUnmount=function(){clearTimeout(this.timeout),this.isUnmounted=!0},e.prototype.handleMouseOver=function(){this.props.pauseOnHover&&this.pause()},e.prototype.handleMouseOut=function(){this.isPaused&&this.play()},e.prototype.handlePrev=function(t){var e=this.getActiveIndex()-1;if(e<0){if(!this.props.wrap)return;e=A.default.count(this.props.children)-1}this.select(e,t,"prev")},e.prototype.handleNext=function(t){var e=this.getActiveIndex()+1;if(e>A.default.count(this.props.children)-1){if(!this.props.wrap)return;e=0}this.select(e,t,"next")},e.prototype.handleItemAnimateOutEnd=function(){var t=this;this.setState({previousActiveIndex:null,direction:null},function(){t.waitForNext(),t.props.onSlideEnd&&t.props.onSlideEnd()})},e.prototype.getActiveIndex=function(){var t=this.props.activeIndex;return null!=t?t:this.state.activeIndex},e.prototype.getDirection=function(t,e){return t===e?null:t>e?"prev":"next"},e.prototype.select=function(t,e,n){if(clearTimeout(this.timeout),!this.isUnmounted){var r=this.props.slide?this.getActiveIndex():null;n=n||this.getDirection(r,t);var i=this.props.onSelect;if(i&&(i.length>1?(e?(e.persist(),e.direction=n):e={direction:n},i(t,e)):i(t)),null==this.props.activeIndex&&t!==r){if(null!=this.state.previousActiveIndex)return;this.setState({activeIndex:t,previousActiveIndex:r,direction:n})}}},e.prototype.waitForNext=function(){var t=this.props,e=t.slide,n=t.interval,r=t.activeIndex;!this.isPaused&&e&&n&&null==r&&(this.timeout=setTimeout(this.handleNext,n))},e.prototype.pause=function(){this.isPaused=!0,clearTimeout(this.timeout)},e.prototype.play=function(){this.isPaused=!1,this.waitForNext()},e.prototype.renderIndicators=function(t,e,n){var r=this,i=[];return A.default.forEach(t,function(t,n){i.push(v.default.createElement("li",{key:n,className:n===e?"active":null,onClick:function(t){return r.select(n,t)}})," ")}),v.default.createElement("ol",{className:(0,I.prefix)(n,"indicators")},i)},e.prototype.renderControls=function(t){var e=t.wrap,n=t.children,r=t.activeIndex,i=t.prevIcon,o=t.nextIcon,a=t.bsProps,s=t.prevLabel,u=t.nextLabel,l=(0,I.prefix)(a,"control"),c=A.default.count(n);return[(e||0!==r)&&v.default.createElement(C.default,{key:"prev",className:(0,m.default)(l,"left"),onClick:this.handlePrev},i,s&&v.default.createElement("span",{className:"sr-only"},s)),(e||r!==c-1)&&v.default.createElement(C.default,{key:"next",className:(0,m.default)(l,"right"),onClick:this.handleNext},o,u&&v.default.createElement("span",{className:"sr-only"},u))]},e.prototype.render=function(){var t=this,e=this.props,n=e.slide,r=e.indicators,i=e.controls,a=e.wrap,u=e.prevIcon,l=e.prevLabel,c=e.nextIcon,h=e.nextLabel,f=e.className,d=e.children,p=(0,s.default)(e,["slide","indicators","controls","wrap","prevIcon","prevLabel","nextIcon","nextLabel","className","children"]),y=this.state,b=y.previousActiveIndex,w=y.direction,x=(0,I.splitBsPropsAndOmit)(p,["interval","pauseOnHover","onSelect","onSlideEnd","activeIndex","defaultActiveIndex","direction"]),_=x[0],E=x[1],M=this.getActiveIndex(),S=(0,o.default)({},(0,I.getClassSet)(_),{slide:n});return v.default.createElement("div",(0,o.default)({},E,{className:(0,m.default)(f,S),onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut}),r&&this.renderIndicators(d,M,_),v.default.createElement("div",{className:(0,I.prefix)(_,"inner")},A.default.map(d,function(e,r){var i=r===M,o=n&&r===b;return(0,g.cloneElement)(e,{active:i,index:r,animateOut:o,animateIn:i&&null!=b&&n,direction:w,onAnimateOutEnd:o?t.handleItemAnimateOutEnd:null})})),i&&this.renderControls({wrap:a,children:d,activeIndex:M,prevIcon:u,prevLabel:l,nextIcon:c,nextLabel:h,bsProps:_}))},e}(v.default.Component);N.propTypes=L,N.defaultProps=R,N.Caption=x.default,N.Item=E.default,e.default=(0,I.bsClass)("carousel",N),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),u=n(6),l=r(u),c=n(7),h=r(c),f=n(8),d=r(f),p=n(12),m=r(p),g=n(0),v=r(g),y=n(33),b=r(y),w=n(14),x={componentClass:b.default},_={componentClass:"div"},E=function(t){function e(){return(0,l.default)(this,e),(0,h.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.componentClass,n=t.className,r=(0,s.default)(t,["componentClass","className"]),i=(0,w.splitBsProps)(r),a=i[0],u=i[1],l=(0,w.getClassSet)(a);return v.default.createElement(e,(0,o.default)({},u,{className:(0,m.default)(n,l)}))},e}(v.default.Component);E.propTypes=x,E.defaultProps=_,e.default=(0,w.bsClass)("carousel-caption",E),t.exports=e.default},function(t,e,n){"use strict";function r(t,e,n){t.addEventListener(e,n,!1)}function i(t,e,n){t.removeEventListener(e,n,!1)}e.__esModule=!0;var o=!("undefined"==typeof window||!window.document||!window.document.createElement),a={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},s=[];o&&function(){var t=document.createElement("div"),e=t.style;"AnimationEvent"in window||delete a.animationend.animation,"TransitionEvent"in window||delete a.transitionend.transition;for(var n in a){var r=a[n];for(var i in r)if(i in e){s.push(r[i]);break}}}();var u={addEndEventListener:function(t,e){if(0===s.length)return void window.setTimeout(e,0);s.forEach(function(n){r(t,n,e)})},removeEndEventListener:function(t,e){0!==s.length&&s.forEach(function(n){i(t,n,e)})}};e.default=u,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),u=n(6),l=r(u),c=n(7),h=r(c),f=n(8),d=r(f),p=n(12),m=r(p),g=n(0),v=r(g),y=n(3),b=r(y),w=n(83),x=(r(w),n(14)),_={inline:b.default.bool,disabled:b.default.bool,title:b.default.string,validationState:b.default.oneOf(["success","warning","error",null]),inputRef:b.default.func},E={inline:!1,disabled:!1,title:""},M=function(t){function e(){return(0,l.default)(this,e),(0,h.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.inline,n=t.disabled,r=t.validationState,i=t.inputRef,a=t.className,u=t.style,l=t.title,c=t.children,h=(0,s.default)(t,["inline","disabled","validationState","inputRef","className","style","title","children"]),f=(0,x.splitBsProps)(h),d=f[0],p=f[1],g=v.default.createElement("input",(0,o.default)({},p,{ref:i,type:"checkbox",disabled:n}));if(e){var y,b=(y={},y[(0,x.prefix)(d,"inline")]=!0,y.disabled=n,y);return v.default.createElement("label",{className:(0,m.default)(a,b),style:u,title:l},g,c)}var w=(0,o.default)({},(0,x.getClassSet)(d),{disabled:n});return r&&(w["has-"+r]=!0),v.default.createElement("div",{className:(0,m.default)(a,w),style:u},v.default.createElement("label",{title:l},g,c))},e}(v.default.Component);M.propTypes=_,M.defaultProps=E,e.default=(0,x.bsClass)("checkbox",M),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),u=n(6),l=r(u),c=n(7),h=r(c),f=n(8),d=r(f),p=n(12),m=r(p),g=n(0),v=r(g),y=n(3),b=r(y),w=n(33),x=r(w),_=n(14),E=n(510),M=r(E),S=n(52),T={componentClass:x.default,visibleXsBlock:b.default.bool,visibleSmBlock:b.default.bool,visibleMdBlock:b.default.bool,visibleLgBlock:b.default.bool},C={componentClass:"div"},I=function(t){function e(){return(0,l.default)(this,e),(0,h.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.componentClass,n=t.className,r=(0,s.default)(t,["componentClass","className"]),i=(0,_.splitBsProps)(r),a=i[0],u=i[1],l=(0,_.getClassSet)(a);return S.DEVICE_SIZES.forEach(function(t){var e="visible"+(0,M.default)(t)+"Block";u[e]&&(l["visible-"+t+"-block"]=!0),delete u[e]}),v.default.createElement(e,(0,o.default)({},u,{className:(0,m.default)(n,l)}))},e}(v.default.Component);I.propTypes=T,I.defaultProps=C,e.default=(0,_.bsClass)("clearfix",I),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),u=n(6),l=r(u),c=n(7),h=r(c),f=n(8),d=r(f),p=n(12),m=r(p),g=n(0),v=r(g),y=n(3),b=r(y),w=n(83),x=(r(w),n(14)),_={htmlFor:b.default.string,srOnly:b.default.bool},E={srOnly:!1},M={$bs_formGroup:b.default.object},S=function(t){function e(){return(0,l.default)(this,e),(0,h.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t=this.context.$bs_formGroup,e=t&&t.controlId,n=this.props,r=n.htmlFor,i=void 0===r?e:r,a=n.srOnly,u=n.className,l=(0,s.default)(n,["htmlFor","srOnly","className"]),c=(0,x.splitBsProps)(l),h=c[0],f=c[1],d=(0,o.default)({},(0,x.getClassSet)(h),{"sr-only":a});return v.default.createElement("label",(0,o.default)({},f,{htmlFor:i,className:(0,m.default)(u,d)}))},e}(v.default.Component);S.propTypes=_,S.defaultProps=E,S.contextTypes=M,e.default=(0,x.bsClass)("control-label",S),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),u=n(6),l=r(u),c=n(7),h=r(c),f=n(8),d=r(f),p=n(12),m=r(p),g=n(0),v=r(g),y=n(3),b=r(y),w=n(33),x=r(w),_=n(14),E=n(52),M={componentClass:x.default,xs:b.default.number,sm:b.default.number,md:b.default.number,lg:b.default.number,xsHidden:b.default.bool,smHidden:b.default.bool,mdHidden:b.default.bool,lgHidden:b.default.bool,xsOffset:b.default.number,smOffset:b.default.number,mdOffset:b.default.number,lgOffset:b.default.number,xsPush:b.default.number,smPush:b.default.number,mdPush:b.default.number,lgPush:b.default.number,xsPull:b.default.number,smPull:b.default.number,mdPull:b.default.number,lgPull:b.default.number},S={componentClass:"div"},T=function(t){function e(){return(0,l.default)(this,e),(0,h.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.componentClass,n=t.className,r=(0,s.default)(t,["componentClass","className"]),i=(0,_.splitBsProps)(r),a=i[0],u=i[1],l=[];return E.DEVICE_SIZES.forEach(function(t){function e(e,n){var r=""+t+e,i=u[r];null!=i&&l.push((0,_.prefix)(a,""+t+n+"-"+i)),delete u[r]}e("",""),e("Offset","-offset"),e("Push","-push"),e("Pull","-pull");var n=t+"Hidden";u[n]&&l.push("hidden-"+t),delete u[n]}),v.default.createElement(e,(0,o.default)({},u,{className:(0,m.default)(n,l)}))},e}(v.default.Component);T.propTypes=M,T.defaultProps=S,e.default=(0,_.bsClass)("col",T),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t.replace(i,function(t,e){return e.toUpperCase()})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var i=/-(.)/g;t.exports=e.default},function(t,e,n){"use strict";function r(t){return(0,o.default)(t).replace(a,"-ms-")}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var i=n(1188),o=function(t){return t&&t.__esModule?t:{default:t}}(i),a=/^ms-/;t.exports=e.default},function(t,e,n){"use strict";function r(t){return t.replace(i,"-$1").toLowerCase()}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var i=/([A-Z])/g;t.exports=e.default},function(t,e,n){"use strict";function r(t){if(!t)throw new TypeError("No Element passed to `getComputedStyle()`");var e=t.ownerDocument;return"defaultView"in e?e.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):window.getComputedStyle(t,null):{getPropertyValue:function(e){var n=t.style;"float"==(e=(0,o.default)(e))&&(e="styleFloat");var r=t.currentStyle[e]||null;if(null==r&&n&&n[e]&&(r=n[e]),s.test(r)&&!a.test(e)){var i=n.left,u=t.runtimeStyle,l=u&&u.left;l&&(u.left=t.currentStyle.left),n.left="fontSize"===e?"1em":r,r=n.pixelLeft+"px",n.left=i,l&&(u.left=l)}return r}}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var i=n(511),o=function(t){return t&&t.__esModule?t:{default:t}}(i),a=/^(top|right|bottom|left)$/,s=/^([+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|))(?!px)[a-z%]+$/i;t.exports=e.default},function(t,e,n){"use strict";function r(t,e){return"removeProperty"in t.style?t.style.removeProperty(e):t.style.removeAttribute(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r,t.exports=e.default},function(t,e,n){"use strict";function r(t){return!(!t||!i.test(t))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var i=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){function n(r,s){function l(t,n){var r=p.getLinkName(t),i=this.props[s[t]];r&&h(this.props,r)&&!i&&(i=this.props[r].requestChange);for(var o=arguments.length,a=Array(o>2?o-2:0),u=2;u<o;u++)a[u-2]=arguments[u];e(this,t,i,n,a)}function h(t,e){return void 0!==t[e]}function d(t){var e={};return p.each(t,function(t,n){-1===E.indexOf(n)&&(e[n]=t)}),e}var m,g,v,y=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],b=r.displayName||r.name||"Component",w=p.getType(r).propTypes,x=p.isReactComponent(r),_=Object.keys(s),E=["valueLink","checkedLink"].concat(_.map(p.defaultKey));v=p.uncontrolledPropTypes(s,w,b),(0,f.default)(x||!y.length,"[uncontrollable] stateless function components cannot pass through methods because they have no associated instances. Check component: "+b+", attempting to pass through methods: "+y.join(", ")),y=p.transform(y,function(t,e){t[e]=function(){var t;return(t=this.refs.inner)[e].apply(t,arguments)}},{});var M=(g=m=function(e){function n(){return i(this,n),o(this,e.apply(this,arguments))}return a(n,e),n.prototype.shouldComponentUpdate=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return!t.shouldComponentUpdate||t.shouldComponentUpdate.apply(this,n)},n.prototype.componentWillMount=function(){var t=this,e=this.props;this._values={},_.forEach(function(n){t._values[n]=e[p.defaultKey(n)]})},n.prototype.componentWillReceiveProps=function(e){var n=this,r=this.props;t.componentWillReceiveProps&&t.componentWillReceiveProps.call(this,e),_.forEach(function(t){void 0===p.getValue(e,t)&&void 0!==p.getValue(r,t)&&(n._values[t]=e[p.defaultKey(t)])})},n.prototype.componentWillUnmount=function(){this.unmounted=!0},n.prototype.getControlledInstance=function(){return this.refs.inner},n.prototype.render=function(){var t=this,e={},n=d(this.props);return p.each(s,function(n,r){var i=p.getLinkName(r),o=t.props[r];i&&!h(t.props,r)&&h(t.props,i)&&(o=t.props[i].value),e[r]=void 0!==o?o:t._values[r],e[n]=l.bind(t,r)}),e=u({},n,e,{ref:x?"inner":null}),c.default.createElement(r,e)},n}(c.default.Component),m.displayName="Uncontrolled("+b+")",m.propTypes=v,g);return u(M.prototype,y),M.ControlledComponent=r,M.deferControlTo=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments[2];return n(t,u({},s,e),r)},M}return n}e.__esModule=!0;var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.default=s;var l=n(0),c=r(l),h=n(81),f=r(h),d=n(1193),p=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(d);t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n){var r={};return r}function o(t){return y[0]>=15||0===y[0]&&y[1]>=13?t:t.type}function a(t,e){var n=u(e);return n&&!s(t,e)&&s(t,n)?t[n].value:t[e]}function s(t,e){return void 0!==t[e]}function u(t){return"value"===t?"valueLink":"checked"===t?"checkedLink":null}function l(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function c(t,e,n){return function(){for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];e&&e.call.apply(e,[t].concat(i)),n&&n.call.apply(n,[t].concat(i))}}function h(t,e,n){return f(t,e.bind(null,n=n||(Array.isArray(t)?[]:{}))),n}function f(t,e,n){if(Array.isArray(t))return t.forEach(e,n);for(var r in t)d(t,r)&&e.call(n,t[r],r,t)}function d(t,e){return!!t&&Object.prototype.hasOwnProperty.call(t,e)}function p(t){return!!(t&&t.prototype&&t.prototype.isReactComponent)}e.__esModule=!0,e.version=void 0,e.uncontrolledPropTypes=i,e.getType=o,e.getValue=a,e.getLinkName=u,e.defaultKey=l,e.chain=c,e.transform=h,e.each=f,e.has=d,e.isReactComponent=p;var m=n(0),g=r(m),v=n(81),y=(r(v),e.version=g.default.version.split(".").map(parseFloat))},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),u=n(31),l=r(u),c=n(6),h=r(c),f=n(7),d=r(f),p=n(8),m=r(p),g=n(12),v=r(g),y=n(251),b=r(y),w=n(0),x=r(w),_=n(3),E=r(_),M=n(49),S=r(M),T=n(515),C=r(T),I=n(14),O=n(47),A=r(O),L=n(60),R=r(L),N={open:E.default.bool,pullRight:E.default.bool,onClose:E.default.func,labelledBy:E.default.oneOfType([E.default.string,E.default.number]),onSelect:E.default.func,rootCloseEvent:E.default.oneOf(["click","mousedown"])},P={bsRole:"menu",pullRight:!1},k=function(t){function e(n){(0,h.default)(this,e);var r=(0,d.default)(this,t.call(this,n));return r.handleRootClose=r.handleRootClose.bind(r),r.handleKeyDown=r.handleKeyDown.bind(r),r}return(0,m.default)(e,t),e.prototype.handleRootClose=function(t){this.props.onClose(t,{source:"rootClose"})},e.prototype.handleKeyDown=function(t){switch(t.keyCode){case b.default.codes.down:this.focusNext(),t.preventDefault();break;case b.default.codes.up:this.focusPrevious(),t.preventDefault();break;case b.default.codes.esc:case b.default.codes.tab:this.props.onClose(t,{source:"keydown"})}},e.prototype.getItemsAndActiveIndex=function(){var t=this.getFocusableMenuItems();return{items:t,activeIndex:t.indexOf(document.activeElement)}},e.prototype.getFocusableMenuItems=function(){var t=S.default.findDOMNode(this);return t?(0,l.default)(t.querySelectorAll('[tabIndex="-1"]')):[]},e.prototype.focusNext=function(){var t=this.getItemsAndActiveIndex(),e=t.items,n=t.activeIndex;if(0!==e.length){e[n===e.length-1?0:n+1].focus()}},e.prototype.focusPrevious=function(){var t=this.getItemsAndActiveIndex(),e=t.items,n=t.activeIndex;if(0!==e.length){e[0===n?e.length-1:n-1].focus()}},e.prototype.render=function(){var t,e=this,n=this.props,r=n.open,i=n.pullRight,a=n.labelledBy,u=n.onSelect,l=n.className,c=n.rootCloseEvent,h=n.children,f=(0,s.default)(n,["open","pullRight","labelledBy","onSelect","className","rootCloseEvent","children"]),d=(0,I.splitBsPropsAndOmit)(f,["onClose"]),p=d[0],m=d[1],g=(0,o.default)({},(0,I.getClassSet)(p),(t={},t[(0,I.prefix)(p,"right")]=i,t));return x.default.createElement(C.default,{disabled:!r,onRootClose:this.handleRootClose,event:c},x.default.createElement("ul",(0,o.default)({},m,{role:"menu",className:(0,v.default)(l,g),"aria-labelledby":a}),R.default.map(h,function(t){return x.default.cloneElement(t,{onKeyDown:(0,A.default)(t.props.onKeyDown,e.handleKeyDown),onSelect:(0,A.default)(t.props.onSelect,u)})})))},e}(x.default.Component);k.propTypes=N,k.defaultProps=P,e.default=(0,I.bsClass)("dropdown-menu",k),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return(0,s.default)(function(t,n,r){var i=void 0;return e.every(function(e){return!!l.default.some(t.children,function(t){return t.props.bsRole===e})||(i=e,!1)}),i?new Error("(children) "+r+" - Missing a required child with bsRole: "+i+". "+r+" must have at least one child of each of the following bsRoles: "+e.join(", ")):null})}function o(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return(0,s.default)(function(t,n,r){var i=void 0;return e.every(function(e){return!(l.default.filter(t.children,function(t){return t.props.bsRole===e}).length>1&&(i=e,1))}),i?new Error("(children) "+r+" - Duplicate children detected of bsRole: "+i+". Only one child each allowed with the following bsRoles: "+e.join(", ")):null})}e.__esModule=!0,e.requiredRoles=i,e.exclusiveRoles=o;var a=n(350),s=r(a),u=n(60),l=r(u)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(13),o=r(i),a=n(6),s=r(a),u=n(7),l=r(u),c=n(8),h=r(c),f=n(11),d=r(f),p=n(0),m=r(p),g=n(3),v=r(g),y=n(250),b=r(y),w=n(253),x=r(w),_=(0,d.default)({},b.default.propTypes,{bsStyle:v.default.string,bsSize:v.default.string,title:v.default.node.isRequired,noCaret:v.default.bool,children:v.default.node}),E=function(t){function e(){return(0,s.default)(this,e),(0,l.default)(this,t.apply(this,arguments))}return(0,h.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.bsSize,n=t.bsStyle,r=t.title,i=t.children,a=(0,o.default)(t,["bsSize","bsStyle","title","children"]),s=(0,x.default)(a,b.default.ControlledComponent),u=s[0],l=s[1];return m.default.createElement(b.default,(0,d.default)({},u,{bsSize:e,bsStyle:n}),m.default.createElement(b.default.Toggle,(0,d.default)({},l,{bsSize:e,bsStyle:n}),r),m.default.createElement(b.default.Menu,null,i))},e}(m.default.Component);E.propTypes=_,e.default=E,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),u=n(6),l=r(u),c=n(7),h=r(c),f=n(8),d=r(f),p=n(12),m=r(p),g=n(0),v=r(g),y=n(3),b=r(y),w=n(33),x=r(w),_=n(14),E={horizontal:b.default.bool,inline:b.default.bool,componentClass:x.default},M={horizontal:!1,inline:!1,componentClass:"form"},S=function(t){function e(){return(0,l.default)(this,e),(0,h.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.horizontal,n=t.inline,r=t.componentClass,i=t.className,a=(0,s.default)(t,["horizontal","inline","componentClass","className"]),u=(0,_.splitBsProps)(a),l=u[0],c=u[1],h=[];return e&&h.push((0,_.prefix)(l,"horizontal")),n&&h.push((0,_.prefix)(l,"inline")),v.default.createElement(r,(0,o.default)({},c,{className:(0,m.default)(i,h)}))},e}(v.default.Component);S.propTypes=E,S.defaultProps=M,e.default=(0,_.bsClass)("form",S),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),u=n(6),l=r(u),c=n(7),h=r(c),f=n(8),d=r(f),p=n(12),m=r(p),g=n(0),v=r(g),y=n(3),b=r(y),w=n(33),x=r(w),_=n(83),E=(r(_),n(1199)),M=r(E),S=n(1200),T=r(S),C=n(14),I=n(52),O={componentClass:x.default,type:b.default.string,id:b.default.string,inputRef:b.default.func},A={componentClass:"input"},L={$bs_formGroup:b.default.object},R=function(t){function e(){return(0,l.default)(this,e),(0,h.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t=this.context.$bs_formGroup,e=t&&t.controlId,n=this.props,r=n.componentClass,i=n.type,a=n.id,u=void 0===a?e:a,l=n.inputRef,c=n.className,h=n.bsSize,f=(0,s.default)(n,["componentClass","type","id","inputRef","className","bsSize"]),d=(0,C.splitBsProps)(f),p=d[0],g=d[1],y=void 0;if("file"!==i&&(y=(0,C.getClassSet)(p)),h){var b=I.SIZE_MAP[h]||h;y[(0,C.prefix)({bsClass:"input"},b)]=!0}return v.default.createElement(r,(0,o.default)({},g,{type:i,id:u,ref:l,className:(0,m.default)(c,y)}))},e}(v.default.Component);R.propTypes=O,R.defaultProps=A,R.contextTypes=L,R.Feedback=M.default,R.Static=T.default,e.default=(0,C.bsClass)("form-control",(0,C.bsSizes)([I.Size.SMALL,I.Size.LARGE],R)),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(13),o=r(i),a=n(11),s=r(a),u=n(6),l=r(u),c=n(7),h=r(c),f=n(8),d=r(f),p=n(12),m=r(p),g=n(0),v=r(g),y=n(3),b=r(y),w=n(352),x=r(w),_=n(14),E={bsRole:"feedback"},M={$bs_formGroup:b.default.object},S=function(t){function e(){return(0,l.default)(this,e),(0,h.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.getGlyph=function(t){switch(t){case"success":return"ok";case"warning":return"warning-sign";case"error":return"remove";default:return null}},e.prototype.renderDefaultFeedback=function(t,e,n,r){var i=this.getGlyph(t&&t.validationState);return i?v.default.createElement(x.default,(0,s.default)({},r,{glyph:i,className:(0,m.default)(e,n)})):null},e.prototype.render=function(){var t=this.props,e=t.className,n=t.children,r=(0,o.default)(t,["className","children"]),i=(0,_.splitBsProps)(r),a=i[0],u=i[1],l=(0,_.getClassSet)(a);if(!n)return this.renderDefaultFeedback(this.context.$bs_formGroup,e,l,u);var c=v.default.Children.only(n);return v.default.cloneElement(c,(0,s.default)({},u,{className:(0,m.default)(c.props.className,e,l)}))},e}(v.default.Component);S.defaultProps=E,S.contextTypes=M,e.default=(0,_.bsClass)("form-control-feedback",S),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),u=n(6),l=r(u),c=n(7),h=r(c),f=n(8),d=r(f),p=n(12),m=r(p),g=n(0),v=r(g),y=n(33),b=r(y),w=n(14),x={componentClass:b.default},_={componentClass:"p"},E=function(t){function e(){return(0,l.default)(this,e),(0,h.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.componentClass,n=t.className,r=(0,s.default)(t,["componentClass","className"]),i=(0,w.splitBsProps)(r),a=i[0],u=i[1],l=(0,w.getClassSet)(a);return v.default.createElement(e,(0,o.default)({},u,{className:(0,m.default)(n,l)}))},e}(v.default.Component);E.propTypes=x,E.defaultProps=_,e.default=(0,w.bsClass)("form-control-static",E),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),u=n(6),l=r(u),c=n(7),h=r(c),f=n(8),d=r(f),p=n(12),m=r(p),g=n(0),v=r(g),y=n(3),b=r(y),w=n(14),x=n(52),_=n(60),E=r(_),M={controlId:b.default.string,validationState:b.default.oneOf(["success","warning","error",null])},S={$bs_formGroup:b.default.object.isRequired},T=function(t){function e(){return(0,l.default)(this,e),(0,h.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.getChildContext=function(){var t=this.props;return{$bs_formGroup:{controlId:t.controlId,validationState:t.validationState}}},e.prototype.hasFeedback=function(t){var e=this;return E.default.some(t,function(t){return"feedback"===t.props.bsRole||t.props.children&&e.hasFeedback(t.props.children)})},e.prototype.render=function(){var t=this.props,e=t.validationState,n=t.className,r=t.children,i=(0,s.default)(t,["validationState","className","children"]),a=(0,w.splitBsPropsAndOmit)(i,["controlId"]),u=a[0],l=a[1],c=(0,o.default)({},(0,w.getClassSet)(u),{"has-feedback":this.hasFeedback(r)});return e&&(c["has-"+e]=!0),v.default.createElement("div",(0,o.default)({},l,{className:(0,m.default)(n,c)}),r)},e}(v.default.Component);T.propTypes=M,T.childContextTypes=S,e.default=(0,w.bsClass)("form-group",(0,w.bsSizes)([x.Size.LARGE,x.Size.SMALL],T)),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),u=n(6),l=r(u),c=n(7),h=r(c),f=n(8),d=r(f),p=n(12),m=r(p),g=n(0),v=r(g),y=n(14),b=function(t){function e(){return(0,l.default)(this,e),(0,h.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.className,n=(0,s.default)(t,["className"]),r=(0,y.splitBsProps)(n),i=r[0],a=r[1],u=(0,y.getClassSet)(i);return v.default.createElement("span",(0,o.default)({},a,{className:(0,m.default)(e,u)}))},e}(v.default.Component);e.default=(0,y.bsClass)("help-block",b),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),u=n(6),l=r(u),c=n(7),h=r(c),f=n(8),d=r(f),p=n(12),m=r(p),g=n(0),v=r(g),y=n(3),b=r(y),w=n(14),x={responsive:b.default.bool,rounded:b.default.bool,circle:b.default.bool,thumbnail:b.default.bool},_={responsive:!1,rounded:!1,circle:!1,thumbnail:!1},E=function(t){function e(){return(0,l.default)(this,e),(0,h.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t,e=this.props,n=e.responsive,r=e.rounded,i=e.circle,a=e.thumbnail,u=e.className,l=(0,s.default)(e,["responsive","rounded","circle","thumbnail","className"]),c=(0,w.splitBsProps)(l),h=c[0],f=c[1],d=(t={},t[(0,w.prefix)(h,"responsive")]=n,t[(0,w.prefix)(h,"rounded")]=r,t[(0,w.prefix)(h,"circle")]=i,t[(0,w.prefix)(h,"thumbnail")]=a,t);return v.default.createElement("img",(0,o.default)({},f,{className:(0,m.default)(u,d)}))},e}(v.default.Component);E.propTypes=x,E.defaultProps=_,e.default=(0,w.bsClass)("img",E),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),u=n(6),l=r(u),c=n(7),h=r(c),f=n(8),d=r(f),p=n(12),m=r(p),g=n(0),v=r(g),y=n(1205),b=r(y),w=n(1206),x=r(w),_=n(14),E=n(52),M=function(t){function e(){return(0,l.default)(this,e),(0,h.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.className,n=(0,s.default)(t,["className"]),r=(0,_.splitBsProps)(n),i=r[0],a=r[1],u=(0,_.getClassSet)(i);return v.default.createElement("span",(0,o.default)({},a,{className:(0,m.default)(e,u)}))},e}(v.default.Component);M.Addon=b.default,M.Button=x.default,e.default=(0,_.bsClass)("input-group",(0,_.bsSizes)([E.Size.LARGE,E.Size.SMALL],M)),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),u=n(6),l=r(u),c=n(7),h=r(c),f=n(8),d=r(f),p=n(12),m=r(p),g=n(0),v=r(g),y=n(14),b=function(t){function e(){return(0,l.default)(this,e),(0,h.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.className,n=(0,s.default)(t,["className"]),r=(0,y.splitBsProps)(n),i=r[0],a=r[1],u=(0,y.getClassSet)(i);return v.default.createElement("span",(0,o.default)({},a,{className:(0,m.default)(e,u)}))},e}(v.default.Component);e.default=(0,y.bsClass)("input-group-addon",b),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),u=n(6),l=r(u),c=n(7),h=r(c),f=n(8),d=r(f),p=n(12),m=r(p),g=n(0),v=r(g),y=n(14),b=function(t){function e(){return(0,l.default)(this,e),(0,h.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.className,n=(0,s.default)(t,["className"]),r=(0,y.splitBsProps)(n),i=r[0],a=r[1],u=(0,y.getClassSet)(i);return v.default.createElement("span",(0,o.default)({},a,{className:(0,m.default)(e,u)}))},e}(v.default.Component);e.default=(0,y.bsClass)("input-group-btn",b),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),u=n(6),l=r(u),c=n(7),h=r(c),f=n(8),d=r(f),p=n(0),m=r(p),g=n(12),v=r(g),y=n(33),b=r(y),w=n(14),x={componentClass:b.default},_={componentClass:"div"},E=function(t){function e(){return(0,l.default)(this,e),(0,h.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.componentClass,n=t.className,r=(0,s.default)(t,["componentClass","className"]),i=(0,w.splitBsProps)(r),a=i[0],u=i[1],l=(0,w.getClassSet)(a);return m.default.createElement(e,(0,o.default)({},u,{className:(0,v.default)(n,l)}))},e}(m.default.Component);E.propTypes=x,E.defaultProps=_,e.default=(0,w.bsClass)("jumbotron",E),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(59),o=r(i),a=n(11),s=r(a),u=n(13),l=r(u),c=n(6),h=r(c),f=n(7),d=r(f),p=n(8),m=r(p),g=n(12),v=r(g),y=n(0),b=r(y),w=n(14),x=n(52),_=function(t){function e(){return(0,h.default)(this,e),(0,d.default)(this,t.apply(this,arguments))}return(0,m.default)(e,t),e.prototype.hasContent=function(t){var e=!1;return b.default.Children.forEach(t,function(t){e||(t||0===t)&&(e=!0)}),e},e.prototype.render=function(){var t=this.props,e=t.className,n=t.children,r=(0,l.default)(t,["className","children"]),i=(0,w.splitBsProps)(r),o=i[0],a=i[1],u=(0,s.default)({},(0,w.getClassSet)(o),{hidden:!this.hasContent(n)});return b.default.createElement("span",(0,s.default)({},a,{className:(0,v.default)(e,u)}),n)},e}(b.default.Component);e.default=(0,w.bsClass)("label",(0,w.bsStyles)([].concat((0,o.default)(x.State),[x.Style.DEFAULT,x.Style.PRIMARY]),x.Style.DEFAULT,_)),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){return t?S.default.some(t,function(t){return t.type!==_.default||t.props.href||t.props.onClick})?"div":"ul":"div"}e.__esModule=!0;var o=n(11),a=r(o),s=n(13),u=r(s),l=n(6),c=r(l),h=n(7),f=r(h),d=n(8),p=r(d),m=n(12),g=r(m),v=n(0),y=r(v),b=n(33),w=r(b),x=n(519),_=r(x),E=n(14),M=n(60),S=r(M),T={componentClass:w.default},C=function(t){function e(){return(0,c.default)(this,e),(0,f.default)(this,t.apply(this,arguments))}return(0,p.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.children,n=t.componentClass,r=void 0===n?i(e):n,o=t.className,s=(0,u.default)(t,["children","componentClass","className"]),l=(0,E.splitBsProps)(s),c=l[0],h=l[1],f=(0,E.getClassSet)(c),d="ul"===r&&S.default.every(e,function(t){return t.type===_.default});return y.default.createElement(r,(0,a.default)({},h,{className:(0,g.default)(o,f)}),d?S.default.map(e,function(t){return(0,v.cloneElement)(t,{listItem:!0})}):e)},e}(y.default.Component);C.propTypes=T,e.default=(0,E.bsClass)("list-group",C),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),u=n(6),l=r(u),c=n(7),h=r(c),f=n(8),d=r(f),p=n(12),m=r(p),g=n(0),v=r(g),y=n(33),b=r(y),w=n(14),x={componentClass:b.default},_={componentClass:"div"},E=function(t){function e(){return(0,l.default)(this,e),(0,h.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.componentClass,n=t.className,r=(0,s.default)(t,["componentClass","className"]),i=(0,w.splitBsProps)(r),a=i[0],u=i[1],l=(0,w.getClassSet)(a);return v.default.createElement(e,(0,o.default)({},u,{className:(0,m.default)(n,l)}))},e}(v.default.Component);E.propTypes=x,E.defaultProps=_,e.default=(0,w.bsClass)("media-body",E),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),u=n(6),l=r(u),c=n(7),h=r(c),f=n(8),d=r(f),p=n(12),m=r(p),g=n(0),v=r(g),y=n(33),b=r(y),w=n(14),x={componentClass:b.default},_={componentClass:"h4"},E=function(t){function e(){return(0,l.default)(this,e),(0,h.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.componentClass,n=t.className,r=(0,s.default)(t,["componentClass","className"]),i=(0,w.splitBsProps)(r),a=i[0],u=i[1],l=(0,w.getClassSet)(a);return v.default.createElement(e,(0,o.default)({},u,{className:(0,m.default)(n,l)}))},e}(v.default.Component);E.propTypes=x,E.defaultProps=_,e.default=(0,w.bsClass)("media-heading",E),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),u=n(6),l=r(u),c=n(7),h=r(c),f=n(8),d=r(f),p=n(12),m=r(p),g=n(0),v=r(g),y=n(3),b=r(y),w=n(355),x=r(w),_=n(14),E={align:b.default.oneOf(["top","middle","bottom"])},M=function(t){function e(){return(0,l.default)(this,e),(0,h.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.align,n=t.className,r=(0,s.default)(t,["align","className"]),i=(0,_.splitBsProps)(r),a=i[0],u=i[1],l=(0,_.getClassSet)(a);return e&&(l[(0,_.prefix)(x.default.defaultProps,e)]=!0),v.default.createElement("div",(0,o.default)({},u,{className:(0,m.default)(n,l)}))},e}(v.default.Component);M.propTypes=E,e.default=(0,_.bsClass)("media-left",M),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),u=n(6),l=r(u),c=n(7),h=r(c),f=n(8),d=r(f),p=n(12),m=r(p),g=n(0),v=r(g),y=n(14),b=function(t){function e(){return(0,l.default)(this,e),(0,h.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.className,n=(0,s.default)(t,["className"]),r=(0,y.splitBsProps)(n),i=r[0],a=r[1],u=(0,y.getClassSet)(i);return v.default.createElement("ul",(0,o.default)({},a,{className:(0,m.default)(e,u)}))},e}(v.default.Component);e.default=(0,y.bsClass)("media-list",b),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),u=n(6),l=r(u),c=n(7),h=r(c),f=n(8),d=r(f),p=n(12),m=r(p),g=n(0),v=r(g),y=n(14),b=function(t){function e(){return(0,l.default)(this,e),(0,h.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.className,n=(0,s.default)(t,["className"]),r=(0,y.splitBsProps)(n),i=r[0],a=r[1],u=(0,y.getClassSet)(i);return v.default.createElement("li",(0,o.default)({},a,{className:(0,m.default)(e,u)}))},e}(v.default.Component);e.default=(0,y.bsClass)("media",b),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),u=n(6),l=r(u),c=n(7),h=r(c),f=n(8),d=r(f),p=n(12),m=r(p),g=n(0),v=r(g),y=n(3),b=r(y),w=n(355),x=r(w),_=n(14),E={align:b.default.oneOf(["top","middle","bottom"])},M=function(t){function e(){return(0,l.default)(this,e),(0,h.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.align,n=t.className,r=(0,s.default)(t,["align","className"]),i=(0,_.splitBsProps)(r),a=i[0],u=i[1],l=(0,_.getClassSet)(a);return e&&(l[(0,_.prefix)(x.default.defaultProps,e)]=!0),v.default.createElement("div",(0,o.default)({},u,{className:(0,m.default)(n,l)}))},e}(v.default.Component);M.propTypes=E,e.default=(0,_.bsClass)("media-right",M),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),u=n(6),l=r(u),c=n(7),h=r(c),f=n(8),d=r(f),p=n(12),m=r(p),g=n(0),v=r(g),y=n(3),b=r(y),w=n(247),x=r(w),_=n(93),E=r(_),M=n(14),S=n(47),T=r(S),C={active:b.default.bool,disabled:b.default.bool,divider:(0,x.default)(b.default.bool,function(t){var e=t.divider,n=t.children;return e&&n?new Error("Children will not be rendered for dividers"):null}),eventKey:b.default.any,header:b.default.bool,href:b.default.string,onClick:b.default.func,onSelect:b.default.func},I={divider:!1,disabled:!1,header:!1},O=function(t){function e(n,r){(0,l.default)(this,e);var i=(0,h.default)(this,t.call(this,n,r));return i.handleClick=i.handleClick.bind(i),i}return(0,d.default)(e,t),e.prototype.handleClick=function(t){var e=this.props,n=e.href,r=e.disabled,i=e.onSelect,o=e.eventKey;n&&!r||t.preventDefault(),r||i&&i(o,t)},e.prototype.render=function(){var t=this.props,e=t.active,n=t.disabled,r=t.divider,i=t.header,a=t.onClick,u=t.className,l=t.style,c=(0,s.default)(t,["active","disabled","divider","header","onClick","className","style"]),h=(0,M.splitBsPropsAndOmit)(c,["eventKey","onSelect"]),f=h[0],d=h[1];return r?(d.children=void 0,v.default.createElement("li",(0,o.default)({},d,{role:"separator",className:(0,m.default)(u,"divider"),style:l}))):i?v.default.createElement("li",(0,o.default)({},d,{role:"heading",className:(0,m.default)(u,(0,M.prefix)(f,"header")),style:l})):v.default.createElement("li",{role:"presentation",className:(0,m.default)(u,{active:e,disabled:n}),style:l},v.default.createElement(E.default,(0,o.default)({},d,{role:"menuitem",tabIndex:"-1",onClick:(0,T.default)(a,this.handleClick)})))},e}(v.default.Component);O.propTypes=C,O.defaultProps=I,e.default=(0,M.bsClass)("dropdown",O),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(13),o=r(i),a=n(6),s=r(a),u=n(7),l=r(u),c=n(8),h=r(c),f=n(11),d=r(f),p=n(12),m=r(p),g=n(1218),v=r(g),y=n(168),b=r(y),w=n(119),x=r(w),_=n(520),E=r(_),M=n(0),S=r(M),T=n(3),C=r(T),I=n(49),O=r(I),A=n(1222),L=r(A),R=n(525),N=r(R),P=n(33),k=r(P),D=n(254),F=r(D),j=n(526),U=r(j),B=n(1229),z=r(B),V=n(527),G=r(V),H=n(528),q=r(H),W=n(529),Y=r(W),X=n(14),Z=n(47),K=r(Z),$=n(253),Q=r($),J=n(52),tt=(0,d.default)({},L.default.propTypes,z.default.propTypes,{backdrop:C.default.oneOf(["static",!0,!1]),backdropClassName:C.default.string,keyboard:C.default.bool,animation:C.default.bool,dialogComponentClass:k.default,autoFocus:C.default.bool,enforceFocus:C.default.bool,restoreFocus:C.default.bool,show:C.default.bool,onHide:C.default.func,onEnter:C.default.func,onEntering:C.default.func,onEntered:C.default.func,onExit:C.default.func,onExiting:C.default.func,onExited:C.default.func,container:L.default.propTypes.container}),et=(0,d.default)({},L.default.defaultProps,{animation:!0,dialogComponentClass:z.default}),nt={$bs_modal:C.default.shape({onHide:C.default.func})},rt=function(t){function e(n,r){(0,s.default)(this,e);var i=(0,l.default)(this,t.call(this,n,r));return i.handleEntering=i.handleEntering.bind(i),i.handleExited=i.handleExited.bind(i),i.handleWindowResize=i.handleWindowResize.bind(i),i.handleDialogClick=i.handleDialogClick.bind(i),i.state={style:{}},i}return(0,h.default)(e,t),e.prototype.getChildContext=function(){return{$bs_modal:{onHide:this.props.onHide}}},e.prototype.componentWillUnmount=function(){this.handleExited()},e.prototype.handleEntering=function(){v.default.on(window,"resize",this.handleWindowResize),this.updateStyle()},e.prototype.handleExited=function(){v.default.off(window,"resize",this.handleWindowResize)},e.prototype.handleWindowResize=function(){this.updateStyle()},e.prototype.handleDialogClick=function(t){t.target===t.currentTarget&&this.props.onHide()},e.prototype.updateStyle=function(){if(x.default){var t=this._modal.getDialogElement(),e=t.scrollHeight,n=(0,b.default)(t),r=(0,N.default)(O.default.findDOMNode(this.props.container||n.body)),i=e>n.documentElement.clientHeight;this.setState({style:{paddingRight:r&&!i?(0,E.default)():void 0,paddingLeft:!r&&i?(0,E.default)():void 0}})}},e.prototype.render=function(){var t=this,n=this.props,r=n.backdrop,i=n.backdropClassName,a=n.animation,s=n.show,u=n.dialogComponentClass,l=n.className,c=n.style,h=n.children,f=n.onEntering,p=n.onExited,g=(0,o.default)(n,["backdrop","backdropClassName","animation","show","dialogComponentClass","className","style","children","onEntering","onExited"]),v=(0,Q.default)(g,L.default),y=v[0],b=v[1],w=s&&!a&&"in";return S.default.createElement(L.default,(0,d.default)({},y,{ref:function(e){t._modal=e},show:s,onEntering:(0,K.default)(f,this.handleEntering),onExited:(0,K.default)(p,this.handleExited),backdrop:r,backdropClassName:(0,m.default)((0,X.prefix)(g,"backdrop"),i,w),containerClassName:(0,X.prefix)(g,"open"),transition:a?F.default:void 0,dialogTransitionTimeout:e.TRANSITION_DURATION,backdropTransitionTimeout:e.BACKDROP_TRANSITION_DURATION}),S.default.createElement(u,(0,d.default)({},b,{style:(0,d.default)({},this.state.style,c),className:(0,m.default)(l,w),onClick:!0===r?this.handleDialogClick:null}),h))},e}(S.default.Component);rt.propTypes=tt,rt.defaultProps=et,rt.childContextTypes=nt,rt.Body=U.default,rt.Header=q.default,rt.Title=Y.default,rt.Footer=G.default,rt.Dialog=z.default,rt.TRANSITION_DURATION=300,rt.BACKDROP_TRANSITION_DURATION=150,e.default=(0,X.bsClass)("modal",(0,X.bsSizes)([J.Size.LARGE,J.Size.SMALL],rt)),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.listen=e.filter=e.off=e.on=void 0;var i=n(249),o=r(i),a=n(354),s=r(a),u=n(1219),l=r(u),c=n(1221),h=r(c);e.on=o.default,e.off=s.default,e.filter=l.default,e.listen=h.default,e.default={on:o.default,off:s.default,filter:l.default,listen:h.default}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){return function(n){var r=n.currentTarget,i=n.target;(0,u.default)(r,t).some(function(t){return(0,a.default)(t,i)})&&e.call(this,n)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var o=n(169),a=r(o),s=n(1220),u=r(s);t.exports=e.default},function(t,e,n){"use strict";function r(t,e){var n,r="#"===e[0],a="."===e[0],s=r||a?e.slice(1):e,u=i.test(s);return u?r?(t=t.getElementById?t:document,(n=t.getElementById(s))?[n]:[]):o(t.getElementsByClassName&&a?t.getElementsByClassName(s):t.getElementsByTagName(e)):o(t.querySelectorAll(e))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var i=/^[\w-]*$/,o=Function.prototype.bind.call(Function.prototype.call,[].slice);t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(119),o=r(i),a=n(249),s=r(a),u=n(354),l=r(u),c=function(){};o.default&&(c=function(t,e,n,r){return(0,s.default)(t,e,n,r),function(){(0,l.default)(t,e,n,r)}}),e.default=c,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=n(0),c=r(l),h=n(3),f=r(h),d=n(83),p=r(d),m=n(356),g=r(m),v=n(522),y=r(v),b=n(523),w=r(b),x=n(1223),_=r(x),E=n(203),M=r(E),S=n(516),T=r(S),C=n(1228),I=r(C),O=n(119),A=r(O),L=n(514),R=r(L),N=n(169),P=r(N),k=n(357),D=r(k),F=new _.default,j=function(t){function e(){var t,n,r,a;i(this,e);for(var s=arguments.length,u=Array(s),l=0;l<s;l++)u[l]=arguments[l];return n=r=o(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(u))),U.call(r),a=n,o(r,a)}return a(e,t),u(e,[{key:"omitProps",value:function(t,e){var n=Object.keys(t),r={};return n.map(function(n){Object.prototype.hasOwnProperty.call(e,n)||(r[n]=t[n])}),r}},{key:"render",value:function(){var t=this.props,n=t.show,r=t.container,i=t.children,o=t.transition,a=t.backdrop,u=t.dialogTransitionTimeout,h=t.className,f=t.style,d=t.onExit,p=t.onExiting,m=t.onEnter,g=t.onEntering,v=t.onEntered,y=c.default.Children.only(i),b=this.omitProps(this.props,e.propTypes);if(!(n||o&&!this.state.exited))return null;var x=y.props,_=x.role,E=x.tabIndex;return void 0!==_&&void 0!==E||(y=(0,l.cloneElement)(y,{role:void 0===_?"document":_,tabIndex:null==E?"-1":E})),o&&(y=c.default.createElement(o,{transitionAppear:!0,unmountOnExit:!0,in:n,timeout:u,onExit:d,onExiting:p,onExited:this.handleHidden,onEnter:m,onEntering:g,onEntered:v},y)),c.default.createElement(w.default,{ref:this.setMountNode,container:r},c.default.createElement("div",s({ref:this.setModalNode,role:_||"dialog"},b,{style:f,className:h}),a&&this.renderBackdrop(),y))}},{key:"componentWillReceiveProps",value:function(t){t.show?this.setState({exited:!1}):t.transition||this.setState({exited:!0})}},{key:"componentWillUpdate",value:function(t){!this.props.show&&t.show&&this.checkForFocus()}},{key:"componentDidMount",value:function(){this._isMounted=!0,this.props.show&&this.onShow()}},{key:"componentDidUpdate",value:function(t){var e=this.props.transition;!t.show||this.props.show||e?!t.show&&this.props.show&&this.onShow():this.onHide()}},{key:"componentWillUnmount",value:function(){var t=this.props,e=t.show,n=t.transition;this._isMounted=!1,(e||n&&!this.state.exited)&&this.onHide()}}]),e}(c.default.Component);j.propTypes=s({},w.default.propTypes,{show:f.default.bool,container:f.default.oneOfType([g.default,f.default.func]),onShow:f.default.func,onHide:f.default.func,backdrop:f.default.oneOfType([f.default.bool,f.default.oneOf(["static"])]),renderBackdrop:f.default.func,onEscapeKeyUp:f.default.func,onBackdropClick:f.default.func,backdropStyle:f.default.object,backdropClassName:f.default.string,containerClassName:f.default.string,keyboard:f.default.bool,transition:y.default,dialogTransitionTimeout:f.default.number,backdropTransitionTimeout:f.default.number,autoFocus:f.default.bool,enforceFocus:f.default.bool,restoreFocus:f.default.bool,onEnter:f.default.func,onEntering:f.default.func,onEntered:f.default.func,onExit:f.default.func,onExiting:f.default.func,onExited:f.default.func,manager:f.default.object.isRequired}),j.defaultProps={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,onHide:function(){},manager:F,renderBackdrop:function(t){return c.default.createElement("div",t)}};var U=function(){var t=this;this.state={exited:!this.props.show},this.renderBackdrop=function(){var e=t.props,n=e.backdropStyle,r=e.backdropClassName,i=e.renderBackdrop,o=e.transition,a=e.backdropTransitionTimeout,s=function(e){return t.backdrop=e},u=i({ref:s,style:n,className:r,onClick:t.handleBackdropClick});return o&&(u=c.default.createElement(o,{transitionAppear:!0,in:t.props.show,timeout:a},u)),u},this.onShow=function(){var e=(0,M.default)(t),n=(0,D.default)(t.props.container,e.body);t.props.manager.add(t,n,t.props.containerClassName),t._onDocumentKeyupListener=(0,T.default)(e,"keyup",t.handleDocumentKeyUp),t._onFocusinListener=(0,I.default)(t.enforceFocus),t.focus(),t.props.onShow&&t.props.onShow()},this.onHide=function(){t.props.manager.remove(t),t._onDocumentKeyupListener.remove(),t._onFocusinListener.remove(),t.props.restoreFocus&&t.restoreLastFocus()},this.setMountNode=function(e){t.mountNode=e?e.getMountNode():e},this.setModalNode=function(e){t.modalNode=e},this.handleHidden=function(){if(t.setState({exited:!0}),t.onHide(),t.props.onExited){var e;(e=t.props).onExited.apply(e,arguments)}},this.handleBackdropClick=function(e){e.target===e.currentTarget&&(t.props.onBackdropClick&&t.props.onBackdropClick(e),!0===t.props.backdrop&&t.props.onHide())},this.handleDocumentKeyUp=function(e){t.props.keyboard&&27===e.keyCode&&t.isTopModal()&&(t.props.onEscapeKeyUp&&t.props.onEscapeKeyUp(e),t.props.onHide())},this.checkForFocus=function(){A.default&&(t.lastFocus=(0,R.default)())},this.focus=function(){var e=t.props.autoFocus,n=t.getDialogElement(),r=(0,R.default)((0,M.default)(t)),i=r&&(0,P.default)(n,r);n&&e&&!i&&(t.lastFocus=r,n.hasAttribute("tabIndex")||(n.setAttribute("tabIndex",-1),(0,p.default)(!1,'The modal content node does not accept focus. For the benefit of assistive technologies, the tabIndex of the node is being set to "-1".')),n.focus())},this.restoreLastFocus=function(){t.lastFocus&&t.lastFocus.focus&&(t.lastFocus.focus(),t.lastFocus=null)},this.enforceFocus=function(){if(t.props.enforceFocus&&t._isMounted&&t.isTopModal()){var e=(0,R.default)((0,M.default)(t)),n=t.getDialogElement();n&&n!==e&&!(0,P.default)(n,e)&&n.focus()}},this.getDialogElement=function(){var e=t.modalNode;return e&&e.lastChild},this.isTopModal=function(){return t.props.manager.isTopModal(t)}};j.Manager=_.default,e.default=j,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){var n=-1;return t.some(function(t,r){if(e(t,r))return n=r,!0}),n}function a(t,e){return o(t,function(t){return-1!==t.modals.indexOf(e)})}function s(t,e){var n={overflow:"hidden"};t.style={overflow:e.style.overflow,paddingRight:e.style.paddingRight},t.overflowing&&(n.paddingRight=parseInt((0,c.default)(e,"paddingRight")||0,10)+(0,p.default)()+"px"),(0,c.default)(e,n)}function u(t,e){var n=t.style;Object.keys(n).forEach(function(t){return e.style[t]=n[t]})}Object.defineProperty(e,"__esModule",{value:!0});var l=n(248),c=r(l),h=n(1224),f=r(h),d=n(520),p=r(d),m=n(525),g=r(m),v=n(1227),y=function t(){var e=this,n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],r=n.hideSiblingNodes,o=void 0===r||r,l=n.handleContainerOverflow,c=void 0===l||l;i(this,t),this.add=function(t,n,r){var i=e.modals.indexOf(t),o=e.containers.indexOf(n);if(-1!==i)return i;if(i=e.modals.length,e.modals.push(t),e.hideSiblingNodes&&(0,v.hideSiblings)(n,t.mountNode),-1!==o)return e.data[o].modals.push(t),i;var a={modals:[t],classes:r?r.split(/\s+/):[],overflowing:(0,g.default)(n)};return e.handleContainerOverflow&&s(a,n),a.classes.forEach(f.default.addClass.bind(null,n)),e.containers.push(n),e.data.push(a),i},this.remove=function(t){var n=e.modals.indexOf(t);if(-1!==n){var r=a(e.data,t),i=e.data[r],o=e.containers[r];i.modals.splice(i.modals.indexOf(t),1),e.modals.splice(n,1),0===i.modals.length?(i.classes.forEach(f.default.removeClass.bind(null,o)),e.handleContainerOverflow&&u(i,o),e.hideSiblingNodes&&(0,v.showSiblings)(o,t.mountNode),e.containers.splice(r,1),e.data.splice(r,1)):e.hideSiblingNodes&&(0,v.ariaHidden)(!1,i.modals[i.modals.length-1].mountNode)}},this.isTopModal=function(t){return!!e.modals.length&&e.modals[e.modals.length-1]===t},this.hideSiblingNodes=o,this.handleContainerOverflow=c,this.modals=[],this.containers=[],this.data=[]};e.default=y,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.hasClass=e.removeClass=e.addClass=void 0;var i=n(1225),o=r(i),a=n(1226),s=r(a),u=n(524),l=r(u);e.addClass=o.default,e.removeClass=s.default,e.hasClass=l.default,e.default={addClass:o.default,removeClass:s.default,hasClass:l.default}},function(t,e,n){"use strict";function r(t,e){t.classList?t.classList.add(e):(0,o.default)(t)||(t.className=t.className+" "+e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var i=n(524),o=function(t){return t&&t.__esModule?t:{default:t}}(i);t.exports=e.default},function(t,e,n){"use strict";t.exports=function(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}},function(t,e,n){"use strict";function r(t,e){e&&(t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden"))}function i(t,e){u(t,e,function(t){return r(!0,t)})}function o(t,e){u(t,e,function(t){return r(!1,t)})}Object.defineProperty(e,"__esModule",{value:!0}),e.ariaHidden=r,e.hideSiblings=i,e.showSiblings=o;var a=["template","script","style"],s=function(t){var e=t.nodeType,n=t.tagName;return 1===e&&-1===a.indexOf(n.toLowerCase())},u=function(t,e,n){e=[].concat(e),[].forEach.call(t.children,function(t){-1===e.indexOf(t)&&s(t)&&n(t)})}},function(t,e,n){"use strict";function r(t){var e=!document.addEventListener,n=void 0;return e?(document.attachEvent("onfocusin",t),n=function(){return document.detachEvent("onfocusin",t)}):(document.addEventListener("focus",t,!0),n=function(){return document.removeEventListener("focus",t,!0)}),{remove:n}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),u=n(6),l=r(u),c=n(7),h=r(c),f=n(8),d=r(f),p=n(12),m=r(p),g=n(0),v=r(g),y=n(3),b=r(y),w=n(14),x=n(52),_={dialogClassName:b.default.string},E=function(t){function e(){return(0,l.default)(this,e),(0,h.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t,e=this.props,n=e.dialogClassName,r=e.className,i=e.style,a=e.children,u=(0,s.default)(e,["dialogClassName","className","style","children"]),l=(0,w.splitBsProps)(u),c=l[0],h=l[1],f=(0,w.prefix)(c),d=(0,o.default)({display:"block"},i),p=(0,o.default)({},(0,w.getClassSet)(c),(t={},t[f]=!1,t[(0,w.prefix)(c,"dialog")]=!0,t));return v.default.createElement("div",(0,o.default)({},h,{tabIndex:"-1",role:"dialog",style:d,className:(0,m.default)(r,f)}),v.default.createElement("div",{className:(0,m.default)(n,p)},v.default.createElement("div",{className:(0,w.prefix)(c,"content"),role:"document"},a)))},e}(v.default.Component);E.propTypes=_,e.default=(0,w.bsClass)("modal",(0,w.bsSizes)([x.Size.LARGE,x.Size.SMALL],E)),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n){var r=function(t,n){var r=n.$bs_navbar,i=void 0===r?{bsClass:"navbar"}:r,o=t.componentClass,s=t.className,l=t.pullRight,c=t.pullLeft,h=(0,u.default)(t,["componentClass","className","pullRight","pullLeft"]);return y.default.createElement(o,(0,a.default)({},h,{className:(0,g.default)(s,(0,k.prefix)(i,e),l&&(0,k.prefix)(i,"right"),c&&(0,k.prefix)(i,"left"))}))};return r.displayName=n,r.propTypes={componentClass:_.default,pullRight:w.default.bool,pullLeft:w.default.bool},r.defaultProps={componentClass:t,pullRight:!1,pullLeft:!1},r.contextTypes={$bs_navbar:w.default.shape({bsClass:w.default.string})},r}e.__esModule=!0;var o=n(11),a=r(o),s=n(13),u=r(s),l=n(6),c=r(l),h=n(7),f=r(h),d=n(8),p=r(d),m=n(12),g=r(m),v=n(0),y=r(v),b=n(3),w=r(b),x=n(33),_=r(x),E=n(202),M=r(E),S=n(518),T=r(S),C=n(531),I=r(C),O=n(1231),A=r(O),L=n(1232),R=r(L),N=n(1233),P=r(N),k=n(14),D=n(52),F=n(47),j=r(F),U={fixedTop:w.default.bool,fixedBottom:w.default.bool,staticTop:w.default.bool,inverse:w.default.bool,fluid:w.default.bool,componentClass:_.default,onToggle:w.default.func,onSelect:w.default.func,collapseOnSelect:w.default.bool,expanded:w.default.bool,role:w.default.string},B={componentClass:"nav",fixedTop:!1,fixedBottom:!1,staticTop:!1,inverse:!1,fluid:!1,collapseOnSelect:!1},z={$bs_navbar:w.default.shape({bsClass:w.default.string,expanded:w.default.bool,onToggle:w.default.func.isRequired,onSelect:w.default.func})},V=function(t){function e(n,r){(0,c.default)(this,e);var i=(0,f.default)(this,t.call(this,n,r));return i.handleToggle=i.handleToggle.bind(i),i.handleCollapse=i.handleCollapse.bind(i),i}return(0,p.default)(e,t),e.prototype.getChildContext=function(){var t=this.props,e=t.bsClass,n=t.expanded,r=t.onSelect,i=t.collapseOnSelect;return{$bs_navbar:{bsClass:e,expanded:n,onToggle:this.handleToggle,onSelect:(0,j.default)(r,i?this.handleCollapse:null)}}},e.prototype.handleCollapse=function(){var t=this.props,e=t.onToggle;t.expanded&&e(!1)},e.prototype.handleToggle=function(){var t=this.props;(0,t.onToggle)(!t.expanded)},e.prototype.render=function(){var t,e=this.props,n=e.componentClass,r=e.fixedTop,i=e.fixedBottom,o=e.staticTop,s=e.inverse,l=e.fluid,c=e.className,h=e.children,f=(0,u.default)(e,["componentClass","fixedTop","fixedBottom","staticTop","inverse","fluid","className","children"]),d=(0,k.splitBsPropsAndOmit)(f,["expanded","onToggle","onSelect","collapseOnSelect"]),p=d[0],m=d[1];void 0===m.role&&"nav"!==n&&(m.role="navigation"),s&&(p.bsStyle=D.Style.INVERSE);var v=(0,a.default)({},(0,k.getClassSet)(p),(t={},t[(0,k.prefix)(p,"fixed-top")]=r,t[(0,k.prefix)(p,"fixed-bottom")]=i,t[(0,k.prefix)(p,"static-top")]=o,t));return y.default.createElement(n,(0,a.default)({},m,{className:(0,g.default)(c,v)}),y.default.createElement(T.default,{fluid:l},h))},e}(y.default.Component);V.propTypes=U,V.defaultProps=B,V.childContextTypes=z,(0,k.bsClass)("navbar",V);var G=(0,M.default)(V,{expanded:"onToggle"});G.Brand=I.default,G.Header=R.default,G.Toggle=P.default,G.Collapse=A.default,G.Form=i("div","form","NavbarForm"),G.Text=i("p","text","NavbarText"),G.Link=i("a","link","NavbarLink"),e.default=(0,k.bsStyles)([D.Style.DEFAULT,D.Style.INVERSE],D.Style.DEFAULT,G),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),u=n(6),l=r(u),c=n(7),h=r(c),f=n(8),d=r(f),p=n(0),m=r(p),g=n(3),v=r(g),y=n(353),b=r(y),w=n(14),x={$bs_navbar:v.default.shape({bsClass:v.default.string,expanded:v.default.bool})},_=function(t){function e(){return(0,l.default)(this,e),(0,h.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.children,n=(0,s.default)(t,["children"]),r=this.context.$bs_navbar||{bsClass:"navbar"},i=(0,w.prefix)(r,"collapse");return m.default.createElement(b.default,(0,o.default)({in:r.expanded},n),m.default.createElement("div",{className:i},e))},e}(m.default.Component);_.contextTypes=x,e.default=_,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),u=n(6),l=r(u),c=n(7),h=r(c),f=n(8),d=r(f),p=n(12),m=r(p),g=n(0),v=r(g),y=n(3),b=r(y),w=n(14),x={$bs_navbar:b.default.shape({bsClass:b.default.string})},_=function(t){function e(){return(0,l.default)(this,e),(0,h.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.className,n=(0,s.default)(t,["className"]),r=this.context.$bs_navbar||{bsClass:"navbar"},i=(0,w.prefix)(r,"header");return v.default.createElement("div",(0,o.default)({},n,{className:(0,m.default)(e,i)}))},e}(v.default.Component);_.contextTypes=x,e.default=_,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),u=n(6),l=r(u),c=n(7),h=r(c),f=n(8),d=r(f),p=n(12),m=r(p),g=n(0),v=r(g),y=n(3),b=r(y),w=n(14),x=n(47),_=r(x),E={onClick:b.default.func,children:b.default.node},M={$bs_navbar:b.default.shape({bsClass:b.default.string,expanded:b.default.bool,onToggle:b.default.func.isRequired})},S=function(t){function e(){return(0,l.default)(this,e),(0,h.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.onClick,n=t.className,r=t.children,i=(0,s.default)(t,["onClick","className","children"]),a=this.context.$bs_navbar||{bsClass:"navbar"},u=(0,o.default)({type:"button"},i,{onClick:(0,_.default)(e,a.onToggle),className:(0,m.default)(n,(0,w.prefix)(a,"toggle"),!a.expanded&&"collapsed")});return r?v.default.createElement("button",u,r):v.default.createElement("button",u,v.default.createElement("span",{className:"sr-only"},"Toggle navigation"),v.default.createElement("span",{className:"icon-bar"}),v.default.createElement("span",{className:"icon-bar"}),v.default.createElement("span",{className:"icon-bar"}))},e}(v.default.Component);S.propTypes=E,S.contextTypes=M,e.default=S,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(13),o=r(i),a=n(6),s=r(a),u=n(7),l=r(u),c=n(8),h=r(c),f=n(11),d=r(f),p=n(12),m=r(p),g=n(0),v=r(g),y=n(3),b=r(y),w=n(250),x=r(w),_=n(253),E=r(_),M=n(60),S=r(M),T=(0,d.default)({},x.default.propTypes,{title:b.default.node.isRequired,noCaret:b.default.bool,active:b.default.bool,children:b.default.node}),C=function(t){function e(){return(0,s.default)(this,e),(0,l.default)(this,t.apply(this,arguments))}return(0,h.default)(e,t),e.prototype.isActive=function(t,e,n){var r=t.props,i=this;return!!(r.active||null!=e&&r.eventKey===e||n&&r.href===n)||(!!S.default.some(r.children,function(t){return i.isActive(t,e,n)})||r.active)},e.prototype.render=function(){var t=this,e=this.props,n=e.title,r=e.activeKey,i=e.activeHref,a=e.className,s=e.style,u=e.children,l=(0,o.default)(e,["title","activeKey","activeHref","className","style","children"]),c=this.isActive(this,r,i);delete l.active,delete l.eventKey;var h=(0,E.default)(l,x.default.ControlledComponent),f=h[0],p=h[1];return v.default.createElement(x.default,(0,d.default)({},f,{componentClass:"li",className:(0,m.default)(a,{active:c}),style:s}),v.default.createElement(x.default.Toggle,(0,d.default)({},p,{useAnchor:!0}),n),v.default.createElement(x.default.Menu,null,S.default.map(u,function(e){return v.default.cloneElement(e,{active:t.isActive(e,r,i)})})))},e}(v.default.Component);C.propTypes=T,e.default=C,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(0),h=r(c),f=n(3),d=r(f),p=n(523),m=r(p),g=n(1236),v=r(g),y=n(515),b=r(y),w=n(522),x=r(w),_=function(t){function e(t,n){o(this,e);var r=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.handleHidden=function(){if(r.setState({exited:!0}),r.props.onExited){var t;(t=r.props).onExited.apply(t,arguments)}},r.state={exited:!t.show},r.onHiddenListener=r.handleHidden.bind(r),r}return s(e,t),l(e,[{key:"componentWillReceiveProps",value:function(t){t.show?this.setState({exited:!1}):t.transition||this.setState({exited:!0})}},{key:"render",value:function(){var t=this.props,e=t.container,n=t.containerPadding,r=t.target,o=t.placement,a=t.shouldUpdatePosition,s=t.rootClose,u=t.children,l=t.transition,c=i(t,["container","containerPadding","target","placement","shouldUpdatePosition","rootClose","children","transition"]);if(!(c.show||l&&!this.state.exited))return null;var f=u;if(f=h.default.createElement(v.default,{container:e,containerPadding:n,target:r,placement:o,shouldUpdatePosition:a},f),l){var d=c.onExit,p=c.onExiting,g=c.onEnter,y=c.onEntering,w=c.onEntered;f=h.default.createElement(l,{in:c.show,transitionAppear:!0,onExit:d,onExiting:p,onExited:this.onHiddenListener,onEnter:g,onEntering:y,onEntered:w},f)}return s&&(f=h.default.createElement(b.default,{onRootClose:c.onHide},f)),h.default.createElement(m.default,{container:e},f)}}]),e}(h.default.Component);_.propTypes=u({},m.default.propTypes,v.default.propTypes,{show:d.default.bool,rootClose:d.default.bool,onHide:function(t){var e=d.default.func;t.rootClose&&(e=e.isRequired);for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return e.apply(void 0,[t].concat(r))},transition:x.default,onEnter:d.default.func,onEntering:d.default.func,onEntered:d.default.func,onExit:d.default.func,onExiting:d.default.func,onExited:d.default.func}),e.default=_,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(12),h=r(c),f=n(0),d=r(f),p=n(3),m=r(p),g=n(49),v=r(g),y=n(356),b=r(y),w=n(1237),x=r(w),_=n(357),E=r(_),M=n(203),S=r(M),T=function(t){function e(t,n){o(this,e);var r=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.getTarget=function(){var t=r.props.target,e="function"==typeof t?t():t;return e&&v.default.findDOMNode(e)||null},r.maybeUpdatePosition=function(t){var e=r.getTarget();(r.props.shouldUpdatePosition||e!==r._lastTarget||t)&&r.updatePosition(e)},r.state={positionLeft:0,positionTop:0,arrowOffsetLeft:null,arrowOffsetTop:null},r._needsFlush=!1,r._lastTarget=null,r}return s(e,t),l(e,[{key:"componentDidMount",value:function(){this.updatePosition(this.getTarget())}},{key:"componentWillReceiveProps",value:function(){this._needsFlush=!0}},{key:"componentDidUpdate",value:function(t){this._needsFlush&&(this._needsFlush=!1,this.maybeUpdatePosition(this.props.placement!==t.placement))}},{key:"render",value:function(){var t=this.props,e=t.children,n=t.className,r=i(t,["children","className"]),o=this.state,a=o.positionLeft,s=o.positionTop,l=i(o,["positionLeft","positionTop"]);delete r.target,delete r.container,delete r.containerPadding,delete r.shouldUpdatePosition;var c=d.default.Children.only(e);return(0,f.cloneElement)(c,u({},r,l,{positionLeft:a,positionTop:s,className:(0,h.default)(n,c.props.className),style:u({},c.props.style,{left:a,top:s})}))}},{key:"updatePosition",value:function(t){if(this._lastTarget=t,!t)return void this.setState({positionLeft:0,positionTop:0,arrowOffsetLeft:null,arrowOffsetTop:null});var e=v.default.findDOMNode(this),n=(0,E.default)(this.props.container,(0,S.default)(this).body);this.setState((0,x.default)(this.props.placement,e,t,n,this.props.containerPadding))}}]),e}(d.default.Component);T.propTypes={target:m.default.oneOfType([b.default,m.default.func]),container:m.default.oneOfType([b.default,m.default.func]),containerPadding:m.default.number,placement:m.default.oneOf(["top","right","bottom","left"]),shouldUpdatePosition:m.default.bool},T.displayName="Position",T.defaultProps={containerPadding:0,placement:"right",shouldUpdatePosition:!1},e.default=T,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){var e=void 0,n=void 0,r=void 0;if("BODY"===t.tagName)e=window.innerWidth,n=window.innerHeight,r=(0,d.default)((0,m.default)(t).documentElement)||(0,d.default)(t);else{var i=(0,l.default)(t);e=i.width,n=i.height,r=(0,d.default)(t)}return{width:e,height:n,scroll:r}}function o(t,e,n,r){var o=i(n),a=o.scroll,s=o.height,u=t-r-a,l=t+r-a+e;return u<0?-u:l>s?s-l:0}function a(t,e,n,r){var o=i(n),a=o.width,s=t-r,u=t+r+e;return s<0?-s:u>a?a-u:0}function s(t,e,n,r,i){var s="BODY"===r.tagName?(0,l.default)(n):(0,h.default)(n,r),u=(0,l.default)(e),c=u.height,f=u.width,d=void 0,p=void 0,m=void 0,g=void 0;if("left"===t||"right"===t){p=s.top+(s.height-c)/2,d="left"===t?s.left-f:s.left+s.width;var v=o(p,c,r,i);p+=v,g=50*(1-2*v/c)+"%",m=void 0}else{if("top"!==t&&"bottom"!==t)throw new Error('calcOverlayPosition(): No such placement of "'+t+'" found.');d=s.left+(s.width-f)/2,p="top"===t?s.top-c:s.top+s.height;var y=a(d,f,r,i);d+=y,m=50*(1-2*y/f)+"%",g=void 0}return{positionLeft:d,positionTop:p,arrowOffsetLeft:m,arrowOffsetTop:g}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var u=n(534),l=r(u),c=n(1238),h=r(c),f=n(535),d=r(f),p=n(203),m=r(p);t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){return t.nodeName&&t.nodeName.toLowerCase()}function o(t,e){var n,r={top:0,left:0};return"fixed"===(0,g.default)(t,"position")?n=t.getBoundingClientRect():(e=e||(0,c.default)(t),n=(0,u.default)(t),"html"!==i(e)&&(r=(0,u.default)(e)),r.top+=parseInt((0,g.default)(e,"borderTopWidth"),10)-(0,f.default)(e)||0,r.left+=parseInt((0,g.default)(e,"borderLeftWidth"),10)-(0,p.default)(e)||0),a({},n,{top:n.top-r.top-(parseInt((0,g.default)(t,"marginTop"),10)||0),left:n.left-r.left-(parseInt((0,g.default)(t,"marginLeft"),10)||0)})}Object.defineProperty(e,"__esModule",{value:!0});var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.default=o;var s=n(534),u=r(s),l=n(1239),c=r(l),h=n(535),f=r(h),d=n(1240),p=r(d),m=n(248),g=r(m);t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){return t.nodeName&&t.nodeName.toLowerCase()}function o(t){for(var e=(0,s.default)(t),n=t&&t.offsetParent;n&&"html"!==i(t)&&"static"===(0,l.default)(n,"position");)n=n.offsetParent;return n||e.documentElement}Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var a=n(168),s=r(a),u=n(248),l=r(u);t.exports=e.default},function(t,e,n){"use strict";function r(t,e){var n=(0,o.default)(t);if(void 0===e)return n?"pageXOffset"in n?n.pageXOffset:n.document.documentElement.scrollLeft:t.scrollLeft;n?n.scrollTo(e,"pageYOffset"in n?n.pageYOffset:n.document.documentElement.scrollTop):t.scrollLeft=e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var i=n(255),o=function(t){return t&&t.__esModule?t:{default:t}}(i);t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){return Array.isArray(e)?e.indexOf(t)>=0:t===e}e.__esModule=!0;var o=n(13),a=r(o),s=n(6),u=r(s),l=n(7),c=r(l),h=n(8),f=r(h),d=n(11),p=r(d),m=n(169),g=r(m),v=n(0),y=r(v),b=n(3),w=r(b),x=n(49),_=r(x),E=n(83),M=(r(E),n(533)),S=r(M),T=n(47),C=r(T),I=w.default.oneOf(["click","hover","focus"]),O=(0,p.default)({},S.default.propTypes,{trigger:w.default.oneOfType([I,w.default.arrayOf(I)]),delay:w.default.number,delayShow:w.default.number,delayHide:w.default.number,defaultOverlayShown:w.default.bool,overlay:w.default.node.isRequired,onBlur:w.default.func,onClick:w.default.func,onFocus:w.default.func,onMouseOut:w.default.func,onMouseOver:w.default.func,target:w.default.oneOf([null]),onHide:w.default.oneOf([null]),show:w.default.oneOf([null])}),A={defaultOverlayShown:!1,trigger:["hover","focus"]},L=function(t){function e(n,r){(0,u.default)(this,e);var i=(0,c.default)(this,t.call(this,n,r));return i.handleToggle=i.handleToggle.bind(i),i.handleDelayedShow=i.handleDelayedShow.bind(i),i.handleDelayedHide=i.handleDelayedHide.bind(i),i.handleHide=i.handleHide.bind(i),i.handleMouseOver=function(t){return i.handleMouseOverOut(i.handleDelayedShow,t)},i.handleMouseOut=function(t){return i.handleMouseOverOut(i.handleDelayedHide,t)},i._mountNode=null,i.state={show:n.defaultOverlayShown},i}return(0,f.default)(e,t),e.prototype.componentDidMount=function(){this._mountNode=document.createElement("div"),this.renderOverlay()},e.prototype.componentDidUpdate=function(){this.renderOverlay()},e.prototype.componentWillUnmount=function(){_.default.unmountComponentAtNode(this._mountNode),this._mountNode=null,clearTimeout(this._hoverShowDelay),clearTimeout(this._hoverHideDelay)},e.prototype.handleToggle=function(){this.state.show?this.hide():this.show()},e.prototype.handleDelayedShow=function(){var t=this;if(null!=this._hoverHideDelay)return clearTimeout(this._hoverHideDelay),void(this._hoverHideDelay=null);if(!this.state.show&&null==this._hoverShowDelay){var e=null!=this.props.delayShow?this.props.delayShow:this.props.delay;if(!e)return void this.show();this._hoverShowDelay=setTimeout(function(){t._hoverShowDelay=null,t.show()},e)}},e.prototype.handleDelayedHide=function(){var t=this;if(null!=this._hoverShowDelay)return clearTimeout(this._hoverShowDelay),void(this._hoverShowDelay=null);if(this.state.show&&null==this._hoverHideDelay){var e=null!=this.props.delayHide?this.props.delayHide:this.props.delay;if(!e)return void this.hide();this._hoverHideDelay=setTimeout(function(){t._hoverHideDelay=null,t.hide()},e)}},e.prototype.handleMouseOverOut=function(t,e){var n=e.currentTarget,r=e.relatedTarget||e.nativeEvent.toElement;r&&(r===n||(0,g.default)(n,r))||t(e)},e.prototype.handleHide=function(){this.hide()},e.prototype.show=function(){this.setState({show:!0})},e.prototype.hide=function(){this.setState({show:!1})},e.prototype.makeOverlay=function(t,e){return y.default.createElement(S.default,(0,p.default)({},e,{show:this.state.show,onHide:this.handleHide,target:this}),t)},e.prototype.renderOverlay=function(){_.default.unstable_renderSubtreeIntoContainer(this,this._overlay,this._mountNode)},e.prototype.render=function(){var t=this.props,e=t.trigger,n=t.overlay,r=t.children,o=t.onBlur,s=t.onClick,u=t.onFocus,l=t.onMouseOut,c=t.onMouseOver,h=(0,a.default)(t,["trigger","overlay","children","onBlur","onClick","onFocus","onMouseOut","onMouseOver"]);delete h.delay,delete h.delayShow,delete h.delayHide,delete h.defaultOverlayShown;var f=y.default.Children.only(r),d=f.props,p={};return this.state.show&&(p["aria-describedby"]=n.props.id),p.onClick=(0,C.default)(d.onClick,s),i("click",e)&&(p.onClick=(0,C.default)(p.onClick,this.handleToggle)),i("hover",e)&&(p.onMouseOver=(0,C.default)(d.onMouseOver,c,this.handleMouseOver),p.onMouseOut=(0,C.default)(d.onMouseOut,l,this.handleMouseOut)),i("focus",e)&&(p.onFocus=(0,C.default)(d.onFocus,u,this.handleDelayedShow),p.onBlur=(0,C.default)(d.onBlur,o,this.handleDelayedHide)),this._overlay=this.makeOverlay(n,h),(0,v.cloneElement)(f,p)},e}(y.default.Component);L.propTypes=O,L.defaultProps=A,e.default=L,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),u=n(6),l=r(u),c=n(7),h=r(c),f=n(8),d=r(f),p=n(12),m=r(p),g=n(0),v=r(g),y=n(14),b=function(t){function e(){return(0,l.default)(this,e),(0,h.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.className,n=t.children,r=(0,s.default)(t,["className","children"]),i=(0,y.splitBsProps)(r),a=i[0],u=i[1],l=(0,y.getClassSet)(a);return v.default.createElement("div",(0,o.default)({},u,{className:(0,m.default)(e,l)}),v.default.createElement("h1",null,n))},e}(v.default.Component);e.default=(0,y.bsClass)("page-header",b),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(536),o=r(i),a=n(1244),s=r(a);e.default=s.default.wrapper(o.default,"`<PageItem>`","`<Pager.Item>`"),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n){var r=void 0;"object"===(void 0===t?"undefined":(0,d.default)(t))?r=t.message:(r=t+" is deprecated. Use "+e+" instead.",n&&(r+="\nYou can read more about it at "+n)),m[r]||(m[r]=!0)}function o(){m={}}e.__esModule=!0;var a=n(6),s=r(a),u=n(7),l=r(u),c=n(8),h=r(c),f=n(348),d=r(f);e._resetWarned=o;var p=n(83),m=(r(p),{});i.wrapper=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return function(t){function e(){return(0,s.default)(this,e),(0,l.default)(this,t.apply(this,arguments))}return(0,h.default)(e,t),e.prototype.componentWillMount=function(){if(i.apply(void 0,n),t.prototype.componentWillMount){for(var e,r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];(e=t.prototype.componentWillMount).call.apply(e,[this].concat(o))}},e}(t)},e.default=i},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),u=n(6),l=r(u),c=n(7),h=r(c),f=n(8),d=r(f),p=n(12),m=r(p),g=n(0),v=r(g),y=n(3),b=r(y),w=n(536),x=r(w),_=n(14),E=n(47),M=r(E),S=n(60),T=r(S),C={onSelect:b.default.func},I=function(t){function e(){return(0,l.default)(this,e),(0,h.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.onSelect,n=t.className,r=t.children,i=(0,s.default)(t,["onSelect","className","children"]),a=(0,_.splitBsProps)(i),u=a[0],l=a[1],c=(0,_.getClassSet)(u);return v.default.createElement("ul",(0,o.default)({},l,{className:(0,m.default)(n,c)}),T.default.map(r,function(t){return(0,g.cloneElement)(t,{onSelect:(0,M.default)(t.props.onSelect,e)})}))},e}(v.default.Component);I.propTypes=C,I.Item=x.default,e.default=(0,_.bsClass)("pager",I),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(13),o=r(i),a=n(11),s=r(a),u=n(6),l=r(u),c=n(7),h=r(c),f=n(8),d=r(f),p=n(12),m=r(p),g=n(0),v=r(g),y=n(3),b=r(y),w=n(33),x=r(w),_=n(537),E=r(_),M=n(14),S={activePage:b.default.number,items:b.default.number,maxButtons:b.default.number,boundaryLinks:b.default.bool,ellipsis:b.default.oneOfType([b.default.bool,b.default.node]),first:b.default.oneOfType([b.default.bool,b.default.node]),last:b.default.oneOfType([b.default.bool,b.default.node]),prev:b.default.oneOfType([b.default.bool,b.default.node]),next:b.default.oneOfType([b.default.bool,b.default.node]),onSelect:b.default.func,buttonComponentClass:x.default},T={activePage:1,items:1,maxButtons:0,first:!1,last:!1,prev:!1,next:!1,ellipsis:!0,boundaryLinks:!1},C=function(t){function e(){return(0,l.default)(this,e),(0,h.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.renderPageButtons=function(t,e,n,r,i,o){var a=[],u=void 0,l=void 0;n&&n<e?(u=Math.max(Math.min(t-Math.floor(n/2,10),e-n+1),1),l=u+n-1):(u=1,l=e);for(var c=u;c<=l;++c)a.push(v.default.createElement(E.default,(0,s.default)({},o,{key:c,eventKey:c,active:c===t}),c));return i&&r&&u>1&&(u>2&&a.unshift(v.default.createElement(E.default,{key:"ellipsisFirst",disabled:!0,componentClass:o.componentClass},v.default.createElement("span",{"aria-label":"More"},!0===i?"…":i))),a.unshift(v.default.createElement(E.default,(0,s.default)({},o,{key:1,eventKey:1,active:!1}),"1"))),i&&l<e&&((!r||l<e-1)&&a.push(v.default.createElement(E.default,{key:"ellipsis",disabled:!0,componentClass:o.componentClass},v.default.createElement("span",{"aria-label":"More"},!0===i?"…":i))),r&&a.push(v.default.createElement(E.default,(0,s.default)({},o,{key:e,eventKey:e,active:!1}),e))),a},e.prototype.render=function(){var t=this.props,e=t.activePage,n=t.items,r=t.maxButtons,i=t.boundaryLinks,a=t.ellipsis,u=t.first,l=t.last,c=t.prev,h=t.next,f=t.onSelect,d=t.buttonComponentClass,p=t.className,g=(0,o.default)(t,["activePage","items","maxButtons","boundaryLinks","ellipsis","first","last","prev","next","onSelect","buttonComponentClass","className"]),y=(0,M.splitBsProps)(g),b=y[0],w=y[1],x=(0,M.getClassSet)(b),_={onSelect:f,componentClass:d};return v.default.createElement("ul",(0,s.default)({},w,{className:(0,m.default)(p,x)}),u&&v.default.createElement(E.default,(0,s.default)({},_,{eventKey:1,disabled:1===e}),v.default.createElement("span",{"aria-label":"First"},!0===u?"«":u)),c&&v.default.createElement(E.default,(0,s.default)({},_,{eventKey:e-1,disabled:1===e}),v.default.createElement("span",{"aria-label":"Previous"},!0===c?"‹":c)),this.renderPageButtons(e,n,r,i,a,_),h&&v.default.createElement(E.default,(0,s.default)({},_,{eventKey:e+1,disabled:e>=n}),v.default.createElement("span",{"aria-label":"Next"},!0===h?"›":h)),l&&v.default.createElement(E.default,(0,s.default)({},_,{eventKey:n,disabled:e>=n}),v.default.createElement("span",{"aria-label":"Last"},!0===l?"»":l)))},e}(v.default.Component);C.propTypes=S,C.defaultProps=T,e.default=(0,M.bsClass)("pagination",C),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(59),o=r(i),a=n(13),s=r(a),u=n(11),l=r(u),c=n(6),h=r(c),f=n(7),d=r(f),p=n(8),m=r(p),g=n(12),v=r(g),y=n(0),b=r(y),w=n(3),x=r(w),_=n(353),E=r(_),M=n(14),S=n(52),T={collapsible:x.default.bool,onSelect:x.default.func,header:x.default.node,id:x.default.oneOfType([x.default.string,x.default.number]),footer:x.default.node,defaultExpanded:x.default.bool,expanded:x.default.bool,eventKey:x.default.any,headerRole:x.default.string,panelRole:x.default.string,onEnter:x.default.func,onEntering:x.default.func,onEntered:x.default.func,onExit:x.default.func,onExiting:x.default.func,onExited:x.default.func},C={defaultExpanded:!1},I=function(t){function e(n,r){(0,h.default)(this,e);var i=(0,d.default)(this,t.call(this,n,r));return i.handleClickTitle=i.handleClickTitle.bind(i),i.state={expanded:i.props.defaultExpanded},i}return(0,m.default)(e,t),e.prototype.handleClickTitle=function(t){t.persist(),t.selected=!0,this.props.onSelect?this.props.onSelect(this.props.eventKey,t):t.preventDefault(),t.selected&&this.setState({expanded:!this.state.expanded})},e.prototype.renderHeader=function(t,e,n,r,i,o){var a=(0,M.prefix)(o,"title");return t?b.default.isValidElement(e)?(0,y.cloneElement)(e,{className:(0,v.default)(e.props.className,a),children:this.renderAnchor(e.props.children,n,r,i)}):b.default.createElement("h4",{role:"presentation",className:a},this.renderAnchor(e,n,r,i)):b.default.isValidElement(e)?(0,y.cloneElement)(e,{className:(0,v.default)(e.props.className,a)}):e},e.prototype.renderAnchor=function(t,e,n,r){return b.default.createElement("a",{role:n,href:e&&"#"+e,onClick:this.handleClickTitle,"aria-controls":e,"aria-expanded":r,"aria-selected":r,className:r?null:"collapsed"},t)},e.prototype.renderCollapsibleBody=function(t,e,n,r,i,o){return b.default.createElement(E.default,(0,l.default)({in:e},o),b.default.createElement("div",{id:t,role:n,className:(0,M.prefix)(i,"collapse"),"aria-hidden":!e},this.renderBody(r,i)))},e.prototype.renderBody=function(t,e){function n(){i.length&&(r.push(b.default.createElement("div",{key:r.length,className:o},i)),i=[])}var r=[],i=[],o=(0,M.prefix)(e,"body");return b.default.Children.toArray(t).forEach(function(t){if(b.default.isValidElement(t)&&t.props.fill)return n(),void r.push((0,y.cloneElement)(t,{fill:void 0}));i.push(t)}),n(),r},e.prototype.render=function(){var t=this.props,e=t.collapsible,n=t.header,r=t.id,i=t.footer,o=t.expanded,a=t.headerRole,u=t.panelRole,c=t.className,h=t.children,f=t.onEnter,d=t.onEntering,p=t.onEntered,m=t.onExit,g=t.onExiting,y=t.onExited,w=(0,s.default)(t,["collapsible","header","id","footer","expanded","headerRole","panelRole","className","children","onEnter","onEntering","onEntered","onExit","onExiting","onExited"]),x=(0,M.splitBsPropsAndOmit)(w,["defaultExpanded","eventKey","onSelect"]),_=x[0],E=x[1],S=null!=o?o:this.state.expanded,T=(0,M.getClassSet)(_);return b.default.createElement("div",(0,l.default)({},E,{className:(0,v.default)(c,T),id:e?null:r}),n&&b.default.createElement("div",{className:(0,M.prefix)(_,"heading")},this.renderHeader(e,n,r,a,S,_)),e?this.renderCollapsibleBody(r,S,u,h,_,{onEnter:f,onEntering:d,onEntered:p,onExit:m,onExiting:g,onExited:y}):this.renderBody(h,_),i&&b.default.createElement("div",{className:(0,M.prefix)(_,"footer")},i))},e}(b.default.Component);I.propTypes=T,I.defaultProps=C,e.default=(0,M.bsClass)("panel",(0,M.bsStyles)([].concat((0,o.default)(S.State),[S.Style.DEFAULT,S.Style.PRIMARY]),S.Style.DEFAULT,I)),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),u=n(6),l=r(u),c=n(7),h=r(c),f=n(8),d=r(f),p=n(12),m=r(p),g=n(0),v=r(g),y=n(3),b=r(y),w=n(252),x=r(w),_=n(14),E={id:(0,x.default)(b.default.oneOfType([b.default.string,b.default.number])),placement:b.default.oneOf(["top","right","bottom","left"]),positionTop:b.default.oneOfType([b.default.number,b.default.string]),positionLeft:b.default.oneOfType([b.default.number,b.default.string]),arrowOffsetTop:b.default.oneOfType([b.default.number,b.default.string]),arrowOffsetLeft:b.default.oneOfType([b.default.number,b.default.string]),title:b.default.node},M={placement:"right"},S=function(t){function e(){return(0,l.default)(this,e),(0,h.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t,e=this.props,n=e.placement,r=e.positionTop,i=e.positionLeft,a=e.arrowOffsetTop,u=e.arrowOffsetLeft,l=e.title,c=e.className,h=e.style,f=e.children,d=(0,s.default)(e,["placement","positionTop","positionLeft","arrowOffsetTop","arrowOffsetLeft","title","className","style","children"]),p=(0,_.splitBsProps)(d),g=p[0],y=p[1],b=(0,o.default)({},(0,_.getClassSet)(g),(t={},t[n]=!0,t)),w=(0,o.default)({display:"block",top:r,left:i},h),x={top:a,left:u};return v.default.createElement("div",(0,o.default)({},y,{role:"tooltip",className:(0,m.default)(c,b),style:w}),v.default.createElement("div",{className:"arrow",style:x}),l&&v.default.createElement("h3",{className:(0,_.prefix)(g,"title")},l),v.default.createElement("div",{className:(0,_.prefix)(g,"content")},f))},e}(v.default.Component);S.propTypes=E,S.defaultProps=M,e.default=(0,_.bsClass)("popover",S),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n){var r=t[e];if(!r)return null;var i=null;return x.default.Children.forEach(r,function(t){if(!i&&t.type!==L){var e=x.default.isValidElement(t)?t.type.displayName||t.type.name||t.type:t;i=new Error("Children of "+n+" can contain only ProgressBar components. Found "+e+".")}}),i}function o(t,e,n){var r=(t-e)/(n-e)*100;return Math.round(r*I)/I}e.__esModule=!0;var a=n(59),s=r(a),u=n(11),l=r(u),c=n(13),h=r(c),f=n(6),d=r(f),p=n(7),m=r(p),g=n(8),v=r(g),y=n(12),b=r(y),w=n(0),x=r(w),_=n(3),E=r(_),M=n(14),S=n(52),T=n(60),C=r(T),I=1e3,O={min:E.default.number,now:E.default.number,max:E.default.number,label:E.default.node,srOnly:E.default.bool,striped:E.default.bool,active:E.default.bool,children:i,isChild:E.default.bool},A={min:0,max:100,active:!1,isChild:!1,srOnly:!1,striped:!1},L=function(t){function e(){return(0,d.default)(this,e),(0,m.default)(this,t.apply(this,arguments))}return(0,v.default)(e,t),e.prototype.renderProgressBar=function(t){var e,n=t.min,r=t.now,i=t.max,a=t.label,s=t.srOnly,u=t.striped,c=t.active,f=t.className,d=t.style,p=(0,h.default)(t,["min","now","max","label","srOnly","striped","active","className","style"]),m=(0,M.splitBsProps)(p),g=m[0],v=m[1],y=(0,l.default)({},(0,M.getClassSet)(g),(e={active:c},e[(0,M.prefix)(g,"striped")]=c||u,e));return x.default.createElement("div",(0,l.default)({},v,{role:"progressbar",className:(0,b.default)(f,y),style:(0,l.default)({width:o(r,n,i)+"%"},d),"aria-valuenow":r,"aria-valuemin":n,"aria-valuemax":i}),s?x.default.createElement("span",{className:"sr-only"},a):a)},e.prototype.render=function(){var t=this.props,e=t.isChild,n=(0,h.default)(t,["isChild"]);if(e)return this.renderProgressBar(n);var r=n.min,i=n.now,o=n.max,a=n.label,s=n.srOnly,u=n.striped,c=n.active,f=n.bsClass,d=n.bsStyle,p=n.className,m=n.children,g=(0,h.default)(n,["min","now","max","label","srOnly","striped","active","bsClass","bsStyle","className","children"]);return x.default.createElement("div",(0,l.default)({},g,{className:(0,b.default)(p,"progress")}),m?C.default.map(m,function(t){return(0,w.cloneElement)(t,{isChild:!0})}):this.renderProgressBar({min:r,now:i,max:o,label:a,srOnly:s,striped:u,active:c,bsClass:f,bsStyle:d}))},e}(x.default.Component);L.propTypes=O,L.defaultProps=A,e.default=(0,M.bsClass)("progress-bar",(0,M.bsStyles)((0,s.default)(S.State),L)),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),u=n(6),l=r(u),c=n(7),h=r(c),f=n(8),d=r(f),p=n(12),m=r(p),g=n(0),v=r(g),y=n(3),b=r(y),w=n(83),x=(r(w),n(14)),_={inline:b.default.bool,disabled:b.default.bool,title:b.default.string,validationState:b.default.oneOf(["success","warning","error",null]),inputRef:b.default.func},E={inline:!1,disabled:!1,title:""},M=function(t){function e(){return(0,l.default)(this,e),(0,h.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.inline,n=t.disabled,r=t.validationState,i=t.inputRef,a=t.className,u=t.style,l=t.title,c=t.children,h=(0,s.default)(t,["inline","disabled","validationState","inputRef","className","style","title","children"]),f=(0,x.splitBsProps)(h),d=f[0],p=f[1],g=v.default.createElement("input",(0,o.default)({},p,{ref:i,type:"radio",disabled:n}));if(e){var y,b=(y={},y[(0,x.prefix)(d,"inline")]=!0,y.disabled=n,y);return v.default.createElement("label",{className:(0,m.default)(a,b),style:u,title:l},g,c)}var w=(0,o.default)({},(0,x.getClassSet)(d),{disabled:n});return r&&(w["has-"+r]=!0),v.default.createElement("div",{className:(0,m.default)(a,w),style:u},v.default.createElement("label",{title:l},g,c))},e}(v.default.Component);M.propTypes=_,M.defaultProps=E,e.default=(0,x.bsClass)("radio",M),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),u=n(6),l=r(u),c=n(7),h=r(c),f=n(8),d=r(f),p=n(12),m=r(p),g=n(0),v=r(g),y=n(3),b=r(y),w=n(83),x=(r(w),n(14)),_={children:b.default.element.isRequired,a16by9:b.default.bool,a4by3:b.default.bool},E={a16by9:!1,a4by3:!1},M=function(t){function e(){return(0,l.default)(this,e),(0,h.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t,e=this.props,n=e.a16by9,r=e.a4by3,i=e.className,a=e.children,u=(0,s.default)(e,["a16by9","a4by3","className","children"]),l=(0,x.splitBsProps)(u),c=l[0],h=l[1],f=(0,o.default)({},(0,x.getClassSet)(c),(t={},t[(0,x.prefix)(c,"16by9")]=n,t[(0,x.prefix)(c,"4by3")]=r,t));return v.default.createElement("div",{className:(0,m.default)(f)},(0,g.cloneElement)(a,(0,o.default)({},h,{className:(0,m.default)(i,(0,x.prefix)(c,"item"))})))},e}(v.default.Component);M.propTypes=_,M.defaultProps=E,e.default=(0,x.bsClass)("embed-responsive",M),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),u=n(6),l=r(u),c=n(7),h=r(c),f=n(8),d=r(f),p=n(12),m=r(p),g=n(0),v=r(g),y=n(33),b=r(y),w=n(14),x={componentClass:b.default},_={componentClass:"div"},E=function(t){function e(){return(0,l.default)(this,e),(0,h.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.componentClass,n=t.className,r=(0,s.default)(t,["componentClass","className"]),i=(0,w.splitBsProps)(r),a=i[0],u=i[1],l=(0,w.getClassSet)(a);return v.default.createElement(e,(0,o.default)({},u,{className:(0,m.default)(n,l)}))},e}(v.default.Component);E.propTypes=x,E.defaultProps=_,e.default=(0,w.bsClass)("row",E),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(13),o=r(i),a=n(6),s=r(a),u=n(7),l=r(u),c=n(8),h=r(c),f=n(11),d=r(f),p=n(0),m=r(p),g=n(3),v=r(g),y=n(201),b=r(y),w=n(250),x=r(w),_=n(1254),E=r(_),M=n(253),S=r(M),T=(0,d.default)({},x.default.propTypes,{bsStyle:v.default.string,bsSize:v.default.string,href:v.default.string,onClick:v.default.func,title:v.default.node.isRequired,toggleLabel:v.default.string,children:v.default.node}),C=function(t){function e(){return(0,s.default)(this,e),(0,l.default)(this,t.apply(this,arguments))}return(0,h.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.bsSize,n=t.bsStyle,r=t.title,i=t.toggleLabel,a=t.children,s=(0,o.default)(t,["bsSize","bsStyle","title","toggleLabel","children"]),u=(0,S.default)(s,x.default.ControlledComponent),l=u[0],c=u[1];return m.default.createElement(x.default,(0,d.default)({},l,{bsSize:e,bsStyle:n}),m.default.createElement(b.default,(0,d.default)({},c,{disabled:s.disabled,bsSize:e,bsStyle:n}),r),m.default.createElement(E.default,{"aria-label":i||r,bsSize:e,bsStyle:n}),m.default.createElement(x.default.Menu,null,a))},e}(m.default.Component);C.propTypes=T,C.Toggle=E.default,e.default=C,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(6),s=r(a),u=n(7),l=r(u),c=n(8),h=r(c),f=n(0),d=r(f),p=n(517),m=r(p),g=function(t){function e(){return(0,s.default)(this,e),(0,l.default)(this,t.apply(this,arguments))}return(0,h.default)(e,t),e.prototype.render=function(){return d.default.createElement(m.default,(0,o.default)({},this.props,{useAnchor:!1,noCaret:!1}))},e}(d.default.Component);g.defaultProps=m.default.defaultProps,e.default=g,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(6),o=r(i),a=n(7),s=r(a),u=n(8),l=r(u),c=n(11),h=r(c),f=n(0),d=r(f),p=n(3),m=r(p),g=n(358),v=r(g),y=n(359),b=r(y),w=n(538),x=r(w),_=(0,h.default)({},x.default.propTypes,{disabled:m.default.bool,title:m.default.node,tabClassName:m.default.string}),E=function(t){function e(){return(0,o.default)(this,e),(0,s.default)(this,t.apply(this,arguments))}return(0,l.default)(e,t),e.prototype.render=function(){var t=(0,h.default)({},this.props);return delete t.title,delete t.disabled,delete t.tabClassName,d.default.createElement(x.default,t)},e}(d.default.Component);E.propTypes=_,E.Container=v.default,E.Content=b.default,E.Pane=x.default,e.default=E,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),u=n(6),l=r(u),c=n(7),h=r(c),f=n(8),d=r(f),p=n(12),m=r(p),g=n(0),v=r(g),y=n(3),b=r(y),w=n(14),x={striped:b.default.bool,bordered:b.default.bool,condensed:b.default.bool,hover:b.default.bool,responsive:b.default.bool},_={bordered:!1,condensed:!1,hover:!1,responsive:!1,striped:!1},E=function(t){function e(){return(0,l.default)(this,e),(0,h.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t,e=this.props,n=e.striped,r=e.bordered,i=e.condensed,a=e.hover,u=e.responsive,l=e.className,c=(0,s.default)(e,["striped","bordered","condensed","hover","responsive","className"]),h=(0,w.splitBsProps)(c),f=h[0],d=h[1],p=(0,o.default)({},(0,w.getClassSet)(f),(t={},t[(0,w.prefix)(f,"striped")]=n,t[(0,w.prefix)(f,"bordered")]=r,t[(0,w.prefix)(f,"condensed")]=i,t[(0,w.prefix)(f,"hover")]=a,t)),g=v.default.createElement("table",(0,o.default)({},d,{className:(0,m.default)(l,p)}));return u?v.default.createElement("div",{className:(0,w.prefix)(f,"responsive")},g):g},e}(v.default.Component);E.propTypes=x,E.defaultProps=_,e.default=(0,w.bsClass)("table",E),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){var e=void 0;return N.default.forEach(t,function(t){null==e&&(e=t.props.eventKey)}),e}e.__esModule=!0;var o=n(11),a=r(o),s=n(13),u=r(s),l=n(6),c=r(l),h=n(7),f=r(h),d=n(8),p=r(d),m=n(0),g=r(m),v=n(3),y=r(v),b=n(252),w=r(b),x=n(202),_=r(x),E=n(530),M=r(E),S=n(532),T=r(S),C=n(358),I=r(C),O=n(359),A=r(O),L=n(14),R=n(60),N=r(R),P=I.default.ControlledComponent,k={activeKey:y.default.any,bsStyle:y.default.oneOf(["tabs","pills"]),animation:y.default.bool,id:(0,w.default)(y.default.oneOfType([y.default.string,y.default.number])),onSelect:y.default.func,mountOnEnter:y.default.bool,unmountOnExit:y.default.bool},D={bsStyle:"tabs",animation:!0,mountOnEnter:!1,unmountOnExit:!1},F=function(t){function e(){return(0,c.default)(this,e),(0,f.default)(this,t.apply(this,arguments))}return(0,p.default)(e,t),e.prototype.renderTab=function(t){var e=t.props,n=e.title,r=e.eventKey,i=e.disabled,o=e.tabClassName;return null==n?null:g.default.createElement(T.default,{eventKey:r,disabled:i,className:o},n)},e.prototype.render=function(){var t=this.props,e=t.id,n=t.onSelect,r=t.animation,o=t.mountOnEnter,s=t.unmountOnExit,l=t.bsClass,c=t.className,h=t.style,f=t.children,d=t.activeKey,p=void 0===d?i(f):d,m=(0,u.default)(t,["id","onSelect","animation","mountOnEnter","unmountOnExit","bsClass","className","style","children","activeKey"]);return g.default.createElement(P,{id:e,activeKey:p,onSelect:n,className:c,style:h},g.default.createElement("div",null,g.default.createElement(M.default,(0,a.default)({},m,{role:"tablist"}),N.default.map(f,this.renderTab)),g.default.createElement(A.default,{bsClass:l,animation:r,mountOnEnter:o,unmountOnExit:s},f)))},e}(g.default.Component);F.propTypes=k,F.defaultProps=D,(0,L.bsClass)("tab",F),e.default=(0,_.default)(F,{activeKey:"onSelect"}),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),u=n(6),l=r(u),c=n(7),h=r(c),f=n(8),d=r(f),p=n(12),m=r(p),g=n(0),v=r(g),y=n(3),b=r(y),w=n(93),x=r(w),_=n(14),E={src:b.default.string,alt:b.default.string,href:b.default.string,onError:b.default.func,onLoad:b.default.func},M=function(t){function e(){return(0,l.default)(this,e),(0,h.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.src,n=t.alt,r=t.onError,i=t.onLoad,a=t.className,u=t.children,l=(0,s.default)(t,["src","alt","onError","onLoad","className","children"]),c=(0,_.splitBsProps)(l),h=c[0],f=c[1],d=f.href?x.default:"div",p=(0,_.getClassSet)(h);return v.default.createElement(d,(0,o.default)({},f,{className:(0,m.default)(a,p)}),v.default.createElement("img",{src:e,alt:n,onError:r,onLoad:i}),u&&v.default.createElement("div",{className:"caption"},u))},e}(v.default.Component);M.propTypes=E,e.default=(0,_.bsClass)("thumbnail",M),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),u=n(6),l=r(u),c=n(7),h=r(c),f=n(8),d=r(f),p=n(3),m=r(p),g=n(0),v=r(g),y=n(81),b=r(y),w=n(202),x=r(w),_=n(47),E=r(_),M=n(60),S=r(M),T=n(351),C=r(T),I=n(539),O=r(I),A={name:m.default.string,value:m.default.any,onChange:m.default.func,type:m.default.oneOf(["checkbox","radio"]).isRequired},L={type:"radio"},R=function(t){function e(){return(0,l.default)(this,e),(0,h.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.getValues=function(){var t=this.props.value;return null==t?[]:[].concat(t)},e.prototype.handleToggle=function(t){var e=this.props,n=e.type,r=e.onChange,i=this.getValues(),o=-1!==i.indexOf(t);if("radio"===n)return void(o||r(t));r(o?i.filter(function(e){return e!==t}):[].concat(i,[t]))},e.prototype.render=function(){var t=this,e=this.props,n=e.children,r=e.type,i=e.name,a=(0,s.default)(e,["children","type","name"]),u=this.getValues();return"radio"!==r||i||(0,b.default)(!1),delete a.onChange,delete a.value,v.default.createElement(C.default,(0,o.default)({},a,{"data-toggle":"buttons"}),S.default.map(n,function(e){var n=e.props,o=n.value,a=n.onChange,s=function(){return t.handleToggle(o)};return v.default.cloneElement(e,{type:r,name:e.name||i,checked:-1!==u.indexOf(o),onChange:(0,E.default)(a,s)})}))},e}(v.default.Component);R.propTypes=A,R.defaultProps=L;var N=(0,x.default)(R,{value:"onChange"});N.Button=O.default,e.default=N,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),u=n(6),l=r(u),c=n(7),h=r(c),f=n(8),d=r(f),p=n(12),m=r(p),g=n(0),v=r(g),y=n(3),b=r(y),w=n(252),x=r(w),_=n(14),E={id:(0,x.default)(b.default.oneOfType([b.default.string,b.default.number])),placement:b.default.oneOf(["top","right","bottom","left"]),positionTop:b.default.oneOfType([b.default.number,b.default.string]),positionLeft:b.default.oneOfType([b.default.number,b.default.string]),arrowOffsetTop:b.default.oneOfType([b.default.number,b.default.string]),arrowOffsetLeft:b.default.oneOfType([b.default.number,b.default.string])},M={placement:"right"},S=function(t){function e(){return(0,l.default)(this,e),(0,h.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t,e=this.props,n=e.placement,r=e.positionTop,i=e.positionLeft,a=e.arrowOffsetTop,u=e.arrowOffsetLeft,l=e.className,c=e.style,h=e.children,f=(0,s.default)(e,["placement","positionTop","positionLeft","arrowOffsetTop","arrowOffsetLeft","className","style","children"]),d=(0,_.splitBsProps)(f),p=d[0],g=d[1],y=(0,o.default)({},(0,_.getClassSet)(p),(t={},t[n]=!0,t)),b=(0,o.default)({top:r,left:i},c),w={top:a,left:u};return v.default.createElement("div",(0,o.default)({},g,{role:"tooltip",className:(0,m.default)(l,y),style:b}),v.default.createElement("div",{className:(0,_.prefix)(p,"arrow"),style:w}),v.default.createElement("div",{className:(0,_.prefix)(p,"inner")},h))},e}(v.default.Component);S.propTypes=E,S.defaultProps=M,e.default=(0,_.bsClass)("tooltip",S),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(11),o=r(i),a=n(13),s=r(a),u=n(6),l=r(u),c=n(7),h=r(c),f=n(8),d=r(f),p=n(12),m=r(p),g=n(0),v=r(g),y=n(14),b=n(52),w=function(t){function e(){return(0,l.default)(this,e),(0,h.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.render=function(){var t=this.props,e=t.className,n=(0,s.default)(t,["className"]),r=(0,y.splitBsProps)(n),i=r[0],a=r[1],u=(0,y.getClassSet)(i);return v.default.createElement("div",(0,o.default)({},a,{className:(0,m.default)(e,u)}))},e}(v.default.Component);e.default=(0,y.bsClass)("well",(0,y.bsSizes)([b.Size.LARGE,b.Size.SMALL],w)),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.ValidComponentChildren=e.createChainedFunction=e.bootstrapUtils=void 0;var i=n(14),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(i),a=n(47),s=r(a),u=n(60),l=r(u);e.bootstrapUtils=o,e.createChainedFunction=s.default,e.ValidComponentChildren=l.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"store",n=arguments[1],r=n||e+"Subscription",s=function(t){function n(r,a){i(this,n);var s=o(this,t.call(this,r,a));return s[e]=r.store,s}return a(n,t),n.prototype.getChildContext=function(){var t;return t={},t[e]=this[e],t[r]=null,t},n.prototype.render=function(){return u.Children.only(this.props.children)},n}(u.Component);return s.propTypes={store:h.storeShape.isRequired,children:c.default.element.isRequired},s.childContextTypes=(t={},t[e]=h.storeShape.isRequired,t[r]=h.subscriptionShape,t),s}e.__esModule=!0,e.createProvider=s;var u=n(0),l=n(3),c=r(l),h=n(540),f=n(360);r(f);e.default=s()},function(t,e,n){"use strict";var r={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o=Object.getOwnPropertySymbols,a=(Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable),s=Object.getPrototypeOf,u=s&&s(Object),l=Object.getOwnPropertyNames;t.exports=function t(e,n,c){if("string"!=typeof n){if(u){var h=s(n);h&&h!==u&&t(e,h,c)}var f=l(n);o&&(f=f.concat(o(n)));for(var d=0;d<f.length;++d){var p=f[d];if(!(r[p]||i[p]||c&&c[p])&&(a.call(n,p)||"function"==typeof n[p]))try{e[p]=n[p]}catch(t){}}return e}return e}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(){var t=[],e=[];return{clear:function(){e=o,t=o},notify:function(){for(var n=t=e,r=0;r<n.length;r++)n[r]()},get:function(){return e},subscribe:function(n){var r=!0;return e===t&&(e=t.slice()),e.push(n),function(){r&&t!==o&&(r=!1,e===t&&(e=t.slice()),e.splice(e.indexOf(n),1))}}}}e.__esModule=!0;var o=null,a={notify:function(){}},s=function(){function t(e,n,i){r(this,t),this.store=e,this.parentSub=n,this.onStateChange=i,this.unsubscribe=null,this.listeners=a}return t.prototype.addNestedSub=function(t){return this.trySubscribe(),this.listeners.subscribe(t)},t.prototype.notifyNestedSubs=function(){this.listeners.notify()},t.prototype.isSubscribed=function(){return Boolean(this.unsubscribe)},t.prototype.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=i())},t.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=a)},t}();e.default=s},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function o(t,e,n){for(var r=e.length-1;r>=0;r--){var i=e[r](t);if(i)return i}return function(e,r){throw new Error("Invalid value of type "+typeof t+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function a(t,e){return t===e}function s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.connectHOC,n=void 0===e?c.default:e,r=t.mapStateToPropsFactories,s=void 0===r?g.default:r,l=t.mapDispatchToPropsFactories,h=void 0===l?p.default:l,d=t.mergePropsFactories,m=void 0===d?y.default:d,v=t.selectorFactory,b=void 0===v?w.default:v;return function(t,e,r){var l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=l.pure,d=void 0===c||c,p=l.areStatesEqual,g=void 0===p?a:p,v=l.areOwnPropsEqual,y=void 0===v?f.default:v,w=l.areStatePropsEqual,x=void 0===w?f.default:w,_=l.areMergedPropsEqual,E=void 0===_?f.default:_,M=i(l,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),S=o(t,s,"mapStateToProps"),T=o(e,h,"mapDispatchToProps"),C=o(r,m,"mergeProps");return n(b,u({methodName:"connect",getDisplayName:function(t){return"Connect("+t+")"},shouldHandleStateChanges:Boolean(t),initMapStateToProps:S,initMapDispatchToProps:T,initMergeProps:C,pure:d,areStatesEqual:g,areOwnPropsEqual:y,areStatePropsEqual:x,areMergedPropsEqual:E},M))}}e.__esModule=!0;var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.createConnect=s;var l=n(541),c=r(l),h=n(1267),f=r(h),d=n(1268),p=r(d),m=n(1269),g=r(m),v=n(1270),y=r(v),b=n(1271),w=r(b);e.default=s()},function(t,e,n){"use strict";function r(t,e){return t===e?0!==t||0!==e||1/t==1/e:t!==t&&e!==e}function i(t,e){if(r(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(var a=0;a<n.length;a++)if(!o.call(e,n[a])||!r(t[n[a]],e[n[a]]))return!1;return!0}e.__esModule=!0,e.default=i;var o=Object.prototype.hasOwnProperty},function(t,e,n){"use strict";function r(t){return"function"==typeof t?(0,s.wrapMapToPropsFunc)(t,"mapDispatchToProps"):void 0}function i(t){return t?void 0:(0,s.wrapMapToPropsConstant)(function(t){return{dispatch:t}})}function o(t){return t&&"object"==typeof t?(0,s.wrapMapToPropsConstant)(function(e){return(0,a.bindActionCreators)(t,e)}):void 0}e.__esModule=!0,e.whenMapDispatchToPropsIsFunction=r,e.whenMapDispatchToPropsIsMissing=i,e.whenMapDispatchToPropsIsObject=o;var a=n(38),s=n(542);e.default=[r,i,o]},function(t,e,n){"use strict";function r(t){return"function"==typeof t?(0,o.wrapMapToPropsFunc)(t,"mapStateToProps"):void 0}function i(t){return t?void 0:(0,o.wrapMapToPropsConstant)(function(){return{}})}e.__esModule=!0,e.whenMapStateToPropsIsFunction=r,e.whenMapStateToPropsIsMissing=i;var o=n(542);e.default=[r,i]},function(t,e,n){"use strict";function r(t,e,n){return s({},n,t,e)}function i(t){return function(e,n){var r=(n.displayName,n.pure),i=n.areMergedPropsEqual,o=!1,a=void 0;return function(e,n,s){var u=t(e,n,s);return o?r&&i(u,a)||(a=u):(o=!0,a=u),a}}}function o(t){return"function"==typeof t?i(t):void 0}function a(t){return t?void 0:function(){return r}}e.__esModule=!0;var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.defaultMergeProps=r,e.wrapMergePropsFunc=i,e.whenMergePropsIsFunction=o,e.whenMergePropsIsOmitted=a;var u=n(543);!function(t){t&&t.__esModule}(u);e.default=[o,a]},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e,n,r){return function(i,o){return n(t(i,o),e(r,o),o)}}function o(t,e,n,r,i){function o(i,o){return p=i,m=o,g=t(p,m),v=e(r,m),y=n(g,v,m),d=!0,y}function a(){return g=t(p,m),e.dependsOnOwnProps&&(v=e(r,m)),y=n(g,v,m)}function s(){return t.dependsOnOwnProps&&(g=t(p,m)),e.dependsOnOwnProps&&(v=e(r,m)),y=n(g,v,m)}function u(){var e=t(p,m),r=!f(e,g);return g=e,r&&(y=n(g,v,m)),y}function l(t,e){var n=!h(e,m),r=!c(t,p);return p=t,m=e,n&&r?a():n?s():r?u():y}var c=i.areStatesEqual,h=i.areOwnPropsEqual,f=i.areStatePropsEqual,d=!1,p=void 0,m=void 0,g=void 0,v=void 0,y=void 0;return function(t,e){return d?l(t,e):o(t,e)}}function a(t,e){var n=e.initMapStateToProps,a=e.initMapDispatchToProps,s=e.initMergeProps,u=r(e,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),l=n(t,u),c=a(t,u),h=s(t,u);return(u.pure?o:i)(l,c,h,t,u)}e.__esModule=!0,e.impureFinalPropsSelectorFactory=i,e.pureFinalPropsSelectorFactory=o,e.default=a;var s=n(1272);!function(t){t&&t.__esModule}(s)},function(t,e,n){"use strict";function r(t,e,n){if(!t)throw new Error("Unexpected value for "+e+" in "+n+".");"mapStateToProps"!==e&&"mapDispatchToProps"!==e||t.hasOwnProperty("dependsOnOwnProps")||(0,a.default)("The selector for "+e+" of "+n+" did not specify a value for dependsOnOwnProps.")}function i(t,e,n,i){r(t,"mapStateToProps",i),r(e,"mapDispatchToProps",i),r(n,"mergeProps",i)}e.__esModule=!0,e.default=i;var o=n(360),a=function(t){return t&&t.__esModule?t:{default:t}}(o)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=h()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(l.a?l()(t,e):t.__proto__=e)}var a=n(10),s=n.n(a),u=n(9),l=n.n(u),c=n(5),h=n.n(c),f=n(1),d=n.n(f),p=n(4),m=n.n(p),g=n(143),v=n.n(g),y=n(17),b=n.n(y),w=n(3),x=n.n(w),_=n(0),E=n.n(_),M=n(26),S=(n.n(M),n(36)),T=(n.n(S),n(38)),C=(n.n(T),n(30)),I=n(108),O=n(94),A=n(361),L=n(362),R=n(363),N=n(72),P=n(256),k=n(67),D=n(204),F=n(109),j=n(54),U=n(73),B=n(144),z=n(214),V=n(268),G=n(44),H=m.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},q=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),W=function(t){function e(){var t;r(this,e);for(var n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];var u=i(this,(t=e.__proto__||s()(e)).call.apply(t,[this].concat(o)));return u.copyLinkToClipboard=u.copyLinkToClipboard.bind(u),u.saveImage=u.saveImage.bind(u),u.zoomIn=u.zoomIn.bind(u),u.zoomOut=u.zoomOut.bind(u),u.onWindowClick=u.onWindowClick.bind(u),u.enableMeasurements=u.enableMeasurements.bind(u),u}return o(e,t),q(e,[{key:"componentDidMount",value:function(){window.addEventListener("pointerdown",this.onWindowClick)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("pointerdown",this.onWindowClick)}},{key:"onWindowClick",value:function(t){var e=this.props.mapviewer.activePanel,n=v()(t.target);e!==F.a.NONE&&0===n.closest(".cmtViewerPanel").length&&0===n.closest(".cmtViewerPanelButton").length&&this.props.actions.setActivePanel(this.props.id,F.a.NONE)}},{key:"setActivePanel",value:function(t){var e=this.props.mapviewer.activePanel,n=this.props.actions,r=n.setActivePanel,i=n.logClickControl;e===t?r(this.props.id,F.a.NONE):(r(this.props.id,t),t===F.a.COMPASS&&i("map_compass"))}},{key:"zoomIn",value:function(){Object(R.d)(this.props.map)}},{key:"zoomOut",value:function(){Object(R.e)(this.props.map)}},{key:"saveImage",value:function(){var t=this;this.props.map.once("postcompose",function(e){Object(L.a)(e.context.canvas,"map.png"),t.props.actions.logSaveImage("map")},this),this.props.map.renderSync()}},{key:"copyLinkToClipboard",value:function(){var t=this.context.intl.formatMessage,e=this.props,n=e.map,r=e.actions,i=r.mapLinkToClipboard,o=r.logCopyLink,a=r.showFlashMessage,s=n.getView();i(s.calculateExtent(n.getSize()),s.getProjection().getCode()).then(function(e){o(e.payload),a(t(z.a.copied),{delay:1e3})})}},{key:"enableMeasurements",value:function(){var t=this.props.actions;t.setMeasurementDimension(2),t.showTypeSelectionModal()}},{key:"render",value:function(){var t=this,e=this.props,n=(e.id,e.onExpand),r=e.expanded,i=e.viewerMode,o=e.measurements,a=e.unitAllowsToMeasure,s=e.config,u=e.mapviewer.activePanel,l=e.compassRotation,c=e.resetRotation,h=a?V.a.startMeasurement:V.a.notPossibleCurrentSrs,f={onExpand:n,expanded:r},d=s.services.obliqueLocation,p=s.map.obliqueLayers,m=d&&p&&0!==p.length,g=r?"-expanded":"-contracted";return E.a.createElement(A.a,H({},f,{className:"viewer-navbar"+g+" cmt-navbar",leftSize:3,left:E.a.createElement(M.ButtonGroup,null,E.a.createElement(I.a,H({placement:"top"},B.a.basemap),E.a.createElement(M.Button,{className:"cmtViewerPanelButton",onClick:function(){return t.setActivePanel(F.a.BASE_LAYERS)}},E.a.createElement(O.b.Map,null))),E.a.createElement(I.a,H({placement:"top"},B.a.overlays),E.a.createElement(M.Button,{className:"cmtViewerPanelButton",onClick:function(){return t.setActivePanel(F.a.OVERLAYS)}},E.a.createElement(O.b.Layers,null))),E.a.createElement(I.a,H({placement:"top"},B.a.display),E.a.createElement(M.Button,{className:"cmtViewerPanelButton",onClick:function(){return t.setActivePanel(F.a.IMAGE_CONTROLS)}},E.a.createElement(O.b.Display,null)))),right:E.a.createElement(M.ButtonGroup,null,m&&i!==j.ViewerMode.MEASUREMENT&&E.a.createElement("div",{style:{float:"left",position:"relative"}},E.a.createElement(I.a,H({placement:"top"},B.a.oblique),E.a.createElement(M.Button,{onClick:function(){return t.setActivePanel(F.a.OBLIQUE)},ref:function(e){t.obliqueButton=e}},E.a.createElement(O.b.Oblique,null))),E.a.createElement(M.Overlay,{placement:"top",target:this.obliqueButton,show:u===F.a.OBLIQUE},E.a.createElement(I.b,B.a.openOblique))),i!==j.ViewerMode.MEASUREMENT&&o.allowedToMeasure&&E.a.createElement(I.a,H({placement:"top"},h),E.a.createElement("div",{className:"fix-disabled-child-tooltip"},E.a.createElement(M.Button,{disabled:!a,onClick:this.enableMeasurements},E.a.createElement(O.b.Measure,null)))),(i===j.ViewerMode.VIEWER||i===j.ViewerMode.MEASUREMENT&&2===o.dimension)&&E.a.createElement(I.a,H({placement:"top"},B.a.copyMapLink),E.a.createElement(M.Button,{onClick:this.copyLinkToClipboard},E.a.createElement(O.b.ToClipboard,null))),(i===j.ViewerMode.VIEWER||i===j.ViewerMode.MEASUREMENT&&2===o.dimension)&&E.a.createElement(I.a,H({placement:"top"},B.a.mapImage),E.a.createElement(M.Button,{onClick:this.saveImage},E.a.createElement(O.b.Download,null))),E.a.createElement(I.a,H({placement:"top"},B.a.compass),E.a.createElement(M.Button,{className:"cmtViewerPanelButton",onClick:function(){return t.setActivePanel(F.a.COMPASS)},onDoubleClick:c},E.a.createElement(O.b.Compass,{style:{transform:"rotate("+l+"rad)"}}))),E.a.createElement(I.a,H({placement:"top"},B.a.zoomInButton),E.a.createElement(M.Button,{onClick:this.zoomIn},E.a.createElement(O.b.ZoomIn,null))),E.a.createElement(I.a,H({placement:"top"},B.a.zoomOutButton),E.a.createElement(M.Button,{onClick:this.zoomOut},E.a.createElement(O.b.ZoomOut,null))))}))}}]),e}(C.a);W.propTypes={map:x.a.instanceOf(b.a.Map),onExpand:x.a.func,expanded:x.a.bool,compassRotation:x.a.number},W.defaultProps={map:null,compassRotation:0};var Y=function(t,e){var n=t.mapviewers,r=t.viewermanager,i=t.measurements,o=t.srs,a=t.config;return{mapviewer:n.byId[e.id],viewerMode:r.viewerMode,measurements:i,unitAllowsToMeasure:o.userSrsUnit!==G.d.DEGREES&&o.userSrsUnit!==G.d.UNKNOWN,config:a.config}},X=function(t){return{actions:Object(T.bindActionCreators)({mapLinkToClipboard:P.mapLinkToClipboard,showFlashMessage:N.showFlashMessage,logCopyLink:k.logCopyLink,logSaveImage:k.logSaveImage,logClickControl:k.logClickControl,logSetValue:k.logSetValue,setActivePanel:D.b.setActivePanel,setMeasurementDimension:U.setMeasurementDimension,showTypeSelectionModal:U.showTypeSelectionModal},t)}};e.a=Object(S.connect)(Y,X)(W)},function(t,e,n){var r,i,o=o||function(t){"use strict";if("undefined"==typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var e=t.document,n=function(){return t.URL||t.webkitURL||t},r=e.createElementNS("http://www.w3.org/1999/xhtml","a"),i="download"in r,o=function(t){var e=new MouseEvent("click");t.dispatchEvent(e)},a=t.webkitRequestFileSystem,s=t.requestFileSystem||a||t.mozRequestFileSystem,u=function(e){(t.setImmediate||t.setTimeout)(function(){throw e},0)},l=0,c=function(e){var r=function(){"string"==typeof e?n().revokeObjectURL(e):e.remove()};t.chrome?r():setTimeout(r,500)},h=function(t,e,n){e=[].concat(e);for(var r=e.length;r--;){var i=t["on"+e[r]];if("function"==typeof i)try{i.call(t,n||t)}catch(t){u(t)}}},f=function(t){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t},d=function(e,u,d){d||(e=f(e));var p,m,g,v=this,y=e.type,b=!1,w=function(){h(v,"writestart progress write writeend".split(" "))},x=function(){if(!b&&p||(p=n().createObjectURL(e)),m)m.location.href=p;else{void 0==t.open(p,"_blank")&&"undefined"!=typeof safari&&(t.location.href=p)}v.readyState=v.DONE,w(),c(p)},_=function(t){return function(){if(v.readyState!==v.DONE)return t.apply(this,arguments)}},E={create:!0,exclusive:!1};return v.readyState=v.INIT,u||(u="download"),i?(p=n().createObjectURL(e),r.href=p,r.download=u,void setTimeout(function(){o(r),w(),c(p),v.readyState=v.DONE})):(t.chrome&&y&&"application/octet-stream"!==y&&(g=e.slice||e.webkitSlice,e=g.call(e,0,e.size,"application/octet-stream"),b=!0),a&&"download"!==u&&(u+=".download"),("application/octet-stream"===y||a)&&(m=t),s?(l+=e.size,void s(t.TEMPORARY,l,_(function(t){t.root.getDirectory("saved",E,_(function(t){var n=function(){t.getFile(u,E,_(function(t){t.createWriter(_(function(n){n.onwriteend=function(e){m.location.href=t.toURL(),v.readyState=v.DONE,h(v,"writeend",e),c(t)},n.onerror=function(){var t=n.error;t.code!==t.ABORT_ERR&&x()},"writestart progress write abort".split(" ").forEach(function(t){n["on"+t]=v["on"+t]}),n.write(e),v.abort=function(){n.abort(),v.readyState=v.DONE},v.readyState=v.WRITING}),x)}),x)};t.getFile(u,{create:!1},_(function(t){t.remove(),n()}),_(function(t){t.code===t.NOT_FOUND_ERR?n():x()}))}),x)}),x)):void x())},p=d.prototype,m=function(t,e,n){return new d(t,e,n)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(t,e,n){return n||(t=f(t)),navigator.msSaveOrOpenBlob(t,e||"download")}:(p.abort=function(){var t=this;t.readyState=t.DONE,h(t,"abort")},p.readyState=p.INIT=0,p.WRITING=1,p.DONE=2,p.error=p.onwritestart=p.onprogress=p.onwrite=p.onabort=p.onerror=p.onwriteend=null,m)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);void 0!==t&&t.exports?t.exports.saveAs=o:null!==n(544)&&null!=n(545)&&(r=[],void 0!==(i=function(){return o}.apply(e,r))&&(t.exports=i))},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=h()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(l.a?l()(t,e):t.__proto__=e)}var a=n(10),s=n.n(a),u=n(9),l=n.n(u),c=n(5),h=n.n(c),f=n(1),d=n.n(f),p=n(17),m=n.n(p),g=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),v=function(t){function e(){return r(this,e),i(this,(e.__proto__||s()(e)).apply(this,arguments))}return o(e,t),g(e,[{key:"addClass",value:function(t){this.element.classList.add(t)}},{key:"removeClass",value:function(t){this.element.classList.remove(t)}}]),e}(m.a.control.ScaleLine);e.a=v},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=h()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(l.a?l()(t,e):t.__proto__=e)}var a=n(10),s=n.n(a),u=n(9),l=n.n(u),c=n(5),h=n.n(c),f=n(1),d=n.n(f),p=n(17),m=n.n(p),g=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),v=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,e);var n=document.createElement("div");n.innerText=void 0!==t.name?t.name:"BaseLayer name";var o=void 0!==t.className?t.className:"ol-layer-name";return n.className=o+" ol-unselectable ol-control",i(this,(e.__proto__||s()(e)).call(this,{element:n,render:e.render,target:t.target}))}return o(e,t),g(e,[{key:"getSourceBaseLayerName",value:function(){var t=this.getMap(),e=t.getLayers(),n=e.getArray(),r=n.find(function(t){return t.get("isBaseLayer")&&t.get("visible")});return r?r.get("name"):null}},{key:"updateElement_",value:function(t){t&&(this.element.innerText=""+this.getSourceBaseLayerName())}}],[{key:"render",value:function(t){this.updateElement_(t.frameState)}}]),e}(m.a.control.Control);e.a=v},function(t,e,n){"use strict";function r(t){var e=document.queryCommandSupported&&document.queryCommandSupported("copy");if(e){var n=document.createElement("input");n.setAttribute("type","text"),n.value=t,n.style.position="fixed",n.style.opacity=0,document.body.appendChild(n),n.focus(),n.select();try{document.execCommand("copy")}catch(t){e=!1}document.body.removeChild(n)}e||prompt("Please press Ctrl/Cmd + C to copy.",t)}e.a=r},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(23),o=n.n(i),a=n(103),s=n.n(a),u=n(51),l=n.n(u),c=n(1),h=n.n(c),f=n(4),d=n.n(f),p=n(19),m=n.n(p),g=n(16),v=n.n(g),y=n(1279),b=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=v()(t);!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(m()(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),w=d.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},x=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),h()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),_=function(){function t(){r(this,t)}return x(t,null,[{key:"fetch",value:function(e){var n=w({method:"GET",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json;charset=utf-8"}},e);void 0===n.data&&delete n.headers["Content-Type"];var r=t.buildUrl(n.url,n.params);return t.sendAsync(n.method,r,n.data,n.headers)}},{key:"buildUrl",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=[],i=!0,o=!1,a=void 0;try{for(var u,c=v()(l()(n).sort());!(i=(u=c.next()).done);i=!0){var h=u.value,f=n[h];null!==f&&void 0!==f&&(Object(f)===f&&(f=f instanceof Date?f.toISOString():s()(f)),r.push(t.encodeUriQuery(h)+"="+t.encodeUriQuery(f)))}}catch(t){o=!0,a=t}finally{try{!i&&c.return&&c.return()}finally{if(o)throw a}}return r.length>0&&(e+=(e.indexOf("?")<0?"?":"&")+r.join("&")),e}},{key:"encodeUriQuery",value:function(t,e){var n=encodeURIComponent(t);return n=n.replace(/%(?:24|2C|3A|3B|40)/gi,decodeURIComponent),e||(n=n.replace(/%20/g,"+")),n}},{key:"sendAsync",value:function(e,n,r,i){var a=o.a.defer();return t.sendAsyncInternal(e,n,r,i,function(e,n,r,i){e=Math.max(e,0),r=t.parseHeaders(r),t.isSuccess(e)?a.resolve(t.defaultHttpResponseTransform(n,r)):a.reject({data:n,status:e,headers:r,statusText:i})}),a.promise}},{key:"sendAsyncInternal",value:function(t,e,n,r,i){var o=new window.XMLHttpRequest;o.open(t,e,!0);var a=!0,s=!1,u=void 0;try{for(var l,c=v()(r);!(a=(l=c.next()).done);a=!0){var h=b(l.value,2),f=h[0],d=h[1];void 0!==d&&o.setRequestHeader(f,d)}}catch(t){s=!0,u=t}finally{try{!a&&c.return&&c.return()}finally{if(s)throw u}}var p=function(t,e,n,r){o=null,i(t,e,n,r)};o.onload=function(){var t=o.statusText||"",e="response"in o?o.response:o.responseText,n=1223===o.status?204:o.status;p(n,e,o.getAllResponseHeaders(),t)},o.onerror=o.onabort=function(){p(-1,null,null,"")},o.send(n||null)}},{key:"isSuccess",value:function(t){return 200<=t&&t<300}},{key:"defaultHttpResponseTransform",value:function(t,e){if("string"==typeof t){var n=Object(y.b)(t).trim();if(n){var r=e["content-type"];(r&&0===r.indexOf("application/json")||Object(y.a)(n))&&(t=JSON.parse(n))}}return t}},{key:"parseHeaders",value:function(t){var e={},n=function(t,n){t&&(t=t.trim().toLowerCase(),n=n.trim(),e[t]=e[t]?e[t]+", "+n:n)};if("string"==typeof t){var r=!0,i=!1,o=void 0;try{for(var a,s=v()(t.split("\n"));!(r=(a=s.next()).done);r=!0){var u=a.value,l=u.indexOf(":");n(u.substr(0,l),u.substr(l+1))}}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}}else if(Object(t)===t){var c=!0,h=!1,f=void 0;try{for(var d,p=v()(t);!(c=(d=p.next()).done);c=!0){var m=b(d.value,2),g=m[0],y=m[1];n(g,y)}}catch(t){h=!0,f=t}finally{try{!c&&p.return&&p.return()}finally{if(h)throw f}}}return e}}]),t}();e.a=_},function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"a",function(){return i});var r=function(t){return t.replace(/^\)]}',?\n/,"")},i=function(t){return/^(?:\[.*]|{.*})$/.test(t)}},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return a()(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=n(31),a=n.n(o),s=n(1),u=n.n(s),l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),u()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=function(){function t(e){var n=e.size,r=void 0===n?t.DEFAULT_SIZE:n;i(this,t),this._items=[],this.size=r,this.clear()}return l(t,[{key:"append",value:function(t){this._items=[].concat(r(this._items.slice(-this._size)),[t])}},{key:"truncate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this._items=this._items.slice(-t)}},{key:"clear",value:function(){this.truncate()}},{key:"size",get:function(){return this._size},set:function(t){this._size=t,this.truncate(t)}},{key:"length",get:function(){return this._items.length}},{key:"items",get:function(){return this._items}}]),t}();c.DEFAULT_SIZE=1e3,e.a=c},function(t,e,n){var r,i=i||function(t){"use strict";if(!(void 0===t||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var e=t.document,n=function(){return t.URL||t.webkitURL||t},r=e.createElementNS("http://www.w3.org/1999/xhtml","a"),i="download"in r,o=function(t){var e=new MouseEvent("click");t.dispatchEvent(e)},a=/constructor/i.test(t.HTMLElement)||t.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent),u=function(e){(t.setImmediate||t.setTimeout)(function(){throw e},0)},l=function(t){var e=function(){"string"==typeof t?n().revokeObjectURL(t):t.remove()};setTimeout(e,4e4)},c=function(t,e,n){e=[].concat(e);for(var r=e.length;r--;){var i=t["on"+e[r]];if("function"==typeof i)try{i.call(t,n||t)}catch(t){u(t)}}},h=function(t){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t},f=function(e,u,f){f||(e=h(e));var d,p=this,m=e.type,g="application/octet-stream"===m,v=function(){c(p,"writestart progress write writeend".split(" "))};if(p.readyState=p.INIT,i)return d=n().createObjectURL(e),void setTimeout(function(){r.href=d,r.download=u,o(r),v(),l(d),p.readyState=p.DONE});!function(){if((s||g&&a)&&t.FileReader){var r=new FileReader;return r.onloadend=function(){var e=s?r.result:r.result.replace(/^data:[^;]*;/,"data:attachment/file;");t.open(e,"_blank")||(t.location.href=e),e=void 0,p.readyState=p.DONE,v()},r.readAsDataURL(e),void(p.readyState=p.INIT)}if(d||(d=n().createObjectURL(e)),g)t.location.href=d;else{t.open(d,"_blank")||(t.location.href=d)}p.readyState=p.DONE,v(),l(d)}()},d=f.prototype,p=function(t,e,n){return new f(t,e||t.name||"download",n)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(t,e,n){return e=e||t.name||"download",n||(t=h(t)),navigator.msSaveOrOpenBlob(t,e)}:(d.abort=function(){},d.readyState=d.INIT=0,d.WRITING=1,d.DONE=2,d.error=d.onwritestart=d.onprogress=d.onwrite=d.onabort=d.onerror=d.onwriteend=null,p)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);void 0!==t&&t.exports?t.exports.saveAs=i:null!==n(544)&&null!==n(545)&&void 0!==(r=function(){return i}.call(e,n,e,t))&&(t.exports=r)},function(t,e,n){!function(t,n){n(e)}(0,function(t){"use strict";function e(t){return new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}")}function n(t,n){var r=e(t);return function(e,i){return n(r(e),i,t)}}function r(t){var e=Object.create(null),n=[];return t.forEach(function(t){for(var r in t)r in e||n.push(e[r]=r)}),n}var i=function(t){function i(t,r){var i,a,s=o(t,function(t,o){if(i)return i(t,o-1);a=t,i=r?n(t,r):e(t)});return s.columns=a,s}function o(t,e){function n(){if(l>=u)return a;if(i)return i=!1,o;var e,n=l;if(34===t.charCodeAt(n)){for(var r=n;r++<u;)if(34===t.charCodeAt(r)){if(34!==t.charCodeAt(r+1))break;++r}return l=r+2,e=t.charCodeAt(r+1),13===e?(i=!0,10===t.charCodeAt(r+2)&&++l):10===e&&(i=!0),t.slice(n+1,r).replace(/""/g,'"')}for(;l<u;){var s=1;if(10===(e=t.charCodeAt(l++)))i=!0;else if(13===e)i=!0,10===t.charCodeAt(l)&&(++l,++s);else if(e!==h)continue;return t.slice(n,l-s)}return t.slice(n)}for(var r,i,o={},a={},s=[],u=t.length,l=0,c=0;(r=n())!==a;){for(var f=[];r!==o&&r!==a;)f.push(r),r=n();e&&null==(f=e(f,c++))||s.push(f)}return s}function a(e,n){return null==n&&(n=r(e)),[n.map(l).join(t)].concat(e.map(function(e){return n.map(function(t){return l(e[t])}).join(t)})).join("\n")}function s(t){return t.map(u).join("\n")}function u(e){return e.map(l).join(t)}function l(t){return null==t?"":c.test(t+="")?'"'+t.replace(/\"/g,'""')+'"':t}var c=new RegExp('["'+t+"\n\r]"),h=t.charCodeAt(0);return{parse:i,parseRows:o,format:a,formatRows:s}},o=i(","),a=o.parse,s=o.parseRows,u=o.format,l=o.formatRows,c=i("\t"),h=c.parse,f=c.parseRows,d=c.format,p=c.formatRows;t.dsvFormat=i,t.csvParse=a,t.csvParseRows=s,t.csvFormat=u,t.csvFormatRows=l,t.tsvParse=h,t.tsvParseRows=f,t.tsvFormat=d,t.tsvFormatRows=p,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,e,n){t.exports.download=n(1284),t.exports.write=n(548),t.exports.zip=n(547)},function(t,e,n){var r=n(547);t.exports=function(t,e){var n=r(t,e);location.href="data:application/zip;base64,"+n}},function(t,e,n){t.exports.structure=n(1286)},function(t,e,n){var r=(n(549),n(1287)),i=n(1288);t.exports=function(t,e){var n=e||i.multi(t),o=32*n.length+1,a=i.bytesPer(n),s=new ArrayBuffer(o+32+a*t.length+1),u=new Date,l=new DataView(s);l.setUint8(0,3),l.setUint8(1,u.getFullYear()-1900),l.setUint8(2,u.getMonth()),l.setUint8(3,u.getDate()),l.setUint32(4,t.length,!0);var c=o+32;return l.setUint16(8,c,!0),l.setUint16(10,a,!0),l.setInt8(32+o-1,13),n.forEach(function(t,e){t.name.split("").slice(0,8).forEach(function(t,n){l.setInt8(32+32*e+n,t.charCodeAt(0))}),l.setInt8(32+32*e+11,t.type.charCodeAt(0)),l.setInt8(32+32*e+16,t.size),"N"==t.type&&l.setInt8(32+32*e+17,3)}),offset=o+32,t.forEach(function(t,e){l.setUint8(offset,32),offset++,n.forEach(function(e){var n=t[e.name];switch(null!==n&&void 0!==n||(n=""),e.type){case"L":l.setUint8(offset,n?84:70),offset++;break;case"D":offset=r.writeField(l,8,r.lpad(n.toString(),8," "),offset);break;case"N":offset=r.writeField(l,e.size,r.lpad(n.toString(),e.size," ").substr(0,18),offset);break;case"C":offset=r.writeField(l,e.size,r.rpad(n.toString(),e.size," "),offset);break;default:throw new Error("Unknown field type")}})}),l.setUint8(offset,26),l}},function(t,e){t.exports.lpad=function(t,e,n){for(;t.length<e;)t=n+t;return t},t.exports.rpad=function(t,e,n){for(;t.length<e;)t+=n;return t},t.exports.writeField=function(t,e,n,r){for(var i=0;i<e;i++)t.setUint8(r,n.charCodeAt(i)),r++;return r}},function(t,e,n){function r(t){function e(t){i(n,t)}var n={};return t.forEach(e),o(n)}function i(t,e){for(var n in e){var r=void 0!==e[n]&&null!==e[n];(void 0===t[n]||r)&&(t[n]=e[n])}return t}function o(t){var e={},n=[];for(var r in t)e[r]=null===t[r]?"null":typeof t[r];for(var i in e){var o=u[e[i]];o&&n.push({name:i,type:o,size:s[o]})}return n}function a(t){return t.reduce(function(t,e){return t+e.size},1)}var s=n(549),u={string:"C",number:"N",boolean:"L",null:"C"};t.exports.multi=r,t.exports.bytesPer=a,t.exports.obj=o},function(t,e,n){function r(t){function e(t){i(n,t.properties)}var n={};return t.forEach(e),o(n)}function i(t,e){for(var n in e)t[n]=e[n];return t}function o(t){var e={},n=[];for(var r in t)e[r]=typeof t[r];for(var i in e)n.push({name:i,type:a[e[i]]});return n}var a=n(258).jstypes;t.exports.geojson=r,t.exports.obj=o},function(t,e,n){"use strict";(function(e){function r(t,e){if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0}function i(t){return e.Buffer&&"function"==typeof e.Buffer.isBuffer?e.Buffer.isBuffer(t):!(null==t||!t._isBuffer)}function o(t){return Object.prototype.toString.call(t)}function a(t){return!i(t)&&("function"==typeof e.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):!!t&&(t instanceof DataView||!!(t.buffer&&t.buffer instanceof ArrayBuffer))))}function s(t){if(w.isFunction(t)){if(E)return t.name;var e=t.toString(),n=e.match(S);return n&&n[1]}}function u(t,e){return"string"==typeof t?t.length<e?t:t.slice(0,e):t}function l(t){if(E||!w.isFunction(t))return w.inspect(t);var e=s(t);return"[Function"+(e?": "+e:"")+"]"}function c(t){return u(l(t.actual),128)+" "+t.operator+" "+u(l(t.expected),128)}function h(t,e,n,r,i){throw new M.AssertionError({message:n,actual:t,expected:e,operator:r,stackStartFunction:i})}function f(t,e){t||h(t,!0,e,"==",M.ok)}function d(t,e,n,s){if(t===e)return!0;if(i(t)&&i(e))return 0===r(t,e);if(w.isDate(t)&&w.isDate(e))return t.getTime()===e.getTime();if(w.isRegExp(t)&&w.isRegExp(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(null!==t&&"object"==typeof t||null!==e&&"object"==typeof e){if(a(t)&&a(e)&&o(t)===o(e)&&!(t instanceof Float32Array||t instanceof Float64Array))return 0===r(new Uint8Array(t.buffer),new Uint8Array(e.buffer));if(i(t)!==i(e))return!1;s=s||{actual:[],expected:[]};var u=s.actual.indexOf(t);return-1!==u&&u===s.expected.indexOf(e)||(s.actual.push(t),s.expected.push(e),m(t,e,n,s))}return n?t===e:t==e}function p(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function m(t,e,n,r){if(null===t||void 0===t||null===e||void 0===e)return!1;if(w.isPrimitive(t)||w.isPrimitive(e))return t===e;if(n&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var i=p(t),o=p(e);if(i&&!o||!i&&o)return!1;if(i)return t=_.call(t),e=_.call(e),d(t,e,n);var a,s,u=T(t),l=T(e);if(u.length!==l.length)return!1;for(u.sort(),l.sort(),s=u.length-1;s>=0;s--)if(u[s]!==l[s])return!1;for(s=u.length-1;s>=0;s--)if(a=u[s],!d(t[a],e[a],n,r))return!1;return!0}function g(t,e,n){d(t,e,!0)&&h(t,e,n,"notDeepStrictEqual",g)}function v(t,e){if(!t||!e)return!1;if("[object RegExp]"==Object.prototype.toString.call(e))return e.test(t);try{if(t instanceof e)return!0}catch(t){}return!Error.isPrototypeOf(e)&&!0===e.call({},t)}function y(t){var e;try{t()}catch(t){e=t}return e}function b(t,e,n,r){var i;if("function"!=typeof e)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null),i=y(e),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),t&&!i&&h(i,n,"Missing expected exception"+r);var o="string"==typeof r,a=!t&&w.isError(i),s=!t&&i&&!n;if((a&&o&&v(i,n)||s)&&h(i,n,"Got unwanted exception"+r),t&&i&&n&&!v(i,n)||!t&&i)throw i}var w=n(1291),x=Object.prototype.hasOwnProperty,_=Array.prototype.slice,E=function(){return"foo"===function(){}.name}(),M=t.exports=f,S=/\s*function\s+([^\(\s]*)\s*/;M.AssertionError=function(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=c(this),this.generatedMessage=!0);var e=t.stackStartFunction||h;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var n=new Error;if(n.stack){var r=n.stack,i=s(e),o=r.indexOf("\n"+i);if(o>=0){var a=r.indexOf("\n",o+1);r=r.substring(a+1)}this.stack=r}}},w.inherits(M.AssertionError,Error),M.fail=h,M.ok=f,M.equal=function(t,e,n){t!=e&&h(t,e,n,"==",M.equal)},M.notEqual=function(t,e,n){t==e&&h(t,e,n,"!=",M.notEqual)},M.deepEqual=function(t,e,n){d(t,e,!1)||h(t,e,n,"deepEqual",M.deepEqual)},M.deepStrictEqual=function(t,e,n){d(t,e,!0)||h(t,e,n,"deepStrictEqual",M.deepStrictEqual)},M.notDeepEqual=function(t,e,n){d(t,e,!1)&&h(t,e,n,"notDeepEqual",M.notDeepEqual)},M.notDeepStrictEqual=g,M.strictEqual=function(t,e,n){t!==e&&h(t,e,n,"===",M.strictEqual)},M.notStrictEqual=function(t,e,n){t===e&&h(t,e,n,"!==",M.notStrictEqual)},M.throws=function(t,e,n){b(!0,t,e,n)},M.doesNotThrow=function(t,e,n){b(!1,t,e,n)},M.ifError=function(t){if(t)throw t};var T=Object.keys||function(t){var e=[];for(var n in t)x.call(t,n)&&e.push(n);return e}}).call(e,n(34))},function(t,e,n){(function(t,r){function i(t,n){var r={seen:[],stylize:a};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),m(n)?r.showHidden=n:n&&e._extend(r,n),x(r.showHidden)&&(r.showHidden=!1),x(r.depth)&&(r.depth=2),x(r.colors)&&(r.colors=!1),x(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=o),u(r,t,r.depth)}function o(t,e){var n=i.styles[e];return n?"["+i.colors[n][0]+"m"+t+"["+i.colors[n][1]+"m":t}function a(t,e){return t}function s(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}function u(t,n,r){if(t.customInspect&&n&&T(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,t);return b(i)||(i=u(t,i,r)),i}var o=l(t,n);if(o)return o;var a=Object.keys(n),m=s(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(n)),S(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return c(n);if(0===a.length){if(T(n)){var g=n.name?": "+n.name:"";return t.stylize("[Function"+g+"]","special")}if(_(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(M(n))return t.stylize(Date.prototype.toString.call(n),"date");if(S(n))return c(n)}var v="",y=!1,w=["{","}"];if(p(n)&&(y=!0,w=["[","]"]),T(n)){v=" [Function"+(n.name?": "+n.name:"")+"]"}if(_(n)&&(v=" "+RegExp.prototype.toString.call(n)),M(n)&&(v=" "+Date.prototype.toUTCString.call(n)),S(n)&&(v=" "+c(n)),0===a.length&&(!y||0==n.length))return w[0]+v+w[1];if(r<0)return _(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special");t.seen.push(n);var x;return x=y?h(t,n,r,m,a):a.map(function(e){return f(t,n,r,m,e,y)}),t.seen.pop(),d(x,v,w)}function l(t,e){if(x(e))return t.stylize("undefined","undefined");if(b(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return y(e)?t.stylize(""+e,"number"):m(e)?t.stylize(""+e,"boolean"):g(e)?t.stylize("null","null"):void 0}function c(t){return"["+Error.prototype.toString.call(t)+"]"}function h(t,e,n,r,i){for(var o=[],a=0,s=e.length;a<s;++a)L(e,String(a))?o.push(f(t,e,n,r,String(a),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(f(t,e,n,r,i,!0))}),o}function f(t,e,n,r,i,o){var a,s,l;if(l=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]},l.get?s=l.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):l.set&&(s=t.stylize("[Setter]","special")),L(r,i)||(a="["+i+"]"),s||(t.seen.indexOf(l.value)<0?(s=g(n)?u(t,l.value,null):u(t,l.value,n-1),s.indexOf("\n")>-1&&(s=o?s.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+s.split("\n").map(function(t){return"   "+t}).join("\n"))):s=t.stylize("[Circular]","special")),x(a)){if(o&&i.match(/^\d+$/))return s;a=JSON.stringify(""+i),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+s}function d(t,e,n){var r=0;return t.reduce(function(t,e){return r++,e.indexOf("\n")>=0&&r++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function p(t){return Array.isArray(t)}function m(t){return"boolean"==typeof t}function g(t){return null===t}function v(t){return null==t}function y(t){return"number"==typeof t}function b(t){return"string"==typeof t}function w(t){return"symbol"==typeof t}function x(t){return void 0===t}function _(t){return E(t)&&"[object RegExp]"===I(t)}function E(t){return"object"==typeof t&&null!==t}function M(t){return E(t)&&"[object Date]"===I(t)}function S(t){return E(t)&&("[object Error]"===I(t)||t instanceof Error)}function T(t){return"function"==typeof t}function C(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t}function I(t){return Object.prototype.toString.call(t)}function O(t){return t<10?"0"+t.toString(10):t.toString(10)}function A(){var t=new Date,e=[O(t.getHours()),O(t.getMinutes()),O(t.getSeconds())].join(":");return[t.getDate(),k[t.getMonth()],e].join(" ")}function L(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var R=/%[sdj%]/g;e.format=function(t){if(!b(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(i(arguments[n]));return e.join(" ")}for(var n=1,r=arguments,o=r.length,a=String(t).replace(R,function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return t}}),s=r[n];n<o;s=r[++n])g(s)||!E(s)?a+=" "+s:a+=" "+i(s);return a},e.deprecate=function(n,i){function o(){if(!a){if(r.throwDeprecation)throw new Error(i);r.traceDeprecation?console.trace(i):console.error(i),a=!0}return n.apply(this,arguments)}if(x(t.process))return function(){return e.deprecate(n,i).apply(this,arguments)};if(!0===r.noDeprecation)return n;var a=!1;return o};var N,P={};e.debuglog=function(t){if(x(N)&&(N=Object({NODE_ENV:"production",BUILD_PATH:"https://streetsmart.cyclomedia.com/api/v17.2/"}).NODE_DEBUG||""),t=t.toUpperCase(),!P[t])if(new RegExp("\\b"+t+"\\b","i").test(N)){var n=r.pid;P[t]=function(){var r=e.format.apply(e,arguments);console.error("%s %d: %s",t,n,r)}}else P[t]=function(){};return P[t]},e.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=p,e.isBoolean=m,e.isNull=g,e.isNullOrUndefined=v,e.isNumber=y,e.isString=b,e.isSymbol=w,e.isUndefined=x,e.isRegExp=_,e.isObject=E,e.isDate=M,e.isError=S,e.isFunction=T,e.isPrimitive=C,e.isBuffer=n(1292);var k=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];e.log=function(){console.log("%s - %s",A(),e.format.apply(e,arguments))},e.inherits=n(1293),e._extend=function(t,e){if(!e||!E(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}}).call(e,n(34),n(364))},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){var r=n(365),i=n(258);t.exports.write=function(t,e,n,r){var o=100,a=0,s=0;t.forEach(function(t,e){var u=!!t[2],l=u?44:28;n.setInt32(a,e),n.setInt32(a+4,(l-8)/2),n.setInt32(a+8,u?i.geometries.POINTZ:i.geometries.POINT,!0),n.setFloat64(a+12,t[0],!0),n.setFloat64(a+20,t[1],!0),u&&(n.setFloat64(a+28,t[2],!0),n.setFloat64(a+36,Math.pow(38,-10)-1,!0)),r.setInt32(s,o/2),r.setInt32(s+4,u?18:10),s+=8,a+=l,o+=l})},t.exports.extent=function(t){return t.reduce(function(t,e){return r.enlarge(t,e)},r.blank())},t.exports.parts=function(t,e){return t.length},t.exports.shxLength=function(t){return 8*t.length},t.exports.shpLength=function(t){return t.reduce(function(t,e){return t+e.length===3?44:28},0)}},function(t,e,n){function r(t,e){var n=1;return e!==a.geometries.POLYGON&&e!==a.geometries.POLYGONZ&&e!==a.geometries.POLYLINE&&e!==a.geometries.POLYLINEZ||(n=t.reduce(function(t,e){return t+=e.length,Array.isArray(e[0][0][0])&&(t+=e.reduce(function(t,e){return t+e.length-1},0)),t},0)),n}function i(t,e){return void 0===e&&(e=[]),"object"==typeof t[0][0]?t.reduce(function(t,e){return t.concat(i(e))},e):t}var o=n(365),a=n(258);t.exports.write=function(t,e,n,a,s){function u(t,e){var u=i(t),f=r([t],s),d=16*u.length+48+4*(f-1),p=!!u[0][2];p&&(d+=16+8*u.length);var m=u.reduce(function(t,e){return o.enlarge(t,e)},o.blank());a.setInt32(c,h/2),a.setInt32(c+4,d/2),c+=8,h+=d+8,n.setInt32(l,e+1),n.setInt32(l+4,d/2),n.setInt32(l+8,s,!0),n.setFloat64(l+12,m.xmin,!0),n.setFloat64(l+20,m.ymin,!0),n.setFloat64(l+28,m.xmax,!0),n.setFloat64(l+36,m.ymax,!0),n.setInt32(l+44,f,!0),n.setInt32(l+48,u.length,!0),n.setInt32(l+52,0,!0);for(var g=t.reduce(function(t,e){return Array.isArray(e[0][0])?t=t.concat(e):t.push(e),t},[]),v=1;v<f;v++)n.setInt32(l+52+4*v,g.reduce(function(t,e,n){return n<v?t+e.length:t},0),!0);if(u.forEach(function(t,e){n.setFloat64(l+56+16*e+4*(f-1),t[0],!0),n.setFloat64(l+56+16*e+4*(f-1)+8,t[1],!0)}),p){var y=l+56+16*e+4*(f-1)+16*u.length;n.setFloat64(y,m.zmin,!0),n.setFloat64(y+8,m.zmax,!0),u.forEach(function(t,e){n.setFloat64(y+16+8*e,t[2],!0)})}l+=d+8}var l=0,c=0,h=100;t.forEach(u)},t.exports.shpLength=function(t){var e=i(t),n=!!e[0][2];return 56*t.length+16*e.length+(n?16+8*e.length:0)},t.exports.shxLength=function(t){return 8*t.length},t.exports.extent=function(t){return i(t).reduce(function(t,e){return o.enlarge(t,e)},o.blank())},t.exports.parts=r},function(t,e){function n(t,e,n){return function(s){var u=s.features.filter(o(t)),l=u.filter(a(e,n));return{geometries:"POLYLINE"===e||"POLYLINEZ"===e||"POLYGON"===e||"POLYGONZ"===e?[l.map(r)]:l.map(r),properties:l.map(i),type:e}}}function r(t){return void 0!==t.geometry.coordinates[0]&&void 0!==t.geometry.coordinates[0][0]&&void 0!==t.geometry.coordinates[0][0][0]?t.geometry.coordinates[0]:t.geometry.coordinates}function i(t){return t.properties}function o(t){return function(e){return e.geometry.type===t}}function a(t,e){return function(n){var r;return r="POINT"===t||"POINTZ"===t?n.geometry.coordinates:Array.isArray(n.geometry.coordinates[0][0])?n.geometry.coordinates[0][0]:n.geometry.coordinates[0],e?3===r.length:2===r.length}}t.exports.point=n("Point","POINT",!1),t.exports.pointZ=n("Point","POINTZ",!0),t.exports.line=n("LineString","POLYLINE",!1),t.exports.lineZ=n("LineString","POLYLINEZ",!0),t.exports.polygon=n("Polygon","POLYGON",!1),t.exports.polygonZ=n("Polygon","POLYGONZ",!0)},function(t,e,n){"use strict";function r(t,e){if(!(this instanceof r))return new r(t,e);this.files={},this.comment=null,this.root="",t&&this.load(t,e),this.clone=function(){var t=new r;for(var e in this)"function"!=typeof this[e]&&(t[e]=this[e]);return t}}var i=n(366);r.prototype=n(367),r.prototype.load=n(1312),r.support=n(206),r.defaults=n(557),r.utils=n(1316),r.base64={encode:function(t){return i.encode(t)},decode:function(t){return i.decode(t)}},r.compressions=n(368),t.exports=r},function(t,e,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,i=n(1299);e.uncompressInputType=r?"uint8array":"array",e.compressInputType=r?"uint8array":"array",e.magic="\b\0",e.compress=function(t,e){return i.deflateRaw(t,{level:e.level||-1})},e.uncompress=function(t){return i.inflateRaw(t)}},function(t,e,n){"use strict";var r=n(120).assign,i=n(1300),o=n(1303),a=n(555),s={};r(s,i,o,a),t.exports=s},function(t,e,n){"use strict";function r(t){if(!(this instanceof r))return new r(t);this.options=u.assign({level:p,method:g,chunkSize:16384,windowBits:15,memLevel:8,strategy:m,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var n=s.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==d)throw new Error(c[n]);if(e.header&&s.deflateSetHeader(this.strm,e.header),e.dictionary){var i;if(i="string"==typeof e.dictionary?l.string2buf(e.dictionary):"[object ArrayBuffer]"===f.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(n=s.deflateSetDictionary(this.strm,i))!==d)throw new Error(c[n]);this._dict_set=!0}}function i(t,e){var n=new r(e);if(n.push(t,!0),n.err)throw n.msg;return n.result}function o(t,e){return e=e||{},e.raw=!0,i(t,e)}function a(t,e){return e=e||{},e.gzip=!0,i(t,e)}var s=n(1301),u=n(120),l=n(553),c=n(369),h=n(554),f=Object.prototype.toString,d=0,p=-1,m=0,g=8;r.prototype.push=function(t,e){var n,r,i=this.strm,o=this.options.chunkSize;if(this.ended)return!1;r=e===~~e?e:!0===e?4:0,"string"==typeof t?i.input=l.string2buf(t):"[object ArrayBuffer]"===f.call(t)?i.input=new Uint8Array(t):i.input=t,i.next_in=0,i.avail_in=i.input.length;do{if(0===i.avail_out&&(i.output=new u.Buf8(o),i.next_out=0,i.avail_out=o),1!==(n=s.deflate(i,r))&&n!==d)return this.onEnd(n),this.ended=!0,!1;0!==i.avail_out&&(0!==i.avail_in||4!==r&&2!==r)||("string"===this.options.to?this.onData(l.buf2binstring(u.shrinkBuf(i.output,i.next_out))):this.onData(u.shrinkBuf(i.output,i.next_out)))}while((i.avail_in>0||0===i.avail_out)&&1!==n);return 4===r?(n=s.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===d):2!==r||(this.onEnd(d),i.avail_out=0,!0)},r.prototype.onData=function(t){this.chunks.push(t)},r.prototype.onEnd=function(t){t===d&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=u.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Deflate=r,e.deflate=i,e.deflateRaw=o,e.gzip=a},function(t,e,n){"use strict";function r(t,e){return t.msg=P[e],e}function i(t){return(t<<1)-(t>4?9:0)}function o(t){for(var e=t.length;--e>=0;)t[e]=0}function a(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(A.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))}function s(t,e){L._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,a(t.strm)}function u(t,e){t.pending_buf[t.pending++]=e}function l(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function c(t,e,n,r){var i=t.avail_in;return i>r&&(i=r),0===i?0:(t.avail_in-=i,A.arraySet(e,t.input,t.next_in,i,n),1===t.state.wrap?t.adler=R(t.adler,e,i,n):2===t.state.wrap&&(t.adler=N(t.adler,e,i,n)),t.next_in+=i,t.total_in+=i,i)}function h(t,e){var n,r,i=t.max_chain_length,o=t.strstart,a=t.prev_length,s=t.nice_match,u=t.strstart>t.w_size-lt?t.strstart-(t.w_size-lt):0,l=t.window,c=t.w_mask,h=t.prev,f=t.strstart+ut,d=l[o+a-1],p=l[o+a];t.prev_length>=t.good_match&&(i>>=2),s>t.lookahead&&(s=t.lookahead);do{if(n=e,l[n+a]===p&&l[n+a-1]===d&&l[n]===l[o]&&l[++n]===l[o+1]){o+=2,n++;do{}while(l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&o<f);if(r=ut-(f-o),o=f-ut,r>a){if(t.match_start=e,a=r,r>=s)break;d=l[o+a-1],p=l[o+a]}}}while((e=h[e&c])>u&&0!=--i);return a<=t.lookahead?a:t.lookahead}function f(t){var e,n,r,i,o,a=t.w_size;do{if(i=t.window_size-t.lookahead-t.strstart,t.strstart>=a+(a-lt)){A.arraySet(t.window,t.window,a,a,0),t.match_start-=a,t.strstart-=a,t.block_start-=a,n=t.hash_size,e=n;do{r=t.head[--e],t.head[e]=r>=a?r-a:0}while(--n);n=a,e=n;do{r=t.prev[--e],t.prev[e]=r>=a?r-a:0}while(--n);i+=a}if(0===t.strm.avail_in)break;if(n=c(t.strm,t.window,t.strstart+t.lookahead,i),t.lookahead+=n,t.lookahead+t.insert>=st)for(o=t.strstart-t.insert,t.ins_h=t.window[o],t.ins_h=(t.ins_h<<t.hash_shift^t.window[o+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[o+st-1])&t.hash_mask,t.prev[o&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=o,o++,t.insert--,!(t.lookahead+t.insert<st)););}while(t.lookahead<lt&&0!==t.strm.avail_in)}function d(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(f(t),0===t.lookahead&&e===k)return yt;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var r=t.block_start+n;if((0===t.strstart||t.strstart>=r)&&(t.lookahead=t.strstart-r,t.strstart=r,s(t,!1),0===t.strm.avail_out))return yt;if(t.strstart-t.block_start>=t.w_size-lt&&(s(t,!1),0===t.strm.avail_out))return yt}return t.insert=0,e===j?(s(t,!0),0===t.strm.avail_out?wt:xt):(t.strstart>t.block_start&&(s(t,!1),t.strm.avail_out),yt)}function p(t,e){for(var n,r;;){if(t.lookahead<lt){if(f(t),t.lookahead<lt&&e===k)return yt;if(0===t.lookahead)break}if(n=0,t.lookahead>=st&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+st-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-lt&&(t.match_length=h(t,n)),t.match_length>=st)if(r=L._tr_tally(t,t.strstart-t.match_start,t.match_length-st),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=st){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+st-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else r=L._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(s(t,!1),0===t.strm.avail_out))return yt}return t.insert=t.strstart<st-1?t.strstart:st-1,e===j?(s(t,!0),0===t.strm.avail_out?wt:xt):t.last_lit&&(s(t,!1),0===t.strm.avail_out)?yt:bt}function m(t,e){for(var n,r,i;;){if(t.lookahead<lt){if(f(t),t.lookahead<lt&&e===k)return yt;if(0===t.lookahead)break}if(n=0,t.lookahead>=st&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+st-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=st-1,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-lt&&(t.match_length=h(t,n),t.match_length<=5&&(t.strategy===W||t.match_length===st&&t.strstart-t.match_start>4096)&&(t.match_length=st-1)),t.prev_length>=st&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-st,r=L._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-st),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=i&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+st-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=st-1,t.strstart++,r&&(s(t,!1),0===t.strm.avail_out))return yt}else if(t.match_available){if(r=L._tr_tally(t,0,t.window[t.strstart-1]),r&&s(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return yt}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=L._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<st-1?t.strstart:st-1,e===j?(s(t,!0),0===t.strm.avail_out?wt:xt):t.last_lit&&(s(t,!1),0===t.strm.avail_out)?yt:bt}function g(t,e){for(var n,r,i,o,a=t.window;;){if(t.lookahead<=ut){if(f(t),t.lookahead<=ut&&e===k)return yt;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=st&&t.strstart>0&&(i=t.strstart-1,(r=a[i])===a[++i]&&r===a[++i]&&r===a[++i])){o=t.strstart+ut;do{}while(r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&i<o);t.match_length=ut-(o-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=st?(n=L._tr_tally(t,1,t.match_length-st),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=L._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(s(t,!1),0===t.strm.avail_out))return yt}return t.insert=0,e===j?(s(t,!0),0===t.strm.avail_out?wt:xt):t.last_lit&&(s(t,!1),0===t.strm.avail_out)?yt:bt}function v(t,e){for(var n;;){if(0===t.lookahead&&(f(t),0===t.lookahead)){if(e===k)return yt;break}if(t.match_length=0,n=L._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(s(t,!1),0===t.strm.avail_out))return yt}return t.insert=0,e===j?(s(t,!0),0===t.strm.avail_out?wt:xt):t.last_lit&&(s(t,!1),0===t.strm.avail_out)?yt:bt}function y(t,e,n,r,i){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=i}function b(t){t.window_size=2*t.w_size,o(t.head),t.max_lazy_match=O[t.level].max_lazy,t.good_match=O[t.level].good_length,t.nice_match=O[t.level].nice_length,t.max_chain_length=O[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=st-1,t.match_available=0,t.ins_h=0}function w(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Q,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new A.Buf16(2*ot),this.dyn_dtree=new A.Buf16(2*(2*rt+1)),this.bl_tree=new A.Buf16(2*(2*it+1)),o(this.dyn_ltree),o(this.dyn_dtree),o(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new A.Buf16(at+1),this.heap=new A.Buf16(2*nt+1),o(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new A.Buf16(2*nt+1),o(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function x(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=$,e=t.state,e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?ht:gt,t.adler=2===e.wrap?0:1,e.last_flush=k,L._tr_init(e),B):r(t,V)}function _(t){var e=x(t);return e===B&&b(t.state),e}function E(t,e){return t&&t.state?2!==t.state.wrap?V:(t.state.gzhead=e,B):V}function M(t,e,n,i,o,a){if(!t)return V;var s=1;if(e===q&&(e=6),i<0?(s=0,i=-i):i>15&&(s=2,i-=16),o<1||o>J||n!==Q||i<8||i>15||e<0||e>9||a<0||a>Z)return r(t,V);8===i&&(i=9);var u=new w;return t.state=u,u.strm=t,u.wrap=s,u.gzhead=null,u.w_bits=i,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=o+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+st-1)/st),u.window=new A.Buf8(2*u.w_size),u.head=new A.Buf16(u.hash_size),u.prev=new A.Buf16(u.w_size),u.lit_bufsize=1<<o+6,u.pending_buf_size=4*u.lit_bufsize,u.pending_buf=new A.Buf8(u.pending_buf_size),u.d_buf=1*u.lit_bufsize,u.l_buf=3*u.lit_bufsize,u.level=e,u.strategy=a,u.method=n,_(t)}function S(t,e){return M(t,e,Q,tt,et,K)}function T(t,e){var n,s,c,h;if(!t||!t.state||e>U||e<0)return t?r(t,V):V;if(s=t.state,!t.output||!t.input&&0!==t.avail_in||s.status===vt&&e!==j)return r(t,0===t.avail_out?H:V);if(s.strm=t,n=s.last_flush,s.last_flush=e,s.status===ht)if(2===s.wrap)t.adler=0,u(s,31),u(s,139),u(s,8),s.gzhead?(u(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(s.gzhead.extra?4:0)+(s.gzhead.name?8:0)+(s.gzhead.comment?16:0)),u(s,255&s.gzhead.time),u(s,s.gzhead.time>>8&255),u(s,s.gzhead.time>>16&255),u(s,s.gzhead.time>>24&255),u(s,9===s.level?2:s.strategy>=Y||s.level<2?4:0),u(s,255&s.gzhead.os),s.gzhead.extra&&s.gzhead.extra.length&&(u(s,255&s.gzhead.extra.length),u(s,s.gzhead.extra.length>>8&255)),s.gzhead.hcrc&&(t.adler=N(t.adler,s.pending_buf,s.pending,0)),s.gzindex=0,s.status=ft):(u(s,0),u(s,0),u(s,0),u(s,0),u(s,0),u(s,9===s.level?2:s.strategy>=Y||s.level<2?4:0),u(s,_t),s.status=gt);else{var f=Q+(s.w_bits-8<<4)<<8,d=-1;d=s.strategy>=Y||s.level<2?0:s.level<6?1:6===s.level?2:3,f|=d<<6,0!==s.strstart&&(f|=ct),f+=31-f%31,s.status=gt,l(s,f),0!==s.strstart&&(l(s,t.adler>>>16),l(s,65535&t.adler)),t.adler=1}if(s.status===ft)if(s.gzhead.extra){for(c=s.pending;s.gzindex<(65535&s.gzhead.extra.length)&&(s.pending!==s.pending_buf_size||(s.gzhead.hcrc&&s.pending>c&&(t.adler=N(t.adler,s.pending_buf,s.pending-c,c)),a(t),c=s.pending,s.pending!==s.pending_buf_size));)u(s,255&s.gzhead.extra[s.gzindex]),s.gzindex++;s.gzhead.hcrc&&s.pending>c&&(t.adler=N(t.adler,s.pending_buf,s.pending-c,c)),s.gzindex===s.gzhead.extra.length&&(s.gzindex=0,s.status=dt)}else s.status=dt;if(s.status===dt)if(s.gzhead.name){c=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>c&&(t.adler=N(t.adler,s.pending_buf,s.pending-c,c)),a(t),c=s.pending,s.pending===s.pending_buf_size)){h=1;break}h=s.gzindex<s.gzhead.name.length?255&s.gzhead.name.charCodeAt(s.gzindex++):0,u(s,h)}while(0!==h);s.gzhead.hcrc&&s.pending>c&&(t.adler=N(t.adler,s.pending_buf,s.pending-c,c)),0===h&&(s.gzindex=0,s.status=pt)}else s.status=pt;if(s.status===pt)if(s.gzhead.comment){c=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>c&&(t.adler=N(t.adler,s.pending_buf,s.pending-c,c)),a(t),c=s.pending,s.pending===s.pending_buf_size)){h=1;break}h=s.gzindex<s.gzhead.comment.length?255&s.gzhead.comment.charCodeAt(s.gzindex++):0,u(s,h)}while(0!==h);s.gzhead.hcrc&&s.pending>c&&(t.adler=N(t.adler,s.pending_buf,s.pending-c,c)),0===h&&(s.status=mt)}else s.status=mt;if(s.status===mt&&(s.gzhead.hcrc?(s.pending+2>s.pending_buf_size&&a(t),s.pending+2<=s.pending_buf_size&&(u(s,255&t.adler),u(s,t.adler>>8&255),t.adler=0,s.status=gt)):s.status=gt),0!==s.pending){if(a(t),0===t.avail_out)return s.last_flush=-1,B}else if(0===t.avail_in&&i(e)<=i(n)&&e!==j)return r(t,H);if(s.status===vt&&0!==t.avail_in)return r(t,H);if(0!==t.avail_in||0!==s.lookahead||e!==k&&s.status!==vt){var p=s.strategy===Y?v(s,e):s.strategy===X?g(s,e):O[s.level].func(s,e);if(p!==wt&&p!==xt||(s.status=vt),p===yt||p===wt)return 0===t.avail_out&&(s.last_flush=-1),B;if(p===bt&&(e===D?L._tr_align(s):e!==U&&(L._tr_stored_block(s,0,0,!1),e===F&&(o(s.head),0===s.lookahead&&(s.strstart=0,s.block_start=0,s.insert=0))),a(t),0===t.avail_out))return s.last_flush=-1,B}return e!==j?B:s.wrap<=0?z:(2===s.wrap?(u(s,255&t.adler),u(s,t.adler>>8&255),u(s,t.adler>>16&255),u(s,t.adler>>24&255),u(s,255&t.total_in),u(s,t.total_in>>8&255),u(s,t.total_in>>16&255),u(s,t.total_in>>24&255)):(l(s,t.adler>>>16),l(s,65535&t.adler)),a(t),s.wrap>0&&(s.wrap=-s.wrap),0!==s.pending?B:z)}function C(t){var e;return t&&t.state?(e=t.state.status)!==ht&&e!==ft&&e!==dt&&e!==pt&&e!==mt&&e!==gt&&e!==vt?r(t,V):(t.state=null,e===gt?r(t,G):B):V}function I(t,e){var n,r,i,a,s,u,l,c,h=e.length;if(!t||!t.state)return V;if(n=t.state,2===(a=n.wrap)||1===a&&n.status!==ht||n.lookahead)return V;for(1===a&&(t.adler=R(t.adler,e,h,0)),n.wrap=0,h>=n.w_size&&(0===a&&(o(n.head),n.strstart=0,n.block_start=0,n.insert=0),c=new A.Buf8(n.w_size),A.arraySet(c,e,h-n.w_size,n.w_size,0),e=c,h=n.w_size),s=t.avail_in,u=t.next_in,l=t.input,t.avail_in=h,t.next_in=0,t.input=e,f(n);n.lookahead>=st;){r=n.strstart,i=n.lookahead-(st-1);do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+st-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++}while(--i);n.strstart=r,n.lookahead=st-1,f(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=st-1,n.match_available=0,t.next_in=u,t.input=l,t.avail_in=s,n.wrap=a,B}var O,A=n(120),L=n(1302),R=n(551),N=n(552),P=n(369),k=0,D=1,F=3,j=4,U=5,B=0,z=1,V=-2,G=-3,H=-5,q=-1,W=1,Y=2,X=3,Z=4,K=0,$=2,Q=8,J=9,tt=15,et=8,nt=286,rt=30,it=19,ot=2*nt+1,at=15,st=3,ut=258,lt=ut+st+1,ct=32,ht=42,ft=69,dt=73,pt=91,mt=103,gt=113,vt=666,yt=1,bt=2,wt=3,xt=4,_t=3;O=[new y(0,0,0,0,d),new y(4,4,8,4,p),new y(4,5,16,8,p),new y(4,6,32,32,p),new y(4,4,16,16,m),new y(8,16,32,32,m),new y(8,16,128,128,m),new y(8,32,128,256,m),new y(32,128,258,1024,m),new y(32,258,258,4096,m)],e.deflateInit=S,e.deflateInit2=M,e.deflateReset=_,e.deflateResetKeep=x,e.deflateSetHeader=E,e.deflate=T,e.deflateEnd=C,e.deflateSetDictionary=I,e.deflateInfo="pako deflate (from Nodeca project)"},function(t,e,n){"use strict";function r(t){for(var e=t.length;--e>=0;)t[e]=0}function i(t,e,n,r,i){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=t&&t.length}function o(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function a(t){return t<256?ot[t]:ot[256+(t>>>7)]}function s(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function u(t,e,n){t.bi_valid>Y-n?(t.bi_buf|=e<<t.bi_valid&65535,s(t,t.bi_buf),t.bi_buf=e>>Y-t.bi_valid,t.bi_valid+=n-Y):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function l(t,e,n){u(t,n[2*e],n[2*e+1])}function c(t,e){var n=0;do{n|=1&t,t>>>=1,n<<=1}while(--e>0);return n>>>1}function h(t){16===t.bi_valid?(s(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}function f(t,e){var n,r,i,o,a,s,u=e.dyn_tree,l=e.max_code,c=e.stat_desc.static_tree,h=e.stat_desc.has_stree,f=e.stat_desc.extra_bits,d=e.stat_desc.extra_base,p=e.stat_desc.max_length,m=0;for(o=0;o<=W;o++)t.bl_count[o]=0;for(u[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<q;n++)r=t.heap[n],o=u[2*u[2*r+1]+1]+1,o>p&&(o=p,m++),u[2*r+1]=o,r>l||(t.bl_count[o]++,a=0,r>=d&&(a=f[r-d]),s=u[2*r],t.opt_len+=s*(o+a),h&&(t.static_len+=s*(c[2*r+1]+a)));if(0!==m){do{for(o=p-1;0===t.bl_count[o];)o--;t.bl_count[o]--,t.bl_count[o+1]+=2,t.bl_count[p]--,m-=2}while(m>0);for(o=p;0!==o;o--)for(r=t.bl_count[o];0!==r;)(i=t.heap[--n])>l||(u[2*i+1]!==o&&(t.opt_len+=(o-u[2*i+1])*u[2*i],u[2*i+1]=o),r--)}}function d(t,e,n){var r,i,o=new Array(W+1),a=0;for(r=1;r<=W;r++)o[r]=a=a+n[r-1]<<1;for(i=0;i<=e;i++){var s=t[2*i+1];0!==s&&(t[2*i]=c(o[s]++,s))}}function p(){var t,e,n,r,o,a=new Array(W+1);for(n=0,r=0;r<B-1;r++)for(st[r]=n,t=0;t<1<<J[r];t++)at[n++]=r;for(at[n-1]=r,o=0,r=0;r<16;r++)for(ut[r]=o,t=0;t<1<<tt[r];t++)ot[o++]=r;for(o>>=7;r<G;r++)for(ut[r]=o<<7,t=0;t<1<<tt[r]-7;t++)ot[256+o++]=r;for(e=0;e<=W;e++)a[e]=0;for(t=0;t<=143;)rt[2*t+1]=8,t++,a[8]++;for(;t<=255;)rt[2*t+1]=9,t++,a[9]++;for(;t<=279;)rt[2*t+1]=7,t++,a[7]++;for(;t<=287;)rt[2*t+1]=8,t++,a[8]++;for(d(rt,V+1,a),t=0;t<G;t++)it[2*t+1]=5,it[2*t]=c(t,5);lt=new i(rt,J,z+1,V,W),ct=new i(it,tt,0,G,W),ht=new i(new Array(0),et,0,H,X)}function m(t){var e;for(e=0;e<V;e++)t.dyn_ltree[2*e]=0;for(e=0;e<G;e++)t.dyn_dtree[2*e]=0;for(e=0;e<H;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*Z]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function g(t){t.bi_valid>8?s(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function v(t,e,n,r){g(t),r&&(s(t,n),s(t,~n)),R.arraySet(t.pending_buf,t.window,e,n,t.pending),t.pending+=n}function y(t,e,n,r){var i=2*e,o=2*n;return t[i]<t[o]||t[i]===t[o]&&r[e]<=r[n]}function b(t,e,n){for(var r=t.heap[n],i=n<<1;i<=t.heap_len&&(i<t.heap_len&&y(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!y(e,r,t.heap[i],t.depth));)t.heap[n]=t.heap[i],n=i,i<<=1;t.heap[n]=r}function w(t,e,n){var r,i,o,s,c=0;if(0!==t.last_lit)do{r=t.pending_buf[t.d_buf+2*c]<<8|t.pending_buf[t.d_buf+2*c+1],i=t.pending_buf[t.l_buf+c],c++,0===r?l(t,i,e):(o=at[i],l(t,o+z+1,e),s=J[o],0!==s&&(i-=st[o],u(t,i,s)),r--,o=a(r),l(t,o,n),0!==(s=tt[o])&&(r-=ut[o],u(t,r,s)))}while(c<t.last_lit);l(t,Z,e)}function x(t,e){var n,r,i,o=e.dyn_tree,a=e.stat_desc.static_tree,s=e.stat_desc.has_stree,u=e.stat_desc.elems,l=-1;for(t.heap_len=0,t.heap_max=q,n=0;n<u;n++)0!==o[2*n]?(t.heap[++t.heap_len]=l=n,t.depth[n]=0):o[2*n+1]=0;for(;t.heap_len<2;)i=t.heap[++t.heap_len]=l<2?++l:0,o[2*i]=1,t.depth[i]=0,t.opt_len--,s&&(t.static_len-=a[2*i+1]);for(e.max_code=l,n=t.heap_len>>1;n>=1;n--)b(t,o,n);i=u;do{n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],b(t,o,1),r=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=r,o[2*i]=o[2*n]+o[2*r],t.depth[i]=(t.depth[n]>=t.depth[r]?t.depth[n]:t.depth[r])+1,o[2*n+1]=o[2*r+1]=i,t.heap[1]=i++,b(t,o,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],f(t,e),d(o,l,t.bl_count)}function _(t,e,n){var r,i,o=-1,a=e[1],s=0,u=7,l=4;for(0===a&&(u=138,l=3),e[2*(n+1)+1]=65535,r=0;r<=n;r++)i=a,a=e[2*(r+1)+1],++s<u&&i===a||(s<l?t.bl_tree[2*i]+=s:0!==i?(i!==o&&t.bl_tree[2*i]++,t.bl_tree[2*K]++):s<=10?t.bl_tree[2*$]++:t.bl_tree[2*Q]++,s=0,o=i,0===a?(u=138,l=3):i===a?(u=6,l=3):(u=7,l=4))}function E(t,e,n){var r,i,o=-1,a=e[1],s=0,c=7,h=4;for(0===a&&(c=138,h=3),r=0;r<=n;r++)if(i=a,a=e[2*(r+1)+1],!(++s<c&&i===a)){if(s<h)do{l(t,i,t.bl_tree)}while(0!=--s);else 0!==i?(i!==o&&(l(t,i,t.bl_tree),s--),l(t,K,t.bl_tree),u(t,s-3,2)):s<=10?(l(t,$,t.bl_tree),u(t,s-3,3)):(l(t,Q,t.bl_tree),u(t,s-11,7));s=0,o=i,0===a?(c=138,h=3):i===a?(c=6,h=3):(c=7,h=4)}}function M(t){var e;for(_(t,t.dyn_ltree,t.l_desc.max_code),_(t,t.dyn_dtree,t.d_desc.max_code),x(t,t.bl_desc),e=H-1;e>=3&&0===t.bl_tree[2*nt[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}function S(t,e,n,r){var i;for(u(t,e-257,5),u(t,n-1,5),u(t,r-4,4),i=0;i<r;i++)u(t,t.bl_tree[2*nt[i]+1],3);E(t,t.dyn_ltree,e-1),E(t,t.dyn_dtree,n-1)}function T(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return P;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return k;for(e=32;e<z;e++)if(0!==t.dyn_ltree[2*e])return k;return P}function C(t){ft||(p(),ft=!0),t.l_desc=new o(t.dyn_ltree,lt),t.d_desc=new o(t.dyn_dtree,ct),t.bl_desc=new o(t.bl_tree,ht),t.bi_buf=0,t.bi_valid=0,m(t)}function I(t,e,n,r){u(t,(F<<1)+(r?1:0),3),v(t,e,n,!0)}function O(t){u(t,j<<1,3),l(t,Z,rt),h(t)}function A(t,e,n,r){var i,o,a=0;t.level>0?(t.strm.data_type===D&&(t.strm.data_type=T(t)),x(t,t.l_desc),x(t,t.d_desc),a=M(t),i=t.opt_len+3+7>>>3,(o=t.static_len+3+7>>>3)<=i&&(i=o)):i=o=n+5,n+4<=i&&-1!==e?I(t,e,n,r):t.strategy===N||o===i?(u(t,(j<<1)+(r?1:0),3),w(t,rt,it)):(u(t,(U<<1)+(r?1:0),3),S(t,t.l_desc.max_code+1,t.d_desc.max_code+1,a+1),w(t,t.dyn_ltree,t.dyn_dtree)),m(t),r&&g(t)}function L(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(at[n]+z+1)]++,t.dyn_dtree[2*a(e)]++),t.last_lit===t.lit_bufsize-1}var R=n(120),N=4,P=0,k=1,D=2,F=0,j=1,U=2,B=29,z=256,V=z+1+B,G=30,H=19,q=2*V+1,W=15,Y=16,X=7,Z=256,K=16,$=17,Q=18,J=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],tt=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],et=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],nt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],rt=new Array(2*(V+2));r(rt);var it=new Array(2*G);r(it);var ot=new Array(512);r(ot);var at=new Array(256);r(at);var st=new Array(B);r(st);var ut=new Array(G);r(ut);var lt,ct,ht,ft=!1;e._tr_init=C,e._tr_stored_block=I,e._tr_flush_block=A,e._tr_tally=L,e._tr_align=O},function(t,e,n){"use strict";function r(t){if(!(this instanceof r))return new r(t);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var n=a.inflateInit2(this.strm,e.windowBits);if(n!==l.Z_OK)throw new Error(c[n]);this.header=new f,a.inflateGetHeader(this.strm,this.header)}function i(t,e){var n=new r(e);if(n.push(t,!0),n.err)throw n.msg;return n.result}function o(t,e){return e=e||{},e.raw=!0,i(t,e)}var a=n(1304),s=n(120),u=n(553),l=n(555),c=n(369),h=n(554),f=n(1307),d=Object.prototype.toString;r.prototype.push=function(t,e){var n,r,i,o,c,h,f=this.strm,p=this.options.chunkSize,m=this.options.dictionary,g=!1;if(this.ended)return!1;r=e===~~e?e:!0===e?l.Z_FINISH:l.Z_NO_FLUSH,"string"==typeof t?f.input=u.binstring2buf(t):"[object ArrayBuffer]"===d.call(t)?f.input=new Uint8Array(t):f.input=t,f.next_in=0,f.avail_in=f.input.length;do{if(0===f.avail_out&&(f.output=new s.Buf8(p),f.next_out=0,f.avail_out=p),n=a.inflate(f,l.Z_NO_FLUSH),n===l.Z_NEED_DICT&&m&&(h="string"==typeof m?u.string2buf(m):"[object ArrayBuffer]"===d.call(m)?new Uint8Array(m):m,n=a.inflateSetDictionary(this.strm,h)),n===l.Z_BUF_ERROR&&!0===g&&(n=l.Z_OK,g=!1),n!==l.Z_STREAM_END&&n!==l.Z_OK)return this.onEnd(n),this.ended=!0,!1;f.next_out&&(0!==f.avail_out&&n!==l.Z_STREAM_END&&(0!==f.avail_in||r!==l.Z_FINISH&&r!==l.Z_SYNC_FLUSH)||("string"===this.options.to?(i=u.utf8border(f.output,f.next_out),o=f.next_out-i,c=u.buf2string(f.output,i),f.next_out=o,f.avail_out=p-o,o&&s.arraySet(f.output,f.output,i,o,0),this.onData(c)):this.onData(s.shrinkBuf(f.output,f.next_out)))),0===f.avail_in&&0===f.avail_out&&(g=!0)}while((f.avail_in>0||0===f.avail_out)&&n!==l.Z_STREAM_END);return n===l.Z_STREAM_END&&(r=l.Z_FINISH),r===l.Z_FINISH?(n=a.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===l.Z_OK):r!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),f.avail_out=0,!0)},r.prototype.onData=function(t){this.chunks.push(t)},r.prototype.onEnd=function(t){t===l.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Inflate=r,e.inflate=i,e.inflateRaw=o,e.ungzip=i},function(t,e,n){"use strict";function r(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function i(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new y.Buf16(320),this.work=new y.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function o(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=F,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new y.Buf32(mt),e.distcode=e.distdyn=new y.Buf32(gt),e.sane=1,e.back=-1,O):R}function a(t){var e;return t&&t.state?(e=t.state,e.wsize=0,e.whave=0,e.wnext=0,o(t)):R}function s(t,e){var n,r;return t&&t.state?(r=t.state,e<0?(n=0,e=-e):(n=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?R:(null!==r.window&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,a(t))):R}function u(t,e){var n,r;return t?(r=new i,t.state=r,r.window=null,n=s(t,e),n!==O&&(t.state=null),n):R}function l(t){return u(t,vt)}function c(t){if(yt){var e;for(g=new y.Buf32(512),v=new y.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(_(M,t.lens,0,288,g,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;_(S,t.lens,0,32,v,0,t.work,{bits:5}),yt=!1}t.lencode=g,t.lenbits=9,t.distcode=v,t.distbits=5}function h(t,e,n,r){var i,o=t.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new y.Buf8(o.wsize)),r>=o.wsize?(y.arraySet(o.window,e,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>r&&(i=r),y.arraySet(o.window,e,n-r,i,o.wnext),r-=i,r?(y.arraySet(o.window,e,n-r,r,0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0}function f(t,e){var n,i,o,a,s,u,l,f,d,p,m,g,v,mt,gt,vt,yt,bt,wt,xt,_t,Et,Mt,St,Tt=0,Ct=new y.Buf8(4),It=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return R;n=t.state,n.mode===X&&(n.mode=Z),s=t.next_out,o=t.output,l=t.avail_out,a=t.next_in,i=t.input,u=t.avail_in,f=n.hold,d=n.bits,p=u,m=l,Et=O;t:for(;;)switch(n.mode){case F:if(0===n.wrap){n.mode=Z;break}for(;d<16;){if(0===u)break t;u--,f+=i[a++]<<d,d+=8}if(2&n.wrap&&35615===f){n.check=0,Ct[0]=255&f,Ct[1]=f>>>8&255,n.check=w(n.check,Ct,2,0),f=0,d=0,n.mode=j;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&f)<<8)+(f>>8))%31){t.msg="incorrect header check",n.mode=ft;break}if((15&f)!==D){t.msg="unknown compression method",n.mode=ft;break}if(f>>>=4,d-=4,_t=8+(15&f),0===n.wbits)n.wbits=_t;else if(_t>n.wbits){t.msg="invalid window size",n.mode=ft;break}n.dmax=1<<_t,t.adler=n.check=1,n.mode=512&f?W:X,f=0,d=0;break;case j:for(;d<16;){if(0===u)break t;u--,f+=i[a++]<<d,d+=8}if(n.flags=f,(255&n.flags)!==D){t.msg="unknown compression method",n.mode=ft;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=ft;break}n.head&&(n.head.text=f>>8&1),512&n.flags&&(Ct[0]=255&f,Ct[1]=f>>>8&255,n.check=w(n.check,Ct,2,0)),f=0,d=0,n.mode=U;case U:for(;d<32;){if(0===u)break t;u--,f+=i[a++]<<d,d+=8}n.head&&(n.head.time=f),512&n.flags&&(Ct[0]=255&f,Ct[1]=f>>>8&255,Ct[2]=f>>>16&255,Ct[3]=f>>>24&255,n.check=w(n.check,Ct,4,0)),f=0,d=0,n.mode=B;case B:for(;d<16;){if(0===u)break t;u--,f+=i[a++]<<d,d+=8}n.head&&(n.head.xflags=255&f,n.head.os=f>>8),512&n.flags&&(Ct[0]=255&f,Ct[1]=f>>>8&255,n.check=w(n.check,Ct,2,0)),f=0,d=0,n.mode=z;case z:if(1024&n.flags){for(;d<16;){if(0===u)break t;u--,f+=i[a++]<<d,d+=8}n.length=f,n.head&&(n.head.extra_len=f),512&n.flags&&(Ct[0]=255&f,Ct[1]=f>>>8&255,n.check=w(n.check,Ct,2,0)),f=0,d=0}else n.head&&(n.head.extra=null);n.mode=V;case V:if(1024&n.flags&&(g=n.length,g>u&&(g=u),g&&(n.head&&(_t=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),y.arraySet(n.head.extra,i,a,g,_t)),512&n.flags&&(n.check=w(n.check,i,g,a)),u-=g,a+=g,n.length-=g),n.length))break t;n.length=0,n.mode=G;case G:if(2048&n.flags){if(0===u)break t;g=0;do{_t=i[a+g++],n.head&&_t&&n.length<65536&&(n.head.name+=String.fromCharCode(_t))}while(_t&&g<u);if(512&n.flags&&(n.check=w(n.check,i,g,a)),u-=g,a+=g,_t)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=H;case H:if(4096&n.flags){if(0===u)break t;g=0;do{_t=i[a+g++],n.head&&_t&&n.length<65536&&(n.head.comment+=String.fromCharCode(_t))}while(_t&&g<u);if(512&n.flags&&(n.check=w(n.check,i,g,a)),u-=g,a+=g,_t)break t}else n.head&&(n.head.comment=null);n.mode=q;case q:if(512&n.flags){for(;d<16;){if(0===u)break t;u--,f+=i[a++]<<d,d+=8}if(f!==(65535&n.check)){t.msg="header crc mismatch",n.mode=ft;break}f=0,d=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=X;break;case W:for(;d<32;){if(0===u)break t;u--,f+=i[a++]<<d,d+=8}t.adler=n.check=r(f),f=0,d=0,n.mode=Y;case Y:if(0===n.havedict)return t.next_out=s,t.avail_out=l,t.next_in=a,t.avail_in=u,n.hold=f,n.bits=d,L;t.adler=n.check=1,n.mode=X;case X:if(e===C||e===I)break t;case Z:if(n.last){f>>>=7&d,d-=7&d,n.mode=lt;break}for(;d<3;){if(0===u)break t;u--,f+=i[a++]<<d,d+=8}switch(n.last=1&f,f>>>=1,d-=1,3&f){case 0:n.mode=K;break;case 1:if(c(n),n.mode=nt,e===I){f>>>=2,d-=2;break t}break;case 2:n.mode=J;break;case 3:t.msg="invalid block type",n.mode=ft}f>>>=2,d-=2;break;case K:for(f>>>=7&d,d-=7&d;d<32;){if(0===u)break t;u--,f+=i[a++]<<d,d+=8}if((65535&f)!=(f>>>16^65535)){t.msg="invalid stored block lengths",n.mode=ft;break}if(n.length=65535&f,f=0,d=0,n.mode=$,e===I)break t;case $:n.mode=Q;case Q:if(g=n.length){if(g>u&&(g=u),g>l&&(g=l),0===g)break t;y.arraySet(o,i,a,g,s),u-=g,a+=g,l-=g,s+=g,n.length-=g;break}n.mode=X;break;case J:for(;d<14;){if(0===u)break t;u--,f+=i[a++]<<d,d+=8}if(n.nlen=257+(31&f),f>>>=5,d-=5,n.ndist=1+(31&f),f>>>=5,d-=5,n.ncode=4+(15&f),f>>>=4,d-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=ft;break}n.have=0,n.mode=tt;case tt:for(;n.have<n.ncode;){for(;d<3;){if(0===u)break t;u--,f+=i[a++]<<d,d+=8}n.lens[It[n.have++]]=7&f,f>>>=3,d-=3}for(;n.have<19;)n.lens[It[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,Mt={bits:n.lenbits},Et=_(E,n.lens,0,19,n.lencode,0,n.work,Mt),n.lenbits=Mt.bits,Et){t.msg="invalid code lengths set",n.mode=ft;break}n.have=0,n.mode=et;case et:for(;n.have<n.nlen+n.ndist;){for(;Tt=n.lencode[f&(1<<n.lenbits)-1],gt=Tt>>>24,vt=Tt>>>16&255,yt=65535&Tt,!(gt<=d);){if(0===u)break t;u--,f+=i[a++]<<d,d+=8}if(yt<16)f>>>=gt,d-=gt,n.lens[n.have++]=yt;else{if(16===yt){for(St=gt+2;d<St;){if(0===u)break t;u--,f+=i[a++]<<d,d+=8}if(f>>>=gt,d-=gt,0===n.have){t.msg="invalid bit length repeat",n.mode=ft;break}_t=n.lens[n.have-1],g=3+(3&f),f>>>=2,d-=2}else if(17===yt){for(St=gt+3;d<St;){if(0===u)break t;u--,f+=i[a++]<<d,d+=8}f>>>=gt,d-=gt,_t=0,g=3+(7&f),f>>>=3,d-=3}else{for(St=gt+7;d<St;){if(0===u)break t;u--,f+=i[a++]<<d,d+=8}f>>>=gt,d-=gt,_t=0,g=11+(127&f),f>>>=7,d-=7}if(n.have+g>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=ft;break}for(;g--;)n.lens[n.have++]=_t}}if(n.mode===ft)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=ft;break}if(n.lenbits=9,Mt={bits:n.lenbits},Et=_(M,n.lens,0,n.nlen,n.lencode,0,n.work,Mt),n.lenbits=Mt.bits,Et){t.msg="invalid literal/lengths set",n.mode=ft;break}if(n.distbits=6,n.distcode=n.distdyn,Mt={bits:n.distbits},Et=_(S,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,Mt),n.distbits=Mt.bits,Et){t.msg="invalid distances set",n.mode=ft;break}if(n.mode=nt,e===I)break t;case nt:n.mode=rt;case rt:if(u>=6&&l>=258){t.next_out=s,t.avail_out=l,t.next_in=a,t.avail_in=u,n.hold=f,n.bits=d,x(t,m),s=t.next_out,o=t.output,l=t.avail_out,a=t.next_in,i=t.input,u=t.avail_in,f=n.hold,d=n.bits,n.mode===X&&(n.back=-1);break}for(n.back=0;Tt=n.lencode[f&(1<<n.lenbits)-1],gt=Tt>>>24,vt=Tt>>>16&255,yt=65535&Tt,!(gt<=d);){if(0===u)break t;u--,f+=i[a++]<<d,d+=8}if(vt&&0==(240&vt)){for(bt=gt,wt=vt,xt=yt;Tt=n.lencode[xt+((f&(1<<bt+wt)-1)>>bt)],gt=Tt>>>24,vt=Tt>>>16&255,yt=65535&Tt,!(bt+gt<=d);){if(0===u)break t;u--,f+=i[a++]<<d,d+=8}f>>>=bt,d-=bt,n.back+=bt}if(f>>>=gt,d-=gt,n.back+=gt,n.length=yt,0===vt){n.mode=ut;break}if(32&vt){n.back=-1,n.mode=X;break}if(64&vt){t.msg="invalid literal/length code",n.mode=ft;break}n.extra=15&vt,n.mode=it;case it:if(n.extra){for(St=n.extra;d<St;){if(0===u)break t;u--,f+=i[a++]<<d,d+=8}n.length+=f&(1<<n.extra)-1,f>>>=n.extra,d-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=ot;case ot:for(;Tt=n.distcode[f&(1<<n.distbits)-1],gt=Tt>>>24,vt=Tt>>>16&255,yt=65535&Tt,!(gt<=d);){if(0===u)break t;u--,f+=i[a++]<<d,d+=8}if(0==(240&vt)){for(bt=gt,wt=vt,xt=yt;Tt=n.distcode[xt+((f&(1<<bt+wt)-1)>>bt)],gt=Tt>>>24,vt=Tt>>>16&255,yt=65535&Tt,!(bt+gt<=d);){if(0===u)break t;u--,f+=i[a++]<<d,d+=8}f>>>=bt,d-=bt,n.back+=bt}if(f>>>=gt,d-=gt,n.back+=gt,64&vt){t.msg="invalid distance code",n.mode=ft;break}n.offset=yt,n.extra=15&vt,n.mode=at;case at:if(n.extra){for(St=n.extra;d<St;){if(0===u)break t;u--,f+=i[a++]<<d,d+=8}n.offset+=f&(1<<n.extra)-1,f>>>=n.extra,d-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=ft;break}n.mode=st;case st:if(0===l)break t;if(g=m-l,n.offset>g){if((g=n.offset-g)>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=ft;break}g>n.wnext?(g-=n.wnext,v=n.wsize-g):v=n.wnext-g,g>n.length&&(g=n.length),mt=n.window}else mt=o,v=s-n.offset,g=n.length;g>l&&(g=l),l-=g,n.length-=g;do{o[s++]=mt[v++]}while(--g);0===n.length&&(n.mode=rt);break;case ut:if(0===l)break t;o[s++]=n.length,l--,n.mode=rt;break;case lt:if(n.wrap){for(;d<32;){if(0===u)break t;u--,f|=i[a++]<<d,d+=8}if(m-=l,t.total_out+=m,n.total+=m,m&&(t.adler=n.check=n.flags?w(n.check,o,m,s-m):b(n.check,o,m,s-m)),m=l,(n.flags?f:r(f))!==n.check){t.msg="incorrect data check",n.mode=ft;break}f=0,d=0}n.mode=ct;case ct:if(n.wrap&&n.flags){for(;d<32;){if(0===u)break t;u--,f+=i[a++]<<d,d+=8}if(f!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=ft;break}f=0,d=0}n.mode=ht;case ht:Et=A;break t;case ft:Et=N;break t;case dt:return P;case pt:default:return R}return t.next_out=s,t.avail_out=l,t.next_in=a,t.avail_in=u,n.hold=f,n.bits=d,(n.wsize||m!==t.avail_out&&n.mode<ft&&(n.mode<lt||e!==T))&&h(t,t.output,t.next_out,m-t.avail_out)?(n.mode=dt,P):(p-=t.avail_in,m-=t.avail_out,t.total_in+=p,t.total_out+=m,n.total+=m,n.wrap&&m&&(t.adler=n.check=n.flags?w(n.check,o,m,t.next_out-m):b(n.check,o,m,t.next_out-m)),t.data_type=n.bits+(n.last?64:0)+(n.mode===X?128:0)+(n.mode===nt||n.mode===$?256:0),(0===p&&0===m||e===T)&&Et===O&&(Et=k),Et)}function d(t){if(!t||!t.state)return R;var e=t.state;return e.window&&(e.window=null),t.state=null,O}function p(t,e){var n;return t&&t.state?(n=t.state,0==(2&n.wrap)?R:(n.head=e,e.done=!1,O)):R}function m(t,e){var n,r,i=e.length;return t&&t.state?(n=t.state,0!==n.wrap&&n.mode!==Y?R:n.mode===Y&&(r=1,(r=b(r,e,i,0))!==n.check)?N:h(t,e,i,i)?(n.mode=dt,P):(n.havedict=1,O)):R}var g,v,y=n(120),b=n(551),w=n(552),x=n(1305),_=n(1306),E=0,M=1,S=2,T=4,C=5,I=6,O=0,A=1,L=2,R=-2,N=-3,P=-4,k=-5,D=8,F=1,j=2,U=3,B=4,z=5,V=6,G=7,H=8,q=9,W=10,Y=11,X=12,Z=13,K=14,$=15,Q=16,J=17,tt=18,et=19,nt=20,rt=21,it=22,ot=23,at=24,st=25,ut=26,lt=27,ct=28,ht=29,ft=30,dt=31,pt=32,mt=852,gt=592,vt=15,yt=!0;e.inflateReset=a,e.inflateReset2=s,e.inflateResetKeep=o,e.inflateInit=l,e.inflateInit2=u,e.inflate=f,e.inflateEnd=d,e.inflateGetHeader=p,e.inflateSetDictionary=m,e.inflateInfo="pako inflate (from Nodeca project)"},function(t,e,n){"use strict";t.exports=function(t,e){var n,r,i,o,a,s,u,l,c,h,f,d,p,m,g,v,y,b,w,x,_,E,M,S,T;n=t.state,r=t.next_in,S=t.input,i=r+(t.avail_in-5),o=t.next_out,T=t.output,a=o-(e-t.avail_out),s=o+(t.avail_out-257),u=n.dmax,l=n.wsize,c=n.whave,h=n.wnext,f=n.window,d=n.hold,p=n.bits,m=n.lencode,g=n.distcode,v=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;t:do{p<15&&(d+=S[r++]<<p,p+=8,d+=S[r++]<<p,p+=8),b=m[d&v];e:for(;;){if(w=b>>>24,d>>>=w,p-=w,0===(w=b>>>16&255))T[o++]=65535&b;else{if(!(16&w)){if(0==(64&w)){b=m[(65535&b)+(d&(1<<w)-1)];continue e}if(32&w){n.mode=12;break t}t.msg="invalid literal/length code",n.mode=30;break t}x=65535&b,w&=15,w&&(p<w&&(d+=S[r++]<<p,p+=8),x+=d&(1<<w)-1,d>>>=w,p-=w),p<15&&(d+=S[r++]<<p,p+=8,d+=S[r++]<<p,p+=8),b=g[d&y];n:for(;;){if(w=b>>>24,d>>>=w,p-=w,!(16&(w=b>>>16&255))){if(0==(64&w)){b=g[(65535&b)+(d&(1<<w)-1)];continue n}t.msg="invalid distance code",n.mode=30;break t}if(_=65535&b,w&=15,p<w&&(d+=S[r++]<<p,(p+=8)<w&&(d+=S[r++]<<p,p+=8)),(_+=d&(1<<w)-1)>u){t.msg="invalid distance too far back",n.mode=30;break t}if(d>>>=w,p-=w,w=o-a,_>w){if((w=_-w)>c&&n.sane){t.msg="invalid distance too far back",n.mode=30;break t}if(E=0,M=f,0===h){if(E+=l-w,w<x){x-=w;do{T[o++]=f[E++]}while(--w);E=o-_,M=T}}else if(h<w){if(E+=l+h-w,(w-=h)<x){x-=w;do{T[o++]=f[E++]}while(--w);if(E=0,h<x){w=h,x-=w;do{T[o++]=f[E++]}while(--w);E=o-_,M=T}}}else if(E+=h-w,w<x){x-=w;do{T[o++]=f[E++]}while(--w);E=o-_,M=T}for(;x>2;)T[o++]=M[E++],T[o++]=M[E++],T[o++]=M[E++],x-=3;x&&(T[o++]=M[E++],x>1&&(T[o++]=M[E++]))}else{E=o-_;do{T[o++]=T[E++],T[o++]=T[E++],T[o++]=T[E++],x-=3}while(x>2);x&&(T[o++]=T[E++],x>1&&(T[o++]=T[E++]))}break}}break}}while(r<i&&o<s);x=p>>3,r-=x,p-=x<<3,d&=(1<<p)-1,t.next_in=r,t.next_out=o,t.avail_in=r<i?i-r+5:5-(r-i),t.avail_out=o<s?s-o+257:257-(o-s),n.hold=d,n.bits=p}},function(t,e,n){"use strict";var r=n(120),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(t,e,n,u,l,c,h,f){var d,p,m,g,v,y,b,w,x,_=f.bits,E=0,M=0,S=0,T=0,C=0,I=0,O=0,A=0,L=0,R=0,N=null,P=0,k=new r.Buf16(16),D=new r.Buf16(16),F=null,j=0;for(E=0;E<=15;E++)k[E]=0;for(M=0;M<u;M++)k[e[n+M]]++;for(C=_,T=15;T>=1&&0===k[T];T--);if(C>T&&(C=T),0===T)return l[c++]=20971520,l[c++]=20971520,f.bits=1,0;for(S=1;S<T&&0===k[S];S++);for(C<S&&(C=S),A=1,E=1;E<=15;E++)if(A<<=1,(A-=k[E])<0)return-1;if(A>0&&(0===t||1!==T))return-1;for(D[1]=0,E=1;E<15;E++)D[E+1]=D[E]+k[E];for(M=0;M<u;M++)0!==e[n+M]&&(h[D[e[n+M]]++]=M);if(0===t?(N=F=h,y=19):1===t?(N=i,P-=257,F=o,j-=257,y=256):(N=a,F=s,y=-1),R=0,M=0,E=S,v=c,I=C,O=0,m=-1,L=1<<C,g=L-1,1===t&&L>852||2===t&&L>592)return 1;for(var U=0;;){U++,b=E-O,h[M]<y?(w=0,x=h[M]):h[M]>y?(w=F[j+h[M]],x=N[P+h[M]]):(w=96,x=0),d=1<<E-O,p=1<<I,S=p;do{p-=d,l[v+(R>>O)+p]=b<<24|w<<16|x|0}while(0!==p);for(d=1<<E-1;R&d;)d>>=1;if(0!==d?(R&=d-1,R+=d):R=0,M++,0==--k[E]){if(E===T)break;E=e[n+h[M]]}if(E>C&&(R&g)!==m){for(0===O&&(O=C),v+=S,I=E-O,A=1<<I;I+O<T&&!((A-=k[I+O])<=0);)I++,A<<=1;if(L+=1<<I,1===t&&L>852||2===t&&L>592)return 1;m=R&g,l[m]=C<<24|I<<16|v-c|0}}return 0!==R&&(l[v+R]=E-O<<24|64<<16|0),f.bits=C,0}},function(t,e,n){"use strict";function r(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}t.exports=r},function(t,e,n){"use strict";var r=n(96),i=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];t.exports=function(t,e){if(void 0===t||!t.length)return 0;var n="string"!==r.getTypeOf(t);void 0===e&&(e=0);var o=0,a=0,s=0;e^=-1;for(var u=0,l=t.length;u<l;u++)s=n?t[u]:t.charCodeAt(u),a=255&(e^s),o=i[a],e=e>>>8^o;return-1^e}},function(t,e,n){"use strict";for(var r=n(96),i=n(206),o=n(370),a=new Array(256),s=0;s<256;s++)a[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;a[254]=a[254]=1;var u=function(t){var e,n,r,o,a,s=t.length,u=0;for(o=0;o<s;o++)n=t.charCodeAt(o),55296==(64512&n)&&o+1<s&&56320==(64512&(r=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),u+=n<128?1:n<2048?2:n<65536?3:4;for(e=i.uint8array?new Uint8Array(u):new Array(u),a=0,o=0;a<u;o++)n=t.charCodeAt(o),55296==(64512&n)&&o+1<s&&56320==(64512&(r=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),n<128?e[a++]=n:n<2048?(e[a++]=192|n>>>6,e[a++]=128|63&n):n<65536?(e[a++]=224|n>>>12,e[a++]=128|n>>>6&63,e[a++]=128|63&n):(e[a++]=240|n>>>18,e[a++]=128|n>>>12&63,e[a++]=128|n>>>6&63,e[a++]=128|63&n);return e},l=function(t,e){var n;for(e=e||t.length,e>t.length&&(e=t.length),n=e-1;n>=0&&128==(192&t[n]);)n--;return n<0?e:0===n?e:n+a[t[n]]>e?n:e},c=function(t){var e,n,i,o,s=t.length,u=new Array(2*s);for(n=0,e=0;e<s;)if((i=t[e++])<128)u[n++]=i;else if((o=a[i])>4)u[n++]=65533,e+=o-1;else{for(i&=2===o?31:3===o?15:7;o>1&&e<s;)i=i<<6|63&t[e++],o--;o>1?u[n++]=65533:i<65536?u[n++]=i:(i-=65536,u[n++]=55296|i>>10&1023,u[n++]=56320|1023&i)}return u.length!==n&&(u.subarray?u=u.subarray(0,n):u.length=n),r.applyFromCharCode(u)};e.utf8encode=function(t){return i.nodebuffer?o(t,"utf-8"):u(t)},e.utf8decode=function(t){if(i.nodebuffer)return r.transformTo("nodebuffer",t).toString("utf-8");t=r.transformTo(i.uint8array?"uint8array":"array",t);for(var e=[],n=0,o=t.length;n<o;){var a=l(t,Math.min(n+65536,o));i.uint8array?e.push(c(t.subarray(n,a))):e.push(c(t.slice(n,a))),n=a}return e.join("")}},function(t,e,n){"use strict";var r=n(96),i=function(){this.data=[]};i.prototype={append:function(t){t=r.transformTo("string",t),this.data.push(t)},finalize:function(){return this.data.join("")}},t.exports=i},function(t,e,n){"use strict";var r=n(96),i=function(t){this.data=new Uint8Array(t),this.index=0};i.prototype={append:function(t){0!==t.length&&(t=r.transformTo("uint8array",t),this.data.set(t,this.index),this.index+=t.length)},finalize:function(){return this.data}},t.exports=i},function(t,e,n){"use strict";var r=n(366),i=n(1313);t.exports=function(t,e){var n,o,a,s;for(e=e||{},e.base64&&(t=r.decode(t)),o=new i(t,e),n=o.files,a=0;a<n.length;a++)s=n[a],this.file(s.fileName,s.decompressed,{binary:!0,optimizedBinaryString:!0,date:s.date,dir:s.dir,comment:s.fileComment.length?s.fileComment:null,unixPermissions:s.unixPermissions,dosPermissions:s.dosPermissions,createFolders:e.createFolders});return o.zipComment.length&&(this.comment=o.zipComment),this}},function(t,e,n){"use strict";function r(t,e){this.files=[],this.loadOptions=e,t&&this.load(t)}var i=n(559),o=n(1314),a=n(561),s=n(96),u=n(556),l=n(1315),c=n(206),h=n(367);r.prototype={checkSignature:function(t){var e=this.reader.readString(4);if(e!==t)throw new Error("Corrupted zip or bug : unexpected signature ("+s.pretty(e)+", expected "+s.pretty(t)+")")},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2),this.zipComment=this.reader.readString(this.zipCommentLength),this.zipComment=h.utf8decode(this.zipComment)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.versionMadeBy=this.reader.readString(2),this.versionNeeded=this.reader.readInt(2),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var t,e,n,r=this.zip64EndOfCentralSize-44;0<r;)t=this.reader.readInt(2),e=this.reader.readInt(4),n=this.reader.readString(e),this.zip64ExtensibleData[t]={id:t,length:e,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var t,e;for(t=0;t<this.files.length;t++)e=this.files[t],this.reader.setIndex(e.localHeaderOffset),this.checkSignature(u.LOCAL_FILE_HEADER),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()},readCentralDir:function(){var t;for(this.reader.setIndex(this.centralDirOffset);this.reader.readString(4)===u.CENTRAL_FILE_HEADER;)t=new l({zip64:this.zip64},this.loadOptions),t.readCentralPart(this.reader),this.files.push(t)},readEndOfCentral:function(){var t=this.reader.lastIndexOfSignature(u.CENTRAL_DIRECTORY_END);if(-1===t){var e=!0;try{this.reader.setIndex(0),this.checkSignature(u.LOCAL_FILE_HEADER),e=!1}catch(t){}throw e?new Error("Can't find end of central directory : is this a zip file ? If it is, see http://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip : can't find end of central directory")}if(this.reader.setIndex(t),this.checkSignature(u.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,-1===(t=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR)))throw new Error("Corrupted zip : can't find the ZIP64 end of central directory locator");this.reader.setIndex(t),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}},prepareReader:function(t){var e=s.getTypeOf(t);"string"!==e||c.uint8array?this.reader="nodebuffer"===e?new o(t):new a(s.transformTo("uint8array",t)):this.reader=new i(t,this.loadOptions.optimizedBinaryString)},load:function(t){this.prepareReader(t),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=r},function(t,e,n){"use strict";function r(t){this.data=t,this.length=this.data.length,this.index=0}var i=n(561);r.prototype=new i,r.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.index,this.index+t);return this.index+=t,e},t.exports=r},function(t,e,n){"use strict";function r(t,e){this.options=t,this.loadOptions=e}var i=n(559),o=n(96),a=n(558),s=n(367);r.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},prepareCompressedContent:function(t,e,n){return function(){var r=t.index;t.setIndex(e);var i=t.readData(n);return t.setIndex(r),i}},prepareContent:function(t,e,n,r,i){return function(){var t=o.transformTo(r.uncompressInputType,this.getCompressedContent()),e=r.uncompress(t);if(e.length!==i)throw new Error("Bug : uncompressed data size mismatch");return e}},readLocalPart:function(t){var e,n;if(t.skip(22),this.fileNameLength=t.readInt(2),n=t.readInt(2),this.fileName=t.readString(this.fileNameLength),t.skip(n),-1==this.compressedSize||-1==this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize == -1 || uncompressedSize == -1)");if(null===(e=o.findCompression(this.compressionMethod)))throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+this.fileName+")");if(this.decompressed=new a,this.decompressed.compressedSize=this.compressedSize,this.decompressed.uncompressedSize=this.uncompressedSize,this.decompressed.crc32=this.crc32,this.decompressed.compressionMethod=this.compressionMethod,this.decompressed.getCompressedContent=this.prepareCompressedContent(t,t.index,this.compressedSize,e),this.decompressed.getContent=this.prepareContent(t,t.index,this.compressedSize,e,this.uncompressedSize),this.loadOptions.checkCRC32&&(this.decompressed=o.transformTo("string",this.decompressed.getContent()),s.crc32(this.decompressed)!==this.crc32))throw new Error("Corrupted zip : CRC32 mismatch")},readCentralPart:function(t){if(this.versionMadeBy=t.readInt(2),this.versionNeeded=t.readInt(2),this.bitFlag=t.readInt(2),this.compressionMethod=t.readString(2),this.date=t.readDate(),this.crc32=t.readInt(4),this.compressedSize=t.readInt(4),this.uncompressedSize=t.readInt(4),this.fileNameLength=t.readInt(2),this.extraFieldsLength=t.readInt(2),this.fileCommentLength=t.readInt(2),this.diskNumberStart=t.readInt(2),this.internalFileAttributes=t.readInt(2),this.externalFileAttributes=t.readInt(4),this.localHeaderOffset=t.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");this.fileName=t.readString(this.fileNameLength),this.readExtraFields(t),this.parseZIP64ExtraField(t),this.fileComment=t.readString(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var t=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===t&&(this.dosPermissions=63&this.externalFileAttributes),3===t&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileName.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(t){if(this.extraFields[1]){var e=new i(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(t){var e,n,r,i=t.index;for(this.extraFields=this.extraFields||{};t.index<i+this.extraFieldsLength;)e=t.readInt(2),n=t.readInt(2),r=t.readString(n),this.extraFields[e]={id:e,length:n,value:r}},handleUTF8:function(){if(this.useUTF8())this.fileName=s.utf8decode(this.fileName),this.fileComment=s.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();null!==t&&(this.fileName=t);var e=this.findExtraFieldUnicodeComment();null!==e&&(this.fileComment=e)}},findExtraFieldUnicodePath:function(){var t=this.extraFields[28789];if(t){var e=new i(t.value);return 1!==e.readInt(1)?null:s.crc32(this.fileName)!==e.readInt(4)?null:s.utf8decode(e.readString(t.length-5))}return null},findExtraFieldUnicodeComment:function(){var t=this.extraFields[25461];if(t){var e=new i(t.value);return 1!==e.readInt(1)?null:s.crc32(this.fileComment)!==e.readInt(4)?null:s.utf8decode(e.readString(t.length-5))}return null}},t.exports=r},function(t,e,n){"use strict";var r=n(96);e.string2binary=function(t){return r.string2binary(t)},e.string2Uint8Array=function(t){return r.transformTo("uint8array",t)},e.uint8Array2String=function(t){return r.transformTo("string",t)},e.string2Blob=function(t){var e=r.transformTo("arraybuffer",t);return r.arrayBuffer2Blob(e)},e.arrayBuffer2Blob=function(t){return r.arrayBuffer2Blob(t)},e.transformTo=function(t,e){return r.transformTo(t,e)},e.getTypeOf=function(t){return r.getTypeOf(t)},e.checkSupport=function(t){return r.checkSupport(t)},e.MAX_VALUE_16BITS=r.MAX_VALUE_16BITS,e.MAX_VALUE_32BITS=r.MAX_VALUE_32BITS,e.pretty=function(t){return r.pretty(t)},e.findCompression=function(t){return r.findCompression(t)},e.isRegExp=function(t){return r.isRegExp(t)}},function(t,e,n){"use strict";function r(t,e){e=e||"";for(var n=atob(t),r=n.length,i=Math.ceil(r/1024),o=new Array(i),a=0;a<i;++a){for(var s=1024*a,u=Math.min(s+1024,r),l=new Array(u-s),c=s,h=0;c<u;++h,++c)l[h]=n[c].charCodeAt(0);o[a]=new Uint8Array(l)}return new Blob(o,{type:e})}e.a=r},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(1),o=n.n(i),a=n(170),s=n(371),u=n(208),l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),o()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();!function(){function t(){r(this,t)}l(t,null,[{key:"readCameraExtrinsics",value:function(t){return a.a.fromJson(t)}},{key:"writeCameraExtrinsics",value:function(t){return t.toJson()}},{key:"readObliqueIntrinsics",value:function(t){return s.a.fromJson(t)}},{key:"writeObliqueIntrinsics",value:function(t){return t.toJson()}},{key:"readObservation",value:function(t){return u.a.fromJson(t)}},{key:"writeObservation",value:function(t){return t.toJson()}}])}()},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=h()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(l.a?l()(t,e):t.__proto__=e)}var a=n(10),s=n.n(a),u=n(9),l=n.n(u),c=n(5),h=n.n(c),f=n(209),d=n(211);!function(t){function e(){return r(this,e),i(this,(e.__proto__||s()(e)).call(this,f.a.MANUAL))}o(e,t)}(d.default)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=l()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(s.a?s()(t,e):t.__proto__=e)}var a=n(9),s=n.n(a),u=n(5),l=n.n(u),c=n(10),h=n.n(c),f=n(57),d=n.n(f),p=n(1),m=n.n(p),g=n(4),v=n.n(g),y=n(91),b=(n.n(y),n(170)),w=n(209),x=n(211),_=v.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},E=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),m()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),M=function t(e,n,r){null===e&&(e=Function.prototype);var i=d()(e,n);if(void 0===i){var o=h()(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)};!function(t){function e(t,n,o,a,s,u){r(this,e);var l=i(this,(e.__proto__||h()(e)).call(this,w.a.MEASURE_SMART,t,n,o,a));return l.depth=s,l.depthStdev=u,l}o(e,t),E(e,[{key:"toJson",value:function(){return _({},M(e.prototype.__proto__||h()(e.prototype),"toJson",this).call(this),{depth:{value:this.depth,stdev:this.depthStdev}})}}],[{key:"fromJson",value:function(t){return new e(t.imageId,b.a.fromJson(t.extrinsics),t.groundLevelOffset,t.direction,t.depth.value,t.depth.stdev)}}])}(x.default)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=h()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(l.a?l()(t,e):t.__proto__=e)}var a=n(10),s=n.n(a),u=n(9),l=n.n(u),c=n(5),h=n.n(c),f=n(91),d=(n.n(f),n(170),n(209)),p=n(211),m=function(t){function e(t,n,o,a,u){r(this,e);var l=i(this,(e.__proto__||s()(e)).call(this,d.a.SMART_CLICK,t,n,o,a));return l.image=u,l}return o(e,t),e}(p.default);e.a=m},function(t,e,n){!function(){"use strict";function e(t,n){return this.type=Float64Array,this.shape=[],t&&t.buffer&&t.buffer instanceof ArrayBuffer?e.fromTypedArray(t,n&&n.shape):t instanceof Array?e.fromArray(t):t instanceof r?e.fromVector(t,n&&n.shape):t instanceof e?e.fromMatrix(t):"number"==typeof t&&"number"==typeof n?e.fromShape([t,n]):t&&!t.buffer&&t.shape?e.fromShape(t.shape):void 0}var r=n(565);e.fromTypedArray=function(t,n){if(t.length!==n[0]*n[1])throw new Error("Shape does not match typed array dimensions.");var r=Object.create(e.prototype);return r.shape=n,r.data=t,r.type=t.constructor,r},e.fromArray=function(t){var n,r,i=t.length,o=t[0].length,a=new Float64Array(i*o);for(n=0;n<i;++n)for(r=0;r<o;++r)a[n*o+r]=t[n][r];return e.fromTypedArray(a,[i,o])},e.fromMatrix=function(t){var n=Object.create(e.prototype);return n.shape=[t.shape[0],t.shape[1]],n.data=new t.type(t.data),n.type=t.type,n},e.fromVector=function(t,n){if(n&&t.length!==n[0]*n[1])throw new Error("Shape does not match vector dimensions.");var r=Object.create(e.prototype);return r.shape=n||[t.length,1],r.data=new t.type(t.data),r.type=t.type,r},e.fromShape=function(t){var n=t[0],r=t[1];return e.fromTypedArray(new Float64Array(n*r),t)},e.binOp=function(t,n,r){return new e(t).binOp(n,r)},e.prototype.binOp=function(t,e){var n=this.shape[0],r=this.shape[1],i=n*r,o=this.data,a=t.data;if(n!==t.shape[0]||r!==t.shape[1])throw new Error("sizes do not match!");var s;for(s=0;s<i;s++)o[s]=e(o[s],a[s],s);return this},e.add=function(t,n){return new e(t).add(n)},e.prototype.add=function(t){return this.binOp(t,function(t,e){return t+e})},e.subtract=function(t,n){return new e(t).subtract(n)},e.prototype.subtract=function(t){return this.binOp(t,function(t,e){return t-e})},e.product=function(t,n){return new e(t).product(n)},e.prototype.product=function(t){return this.binOp(t,function(t,e){return t*e})},e.scale=function(t,n){return new e(t).scale(n)},e.prototype.scale=function(t){var e,n=this.shape[0],r=this.shape[1],i=n*r,o=this.data;for(e=0;e<i;e++)o[e]*=t;return this},e.fill=function(t,n,r,i){if(t<=0||n<=0)throw new Error("invalid size");r=r||0,i=i||Float64Array;var o,a,s=t*n,u=new i(s),l="function"==typeof r,c=0;for(o=0;o<t;o++)for(a=0;a<n;a++,c++)u[c]=l?r(o,a):r;return e.fromTypedArray(u,[t,n])},e.zeros=function(t,n,r){return e.fill(t,n,0,r)},e.ones=function(t,n,r){return e.fill(t,n,1,r)},e.random=function(t,n,r,i,o){return r=r||1,i=i||0,e.fill(t,n,function(){return r*Math.random()+i},o)},e.multiply=function(t,e){return t.multiply(e)},e.prototype.multiply=function(t){var n=this.shape[0],r=this.shape[1],i=t.shape[0],o=t.shape[1],a=this.data,s=t.data;if(r!==i)throw new Error("sizes do not match");var u,l,c,h,f=new this.type(n*o);for(u=0;u<n;u++)for(l=0;l<o;l++){for(h=0,c=0;c<r;c++)h+=a[u*r+c]*s[l+c*o];f[u*o+l]=h}return e.fromTypedArray(f,[n,o])},Object.defineProperty(e.prototype,"T",{get:function(){return this.transpose()}}),e.prototype.transpose=function(){var t,n,r=this.shape[0],i=this.shape[1],o=new this.type(i*r);for(t=0;t<r;t++)for(n=0;n<i;n++)o[n*r+t]=this.data[t*i+n];return e.fromTypedArray(o,[i,r])},e.prototype.inverse=function(){var t=this.shape[0],n=this.shape[1];if(t!==n)throw new Error("invalid dimensions");var r,i,o=e.identity(t),a=e.augment(this,o),s=a.gauss(),u=e.zeros(t,n),l=e.zeros(t,n),c=s.shape[1];for(r=0;r<t;r++)for(i=0;i<c;i++)i<n?u.set(r,i,s.get(r,i)):l.set(r,i-t,s.get(r,i));if(!u.equals(e.identity(t)))throw new Error("matrix is not invertible");return l},e.prototype.gauss=function(){var t,n,r,i,o,a=this.shape[0],s=this.shape[1],u=new e(this),l=0;for(n=0;n<a;n++){if(s<=l)return new Error("matrix is singular");for(r=n;0===u.data[r*s+l];)if(r++,a===r&&(r=n,l++,s===l))return new Error("matrix is singular");if(u.swap(n,r),0!==(t=u.data[n*s+l]))for(i=0;i<s;i++)u.data[n*s+i]=u.data[n*s+i]/t;for(r=0;r<a;r++)if(o=u.data[r*s+l],r!==n)for(i=0;i<s;i++)u.data[r*s+i]=u.data[r*s+i]-u.data[n*s+i]*o;l++}for(n=0;n<a;n++){for(t=0,r=0;r<s;r++)t||(t=u.data[n*s+r]);if(t)for(i=0;i<s;i++)u.data[n*s+i]=u.data[n*s+i]/t}return u},e.prototype.lu=function(){var t,n,r=this.shape[0],i=this.shape[1],o=e.plu(this),a=o[1],s=(e.identity(r),new e(o[0])),u=new e(o[0]);for(t=0;t<r;t++)for(n=t;n<i;n++)s.data[t*i+n]=t===n?1:0;for(t=0;t<r;t++)for(n=0;n<t&&n<i;n++)u.data[t*i+n]=0;return[s,u,a]},e.plu=function(t){return new e(t).plu()},e.prototype.plu=function(){var t,e,n,r,i,o,a,s=this.data,u=this.shape[0],l=new Int32Array(u);for(a=0;a<u;++a){for(r=a,t=Math.abs(s[a*u+a]),o=a+1;o<u;++o)e=Math.abs(s[o*u+a]),t<e&&(t=e,r=o);for(l[a]=r,r!==a&&this.swap(a,r),n=s[a*u+a],i=a+1;i<u;++i)s[i*u+a]/=n;for(i=a+1;i<u;++i){for(o=a+1;o<u-1;++o)s[i*u+o]-=s[i*u+a]*s[a*u+o],++o,s[i*u+o]-=s[i*u+a]*s[a*u+o];o===u-1&&(s[i*u+o]-=s[i*u+a]*s[a*u+o])}}return[this,l]},e.prototype.lusolve=function(t,e){var n,r,i,o=this.data,a=t.shape[0],s=t.shape[1],u=t.data;for(n=0;n<e.length;n++)n!==e[n]&&t.swap(n,e[n]);for(i=0;i<s;i++){for(n=0;n<a;n++)for(r=0;r<n;r++)u[n*s+i]-=o[n*a+r]*u[r*s+i];for(n=a-1;n>=0;n--){for(r=n+1;r<a;r++)u[n*s+i]-=o[n*a+r]*u[r*s+i];u[n*s+i]/=o[n*a+n]}}return t},e.prototype.solve=function(t){var n=e.plu(this),r=n[0],i=n[1];return r.lusolve(new e(t),i)},e.augment=function(t,n){return new e(t).augment(n)},e.prototype.augment=function(t){if(0===t.shape.length)return this;var e,n,r=this.shape[0],i=this.shape[1],o=t.shape[0],a=t.shape[1],s=this.data,u=t.data;if(r!==o)throw new Error("Rows do not match.");var l=i+a,c=new this.type(l*r);for(e=0;e<r;e++)for(n=0;n<i;n++)c[e*l+n]=s[e*i+n];for(e=0;e<o;e++)for(n=0;n<a;n++)c[e*l+n+i]=u[e*a+n];return this.shape=[r,l],this.data=c,this},e.identity=function(t,n){return e.fill(t,t,function(t,e){return t===e?1:0})},e.magic=function(t,n){function r(t,e,n){return(e+2*n+1)%t}if(t<0)throw new Error("invalid size");n=n||Float64Array;var i,o,a=new n(t*t);for(i=0;i<t;i++)for(o=0;o<t;o++)a[(t-i-1)*t+(t-o-1)]=r(t,t-o-1,i)*t+r(t,o,i)+1;return e.fromTypedArray(a,[t,t])},e.prototype.diag=function(){var t,e=this.shape[0],n=this.shape[1],i=new this.type(Math.min(e,n));for(t=0;t<e&&t<n;t++)i[t]=this.data[t*n+t];return new r(i)},e.prototype.determinant=function(){if(this.shape[0]!==this.shape[1])throw new Error("matrix is not square");var t,n=e.plu(this),r=n.pop(),i=n.pop(),o=this.shape[0],a=this.shape[1],s=1,u=1;for(t=0;t<o;t++)t!==r[t]&&(u*=-1);for(t=0;t<o;t++)s*=i.data[t*a+t];return u*s},e.prototype.trace=function(){var t,e,n=this.diag(),r=0;for(t=0,e=n.length;t<e;t++)r+=n.get(t);return r},e.equals=function(t,e){return t.equals(e)},e.prototype.equals=function(t){var e=this.shape[0],n=this.shape[1],r=e*n,i=this.data,o=t.data;if(e!==t.shape[0]||n!==t.shape[1]||this.type!==t.type)return!1;var a;for(a=0;a<r;a++)if(i[a]!==o[a])return!1;return!0},e.prototype.get=function(t,e){if(t<0||e<0||t>this.shape[0]-1||e>this.shape[1]-1)throw new Error("index out of bounds");return this.data[t*this.shape[1]+e]},e.prototype.set=function(t,e,n){if(t<0||e<0||t>this.shape[0]-1||e>this.shape[1]-1)throw new Error("index out of bounds");return this.data[t*this.shape[1]+e]=n,this},e.prototype.swap=function(t,e){if(t<0||e<0||t>this.shape[0]-1||e>this.shape[0]-1)throw new Error("index out of bounds");var n=this.shape[1],r=this.data.slice(t*n,(t+1)*n);return this.data.copyWithin(t*n,e*n,(e+1)*n),this.data.set(r,e*n),this},e.prototype.map=function(t){var n,r=this.shape[0],i=this.shape[1],o=r*i,a=new e(this),s=a.data;for(n=0;n<o;n++)s[n]=t.call(a,s[n],n/i|0,n%i,s);return a},e.prototype.each=function(t){var e,n=this.shape[0],r=this.shape[1],i=n*r;for(e=0;e<i;e++)t.call(this,this.data[e],e/r|0,e%r);return this},e.prototype.reduce=function(t,e){var n=this.shape[0],r=this.shape[1],i=n*r;if(0===i&&!e)throw new Error("Reduce of empty matrix with no initial value.");for(var o=0,a=e||this.data[o++];o<i;o++)a=t.call(this,a,this.data[o],o/r|0,o%r);return a},e.prototype.rank=function(){var t,e,n,i,o,a,s=this.toArray().map(function(t){return new r(t)}),u=this.shape[0],l=this.shape[1],c=0;for(t=0;t<u-1;t++){for(i=null,e=t;e<u;e++)if(s[t].get(t)){t!==e&&(n=s[t],s[t]=s[e],s[e]=n),i=s[t];break}if(i)for(e=t+1;e<u;e++)o=s[e],a=o.get(t)/i.get(t),s[e]=o.subtract(i.scale(a))}for(t=0;t<u;t++)for(e=0;e<l;e++)if(s[t].get(e)){c++;break}return c},e.rank=function(t){return new e(t).rank()},e.prototype.toString=function(){var t,e=[],n=this.shape[0],r=this.shape[1];for(t=0;t<n;t++)e.push("["+this.data.subarray(t*r,(t+1)*r).toString()+"]");return"["+e.join(", \n")+"]"},e.prototype.toArray=function(){var t,e=[],n=this.shape[0],r=this.shape[1];for(t=0;t<n;t++)e.push(Array.prototype.slice.call(this.data.subarray(t*r,(t+1)*r)));return e},t.exports=e;try{window.Matrix=e}catch(t){}}()},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(1),o=n.n(i),a=n(91),s=(n.n(a),function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),o()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}()),u=function(){function t(e,n,i){var o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;r(this,t),this.value=e,this.stdev=n,this.ref=i,this.success=o,this.message=a}return s(t,null,[{key:"succeed",value:function(e,n,r){return new t(e,n,r,!0,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null)}},{key:"fail",value:function(){return new t(null,null,NaN,!1,arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)}}]),t}();e.a=u},function(t,e,n){"use strict";n.d(e,"b",function(){return m}),n.d(e,"c",function(){return g}),n.d(e,"d",function(){return v}),n.d(e,"a",function(){return y});var r=n(19),i=n.n(r),o=n(16),a=n.n(o),s=n(91),u=(n.n(s),n(29)),l=(n.n(u),n(171)),c=(n.n(l),n(39)),h=n(207),f=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var s,u=a()(t);!(r=(s=u.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(i()(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:12;return Object(u.padStart)(t.toFixed(e),n)},p=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:12,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:t.length,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,a=new Array(i),s=r,u=0;u<i;s+=o,++u)a[u]=d(t[s],e,n);return a},m=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,r=f(t.shape,2),i=r[0],o=r[1],a=[],s=0;s<i;++s)a.push(p(t.data,e,n,s*o,o).join(" "));return a.join("\n")},g=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,r=t.shape[0],i=r+1;return p(t.data,e,n,0,r,i).join(" ")},v=function(t,e,n){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:12,o=e.length,a=0,s=[],u=0;u<o;++u){var l=e[u].type,f=l===h.c.OBLIQUE;s.push("Location "+u+" ("+l+")"),s.push(["  Position   :",d(t.get(a++,0)+n[0],r,i),d(t.get(a++,0)+n[1],r,i),d(t.get(a++,0)+n[2],r,i)].join(" ")),s.push(["  Orientation:",d(Object(c.d)(t.get(a++,0)),r,i),f?d(Object(c.d)(t.get(a++,0)),r,i):"",f?d(Object(c.d)(t.get(a++,0)),r,i):""].join(" "))}return s.push(["Estimate:",d(t.get(a++,0)+n[0],r,i),d(t.get(a++,0)+n[1],r,i),d(t.get(a++,0)+n[2],r,i)].join(" ")),s.join("\n")},y=function(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:12,i=e.length,o=0,a=[],s=0;s<i;++s){var u=e[s].type,l=u===h.c.OBLIQUE;a.push("Location "+s+" ("+u+")"),a.push(["  Position   :",d(t.get(o++,0),n,r),d(t.get(o++,0),n,r),d(t.get(o++,0),n,r)].join(" ")),a.push(["  Orientation:",d(Object(c.d)(t.get(o++,0)),n,r),l?d(Object(c.d)(t.get(o++,0)),n,r):"",l?d(Object(c.d)(t.get(o++,0)),n,r):""].join(" ")),a.push(["  Observation:",d(Object(c.d)(t.get(o++,0)),n,r),d(Object(c.d)(t.get(o++,0)),n,r)].join(" "))}return a.join("\n")}},function(t,e,n){"use strict";function r(t,e,n){return e in t?m()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=d()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(h.a?h()(t,e):t.__proto__=e)}n.d(e,"b",function(){return x}),n.d(e,"a",function(){return _});var s,u=n(10),l=n.n(u),c=n(9),h=n.n(c),f=n(5),d=n.n(f),p=n(1),m=n.n(p),g=n(15),v=(n.n(g),Object(g.defineMessages)({noMethodAvailable:{id:"Measure.error.noMethodAvailable",description:"No valid measure method available",defaultMessage:"No valid measure method available"}})),y=Object(g.defineMessages)({notPermitted:{id:"Measure.smartClick.error.notPermitted",description:"Smart Click not permitted",defaultMessage:"Smart Click not permitted"},clientNotInitialized:{id:"Measure.smartClick.error.clientNotInitialized",description:"Smart Click client not initialized",defaultMessage:"Smart Click client not initialized"},requestError:{id:"Measure.smartClick.error.requestError",description:"Smart Click request error",defaultMessage:"Error while performing SmartClick request: {error}"},noResult:{id:"Measure.smartClick.error.noResult",description:"Smart Click did not return a result",defaultMessage:"Smart Click did not return a result"}}),b=Object(g.defineMessages)({notPermitted:{id:"Measure.depthMap.error.notPermitted",description:"Measure Smart not permitted",defaultMessage:"Measure Smart not permitted"},clientNotInitialized:{id:"Measure.depthMap.error.clientNotInitialized",description:"Measure Smart client not initialized",defaultMessage:"Measure Smart client not initialized"},requestError:{id:"Measure.depthMap.error.requestError",description:"Measure Smart request error",defaultMessage:"Error while performing Measure Smart request: {error}"},noResult:{id:"Measure.depthMap.error.noResult",description:"Measure Smart did not return a result",defaultMessage:"Measure Smart did not return a result"}}),w=function(t){function e(t,n,r){i(this,e);var a=o(this,(e.__proto__||l()(e)).call(this,n||M(t)));return a.name="MeasureError",a.type=t,a.detail=r,a}return a(e,t),e}(Error);w.NO_METHOD_AVAILABLE="NO_METHOD_AVAILABLE",w.MODIFYING_CLOSED_MEASUREMENT="MODIFYING_CLOSED_MEASUREMENT",e.c=w;var x=function(t){function e(t,n,r){i(this,e);var a=o(this,(e.__proto__||l()(e)).call(this,t,n,r));return a.name="SmartClickError",a}return a(e,t),e}(w);x.NOT_PERMITTED="SMART_CLICK_NOT_PERMITTED",x.CLIENT_NOT_INITIALIZED="SMART_CLICK_CLIENT_NOT_INITIALIZED",x.REQUEST_ERROR="SMART_CLICK_REQUEST_ERROR",x.NO_RESULT="SMART_CLICK_NO_RESULT",x.NO_RELIABLE_RESULT="SMART_CLICK_NO_RELIABLE_RESULT";var _=function(t){function e(t,n,r){i(this,e);var a=o(this,(e.__proto__||l()(e)).call(this,t,n,r));return a.name="MeasureSmartError",a}return a(e,t),e}(w);_.NOT_PERMITTED="MEASURE_SMART_NOT_PERMITTED",_.CLIENT_NOT_INITIALIZED="MEASURE_SMART_CLIENT_NOT_INITIALIZED",_.REQUEST_ERROR="MEASURE_SMART_REQUEST_ERROR",_.NO_RESULT="MEASURE_SMART_NO_RESULT";var E=(s={},r(s,w.NO_METHOD_AVAILABLE,v.noMethodAvailable),r(s,x.NOT_PERMITTED,y.notPermitted),r(s,x.CLIENT_NOT_INITIALIZED,y.clientNotInitialized),r(s,x.REQUEST_ERROR,y.requestError),r(s,x.NO_RESULT,y.noResult),r(s,_.NOT_PERMITTED,b.notPermitted),r(s,_.CLIENT_NOT_INITIALIZED,b.clientNotInitialized),r(s,_.REQUEST_ERROR,b.requestError),r(s,_.NO_RESULT,b.noResult),s),M=function(t){return t in E?E[t].message:"Measure error: "+t}},function(t,e,n){"use strict";function r(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function i(t,e,n){if(t&&l.isObject(t)&&t instanceof r)return t;var i=new r;return i.parse(t,e,n),i}function o(t){return l.isString(t)&&(t=i(t)),t instanceof r?t.format():r.prototype.format.call(t)}function a(t,e){return i(t,!1,!0).resolve(e)}function s(t,e){return t?i(t,!1,!0).resolveObject(e):e}var u=n(1327),l=n(1328);e.parse=i,e.resolve=a,e.resolveObject=s,e.format=o,e.Url=r;var c=/^([a-z0-9.+-]+:)/i,h=/:[0-9]*$/,f=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,d=["<",">",'"',"`"," ","\r","\n","\t"],p=["{","}","|","\\","^","`"].concat(d),m=["'"].concat(p),g=["%","/","?",";","#"].concat(m),v=["/","?","#"],y=/^[+a-z0-9A-Z_-]{0,63}$/,b=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,w={javascript:!0,"javascript:":!0},x={javascript:!0,"javascript:":!0},_={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},E=n(1329);r.prototype.parse=function(t,e,n){if(!l.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var r=t.indexOf("?"),i=-1!==r&&r<t.indexOf("#")?"?":"#",o=t.split(i),a=/\\/g;o[0]=o[0].replace(a,"/"),t=o.join(i);var s=t;if(s=s.trim(),!n&&1===t.split("#").length){var h=f.exec(s);if(h)return this.path=s,this.href=s,this.pathname=h[1],h[2]?(this.search=h[2],this.query=e?E.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var d=c.exec(s);if(d){d=d[0];var p=d.toLowerCase();this.protocol=p,s=s.substr(d.length)}if(n||d||s.match(/^\/\/[^@\/]+@[^@\/]+/)){var M="//"===s.substr(0,2);!M||d&&x[d]||(s=s.substr(2),this.slashes=!0)}if(!x[d]&&(M||d&&!_[d])){for(var S=-1,T=0;T<v.length;T++){var C=s.indexOf(v[T]);-1!==C&&(-1===S||C<S)&&(S=C)}var I,O;O=-1===S?s.lastIndexOf("@"):s.lastIndexOf("@",S),-1!==O&&(I=s.slice(0,O),s=s.slice(O+1),this.auth=decodeURIComponent(I)),S=-1;for(var T=0;T<g.length;T++){var C=s.indexOf(g[T]);-1!==C&&(-1===S||C<S)&&(S=C)}-1===S&&(S=s.length),this.host=s.slice(0,S),s=s.slice(S),this.parseHost(),this.hostname=this.hostname||"";var A="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!A)for(var L=this.hostname.split(/\./),T=0,R=L.length;T<R;T++){var N=L[T];if(N&&!N.match(y)){for(var P="",k=0,D=N.length;k<D;k++)N.charCodeAt(k)>127?P+="x":P+=N[k];if(!P.match(y)){var F=L.slice(0,T),j=L.slice(T+1),U=N.match(b);U&&(F.push(U[1]),j.unshift(U[2])),j.length&&(s="/"+j.join(".")+s),this.hostname=F.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),A||(this.hostname=u.toASCII(this.hostname));var B=this.port?":"+this.port:"",z=this.hostname||"";this.host=z+B,this.href+=this.host,A&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==s[0]&&(s="/"+s))}if(!w[p])for(var T=0,R=m.length;T<R;T++){var V=m[T];if(-1!==s.indexOf(V)){var G=encodeURIComponent(V);G===V&&(G=escape(V)),s=s.split(V).join(G)}}var H=s.indexOf("#");-1!==H&&(this.hash=s.substr(H),s=s.slice(0,H));var q=s.indexOf("?");if(-1!==q?(this.search=s.substr(q),this.query=s.substr(q+1),e&&(this.query=E.parse(this.query)),s=s.slice(0,q)):e&&(this.search="",this.query={}),s&&(this.pathname=s),_[p]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var B=this.pathname||"",W=this.search||"";this.path=B+W}return this.href=this.format(),this},r.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=t+this.host:this.hostname&&(i=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&l.isObject(this.query)&&Object.keys(this.query).length&&(o=E.stringify(this.query));var a=this.search||o&&"?"+o||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||_[e])&&!1!==i?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),a&&"?"!==a.charAt(0)&&(a="?"+a),n=n.replace(/[?#]/g,function(t){return encodeURIComponent(t)}),a=a.replace("#","%23"),e+i+n+a+r},r.prototype.resolve=function(t){return this.resolveObject(i(t,!1,!0)).format()},r.prototype.resolveObject=function(t){if(l.isString(t)){var e=new r;e.parse(t,!1,!0),t=e}for(var n=new r,i=Object.keys(this),o=0;o<i.length;o++){var a=i[o];n[a]=this[a]}if(n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var s=Object.keys(t),u=0;u<s.length;u++){var c=s[u];"protocol"!==c&&(n[c]=t[c])}return _[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!_[t.protocol]){for(var h=Object.keys(t),f=0;f<h.length;f++){var d=h[f];n[d]=t[d]}return n.href=n.format(),n}if(n.protocol=t.protocol,t.host||x[t.protocol])n.pathname=t.pathname;else{for(var p=(t.pathname||"").split("/");p.length&&!(t.host=p.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),n.pathname=p.join("/")}if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var m=n.pathname||"",g=n.search||"";n.path=m+g}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var v=n.pathname&&"/"===n.pathname.charAt(0),y=t.host||t.pathname&&"/"===t.pathname.charAt(0),b=y||v||n.host&&t.pathname,w=b,E=n.pathname&&n.pathname.split("/")||[],p=t.pathname&&t.pathname.split("/")||[],M=n.protocol&&!_[n.protocol];if(M&&(n.hostname="",n.port=null,n.host&&(""===E[0]?E[0]=n.host:E.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===p[0]?p[0]=t.host:p.unshift(t.host)),t.host=null),b=b&&(""===p[0]||""===E[0])),y)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,E=p;else if(p.length)E||(E=[]),E.pop(),E=E.concat(p),n.search=t.search,n.query=t.query;else if(!l.isNullOrUndefined(t.search)){if(M){n.hostname=n.host=E.shift();var S=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");S&&(n.auth=S.shift(),n.host=n.hostname=S.shift())}return n.search=t.search,n.query=t.query,l.isNull(n.pathname)&&l.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!E.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var T=E.slice(-1)[0],C=(n.host||t.host||E.length>1)&&("."===T||".."===T)||""===T,I=0,O=E.length;O>=0;O--)T=E[O],"."===T?E.splice(O,1):".."===T?(E.splice(O,1),I++):I&&(E.splice(O,1),I--);if(!b&&!w)for(;I--;I)E.unshift("..");!b||""===E[0]||E[0]&&"/"===E[0].charAt(0)||E.unshift(""),C&&"/"!==E.join("/").substr(-1)&&E.push("");var A=""===E[0]||E[0]&&"/"===E[0].charAt(0);if(M){n.hostname=n.host=A?"":E.length?E.shift():"";var S=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");S&&(n.auth=S.shift(),n.host=n.hostname=S.shift())}return b=b||n.host&&E.length,b&&!A&&E.unshift(""),E.length?n.pathname=E.join("/"):(n.pathname=null,n.path=null),l.isNull(n.pathname)&&l.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},r.prototype.parseHost=function(){var t=this.host,e=h.exec(t);e&&(e=e[0],":"!==e&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},function(t,e,n){(function(t,r){var i;!function(o){function a(t){throw new RangeError(R[t])}function s(t,e){for(var n=t.length,r=[];n--;)r[n]=e(t[n]);return r}function u(t,e){var n=t.split("@"),r="";return n.length>1&&(r=n[0]+"@",t=n[1]),t=t.replace(L,"."),r+s(t.split("."),e).join(".")}function l(t){for(var e,n,r=[],i=0,o=t.length;i<o;)e=t.charCodeAt(i++),e>=55296&&e<=56319&&i<o?(n=t.charCodeAt(i++),56320==(64512&n)?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),i--)):r.push(e);return r}function c(t){return s(t,function(t){var e="";return t>65535&&(t-=65536,e+=k(t>>>10&1023|55296),t=56320|1023&t),e+=k(t)}).join("")}function h(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:x}function f(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function d(t,e,n){var r=0;for(t=n?P(t/S):t>>1,t+=P(t/e);t>N*E>>1;r+=x)t=P(t/N);return P(r+(N+1)*t/(t+M))}function p(t){var e,n,r,i,o,s,u,l,f,p,m=[],g=t.length,v=0,y=C,b=T;for(n=t.lastIndexOf(I),n<0&&(n=0),r=0;r<n;++r)t.charCodeAt(r)>=128&&a("not-basic"),m.push(t.charCodeAt(r));for(i=n>0?n+1:0;i<g;){for(o=v,s=1,u=x;i>=g&&a("invalid-input"),l=h(t.charCodeAt(i++)),(l>=x||l>P((w-v)/s))&&a("overflow"),v+=l*s,f=u<=b?_:u>=b+E?E:u-b,!(l<f);u+=x)p=x-f,s>P(w/p)&&a("overflow"),s*=p;e=m.length+1,b=d(v-o,e,0==o),P(v/e)>w-y&&a("overflow"),y+=P(v/e),v%=e,m.splice(v++,0,y)}return c(m)}function m(t){var e,n,r,i,o,s,u,c,h,p,m,g,v,y,b,M=[];for(t=l(t),g=t.length,e=C,n=0,o=T,s=0;s<g;++s)(m=t[s])<128&&M.push(k(m));for(r=i=M.length,i&&M.push(I);r<g;){for(u=w,s=0;s<g;++s)(m=t[s])>=e&&m<u&&(u=m);for(v=r+1,u-e>P((w-n)/v)&&a("overflow"),n+=(u-e)*v,e=u,s=0;s<g;++s)if(m=t[s],m<e&&++n>w&&a("overflow"),m==e){for(c=n,h=x;p=h<=o?_:h>=o+E?E:h-o,!(c<p);h+=x)b=c-p,y=x-p,M.push(k(f(p+b%y,0))),c=P(b/y);M.push(k(f(c,0))),o=d(n,v,r==i),n=0,++r}++n,++e}return M.join("")}function g(t){return u(t,function(t){return O.test(t)?p(t.slice(4).toLowerCase()):t})}function v(t){return u(t,function(t){return A.test(t)?"xn--"+m(t):t})}var y=("object"==typeof e&&e&&e.nodeType,"object"==typeof t&&t&&t.nodeType,"object"==typeof r&&r);var b,w=2147483647,x=36,_=1,E=26,M=38,S=700,T=72,C=128,I="-",O=/^xn--/,A=/[^\x20-\x7E]/,L=/[\x2E\u3002\uFF0E\uFF61]/g,R={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},N=x-_,P=Math.floor,k=String.fromCharCode;b={version:"1.4.1",ucs2:{decode:l,encode:c},decode:p,encode:m,toASCII:v,toUnicode:g},void 0!==(i=function(){return b}.call(e,n,e,t))&&(t.exports=i)}()}).call(e,n(164)(t),n(34))},function(t,e,n){"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},function(t,e,n){"use strict";e.decode=e.parse=n(1330),e.encode=e.stringify=n(1331)},function(t,e,n){"use strict";function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,n,o){e=e||"&",n=n||"=";var a={};if("string"!=typeof t||0===t.length)return a;var s=/\+/g;t=t.split(e);var u=1e3;o&&"number"==typeof o.maxKeys&&(u=o.maxKeys);var l=t.length;u>0&&l>u&&(l=u);for(var c=0;c<l;++c){var h,f,d,p,m=t[c].replace(s,"%20"),g=m.indexOf(n);g>=0?(h=m.substr(0,g),f=m.substr(g+1)):(h=m,f=""),d=decodeURIComponent(h),p=decodeURIComponent(f),r(a,d)?i(a[d])?a[d].push(p):a[d]=[a[d],p]:a[d]=p}return a};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,n){"use strict";function r(t,e){if(t.map)return t.map(e);for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r));return n}var i=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,n,s){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"==typeof t?r(a(t),function(a){var s=encodeURIComponent(i(a))+n;return o(t[a])?r(t[a],function(t){return s+encodeURIComponent(i(t))}).join(e):s+encodeURIComponent(i(t[a]))}).join(e):s?encodeURIComponent(i(s))+n+encodeURIComponent(i(t)):""};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},a=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=h()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(l.a?l()(t,e):t.__proto__=e)}var a=n(10),s=n.n(a),u=n(9),l=n.n(u),c=n(5),h=n.n(c),f=n(4),d=n.n(f),p=n(334),m=d.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},g={radius:8,fillColor:[0,255,0,0],strokeColor:[0,255,0,1],strokeWidth:2},v=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r(this,e),i(this,(e.__proto__||s()(e)).call(this,m({},g,t)))}return o(e,t),e}(p.a);e.a=v},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=h()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(l.a?l()(t,e):t.__proto__=e)}var a=n(10),s=n.n(a),u=n(9),l=n.n(u),c=n(5),h=n.n(c),f=n(17),d=n.n(f),p=n(142),m=function(t){var e=t.hFov,n=t.scale,r=e/2,i=Math.sin(r),o=Math.sqrt(1-i*i),a=i*o,s=n/Math.sqrt(a);return[[0,0],[s*i*2,0],[s*i,s*o],[0,0]]},g=function(t){function e(t){var n=t.hFov,o=t.yaw,a=t.color,u=t.scale,l=void 0===u?50:u;r(this,e);var c=m({hFov:n,scale:l}),h=[c[1][0]+.5,c[2][1]+.5],f=Object(p.a)(h),g=d.a.render.toContext(f,{size:h,pixelRatio:1});return g.setStyle(a.style),g.drawGeometry(new d.a.geom.Polygon([c])),i(this,(e.__proto__||s()(e)).call(this,{image:new d.a.style.Icon({img:f.canvas,rotation:o,anchor:[.5,1],imgSize:h,rotateWithView:!0})}))}return o(e,t),e}(d.a.style.Style);e.a=g},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=h()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(l.a?l()(t,e):t.__proto__=e)}var a=n(10),s=n.n(a),u=n(9),l=n.n(u),c=n(5),h=n.n(c),f=n(17),d=n.n(f),p=n(142),m=function(t){function e(t){var n=t.text,o=t.fontSize,a=void 0===o?10:o,u=t.textColor,l=void 0===u?"#333":u,c=t.fillColor,h=void 0===c?"#ffcc00":c,f=t.strokeColor,m=void 0===f?"#ff9900":f,g=t.strokeWidth,v=void 0===g?1:g,y=t.padding,b=void 0===y?3:y;r(this,e);var w="Arial "+a+"px bold",x=Object(p.a)(1,1);x.font=w;var _=x.measureText(n),E=_.width+2*(v+b),M=a+2*(v+b),S=[E,M];x=Object(p.a)(E,M);var T=d.a.render.toContext(x,{size:S,pixelRatio:1});return T.setStyle(new d.a.style.Style({fill:new d.a.style.Fill({color:h}),stroke:new d.a.style.Stroke({color:m,width:v})})),T.drawGeometry(new d.a.geom.Polygon([[[.5,.5],[.5,M-.5],[E-.5,M-.5],[E-.5,.5],[.5,.5]]])),i(this,(e.__proto__||s()(e)).call(this,{image:new d.a.style.Icon({img:x.canvas,imgSize:S}),text:new d.a.style.Text({text:n,font:w,fill:new d.a.style.Fill({color:l})})}))}return o(e,t),e}(d.a.style.Style);e.a=m},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=f()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(c.a?c()(t,e):t.__proto__=e)}var s=n(10),u=n.n(s),l=n(9),c=n.n(l),h=n(5),f=n.n(h),d=n(1),p=n.n(d),m=n(4),g=n.n(m),v=n(19),y=n.n(v),b=n(16),w=n.n(b),x=n(17),_=n.n(x),E=n(570),M=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=w()(t);!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(y()(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),S=g.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},T=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),p()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),C=function(t){function e(t){var n=t.id,a=t.color,s=t.recording,l=r(t,["id","color","recording"]);i(this,e);var c=o(this,(e.__proto__||u()(e)).call(this,S({style:new E.a({fillColor:null,strokeColor:a})},l)));return c.setId("footprint_"+n),c.set("type","footprint"),c.set("recording",s),c.set("viewport",s.feature.get("footprint").clone()),c.set("footprintCentre",s.feature.get("footprintCentre").clone()),c.set("footprint",s.feature.get("footprint").clone()),c.setGeometryName("geometry"),c.setGeometry(new _.a.geom.GeometryCollection([c.get("footprint"),c.get("viewport")])),c}return a(e,t),T(e,[{key:"update",value:function(t){var e=t.center,n=t.size,r=t.resolution,i=void 0===r?1:r,o=t.rotation,a=t.recording,s=t.color,u=M(e,3),l=u[0],c=u[1],h=u[2],f=void 0===h?a.avgFootprintHeight:h,d=n[0]*i/2,p=n[1]*i/2,m=Math.cos(o),g=Math.sin(o),v=[[-d,-p],[-d,+p],[+d,+p],[+d,-p]].map(function(t){var e=M(t,2),n=e[0],r=e[1];return a.pixelToWorldVector(l+n*m-r*g,c+n*g+r*m,f,!1)});v.push(v[0]),this.get("viewport").setCoordinates([v],"XYZ"),s&&this.setStyle(new E.a({fillColor:null,strokeColor:s})),this.get("recording")!==a&&(this.set("recording",a),this.get("footprint").setCoordinates(a.feature.get("footprint").getCoordinates(),"XYZ"),this.get("footprintCentre").setCoordinates(a.feature.get("footprintCentre").getCoordinates(),"XYZ")),this.changed()}},{key:"updateFromMap",value:function(t){var e=t.getView();this.update({center:e.getCenter(),size:t.getSize(),resolution:e.getResolution(),rotation:e.getRotation()})}}]),e}(_.a.Feature);e.a=C},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(31),o=n.n(i),a=n(1),s=n.n(a),u=n(4),l=n.n(u),c=n(29),h=n.n(c),f=n(17),d=n.n(f),p=n(46),m=(n.n(p),n(195)),g=n(147),v=n(138),y=n(82),b=n(263),w=n(1345),x=l.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),s()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),E={geometry:{fillColor:[].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return o()(t)}(m.c.orange),[.5]),strokeColor:m.c.orange,strokeWidth:2},text:{color:[255,255,255,1],outlineColor:[0,0,0,1],outlineWidth:4}},M=function(){function t(){r(this,t)}return _(t,null,[{key:"createStyle",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=h.a.defaults({},e.geometry,E.geometry),r=h.a.defaults({},e.text,E.text),i={fill:new d.a.style.Fill({color:r.color}),stroke:new d.a.style.Stroke({color:r.outlineColor,width:r.outlineWidth})},o=t.getGeometry(),a=o.getType(),s=Object(g.l)(a,o.getCoordinates()),u=t.getProperties(),l=u.customGeometryType,c=u.derivedData;c=void 0===c?{}:c;var f=c.segmentLengths,m=c.unit,_=c.precision,M=c.area,S={minimumFractionDigits:_,maximumFractionDigits:_},T=[],C=s.length;if(a===g.b.POLYGON&&C--,a!==g.b.POINT&&C>1){var I=void 0;M&&M.value&&a===g.b.POLYGON&&(I=new d.a.style.Text(x({text:Object(y.c)(M.value,S)+" "+Object(y.b)(b.a[m+"2"])},i))),T.push(new d.a.style.Style({fill:new d.a.style.Fill({color:n.fillColor}),text:I,stroke:new d.a.style.Stroke({color:n.strokeColor,width:n.strokeWidth})}))}for(var O=0;O<C;O++)T.push(new d.a.style.Style({geometry:new d.a.geom.Point(s[O]),image:new w.a,text:new d.a.style.Text(x({text:""+(O+1),scale:1.2,offsetX:10,offsetY:-10},i))}));if(f&&f.value.forEach(function(t,e){T.push(new d.a.style.Style({geometry:new d.a.geom.LineString([s[e],s[e+1]]),text:new d.a.style.Text(x({text:Object(y.c)(t,S)+" "+m},i))}))}),l&&l===g.a.CIRCLE&&2===s.length){var A=Object(v.d)(s[0],s[1]),L=new d.a.style.Stroke({color:n.strokeColor,width:n.strokeWidth}),R=.5*p.vec2.distance(s[0],s[1]),N=void 0;M&&M.value&&(N=new d.a.style.Text(x({},i,{text:Object(y.c)(M.value,S)+" "+Object(y.b)(b.a[m+"2"]),offsetX:10,offsetY:10}))),T.push(new d.a.style.Style({geometry:new d.a.geom.Circle(A,R),stroke:L,fill:new d.a.style.Fill({color:n.fillColor}),text:N}))}return T}}]),t}();e.a=M},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return s()(t)}n.d(e,"b",function(){return A}),n.d(e,"e",function(){return P}),n.d(e,"d",function(){return k}),n.d(e,"c",function(){return D}),n.d(e,"a",function(){return F}),n.d(e,"g",function(){return j}),n.d(e,"f",function(){return U});var i=n(1),o=n.n(i),a=n(31),s=n.n(a),u=n(4),l=n.n(u),c=n(29),h=n.n(c),f=n(105),d=n.n(f),p=n(70),m=n.n(p),g=n(197),v=n(573),y=n(1338),b=n(44),w=l.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},x=function(t,e,n){return e in t?o()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},g.a.CIRCLE,g.b.LINESTRING),_=function(t){return t.slice(0,-1)},E=function(t){return 0===t.length?t:[].concat(r(t),[t[0]])},M=function(t,e,n){var i=_(t);return i.splice(n,0,[].concat(r(e))),E(i)},S=function(t,e){var n=_(t),r=Object(v.a)(n,e,1);return E(r)},T=function(t,e){return m()(e,"WGS84",t)},C=function(t,e,n,i){var o=t.geometry,a=t.properties;o.coordinates=[].concat(r(e)),a.preciseGeometry.coordinates=[].concat(r(n)),a.measureDetails=[w({},i)]},I=function(t,e,n,i,o){var a=t.geometry,s=t.properties;s.customGeometryType===g.a.CIRCLE&&2===a.coordinates.length?(a.coordinates[1]=[].concat(r(e)),s.preciseGeometry.coordinates[1]=[].concat(r(n)),s.measureDetails[1]=i&&w({},i)||{}):(a.coordinates.splice(o,0,[].concat(r(e))),s.preciseGeometry.coordinates.splice(o,0,[].concat(r(n))),s.measureDetails.splice(o,0,w({},i)))},O=function(t,e,n,r,i){var o=t.geometry,a=t.properties;o.coordinates[0]=M(o.coordinates[0],e,i),a.preciseGeometry.coordinates[0]=M(a.preciseGeometry.coordinates[0],n,i),a.measureDetails.splice(i,0,w({},r))},A=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments[3],o=h.a.cloneDeep(t),a=t.properties.preciseCRS,s=Object(y.a)(e,a,n.measureDetails),u=T([].concat(r(e)),a);switch(t.geometry.type){case g.b.POINT:C(o,u,e,s);break;case g.b.LINESTRING:I(o,u,e,s,i);break;case g.b.POLYGON:O(o,u,e,s,i)}return Object(y.b)(o)},L=function(t){var e=t.geometry,n=t.properties;e.coordinate=null,n.preciseGeometry.coordinates=null,n.measureDetails=[]},R=function(t,e){var n=t.geometry,r=t.properties;n.coordinates=Object(v.a)(n.coordinates,e,1),r.preciseGeometry.coordinates=Object(v.a)(r.preciseGeometry.coordinates,e,1),r.measureDetails=Object(v.a)(r.measureDetails,e,1)},N=function(t,e){var n=t.geometry,r=t.properties;n.coordinates[0]=S(n.coordinates[0],e),r.preciseGeometry.coordinates[0]=S(r.preciseGeometry.coordinates[0],e),r.measureDetails=Object(v.a)(r.measureDetails,e,1)},P=function(t,e){var n=h.a.cloneDeep(t);switch(t.geometry.type){case g.b.POINT:L(n);break;case g.b.LINESTRING:R(n,e);break;case g.b.POLYGON:N(n,e)}return Object(y.b)(n)},k=function(t){var e=void 0,n=t.preciseCRS,r=t.dimension,i=t.type,o=x[i]||i;switch(o){case g.b.POINT:e=null;break;case g.b.LINESTRING:e=[];break;case g.b.POLYGON:e=[[]]}return Object(y.b)({type:"Feature",geometry:{type:o,coordinates:h.a.cloneDeep(e)},properties:{id:o+"-feature-"+d()(),group:"active-measurements",measureDetails:[],preciseGeometry:{type:o,coordinates:h.a.cloneDeep(e)},preciseCRS:n,dimension:r,customGeometryType:o!==i?i:void 0}})},D=function(t){var e={type:"FeatureCollection",features:[]};return t&&(e.crs=Object(b.k)(t)),e},F=function(t,e){return t.features.push(e),t},j=function(t,e,n){return t.features[n]=e,t},U=function(t){var e=t.properties.preciseCRS,n=h.a.cloneDeep(t.properties.preciseGeometry),r=h.a.cloneDeep(t);r.geometry=n,delete r.properties.preciseCRS,delete r.properties.preciseGeometry;var i=D(e);return F(i,r),i}},function(t,e,n){"use strict";n.d(e,"a",function(){return S}),n.d(e,"b",function(){return I});var r=n(104),i=n.n(r),o=n(71),a=n.n(o),s=n(19),u=n.n(s),l=n(16),c=n.n(l),h=n(46),f=(n.n(h),n(29)),d=n.n(f),p=n(207),m=n(138),g=n(159),v=n(44),y=n(197),b=n(341),w=n(1339),x=n(564),_=n(574),E=n(73),M=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=c()(t);!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(u()(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),S=function(t,e,n){if(!n)return n;var r=d.a.cloneDeep(n),i=r.measureMethod,o=r.details,a=[],s=void 0,u=Object(v.n)(e),l=u.xyUnits;if(l===v.d.DEGREES)s=y.h.GOOD;else if(i===E.MeasureMethod.SMART_CLICK){s=y.h.GOOD;var c=o.ResultDirections.ResultDirection,h=c.map(function(t){return[t.PositionX,t.PositionY,t.PositionZ]});c.length<3&&(a.push(y.g.TOO_FEW_RECORDINGS),s=y.h.OK);for(var f=0,p=0,b=c.length;p<b;p++){var w=Object(m.g)(h[p],t);w>f&&(f=w)}(l===v.d.METERS&&f>y.d||f>y.c)&&(a.push(y.g.POINT_TOO_FAR),s=y.h.OK);for(var x=180,_=0,M=0,S=c.length;M<S;M++)for(var T=M+1;T<S;T++){var C=Object(g.a)(Object(m.a)(t,h[M],h[T]));C<x&&(x=C),C>_&&(_=C)}(x>y.e||_<y.f)&&(a.push(y.g.INVALID_ANGLE),s=y.h.BAD)}else s=y.h.GOOD;return r.pointProblems=a,r.pointReliability=s,r},T=function(t){var e=t.properties,n=e.customGeometryType,r=e.dimension,o=e.measureDetails,s=e.preciseCRS,u=e.preciseGeometry,l=t.properties.derivedData={},c=Object(v.n)(s),f=c.xyUnits;if(l.unit=f,f===v.d.DEGREES)return t;var S=3===r,T=u.type,C=u.coordinates,I=Object(b.b)(T,C),O=I.length,A=T===y.b.POLYGON?O-1:O;l.precision=S?Object(v.m)(f):1;var L=l.coordinateStdevs=I.map(function(t,e){var n=o[e%A],r=n.details;switch(n.measureMethod){case E.MeasureMethod.DEPTH_MAP:var i=r.direction,a=r.depthInMeters,s=r.recordingInfo,u=s.xyz,l=s.xyzStdev,c=(s.yaw,s.yawStdev,s.depthStdev),h=[Math.atan2(i[1],i[0]),Math.asin(i[2])],f=Object(g.b)(.1);return Object(w.b)(a,h[0],h[1],u[0],u[1],u[2],c,f,f,l[0],l[1],l[2]).stdev;case E.MeasureMethod.SMART_CLICK:var d=r.ResultDirections.ResultDirection.map(function(t){var e=new p.a([t.PositionX,t.PositionY,t.PositionZ],[t.StdX,t.StdY,t.StdZ],[Object(g.b)(t.Orientation),0,0],[Object(g.b)(t.StdOrientation),0,0]);return new p.b(t.Id,e,t.GroundLevelOffset,[t.DirectionX,t.DirectionY,t.DirectionZ],"data:image/jpeg;base64,"+t.MatchImage)}),m=Object(x.a)([r.PositionX,r.PositionY,r.PositionZ],d);return m.success?m.stdev:void 0;default:return}});if(T===y.b.POINT){if(1===O){var R=M(I[0],3),N=R[0],P=R[1],k=R[2],D=l.position={value:[N,P,k]},F=l.positionXY={value:[N,P]};if(S){var j=l.positionZ={value:k},U=L[0];if(Object(_.a)(U)&&U.every(function(t){return a()(t)})){var B=M(U,3),z=B[0],V=B[1],G=B[2];D.stdev=[z,V,G],F.stdev=i()(z,V),j.stdev=G}}}}else if(T===y.b.LINESTRING||T===y.b.POLYGON){var H=O-1;if(T===y.b.POLYGON&&H<=2&&--H,T===y.b.POLYGON&&H>2)if(S){var q=l.triangles=Object(m.j)(I);l.area={value:Object(m.c)(I,{triangles:q}),stdev:Object(w.f)(q,I,L)}}else l.area={value:Object(m.b)(I)};if(H>0)if(S){var W=T===y.b.POLYGON&&H>2,Y=Object(w.c)(I,L,W,H);l.totalLength={value:Y.value,stdev:Y.stdev},l.segmentLengths={value:Y.segments.value,stdev:Y.segments.stdev}}else{for(var X=new Array(H),Z=0,K=H;Z<K;Z++)X[Z]=Object(m.f)(I[Z],I[Z+1]);l.segmentLengths={value:X},l.totalLength={value:d.a.sum(X)}}}if(n===y.a.CIRCLE&&2===O){var $=Object(m.f)(I[0],I[1])/2;l.radius={value:$},l.area={value:Math.pow($,2)*Math.PI},l.totalLength={value:2*$*Math.PI}}if(O>=(T===y.b.POLYGON?3:2)){for(var Q=0,J=0,tt=0,et=1;et<O;++et)for(var nt=I[et],rt=0;rt<et;++rt){var it=h.vec2.distance(nt,I[rt]);it>Q&&(Q=it,J=et,tt=rt)}var ot=l.deltaXY={value:Q};if(S){var at=M(I[J],2),st=at[0],ut=at[1],lt=M(I[tt],2),ct=lt[0],ht=lt[1],ft=M(L[J],2),dt=ft[0],pt=ft[1],mt=M(L[tt],2),gt=mt[0],vt=mt[1];ot.stdev=Object(w.a)(st,ut,0,ct,ht,0,dt,pt,0,gt,vt,0).stdev}if(S){var yt=void 0,bt=void 0,wt=0,xt=0;yt=bt=I[0][2];for(var _t=1;_t<O;++_t){var Et=I[_t][2];Et<yt&&(yt=Et,wt=_t),Et>bt&&(bt=Et,xt=_t)}var Mt=I[wt][2],St=I[xt][2],Tt=L[wt][2],Ct=L[xt][2];l.deltaZ={value:bt-yt,stdev:Object(w.a)(0,0,Mt,0,0,St,0,0,Tt,0,0,Ct).stdev}}}if(S&&T===y.b.LINESTRING&&2===O){var It=M(I,2),Ot=M(It[0],3),At=Ot[0],Lt=Ot[1],Rt=Ot[2],Nt=M(It[1],3),Pt=Nt[0],kt=Nt[1],Dt=Nt[2],Ft=M(L,2),jt=M(Ft[0],3),Ut=jt[0],Bt=jt[1],zt=jt[2],Vt=M(Ft[1],3),Gt=Vt[0],Ht=Vt[1],qt=Vt[2],Wt=Object(w.e)(At,Lt,Rt,Pt,kt,Dt,Ut,Bt,zt,Gt,Ht,qt),Yt=Wt.value,Xt=Wt.stdev;l.slopePercentage={value:Yt,stdev:Xt};var Zt=Object(w.d)(At,Lt,Rt,Pt,kt,Dt,Ut,Bt,zt,Gt,Ht,qt),Kt=Zt.value,$t=Zt.stdev;l.slopeAngle={value:Kt,stdev:$t}}return t},C=function(t){var e=t.geometry.type,n=t.properties,r=n.measureDetails,i=n.dimension,o=n.preciseCRS,a=y.h.GOOD,s=[],u=r.length;if(Object(v.n)(o).xyUnits!==v.d.DEGREES&&3===i)for(var l=0,c=u;l<c;l++){var h=r[l].pointReliability;h!==y.h.GOOD&&(a!==y.h.BAD&&(a=Object(b.c)(a,h)),s.push(l))}return n.measureReliability=a,n.pointsWithErrors=s,n.validGeometry=Object(b.f)(e,u),t},I=function(t){var e=d.a.cloneDeep(t),n=t.properties,r=n.preciseCRS,i=n.measureDetails,o=n.dimension;return i&&o&&r&&(e=T(e),e=C(e)),e}},function(t,e,n){"use strict";var r=n(1340);n.d(e,"f",function(){return r.a});var i=(n(172),n(1342));n.d(e,"a",function(){return i.a}),n.d(e,"c",function(){return i.b});var o=n(1343);n.d(e,"b",function(){return o.a});var a=n(1344);n.d(e,"d",function(){return a.a}),n.d(e,"e",function(){return a.b})},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return s()(t)}n.d(e,"a",function(){return b});var i=n(104),o=n.n(i),a=n(31),s=n.n(a),u=n(19),l=n.n(u),c=n(16),h=n.n(c),f=n(171),d=(n.n(f),n(262)),p=n(172),m=n(138),g=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=h()(t);!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(l()(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),v=function(t,e){e[0]=m.i.Heron([t[0],t[1],t[2]],[t[3],t[4],t[5]],[t[6],t[7],t[8]])},y=function(t,e,n,r,i,o,a,s,u,l,c,h,m,g,y,b,w,x){var _=new Float64Array([t,e,n,r,i,o,a,s,u]),E=l instanceof f.Matrix?l:new Float64Array([l,c,h,m,g,y,b,w,x]),M=new Float64Array([p.b,p.b,p.b,p.b,p.b,p.b,p.b,p.b,p.b]),S=Object(d.a)(v,_,E,M,1);return{value:S.value[0],stdev:S.stdev[0],Q:S.Q}},b=function(t,e,n){if(!t||0===t.length)return NaN;var i=t.map(function(t){var r=g(t,3),i=r[0],o=r[1],a=r[2],s=g(e[i],3),u=s[0],l=s[1],c=s[2],h=g(e[o],3),f=h[0],d=h[1],p=h[2],m=g(e[a],3),v=m[0],b=m[1],w=m[2],x=g(n[i],3),_=x[0],E=x[1],M=x[2],S=g(n[o],3),T=S[0],C=S[1],I=S[2],O=g(n[a],3),A=O[0],L=O[1],R=O[2];return y(u,l,c,f,d,p,v,b,w,_,E,M,T,C,I,A,L,R).stdev});return o.a.apply(Math,r(i))}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=1e-10},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return s()(t)}n.d(e,"a",function(){return f}),n.d(e,"b",function(){return d});var i=n(104),o=n.n(i),a=n(31),s=n.n(a),u=n(171),l=(n.n(u),n(262)),c=n(172),h=function(t,e){e[0]=o()(t[3]-t[0],t[4]-t[1],t[5]-t[2])},f=function(t,e,n,r,i,o,a,s,f,d,p,m){var g=new Float64Array([t,e,n,r,i,o]),v=a instanceof u.Matrix?a:new Float64Array([a,s,f,d,p,m]),y=new Float64Array([c.b,c.b,c.b,c.b,c.b,c.b]),b=Object(l.a)(h,g,v,y,1);return{value:b.value[0],stdev:b.stdev[0],Q:b.Q}},d=function(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length-1,a=new Array(i),s=new Array(i),u=0,l=0,c=void 0,h=void 0,f=void 0,d=void 0,p=void 0,m=void 0,g=void 0,v=void 0,y=void 0,b=void 0,w=0;w<i;++w)c=t[w],h=t[w+1],d=e[w],p=e[w+1],m=h[0]-c[0],g=h[1]-c[1],v=h[2]-c[2],y=o()(m,g,v),b=1/y,a[w]=y,s[w]=o()(m*b*d[0],g*b*d[1],v*b*d[2],-m*b*p[0],-g*b*p[1],-v*b*p[2]),u+=y;if(1===i)u=a[0],l=s[0];else{l=[];var x=void 0,_=void 0,E=void 0,M=void 0,S=void 0,T=void 0,C=void 0,I=void 0;if(n)for(var O=0;O<i;++O)c=t[(O-1+i)%i],h=t[O],f=t[O+1],p=e[O],x=h[0]-c[0],_=h[1]-c[1],E=h[2]-c[2],M=f[0]-h[0],S=f[1]-h[1],T=f[2]-h[2],C=1/o()(x,_,E),I=1/o()(M,S,T),l.push((-x*C+M*I)*p[0],(-_*C+S*I)*p[1],(-E*C+T*I)*p[2]);else{for(var A=1;A<i-1;++A)c=t[A-1],h=t[A],f=t[A+1],p=e[A],x=h[0]-c[0],_=h[1]-c[1],E=h[2]-c[2],M=f[0]-h[0],S=f[1]-h[1],T=f[2]-h[2],C=1/o()(x,_,E),I=1/o()(M,S,T),l.push((-x*C+M*I)*p[0],(-_*C+S*I)*p[1],(-E*C+T*I)*p[2]);h=t[0],f=t[1],p=e[0],M=f[0]-h[0],S=f[1]-h[1],T=f[2]-h[2],I=1/o()(M,S,T),l.push(M*I*p[0],S*I*p[1],T*I*p[2]),c=t[i-1],h=t[i],p=e[i],x=h[0]-c[0],_=h[1]-c[1],E=h[2]-c[2],C=1/o()(x,_,E),l.push(-x*C*p[0],-_*C*p[1],-E*C*p[2])}l=o.a.apply(Math,r(l))}return{value:u,stdev:l,segments:{value:a,stdev:s}}}},function(t,e,n){"use strict";n.d(e,"a",function(){return f});var r=n(19),i=n.n(r),o=n(16),a=n.n(o),s=n(46),u=(n.n(s),n(262)),l=n(172),c=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var s,u=a()(t);!(r=(s=u.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(i()(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=function(t,e){var n=t.data||t,r=c(n,6),i=r[0],o=r[1],a=r[2],u=r[3],l=r[4],h=r[5];s.glMatrix.setMatrixArrayType(Float64Array);var f=Math.sin(o),d=Math.cos(o),p=Math.sin(a),m=Math.cos(a),g=s.vec3.fromValues(i*f*m,i*d*m,i*p),v=s.vec3.add(s.vec3.create(),s.vec3.fromValues(u,l,h),g);e[0]=v[0],e[1]=v[1],e[2]=v[2]},f=function(t,e,n,r,i,o,a,s,c,f,d,p){var m=[t,e,n,r,i,o],g=[a,s,c,f,d,p],v=new Float64Array([l.b,l.b,l.b,l.b,l.b,l.b]);return Object(u.a)(h,m,g,v,3)}},function(t,e,n){"use strict";n.d(e,"a",function(){return f}),n.d(e,"b",function(){return d});var r=n(104),i=n.n(r),o=n(171),a=(n.n(o),n(262)),s=n(172),u=n(159),l=function(t,e){e[0]=Object(u.a)(Math.atan2(Math.abs(t[5]-t[2]),i()(t[3]-t[0],t[4]-t[1])))},c=function(t,e){e[0]=Math.abs(t[5]-t[2])/i()(t[3]-t[0],t[4]-t[1])*100},h=function(t,e,n,r,i,u,h,f,d,p,m,g,v){var y=new Float64Array([e,n,r,i,u,h]),b=f instanceof o.Matrix?f:new Float64Array([f,d,p,m,g,v]),w=new Float64Array([s.b,s.b,s.b,s.b,s.b,s.b]),x=Object(a.a)(t?l:c,y,b,w,1);return{value:x.value[0],stdev:x.stdev[0],Q:x.Q}},f=h.bind(null,!0),d=h.bind(null,!1)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=h()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(l.a?l()(t,e):t.__proto__=e)}var a=n(10),s=n.n(a),u=n(9),l=n.n(u),c=n(5),h=n.n(c),f=n(17),d=n.n(f),p=n(142),m=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.color,o=void 0===n?"#000000":n;r(this,e);var a=[9,9],u=Object(p.a)(a),l=d.a.render.toContext(u,{size:a,pixelRatio:1});return l.setStyle(new d.a.style.Style({stroke:new d.a.style.Stroke({color:o,width:2})})),l.drawGeometry(new d.a.geom.MultiLineString([[[4.5,.5],[4.5,2.5]],[[4.5,6.5],[4.5,8.5]],[[.5,4.5],[2.5,4.5]],[[6.5,4.5],[8.5,4.5]]])),i(this,(e.__proto__||s()(e)).call(this,{img:u.canvas,imgSize:a}))}return o(e,t),e}(d.a.style.Icon);e.a=m},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=h()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(l.a?l()(t,e):t.__proto__=e)}var a=n(10),s=n.n(a),u=n(9),l=n.n(u),c=n(5),h=n.n(c),f=n(1),d=n.n(f),p=n(3),m=n.n(p),g=n(0),v=n.n(g),y=n(26),b=(n.n(y),n(15)),w=(n.n(b),n(36)),x=(n.n(w),n(38)),_=(n.n(x),n(30)),E=n(378),M=n(246),S=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),T=Object(b.defineMessages)({header:{id:"BaseLayerPanel.header",defaultMessage:"Maps"}}),C=function(t){function e(){var t;r(this,e);for(var n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];var u=i(this,(t=e.__proto__||s()(e)).call.apply(t,[this].concat(o)));return u.selectBaseLayer=function(t){var e=u.props.onSelectBaseLayer;e&&e(t)},u.state={panelHeight:0,initialPanelHeight:0,navbarOffset:46},u.handleResize=u.handleResize.bind(u),u}return o(e,t),S(e,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.handleResize);var t=document.getElementsByClassName("baselayerpanel")[0].offsetHeight+this.state.navbarOffset;this.setState({initialPanelHeight:t})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize)}},{key:"handleResize",value:function(){this.forceUpdate()}},{key:"render",value:function(){var t=this,e=this.context.intl.formatMessage,n=this.props.layers,r=null,i=n.map(function(t,e){var n=Object(M.b)(t),i={key:n.id,label:n.name,value:n};return n.visible&&(r=i),i}),o={},a=document.getElementsByClassName("viewer")[0];return a&&(o.maxHeight=a.offsetHeight-this.state.navbarOffset),v.a.createElement(y.Panel,{className:"baselayerpanel cmtNavBarPanel",header:e(T.header),style:o},v.a.createElement(E.c,{multiple:!1,WrapperComponent:E.a,ItemComponent:E.b,items:i,value:r,onChange:function(e){var n=e.value;return t.selectBaseLayer(n)}}))}}]),e}(_.a);C.propTypes={layers:m.a.array,onSelectBaseLayer:m.a.func},C.defaultProps={layers:[]};var I=function(t){return{panoramaviewer:t.panoramaviewer}},O=function(t){return{actions:Object(x.bindActionCreators)({},t)}};e.a=Object(w.connect)(I,O,null,{withRef:!0})(C)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=h()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(l.a?l()(t,e):t.__proto__=e)}var a=n(10),s=n.n(a),u=n(9),l=n.n(u),c=n(5),h=n.n(c),f=n(1),d=n.n(f),p=n(3),m=n.n(p),g=n(0),v=n.n(g),y=n(36),b=(n.n(y),n(38)),w=(n.n(b),n(26)),x=(n.n(w),n(15)),_=(n.n(x),n(378)),E=n(30),M=n(67),S=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),T=Object(x.defineMessages)({scaleBarToggle:{id:"ViewerPanel.scaleBarToggle",description:"Text by the checkbox for toggling the scalebar.",defaultMessage:"Show Scalebar"},zoomSliderToggle:{id:"ViewerPanel.zoomSliderToggle",description:"Text by the checkbox for toggling the zoom slider.",defaultMessage:"Show Zoom slider"}}),C=function(t){function e(){var t;r(this,e);for(var n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];var u=i(this,(t=e.__proto__||s()(e)).call.apply(t,[this].concat(o)));return u._toggleControl=u._toggleControl.bind(u),u}return o(e,t),S(e,[{key:"_toggleControl",value:function(t){var n=t.control,r=this.props,i=r.setScaleBarVisibility,o=r.setZoomSliderVisibility,a=r.showScaleBar,s=r.showZoomSlider,u=r.actions.logToggleControl,l=void 0;switch(n){case e.SCALE_BAR:l=!a,i(l);break;case e.ZOOM_SLIDER:l=!s,o(l)}u(n,l)}},{key:"render",value:function(){var t=this.context.intl.formatMessage,n=this.props,r=this._toggleControl,i=[{key:"showScaleBar",label:t(T.scaleBarToggle),control:e.SCALE_BAR},{key:"showZoomSlider",label:t(T.zoomSliderToggle),control:e.ZOOM_SLIDER}],o=[];return i.forEach(function(t){n[t.key]&&o.push(t)},this),v.a.createElement(w.Panel,{className:"layerpanel"},v.a.createElement(_.c,{multiple:!0,WrapperComponent:_.a,ItemComponent:_.b,items:i,value:o,onChange:r}))}}]),e}(E.a);C.SCALE_BAR="scaleBar",C.ZOOM_SLIDER="zoomSlider",C.propTypes={showScaleBar:m.a.bool,showZoomSlider:m.a.bool,setScaleBarVisibility:m.a.func,setZoomSliderVisibility:m.a.func};var I=function(t){return{actions:Object(b.bindActionCreators)({logToggleControl:M.logToggleControl},t)}};e.a=Object(y.connect)(null,I)(C)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=h()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(l.a?l()(t,e):t.__proto__=e)}var a=n(10),s=n.n(a),u=n(9),l=n.n(u),c=n(5),h=n.n(c),f=n(1),d=n.n(f),p=n(4),m=n.n(p),g=n(29),v=n.n(g),y=n(3),b=n.n(y),w=n(0),x=n.n(w),_=n(26),E=(n.n(_),n(15)),M=(n.n(E),n(36)),S=(n.n(M),n(38)),T=(n.n(S),n(30)),C=n(1349),I=n(27),O=n(204),A=n(67),L=n(1353),R=m.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},N=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),P=Object(E.defineMessages)({title:{id:"ImageControls.title",defaultMessage:"Display"}}),k=function(t){function e(){var t;r(this,e);for(var n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];var u=i(this,(t=e.__proto__||s()(e)).call.apply(t,[this].concat(o)));return u._logSetBrightness=v.a.debounce(u.props.actions.logSetValue.bind(u,"brightness"),500,{leading:!1}),u._logSetContrast=v.a.debounce(u.props.actions.logSetValue.bind(u,"contrast"),500,{leading:!1}),u._logSetOpacity=v.a.debounce(u.props.actions.logSetValue.bind(u,"opacity"),500,{leading:!1}),u._setOpacity=v.a.debounce(u.props.actions.setOpacity.bind(u),500,{leading:!1}),u.updateBrightness=u.updateBrightness.bind(u),u.updateContrast=u.updateContrast.bind(u),u.updateOpacity=u.updateOpacity.bind(u),u}return o(e,t),N(e,[{key:"updateBrightness",value:function(t){var e=this.props,n=e.actions,r=e.mapId,i=e.contrast,o=e.opacity;n.updateMapViewerParams(r,{viewerSettings:{opacity:o,brightness:t,contrast:i}}),this._logSetBrightness(t)}},{key:"updateContrast",value:function(t){var e=this.props,n=e.actions,r=e.mapId,i=e.brightness,o=e.opacity;n.updateMapViewerParams(r,{viewerSettings:{opacity:o,brightness:i,contrast:t}}),this._logSetContrast(t)}},{key:"updateOpacity",value:function(t){var e=this.props,n=e.actions,r=e.mapId,i=e.brightness,o=e.contrast,a=1-t;n.updateMapViewerParams(r,{viewerSettings:{opacity:a,brightness:i,contrast:o}}),this._setOpacity(a),this._logSetOpacity(a)}},{key:"render",value:function(){var t=this.context.intl.formatMessage;return x.a.createElement(_.Panel,{header:t(P.title),className:this.props.className},x.a.createElement(_.Row,{className:"fix-bootstrap-row"},x.a.createElement(C.a,{label:t(L.a.transparency),ref:"opacity",labelColumnSize:3,onSlide:this.updateOpacity,value:1-this.props.opacity,min:0,max:1,step:.05,formatter:function(t){return Math.floor(100*t)+"%"},ticks:e.opacitySliderTicks,ticks_labels:e.opacitySliderTicksLabels})))}}]),e}(T.a);k.propTypes={brightness:b.a.number.number,contrast:b.a.number.number,opacity:b.a.number.number},k.brightnessSliderTicks=[0,100,200,300,400],k.brightnessSliderTicksLabels=["0%","100%","200%","300%","400%"],k.contrastSliderTicks=[0,100,200,300,400],k.contrastSliderTicksLabels=["0%","100%","200%","300%","400%"],k.opacitySliderTicks=[0,.25,.5,.75,1],k.opacitySliderTicksLabels=["0%","25%","50%","75%","100%"];var D=function(t,e){var n=t.mapviewers,r=e.mapId,i=n.byId[r],o=i.viewerSettings;return R({},o)},F=function(t){return{actions:Object(S.bindActionCreators)(R({},I.default,O.b,{logSetValue:A.logSetValue}),t)}};e.a=Object(M.connect)(D,F)(k)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=l()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(s.a?s()(t,e):t.__proto__=e)}var a=n(9),s=n.n(a),u=n(5),l=n.n(u),c=n(10),h=n.n(c),f=n(57),d=n.n(f),p=n(1),m=n.n(p),g=n(4),v=n.n(g),y=n(3),b=n.n(y),w=n(0),x=n.n(w),_=n(1350),E=n(581),M=v.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},S=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),m()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),T=function t(e,n,r){null===e&&(e=Function.prototype);var i=d()(e,n);if(void 0===i){var o=h()(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},C=function(t){function e(){var t;r(this,e);for(var n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];var s=i(this,(t=e.__proto__||h()(e)).call.apply(t,[this].concat(o)));return s._onSlideHandler=s._onSlideHandler.bind(s),s}return o(e,t),S(e,[{key:"_getOnSlideProps",value:function(){return this.props.liveChange||this.props.onSlide?{onSlide:this._onSlideHandler,onChange:this._onSlideHandler}:null}},{key:"_onSlideHandler",value:function(){this.props.liveChange&&this.props.updatePPData&&this.props.updatePPData(this.value),this.props.onSlide&&this.props.onSlide(this.value)}},{key:"renderComponent",value:function(){return x.a.createElement(E.a,M({ref:"slider"},this.buildProps))}},{key:"value",get:function(){return this.refs.slider.getValue()}},{key:"buildProps",get:function(){return M({},T(e.prototype.__proto__||h()(e.prototype),"buildProps",this),this._getOnSlideProps())}}]),e}(_.a);C.propTypes=M({},_.a.propTypes,{onSlide:b.a.func,liveChange:b.a.bool}),C.defaultProps=M({},_.a.defaultProps,{liveChange:!1}),e.a=C},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=c()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(u.a?u()(t,e):t.__proto__=e)}var s=n(9),u=n.n(s),l=n(5),c=n.n(l),h=n(10),f=n.n(h),d=n(57),p=n.n(d),m=n(1),g=n.n(m),v=n(4),y=n.n(v),b=n(3),w=(n.n(b),n(0)),x=n.n(w),_=n(26),E=(n.n(_),n(1351)),M=y.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},S=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),g()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),T=function t(e,n,r){null===e&&(e=Function.prototype);var i=p()(e,n);if(void 0===i){var o=f()(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},C=function(t){function e(){return i(this,e),o(this,(e.__proto__||f()(e)).apply(this,arguments))}return a(e,t),S(e,[{key:"_getClassNameProps",value:function(){return null}},{key:"renderComponent",value:function(){return null}},{key:"render",value:function(){var t=M({className:"wrapperproperty"},T(e.prototype.__proto__||f()(e.prototype),"_getClassNameProps",this).call(this));return x.a.createElement(_.FormGroup,t,x.a.createElement(_.Col,{xs:4},x.a.createElement(_.ControlLabel,null,this.props.label)),x.a.createElement(_.Col,{xs:8},this.renderComponent()))}},{key:"buildProps",get:function(){var t=T(e.prototype.__proto__||f()(e.prototype),"buildProps",this);t.label;return r(t,["label"])}}]),e}(E.a);e.a=C},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=f()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(c.a?c()(t,e):t.__proto__=e)}var s=n(10),u=n.n(s),l=n(9),c=n.n(l),h=n(5),f=n.n(h),d=n(1),p=n.n(d),m=n(4),g=n.n(m),v=n(3),y=n.n(v),b=n(0),w=(n.n(b),g.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}),x=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),p()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),_=function(t){function e(){var t;i(this,e);for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];var s=o(this,(t=e.__proto__||u()(e)).call.apply(t,[this].concat(r)));return s._onChangeHandler=s._onChangeHandler.bind(s),s}return a(e,t),x(e,[{key:"_getClassNameProps",value:function(){return this.props.useNoLabelClass?this._getNonLabelClassNameProps():this._getLabelClassNameProps()}},{key:"getColumnSizes",value:function(){var t={};if(t.available=void 0!=this.props.labelColumnSize||void 0!=this.props.componentColumnSize,!t.available)return t;var e=void 0,n=void 0;return void 0!=this.props.labelColumnSize&&(e=this.props.labelColumnSize),void 0!=this.props.componentColumnSize&&(n=this.props.componentColumnSize),n||(n=12-e),e||(e=12-n),t.label=e,t.component=n,t}},{key:"_getNonLabelClassNameProps",value:function(){var t=this.getColumnSizes();return t.available?{wrapperClassName:"col-xs-offset-"+t.label+" col-xs-"+t.component}:{}}},{key:"_getLabelClassNameProps",value:function(){var t={},e=this.getColumnSizes();if(this.props.label&&!e.available)return t;var n=[];return e.label?t.labelClassName="col-xs-"+e.label:n.push("col-xs-offset-"+e.label),n.push("col-xs-"+e.component),t.wrapperClassName=n.join(" "),t}},{key:"_getOnChangeProps",value:function(){var t={};return this.props.addOnChangeProps&&(t.onChange=this._onChangeHandler),t}},{key:"_onChangeHandler",value:function(){this.props.updatePPData&&this.props.updatePPData(this.value),this.props.onChange&&this.props.onChange(this.value)}},{key:"render",value:function(){return!1}},{key:"value",get:function(){}},{key:"buildProps",get:function(){var t=w({},this.props),e=(t.toolTip,t.labelColumnSize,t.componentColumnSize,t.editable,t.onChange,t.updatePPData,t.addOnChangeProps,t.useNoLabelClass,r(t,["toolTip","labelColumnSize","componentColumnSize","editable","onChange","updatePPData","addOnChangeProps","useNoLabelClass"]));return e=w({},e,this._getClassNameProps(),this._getOnChangeProps())}}]),e}(b.Component);_.propTypes={label:y.a.oneOfType([y.a.string,y.a.object]),toolTip:y.a.string,labelColumnSize:y.a.number,componentColumnSize:y.a.number,useNoLabelClass:y.a.bool,editable:y.a.bool,updatePPData:y.a.func,addOnChangeProps:y.a.bool,onChange:y.a.func},_.defaultProps={useNoLabelClass:!1,editable:!0,addOnChangeProps:!0,labelColumnSize:void 0,onChange:void 0,toolTip:void 0},e.a=_},function(t,e,n){"use strict";var r,i,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s="object"===("undefined"==typeof window?"undefined":a(window));!function(a){i=[n(143)],r=a,void 0!==(o="function"==typeof r?r.apply(e,i):r)&&(t.exports=o)}(function(t){s&&!window.console&&(window.console={}),s&&!window.console.log&&(window.console.log=function(){}),s&&!window.console.warn&&(window.console.warn=function(){});var e;return function(t){function e(){}var n=Array.prototype.slice;!function(t){function r(e){e.prototype.option||(e.prototype.option=function(e){t.isPlainObject(e)&&(this.options=t.extend(!0,this.options,e))})}function i(e,r){t.fn[e]=function(i){if("string"==typeof i){for(var a=n.call(arguments,1),s=0,u=this.length;s<u;s++){var l=this[s],c=t.data(l,e);if(c)if(t.isFunction(c[i])&&"_"!==i.charAt(0)){var h=c[i].apply(c,a);if(void 0!==h&&h!==c)return h}else o("no such method '"+i+"' for "+e+" instance");else o("cannot call methods on "+e+" prior to initialization; attempted to call '"+i+"'")}return this}var f=this.map(function(){var n=t.data(this,e);return n?(n.option(i),n._init()):(n=new r(this,i),t.data(this,e,n)),t(this)});return!f||f.length>1?f:f[0]}}if(t){var o="undefined"==typeof console?e:function(t){console.error(t)};t.bridget=function(t,e){r(e),i(t,e)},t.bridget}}(t)}(t),function(t){function n(e,n){this._state={value:null,enabled:null,offset:null,size:null,percentage:null,inDrag:!1,over:!1},this.ticksCallbackMap={},this.handleCallbackMap={},"string"==typeof e?this.element=document.querySelector(e):e instanceof HTMLElement&&(this.element=e),n=n||{};for(var r=Object.keys(this.defaultOptions),o=0;o<r.length;o++){var a=r[o],s=n[a];s=void 0!==s?s:function(t,e){var n="data-slider-"+e.replace(/_/g,"-"),r=t.getAttribute(n);try{return JSON.parse(r)}catch(t){return r}}(this.element,a),s=null!==s?s:this.defaultOptions[a],this.options||(this.options={}),this.options[a]=s}"auto"===this.options.rtl&&(this.options.rtl="rtl"===window.getComputedStyle(this.element).direction),"vertical"!==this.options.orientation||"top"!==this.options.tooltip_position&&"bottom"!==this.options.tooltip_position?"horizontal"!==this.options.orientation||"left"!==this.options.tooltip_position&&"right"!==this.options.tooltip_position||(this.options.tooltip_position="top"):this.options.rtl?this.options.tooltip_position="left":this.options.tooltip_position="right";var u,l,c,h,f,d=this.element.style.width,p=!1,m=this.element.parentNode;if(this.sliderElem)p=!0;else{this.sliderElem=document.createElement("div"),this.sliderElem.className="slider";var g=document.createElement("div");g.className="slider-track",l=document.createElement("div"),l.className="slider-track-low",u=document.createElement("div"),u.className="slider-selection",c=document.createElement("div"),c.className="slider-track-high",h=document.createElement("div"),h.className="slider-handle min-slider-handle",h.setAttribute("role","slider"),h.setAttribute("aria-valuemin",this.options.min),h.setAttribute("aria-valuemax",this.options.max),f=document.createElement("div"),f.className="slider-handle max-slider-handle",f.setAttribute("role","slider"),f.setAttribute("aria-valuemin",this.options.min),f.setAttribute("aria-valuemax",this.options.max),g.appendChild(l),g.appendChild(u),g.appendChild(c),this.rangeHighlightElements=[];var v=this.options.rangeHighlights;if(Array.isArray(v)&&v.length>0)for(var y=0;y<v.length;y++){var b=document.createElement("div"),w=v[y].class||"";b.className="slider-rangeHighlight slider-selection "+w,this.rangeHighlightElements.push(b),g.appendChild(b)}var x=Array.isArray(this.options.labelledby);if(x&&this.options.labelledby[0]&&h.setAttribute("aria-labelledby",this.options.labelledby[0]),x&&this.options.labelledby[1]&&f.setAttribute("aria-labelledby",this.options.labelledby[1]),!x&&this.options.labelledby&&(h.setAttribute("aria-labelledby",this.options.labelledby),f.setAttribute("aria-labelledby",this.options.labelledby)),this.ticks=[],Array.isArray(this.options.ticks)&&this.options.ticks.length>0){for(this.ticksContainer=document.createElement("div"),this.ticksContainer.className="slider-tick-container",o=0;o<this.options.ticks.length;o++){var _=document.createElement("div");if(_.className="slider-tick",this.options.ticks_tooltip){var E=this._addTickListener(),M=E.addMouseEnter(this,_,o),S=E.addMouseLeave(this,_);this.ticksCallbackMap[o]={mouseEnter:M,mouseLeave:S}}this.ticks.push(_),this.ticksContainer.appendChild(_)}u.className+=" tick-slider-selection"}if(this.tickLabels=[],Array.isArray(this.options.ticks_labels)&&this.options.ticks_labels.length>0)for(this.tickLabelContainer=document.createElement("div"),this.tickLabelContainer.className="slider-tick-label-container",o=0;o<this.options.ticks_labels.length;o++){var T=document.createElement("div"),C=0===this.options.ticks_positions.length,I=this.options.reversed&&C?this.options.ticks_labels.length-(o+1):o;T.className="slider-tick-label",T.innerHTML=this.options.ticks_labels[I],this.tickLabels.push(T),this.tickLabelContainer.appendChild(T)}var O=function(t){var e=document.createElement("div");e.className="tooltip-arrow";var n=document.createElement("div");n.className="tooltip-inner",t.appendChild(e),t.appendChild(n)},A=document.createElement("div");A.className="tooltip tooltip-main",A.setAttribute("role","presentation"),O(A);var L=document.createElement("div");L.className="tooltip tooltip-min",L.setAttribute("role","presentation"),O(L);var R=document.createElement("div");R.className="tooltip tooltip-max",R.setAttribute("role","presentation"),O(R),this.sliderElem.appendChild(g),this.sliderElem.appendChild(A),this.sliderElem.appendChild(L),this.sliderElem.appendChild(R),this.tickLabelContainer&&this.sliderElem.appendChild(this.tickLabelContainer),this.ticksContainer&&this.sliderElem.appendChild(this.ticksContainer),this.sliderElem.appendChild(h),this.sliderElem.appendChild(f),m.insertBefore(this.sliderElem,this.element),this.element.style.display="none"}if(t&&(this.$element=t(this.element),this.$sliderElem=t(this.sliderElem)),this.eventToCallbackMap={},this.sliderElem.id=this.options.id,this.touchCapable="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,this.touchX=0,this.touchY=0,this.tooltip=this.sliderElem.querySelector(".tooltip-main"),this.tooltipInner=this.tooltip.querySelector(".tooltip-inner"),this.tooltip_min=this.sliderElem.querySelector(".tooltip-min"),this.tooltipInner_min=this.tooltip_min.querySelector(".tooltip-inner"),this.tooltip_max=this.sliderElem.querySelector(".tooltip-max"),this.tooltipInner_max=this.tooltip_max.querySelector(".tooltip-inner"),i[this.options.scale]&&(this.options.scale=i[this.options.scale]),!0===p&&(this._removeClass(this.sliderElem,"slider-horizontal"),this._removeClass(this.sliderElem,"slider-vertical"),this._removeClass(this.sliderElem,"slider-rtl"),this._removeClass(this.tooltip,"hide"),this._removeClass(this.tooltip_min,"hide"),this._removeClass(this.tooltip_max,"hide"),["left","right","top","width","height"].forEach(function(t){this._removeProperty(this.trackLow,t),this._removeProperty(this.trackSelection,t),this._removeProperty(this.trackHigh,t)},this),[this.handle1,this.handle2].forEach(function(t){this._removeProperty(t,"left"),this._removeProperty(t,"right"),this._removeProperty(t,"top")},this),[this.tooltip,this.tooltip_min,this.tooltip_max].forEach(function(t){this._removeProperty(t,"left"),this._removeProperty(t,"right"),this._removeProperty(t,"top"),this._removeProperty(t,"margin-left"),this._removeProperty(t,"margin-right"),this._removeProperty(t,"margin-top"),this._removeClass(t,"right"),this._removeClass(t,"left"),this._removeClass(t,"top")},this)),"vertical"===this.options.orientation?(this._addClass(this.sliderElem,"slider-vertical"),this.stylePos="top",this.mousePos="pageY",this.sizePos="offsetHeight"):(this._addClass(this.sliderElem,"slider-horizontal"),this.sliderElem.style.width=d,this.options.orientation="horizontal",this.options.rtl?this.stylePos="right":this.stylePos="left",this.mousePos="pageX",this.sizePos="offsetWidth"),this.options.rtl&&this._addClass(this.sliderElem,"slider-rtl"),this._setTooltipPosition(),Array.isArray(this.options.ticks)&&this.options.ticks.length>0&&(this.options.max=Math.max.apply(Math,this.options.ticks),this.options.min=Math.min.apply(Math,this.options.ticks)),Array.isArray(this.options.value)?(this.options.range=!0,this._state.value=this.options.value):this.options.range?this._state.value=[this.options.value,this.options.max]:this._state.value=this.options.value,this.trackLow=l||this.trackLow,this.trackSelection=u||this.trackSelection,this.trackHigh=c||this.trackHigh,"none"===this.options.selection?(this._addClass(this.trackLow,"hide"),this._addClass(this.trackSelection,"hide"),this._addClass(this.trackHigh,"hide")):"after"!==this.options.selection&&"before"!==this.options.selection||(this._removeClass(this.trackLow,"hide"),this._removeClass(this.trackSelection,"hide"),this._removeClass(this.trackHigh,"hide")),this.handle1=h||this.handle1,this.handle2=f||this.handle2,!0===p)for(this._removeClass(this.handle1,"round triangle"),this._removeClass(this.handle2,"round triangle hide"),o=0;o<this.ticks.length;o++)this._removeClass(this.ticks[o],"round triangle hide");if(-1!==["round","triangle","custom"].indexOf(this.options.handle))for(this._addClass(this.handle1,this.options.handle),this._addClass(this.handle2,this.options.handle),o=0;o<this.ticks.length;o++)this._addClass(this.ticks[o],this.options.handle);if(this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos],this.setValue(this._state.value),this.handle1Keydown=this._keydown.bind(this,0),this.handle1.addEventListener("keydown",this.handle1Keydown,!1),this.handle2Keydown=this._keydown.bind(this,1),this.handle2.addEventListener("keydown",this.handle2Keydown,!1),this.mousedown=this._mousedown.bind(this),this.touchstart=this._touchstart.bind(this),this.touchmove=this._touchmove.bind(this),this.touchCapable){var N=!1;try{var P=Object.defineProperty({},"passive",{get:function(){N=!0}});window.addEventListener("test",null,P)}catch(t){}var k=!!N&&{passive:!0};this.sliderElem.addEventListener("touchstart",this.touchstart,k),this.sliderElem.addEventListener("touchmove",this.touchmove,k)}if(this.sliderElem.addEventListener("mousedown",this.mousedown,!1),this.resize=this._resize.bind(this),window.addEventListener("resize",this.resize,!1),"hide"===this.options.tooltip)this._addClass(this.tooltip,"hide"),this._addClass(this.tooltip_min,"hide"),this._addClass(this.tooltip_max,"hide");else if("always"===this.options.tooltip)this._showTooltip(),this._alwaysShowTooltip=!0;else{if(this.showTooltip=this._showTooltip.bind(this),this.hideTooltip=this._hideTooltip.bind(this),this.options.ticks_tooltip){var D=this._addTickListener(),F=D.addMouseEnter(this,this.handle1),j=D.addMouseLeave(this,this.handle1);this.handleCallbackMap.handle1={mouseEnter:F,mouseLeave:j},F=D.addMouseEnter(this,this.handle2),j=D.addMouseLeave(this,this.handle2),this.handleCallbackMap.handle2={mouseEnter:F,mouseLeave:j}}else this.sliderElem.addEventListener("mouseenter",this.showTooltip,!1),this.sliderElem.addEventListener("mouseleave",this.hideTooltip,!1);this.handle1.addEventListener("focus",this.showTooltip,!1),this.handle1.addEventListener("blur",this.hideTooltip,!1),this.handle2.addEventListener("focus",this.showTooltip,!1),this.handle2.addEventListener("blur",this.hideTooltip,!1)}this.options.enabled?this.enable():this.disable()}var r={formatInvalidInputErrorMsg:function(t){return"Invalid input value '"+t+"' passed in"},callingContextNotSliderInstance:"Calling context element does not have instance of Slider bound to it. Check your code to make sure the JQuery object returned from the call to the slider() initializer is calling the method"},i={linear:{toValue:function(t){var e=t/100*(this.options.max-this.options.min),n=!0;if(this.options.ticks_positions.length>0){for(var r,i,o,a=0,s=1;s<this.options.ticks_positions.length;s++)if(t<=this.options.ticks_positions[s]){r=this.options.ticks[s-1],o=this.options.ticks_positions[s-1],i=this.options.ticks[s],a=this.options.ticks_positions[s];break}e=r+(t-o)/(a-o)*(i-r),n=!1}var u=n?this.options.min:0,l=u+Math.round(e/this.options.step)*this.options.step;return l<this.options.min?this.options.min:l>this.options.max?this.options.max:l},toPercentage:function(t){if(this.options.max===this.options.min)return 0;if(this.options.ticks_positions.length>0){for(var e,n,r,i=0,o=0;o<this.options.ticks.length;o++)if(t<=this.options.ticks[o]){e=o>0?this.options.ticks[o-1]:0,r=o>0?this.options.ticks_positions[o-1]:0,n=this.options.ticks[o],i=this.options.ticks_positions[o];break}if(o>0){return r+(t-e)/(n-e)*(i-r)}}return 100*(t-this.options.min)/(this.options.max-this.options.min)}},logarithmic:{toValue:function(t){var e=0===this.options.min?0:Math.log(this.options.min),n=Math.log(this.options.max),r=Math.exp(e+(n-e)*t/100);return Math.round(r)===this.options.max?this.options.max:(r=this.options.min+Math.round((r-this.options.min)/this.options.step)*this.options.step,r<this.options.min?this.options.min:r>this.options.max?this.options.max:r)},toPercentage:function(t){if(this.options.max===this.options.min)return 0;var e=Math.log(this.options.max),n=0===this.options.min?0:Math.log(this.options.min);return 100*((0===t?0:Math.log(t))-n)/(e-n)}}};if(e=function(t,e){return n.call(this,t,e),this},e.prototype={_init:function(){},constructor:e,defaultOptions:{id:"",min:0,max:10,step:1,precision:0,orientation:"horizontal",value:5,range:!1,selection:"before",tooltip:"show",tooltip_split:!1,handle:"round",reversed:!1,rtl:"auto",enabled:!0,formatter:function(t){return Array.isArray(t)?t[0]+" : "+t[1]:t},natural_arrow_keys:!1,ticks:[],ticks_positions:[],ticks_labels:[],ticks_snap_bounds:0,ticks_tooltip:!1,scale:"linear",focus:!1,tooltip_position:null,labelledby:null,rangeHighlights:[]},getElement:function(){return this.sliderElem},getValue:function(){return this.options.range?this._state.value:this._state.value[0]},setValue:function(t,e,n){t||(t=0);var r=this.getValue();this._state.value=this._validateInputValue(t);var i=this._applyPrecision.bind(this);this.options.range?(this._state.value[0]=i(this._state.value[0]),this._state.value[1]=i(this._state.value[1]),this._state.value[0]=Math.max(this.options.min,Math.min(this.options.max,this._state.value[0])),this._state.value[1]=Math.max(this.options.min,Math.min(this.options.max,this._state.value[1]))):(this._state.value=i(this._state.value),this._state.value=[Math.max(this.options.min,Math.min(this.options.max,this._state.value))],this._addClass(this.handle2,"hide"),"after"===this.options.selection?this._state.value[1]=this.options.max:this._state.value[1]=this.options.min),this.options.max>this.options.min?this._state.percentage=[this._toPercentage(this._state.value[0]),this._toPercentage(this._state.value[1]),100*this.options.step/(this.options.max-this.options.min)]:this._state.percentage=[0,0,100],this._layout();var o=this.options.range?this._state.value:this._state.value[0];return this._setDataVal(o),!0===e&&this._trigger("slide",o),r!==o&&!0===n&&this._trigger("change",{oldValue:r,newValue:o}),this},destroy:function(){this._removeSliderEventHandlers(),this.sliderElem.parentNode.removeChild(this.sliderElem),this.element.style.display="",this._cleanUpEventCallbacksMap(),this.element.removeAttribute("data"),t&&(this._unbindJQueryEventHandlers(),this.$element.removeData("slider"))},disable:function(){return this._state.enabled=!1,this.handle1.removeAttribute("tabindex"),this.handle2.removeAttribute("tabindex"),this._addClass(this.sliderElem,"slider-disabled"),this._trigger("slideDisabled"),this},enable:function(){return this._state.enabled=!0,this.handle1.setAttribute("tabindex",0),this.handle2.setAttribute("tabindex",0),this._removeClass(this.sliderElem,"slider-disabled"),this._trigger("slideEnabled"),this},toggle:function(){return this._state.enabled?this.disable():this.enable(),this},isEnabled:function(){return this._state.enabled},on:function(t,e){return this._bindNonQueryEventHandler(t,e),this},off:function(e,n){t?(this.$element.off(e,n),this.$sliderElem.off(e,n)):this._unbindNonQueryEventHandler(e,n)},getAttribute:function(t){return t?this.options[t]:this.options},setAttribute:function(t,e){return this.options[t]=e,this},refresh:function(){return this._removeSliderEventHandlers(),n.call(this,this.element,this.options),t&&t.data(this.element,"slider",this),this},relayout:function(){return this._resize(),this._layout(),this},_removeSliderEventHandlers:function(){if(this.handle1.removeEventListener("keydown",this.handle1Keydown,!1),this.handle2.removeEventListener("keydown",this.handle2Keydown,!1),this.options.ticks_tooltip){for(var t=this.ticksContainer.getElementsByClassName("slider-tick"),e=0;e<t.length;e++)t[e].removeEventListener("mouseenter",this.ticksCallbackMap[e].mouseEnter,!1),t[e].removeEventListener("mouseleave",this.ticksCallbackMap[e].mouseLeave,!1);this.handle1.removeEventListener("mouseenter",this.handleCallbackMap.handle1.mouseEnter,!1),this.handle2.removeEventListener("mouseenter",this.handleCallbackMap.handle2.mouseEnter,!1),this.handle1.removeEventListener("mouseleave",this.handleCallbackMap.handle1.mouseLeave,!1),this.handle2.removeEventListener("mouseleave",this.handleCallbackMap.handle2.mouseLeave,!1)}this.handleCallbackMap=null,this.ticksCallbackMap=null,this.showTooltip&&(this.handle1.removeEventListener("focus",this.showTooltip,!1),this.handle2.removeEventListener("focus",this.showTooltip,!1)),this.hideTooltip&&(this.handle1.removeEventListener("blur",this.hideTooltip,!1),this.handle2.removeEventListener("blur",this.hideTooltip,!1)),this.showTooltip&&this.sliderElem.removeEventListener("mouseenter",this.showTooltip,!1),this.hideTooltip&&this.sliderElem.removeEventListener("mouseleave",this.hideTooltip,!1),this.sliderElem.removeEventListener("touchstart",this.touchstart,!1),this.sliderElem.removeEventListener("touchmove",this.touchmove,!1),this.sliderElem.removeEventListener("mousedown",this.mousedown,!1),window.removeEventListener("resize",this.resize,!1)},_bindNonQueryEventHandler:function(t,e){void 0===this.eventToCallbackMap[t]&&(this.eventToCallbackMap[t]=[]),this.eventToCallbackMap[t].push(e)},_unbindNonQueryEventHandler:function(t,e){var n=this.eventToCallbackMap[t];if(void 0!==n)for(var r=0;r<n.length;r++)if(n[r]===e){n.splice(r,1);break}},_cleanUpEventCallbacksMap:function(){for(var t=Object.keys(this.eventToCallbackMap),e=0;e<t.length;e++){var n=t[e];delete this.eventToCallbackMap[n]}},_showTooltip:function(){!1===this.options.tooltip_split?(this._addClass(this.tooltip,"in"),this.tooltip_min.style.display="none",this.tooltip_max.style.display="none"):(this._addClass(this.tooltip_min,"in"),this._addClass(this.tooltip_max,"in"),this.tooltip.style.display="none"),this._state.over=!0},_hideTooltip:function(){!1===this._state.inDrag&&!0!==this.alwaysShowTooltip&&(this._removeClass(this.tooltip,"in"),this._removeClass(this.tooltip_min,"in"),this._removeClass(this.tooltip_max,"in")),this._state.over=!1},_setToolTipOnMouseOver:function(t){function e(t,e){return e?[100-t.percentage[0],this.options.range?100-t.percentage[1]:t.percentage[1]]:[t.percentage[0],t.percentage[1]]}var n=this.options.formatter(t?t.value[0]:this._state.value[0]),r=t?e(t,this.options.reversed):e(this._state,this.options.reversed);this._setText(this.tooltipInner,n),this.tooltip.style[this.stylePos]=r[0]+"%","vertical"===this.options.orientation?this._css(this.tooltip,"margin-"+this.stylePos,-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-"+this.stylePos,-this.tooltip.offsetWidth/2+"px")},_addTickListener:function(){return{addMouseEnter:function(t,e,n){var r=function(){var e=t._state,r=n>=0?n:this.attributes["aria-valuenow"].value,i=parseInt(r,10);e.value[0]=i,e.percentage[0]=t.options.ticks_positions[i],t._setToolTipOnMouseOver(e),t._showTooltip()};return e.addEventListener("mouseenter",r,!1),r},addMouseLeave:function(t,e){var n=function(){t._hideTooltip()};return e.addEventListener("mouseleave",n,!1),n}}},_layout:function(){var t;if(t=this.options.reversed?[100-this._state.percentage[0],this.options.range?100-this._state.percentage[1]:this._state.percentage[1]]:[this._state.percentage[0],this._state.percentage[1]],this.handle1.style[this.stylePos]=t[0]+"%",this.handle1.setAttribute("aria-valuenow",this._state.value[0]),isNaN(this.options.formatter(this._state.value[0]))&&this.handle1.setAttribute("aria-valuetext",this.options.formatter(this._state.value[0])),this.handle2.style[this.stylePos]=t[1]+"%",this.handle2.setAttribute("aria-valuenow",this._state.value[1]),isNaN(this.options.formatter(this._state.value[1]))&&this.handle2.setAttribute("aria-valuetext",this.options.formatter(this._state.value[1])),this.rangeHighlightElements.length>0&&Array.isArray(this.options.rangeHighlights)&&this.options.rangeHighlights.length>0)for(var e=0;e<this.options.rangeHighlights.length;e++){var n=this._toPercentage(this.options.rangeHighlights[e].start),r=this._toPercentage(this.options.rangeHighlights[e].end);if(this.options.reversed){var i=100-r;r=100-n,n=i}var o=this._createHighlightRange(n,r);o?"vertical"===this.options.orientation?(this.rangeHighlightElements[e].style.top=o.start+"%",this.rangeHighlightElements[e].style.height=o.size+"%"):(this.options.rtl?this.rangeHighlightElements[e].style.right=o.start+"%":this.rangeHighlightElements[e].style.left=o.start+"%",this.rangeHighlightElements[e].style.width=o.size+"%"):this.rangeHighlightElements[e].style.display="none"}if(Array.isArray(this.options.ticks)&&this.options.ticks.length>0){var a,s="vertical"===this.options.orientation?"height":"width";a="vertical"===this.options.orientation?"marginTop":this.options.rtl?"marginRight":"marginLeft";var u=this._state.size/(this.options.ticks.length-1);if(this.tickLabelContainer){var l=0;if(0===this.options.ticks_positions.length)"vertical"!==this.options.orientation&&(this.tickLabelContainer.style[a]=-u/2+"px"),l=this.tickLabelContainer.offsetHeight;else for(c=0;c<this.tickLabelContainer.childNodes.length;c++)this.tickLabelContainer.childNodes[c].offsetHeight>l&&(l=this.tickLabelContainer.childNodes[c].offsetHeight);"horizontal"===this.options.orientation&&(this.sliderElem.style.marginBottom=l+"px")}for(var c=0;c<this.options.ticks.length;c++){var h=this.options.ticks_positions[c]||this._toPercentage(this.options.ticks[c]);this.options.reversed&&(h=100-h),this.ticks[c].style[this.stylePos]=h+"%",this._removeClass(this.ticks[c],"in-selection"),this.options.range?h>=t[0]&&h<=t[1]&&this._addClass(this.ticks[c],"in-selection"):"after"===this.options.selection&&h>=t[0]?this._addClass(this.ticks[c],"in-selection"):"before"===this.options.selection&&h<=t[0]&&this._addClass(this.ticks[c],"in-selection"),this.tickLabels[c]&&(this.tickLabels[c].style[s]=u+"px","vertical"!==this.options.orientation&&void 0!==this.options.ticks_positions[c]?(this.tickLabels[c].style.position="absolute",this.tickLabels[c].style[this.stylePos]=h+"%",this.tickLabels[c].style[a]=-u/2+"px"):"vertical"===this.options.orientation&&(this.options.rtl?this.tickLabels[c].style.marginRight=this.sliderElem.offsetWidth+"px":this.tickLabels[c].style.marginLeft=this.sliderElem.offsetWidth+"px",this.tickLabelContainer.style[a]=this.sliderElem.offsetWidth/2*-1+"px"))}}var f;if(this.options.range){f=this.options.formatter(this._state.value),this._setText(this.tooltipInner,f),this.tooltip.style[this.stylePos]=(t[1]+t[0])/2+"%","vertical"===this.options.orientation?this._css(this.tooltip,"margin-"+this.stylePos,-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-"+this.stylePos,-this.tooltip.offsetWidth/2+"px");var d=this.options.formatter(this._state.value[0]);this._setText(this.tooltipInner_min,d);var p=this.options.formatter(this._state.value[1]);this._setText(this.tooltipInner_max,p),this.tooltip_min.style[this.stylePos]=t[0]+"%","vertical"===this.options.orientation?this._css(this.tooltip_min,"margin-"+this.stylePos,-this.tooltip_min.offsetHeight/2+"px"):this._css(this.tooltip_min,"margin-"+this.stylePos,-this.tooltip_min.offsetWidth/2+"px"),this.tooltip_max.style[this.stylePos]=t[1]+"%","vertical"===this.options.orientation?this._css(this.tooltip_max,"margin-"+this.stylePos,-this.tooltip_max.offsetHeight/2+"px"):this._css(this.tooltip_max,"margin-"+this.stylePos,-this.tooltip_max.offsetWidth/2+"px")}else f=this.options.formatter(this._state.value[0]),this._setText(this.tooltipInner,f),this.tooltip.style[this.stylePos]=t[0]+"%","vertical"===this.options.orientation?this._css(this.tooltip,"margin-"+this.stylePos,-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-"+this.stylePos,-this.tooltip.offsetWidth/2+"px");if("vertical"===this.options.orientation)this.trackLow.style.top="0",this.trackLow.style.height=Math.min(t[0],t[1])+"%",this.trackSelection.style.top=Math.min(t[0],t[1])+"%",this.trackSelection.style.height=Math.abs(t[0]-t[1])+"%",this.trackHigh.style.bottom="0",this.trackHigh.style.height=100-Math.min(t[0],t[1])-Math.abs(t[0]-t[1])+"%";else{"right"===this.stylePos?this.trackLow.style.right="0":this.trackLow.style.left="0",this.trackLow.style.width=Math.min(t[0],t[1])+"%","right"===this.stylePos?this.trackSelection.style.right=Math.min(t[0],t[1])+"%":this.trackSelection.style.left=Math.min(t[0],t[1])+"%",this.trackSelection.style.width=Math.abs(t[0]-t[1])+"%","right"===this.stylePos?this.trackHigh.style.left="0":this.trackHigh.style.right="0",this.trackHigh.style.width=100-Math.min(t[0],t[1])-Math.abs(t[0]-t[1])+"%";var m=this.tooltip_min.getBoundingClientRect(),g=this.tooltip_max.getBoundingClientRect();"bottom"===this.options.tooltip_position?m.right>g.left?(this._removeClass(this.tooltip_max,"bottom"),this._addClass(this.tooltip_max,"top"),this.tooltip_max.style.top="",this.tooltip_max.style.bottom="22px"):(this._removeClass(this.tooltip_max,"top"),this._addClass(this.tooltip_max,"bottom"),this.tooltip_max.style.top=this.tooltip_min.style.top,this.tooltip_max.style.bottom=""):m.right>g.left?(this._removeClass(this.tooltip_max,"top"),this._addClass(this.tooltip_max,"bottom"),this.tooltip_max.style.top="18px"):(this._removeClass(this.tooltip_max,"bottom"),this._addClass(this.tooltip_max,"top"),this.tooltip_max.style.top=this.tooltip_min.style.top)}},_createHighlightRange:function(t,e){return this._isHighlightRange(t,e)?t>e?{start:e,size:t-e}:{start:t,size:e-t}:null},_isHighlightRange:function(t,e){return 0<=t&&t<=100&&0<=e&&e<=100},_resize:function(t){this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos],this._layout()},_removeProperty:function(t,e){t.style.removeProperty?t.style.removeProperty(e):t.style.removeAttribute(e)},_mousedown:function(t){if(!this._state.enabled)return!1;this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos];var e=this._getPercentage(t);if(this.options.range){var n=Math.abs(this._state.percentage[0]-e),r=Math.abs(this._state.percentage[1]-e);this._state.dragged=n<r?0:1,this._adjustPercentageForRangeSliders(e)}else this._state.dragged=0;this._state.percentage[this._state.dragged]=e,this._layout(),this.touchCapable&&(document.removeEventListener("touchmove",this.mousemove,!1),document.removeEventListener("touchend",this.mouseup,!1)),this.mousemove&&document.removeEventListener("mousemove",this.mousemove,!1),this.mouseup&&document.removeEventListener("mouseup",this.mouseup,!1),this.mousemove=this._mousemove.bind(this),this.mouseup=this._mouseup.bind(this),this.touchCapable&&(document.addEventListener("touchmove",this.mousemove,!1),document.addEventListener("touchend",this.mouseup,!1)),document.addEventListener("mousemove",this.mousemove,!1),document.addEventListener("mouseup",this.mouseup,!1),this._state.inDrag=!0;var i=this._calculateValue();return this._trigger("slideStart",i),this._setDataVal(i),this.setValue(i,!1,!0),t.returnValue=!1,this.options.focus&&this._triggerFocusOnHandle(this._state.dragged),!0},_touchstart:function(t){if(void 0===t.changedTouches)return void this._mousedown(t);var e=t.changedTouches[0];this.touchX=e.pageX,this.touchY=e.pageY},_triggerFocusOnHandle:function(t){0===t&&this.handle1.focus(),1===t&&this.handle2.focus()},_keydown:function(t,e){if(!this._state.enabled)return!1;var n;switch(e.keyCode){case 37:case 40:n=-1;break;case 39:case 38:n=1}if(n){if(this.options.natural_arrow_keys){var r="vertical"===this.options.orientation&&!this.options.reversed,i="horizontal"===this.options.orientation&&this.options.reversed;(r||i)&&(n=-n)}var o=this._state.value[t]+n*this.options.step,a=o/this.options.max*100;if(this._state.keyCtrl=t,this.options.range){this._adjustPercentageForRangeSliders(a);o=[this._state.keyCtrl?this._state.value[0]:o,this._state.keyCtrl?o:this._state.value[1]]}return this._trigger("slideStart",o),this._setDataVal(o),this.setValue(o,!0,!0),this._setDataVal(o),this._trigger("slideStop",o),this._layout(),this._pauseEvent(e),delete this._state.keyCtrl,!1}},_pauseEvent:function(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.cancelBubble=!0,t.returnValue=!1},_mousemove:function(t){if(!this._state.enabled)return!1;var e=this._getPercentage(t);this._adjustPercentageForRangeSliders(e),this._state.percentage[this._state.dragged]=e,this._layout();var n=this._calculateValue(!0);return this.setValue(n,!0,!0),!1},_touchmove:function(t){if(void 0!==t.changedTouches){var e=t.changedTouches[0],n=e.pageX-this.touchX,r=e.pageY-this.touchY;this._state.inDrag||("vertical"===this.options.orientation&&n<=5&&n>=-5&&(r>=15||r<=-15)?this._mousedown(t):r<=5&&r>=-5&&(n>=15||n<=-15)&&this._mousedown(t))}},_adjustPercentageForRangeSliders:function(t){if(this.options.range){var e=this._getNumDigitsAfterDecimalPlace(t);e=e?e-1:0;var n=this._applyToFixedAndParseFloat(t,e);0===this._state.dragged&&this._applyToFixedAndParseFloat(this._state.percentage[1],e)<n?(this._state.percentage[0]=this._state.percentage[1],this._state.dragged=1):1===this._state.dragged&&this._applyToFixedAndParseFloat(this._state.percentage[0],e)>n?(this._state.percentage[1]=this._state.percentage[0],this._state.dragged=0):0===this._state.keyCtrl&&this._state.value[1]/this.options.max*100<t?(this._state.percentage[0]=this._state.percentage[1],this._state.keyCtrl=1,this.handle2.focus()):1===this._state.keyCtrl&&this._state.value[0]/this.options.max*100>t&&(this._state.percentage[1]=this._state.percentage[0],this._state.keyCtrl=0,this.handle1.focus())}},_mouseup:function(){if(!this._state.enabled)return!1;this.touchCapable&&(document.removeEventListener("touchmove",this.mousemove,!1),document.removeEventListener("touchend",this.mouseup,!1)),document.removeEventListener("mousemove",this.mousemove,!1),document.removeEventListener("mouseup",this.mouseup,!1),this._state.inDrag=!1,!1===this._state.over&&this._hideTooltip();var t=this._calculateValue(!0);return this._layout(),this._setDataVal(t),this._trigger("slideStop",t),!1},_calculateValue:function(t){var e;if(this.options.range?(e=[this.options.min,this.options.max],0!==this._state.percentage[0]&&(e[0]=this._toValue(this._state.percentage[0]),e[0]=this._applyPrecision(e[0])),100!==this._state.percentage[1]&&(e[1]=this._toValue(this._state.percentage[1]),e[1]=this._applyPrecision(e[1]))):(e=this._toValue(this._state.percentage[0]),e=parseFloat(e),e=this._applyPrecision(e)),t){for(var n=[e,1/0],r=0;r<this.options.ticks.length;r++){var i=Math.abs(this.options.ticks[r]-e);i<=n[1]&&(n=[this.options.ticks[r],i])}if(n[1]<=this.options.ticks_snap_bounds)return n[0]}return e},_applyPrecision:function(t){var e=this.options.precision||this._getNumDigitsAfterDecimalPlace(this.options.step);return this._applyToFixedAndParseFloat(t,e)},_getNumDigitsAfterDecimalPlace:function(t){var e=(""+t).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return e?Math.max(0,(e[1]?e[1].length:0)-(e[2]?+e[2]:0)):0},_applyToFixedAndParseFloat:function(t,e){var n=t.toFixed(e);return parseFloat(n)},_getPercentage:function(t){!this.touchCapable||"touchstart"!==t.type&&"touchmove"!==t.type||(t=t.touches[0]);var e=t[this.mousePos],n=this._state.offset[this.stylePos],r=e-n;"right"===this.stylePos&&(r=-r);var i=r/this._state.size*100;return i=Math.round(i/this._state.percentage[2])*this._state.percentage[2],this.options.reversed&&(i=100-i),Math.max(0,Math.min(100,i))},_validateInputValue:function(t){if(isNaN(+t)){if(Array.isArray(t))return this._validateArray(t),t;throw new Error(r.formatInvalidInputErrorMsg(t))}return+t},_validateArray:function(t){for(var e=0;e<t.length;e++){var n=t[e];if("number"!=typeof n)throw new Error(r.formatInvalidInputErrorMsg(n))}},_setDataVal:function(t){this.element.setAttribute("data-value",t),this.element.setAttribute("value",t),this.element.value=t},_trigger:function(e,n){n=n||0===n?n:void 0;var r=this.eventToCallbackMap[e];if(r&&r.length)for(var i=0;i<r.length;i++){var o=r[i];o(n)}t&&this._triggerJQueryEvent(e,n)},_triggerJQueryEvent:function(t,e){var n={type:t,value:e};this.$element.trigger(n),this.$sliderElem.trigger(n)},_unbindJQueryEventHandlers:function(){this.$element.off(),this.$sliderElem.off()},_setText:function(t,e){void 0!==t.textContent?t.textContent=e:void 0!==t.innerText&&(t.innerText=e)},_removeClass:function(t,e){for(var n=e.split(" "),r=t.className,i=0;i<n.length;i++){var o=n[i],a=new RegExp("(?:\\s|^)"+o+"(?:\\s|$)");r=r.replace(a," ")}t.className=r.trim()},_addClass:function(t,e){for(var n=e.split(" "),r=t.className,i=0;i<n.length;i++){var o=n[i];new RegExp("(?:\\s|^)"+o+"(?:\\s|$)").test(r)||(r+=" "+o)}t.className=r.trim()},_offsetLeft:function(t){return t.getBoundingClientRect().left},_offsetRight:function(t){return t.getBoundingClientRect().right},_offsetTop:function(t){for(var e=t.offsetTop;(t=t.offsetParent)&&!isNaN(t.offsetTop);)e+=t.offsetTop,"BODY"!==t.tagName&&(e-=t.scrollTop);return e},_offset:function(t){return{left:this._offsetLeft(t),right:this._offsetRight(t),top:this._offsetTop(t)}},_css:function(e,n,r){if(t)t.style(e,n,r);else{var i=n.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(t,e){return e.toUpperCase()});e.style[i]=r}},_toValue:function(t){return this.options.scale.toValue.apply(this,[t])},_toPercentage:function(t){return this.options.scale.toPercentage.apply(this,[t])},_setTooltipPosition:function(){var t=[this.tooltip,this.tooltip_min,this.tooltip_max];if("vertical"===this.options.orientation){var e;e=this.options.tooltip_position?this.options.tooltip_position:this.options.rtl?"left":"right";var n="left"===e?"right":"left";t.forEach(function(t){this._addClass(t,e),t.style[n]="100%"}.bind(this))}else"bottom"===this.options.tooltip_position?t.forEach(function(t){this._addClass(t,"bottom"),t.style.top="22px"}.bind(this)):t.forEach(function(t){this._addClass(t,"top"),t.style.top=-this.tooltip.outerHeight-14+"px"}.bind(this))}},t&&t.fn){var o=void 0;t.fn.slider?(s&&window.console.warn("bootstrap-slider.js - WARNING: $.fn.slider namespace is already bound. Use the $.fn.bootstrapSlider namespace instead."),o="bootstrapSlider"):(t.bridget("slider",e),o="slider"),t.bridget("bootstrapSlider",e),t(function(){t("input[data-provide=slider]")[o]()})}}(t),e})},function(t,e,n){"use strict";var r=n(15);n.n(r);e.a=Object(r.defineMessages)({left:{id:"view.left",defaultMessage:"Left"},right:{id:"view.right",defaultMessage:"Right"},up:{id:"view.up",defaultMessage:"Up"},down:{id:"view.down",defaultMessage:"Down"},north:{id:"view.north",defaultMessage:"North"},east:{id:"view.east",defaultMessage:"East"},south:{id:"view.south",defaultMessage:"South"},west:{id:"view.west",defaultMessage:"West"},heading:{id:"view.heading",defaultMessage:"Heading"},yaw:{id:"view.yaw",defaultMessage:"Yaw"},pitch:{id:"view.pitch",defaultMessage:"Pitch"},roll:{id:"view.roll",defaultMessage:"Roll"},focalLength:{id:"view.focalLength",defaultMessage:"Focal length"},fov:{id:"view.fov",defaultMessage:"Field of view"},move:{id:"view.move",defaultMessage:"Move"},moveUp:{id:"view.moveUp",description:"Move up (in film terms: pedestal up)",defaultMessage:"Move up"},moveDown:{id:"view.moveDown",description:"Move down (in film terms: pedestal down)",defaultMessage:"Move down"},moveLeft:{id:"view.moveLeft",description:"Move left (in film terms: truck left)",defaultMessage:"Move left"},moveRight:{id:"view.moveRight",description:"Move right (in film terms: truck right)",defaultMessage:"Move right"},moveForward:{id:"view.moveForward",description:"Move forward (in film terms: dolly forward)",defaultMessage:"Move forward"},moveBackward:{id:"view.moveBackward",description:"Move backward (in film terms: dolly backward)",defaultMessage:"Move backward"},drag:{id:"view.drag",defaultMessage:"Drag"},rotate:{id:"view.rotate",description:"2D Rotation (e.g. on a map)",defaultMessage:"Rotate"},rotateLeft:{id:"view.rotateLeft",defaultMessage:"Rotate left"},rotateRight:{id:"view.rotateRight",defaultMessage:"Rotate right"},pan:{id:"view.pan",description:"3D Rotation around the Z (vertical) axis",defaultMessage:"Pan"},panLeft:{id:"view.panLeft",defaultMessage:"Pan left"},panRight:{id:"view.panRight",defaultMessage:"Pan right"},tilt:{id:"view.tilt",description:"3D Rotation around the X (horizontal) axis",defaultMessage:"Tilt"},tiltUp:{id:"view.tiltUp",defaultMessage:"Tilt up"},tiltDown:{id:"view.tiltDown",defaultMessage:"Tilt down"},zoom:{id:"view.zoom",defaultMessage:"Zoom"},zoomIn:{id:"view.zoomIn",defaultMessage:"Zoom in"},zoomOut:{id:"view.zoomOut",defaultMessage:"Zoom out"},brightness:{id:"view.brightness",defaultMessage:"Brightness"},contrast:{id:"view.contrast",defaultMessage:"Contrast"},transparency:{id:"view.transparency",defaultMessage:"Transparency"}})},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t){var e=new a;return e.defaultSrsName=Object(o.e)(t,"gsc:DefaultSRSName"),e}e.a=i;var o=n(118),a=function t(){r(this,t)}},function(t,e,n){"use strict";function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=w()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(y.a?y()(t,e):t.__proto__=e)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t){var e=new L,n=!0,r=!1,i=void 0;try{for(var o,a=M()(f()(t));!(n=(o=a.next()).done);n=!0){var s=o.value,u=t[s];if(R.has(s)){var l=R.get(s),c=I(l,2),h=c[0],d=c[1];e[h]=d.call(this,u)}else C.a.warn("Unknown child: "+s)}}catch(t){r=!0,i=t}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}return e}function s(t){var e=new O;return c(t,e),e}function u(t){var e=new A;return c(t,e),e.code=Object(S.e)(t,"gsc:Code","NL"),e.databaseResource=Object(S.e)(t,"gsc:DatabaseResource","CMDatabase"),e.srsName=Object(S.e)(t,"gsc:SRSName"),e}function l(t){var e=new O;return e.name="Proxy service",e.description="Proxy service",e.url=Object(S.e)(t,"@xlink:href"),e}function c(t,e){e.name=Object(S.e)(t,"gsc:Name"),e.description=Object(S.e)(t,"gsc:Description");var n=Object(S.a)(Object(S.e)(t,"gsc:OnlineResource")).map(function(t){return Object(S.e)(t,"@xlink:href")}),r=/^(.+){(.)-(.)}(.+)$/;Object(S.a)(Object(S.e)(t,"gsc:OnlineResourcePattern")).map(function(t){return Object(S.e)(t,"@xlink:href")}).forEach(function(t){var e=r.exec(t);if(e)for(var i=e[1],o=e[4],a=e[2].charCodeAt(0),s=e[3].charCodeAt(0),u=a;u<=s;++u)n.push(i+String.fromCharCode(u)+o);else n.push(t)}),e.onlineResources=n,1===n.length&&(e.onlineResource=n[0])}e.a=a;var h=n(51),f=n.n(h),d=n(80),p=n.n(d),m=n(10),g=n.n(m),v=n(9),y=n.n(v),b=n(5),w=n.n(b),x=n(19),_=n.n(x),E=n(16),M=n.n(E),S=n(118),T=n(32),C=n.n(T),I=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=M()(t);!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(_()(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),O=function t(){o(this,t)},A=function(t){function e(){return o(this,e),r(this,(e.__proto__||g()(e)).apply(this,arguments))}return i(e,t),e}(O),L=function t(){o(this,t)},R=new p.a([["gsc:AddressService",["address",u]],["gsc:ConfigurationService",["configuration",s]],["gsc:UserGeneratedContentService",["contentCollaboration",s]],["gsc:PanoramaService",["panorama",s]],["gsc:PanoramaTilesService",["panoramaTile",s]],["gsc:DepthTilesService",["depthTile",s]],["gsc:RecordingLocationService",["recording",s]],["gsc:SmartClickMeasurementService",["smartClick",s]],["gsc:UsageLoggingService",["usageLogging",s]],["gsc:PanoramaRenderingService",["panoramaRendering",s]],["gsc:ObliqueLocationService",["obliqueLocation",s]],["gsc:ObliqueTilesService",["obliqueTile",s]],["gsc:ProxyService",["proxy",l]],["gsc:UserProfileService",["userProfile",s]]])},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t){var e=new a;return e.interactionLevel=parseInt(Object(o.e)(t,"gsc:InteractionLevel",-1),10),e.viewStateLevel=parseInt(Object(o.e)(t,"gsc:ViewStateLevel",-1),10),e.settingsLevel=parseInt(Object(o.e)(t,"gsc:SettingsLevel",-1),10),e.managerLevel=parseInt(Object(o.e)(t,"gsc:ManagersLevel",-1),10),e.errorLevel=parseInt(Object(o.e)(t,"gsc:ErrorsLevel",-1),10),e.processInitialEvents=parseInt(Object(o.e)(t,"gsc:ProcessInitialEvents")),e}e.a=i;var o=n(118),a=function t(){r(this,t)}},function(t,e,n){"use strict";var r=n(1),i=n.n(r),o=n(4),a=n.n(o),s=n(18),u=(n.n(s),n(591)),l=n(110),c=a.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h={customerLogo:null};e.a=Object(s.handleActions)(function(t,e,n){return e in t?i()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},u.ActionTypes.LOAD_CUSTOMER_LOGO,{next:function(t,e){return c({},t,{customerLogo:e.payload})},throw:l.b}),h)},function(t,e,n){"use strict";function r(t,e,n){return e in t?a()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var i,o=n(1),a=n.n(o),s=n(4),u=n.n(s),l=n(18),c=(n.n(l),n(72)),h=u.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f={content:null,style:"info",delay:5e3,dismiss:!0,visible:!1};e.a=Object(l.handleActions)((i={},r(i,c.ActionTypes.SHOW_FLASH_MESSAGE,function(t,e){return h({},f,e.payload,{visible:!0})}),r(i,c.ActionTypes.HIDE_FLASH_MESSAGE,function(){return{visible:!1}}),i),f)},function(t,e,n){"use strict";function r(t,e,n){return e in t?a()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var i,o=n(1),a=n.n(o),s=n(4),u=n.n(s),l=n(18),c=(n.n(l),n(110)),h=n(27),f=n(269),d=n(1360),p=n(199),m=n(205),g=u.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},v=/^([a-z]{2,})-?/,y={en:"en-GB",pt:"pt-BR"},b=navigator.language,w=void 0,x=v.exec(b);if(x&&x[1]&&(w=x[1]),b in d.a||(b=y[w]&&y[w]in d.a?y[w]:w in d.a?w:"en-GB"),p.a.getLocalStorageEnabled()){var _=m.a.getItem(h.UserProfileGlobalKeys.LOCALE);_&&_ in d.a&&(b=_)}var E={locale:b,messages:null,formats:void 0,dev:!1};e.a=Object(l.handleActions)((i={},r(i,h.ActionTypes.LOAD_USER_PROFILE,function(t,e){var n=e.payload,r=b;return h.UserProfileGlobalKeys.LOCALE in n&&(r=n[h.UserProfileGlobalKeys.LOCALE]),"dev"===r?g({},t,{dev:!0}):g({},t,{locale:r,dev:!1})}),r(i,f.ActionTypes.SET_LOCALE,{next:function(t,e){return g({},t,{locale:e.payload.locale,messages:e.payload.messages})},throw:c.b}),i),E)},function(t,e,n){"use strict";var r=n(15);n.n(r);e.a=Object(r.defineMessages)({de:{id:"lang.de",defaultMessage:"German"},"en-GB":{id:"lang.en_gb",defaultMessage:"English (GB)"},"en-US":{id:"lang.en_us",defaultMessage:"English (US)"},fi:{id:"lang.fi",defaultMessage:"Finnish"},nl:{id:"lang.nl",defaultMessage:"Dutch"},tr:{id:"lang.tr",defaultMessage:"Turkish"}})},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e,n){return e in t?p()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return f()(t)}var a,s=n(51),u=n.n(s),l=n(16),c=n.n(l),h=n(31),f=n.n(h),d=n(1),p=n.n(d),m=n(4),g=n.n(m),v=n(18),y=(n.n(v),n(32)),b=n.n(y),w=n(212),x=n(27),_=n(82),E=n(347),M=g.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},S={baseLayers:{all:[]},overlays:{all:[]},layerSettings:{}},T=function(t){if(!t)throw new Error(Object(_.b)(E.a.invalidKey,{type:t}));if(t!==w.LayerType.BASELAYER&&t!==w.LayerType.OVERLAY)throw new Error(Object(_.b)(E.a.unknownKey,{type:t}))},C=function(t,e,n){if(e in t&&t[e].some(function(t){return t.id===n.id}))throw new Error(Object(_.b)(E.a.duplicateKey,{key:n.id}))},I=function(t,e,n){C(t,e,n);var r=t[e]||[],a=r.length,s=n.sortOrder,u=a;if(s>=0)for(u=0;u<a;++u){var l=r[u].sortOrder;if(l<0)break;if(s<l)break}return M({},t,i({},e,[].concat(o(r.slice(0,u)),[n],o(r.slice(u)))))},O=function(t,e,n){var r=t;try{if("*"===e){var i=!0,o=!1,a=void 0;try{for(var s,l=c()(u()(t));!(i=(s=l.next()).done);i=!0){var h=s.value;r=I(r,h,n)}}catch(t){o=!0,a=t}finally{try{!i&&l.return&&l.return()}finally{if(o)throw a}}}else if("string"==typeof e||e instanceof String)r=I(r,e,n);else if(e instanceof Array)for(var f=0;f<e.length;f++)r=I(r,e[f],n);return r}catch(e){return b.a.warn("[ADD_LAYER] "+e.message),t}},A=function(t,e,n){try{var r=n.reduce(function(t,n){return O(t,e,n)},t);return"*"===e||r[e]||(r[e]=[]),r}catch(e){return b.a.warn("[ADD_LAYERS] "+e.message),t}},L=function(t,e){return t.map(function(t){var n=t.id===e;return n!==t.visible?M({},t,{visible:n}):t})},R=function(t,e,n){return t.map(function(t){return t.id===e&&t.visible!==n?M({},t,{visible:n}):t})};e.a=Object(v.handleActions)((a={},i(a,x.LOAD_USER_PROFILE,function(t,e){var n=M({},t),r=e.payload;return x.UserProfileConfigKeys.LAYER_SETTINGS in r&&(n.layerSettings=JSON.parse(r[x.UserProfileConfigKeys.LAYER_SETTINGS])),x.UserProfileConfigKeys.BASE_LAYER in r&&(n.baseLayer=r[x.UserProfileConfigKeys.BASE_LAYER]),n}),i(a,w.ADD_LAYER,function(t,e){var n=e.payload,r=n.type,o=n.storeId,a=n.layer;try{return T(r),M({},t,i({},r,O(t[r],o,a)))}catch(e){return b.a.warn("[ADD_LAYER] "+e.message),t}}),i(a,w.ADD_LAYERS,function(t,e){var n=e.payload,r=n.type,o=n.storeId,a=n.layers;try{return T(r),M({},t,i({},r,A(t[r],o,a)))}catch(e){return b.a.warn("[ADD_LAYERS] "+e.message),t}}),i(a,w.TOGGLE_OVERLAY,function(t,e){var n=e.payload,r=n.type,o=n.storeId,a=n.layerId,s=n.visible;try{T(r);var l=M({},t[r]);if("*"===o){var h=!0,f=!1,d=void 0;try{for(var p,m=c()(u()(l));!(h=(p=m.next()).done);h=!0){var g=p.value;l[g]=R(l[g],a,s)}}catch(t){f=!0,d=t}finally{try{!h&&m.return&&m.return()}finally{if(f)throw d}}}else("string"==typeof o||o instanceof String)&&(l[o]=R(l[o],a,s));return M({},t,i({},r,l))}catch(e){return b.a.warn("[TOGGLE_OVERLAY] "+e.message),t}}),i(a,w.SELECT_BASE_LAYER,function(t,e){var n=e.payload,r=n.type,o=n.storeId,a=n.layerId;try{T(r);var s=M({},t[r]);if("*"===o){var l=!0,h=!1,f=void 0;try{for(var d,p=c()(u()(s));!(l=(d=p.next()).done);l=!0){var m=d.value;s[m]=L(s[m],a)}}catch(t){h=!0,f=t}finally{try{!l&&p.return&&p.return()}finally{if(h)throw f}}}else("string"==typeof o||o instanceof String)&&(s[o]=L(s[o],a));return M({},t,i({},r,s))}catch(e){return b.a.warn("[SELECT_BASE_LAYER] "+e.message),t}}),i(a,w.COPY_LAYER_VISIBILITY,function(t,e){var n=e.payload,r=n.toStoreId,o=n.fromStoreId,a=t.baseLayers,s=t.overlays,u={};return a[o]&&(u.baseLayers=M({},a,i({},r,a[o].map(function(t){return{id:t.id,visible:t.visible}})))),s[o]&&(u.overlays=M({},s,i({},r,s[o].map(function(t){return{id:t.id,visible:t.visible}})))),M({},t,u)}),i(a,w.RESTORE_COPIED_LAYER_VISIBILITY,function(t,e){var n=e.payload,r=n.toStoreId,o=n.fromStoreId,a=t.baseLayers,s=t.overlays,u={};return a[o]&&(u.baseLayers=M({},a,i({},r,a[r].map(function(t){for(var e=!1,n=0;n<a[o].length;n++)t.id===a[o][n].id&&(e=a[o][n].visible);return M({},t,{visible:e})})))),s[o]&&(u.overlays=M({},s,i({},r,s[r].map(function(t){for(var e=!1,n=0;n<s[o].length;n++)t.id===s[o][n].id&&(e=s[o][n].visible);return M({},t,{visible:e})})))),M({},t,u)}),i(a,w.REMOVE_LAYER_STORE,function(t,e){var n=e.payload.storeId,i=t.baseLayers,o=(i[n],r(i,[n])),a=t.overlays,s=(a[n],r(a,[n]));return M({},t,{baseLayers:o,overlays:s})}),i(a,w.SET_LAYER_VISIBILITY,function(t,e){var n=t.layerSettings,r=e.payload,o=r.layerId,a=r.visible;return M({},t,{layerSettings:M({},n,i({},o,M({},n[o],{visible:a})))})}),a),S)},function(t,e,n){"use strict";function r(t,e,n){return e in t?a()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var i,o=n(1),a=n.n(o),s=n(4),u=n.n(s),l=n(18),c=(n.n(l),n(67)),h=n(546),f=u.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},d={client:null,logSuccess:0,logFailed:0};e.a=Object(l.handleActions)((i={},r(i,c.ActionTypes.INIT_CLIENT,function(t,e){return f({},t,{client:new h.a(e.payload)})}),r(i,c.ActionTypes.DESTROY_CLIENT,function(t){return f({},t,{client:null})}),r(i,c.ActionTypes.LOG,function(t,e){return e.error?f({},t,{logFailed:t.logFailed+1}):f({},t,{logSuccess:t.logSuccess+1})}),i),d)},function(t,e,n){"use strict";function r(t,e,n){return e in t?l()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){b.a.setCurrentUser(t),b.a.setItem(g.LOCALSTORAGE_TOKEN_KEY,e)}function o(){b.a.removeItem(g.LOCALSTORAGE_TOKEN_KEY),b.a.removeCurrentUser()}var a,s,u=n(1),l=n.n(u),c=n(4),h=n.n(c),f=n(18),d=(n.n(f),n(15)),p=(n.n(d),n(32)),m=n.n(p),g=n(174),v=n(590),y=n(199),b=n(205),w=h.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},x=Object(d.defineMessages)({errorNoCredentials:{id:"Login.error.noCredentials",description:"Message for when no user name or password was provided",defaultMessage:"Please enter your user name and/or password."},errorNotAgreed:{id:"Login.error.notAgreed",description:"Message for when the user did not accept the user agreement",defaultMessage:"The terms and conditions must be accepted"},errorServerUnreachable:{id:"Login.error.serverUnreachable",description:"Message for when the server cannot be reached",defaultMessage:"The server could not be reached."},errorServerResponseNotFound:{id:"Login.error.serverResponseNotFound",description:"Message for when the server responds with 404, not found.",defaultMessage:"An error has occurred, contact CycloMedia or your admin."},errorCredentialsInvalid:{id:"Login.error.credentialsInvalid",description:"Message for when credentials are incorrect(500).",defaultMessage:"Your credentials were invalid."},errorOther:{id:"Login.error.other",description:"Message for other errors",defaultMessage:"Something went wrong, please try again"}}),_=(a={},r(a,v.a.UNAUTHORIZED,x.errorCredentialsInvalid),r(a,v.a.CREDENTIALS_EMPTY,x.errorNoCredentials),r(a,v.a.NOT_AGREED,x.errorNotAgreed),r(a,v.a.SERVER_UNREACHABLE,x.errorServerUnreachable),r(a,v.a.NOT_FOUND,x.errorServerResponseNotFound),r(a,v.a.UNKNOWN_ERROR,x.errorOther),a),E=y.a.getLocalStorageEnabled()?b.a.getItem(g.LOCALSTORAGE_TOKEN_KEY):void 0,M={formattedErrorMessage:void 0,basicToken:E,loggedIn:!1};e.a=Object(f.handleActions)((s={},r(s,g.ActionTypes.LOGIN,{next:function(t,e){var n=e.payload,r=n.username,o=n.basicToken,a=n.tidToken,s=n.bearerToken;return i(r,e.payload.basicToken),w({},t,{loggedIn:!0,basicToken:o,tidToken:a,bearerToken:s,formattedErrorMessage:null})},throw:function(t,e){o();var n=e.payload,r=null;return n.type!==v.a.AUTO_LOGIN_FAILED&&(m.a.error(n.message),r=_[n.type]||x.errorOther),w({},t,{basicToken:null,loggedIn:!1,formattedErrorMessage:r})}}),r(s,g.ActionTypes.LOGOUT,function(t,e){return o(),window.location.reload(),w({},t,{loggedIn:!1,basicToken:null,formattedErrorMessage:null})}),s),M)},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e,n){return e in t?s()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var o,a=n(1),s=n.n(a),u=n(4),l=n.n(u),c=n(18),h=(n.n(c),n(204)),f=n(174),d=n(27),p=n(110),m=n(118),g=l.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},v={byId:{},startupExtent:void 0,opacity:1,mapShowZoomSlider:!0,mapShowScaleBar:!0},y=function(t,e,n){var r=e.byId;return g({},e,{byId:g({},r,i({},t,g({},r[t],n)))})};e.a=Object(c.handleActions)((o={},i(o,d.ActionTypes.LOAD_USER_PROFILE,function(t,e){var n=g({},t),r=e.payload;return d.UserProfileConfigKeys.STARTUP_EXTENT in r&&(n.startupExtent=JSON.parse(r[d.UserProfileConfigKeys.STARTUP_EXTENT])),d.UserProfileGlobalKeys.OPACITY in r&&(n.opacity=parseFloat(r[d.UserProfileGlobalKeys.OPACITY])),d.UserProfileGlobalKeys.MAP_SHOW_ZOOM_SLIDER in r&&(n.mapShowZoomSlider=Object(m.b)(r[d.UserProfileGlobalKeys.MAP_SHOW_ZOOM_SLIDER])),d.UserProfileGlobalKeys.MAP_SHOW_SCALE_BAR in r&&(n.mapShowScaleBar=Object(m.b)(r[d.UserProfileGlobalKeys.MAP_SHOW_SCALE_BAR])),n}),i(o,h.a.ADD_MAP_VIEWER,function(t,e){var n=e.payload,r=n.wid,o=n.options;return g({},t,{byId:g({},t.byId,i({},r,g({},o)))})}),i(o,h.a.CLONE_MAP_VIEWER,function(t,e){var n=t.byId,r=e.payload,o=r.toId,a=r.fromId;return g({},t,{byId:g({},n,i({},o,g({},n[a])))})}),i(o,h.a.REMOVE_MAP_VIEWER,function(t,e){var n=t.byId,i=(n[e.payload.id],r(n,[e.payload.id]));return g({},t,{byId:i})}),i(o,h.a.UPDATE_MAP_VIEWER_PARAMS,function(t,e){var n=e.payload,r=n.wid,o=n.options,a=g({},t.byId),s=g({},a[r]),u=g({},s,o);return g({},t,{byId:g({},t.byId,i({},r,g({},u)))})}),i(o,h.a.SET_MAP_CENTER,function(t,e){var n=e.payload,r=n.wid,i=n.center;return y(r,t,{center:i,extent:void 0})}),i(o,h.a.SET_MAP_RESOLUTION,function(t,e){var n=e.payload,r=n.wid,i=n.resolution;return y(r,t,{resolution:i})}),i(o,h.a.SET_MAP_ZOOM_SLIDER_VISIBILITY,function(t,e){var n=e.payload,r=n.wid,i=n.showZoomSlider;return y(r,t,{showZoomSlider:i})}),i(o,h.a.SET_MAP_SCALE_BAR_VISIBILITY,function(t,e){var n=e.payload,r=n.wid,i=n.showScaleBar;return y(r,t,{showScaleBar:i})}),i(o,h.a.SET_ACTIVE_PANEL,function(t,e){var n=e.payload,r=n.wid,i=n.panel;return y(r,t,{activePanel:i})}),i(o,h.a.SET_STARTUP_MAP_EXTENT,{next:function(t,e){var n=e.payload,r=n.extent,i=n.srs;return g({},t,{startupExtent:{extent:r,srs:i}})},throw:p.b}),i(o,h.a.SET_OPACITY,{next:function(t,e){var n=e.payload.opacity;return g({},t,{opacity:n})},throw:p.b}),i(o,f.ActionTypes.LOGOUT,function(t,e){return g({},t,{byId:{}})}),o),v)},function(t,e,n){"use strict";function r(t,e,n){return e in t?c()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return u()(t)}function o(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var a,s=n(31),u=n.n(s),l=n(1),c=n.n(l),h=n(4),f=n.n(h),d=n(18),p=(n.n(d),n(141)),m=n(73),g=n(27),v=n(54),y=n(95),b=n(140),w=n(147),x=n(110),E=f.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},M={typeSelectionModalVisible:!1,measurementChanged:!1,activeMeasurement:null,recording:null,measurementCollection:w.i(),geometryType:null,measureMethod:null,selectedMeasureMethod:null,allowedMeasureMethods:null,allowedToMeasure:!1,pendingCount:0,dimension:null,measurementList:[],activeMeasurementId:"",insertPointIndex:0},S=function(t,e,n){if(!t||!n)return null;var r=e||n[0]||null;return r!==m.MeasureMethod.DEPTH_MAP||t.hasDepthMap||(r=n[n.indexOf(r)+1]),r};e.a=Object(d.handleActions)((a={},r(a,g.ActionTypes.LOAD_USER_PROFILE,function(t,e){var n=E({},t),r=e.payload;if(m.MEASUREMENT_INDEX in r){var i=r[m.MEASUREMENT_INDEX];i=i&&0!==i.length&&""!==i?JSON.parse(r[m.MEASUREMENT_INDEX]):[],n.measurementList=i;var o=w.i();n.measurementList.forEach(function(t){if(t.id in r){var e=JSON.parse(r[t.id]);w.g(o,e)}}),n.measurementCollection=o}var a=t.activeMeasurementId;return a in r&&(n.activeMeasurement=JSON.parse(r[a])),n}),r(a,m.ActionTypes.SHOW_TYPE_SELECTION_MODAL,function(t,e){return E({},t,{typeSelectionModalVisible:!0})}),r(a,m.ActionTypes.HIDE_TYPE_SELECTION_MODAL,function(t,e){return E({},t,{typeSelectionModalVisible:!1})}),r(a,m.ActionTypes.SET_MEASUREMENT_CHANGED,function(t,e){return E({},t,{measurementChanged:!!e.payload})}),r(a,m.ActionTypes.SET_MEASURE_METHOD,function(t,e){var n=e.payload;return E({},t,{selectedMeasureMethod:n,measureMethod:n})}),r(a,m.ActionTypes.SELECT_BEST_MEASURE_METHOD,function(t,e){var n=t.recording,r=t.allowedMeasureMethods,i=r[0],o=S(n,i,r);return E({},t,{selectedMeasureMethod:i,measureMethod:o})}),r(a,m.ActionTypes.ADD_MEASUREMENT,function(t,e){var n=e.payload,r=n.measurementId,i=n.activeMeasurement,a=o(n,["measurementId","activeMeasurement"]),s=a.type,u=void 0,l=void 0;return u=i||w.j(E({},a,{dimension:t.dimension})),l="Point"===s?0:"LineString"===s?u.geometry.coordinates.length:"Polygon"===s?u.geometry.coordinates[0].length:0,E({},t,{activeMeasurement:u,geometryType:s,measurementId:r,pendingCount:0,insertPointIndex:l})}),r(a,m.ActionTypes.INCREASE_PENDING_MEASUREMENTS_COUNT,function(t,e){return E({},t,{pendingCount:t.pendingCount+1})}),r(a,m.ActionTypes.DECREASE_PENDING_MEASUREMENTS_COUNT,function(t,e){return E({},t,{pendingCount:t.pendingCount-1})}),r(a,m.ActionTypes.ADD_MEASUREMENT_POINT,function(t,e){var n=e.payload,r=n.coord,i=n.props,o=t.activeMeasurement,a=t.insertPointIndex,s=void 0,u=w.h(o,r,i,a);return s="Polygon"===u.geometry.type?u.geometry.coordinates[0].length:u.geometry.coordinates.length,E({},t,{activeMeasurement:u,insertPointIndex:s})}),r(a,m.ActionTypes.SET_INSERT_POINT_INDEX,function(t,e){var n=e.payload;return E({},t,{insertPointIndex:n})}),r(a,m.ActionTypes.REMOVE_MEASUREMENT_POINT,function(t,e){var n=e.payload,r=t.activeMeasurement,i=t.insertPointIndex,o=w.m(r,n);return E({},t,{activeMeasurement:o,insertPointIndex:i-1})}),r(a,m.ActionTypes.REMOVE_MEASUREMENT_ITEM,function(t,e){var n=t.measurementList,r=e.payload,o=n.findIndex(function(t){return r===t.name});return-1===o?t:E({},t,{measurementList:[].concat(i(n.slice(0,o)),i(n.slice(o+1)))})}),r(a,m.ActionTypes.SAVE_MEASUREMENT,function(t,e){for(var n=t.activeMeasurement,r=t.measurementCollection,i=t.measurementList,o=void 0,a=0;a<r.features.length;a++)r.features[a].properties.id===n.properties.id&&(o=a);var s=void 0;s=void 0===o?w.g(r,n):w.o(r,n,o);var u=_.cloneDeep(i);return s.features.forEach(function(t){for(var e=new Date,r=e.getDate()+"."+(e.getMonth()+1)+"."+e.getFullYear(),o=!1,a=0;a<i.length;a++)i[a].id===t.properties.id&&(o=!0);o||u.push({id:t.properties.id,name:t.properties.id,type:n.properties.dimension,time:r})}),E({},t,{measurementCollection:s,measurementList:u})}),r(a,m.ActionTypes.SET_ACTIVE_MEASUREMENT_ID,function(t,e){return E({},t,{activeMeasurementId:e.payload})}),r(a,m.ActionTypes.SET_MEASUREMENT_DIMENSION,function(t,e){return E({},t,{dimension:e.payload})}),r(a,v.ActionTypes.SET_VIEWER_MODE,function(t,e){return e.payload===v.ViewerMode.MEASUREMENT?t:E({},t,{typeSelectionModalVisible:!1,activeMeasurement:null,recording:null,geometryType:null,measureMethod:null,pendingCount:0,dimension:null})}),r(a,y.ActionTypes.UPDATE_RECORDING,function(t,e){if(!t.activeMeasurement)return t;var n=e.payload.recording,r=t.selectedMeasureMethod,i=t.allowedMeasureMethods,o=S(n,r,i);return E({},t,{measureMethod:o,recording:e.payload.recording})}),r(a,b.ActionTypes.LOAD_USER_CONFIG,{next:function(t,e){var n=e.payload.config.application.functionalities,r={MeasurePoint:n.includes(p.a.MeasurePoint),MeasureLine:n.includes(p.a.MeasureLine),MeasurePolygon:n.includes(p.a.MeasurePolygon),measureAdvanced:n.includes(p.a.MeasureAdvanced),MeasureSmartClick:n.includes(p.a.MeasureSmartClick),MeasureDepthMap:!0,ForwardIntersection:!0},i=r.MeasurePoint||r.MeasureLine||r.MeasurePolygon||r.measureAdvanced,o=[];return r.MeasureDepthMap&&o.push(m.MeasureMethod.DEPTH_MAP),r.MeasureSmartClick&&o.push(m.MeasureMethod.SMART_CLICK),E({},t,{allowedMeasureMethods:o,allowedToMeasure:i})},throw:x.b}),a),M)},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e,n){return e in t?f()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var o,a,s=n(51),u=n.n(s),l=n(59),c=n.n(l),h=n(1),f=n.n(h),d=n(4),p=n.n(d),m=n(18),g=(n.n(m),n(29)),v=n.n(g),y=n(95),b=n(109),w=n(377),x=n(270),_=n(241),E=n(110),M=p.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},S={recording:void 0,previousRecording:void 0,orientation:{xyz:[0,0,0],yawOffset:0,yaw:0,pitch:0,hFov:w.a},ui:M({},Object(E.a)(c()(x.a.buttons),{enabled:!0}),(o={},i(o,x.a.NAVBAR,{visible:!0,expanded:!0}),i(o,x.a.TIME_TRAVEL,{visible:!0}),i(o,x.a.RECORDINGS,{visible:!0}),i(o,x.a.SURFACE_CURSOR,{visible:!0}),o)),cubeProgram:_.a.SURFACE_CURSOR,activePanel:b.a.NONE},T=u()(S.orientation),C={byId:{}},I=Object(m.handleActions)((a={},i(a,y.ActionTypes.ADD_PANORAMA_VIEWER,function(t,e){return M({},S,e.payload.newEntry)}),i(a,y.ActionTypes.UPDATE_PANORAMA_VIEWER,function(t,e){return M({},t,e.payload.newState)}),i(a,y.ActionTypes.UPDATE_RECORDING,function(t,e){var n=e.payload.recording;return M({},t,{previousRecording:t.recording,recording:n,orientation:M({},t.orientation,{yawOffset:n?-n.orientation:S.orientation.yawOffset})})}),i(a,y.ActionTypes.UPDATE_PANORAMA_ORIENTATION,function(t,e){return M({},t,{orientation:v.a.defaults(v.a.pick(e.payload,T),t.orientation,S.orientation)})}),i(a,y.ActionTypes.TOGGLE_UI_STATE,E.c),i(a,y.ActionTypes.SET_ACTIVE_PANEL,function(t,e){var n=e.payload.panel;return M({},t,{activePanel:n})}),i(a,y.ActionTypes.SET_CUBE_PROGRAM,function(t,e){var n=e.payload.value;return M({},t,{cubeProgram:n})}),a),C);e.a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,e=arguments[1];switch(e.type){case y.ActionTypes.REMOVE_PANORAMA_VIEWER:var n=t.byId,o=(n[e.payload.id],r(n,[e.payload.id]));return M({},t,{byId:o});case y.ActionTypes.CLONE_PANORAMA_VIEWER:var a=e.payload,s=a.toId,u=a.fromId,l=t.byId;return M({},t,{byId:M({},l,i({},s,M({},l[u])))});case y.ActionTypes.ADD_PANORAMA_VIEWER:case y.ActionTypes.UPDATE_PANORAMA_VIEWER:case y.ActionTypes.UPDATE_RECORDING:case y.ActionTypes.UPDATE_PANORAMA_ORIENTATION:case y.ActionTypes.TOGGLE_UI_STATE:case y.ActionTypes.SET_ACTIVE_PANEL:case y.ActionTypes.SET_CUBE_PROGRAM:var c=e.payload.id;return M({},t,{byId:M({},t.byId,i({},c,I(t.byId[c],e)))});default:return t}}},function(t,e,n){"use strict";var r=n(1),i=n.n(r),o=n(4),a=n.n(o),s=n(18),u=(n.n(s),n(379)),l=a.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c={reportBlurringInfo:{imageId:"",imageParams:""}};e.a=Object(s.handleActions)(function(t,e,n){return e in t?i()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},u.ActionTypes.UPDATE_REPORT_BLURRING,function(t,e){return l({},t,{reportBlurringInfo:l({},t.reportBlurringInfo,e.payload)})}),c)},function(t,e,n){"use strict";var r=n(592);n.n(r);n.o(r,"routerReducer")&&n.d(e,"a",function(){return r.routerReducer})},function(t,e,n){"use strict";function r(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.selectLocationState,s=void 0===r?a:r,u=n.adjustUrlOnReplay,l=void 0===u||u;if(void 0===s(e.getState()))throw new Error("Expected the routing state to be available either as `state.routing` or as the custom expression you can specify as `selectLocationState` in the `syncHistoryWithStore()` options. Ensure you have added the `routerReducer` to your store's reducers via `combineReducers` or whatever method you use to isolate your reducers.");var c=void 0,h=void 0,f=void 0,d=void 0,p=void 0,m=function(t){return s(e.getState()).locationBeforeTransitions||(t?c:void 0)};if(c=m(),l){var g=function(){var e=m(!0);p!==e&&c!==e&&(h=!0,p=e,t.transitionTo(i({},e,{action:"PUSH"})),h=!1)};f=e.subscribe(g),g()}var v=function(t){h||(p=t,!c&&(c=t,m())||e.dispatch({type:o.LOCATION_CHANGE,payload:t}))};return d=t.listen(v),t.getCurrentLocation&&v(t.getCurrentLocation()),i({},t,{listen:function(n){var r=m(!0),i=!1,o=e.subscribe(function(){var t=m(!0);t!==r&&(r=t,i||n(r))});return t.getCurrentLocation||n(r),function(){i=!0,o()}},unsubscribe:function(){l&&f(),d()}})}Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.default=r;var o=n(593),a=function(t){return t.routing}},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function i(t){return function(){return function(e){return function(n){if(n.type!==o.CALL_HISTORY_METHOD)return e(n);var i=n.payload,a=i.method,s=i.args;t[a].apply(t,r(s))}}}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var o=n(594)},function(t,e,n){"use strict";function r(t,e,n){return e in t?l()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return s()(t)}var o,a=n(31),s=n.n(a),u=n(1),l=n.n(u),c=n(4),h=n.n(c),f=n(18),d=(n.n(f),n(595)),p=n(27),m=h.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},g={searchHistory:[]};e.a=Object(f.handleActions)((o={},r(o,p.ActionTypes.LOAD_USER_PROFILE,function(t,e){var n=m({},t),r=e.payload;return p.UserProfileConfigKeys.SEARCH_HISTORY in r&&(n.searchHistory=JSON.parse(r[p.UserProfileConfigKeys.SEARCH_HISTORY])),n}),r(o,d.a.ADD_SEARCH_HISTORY_ITEM,function(t,e){var n=t.searchHistory,r=e.payload,o=n.findIndex(function(t){return r.name===t.name});return-1===o&&(o=n.length),m({},t,{searchHistory:[r].concat(i(n.slice(0,o)),i(n.slice(o+1))).slice(0,10)})}),r(o,d.a.REMOVE_SEARCH_HISTORY_ITEM,function(t,e){var n=t.searchHistory,r=e.payload,o=n.findIndex(function(t){return r.name===t.name});return-1===o?t:m({},t,{searchHistory:[].concat(i(n.slice(0,o)),i(n.slice(o+1)))})}),r(o,d.a.CLEAR_SEARCH_HISTORY,function(t,e){return m({},t,{searchHistory:[]})}),o),g)},function(t,e,n){"use strict";function r(t,e,n){return e in t?a()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var i,o=n(1),a=n.n(o),s=n(4),u=n.n(s),l=n(18),c=(n.n(l),n(271)),h=n(27),f=n(140),d=n(44),p=n(110),m=u.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},g={userSrs:void 0,userSrsUnit:void 0};e.a=Object(l.handleActions)((i={},r(i,h.LOAD_USER_PROFILE,function(t,e){var n=m({},t),r=e.payload;return h.UserProfileConfigKeys.USER_SRS in r&&(n.userSrs=r[h.UserProfileConfigKeys.USER_SRS],n.userSrsUnit=d.i.getUnitsForSrs(n.userSrs).xyUnits),n}),r(i,f.LOAD_USER_CONFIG,{next:function(t,e){var n=t.userSrs||e.payload.config.viewer.defaultSrsName,r=d.i.getUnitsForSrs(n).xyUnits;return m({},t,{userSrs:n,userSrsUnit:r})},throw:p.b}),r(i,c.LOAD_SRS_LIST,function(t,e){return m({},e.payload)}),r(i,c.USER_SRS,function(t,e){var n=e.payload.userSrs,r=d.i.getUnitsForSrs(n).xyUnits;return m({},t,{userSrs:n,userSrsUnit:r})}),i),g)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t){return[parseFloat(t.MinX),parseFloat(t.MinY),parseFloat(t.MaxX),parseFloat(t.MaxY)]}var o=n(1),a=n.n(o),s=n(17),u=n.n(s),l=n(32),c=n.n(l),h=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),a()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=function(){function t(){r(this,t)}return h(t,[{key:"getBySRSName",value:function(t){return this.srs.filter(function(e){return e.SRSName===t})}},{key:"getByWGSCoord",value:function(t,e){return this.srs.filter(function(n){return t>=n.WGSBounds[0]&&t<=n.WGSBounds[2]&&e>=n.WGSBounds[1]&&e<=n.WGSBounds[3]})}}]),t}(),d=function(){function t(){r(this,t)}return h(t,[{key:"origin",get:function(){return u.a.extent.getTopLeft(this.NativeBounds)}}]),t}(),p=function(){function t(){r(this,t)}return h(t,[{key:"parseSRS",value:function(t){var e=t.SpatialReferences.SpatialReference,n=new f;n.srs=[];for(var r=0;r<e.length;r++)if("string"==typeof e[r].Proj4){var o=new d;o.Name=e[r].Name,o.SRSName=e[r].SRSName,o.SRSDimension=e[r].SRSDimension,o.Units=e[r].Units,o.Proj4=e[r].Proj4,o.ESRICompatibleName=e[r].ESRICompatibleName,o.NativeBounds=i(e[r].NativeBounds),o.WGSBounds=i(e[r].WGSBounds),n.srs.push(o)}else c.a.warn(e[r].SRSName+" has no Proj4 provided!");return n}}]),t}();e.a=p},function(t,e,n){"use strict";function r(t,e,n){return e in t?l()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){if(t.stage>=b.StageState.READY)return t;var n=x({},t,{partsLoaded:t.partsLoaded+1});return n[E[e.type]]=!0,n.srsLoaded&&n.configLoaded&&n.userInfoLoaded&&n.localeLoaded&&(!n.userProfileEnabled||n.userProfileLoaded)&&(n.stage=b.StageState.READY),n}function o(t,e){p.a.error("Stage load error: "+e.type+" / "+e.payload)}var a,s,u=n(1),l=n.n(u),c=n(4),h=n.n(c),f=n(18),d=(n.n(f),n(32)),p=n.n(d),m=n(140),g=n(271),v=n(269),y=n(174),b=n(596),w=n(27),x=h.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_={stage:b.StageState.START_UP,appInitComplete:!1,userInfoLoaded:!1,configLoaded:!1,srsLoaded:!1,localeLoaded:!1,userProfileLoaded:!1,userProfileEnabled:!0,partsLoaded:0,partsToLoad:99},E=(a={},r(a,m.ActionTypes.LOAD_USER_CONFIG,"configLoaded"),r(a,m.ActionTypes.LOAD_USER_INFO,"userInfoLoaded"),r(a,v.ActionTypes.SET_LOCALE,"localeLoaded"),r(a,g.ActionTypes.LOAD_SRS_LIST,"srsLoaded"),r(a,w.ActionTypes.LOAD_USER_PROFILE,"userProfileLoaded"),a),M={next:i,throw:o};e.a=Object(f.handleActions)((s={},r(s,v.ActionTypes.SET_LOCALE,M),r(s,m.ActionTypes.LOAD_USER_INFO,M),r(s,m.ActionTypes.LOAD_USER_CONFIG,M),r(s,g.ActionTypes.LOAD_SRS_LIST,M),r(s,w.ActionTypes.LOAD_USER_PROFILE,M),r(s,b.ActionTypes.APP_INIT_START,function(t,e){var n=e.payload.isApi;return x({},t,{appInitComplete:!1,userProfileEnabled:!n,partsToLoad:n?4:5})}),r(s,b.ActionTypes.APP_INIT_COMPLETE,function(t,e){return x({},t,{appInitComplete:!0})}),r(s,b.ActionTypes.SET_STAGE_STATE,function(t,e){return x({},t,{stage:e.payload.stage,detail:e.payload.detail})}),r(s,y.ActionTypes.LOGOUT,function(t,e){return x({},t,{configLoaded:!1,userInfoLoaded:!1,stage:b.StageState.START_UP})}),s),_)},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e,n){return e in t?u()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var o,a,s=n(1),u=n.n(s),l=n(4),c=n.n(l),h=n(121),f=n(272),d=n(273),p=n(1376),m=n(1377),g=c.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},v={visible:!1,times:[],timesValues:{},time:Date.now(),thumbnailUrl:null,viewerType:null},y={byId:{},serviceUrls:{panoramaTilesUrls:null,obliqueTileUrl:null}},b=(o={},i(o,h.TimeTravelType.PANORAMA,p.a),i(o,h.TimeTravelType.OBLIQUE,m.a),o),w=(a={},i(a,h.TimeTravelType.PANORAMA,g({},v,p.b)),i(a,h.TimeTravelType.OBLIQUE,g({},v,m.b)),i(a,void 0,v),a),x=function(t,e){switch(e.type){case h.ActionTypes.ADD_TIMETRAVEL:var n=e.payload.viewerType;return g({},w[n],{viewerType:n});case h.ActionTypes.TOGGLE_TIMETRAVEL:var r=e.payload.visible;return g({},t,{visible:void 0===r?!t.visible:!!r});case h.ActionTypes.SET_TIME:var i=e.payload.time;return g({},t,{time:i});case h.ActionTypes.SET_TIMES_VALUES:var o=e.payload,a=o.times,s=o.timesValues;return g({},t,{times:a,timesValues:s});case h.ActionTypes.LOAD_THUMBNAIL:var u=e.payload.url;return g({},t,{thumbnailUrl:u});default:var l=b[t&&t.viewerType];return l?l(t,e):t}};e.a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,e=arguments[1];switch(e.type){case h.ActionTypes.SETUP:var n=e.payload,o=n.panoramaTilesUrls,a=n.obliqueTileUrl;return g({},t,{serviceUrls:{panoramaTilesUrls:o,obliqueTileUrl:a}});case h.ActionTypes.REMOVE_TIMETRAVEL:var s=t.byId,u=(s[e.payload.id],r(s,[e.payload.id]));return g({},t,{byId:u});case h.ActionTypes.ADD_TIMETRAVEL:case h.ActionTypes.TOGGLE_TIMETRAVEL:case h.ActionTypes.SET_TIME:case h.ActionTypes.SET_TIMES_VALUES:case f.a.SET_YAW_OFFSET:case d.a.SET_HISTORY_RECORDINGS:case d.a.SET_THUMBNAIL_STYLE:case h.ActionTypes.LOAD_THUMBNAIL:var l=e.payload.id;return g({},t,{byId:g({},t.byId,i({},l,x(t.byId[l],e)))});default:return t}}},function(t,e,n){"use strict";n.d(e,"b",function(){return c});var r=n(1),i=n.n(r),o=n(4),a=n.n(o),s=n(18),u=(n.n(s),n(272)),l=a.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c={yawOffset:0};e.a=Object(s.handleActions)(function(t,e,n){return e in t?i()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},u.a.SET_YAW_OFFSET,function(t,e){return l({},t,{yawOffset:e.payload.yawOffset||0})}),c)},function(t,e,n){"use strict";function r(t,e,n){return e in t?a()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"b",function(){return d});var i,o=n(1),a=n.n(o),s=n(4),u=n.n(s),l=n(18),c=(n.n(l),n(273)),h=n(274),f=u.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},d={historyRecordings:[],thumbnailStyle:{height:h.a,width:h.a,left:void 0,top:void 0,right:void 0,bottom:void 0}};e.a=Object(l.handleActions)((i={},r(i,c.a.SET_HISTORY_RECORDINGS,function(t,e){var n=e.payload.historyRecordings;return f({},t,{historyRecordings:n})}),r(i,c.a.SET_THUMBNAIL_STYLE,function(t,e){var n=e.payload.style;return f({},t,{thumbnailStyle:n})}),i),d)},function(t,e,n){"use strict";function r(t,e,n){return e in t?a()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var i,o=n(1),a=n.n(o),s=n(4),u=n.n(s),l=n(18),c=(n.n(l),n(599)),h=u.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f={active:!1,step:-1,steps:[]};e.a=Object(l.handleActions)((i={},r(i,c.START_TOUR,function(t,e){return h({},t,{steps:e.payload,step:1,active:!0})}),r(i,c.SET_TOUR_STEP,function(t,e){return h({},t,{step:e.payload})}),r(i,c.END_TOUR,function(t,e){return h({},t,{active:!1})}),i),f)},function(t,e,n){"use strict";function r(t,e,n){return e in t?a()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var i,o=n(1),a=n.n(o),s=n(4),u=n.n(s),l=n(18),c=(n.n(l),n(27)),h=n(110),f=u.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},d=function(t,e){var n=e.payload,i=n.key,o=n.value;return f({},t,r({},i,o))};e.a=Object(l.handleActions)((i={},r(i,c.ActionTypes.LOAD_USER_PROFILE,{next:function(t,e){return f({},t,e.payload)},throw:h.b}),r(i,c.ActionTypes.SET_PROFILE_CONFIG,d),r(i,c.ActionTypes.SET_PROFILE_GLOBAL,d),r(i,c.ActionTypes.REMOVE_PROFILE_CONFIG,function(t,e){var n=f({},t),r=e.payload.key;return r in n&&delete n[r],n}),i),null)},function(t,e,n){"use strict";function r(t,e,n){return e in t?a()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var i,o=n(1),a=n.n(o),s=n(4),u=n.n(s),l=n(18),c=(n.n(l),n(54)),h=u.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f={viewerMode:c.ViewerMode.VIEWER,currentPanoramaWID:null,helpVisible:!1,reportBlurringVisible:!1};e.a=Object(l.handleActions)((i={},r(i,c.ActionTypes.SET_VIEWER_MODE,function(t,e){return h({},t,{viewerMode:e.payload})}),r(i,c.ActionTypes.SET_CURRENT_PANORAMA_WID,function(t,e){return h({},t,{currentPanoramaWID:e.payload})}),r(i,c.ActionTypes.TOGGLE_HELP,function(t,e){var n=e.payload;return h({},t,{helpVisible:void 0!==n?!!n:!t.helpVisible})}),r(i,c.ActionTypes.TOGGLE_REPORT_BLURRING,function(t,e){var n=e.payload;return h({},t,{reportBlurringVisible:void 0!==n?!!n:!t.reportBlurringVisible})}),i),f)},function(t,e,n){"use strict";var r=n(140),i=n(591),o=n(72),a=n(269),s=n(212),u=n(256),l=n(67),c=n(174),h=n(73),f=n(146),d=n(95),p=n(379),m=n(380),g=n(264),v=n(271),y=n(596),b=n(1382),w=n(121),x=n(599),_=n(27),E=n(54),M=n(145);e.a={config:r,customerlogo:i,flash:o,intl:a,layer:s,link:u,logging:l,login:c,measurements:h,obliqueviewer:f,panoramaviewer:d,reportblurring:p,routing:m,search:g,srs:v,stage:y,systeminfo:b,timetravel:w,tour:x,userprofile:_,viewermanager:E,windowmanager:M}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){function r(t){return function(){var e=t.apply(this,arguments);return new s.a(function(t,n){function r(i,o){try{var a=e[i](o),u=a.value}catch(t){return void n(t)}if(!a.done)return s.a.resolve(u).then(function(t){r("next",t)},function(t){r("throw",t)});t(u)}return r("next")})}}n.d(e,"LOAD_SYSTEM_INFO",function(){return f}),n.d(e,"loadSystemInfo",function(){return p}),n.d(e,"getSystemInfo",function(){return g});var i=n(24),o=n.n(i),a=n(23),s=n.n(a),u=n(18),l=(n.n(u),n(29)),c=n.n(l),h=this,f="@@systeminfo/LOAD_SYSTEM_INFO",d=function(){var e=t,n=e.navigator,r={};if(["userAgent","appName","appVersion","appMinorVersion","appCodeName","language","browserLanguage","userLanguage","platform","product","productSub","vendor","vendorSub","cookieEnabled","doNotTrack"].forEach(function(t){r[t]=t in n&&""!==n[t]?String(n[t]):"-"}),n.plugins){for(var i=n.plugins,o=[],a=0,s=i.length;a<s;a++){var u=i[a];o.push(u.name),""!==u.description&&o.push("  "+u.description)}r.plugins=o.join("\n")}return r},p=Object(u.createAction)(f,r(o.a.mark(function t(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=d(),!c.a.isEmpty(e)){t.next=3;break}throw new Error("Could not load system info!");case 3:return t.abrupt("return",e);case 4:case"end":return t.stop()}},t,this)}))),m=void 0,g=function(){return function(){var t=r(o.a.mark(function t(e){var n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(m){t.next=7;break}return t.next=3,e(p());case 3:if(n=t.sent,!n.error){t.next=6;break}throw n.payload;case 6:m=n.payload;case 7:return t.abrupt("return",m);case 8:case"end":return t.stop()}},t,h)}));return function(e){return t.apply(this,arguments)}}()}}.call(e,n(34))},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=m()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(d.a?d()(t,e):t.__proto__=e)}n.d(e,"a",function(){return R});var a=n(59),s=n.n(a),u=n(51),l=n.n(u),c=n(10),h=n.n(c),f=n(9),d=n.n(f),p=n(5),m=n.n(p),g=n(1),v=n.n(g),y=n(32),b=n.n(y),w=n(3),x=n.n(w),_=n(0),E=n.n(_),M=n(36),S=(n.n(M),n(1384)),T=n(1385),C=n(1414),I=n(82),O=n(615),A=n(481),L=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),v()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),R=function(t){function e(){var t;r(this,e);for(var n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];var s=i(this,(t=e.__proto__||h()(e)).call.apply(t,[this].concat(o)));return s.getCmtNode=s.getCmtNode.bind(s),s}return o(e,t),L(e,[{key:"getChildContext",value:function(){return{rootElement:this.node}}},{key:"componentDidMount",value:function(){var t=this,e=this.props.store;e||b.a.error("No store available"),e.subscribe(function(){return t.forceUpdate()})}},{key:"getCmtNode",value:function(t){this.node=t,this.forceUpdate()}},{key:"render",value:function(){var t=this.props,e=t.store,n=t.style;if(!e)return null;var r=e.getState(),i=r.measurements,o=r.panoramaviewer,a=l()(o.byId),u=s()(o.byId);return i&&a.length>=1&&(this.activeMeasurement!==i.activeMeasurement&&(A.measurementChanged(i.activeMeasurement,a[0]),this.currentPanoramaviewer=u[0]),null===this.activeMeasurement&&void 0!==this.currentPanoramaviewer&&this.currentPanoramaviewer!==u[0]&&(A.measurementChanged(i.activeMeasurement,a[0]),this.currentPanoramaviewer=void 0),this.activeMeasurement=i.activeMeasurement),E.a.createElement("div",{ref:this.getCmtNode,className:"cmt"},E.a.createElement(M.Provider,{store:e},E.a.createElement(S.a,{defaultLocale:"en-GB"},E.a.createElement("div",{id:"streetSmartApi",style:n},E.a.createElement(I.a,null),this.props.children||E.a.createElement(T.a,{setComponentRef:O.d}),i.typeSelectionModalVisible&&E.a.createElement(C.a,null)))))}}]),e}(_.Component);R.propTypes={store:x.a.object,style:x.a.object,children:x.a.object},R.childContextTypes={rootElement:E.a.PropTypes.object}},function(t,e,n){"use strict";var r=n(4),i=n.n(r),o=n(15),a=(n.n(o),n(36)),s=(n.n(a),i.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}),u=function(t){var e=t.intl;return s({},e,{key:e.locale})};e.a=Object(a.connect)(u)(o.IntlProvider)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=h()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(l.a?l()(t,e):t.__proto__=e)}var a=n(10),s=n.n(a),u=n(9),l=n.n(u),c=n(5),h=n.n(c),f=n(1),d=n.n(f),p=n(4),m=n.n(p),g=n(3),v=n.n(g),y=n(0),b=n.n(y),w=n(26),x=(n.n(w),n(36)),_=(n.n(x),n(38)),E=(n.n(_),n(30)),M=n(246),S=n(600),T=n(603),C=n(1398),I=n(1405),O=n(1412),A=n(141),L=n(613),R=n(145),N=n(95),P=n(146),k=n(54),D=n(257),F=n(1413),j=n(74),U=m.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},B=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),z=function(t){function e(){var t;r(this,e);for(var n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];var u=i(this,(t=e.__proto__||s()(e)).call.apply(t,[this].concat(o)));return u.colorManager=new L.a,u.state={helpLoaded:!1},u.onHelpLoaded=u.onHelpLoaded.bind(u),u.closeNode=u.closeNode.bind(u),u.onClosePanorama=u.onClosePanorama.bind(u),u.onCloseOblique=u.onCloseOblique.bind(u),u.onCloseHelp=u.onCloseHelp.bind(u),u.onCloseReportBlurring=u.onCloseReportBlurring.bind(u),u.onReportBlurringLoaded=u.onReportBlurringLoaded.bind(u),u}return o(e,t),B(e,[{key:"componentWillReceiveProps",value:function(t){var e=this.props,n=e.viewermanager.helpVisible,r=e.windowmanager,i=(r.layout,r.maxLengthWindows,t.viewermanager.helpVisible),o=t.windowmanager,a=o.layout,s=o.maxLengthWindows;n!==i&&this.setState({helpLoaded:!1});var u=a[D.b.PANORAMAS];if(u&&u.children.length>s)for(var l=this.props.actions,c=l.removeNode,h=l.removePanoramaViewer,f=u.children.length;--f>=s;){var d=u.children[f];c(d),h(d)}}},{key:"onHelpLoaded",value:function(){this.setState({helpLoaded:!0})}},{key:"onReportBlurringLoaded",value:function(){this.setState({reportBlurringLoaded:!0})}},{key:"onClosePanorama",value:function(t){this.closeNode(t),this.props.actions.removePanoramaViewer(t)}},{key:"onCloseOblique",value:function(t){this.closeNode(t),this.props.actions.removeObliqueViewer(t)}},{key:"onCloseHelp",value:function(){this.props.actions.toggleHelp(!1)}},{key:"onCloseReportBlurring",value:function(){this.props.actions.toggleReportBlurring(!1)}},{key:"closeNode",value:function(t){this.props.actions.removeNode(t)}},{key:"createMapViewer",value:function(t){var e=this.props,n=e.windowmanager,r=(n.layout,n.windowLoadingCount),i=e.viewermanager.viewerMode,o={id:t,openViewer:this.props.openViewer,openObliqueViewer:this.props.openObliqueViewer},a=i===k.ViewerMode.VIEWER;return b.a.createElement(S.a,{key:t,wid:t,className:"flexItem",maximizable:a,closable:!1,isLoading:!!r.get(t)},b.a.createElement(M.a,U({ref:t},o)))}},{key:"createPanoramaViewer",value:function(t){var e=this,n=this.props,r=n.config.config,i=r.application.functionalities,o=r.services,a=o.recording.onlineResource,s=o.panoramaTile.onlineResources,u=o.depthTile,l=n.windowmanager,c=l.layout,h=l.windowLoadingCount,f=n.viewermanager.viewerMode,d=i.includes(A.a.MeasureSmart)&&u?u.onlineResources:void 0,p={id:t,recordingsUrl:a,panoramaTilesUrls:s,depthTilesUrls:d,colorManager:this.colorManager,onPanoramaChange:this.props.onPanoramaChange,recordingsVisible:!0,isLoading:!!h.get(t)};this.props.config.isApi&&this.props.setComponentRef&&(p.ref=function(n){n&&n.getWrappedInstance&&e.props.setComponentRef(t,{component:n.getWrappedInstance()})});var m=f===k.ViewerMode.VIEWER,g=c[t],v=g.maximizable,y=g.closable;return b.a.createElement(S.a,{className:"viewer flexItem",key:t,wid:t,maximizable:m&&v,closable:m&&y,onClose:this.onClosePanorama,isLoading:!!h.get(t)},b.a.createElement(T.a,p))}},{key:"createObliqueViewer",value:function(t){var e=this,n=this.props,r=n.config.config.services.obliqueTile.onlineResource,i=n.windowmanager,o=i.layout,a=i.windowLoadingCount,s={id:t,colorManager:this.colorManager,obliqueTilesUrl:r};this.props.config.isApi&&this.props.setComponentRef&&(s.ref=function(n){n&&n.getWrappedInstance&&e.props.setComponentRef(t,{component:n.getWrappedInstance()})});var u=this.props.viewermanager.viewerMode===k.ViewerMode.VIEWER,l=o[t],c=l.maximizable,h=l.closable;return b.a.createElement(S.a,{key:t,wid:t,className:"viewer flexItem",maximizable:u&&c,closable:u&&h,onClose:this.onCloseOblique,isLoading:!!a.get(t)},b.a.createElement(C.a,s))}},{key:"createHelpPanel",value:function(t){var e=this.props.windowmanager.layout,n=this.context.intl.locale,r=this.props.config.config.application.helpUrl,i=F.a[n];return""!==i&&(r+="/"+i),b.a.createElement(S.a,{key:t,wid:t,maximizable:!0,onClose:this.onCloseHelp,className:"flexItem help-window",style:Object(D.f)(e[t].weight)},b.a.createElement(w.Panel,{className:"help"},!this.state.helpLoaded&&b.a.createElement("img",{className:"loadImg",src:Object(j.a)("./assets/img/loading.gif"),alt:""}),b.a.createElement("iframe",{src:r,onLoad:this.onHelpLoaded})))}},{key:"createReportBlurringPanel",value:function(t){var e=this.props.windowmanager.layout;return b.a.createElement(S.a,{key:t,wid:t,onClose:this.onCloseReportBlurring,className:"flexItem help-window",style:Object(D.f)(e[t].weight)},b.a.createElement(w.Panel,{className:"help"},b.a.createElement(O.a,null)))}},{key:"createMeasurementNavBar",value:function(t){return b.a.createElement(I.a,{key:t})}},{key:"renderNode",value:function(t,e){var n=this,r=this.props.windowmanager.layout[t];if(r.type===D.c.CONTAINER&&0===r.children.length)return null;var i=r.direction||e;switch(r.type){case D.c.MAP_VIEWER:return this.createMapViewer(t);case D.c.PANORAMA_VIEWER:return this.createPanoramaViewer(t);case D.c.OBLIQUE_VIEWER:return this.createObliqueViewer(t);case D.c.HELP:return this.createHelpPanel(t);case D.c.REPORT_BLURRING:return this.createReportBlurringPanel(t);case D.c.MEASUREMENT_NAVBAR:return this.createMeasurementNavBar(t);case D.c.CONTAINER:return b.a.createElement("div",{key:t,className:Object(D.e)(i),style:Object(D.f)(r.weight)},r.children.map(function(t){return n.renderNode(t,Object(D.d)(i))}))}return null}},{key:"render",value:function(){var t=D.b.ROOT,e=this.props.windowmanager.layout[t].direction;return b.a.createElement("div",{className:"flexItem window-manager-container "+Object(D.e)(Object(D.d)(e))},this.renderNode(t,e))}}]),e}(E.a);z.propTypes={openViewer:v.a.func,openObliqueViewer:v.a.func,onPanoramaChange:v.a.func,viewermanager:v.a.object,windowmanager:v.a.object,actions:v.a.object,config:v.a.object,setComponentRef:v.a.func};var V=function(t){return{windowmanager:t.windowmanager,config:t.config,viewermanager:t.viewermanager}},G=function(t){return{actions:Object(_.bindActionCreators)(U({},R.default,N.default,P.default,k.default),t)}};e.a=Object(x.connect)(V,G)(z)},function(t,e){!function(){"use strict";var e="undefined"!=typeof window&&void 0!==window.document?window.document:{},n=void 0!==t&&t.exports,r="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,i=function(){for(var t,n=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],r=0,i=n.length,o={};r<i;r++)if((t=n[r])&&t[1]in e){for(r=0;r<t.length;r++)o[n[0][r]]=t[r];return o}return!1}(),o={change:i.fullscreenchange,error:i.fullscreenerror},a={request:function(t){var n=i.requestFullscreen;t=t||e.documentElement,/5\.1[.\d]* Safari/.test(navigator.userAgent)?t[n]():t[n](r&&Element.ALLOW_KEYBOARD_INPUT)},exit:function(){e[i.exitFullscreen]()},toggle:function(t){this.isFullscreen?this.exit():this.request(t)},onchange:function(t){this.on("change",t)},onerror:function(t){this.on("error",t)},on:function(t,n){var r=o[t];r&&e.addEventListener(r,n,!1)},off:function(t,n){var r=o[t];r&&e.removeEventListener(r,n,!1)},raw:i};if(!i)return void(n?t.exports=!1:window.screenfull=!1);Object.defineProperties(a,{isFullscreen:{get:function(){return Boolean(e[i.fullscreenElement])}},element:{enumerable:!0,get:function(){return e[i.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return Boolean(e[i.fullscreenEnabled])}}}),n?t.exports=a:window.screenfull=a}()},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=h()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(l.a?l()(t,e):t.__proto__=e)}n.d(e,"a",function(){return I});var a=n(10),s=n.n(a),u=n(9),l=n.n(u),c=n(5),h=n.n(c),f=n(1),d=n.n(f),p=n(4),m=n.n(p),g=n(3),v=n.n(g),y=n(0),b=n.n(y),w=n(36),x=(n.n(w),n(26)),_=(n.n(x),n(30)),E=n(108),M=n(94),S=n(602),T=m.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},C=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),I={Close:1,Maximize:4,Restore:8},O=function(t){function e(){var t;r(this,e);for(var n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];return i(this,(t=e.__proto__||s()(e)).call.apply(t,[this].concat(o)))}return o(e,t),C(e,[{key:"renderButton",value:function(t){var e=t.key,n=t.glyph,r=t.onClick,i=void 0===r?void 0:r,o=t.tooltip,a=void 0===o?void 0:o,s=b.a.createElement(x.Button,{key:e,onClick:i},b.a.createElement(M.c,{glyph:n}));return a?b.a.createElement(E.a,T({key:e,placement:"bottom"},a),s):s}},{key:"renderMaximizeButton",value:function(){return this.renderButton({key:"maximize",glyph:M.a.Maximize,tooltip:S.a.maximize,onClick:this.props.onMaximize})}},{key:"renderRestoreButton",value:function(){return this.renderButton({key:"restore",glyph:M.a.Restore,tooltip:S.a.restore,onClick:this.props.onRestore})}},{key:"renderCloseButton",value:function(){return this.renderButton({key:"close",glyph:M.a.Close,tooltip:S.a.close,onClick:this.props.onClose})}},{key:"render",value:function(){var t=this,e=this.props,n=e.controls||0,r=[],i=function(){e.maximized?r.push(t.renderRestoreButton()):r.push(t.renderMaximizeButton())};return e.isApi?n&I.Maximize&&i():i(),n&I.Close&&!e.maximized&&r.push(this.renderCloseButton()),b.a.createElement(x.ButtonToolbar,{className:"windowcontrols"},b.a.createElement(x.ButtonGroup,null,r))}}]),e}(_.a);O.propTypes={maximized:v.a.bool},O.defaultProps={maximized:!1};var A=function(t){return{isApi:t.config.isApi}};e.b=Object(w.connect)(A)(O)},function(t,e,n){!function(t,n){n(e)}(0,function(t){"use strict";function e(){}function n(){}function r(){}function i(){}function o(){}function a(){}function s(){}function u(t){this.name="RuntimeException",this.message=t,this.stack=(new Error).stack,Error.call(this,t)}function l(){if(0===arguments.length)u.call(this);else if(1===arguments.length){var t=arguments[0];u.call(this,t)}}function c(){}function h(){if(this.x=null,this.y=null,this.z=null,0===arguments.length)h.call(this,0,0);else if(1===arguments.length){var t=arguments[0];h.call(this,t.x,t.y,t.z)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];h.call(this,e,n,h.NULL_ORDINATE)}else if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];this.x=r,this.y=i,this.z=o}}function f(){if(this.dimensionsToTest=2,0===arguments.length)f.call(this,2);else if(1===arguments.length){var t=arguments[0];if(2!==t&&3!==t)throw new n("only 2 or 3 dimensions may be specified");this.dimensionsToTest=t}}function d(){}function p(){}function m(t){this.message=t||""}function g(){}function v(t){this.message=t||""}function y(t){this.message=t||""}function b(){this.array_=[],arguments[0]instanceof p&&this.addAll(arguments[0])}function w(){if(b.apply(this),0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.ensureCapacity(t.length),this.add(t,!0)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.ensureCapacity(e.length),this.add(e,n)}}function x(){if(this.minx=null,this.maxx=null,this.miny=null,this.maxy=null,0===arguments.length)this.init();else if(1===arguments.length){if(arguments[0]instanceof h){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof x){var e=arguments[0];this.init(e)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.init(n.x,r.x,n.y,r.y)}else if(4===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2],s=arguments[3];this.init(i,o,a,s)}}function _(){}function E(){_.call(this,"Projective point not representable on the Cartesian plane.")}function M(){}function S(){}function T(t){this.str=t}function C(t){this.value=t}function I(){}function O(){if(this.hi=0,this.lo=0,0===arguments.length)this.init(0);else if(1===arguments.length){if("number"==typeof arguments[0]){var t=arguments[0];this.init(t)}else if(arguments[0]instanceof O){var e=arguments[0];this.init(e)}else if("string"==typeof arguments[0]){var n=arguments[0];O.call(this,O.parse(n))}}else if(2===arguments.length){var r=arguments[0],i=arguments[1];this.init(r,i)}}function A(){}function L(){}function R(){}function N(){if(this.x=null,this.y=null,this.w=null,0===arguments.length)this.x=0,this.y=0,this.w=1;else if(1===arguments.length){var t=arguments[0];this.x=t.x,this.y=t.y,this.w=1}else if(2===arguments.length){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var e=arguments[0],n=arguments[1];this.x=e,this.y=n,this.w=1}else if(arguments[0]instanceof N&&arguments[1]instanceof N){var r=arguments[0],i=arguments[1];this.x=r.y*i.w-i.y*r.w,this.y=i.x*r.w-r.x*i.w,this.w=r.x*i.y-i.x*r.y}else if(arguments[0]instanceof h&&arguments[1]instanceof h){var o=arguments[0],a=arguments[1];this.x=o.y-a.y,this.y=a.x-o.x,this.w=o.x*a.y-a.x*o.y}}else if(3===arguments.length){var s=arguments[0],u=arguments[1],l=arguments[2];this.x=s,this.y=u,this.w=l}else if(4===arguments.length){var c=arguments[0],f=arguments[1],d=arguments[2],p=arguments[3],m=c.y-f.y,g=f.x-c.x,v=c.x*f.y-f.x*c.y,y=d.y-p.y,b=p.x-d.x,w=d.x*p.y-p.x*d.y;this.x=g*w-b*v,this.y=y*v-m*w,this.w=m*b-y*g}}function P(){}function k(){}function D(){this.envelope=null,this.factory=null,this.SRID=null,this.userData=null;var t=arguments[0];this.factory=t,this.SRID=t.getSRID()}function F(){}function j(){}function U(){}function B(){}function z(){}function V(){}function G(){}function H(){}function q(){}function W(){}function Y(){}function X(){}function Z(){this.array_=[],arguments[0]instanceof p&&this.addAll(arguments[0])}function K(t){return null==t?la:t.color}function $(t){return null==t?null:t.parent}function Q(t,e){null!==t&&(t.color=e)}function J(t){return null==t?null:t.left}function tt(t){return null==t?null:t.right}function et(){this.root_=null,this.size_=0}function nt(){}function rt(){}function it(){this.array_=[],arguments[0]instanceof p&&this.addAll(arguments[0])}function ot(){}function at(){}function st(){}function ut(){}function lt(){this.geometries=null;var t=arguments[0],e=arguments[1];if(D.call(this,e),null===t&&(t=[]),D.hasNullElements(t))throw new n("geometries must not contain null elements");this.geometries=t}function ct(){var t=arguments[0],e=arguments[1];lt.call(this,t,e)}function ht(){if(this.geom=null,this.geomFact=null,this.bnRule=null,this.endpointMap=null,1===arguments.length){var t=arguments[0];ht.call(this,t,j.MOD2_BOUNDARY_RULE)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.geom=e,this.geomFact=e.getFactory(),this.bnRule=n}}function ft(){this.count=null}function dt(){}function pt(){}function mt(){}function gt(){}function vt(){}function yt(){}function bt(){}function wt(){}function xt(){this.points=null;var t=arguments[0],e=arguments[1];D.call(this,e),this.init(t)}function _t(){}function Et(){this.coordinates=null;var t=arguments[0],e=arguments[1];D.call(this,e),this.init(t)}function Mt(){}function St(){this.shell=null,this.holes=null;var t=arguments[0],e=arguments[1],r=arguments[2];if(D.call(this,r),null===t&&(t=this.getFactory().createLinearRing()),null===e&&(e=[]),D.hasNullElements(e))throw new n("holes must not contain null elements");if(t.isEmpty()&&D.hasNonEmptyElements(e))throw new n("shell is empty but holes are not");this.shell=t,this.holes=e}function Tt(){var t=arguments[0],e=arguments[1];lt.call(this,t,e)}function Ct(){if(arguments[0]instanceof h&&arguments[1]instanceof Jt){var t=arguments[0],e=arguments[1];Ct.call(this,e.getCoordinateSequenceFactory().create(t),e)}else if(sa(arguments[0],L)&&arguments[1]instanceof Jt){var n=arguments[0],r=arguments[1];xt.call(this,n,r),this.validateConstruction()}}function It(){var t=arguments[0],e=arguments[1];lt.call(this,t,e)}function Ot(){if(this.factory=null,this.isUserDataCopied=!1,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.factory=t}}function At(){}function Lt(){}function Rt(){}function Nt(){}function Pt(){if(this.dimension=3,this.coordinates=null,1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];Pt.call(this,t,3)}else if(Number.isInteger(arguments[0])){var e=arguments[0];this.coordinates=new Array(e).fill(null);for(var n=0;n<e;n++)this.coordinates[n]=new h}else if(sa(arguments[0],L)){var r=arguments[0];if(null===r)return this.coordinates=new Array(0).fill(null),null;this.dimension=r.getDimension(),this.coordinates=new Array(r.size()).fill(null);for(var n=0;n<this.coordinates.length;n++)this.coordinates[n]=r.getCoordinateCopy(n)}}else if(2===arguments.length)if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var i=arguments[0],o=arguments[1];this.coordinates=i,this.dimension=o,null===i&&(this.coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var a=arguments[0],s=arguments[1];this.coordinates=new Array(a).fill(null),this.dimension=s;for(var n=0;n<a;n++)this.coordinates[n]=new h}}function kt(){}function Dt(t,e){return t===e||t!==t&&e!==e}function Ft(t){this.add?t.forEach(this.add,this):t.forEach(function(t){this.set(t[0],t[1])},this)}function jt(t){return this.has(t)&&(this._keys.splice(ha,1),this._values.splice(ha,1),this._itp.forEach(function(t){ha<t[0]&&t[0]--})),ha>-1}function Ut(t){return this.has(t)?this._values[ha]:void 0}function Bt(t,e){if(this.objectOnly&&e!==Object(e))throw new TypeError("Invalid value used as weak collection key");if(e!==e||0===e)for(ha=t.length;ha--&&!Dt(t[ha],e););else ha=t.indexOf(e);return ha>-1}function zt(t){return Bt.call(this,this._keys,t)}function Vt(t,e){return this.has(t)?this._values[ha]=e:this._values[this._keys.push(t)-1]=e,this}function Gt(){(this._keys||0).length=this._values.length=0}function Ht(){return Yt(this._itp,this._keys)}function qt(){return Yt(this._itp,this._values)}function Wt(){return Yt(this._itp,this._keys,this._values)}function Yt(t,e,n){var r=[0],i=!1;return t.push(r),{next:function(){var o,a=r[0];return!i&&a<e.length?(o=n?[e[a],n[a]]:e[a],r[0]++):(i=!0,t.splice(t.indexOf(r),1)),{done:i,value:o}}}}function Xt(){return this._values.length}function Zt(t,e){for(var n=this.entries();;){var r=n.next();if(r.done)break;t.call(e,r.value[1],r.value[0],this)}}function Kt(){this.map_=new pa}function $t(){if(this.modelType=null,this.scale=null,0===arguments.length)this.modelType=$t.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof Qt){var t=arguments[0];this.modelType=t,t===$t.FIXED&&this.setScale(1)}else if("number"==typeof arguments[0]){var e=arguments[0];this.modelType=$t.FIXED,this.setScale(e)}else if(arguments[0]instanceof $t){var n=arguments[0];this.modelType=n.modelType,this.scale=n.scale}}function Qt(){this.name=null;var t=arguments[0];this.name=t,Qt.nameToTypeMap.put(t,this)}function Jt(){if(this.precisionModel=null,this.coordinateSequenceFactory=null,this.SRID=null,0===arguments.length)Jt.call(this,new $t,0);else if(1===arguments.length){if(sa(arguments[0],P)){var t=arguments[0];Jt.call(this,new $t,0,t)}else if(arguments[0]instanceof $t){var e=arguments[0];Jt.call(this,e,0,Jt.getDefaultCoordinateSequenceFactory())}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];Jt.call(this,n,r,Jt.getDefaultCoordinateSequenceFactory())}else if(3===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2];this.precisionModel=i,this.coordinateSequenceFactory=a,this.SRID=o}}function te(t){this.geometryFactory=t||new Jt}function ee(t){this.parser=new te(t)}function ne(){this.result=null,this.inputLines=Array(2).fill().map(function(){return Array(2)}),this.intPt=new Array(2).fill(null),this.intLineIndex=null,this._isProper=null,this.pa=null,this.pb=null,this.precisionModel=null,this.intPt[0]=new h,this.intPt[1]=new h,this.pa=this.intPt[0],this.pb=this.intPt[1],this.result=0}function re(){ne.apply(this)}function ie(){}function oe(){this.p=null,this.crossingCount=0,this.isPointOnSegment=!1;var t=arguments[0];this.p=t}function ae(){}function se(){if(this.p0=null,this.p1=null,0===arguments.length)se.call(this,new h,new h);else if(1===arguments.length){var t=arguments[0];se.call(this,t.p0,t.p1)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.p0=e,this.p1=n}else if(4===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2],a=arguments[3];se.call(this,new h(r,i),new h(o,a))}}function ue(){if(this.matrix=null,0===arguments.length)this.matrix=Array(3).fill().map(function(){return Array(3)}),this.setAll(at.FALSE);else if(1===arguments.length)if("string"==typeof arguments[0]){var t=arguments[0];ue.call(this),this.set(t)}else if(arguments[0]instanceof ue){var e=arguments[0];ue.call(this),this.matrix[M.INTERIOR][M.INTERIOR]=e.matrix[M.INTERIOR][M.INTERIOR],this.matrix[M.INTERIOR][M.BOUNDARY]=e.matrix[M.INTERIOR][M.BOUNDARY],this.matrix[M.INTERIOR][M.EXTERIOR]=e.matrix[M.INTERIOR][M.EXTERIOR],this.matrix[M.BOUNDARY][M.INTERIOR]=e.matrix[M.BOUNDARY][M.INTERIOR],this.matrix[M.BOUNDARY][M.BOUNDARY]=e.matrix[M.BOUNDARY][M.BOUNDARY],this.matrix[M.BOUNDARY][M.EXTERIOR]=e.matrix[M.BOUNDARY][M.EXTERIOR],this.matrix[M.EXTERIOR][M.INTERIOR]=e.matrix[M.EXTERIOR][M.INTERIOR],this.matrix[M.EXTERIOR][M.BOUNDARY]=e.matrix[M.EXTERIOR][M.BOUNDARY],this.matrix[M.EXTERIOR][M.EXTERIOR]=e.matrix[M.EXTERIOR][M.EXTERIOR]}}function le(){this.areaBasePt=null,this.triangleCent3=new h,this.areasum2=0,this.cg3=new h,this.lineCentSum=new h,this.totalLength=0,this.ptCount=0,this.ptCentSum=new h;var t=arguments[0];this.areaBasePt=null,this.add(t)}function ce(t){this.message=t||""}function he(){this.array_=[]}function fe(){this.treeSet=new it,this.list=new b}function de(){if(this.geomFactory=null,this.inputPts=null,1===arguments.length){var t=arguments[0];de.call(this,de.extractCoordinates(t),t.getFactory())}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.inputPts=fe.filterCoordinates(e),this.geomFactory=n}}function pe(){this.origin=null;var t=arguments[0];this.origin=t}function me(){this.inputGeom=null,this.factory=null,this.pruneEmptyGeometry=!0,this.preserveGeometryCollectionType=!0,this.preserveCollections=!1,this.preserveType=!1}function ge(){if(this.snapTolerance=0,this.srcPts=null,this.seg=new se,this.allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof xt&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];ge.call(this,t.getCoordinates(),e)}else if(arguments[0]instanceof Array&&"number"==typeof arguments[1]){var n=arguments[0],r=arguments[1];this.srcPts=n,this._isClosed=ge.isClosed(n),this.snapTolerance=r}}function ve(){this.srcGeom=null;var t=arguments[0];this.srcGeom=t}function ye(){if(me.apply(this),this.snapTolerance=null,this.snapPts=null,this.isSelfSnap=!1,2===arguments.length){var t=arguments[0],e=arguments[1];this.snapTolerance=t,this.snapPts=e}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this.snapTolerance=n,this.snapPts=r,this.isSelfSnap=i}}function be(){this.isFirst=!0,this.commonMantissaBitsCount=53,this.commonBits=0,this.commonSignExp=null}function we(){this.commonCoord=null,this.ccFilter=new xe}function xe(){this.commonBitsX=new be,this.commonBitsY=new be}function _e(){this.trans=null;var t=arguments[0];this.trans=t}function Ee(){this.parent=null,this.atStart=null,this.max=null,this.index=null,this.subcollectionIterator=null;var t=arguments[0];this.parent=t,this.atStart=!0,this.index=0,this.max=t.getNumGeometries()}function Me(){if(this.boundaryRule=j.OGC_SFS_BOUNDARY_RULE,this.isIn=null,this.numBoundaries=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];if(null===t)throw new n("Rule must be non-null");this.boundaryRule=t}}function Se(){}function Te(){}function Ce(){this.pts=null,this.data=null;var t=arguments[0],e=arguments[1];this.pts=t,this.data=e}function Ie(){}function Oe(){this.bounds=null,this.item=null;var t=arguments[0],e=arguments[1];this.bounds=t,this.item=e}function Ae(){this._size=null,this.items=null,this._size=0,this.items=new b,this.items.add(null)}function Le(){}function Re(){}function Ne(){if(this.childBoundables=new b,this.bounds=null,this.level=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.level=t}}function Pe(){this.boundable1=null,this.boundable2=null,this._distance=null,this.itemDistance=null;var t=arguments[0],e=arguments[1],n=arguments[2];this.boundable1=t,this.boundable2=e,this.itemDistance=n,this._distance=this.distance()}function ke(){if(this.root=null,this.built=!1,this.itemBoundables=new b,this.nodeCapacity=null,0===arguments.length)ke.call(this,ke.DEFAULT_NODE_CAPACITY);else if(1===arguments.length){var t=arguments[0];c.isTrue(t>1,"Node capacity must be greater than 1"),this.nodeCapacity=t}}function De(){}function Fe(){}function je(){if(0===arguments.length)je.call(this,je.DEFAULT_NODE_CAPACITY);else if(1===arguments.length){var t=arguments[0];ke.call(this,t)}}function Ue(){var t=arguments[0];Ne.call(this,t)}function Be(){}function ze(){this.segString=null,this.coord=null,this.segmentIndex=null,this.segmentOctant=null,this._isInterior=null;var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];this.segString=t,this.coord=new h(e),this.segmentIndex=n,this.segmentOctant=r,this._isInterior=!e.equals2D(t.getCoordinate(n))}function Ve(){this.nodeMap=new et,this.edge=null;var t=arguments[0];this.edge=t}function Ge(){this.nodeList=null,this.edge=null,this.nodeIt=null,this.currNode=null,this.nextNode=null,this.currSegIndex=0;var t=arguments[0];this.nodeList=t,this.edge=t.getEdge(),this.nodeIt=t.iterator(),this.readNextNode()}function He(){}function qe(){this.nodeList=new Ve(this),this.pts=null,this.data=null;var t=arguments[0],e=arguments[1];this.pts=t,this.data=e}function We(){this.tempEnv1=new x,this.tempEnv2=new x,this.overlapSeg1=new se,this.overlapSeg2=new se}function Ye(){this.pts=null,this.start=null,this.end=null,this.env=null,this.context=null,this.id=null;var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];this.pts=t,this.start=e,this.end=n,this.context=r}function Xe(){}function Ze(){}function Ke(){}function $e(){if(this.segInt=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.setSegmentIntersector(t)}}function Qe(){if(this.monoChains=new b,this.index=new je,this.idCounter=0,this.nodedSegStrings=null,this.nOverlaps=0,0===arguments.length);else if(1===arguments.length){var t=arguments[0];$e.call(this,t)}}function Je(){We.apply(this),this.si=null;var t=arguments[0];this.si=t}function tn(){if(this.pt=null,1===arguments.length){var t=arguments[0];u.call(this,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];u.call(this,tn.msgWithCoord(e,n)),this.name="TopologyException",this.pt=new h(n)}}function en(){}function nn(){this.findAllIntersections=!1,this.isCheckEndSegmentsOnly=!1,this.li=null,this.interiorIntersection=null,this.intSegments=null,this.intersections=new b,this.intersectionCount=0,this.keepIntersections=!0;var t=arguments[0];this.li=t,this.interiorIntersection=null}function rn(){this.li=new re,this.segStrings=null,this.findAllIntersections=!1,this.segInt=null,this._isValid=!0;var t=arguments[0];this.segStrings=t}function on(){this.nv=null;var t=arguments[0];this.nv=new rn(on.toSegmentStrings(t))}function an(){this.mapOp=null;var t=arguments[0];this.mapOp=t}function sn(){}function un(){if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];this.init(t.length)}else if(Number.isInteger(arguments[0])){var e=arguments[0];this.init(1),this.location[sn.ON]=e}else if(arguments[0]instanceof un){var n=arguments[0];if(this.init(n.location.length),null!==n)for(var r=0;r<this.location.length;r++)this.location[r]=n.location[r]}}else if(3===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2];this.init(3),this.location[sn.ON]=i,this.location[sn.LEFT]=o,this.location[sn.RIGHT]=a}}function ln(){if(this.elt=new Array(2).fill(null),1===arguments.length){if(Number.isInteger(arguments[0])){var t=arguments[0];this.elt[0]=new un(t),this.elt[1]=new un(t)}else if(arguments[0]instanceof ln){var e=arguments[0];this.elt[0]=new un(e.elt[0]),this.elt[1]=new un(e.elt[1])}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.elt[0]=new un(M.NONE),this.elt[1]=new un(M.NONE),this.elt[n].setLocation(r)}else if(3===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2];this.elt[0]=new un(i,o,a),this.elt[1]=new un(i,o,a)}else if(4===arguments.length){var s=arguments[0],u=arguments[1],l=arguments[2],c=arguments[3];this.elt[0]=new un(M.NONE,M.NONE,M.NONE),this.elt[1]=new un(M.NONE,M.NONE,M.NONE),this.elt[s].setLocations(u,l,c)}}function cn(){this.startDe=null,this.maxNodeDegree=-1,this.edges=new b,this.pts=new b,this.label=new ln(M.NONE),this.ring=null,this._isHole=null,this.shell=null,this.holes=new b,this.geometryFactory=null;var t=arguments[0],e=arguments[1];this.geometryFactory=e,this.computePoints(t),this.computeRing()}function hn(){var t=arguments[0],e=arguments[1];cn.call(this,t,e)}function fn(){var t=arguments[0],e=arguments[1];cn.call(this,t,e)}function dn(){if(this.label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.label=t}}function pn(){dn.apply(this),this.coord=null,this.edges=null;var t=arguments[0],e=arguments[1];this.coord=t,this.edges=e,this.label=new ln(0,M.NONE)}function mn(){this.nodeMap=new et,this.nodeFact=null;var t=arguments[0];this.nodeFact=t}function gn(){if(this.edge=null,this.label=null,this.node=null,this.p0=null,this.p1=null,this.dx=null,this.dy=null,this.quadrant=null,1===arguments.length){var t=arguments[0];this.edge=t}else if(3===arguments.length){var e=arguments[0],n=arguments[1],r=arguments[2];gn.call(this,e,n,r,null)}else if(4===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2],s=arguments[3];gn.call(this,i),this.init(o,a),this.label=s}}function vn(){this._isForward=null,this._isInResult=!1,this._isVisited=!1,this.sym=null,this.next=null,this.nextMin=null,this.edgeRing=null,this.minEdgeRing=null,this.depth=[0,-999,-999];var t=arguments[0],e=arguments[1];if(gn.call(this,t),this._isForward=e,e)this.init(t.getCoordinate(0),t.getCoordinate(1));else{var n=t.getNumPoints()-1;this.init(t.getCoordinate(n),t.getCoordinate(n-1))}this.computeDirectedLabel()}function yn(){}function bn(){if(this.edges=new b,this.nodes=null,this.edgeEndList=new b,0===arguments.length)this.nodes=new mn(new yn);else if(1===arguments.length){var t=arguments[0];this.nodes=new mn(t)}}function wn(){this.geometryFactory=null,this.shellList=new b;var t=arguments[0];this.geometryFactory=t}function xn(){this.op=null,this.geometryFactory=null,this.ptLocator=null,this.lineEdgesList=new b,this.resultLineList=new b;var t=arguments[0],e=arguments[1],n=arguments[2];this.op=t,this.geometryFactory=e,this.ptLocator=n}function _n(){this.op=null,this.geometryFactory=null,this.resultPointList=new b;var t=arguments[0],e=arguments[1];arguments[2],this.op=t,this.geometryFactory=e}function En(){}function Mn(){this.geom=null;var t=arguments[0];this.geom=t}function Sn(){this.edgeMap=new et,this.edgeList=null,this.ptInAreaLocation=[M.NONE,M.NONE]}function Tn(){Sn.apply(this),this.resultAreaEdgeList=null,this.label=null,this.SCANNING_FOR_INCOMING=1,this.LINKING_TO_OUTGOING=2}function Cn(){yn.apply(this)}function In(){this.mce=null,this.chainIndex=null;var t=arguments[0],e=arguments[1];this.mce=t,this.chainIndex=e}function On(){if(this.label=null,this.xValue=null,this.eventType=null,this.insertEvent=null,this.deleteEventIndex=null,this.obj=null,2===arguments.length){var t=arguments[0],e=arguments[1];this.eventType=On.DELETE,this.xValue=t,this.insertEvent=e}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this.eventType=On.INSERT,this.label=n,this.xValue=r,this.obj=i}}function An(){}function Ln(){this._hasIntersection=!1,this.hasProper=!1,this.hasProperInterior=!1,this.properIntersectionPoint=null,this.li=null,this.includeProper=null,this.recordIsolated=null,this.isSelfIntersection=null,this.numIntersections=0,this.numTests=0,this.bdyNodes=null,this._isDone=!1,this.isDoneWhenProperInt=!1;var t=arguments[0],e=arguments[1],n=arguments[2];this.li=t,this.includeProper=e,this.recordIsolated=n}function Rn(){An.apply(this),this.events=new b,this.nOverlaps=null}function Nn(){this.min=r.POSITIVE_INFINITY,this.max=r.NEGATIVE_INFINITY}function Pn(){}function kn(){Nn.apply(this),this.item=null;var t=arguments[0],e=arguments[1],n=arguments[2];this.min=t,this.max=e,this.item=n}function Dn(){Nn.apply(this),this.node1=null,this.node2=null;var t=arguments[0],e=arguments[1];this.node1=t,this.node2=e,this.buildExtent(this.node1,this.node2)}function Fn(){this.leaves=new b,this.root=null,this.level=0}function jn(){if(this.lines=null,this.isForcedToLineString=!1,1===arguments.length){var t=arguments[0];this.lines=t}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.lines=e,this.isForcedToLineString=n}}function Un(){this.items=new b}function Bn(){this.index=null;var t=arguments[0];if(!sa(t,Mt))throw new n("Argument must be Polygonal");this.index=new Vn(t)}function zn(){this.counter=null;var t=arguments[0];this.counter=t}function Vn(){this.index=new Fn;var t=arguments[0];this.init(t)}function Gn(){this.coord=null,this.segmentIndex=null,this.dist=null;var t=arguments[0],e=arguments[1],n=arguments[2];this.coord=new h(t),this.segmentIndex=e,this.dist=n}function Hn(){this.nodeMap=new et,this.edge=null;var t=arguments[0];this.edge=t}function qn(){}function Wn(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new x,this.env2=new x;var t=arguments[0];this.e=t,this.pts=t.getCoordinates();var e=new qn;this.startIndex=e.getChainStartIndices(this.pts)}function Yn(){this.depth=Array(2).fill().map(function(){return Array(3)});for(var t=0;t<2;t++)for(var e=0;e<3;e++)this.depth[t][e]=Yn.NULL_VALUE}function Xn(){if(dn.apply(this),this.pts=null,this.env=null,this.eiList=new Hn(this),this.name=null,this.mce=null,this._isIsolated=!0,this.depth=new Yn,this.depthDelta=0,1===arguments.length){var t=arguments[0];Xn.call(this,t,null)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.pts=e,this.label=n}}function Zn(){if(bn.apply(this),this.parentGeom=null,this.lineEdgeMap=new Kt,this.boundaryNodeRule=null,this.useBoundaryDeterminationRule=!0,this.argIndex=null,this.boundaryNodes=null,this._hasTooFewPoints=!1,this.invalidPoint=null,this.areaPtLocator=null,this.ptLocator=new Me,2===arguments.length){var t=arguments[0],e=arguments[1];Zn.call(this,t,e,j.OGC_SFS_BOUNDARY_RULE)}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this.argIndex=n,this.parentGeom=r,this.boundaryNodeRule=i,null!==r&&this.add(r)}}function Kn(){if(this.li=new re,this.resultPrecisionModel=null,this.arg=null,1===arguments.length){var t=arguments[0];this.setComputationPrecision(t.getPrecisionModel()),this.arg=new Array(1).fill(null),this.arg[0]=new Zn(0,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];Kn.call(this,e,n,j.OGC_SFS_BOUNDARY_RULE)}else if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];r.getPrecisionModel().compareTo(i.getPrecisionModel())>=0?this.setComputationPrecision(r.getPrecisionModel()):this.setComputationPrecision(i.getPrecisionModel()),this.arg=new Array(2).fill(null),this.arg[0]=new Zn(0,r,o),this.arg[1]=new Zn(1,i,o)}}function $n(){this.pts=null,this._orientation=null;var t=arguments[0];this.pts=t,this._orientation=$n.orientation(t)}function Qn(){this.edges=new b,this.ocaMap=new et}function Jn(){this.ptLocator=new Me,this.geomFact=null,this.resultGeom=null,this.graph=null,this.edgeList=new Qn,this.resultPolyList=new b,this.resultLineList=new b,this.resultPointList=new b;var t=arguments[0],e=arguments[1];Kn.call(this,t,e),this.graph=new bn(new Cn),this.geomFact=t.getFactory()}function tr(){this.geom=new Array(2).fill(null),this.snapTolerance=null,this.cbr=null;var t=arguments[0],e=arguments[1];this.geom[0]=t,this.geom[1]=e,this.computeSnapTolerance()}function er(){this.geom=new Array(2).fill(null);var t=arguments[0],e=arguments[1];this.geom[0]=t,this.geom[1]=e}function nr(){this.factory=null,this.interiorPoint=null,this.maxWidth=0;var t=arguments[0];this.factory=t.getFactory(),this.add(t)}function rr(){this.poly=null,this.centreY=null,this.hiY=r.MAX_VALUE,this.loY=-r.MAX_VALUE;var t=arguments[0];this.poly=t,this.hiY=t.getEnvelopeInternal().getMaxY(),this.loY=t.getEnvelopeInternal().getMinY(),this.centreY=nr.avg(this.loY,this.hiY)}function ir(){this.centroid=null,this.minDistance=r.MAX_VALUE,this.interiorPoint=null;var t=arguments[0];this.centroid=t.getCentroid().getCoordinate(),this.addInterior(t),null===this.interiorPoint&&this.addEndpoints(t)}function or(){this.centroid=null,this.minDistance=r.MAX_VALUE,this.interiorPoint=null;var t=arguments[0];this.centroid=t.getCentroid().getCoordinate(),this.add(t)}function ar(){this.tempEnv1=new x,this.selectedSegment=new se}function sr(){this.items=new b,this.subnode=[null,null]}function ur(){if(this.min=null,this.max=null,0===arguments.length)this.min=0,this.max=0;else if(1===arguments.length){var t=arguments[0];this.init(t.min,t.max)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.init(e,n)}}function lr(){}function cr(t,e){var n,r,i,o,a={32:{d:127,c:128,b:0,a:0},64:{d:32752,c:0,b:0,a:0}},s={32:8,64:11}[t];if(o||(n=e<0||1/e<0,isFinite(e)||(o=a[t],n&&(o.d+=1<<t/4-1),r=Math.pow(2,s)-1,i=0)),!o){for(r={32:127,64:1023}[t],i=Math.abs(e);i>=2;)r++,i/=2;for(;i<1&&r>0;)r--,i*=2;r<=0&&(i/=2),32===t&&r>254&&(o={d:n?255:127,c:128,b:0,a:0},r=Math.pow(2,s)-1,i=0)}return r}function hr(){this.pt=0,this.level=0,this.interval=null;var t=arguments[0];this.computeKey(t)}function fr(){sr.apply(this),this.interval=null,this.centre=null,this.level=null;var t=arguments[0],e=arguments[1];this.interval=t,this.level=e,this.centre=(t.getMin()+t.getMax())/2}function dr(){}function pr(){sr.apply(this)}function mr(){this.root=null,this.minExtent=1,this.root=new pr}function gr(){}function vr(){this.ring=null,this.tree=null,this.crossings=0,this.interval=new ur;var t=arguments[0];this.ring=t,this.buildIndex()}function yr(){ar.apply(this),this.mcp=null,this.p=null;var t=arguments[0],e=arguments[1];this.mcp=t,this.p=e}function br(){}function wr(){this.p0=null,this.p1=null,this.p2=null;var t=arguments[0],e=arguments[1],n=arguments[2];this.p0=t,this.p1=e,this.p2=n}function xr(){this.input=null,this.extremalPts=null,this.centre=null,this.radius=0;var t=arguments[0];this.input=t}function _r(){if(this.inputGeom=null,this.isConvex=null,this.convexHullPts=null,this.minBaseSeg=new se,this.minWidthPt=null,this.minPtIndex=null,this.minWidth=0,1===arguments.length){var t=arguments[0];_r.call(this,t,!1)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.inputGeom=e,this.isConvex=n}}function Er(){this.inputGeom=null,this.distanceTolerance=null;var t=arguments[0];this.inputGeom=t}function Mr(){me.apply(this),this.distanceTolerance=null;var t=arguments[0];this.distanceTolerance=t}function Sr(){this._orig=null,this._sym=null,this._next=null;var t=arguments[0];this._orig=t}function Tr(){this._isMarked=!1;var t=arguments[0];Sr.call(this,t)}function Cr(){this.vertexMap=new Kt}function Ir(){this._isStart=!1;var t=arguments[0];Tr.call(this,t)}function Or(){Cr.apply(this)}function Ar(){this.result=null,this.factory=null,this.graph=null,this.lines=new b,this.nodeEdgeStack=new he,this.ringStartEdge=null,this.graph=new Or}function Lr(){this.items=new b,this.subnode=new Array(4).fill(null)}function Rr(){this.pt=new h,this.level=0,this.env=null;var t=arguments[0];this.computeKey(t)}function Nr(){Lr.apply(this),this.env=null,this.centrex=null,this.centrey=null,this.level=null;var t=arguments[0],e=arguments[1];this.env=t,this.level=e,this.centrex=(t.getMinX()+t.getMaxX())/2,this.centrey=(t.getMinY()+t.getMaxY())/2}function Pr(){Lr.apply(this)}function kr(){this.root=null,this.minExtent=1,this.root=new Pr}function Dr(t){this.geometryFactory=t||new Jt}function Fr(t){this.geometryFactory=t||new Jt,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new Dr(this.geometryFactory)}function jr(){this.parser=new Dr(this.geometryFactory)}function Ur(t){this.geometryFactory=t||new Jt,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new te(this.geometryFactory)}function Br(t){return[t.x,t.y]}function zr(t,e){this.geometryFactory=t||new Jt,this.ol=e||"undefined"!=typeof ol&&ol}function Vr(){if(this.noder=null,this.scaleFactor=null,this.offsetX=null,this.offsetY=null,this.isScaled=!1,2===arguments.length){var t=arguments[0],e=arguments[1];Vr.call(this,t,e,0,0)}else if(4===arguments.length){var n=arguments[0],r=arguments[1];arguments[2],arguments[3],this.noder=n,this.scaleFactor=r,this.isScaled=!this.isIntegerPrecision()}}function Gr(){if(this.inputGeom=null,this.isClosedEndpointsInInterior=!0,this.nonSimpleLocation=null,1===arguments.length){var t=arguments[0];this.inputGeom=t}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.inputGeom=e,this.isClosedEndpointsInInterior=!n.isInBoundary(2)}}function Hr(){this.pt=null,this.isClosed=null,this.degree=null;var t=arguments[0];this.pt=t,this.isClosed=!1,this.degree=0}function qr(){if(this.quadrantSegments=qr.DEFAULT_QUADRANT_SEGMENTS,this.endCapStyle=qr.CAP_ROUND,this.joinStyle=qr.JOIN_ROUND,this.mitreLimit=qr.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this.simplifyFactor=qr.DEFAULT_SIMPLIFY_FACTOR,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.setQuadrantSegments(t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.setQuadrantSegments(e),this.setEndCapStyle(n)}else if(4===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2],a=arguments[3];this.setQuadrantSegments(r),this.setEndCapStyle(i),this.setJoinStyle(o),this.setMitreLimit(a)}}function Wr(){this.minIndex=-1,this.minCoord=null,this.minDe=null,this.orientedDe=null}function Yr(){this.array_=[]}function Xr(){this.finder=null,this.dirEdgeList=new b,this.nodes=new b,this.rightMostCoord=null,this.env=null,this.finder=new Wr}function Zr(){this.inputLine=null,this.distanceTol=null,this.isDeleted=null,this.angleOrientation=ae.COUNTERCLOCKWISE;var t=arguments[0];this.inputLine=t}function Kr(){this.ptList=null,this.precisionModel=null,this.minimimVertexDistance=0,this.ptList=new b}function $r(){this.maxCurveSegmentError=0,this.filletAngleQuantum=null,this.closingSegLengthFactor=1,this.segList=null,this.distance=0,this.precisionModel=null,this.bufParams=null,this.li=null,this.s0=null,this.s1=null,this.s2=null,this.seg0=new se,this.seg1=new se,this.offset0=new se,this.offset1=new se,this.side=0,this._hasNarrowConcaveAngle=!1;var t=arguments[0],e=arguments[1],n=arguments[2];this.precisionModel=t,this.bufParams=e,this.li=new re,this.filletAngleQuantum=Math.PI/2/e.getQuadrantSegments(),e.getQuadrantSegments()>=8&&e.getJoinStyle()===qr.JOIN_ROUND&&(this.closingSegLengthFactor=$r.MAX_CLOSING_SEG_LEN_FACTOR),this.init(n)}function Qr(){this.distance=0,this.precisionModel=null,this.bufParams=null;var t=arguments[0],e=arguments[1];this.precisionModel=t,this.bufParams=e}function Jr(){this.subgraphs=null,this.seg=new se,this.cga=new ae;var t=arguments[0];this.subgraphs=t}function ti(){this.upwardSeg=null,this.leftDepth=null;var t=arguments[0],e=arguments[1];this.upwardSeg=new se(t),this.leftDepth=e}function ei(){this.inputGeom=null,this.distance=null,this.curveBuilder=null,this.curveList=new b;var t=arguments[0],e=arguments[1],n=arguments[2];this.inputGeom=t,this.distance=e,this.curveBuilder=n}function ni(){this._hasIntersection=!1,this.hasProper=!1,this.hasProperInterior=!1,this.hasInterior=!1,this.properIntersectionPoint=null,this.li=null,this.isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var t=arguments[0];this.li=t}function ri(){this.bufParams=null,this.workingPrecisionModel=null,this.workingNoder=null,this.geomFact=null,this.graph=null,this.edgeList=new Qn;var t=arguments[0];this.bufParams=t}function ii(){this.li=new re,this.segStrings=null;var t=arguments[0];this.segStrings=t}function oi(){this.li=null,this.pt=null,this.originalPt=null,this.ptScaled=null,this.p0Scaled=null,this.p1Scaled=null,this.scaleFactor=null,this.minx=null,this.maxx=null,this.miny=null,this.maxy=null,this.corner=new Array(4).fill(null),this.safeEnv=null;var t=arguments[0],e=arguments[1],r=arguments[2];if(this.originalPt=t,this.pt=t,this.scaleFactor=e,this.li=r,e<=0)throw new n("Scale factor must be non-zero");1!==e&&(this.pt=new h(this.scale(t.x),this.scale(t.y)),this.p0Scaled=new h,this.p1Scaled=new h),this.initCorners(this.pt)}function ai(){this.index=null;var t=arguments[0];this.index=t}function si(){ar.apply(this),this.hotPixel=null,this.parentEdge=null,this.hotPixelVertexIndex=null,this._isNodeAdded=!1;var t=arguments[0],e=arguments[1],n=arguments[2];this.hotPixel=t,this.parentEdge=e,this.hotPixelVertexIndex=n}function ui(){this.li=null,this.interiorIntersections=null;var t=arguments[0];this.li=t,this.interiorIntersections=new b}function li(){this.pm=null,this.li=null,this.scaleFactor=null,this.noder=null,this.pointSnapper=null,this.nodedSegStrings=null;var t=arguments[0];this.pm=t,this.li=new re,this.li.setPrecisionModel(t),this.scaleFactor=t.getScale()}function ci(){if(this.argGeom=null,this.distance=null,this.bufParams=new qr,this.resultGeometry=null,this.saveException=null,1===arguments.length){var t=arguments[0];this.argGeom=t}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.argGeom=e,this.bufParams=n}}function hi(){this.comps=null;var t=arguments[0];this.comps=t}function fi(){if(this.component=null,this.segIndex=null,this.pt=null,2===arguments.length){var t=arguments[0],e=arguments[1];fi.call(this,t,fi.INSIDE_AREA,e)}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this.component=n,this.segIndex=r,this.pt=i}}function di(){this.pts=null;var t=arguments[0];this.pts=t}function pi(){this.locations=null;var t=arguments[0];this.locations=t}function mi(){if(this.geom=null,this.terminateDistance=0,this.ptLocator=new Me,this.minDistanceLocation=null,this.minDistance=r.MAX_VALUE,2===arguments.length){var t=arguments[0],e=arguments[1];mi.call(this,t,e,0)}else if(3===arguments.length){var n=arguments[0],i=arguments[1],o=arguments[2];this.geom=new Array(2).fill(null),this.geom[0]=n,this.geom[1]=i,this.terminateDistance=o}}function gi(){this.factory=null,this.directedEdges=new b,this.coordinates=null;var t=arguments[0];this.factory=t}function vi(){this._isMarked=!1,this._isVisited=!1,this.data=null}function yi(){vi.apply(this),this.parentEdge=null,this.from=null,this.to=null,this.p0=null,this.p1=null,this.sym=null,this.edgeDirection=null,this.quadrant=null,this.angle=null;var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];this.from=t,this.to=e,this.edgeDirection=r,this.p0=t.getCoordinate(),this.p1=n;var i=this.p1.x-this.p0.x,o=this.p1.y-this.p0.y;this.quadrant=Xe.quadrant(i,o),this.angle=Math.atan2(o,i)}function bi(){var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];yi.call(this,t,e,n,r)}function wi(){if(vi.apply(this),this.dirEdge=null,0===arguments.length);else if(2===arguments.length){var t=arguments[0],e=arguments[1];this.setDirectedEdges(t,e)}}function xi(){this.outEdges=new b,this.sorted=!1}function _i(){if(vi.apply(this),this.pt=null,this.deStar=null,1===arguments.length){var t=arguments[0];_i.call(this,t,new xi)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.pt=e,this.deStar=n}}function Ei(){wi.apply(this),this.line=null;var t=arguments[0];this.line=t}function Mi(){this.nodeMap=new et}function Si(){this.edges=new Z,this.dirEdges=new Z,this.nodeMap=new Mi}function Ti(){Si.apply(this)}function Ci(){this.graph=new Ti,this.mergedLineStrings=null,this.factory=null,this.edgeStrings=null}function Ii(){this.edgeRing=null,this.next=null,this.label=-1;var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];yi.call(this,t,e,n,r)}function Oi(){wi.apply(this),this.line=null;var t=arguments[0];this.line=t}function Ai(){this.geometryFactory=new Jt,this.geomGraph=null,this.disconnectedRingcoord=null;var t=arguments[0];this.geomGraph=t}function Li(){}function Ri(){if(this.edgeEnds=new b,1===arguments.length){var t=arguments[0];Ri.call(this,null,t)}else if(2===arguments.length){var e=(arguments[0],arguments[1]);gn.call(this,e.getEdge(),e.getCoordinate(),e.getDirectedCoordinate(),new ln(e.getLabel())),this.insert(e)}}function Ni(){Sn.apply(this)}function Pi(){var t=arguments[0],e=arguments[1];pn.call(this,t,e)}function ki(){yn.apply(this)}function Di(){this.nodes=new mn(new ki)}function Fi(){this.li=new re,this.geomGraph=null,this.nodeGraph=new Di,this.invalidPoint=null;var t=arguments[0];this.geomGraph=t}function ji(){this.graph=null,this.rings=new b,this.totalEnv=new x,this.index=null,this.nestedPt=null;var t=arguments[0];this.graph=t}function Ui(){if(this.errorType=null,this.pt=null,1===arguments.length){var t=arguments[0];Ui.call(this,t,null)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.errorType=e,null!==n&&(this.pt=n.copy())}}function Bi(){this.parentGeometry=null,this.isSelfTouchingRingFormingHoleValid=!1,this.validErr=null;var t=arguments[0];this.parentGeometry=t}function zi(){this.factory=null,this.deList=new b,this.lowestEdge=null,this.ring=null,this.ringPts=null,this.holes=null,this.shell=null,this._isHole=null,this._isProcessed=!1,this._isIncludedSet=!1,this._isIncluded=!1;var t=arguments[0];this.factory=t}function Vi(){}function Gi(){Si.apply(this),this.factory=null;var t=arguments[0];this.factory=t}function Hi(){if(this.lineStringAdder=new qi(this),this.graph=null,this.dangles=new b,this.cutEdges=new b,this.invalidRingLines=new b,this.holeList=null,this.shellList=null,this.polyList=null,this.isCheckingRingsValid=!0,this.extractOnlyPolygonal=null,this.geomFactory=null,0===arguments.length)Hi.call(this,!1);else if(1===arguments.length){var t=arguments[0];this.extractOnlyPolygonal=t}}function qi(){this.p=null;var t=arguments[0];this.p=t}function Wi(){this.li=new re,this.ptLocator=new Me,this.arg=null,this.nodes=new mn(new ki),this.im=null,this.isolatedEdges=new b,this.invalidPoint=null;var t=arguments[0];this.arg=t}function Yi(){this.rectEnv=null;var t=arguments[0];this.rectEnv=t.getEnvelopeInternal()}function Xi(){this.li=new re,this.rectEnv=null,this.diagUp0=null,this.diagUp1=null,this.diagDown0=null,this.diagDown1=null;var t=arguments[0];this.rectEnv=t,this.diagUp0=new h(t.getMinX(),t.getMinY()),this.diagUp1=new h(t.getMaxX(),t.getMaxY()),this.diagDown0=new h(t.getMinX(),t.getMaxY()),this.diagDown1=new h(t.getMaxX(),t.getMinY())}function Zi(){this._isDone=!1}function Ki(){this.rectangle=null,this.rectEnv=null;var t=arguments[0];this.rectangle=t,this.rectEnv=t.getEnvelopeInternal()}function $i(){Zi.apply(this),this.rectEnv=null,this._intersects=!1;var t=arguments[0];this.rectEnv=t}function Qi(){Zi.apply(this),this.rectSeq=null,this.rectEnv=null,this._containsPoint=!1;var t=arguments[0];this.rectSeq=t.getExteriorRing().getCoordinateSequence(),this.rectEnv=t.getEnvelopeInternal()}function Ji(){Zi.apply(this),this.rectEnv=null,this.rectIntersector=null,this.hasIntersection=!1,this.p0=new h,this.p1=new h;var t=arguments[0];this.rectEnv=t.getEnvelopeInternal(),this.rectIntersector=new Xi(this.rectEnv)}function to(){if(this._relate=null,2===arguments.length){var t=arguments[0],e=arguments[1];Kn.call(this,t,e),this._relate=new Wi(this.arg)}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];Kn.call(this,n,r,i),this._relate=new Wi(this.arg)}}function eo(){this.geomFactory=null,this.skipEmpty=!1,this.inputGeoms=null;var t=arguments[0];this.geomFactory=eo.extractFactory(t),this.inputGeoms=t}function no(){this.pointGeom=null,this.otherGeom=null,this.geomFact=null;var t=arguments[0],e=arguments[1];this.pointGeom=t,this.otherGeom=e,this.geomFact=e.getFactory()}function ro(){this.sortIndex=-1,this.comps=null;var t=arguments[0],e=arguments[1];this.sortIndex=t,this.comps=e}function io(){this.inputPolys=null,this.geomFactory=null;var t=arguments[0];this.inputPolys=t,null===this.inputPolys&&(this.inputPolys=new b)}function oo(){if(this.polygons=new b,this.lines=new b,this.points=new b,this.geomFact=null,1===arguments.length){if(sa(arguments[0],p)){var t=arguments[0];this.extract(t)}else if(arguments[0]instanceof D){var e=arguments[0];this.extract(e)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.geomFact=r,this.extract(n)}}function ao(){Ot.CoordinateOperation.apply(this),this.targetPM=null,this.removeCollapsed=!0;var t=arguments[0],e=arguments[1];this.targetPM=t,this.removeCollapsed=e}function so(){this.targetPM=null,this.removeCollapsed=!0,this.changePrecisionModel=!1,this.isPointwise=!1;var t=arguments[0];this.targetPM=t}function uo(){this.pts=null,this.usePt=null,this.distanceTolerance=null,this.seg=new se;var t=arguments[0];this.pts=t}function lo(){this.inputGeom=null,this.distanceTolerance=null,this.isEnsureValidTopology=!0;var t=arguments[0];this.inputGeom=t}function co(){me.apply(this),this.isEnsureValidTopology=!0,this.distanceTolerance=null;var t=arguments[0],e=arguments[1];this.isEnsureValidTopology=t,this.distanceTolerance=e}function ho(){if(this.parent=null,this.index=null,2===arguments.length){var t=arguments[0],e=arguments[1];ho.call(this,t,e,null,-1)}else if(4===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2],o=arguments[3];se.call(this,n,r),this.parent=i,this.index=o}}function fo(){if(this.parentLine=null,this.segs=null,this.resultSegs=new b,this.minimumSize=null,1===arguments.length){var t=arguments[0];fo.call(this,t,2)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.parentLine=e,this.minimumSize=n,this.init()}}function po(){this.index=new kr}function mo(){this.querySeg=null,this.items=new b;var t=arguments[0];this.querySeg=t}function go(){this.li=new re,this.inputIndex=new po,this.outputIndex=new po,this.line=null,this.linePts=null,this.distanceTolerance=0;var t=arguments[0],e=arguments[1];this.inputIndex=t,this.outputIndex=e}function vo(){this.inputIndex=new po,this.outputIndex=new po,this.distanceTolerance=0}function yo(){this.inputGeom=null,this.lineSimplifier=new vo,this.linestringMap=null;var t=arguments[0];this.inputGeom=t}function bo(){me.apply(this),this.linestringMap=null;var t=arguments[0];this.linestringMap=t}function wo(){this.tps=null;var t=arguments[0];this.tps=t}function xo(){this.seg=null,this.segLen=null,this.splitPt=null,this.minimumLen=0;var t=arguments[0];this.seg=t,this.segLen=t.getLength()}function _o(){}function Eo(){}function Mo(){}function So(){if(this.p=null,1===arguments.length){var t=arguments[0];this.p=new h(t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.p=new h(e,n)}else if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];this.p=new h(r,i,o)}}function To(){this._isOnConstraint=null,this.constraint=null;var t=arguments[0];So.call(this,t)}function Co(){this._rot=null,this.vertex=null,this.next=null,this.data=null}function Io(){this.subdiv=null,this.isUsingTolerance=!1;var t=arguments[0];this.subdiv=t,this.isUsingTolerance=t.getTolerance()>0}function Oo(){}function Ao(){this.subdiv=null,this.lastEdge=null;var t=arguments[0];this.subdiv=t,this.init()}function Lo(){if(this.seg=null,1===arguments.length){if("string"==typeof arguments[0]){var t=arguments[0];u.call(this,t)}else if(arguments[0]instanceof se){var e=arguments[0];u.call(this,"Locate failed to converge (at edge: "+e+").  Possible causes include invalid Subdivision topology or very close sites"),this.seg=new se(e)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];u.call(this,Lo.msgWithSpatial(n,r)),this.seg=new se(r)}}function Ro(){}function No(){this.visitedKey=0,this.quadEdges=new b,this.startingEdge=null,this.tolerance=null,this.edgeCoincidenceTolerance=null,this.frameVertex=new Array(3).fill(null),this.frameEnv=null,this.locator=null,this.seg=new se,this.triEdges=new Array(3).fill(null);var t=arguments[0],e=arguments[1];this.tolerance=e,this.edgeCoincidenceTolerance=e/No.EDGE_COINCIDENCE_TOL_FACTOR,this.createFrame(t),this.startingEdge=this.initSubdiv(),this.locator=new Ao(this)}function Po(){}function ko(){this.triList=new b}function Do(){this.triList=new b}function Fo(){this.coordList=new w,this.triCoords=new b}function jo(){if(this.ls=null,this.data=null,2===arguments.length){var t=arguments[0],e=arguments[1];this.ls=new se(t,e)}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this.ls=new se(n,r),this.data=i}else if(6===arguments.length){var o=arguments[0],a=arguments[1],s=arguments[2],u=arguments[3],l=arguments[4],c=arguments[5];jo.call(this,new h(o,a,s),new h(u,l,c))}else if(7===arguments.length){var f=arguments[0],d=arguments[1],p=arguments[2],m=arguments[3],g=arguments[4],v=arguments[5],y=arguments[6];jo.call(this,new h(f,d,p),new h(m,g,v),y)}}function Uo(){}function Bo(){if(this.p=null,this.data=null,this.left=null,this.right=null,this.count=null,2===arguments.length){var t=arguments[0],e=arguments[1];this.p=new h(t),this.left=null,this.right=null,this.count=1,this.data=e}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this.p=new h(n,r),this.left=null,this.right=null,this.count=1,this.data=i}}function zo(){if(this.root=null,this.numberOfNodes=null,this.tolerance=null,0===arguments.length)zo.call(this,0);else if(1===arguments.length){var t=arguments[0];this.tolerance=t}}function Vo(){this.tolerance=null,this.matchNode=null,this.matchDist=0,this.p=null;var t=arguments[0],e=arguments[1];this.p=t,this.tolerance=e}function Go(){this.initialVertices=null,this.segVertices=null,this.segments=new b,this.subdiv=null,this.incDel=null,this.convexHull=null,this.splitFinder=new Eo,this.kdt=null,this.vertexFactory=null,this.computeAreaEnv=null,this.splitPt=null,this.tolerance=null;var t=arguments[0],e=arguments[1];this.initialVertices=new b(t),this.tolerance=e,this.kdt=new zo(e)}function Ho(){this.siteCoords=null,this.tolerance=0,this.subdiv=null}function qo(){this.siteCoords=null,this.constraintLines=null,this.tolerance=0,this.subdiv=null,this.constraintVertexMap=new et}function Wo(){this.siteCoords=null,this.tolerance=0,this.subdiv=null,this.clipEnv=null,this.diagramEnv=null}function Yo(){if(this.componentIndex=0,this.segmentIndex=0,this.segmentFraction=0,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.componentIndex=t.componentIndex,this.segmentIndex=t.segmentIndex,this.segmentFraction=t.segmentFraction}else if(2===arguments.length){var e=arguments[0],n=arguments[1];Yo.call(this,0,e,n)}else if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];this.componentIndex=r,this.segmentIndex=i,this.segmentFraction=o,this.normalize()}else if(4===arguments.length){var a=arguments[0],s=arguments[1],u=arguments[2],l=arguments[3];this.componentIndex=a,this.segmentIndex=s,this.segmentFraction=u,l&&this.normalize()}}function Xo(){if(this.linearGeom=null,this.numLines=null,this.currentLine=null,this.componentIndex=0,this.vertexIndex=0,1===arguments.length){var t=arguments[0];Xo.call(this,t,0,0)}else if(2===arguments.length){var e=arguments[0],r=arguments[1];Xo.call(this,e,r.getComponentIndex(),Xo.segmentEndVertexIndex(r))}else if(3===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2];if(!sa(i,nt))throw new n("Lineal geometry is required");this.linearGeom=i,this.numLines=i.getNumGeometries(),this.componentIndex=o,this.vertexIndex=a,this.loadCurrentLine()}}function Zo(){this.linearGeom=null;var t=arguments[0];this.linearGeom=t}function Ko(){this.linearGeom=null;var t=arguments[0];this.linearGeom=t}function $o(){this.geomFact=null,this.lines=new b,this.coordList=null,this.ignoreInvalidLines=!1,this.fixInvalidLines=!1,this.lastPt=null;var t=arguments[0];this.geomFact=t}function Qo(){this.line=null;var t=arguments[0];this.line=t}function Jo(){this.linearGeom=null;var t=arguments[0];this.linearGeom=t,this.checkGeometryType()}function ta(){this.linearGeom=null;var t=arguments[0];this.linearGeom=t}function ea(){this.linearGeom=null;var t=arguments[0];this.linearGeom=t}function na(){this.linearGeom=null;var t=arguments[0];this.linearGeom=t}function ra(){}"fill"in Array.prototype||Object.defineProperty(Array.prototype,"fill",{configurable:!0,value:function(t){if(void 0===this||null===this)throw new TypeError(this+" is not an object");var e=Object(this),n=Math.max(Math.min(e.length,9007199254740991),0)||0,r=1 in arguments?parseInt(Number(arguments[1]),10)||0:0;r=r<0?Math.max(n+r,0):Math.min(r,n);var i=2 in arguments&&void 0!==arguments[2]?parseInt(Number(arguments[2]),10)||0:n;for(i=i<0?Math.max(n+arguments[2],0):Math.min(i,n);r<i;)e[r]=t,++r;return e},writable:!0}),Number.isFinite=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},Number.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},Number.parseFloat=Number.parseFloat||parseFloat,Number.isNaN=Number.isNaN||function(t){return t!==t},Math.trunc=Math.trunc||function(t){return t<0?Math.ceil(t):Math.floor(t)};var ia=function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};ia(e.prototype,{interfaces_:function(){return[]},getClass:function(){return e}}),e.equalsWithTolerance=function(t,e,n){return Math.abs(t-e)<=n},r.isNaN=function(t){return Number.isNaN(t)},r.doubleToLongBits=function(t){return t},r.longBitsToDouble=function(t){return t},r.isInfinite=function(t){return!Number.isFinite(t)},r.MAX_VALUE=Number.MAX_VALUE,u.prototype=Object.create(Error.prototype),u.prototype.constructor=Error;var oa=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t};oa(l,u),ia(l.prototype,{interfaces_:function(){return[]},getClass:function(){return l}}),ia(c.prototype,{interfaces_:function(){return[]},getClass:function(){return c}}),c.shouldNeverReachHere=function(){if(0===arguments.length)c.shouldNeverReachHere(null);else if(1===arguments.length){var t=arguments[0];throw new l("Should never reach here"+(null!==t?": "+t:""))}},c.isTrue=function(){if(1===arguments.length){var t=arguments[0];c.isTrue(t,null)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(!e)throw null===n?new l:new l(n)}},c.equals=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];c.equals(t,e,null)}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];if(!r.equals(n))throw new l("Expected "+n+" but encountered "+r+(null!==i?": "+i:""))}},ia(h.prototype,{setOrdinate:function(t,e){switch(t){case h.X:this.x=e;break;case h.Y:this.y=e;break;case h.Z:this.z=e;break;default:throw new n("Invalid ordinate index: "+t)}},equals2D:function(){if(1===arguments.length){var t=arguments[0];return this.x===t.x&&this.y===t.y}if(2===arguments.length){var n=arguments[0],r=arguments[1];return!!e.equalsWithTolerance(this.x,n.x,r)&&!!e.equalsWithTolerance(this.y,n.y,r)}},getOrdinate:function(t){switch(t){case h.X:return this.x;case h.Y:return this.y;case h.Z:return this.z}throw new n("Invalid ordinate index: "+t)},equals3D:function(t){return this.x===t.x&&this.y===t.y&&(this.z===t.z||r.isNaN(this.z)&&r.isNaN(t.z))},equals:function(t){return t instanceof h&&this.equals2D(t)},equalInZ:function(t,n){return e.equalsWithTolerance(this.z,t.z,n)},compareTo:function(t){var e=t;return this.x<e.x?-1:this.x>e.x?1:this.y<e.y?-1:this.y>e.y?1:0},clone:function(){try{return null}catch(t){if(t instanceof CloneNotSupportedException)return c.shouldNeverReachHere("this shouldn't happen because this class is Cloneable"),null;throw t}},copy:function(){return new h(this)},toString:function(){return"("+this.x+", "+this.y+", "+this.z+")"},distance3D:function(t){var e=this.x-t.x,n=this.y-t.y,r=this.z-t.z;return Math.sqrt(e*e+n*n+r*r)},distance:function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},hashCode:function(){var t=17;return t=37*t+h.hashCode(this.x),t=37*t+h.hashCode(this.y)},setCoordinate:function(t){this.x=t.x,this.y=t.y,this.z=t.z},interfaces_:function(){return[i,o,s]},getClass:function(){return h}}),h.hashCode=function(){if(1===arguments.length){var t=arguments[0],e=r.doubleToLongBits(t);return Math.trunc(e^e>>>32)}},ia(f.prototype,{compare:function(t,e){var n=t,r=e,i=f.compare(n.x,r.x);if(0!==i)return i;var o=f.compare(n.y,r.y);return 0!==o?o:this.dimensionsToTest<=2?0:f.compare(n.z,r.z)},interfaces_:function(){return[a]},getClass:function(){return f}}),f.compare=function(t,e){return t<e?-1:t>e?1:r.isNaN(t)?r.isNaN(e)?0:-1:r.isNaN(e)?1:0},h.DimensionalComparator=f,h.serialVersionUID=0x5cbf2c235c7e5800,h.NULL_ORDINATE=r.NaN,h.X=0,h.Y=1,h.Z=2,d.prototype.hasNext=function(){},d.prototype.next=function(){},d.prototype.remove=function(){},p.prototype.add=function(){},p.prototype.addAll=function(){},p.prototype.isEmpty=function(){},p.prototype.iterator=function(){},p.prototype.size=function(){},p.prototype.toArray=function(){},p.prototype.remove=function(){},m.prototype=new Error,m.prototype.name="IndexOutOfBoundsException",g.prototype=Object.create(p.prototype),g.prototype.constructor=g,g.prototype.get=function(){},g.prototype.set=function(){},g.prototype.isEmpty=function(){},v.prototype=new Error,v.prototype.name="NoSuchElementException",y.prototype=new Error,y.prototype.name="OperationNotSupported",b.prototype=Object.create(g.prototype),b.prototype.constructor=b,b.prototype.ensureCapacity=function(){},b.prototype.interfaces_=function(){return[g,p]},b.prototype.add=function(t){return 1===arguments.length?this.array_.push(t):this.array_.splice(arguments[0],arguments[1]),!0},b.prototype.clear=function(){this.array_=[]},b.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},b.prototype.set=function(t,e){var n=this.array_[t];return this.array_[t]=e,n},b.prototype.iterator=function(){return new aa(this)},b.prototype.get=function(t){if(t<0||t>=this.size())throw new m;return this.array_[t]},b.prototype.isEmpty=function(){return 0===this.array_.length},b.prototype.size=function(){return this.array_.length},b.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},b.prototype.remove=function(t){for(var e=!1,n=0,r=this.array_.length;n<r;n++)if(this.array_[n]===t){this.array_.splice(n,1),e=!0;break}return e};var aa=function(t){this.arrayList_=t,this.position_=0};aa.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new v;return this.arrayList_.get(this.position_++)},aa.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},aa.prototype.set=function(t){return this.arrayList_.set(this.position_-1,t)},aa.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},oa(w,b),ia(w.prototype,{getCoordinate:function(t){return this.get(t)},addAll:function(){if(2===arguments.length){for(var t=arguments[0],e=arguments[1],n=!1,r=t.iterator();r.hasNext();)this.add(r.next(),e),n=!0;return n}return b.prototype.addAll.apply(this,arguments)},clone:function(){for(var t=b.prototype.clone.call(this),e=0;e<this.size();e++)t.add(e,this.get(e).copy());return t},toCoordinateArray:function(){return this.toArray(w.coordArrayType)},add:function(){if(1===arguments.length){var t=arguments[0];b.prototype.add.call(this,t)}else if(2===arguments.length){if(arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var e=arguments[0],n=arguments[1];return this.add(e,n,!0),!0}if(arguments[0]instanceof h&&"boolean"==typeof arguments[1]){var r=arguments[0],i=arguments[1];if(!i&&this.size()>=1){var o=this.get(this.size()-1);if(o.equals2D(r))return null}b.prototype.add.call(this,r)}else if(arguments[0]instanceof Object&&"boolean"==typeof arguments[1]){var a=arguments[0],s=arguments[1];return this.add(a,s),!0}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var u=arguments[0],l=arguments[1],c=arguments[2];if(c)for(var f=0;f<u.length;f++)this.add(u[f],l);else for(var f=u.length-1;f>=0;f--)this.add(u[f],l);return!0}if("boolean"==typeof arguments[2]&&Number.isInteger(arguments[0])&&arguments[1]instanceof h){var d=arguments[0],p=arguments[1],m=arguments[2];if(!m){var g=this.size();if(g>0){if(d>0){var v=this.get(d-1);if(v.equals2D(p))return null}if(d<g){var y=this.get(d);if(y.equals2D(p))return null}}}b.prototype.add.call(this,d,p)}}else if(4===arguments.length){var w=arguments[0],x=arguments[1],_=arguments[2],E=arguments[3],M=1;_>E&&(M=-1);for(var f=_;f!==E;f+=M)this.add(w[f],x);return!0}},closeRing:function(){this.size()>0&&this.add(new h(this.get(0)),!1)},interfaces_:function(){return[]},getClass:function(){return w}}),w.coordArrayType=new Array(0).fill(null),ia(x.prototype,{getArea:function(){return this.getWidth()*this.getHeight()},equals:function(t){if(!(t instanceof x))return!1;var e=t;return this.isNull()?e.isNull():this.maxx===e.getMaxX()&&this.maxy===e.getMaxY()&&this.minx===e.getMinX()&&this.miny===e.getMinY()},intersection:function(t){if(this.isNull()||t.isNull()||!this.intersects(t))return new x;var e=this.minx>t.minx?this.minx:t.minx,n=this.miny>t.miny?this.miny:t.miny;return new x(e,this.maxx<t.maxx?this.maxx:t.maxx,n,this.maxy<t.maxy?this.maxy:t.maxy)},isNull:function(){return this.maxx<this.minx},getMaxX:function(){return this.maxx},covers:function(){if(1===arguments.length){if(arguments[0]instanceof h){var t=arguments[0];return this.covers(t.x,t.y)}if(arguments[0]instanceof x){var e=arguments[0];return!this.isNull()&&!e.isNull()&&e.getMinX()>=this.minx&&e.getMaxX()<=this.maxx&&e.getMinY()>=this.miny&&e.getMaxY()<=this.maxy}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return!this.isNull()&&n>=this.minx&&n<=this.maxx&&r>=this.miny&&r<=this.maxy}},intersects:function(){if(1===arguments.length){if(arguments[0]instanceof x){var t=arguments[0];return!this.isNull()&&!t.isNull()&&!(t.minx>this.maxx||t.maxx<this.minx||t.miny>this.maxy||t.maxy<this.miny)}if(arguments[0]instanceof h){var e=arguments[0];return this.intersects(e.x,e.y)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return!this.isNull()&&!(n>this.maxx||n<this.minx||r>this.maxy||r<this.miny)}},getMinY:function(){return this.miny},getMinX:function(){return this.minx},expandToInclude:function(){if(1===arguments.length){if(arguments[0]instanceof h){var t=arguments[0];this.expandToInclude(t.x,t.y)}else if(arguments[0]instanceof x){var e=arguments[0];if(e.isNull())return null;this.isNull()?(this.minx=e.getMinX(),this.maxx=e.getMaxX(),this.miny=e.getMinY(),this.maxy=e.getMaxY()):(e.minx<this.minx&&(this.minx=e.minx),e.maxx>this.maxx&&(this.maxx=e.maxx),e.miny<this.miny&&(this.miny=e.miny),e.maxy>this.maxy&&(this.maxy=e.maxy))}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.isNull()?(this.minx=n,this.maxx=n,this.miny=r,this.maxy=r):(n<this.minx&&(this.minx=n),n>this.maxx&&(this.maxx=n),r<this.miny&&(this.miny=r),r>this.maxy&&(this.maxy=r))}},minExtent:function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t<e?t:e},getWidth:function(){return this.isNull()?0:this.maxx-this.minx},compareTo:function(t){var e=t;return this.isNull()?e.isNull()?0:-1:e.isNull()?1:this.minx<e.minx?-1:this.minx>e.minx?1:this.miny<e.miny?-1:this.miny>e.miny?1:this.maxx<e.maxx?-1:this.maxx>e.maxx?1:this.maxy<e.maxy?-1:this.maxy>e.maxy?1:0},translate:function(t,e){if(this.isNull())return null;this.init(this.getMinX()+t,this.getMaxX()+t,this.getMinY()+e,this.getMaxY()+e)},toString:function(){return"Env["+this.minx+" : "+this.maxx+", "+this.miny+" : "+this.maxy+"]"},setToNull:function(){this.minx=0,this.maxx=-1,this.miny=0,this.maxy=-1},getHeight:function(){return this.isNull()?0:this.maxy-this.miny},maxExtent:function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t>e?t:e},expandBy:function(){if(1===arguments.length){var t=arguments[0];this.expandBy(t,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this.isNull())return null;this.minx-=e,this.maxx+=e,this.miny-=n,this.maxy+=n,(this.minx>this.maxx||this.miny>this.maxy)&&this.setToNull()}},contains:function(){if(1===arguments.length){if(arguments[0]instanceof x){var t=arguments[0];return this.covers(t)}if(arguments[0]instanceof h){var e=arguments[0];return this.covers(e)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return this.covers(n,r)}},centre:function(){return this.isNull()?null:new h((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},init:function(){if(0===arguments.length)this.setToNull();else if(1===arguments.length){if(arguments[0]instanceof h){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof x){var e=arguments[0];this.minx=e.minx,this.maxx=e.maxx,this.miny=e.miny,this.maxy=e.maxy}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.init(n.x,r.x,n.y,r.y)}else if(4===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2],s=arguments[3];i<o?(this.minx=i,this.maxx=o):(this.minx=o,this.maxx=i),a<s?(this.miny=a,this.maxy=s):(this.miny=s,this.maxy=a)}},getMaxY:function(){return this.maxy},distance:function(t){if(this.intersects(t))return 0;var e=0;this.maxx<t.minx?e=t.minx-this.maxx:this.minx>t.maxx&&(e=this.minx-t.maxx);var n=0;return this.maxy<t.miny?n=t.miny-this.maxy:this.miny>t.maxy&&(n=this.miny-t.maxy),0===e?n:0===n?e:Math.sqrt(e*e+n*n)},hashCode:function(){var t=17;return t=37*t+h.hashCode(this.minx),t=37*t+h.hashCode(this.maxx),t=37*t+h.hashCode(this.miny),t=37*t+h.hashCode(this.maxy)},interfaces_:function(){return[i,s]},getClass:function(){return x}}),x.intersects=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2];return n.x>=(t.x<e.x?t.x:e.x)&&n.x<=(t.x>e.x?t.x:e.x)&&n.y>=(t.y<e.y?t.y:e.y)&&n.y<=(t.y>e.y?t.y:e.y)}if(4===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2],a=arguments[3],s=Math.min(o.x,a.x),u=Math.max(o.x,a.x),l=Math.min(r.x,i.x),c=Math.max(r.x,i.x);return!(l>u||c<s||(s=Math.min(o.y,a.y),u=Math.max(o.y,a.y),l=Math.min(r.y,i.y),c=Math.max(r.y,i.y),l>u||c<s))}},x.serialVersionUID=0x51845cd552189800,oa(E,_),ia(E.prototype,{interfaces_:function(){return[]},getClass:function(){return E}}),ia(M.prototype,{interfaces_:function(){return[]},getClass:function(){return M}}),M.toLocationSymbol=function(t){switch(t){case M.EXTERIOR:return"e";case M.BOUNDARY:return"b";case M.INTERIOR:return"i";case M.NONE:return"-"}throw new n("Unknown location value: "+t)},M.INTERIOR=0,M.BOUNDARY=1,M.EXTERIOR=2,M.NONE=-1;var sa=function(t,e){return t.interfaces_&&t.interfaces_().indexOf(e)>-1};ia(S.prototype,{interfaces_:function(){return[]},getClass:function(){return S}}),S.log10=function(t){var e=Math.log(t);return r.isInfinite(e)?e:r.isNaN(e)?e:e/S.LOG_10},S.min=function(t,e,n,r){var i=t;return e<i&&(i=e),n<i&&(i=n),r<i&&(i=r),i},S.clamp=function(){if("number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1],n=arguments[2];return t<e?e:t>n?n:t}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var r=arguments[0],i=arguments[1],o=arguments[2];return r<i?i:r>o?o:r}},S.wrap=function(t,e){return t<0?e- -t%e:t%e},S.max=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],r=t;return e>r&&(r=e),n>r&&(r=n),r}if(4===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2],s=arguments[3],r=i;return o>r&&(r=o),a>r&&(r=a),s>r&&(r=s),r}},S.average=function(t,e){return(t+e)/2},S.LOG_10=Math.log(10),T.prototype.append=function(t){this.str+=t},T.prototype.setCharAt=function(t,e){this.str=this.str.substr(0,t)+e+this.str.substr(t+1)},T.prototype.toString=function(t){return this.str},C.prototype.intValue=function(){return this.value},C.prototype.compareTo=function(t){return this.value<t?-1:this.value>t?1:0},C.isNaN=function(t){return Number.isNaN(t)},I.isWhitespace=function(t){return t<=32&&t>=0||127==t},I.toUpperCase=function(t){return t.toUpperCase()},ia(O.prototype,{le:function(t){return this.hi<t.hi||this.hi===t.hi&&this.lo<=t.lo},extractSignificantDigits:function(t,e){var n=this.abs(),r=O.magnitude(n.hi),i=O.TEN.pow(r);n=n.divide(i),n.gt(O.TEN)?(n=n.divide(O.TEN),r+=1):n.lt(O.ONE)&&(n=n.multiply(O.TEN),r-=1);for(var o=r+1,a=new T,s=O.MAX_PRINT_DIGITS-1,u=0;u<=s;u++){t&&u===o&&a.append(".");var l=Math.trunc(n.hi);if(l<0)break;var c=!1,h=0;l>9?(c=!0,h="9"):h="0"+l,a.append(h),n=n.subtract(O.valueOf(l)).multiply(O.TEN),c&&n.selfAdd(O.TEN);var f=!0,d=O.magnitude(n.hi);if(d<0&&Math.abs(d)>=s-u&&(f=!1),!f)break}return e[0]=r,a.toString()},sqr:function(){return this.multiply(this)},doubleValue:function(){return this.hi+this.lo},subtract:function(){if(arguments[0]instanceof O){var t=arguments[0];return this.add(t.negate())}if("number"==typeof arguments[0]){var e=arguments[0];return this.add(-e)}},equals:function(){if(1===arguments.length){var t=arguments[0];return this.hi===t.hi&&this.lo===t.lo}},isZero:function(){return 0===this.hi&&0===this.lo},selfSubtract:function(){if(arguments[0]instanceof O){var t=arguments[0];return this.isNaN()?this:this.selfAdd(-t.hi,-t.lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.isNaN()?this:this.selfAdd(-e,0)}},getSpecialNumberString:function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},min:function(t){return this.le(t)?this:t},selfDivide:function(){if(1===arguments.length){if(arguments[0]instanceof O){var t=arguments[0];return this.selfDivide(t.hi,t.lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.selfDivide(e,0)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1],i=null,o=null,a=null,s=null,u=null,l=null,c=null,h=null;return u=this.hi/n,l=O.SPLIT*u,i=l-u,h=O.SPLIT*n,i=l-i,o=u-i,a=h-n,c=u*n,a=h-a,s=n-a,h=i*a-c+i*s+o*a+o*s,l=(this.hi-c-h+this.lo-u*r)/n,h=u+l,this.hi=h,this.lo=u-h+l,this}},dump:function(){return"DD<"+this.hi+", "+this.lo+">"},divide:function(){if(arguments[0]instanceof O){var t=arguments[0],e=null,n=null,i=null,o=null,a=null,s=null,u=null,l=null;return a=this.hi/t.hi,s=O.SPLIT*a,e=s-a,l=O.SPLIT*t.hi,e=s-e,n=a-e,i=l-t.hi,u=a*t.hi,i=l-i,o=t.hi-i,l=e*i-u+e*o+n*i+n*o,s=(this.hi-u-l+this.lo-a*t.lo)/t.hi,l=a+s,new O(l,a-l+s)}if("number"==typeof arguments[0]){var c=arguments[0];return r.isNaN(c)?O.createNaN():O.copy(this).selfDivide(c,0)}},ge:function(t){return this.hi>t.hi||this.hi===t.hi&&this.lo>=t.lo},pow:function(t){if(0===t)return O.valueOf(1);var e=new O(this),n=O.valueOf(1),r=Math.abs(t);if(r>1)for(;r>0;)r%2==1&&n.selfMultiply(e),(r/=2)>0&&(e=e.sqr());else n=e;return t<0?n.reciprocal():n},ceil:function(){if(this.isNaN())return O.NaN;var t=Math.ceil(this.hi),e=0;return t===this.hi&&(e=Math.ceil(this.lo)),new O(t,e)},compareTo:function(t){var e=t;return this.hi<e.hi?-1:this.hi>e.hi?1:this.lo<e.lo?-1:this.lo>e.lo?1:0},rint:function(){return this.isNaN()?this:this.add(.5).floor()},setValue:function(){if(arguments[0]instanceof O){var t=arguments[0];return this.init(t),this}if("number"==typeof arguments[0]){var e=arguments[0];return this.init(e),this}},max:function(t){return this.ge(t)?this:t},sqrt:function(){if(this.isZero())return O.valueOf(0);if(this.isNegative())return O.NaN;var t=1/Math.sqrt(this.hi),e=this.hi*t,n=O.valueOf(e),r=this.subtract(n.sqr()),i=r.hi*(.5*t);return n.add(i)},selfAdd:function(){if(1===arguments.length){if(arguments[0]instanceof O){var t=arguments[0];return this.selfAdd(t.hi,t.lo)}if("number"==typeof arguments[0]){var e=arguments[0],n=null,r=null,i=null,o=null,a=null,s=null;return i=this.hi+e,a=i-this.hi,o=i-a,o=e-a+(this.hi-o),s=o+this.lo,n=i+s,r=s+(i-n),this.hi=n+r,this.lo=r+(n-this.hi),this}}else if(2===arguments.length){var u=arguments[0],l=arguments[1],n=null,r=null,c=null,h=null,i=null,o=null,a=null,s=null;i=this.hi+u,c=this.lo+l,a=i-this.hi,s=c-this.lo,o=i-a,h=c-s,o=u-a+(this.hi-o),h=l-s+(this.lo-h),a=o+c,n=i+a,r=a+(i-n),a=h+r;var f=n+a,d=a+(n-f);return this.hi=f,this.lo=d,this}},selfMultiply:function(){if(1===arguments.length){if(arguments[0]instanceof O){var t=arguments[0];return this.selfMultiply(t.hi,t.lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.selfMultiply(e,0)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1],i=null,o=null,a=null,s=null,u=null,l=null;u=O.SPLIT*this.hi,i=u-this.hi,l=O.SPLIT*n,i=u-i,o=this.hi-i,a=l-n,u=this.hi*n,a=l-a,s=n-a,l=i*a-u+i*s+o*a+o*s+(this.hi*r+this.lo*n);var c=u+l;i=u-c;var h=l+i;return this.hi=c,this.lo=h,this}},selfSqr:function(){return this.selfMultiply(this)},floor:function(){if(this.isNaN())return O.NaN;var t=Math.floor(this.hi),e=0;return t===this.hi&&(e=Math.floor(this.lo)),new O(t,e)},negate:function(){return this.isNaN()?this:new O(-this.hi,-this.lo)},clone:function(){try{return null}catch(t){if(t instanceof CloneNotSupportedException)return null;throw t}},multiply:function(){if(arguments[0]instanceof O){var t=arguments[0];return t.isNaN()?O.createNaN():O.copy(this).selfMultiply(t)}if("number"==typeof arguments[0]){var e=arguments[0];return r.isNaN(e)?O.createNaN():O.copy(this).selfMultiply(e,0)}},isNaN:function(){return r.isNaN(this.hi)},intValue:function(){return Math.trunc(this.hi)},toString:function(){var t=O.magnitude(this.hi);return t>=-3&&t<=20?this.toStandardNotation():this.toSciNotation()},toStandardNotation:function(){var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),n=this.extractSignificantDigits(!0,e),r=e[0]+1,i=n;if("."===n.charAt(0))i="0"+n;else if(r<0)i="0."+O.stringOfChar("0",-r)+n;else if(-1===n.indexOf(".")){var o=r-n.length,a=O.stringOfChar("0",o);i=n+a+".0"}return this.isNegative()?"-"+i:i},reciprocal:function(){var t=null,e=null,n=null,r=null,i=null,o=null,a=null,s=null;i=1/this.hi,o=O.SPLIT*i,t=o-i,s=O.SPLIT*this.hi,t=o-t,e=i-t,n=s-this.hi,a=i*this.hi,n=s-n,r=this.hi-n,s=t*n-a+t*r+e*n+e*r,o=(1-a-s-i*this.lo)/this.hi;var u=i+o;return new O(u,i-u+o)},toSciNotation:function(){if(this.isZero())return O.SCI_NOT_ZERO;var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),n=this.extractSignificantDigits(!1,e),r=O.SCI_NOT_EXPONENT_CHAR+e[0];if("0"===n.charAt(0))throw new IllegalStateException("Found leading zero: "+n);var i="";n.length>1&&(i=n.substring(1));var o=n.charAt(0)+"."+i;return this.isNegative()?"-"+o+r:o+r},abs:function(){return this.isNaN()?O.NaN:this.isNegative()?this.negate():new O(this)},isPositive:function(){return this.hi>0||0===this.hi&&this.lo>0},lt:function(t){return this.hi<t.hi||this.hi===t.hi&&this.lo<t.lo},add:function(){if(arguments[0]instanceof O){var t=arguments[0];return O.copy(this).selfAdd(t)}if("number"==typeof arguments[0]){var e=arguments[0];return O.copy(this).selfAdd(e)}},init:function(){if(1===arguments.length){if("number"==typeof arguments[0]){var t=arguments[0];this.hi=t,this.lo=0}else if(arguments[0]instanceof O){var e=arguments[0];this.hi=e.hi,this.lo=e.lo}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.hi=n,this.lo=r}},gt:function(t){return this.hi>t.hi||this.hi===t.hi&&this.lo>t.lo},isNegative:function(){return this.hi<0||0===this.hi&&this.lo<0},trunc:function(){return this.isNaN()?O.NaN:this.isPositive()?this.floor():this.ceil()},signum:function(){return this.hi>0?1:this.hi<0?-1:this.lo>0?1:this.lo<0?-1:0},interfaces_:function(){return[s,i,o]},getClass:function(){return O}}),O.sqr=function(t){return O.valueOf(t).selfMultiply(t)},O.valueOf=function(){if("string"==typeof arguments[0]){var t=arguments[0];return O.parse(t)}if("number"==typeof arguments[0])return new O(arguments[0])},O.sqrt=function(t){return O.valueOf(t).sqrt()},O.parse=function(t){for(var e=0,n=t.length;I.isWhitespace(t.charAt(e));)e++;var r=!1;if(e<n){var i=t.charAt(e);"-"!==i&&"+"!==i||(e++,"-"===i&&(r=!0))}for(var o=new O,a=0,s=0,u=0;!(e>=n);){var l=t.charAt(e);if(e++,I.isDigit(l)){var c=l-"0";o.selfMultiply(O.TEN),o.selfAdd(c),a++}else{if("."!==l){if("e"===l||"E"===l){var h=t.substring(e);try{u=C.parseInt(h)}catch(e){throw e instanceof NumberFormatException?new NumberFormatException("Invalid exponent "+h+" in string "+t):e}break}throw new NumberFormatException("Unexpected character '"+l+"' at position "+e+" in string "+t)}s=a}}var f=o,d=a-s-u;if(0===d)f=o;else if(d>0){var p=O.TEN.pow(d);f=o.divide(p)}else if(d<0){var p=O.TEN.pow(-d);f=o.multiply(p)}return r?f.negate():f},O.createNaN=function(){return new O(r.NaN,r.NaN)},O.copy=function(t){return new O(t)},O.magnitude=function(t){var e=Math.abs(t),n=Math.log(e)/Math.log(10),r=Math.trunc(Math.floor(n));return 10*Math.pow(10,r)<=e&&(r+=1),r},O.stringOfChar=function(t,e){for(var n=new T,r=0;r<e;r++)n.append(t);return n.toString()},O.PI=new O(3.141592653589793,1.2246467991473532e-16),O.TWO_PI=new O(6.283185307179586,2.4492935982947064e-16),O.PI_2=new O(1.5707963267948966,6.123233995736766e-17),O.E=new O(2.718281828459045,1.4456468917292502e-16),O.NaN=new O(r.NaN,r.NaN),O.EPS=1.23259516440783e-32,O.SPLIT=134217729,O.MAX_PRINT_DIGITS=32,O.TEN=O.valueOf(10),O.ONE=O.valueOf(1),O.SCI_NOT_EXPONENT_CHAR="E",O.SCI_NOT_ZERO="0.0E0",ia(A.prototype,{interfaces_:function(){return[]},getClass:function(){return A}}),A.orientationIndex=function(t,e,n){var r=A.orientationIndexFilter(t,e,n);if(r<=1)return r;var i=O.valueOf(e.x).selfAdd(-t.x),o=O.valueOf(e.y).selfAdd(-t.y),a=O.valueOf(n.x).selfAdd(-e.x),s=O.valueOf(n.y).selfAdd(-e.y);return i.selfMultiply(s).selfSubtract(o.selfMultiply(a)).signum()},A.signOfDet2x2=function(t,e,n,r){return t.multiply(r).selfSubtract(e.multiply(n)).signum()},A.intersection=function(t,e,n,r){var i=O.valueOf(r.y).selfSubtract(n.y).selfMultiply(O.valueOf(e.x).selfSubtract(t.x)),o=O.valueOf(r.x).selfSubtract(n.x).selfMultiply(O.valueOf(e.y).selfSubtract(t.y)),a=i.subtract(o),s=O.valueOf(r.x).selfSubtract(n.x).selfMultiply(O.valueOf(t.y).selfSubtract(n.y)),u=O.valueOf(r.y).selfSubtract(n.y).selfMultiply(O.valueOf(t.x).selfSubtract(n.x)),l=s.subtract(u),c=l.selfDivide(a).doubleValue(),f=O.valueOf(t.x).selfAdd(O.valueOf(e.x).selfSubtract(t.x).selfMultiply(c)).doubleValue(),d=O.valueOf(e.x).selfSubtract(t.x).selfMultiply(O.valueOf(t.y).selfSubtract(n.y)),p=O.valueOf(e.y).selfSubtract(t.y).selfMultiply(O.valueOf(t.x).selfSubtract(n.x)),m=d.subtract(p),g=m.selfDivide(a).doubleValue();return new h(f,O.valueOf(n.y).selfAdd(O.valueOf(r.y).selfSubtract(n.y).selfMultiply(g)).doubleValue())},A.orientationIndexFilter=function(t,e,n){var r=null,i=(t.x-n.x)*(e.y-n.y),o=(t.y-n.y)*(e.x-n.x),a=i-o;if(i>0){if(o<=0)return A.signum(a);r=i+o}else{if(!(i<0))return A.signum(a);if(o>=0)return A.signum(a);r=-i-o}var s=A.DP_SAFE_EPSILON*r;return a>=s||-a>=s?A.signum(a):2},A.signum=function(t){return t>0?1:t<0?-1:0},A.DP_SAFE_EPSILON=1e-15,ia(L.prototype,{setOrdinate:function(t,e,n){},size:function(){},getOrdinate:function(t,e){},getCoordinate:function(){1===arguments.length?arguments[0]:2===arguments.length&&(arguments[0],arguments[1])},getCoordinateCopy:function(t){},getDimension:function(){},getX:function(t){},clone:function(){},expandEnvelope:function(t){},copy:function(){},getY:function(t){},toCoordinateArray:function(){},interfaces_:function(){return[o]},getClass:function(){return L}}),L.X=0,L.Y=1,L.Z=2,L.M=3,R.arraycopy=function(t,e,n,r,i){for(var o=0,a=e;a<e+i;a++)n[r+o]=t[a],o++},R.getProperty=function(t){return{"line.separator":"\n"}[t]},ia(N.prototype,{getY:function(){var t=this.y/this.w;if(r.isNaN(t)||r.isInfinite(t))throw new E;return t},getX:function(){var t=this.x/this.w;if(r.isNaN(t)||r.isInfinite(t))throw new E;return t},getCoordinate:function(){var t=new h;return t.x=this.getX(),t.y=this.getY(),t},interfaces_:function(){return[]},getClass:function(){return N}}),N.intersection=function(t,e,n,i){var o=t.y-e.y,a=e.x-t.x,s=t.x*e.y-e.x*t.y,u=n.y-i.y,l=i.x-n.x,c=n.x*i.y-i.x*n.y,f=a*c-l*s,d=u*s-o*c,p=o*l-u*a,m=f/p,g=d/p;if(r.isNaN(m)||r.isInfinite(m)||r.isNaN(g)||r.isInfinite(g))throw new E;return new h(m,g)},ia(P.prototype,{create:function(){1===arguments.length?arguments[0]instanceof Array?arguments[0]:sa(arguments[0],L)&&arguments[0]:2===arguments.length&&(arguments[0],arguments[1])},interfaces_:function(){return[]},getClass:function(){return P}}),ia(k.prototype,{filter:function(t){},interfaces_:function(){return[]},getClass:function(){return k}}),ia(D.prototype,{isGeometryCollection:function(){return this.getSortIndex()===D.SORTINDEX_GEOMETRYCOLLECTION},getFactory:function(){return this.factory},getGeometryN:function(t){return this},getArea:function(){return 0},isRectangle:function(){return!1},equals:function(){if(1===arguments.length){if(arguments[0]instanceof D){var t=arguments[0];return null!==t&&this.equalsTopo(t)}if(arguments[0]instanceof Object){var e=arguments[0];if(!(e instanceof D))return!1;var n=e;return this.equalsExact(n)}}},equalsExact:function(t){return this===t||this.equalsExact(t,0)},geometryChanged:function(){this.apply(D.geometryChangedFilter)},geometryChangedAction:function(){this.envelope=null},equalsNorm:function(t){return null!==t&&this.norm().equalsExact(t.norm())},getLength:function(){return 0},getNumGeometries:function(){return 1},compareTo:function(){if(1===arguments.length){var t=arguments[0],e=t;return this.getSortIndex()!==e.getSortIndex()?this.getSortIndex()-e.getSortIndex():this.isEmpty()&&e.isEmpty()?0:this.isEmpty()?-1:e.isEmpty()?1:this.compareToSameClass(t)}if(2===arguments.length){var n=arguments[0],r=arguments[1],e=n;return this.getSortIndex()!==e.getSortIndex()?this.getSortIndex()-e.getSortIndex():this.isEmpty()&&e.isEmpty()?0:this.isEmpty()?-1:e.isEmpty()?1:this.compareToSameClass(n,r)}},getUserData:function(){return this.userData},getSRID:function(){return this.SRID},getEnvelope:function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},checkNotGeometryCollection:function(t){if(t.getSortIndex()===D.SORTINDEX_GEOMETRYCOLLECTION)throw new n("This method does not support GeometryCollection arguments")},equal:function(t,e,n){return 0===n?t.equals(e):t.distance(e)<=n},norm:function(){var t=this.copy();return t.normalize(),t},getPrecisionModel:function(){return this.factory.getPrecisionModel()},getEnvelopeInternal:function(){return null===this.envelope&&(this.envelope=this.computeEnvelopeInternal()),new x(this.envelope)},setSRID:function(t){this.SRID=t},setUserData:function(t){this.userData=t},compare:function(t,e){for(var n=t.iterator(),r=e.iterator();n.hasNext()&&r.hasNext();){var i=n.next(),o=r.next(),a=i.compareTo(o);if(0!==a)return a}return n.hasNext()?1:r.hasNext()?-1:0},hashCode:function(){return this.getEnvelopeInternal().hashCode()},isGeometryCollectionOrDerived:function(){return this.getSortIndex()===D.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===D.SORTINDEX_MULTIPOINT||this.getSortIndex()===D.SORTINDEX_MULTILINESTRING||this.getSortIndex()===D.SORTINDEX_MULTIPOLYGON},interfaces_:function(){return[o,i,s]},getClass:function(){return D}}),D.hasNonEmptyElements=function(t){for(var e=0;e<t.length;e++)if(!t[e].isEmpty())return!0;return!1},D.hasNullElements=function(t){for(var e=0;e<t.length;e++)if(null===t[e])return!0;return!1},D.serialVersionUID=0x799ea46522854c00,D.SORTINDEX_POINT=0,D.SORTINDEX_MULTIPOINT=1,D.SORTINDEX_LINESTRING=2,D.SORTINDEX_LINEARRING=3,D.SORTINDEX_MULTILINESTRING=4,D.SORTINDEX_POLYGON=5,D.SORTINDEX_MULTIPOLYGON=6,D.SORTINDEX_GEOMETRYCOLLECTION=7,D.geometryChangedFilter={interfaces_:function(){return[k]},filter:function(t){t.geometryChangedAction()}},ia(F.prototype,{filter:function(t){},interfaces_:function(){return[]},getClass:function(){return F}}),ia(j.prototype,{isInBoundary:function(t){},interfaces_:function(){return[]},getClass:function(){return j}}),ia(U.prototype,{isInBoundary:function(t){return t%2==1},interfaces_:function(){return[j]},getClass:function(){return U}}),ia(B.prototype,{isInBoundary:function(t){return t>0},interfaces_:function(){return[j]},getClass:function(){return B}}),ia(z.prototype,{isInBoundary:function(t){return t>1},interfaces_:function(){return[j]},getClass:function(){return z}}),ia(V.prototype,{isInBoundary:function(t){return 1===t},interfaces_:function(){return[j]},getClass:function(){return V}}),j.Mod2BoundaryNodeRule=U,j.EndPointBoundaryNodeRule=B,j.MultiValentEndPointBoundaryNodeRule=z,j.MonoValentEndPointBoundaryNodeRule=V,j.MOD2_BOUNDARY_RULE=new U,j.ENDPOINT_BOUNDARY_RULE=new B,j.MULTIVALENT_ENDPOINT_BOUNDARY_RULE=new z,j.MONOVALENT_ENDPOINT_BOUNDARY_RULE=new V,j.OGC_SFS_BOUNDARY_RULE=j.MOD2_BOUNDARY_RULE,ia(G.prototype,{interfaces_:function(){return[]},getClass:function(){return G}}),G.isRing=function(t){return!(t.length<4||!t[0].equals2D(t[t.length-1]))},G.ptNotInList=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(G.indexOf(r,e)<0)return r}return null},G.scroll=function(t,e){var n=G.indexOf(e,t);if(n<0)return null;var r=new Array(t.length).fill(null);R.arraycopy(t,n,r,0,t.length-n),R.arraycopy(t,0,r,t.length-n,n),R.arraycopy(r,0,t,0,t.length)},G.equals=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(t===e)return!0;if(null===t||null===e)return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].equals(e[n]))return!1;return!0}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];if(r===i)return!0;if(null===r||null===i)return!1;if(r.length!==i.length)return!1;for(var n=0;n<r.length;n++)if(0!==o.compare(r[n],i[n]))return!1;return!0}},G.intersection=function(t,e){for(var n=new w,r=0;r<t.length;r++)e.intersects(t[r])&&n.add(t[r],!0);return n.toCoordinateArray()},G.hasRepeatedPoints=function(t){for(var e=1;e<t.length;e++)if(t[e-1].equals(t[e]))return!0;return!1},G.removeRepeatedPoints=function(t){return G.hasRepeatedPoints(t)?new w(t,!1).toCoordinateArray():t},G.reverse=function(t){for(var e=t.length-1,n=Math.trunc(e/2),r=0;r<=n;r++){var i=t[r];t[r]=t[e-r],t[e-r]=i}},G.removeNull=function(t){for(var e=0,n=0;n<t.length;n++)null!==t[n]&&e++;var r=new Array(e).fill(null);if(0===e)return r;for(var i=0,n=0;n<t.length;n++)null!==t[n]&&(r[i++]=t[n]);return r},G.copyDeep=function(){if(1===arguments.length){for(var t=arguments[0],e=new Array(t.length).fill(null),n=0;n<t.length;n++)e[n]=new h(t[n]);return e}if(5===arguments.length)for(var r=arguments[0],i=arguments[1],o=arguments[2],a=arguments[3],s=arguments[4],n=0;n<s;n++)o[a+n]=new h(r[i+n])},G.isEqualReversed=function(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=e[t.length-n-1];if(0!==r.compareTo(i))return!1}return!0},G.envelope=function(t){for(var e=new x,n=0;n<t.length;n++)e.expandToInclude(t[n]);return e},G.toCoordinateArray=function(t){return t.toArray(G.coordArrayType)},G.atLeastNCoordinatesOrNothing=function(t,e){return e.length>=t?e:[]},G.indexOf=function(t,e){for(var n=0;n<e.length;n++)if(t.equals(e[n]))return n;return-1},G.increasingDirection=function(t){for(var e=0;e<Math.trunc(t.length/2);e++){var n=t.length-1-e,r=t[e].compareTo(t[n]);if(0!==r)return r}return 1},G.compare=function(t,e){for(var n=0;n<t.length&&n<e.length;){var r=t[n].compareTo(e[n]);if(0!==r)return r;n++}return n<e.length?-1:n<t.length?1:0},G.minCoordinate=function(t){for(var e=null,n=0;n<t.length;n++)(null===e||e.compareTo(t[n])>0)&&(e=t[n]);return e},G.extract=function(t,e,n){e=S.clamp(e,0,t.length),n=S.clamp(n,-1,t.length);var r=n-e+1;n<0&&(r=0),e>=t.length&&(r=0),n<e&&(r=0);var i=new Array(r).fill(null);if(0===r)return i;for(var o=0,a=e;a<=n;a++)i[o++]=t[a];return i},ia(H.prototype,{compare:function(t,e){var n=t,r=e;return G.compare(n,r)},interfaces_:function(){return[a]},getClass:function(){return H}}),ia(q.prototype,{compare:function(t,e){var n=t,r=e;if(n.length<r.length)return-1;if(n.length>r.length)return 1;if(0===n.length)return 0;var i=G.compare(n,r);return G.isEqualReversed(n,r)?0:i},OLDcompare:function(t,e){var n=t,r=e;if(n.length<r.length)return-1;if(n.length>r.length)return 1;if(0===n.length)return 0;for(var i=G.increasingDirection(n),o=G.increasingDirection(r),a=i>0?0:n.length-1,s=o>0?0:n.length-1,u=0;u<n.length;u++){var l=n[a].compareTo(r[s]);if(0!==l)return l;a+=i,s+=o}return 0},interfaces_:function(){return[a]},getClass:function(){return q}}),G.ForwardComparator=H,G.BidirectionalComparator=q,G.coordArrayType=new Array(0).fill(null),W.prototype.get=function(){},W.prototype.put=function(){},W.prototype.size=function(){},W.prototype.values=function(){},W.prototype.entrySet=function(){},Y.prototype=new W,X.prototype=new p,X.prototype.contains=function(){},Z.prototype=new X,Z.prototype.contains=function(t){for(var e=0,n=this.array_.length;e<n;e++)if(this.array_[e]===t)return!0;return!1},Z.prototype.add=function(t){return!this.contains(t)&&(this.array_.push(t),!0)},Z.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},Z.prototype.remove=function(t){throw new javascript.util.OperationNotSupported},Z.prototype.size=function(){return this.array_.length},Z.prototype.isEmpty=function(){return 0===this.array_.length},Z.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},Z.prototype.iterator=function(){return new ua(this)};var ua=function(t){this.hashSet_=t,this.position_=0};ua.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new v;return this.hashSet_.array_[this.position_++]},ua.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},ua.prototype.remove=function(){throw new y};var la=0;et.prototype=new Y,et.prototype.get=function(t){for(var e=this.root_;null!==e;){var n=t.compareTo(e.key);if(n<0)e=e.left;else{if(!(n>0))return e.value;e=e.right}}return null},et.prototype.put=function(t,e){if(null===this.root_)return this.root_={key:t,value:e,left:null,right:null,parent:null,color:la,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var n,r,i=this.root_;do{if(n=i,(r=t.compareTo(i.key))<0)i=i.left;else{if(!(r>0)){var o=i.value;return i.value=e,o}i=i.right}}while(null!==i);var a={key:t,left:null,right:null,value:e,parent:n,color:la,getValue:function(){return this.value},getKey:function(){return this.key}};return r<0?n.left=a:n.right=a,this.fixAfterInsertion(a),this.size_++,null},et.prototype.fixAfterInsertion=function(t){for(t.color=1;null!=t&&t!=this.root_&&1==t.parent.color;)if($(t)==J($($(t)))){var e=tt($($(t)));1==K(e)?(Q($(t),la),Q(e,la),Q($($(t)),1),t=$($(t))):(t==tt($(t))&&(t=$(t),this.rotateLeft(t)),Q($(t),la),Q($($(t)),1),this.rotateRight($($(t))))}else{var e=J($($(t)));1==K(e)?(Q($(t),la),Q(e,la),Q($($(t)),1),t=$($(t))):(t==J($(t))&&(t=$(t),this.rotateRight(t)),Q($(t),la),Q($($(t)),1),this.rotateLeft($($(t))))}this.root_.color=la},et.prototype.values=function(){var t=new b,e=this.getFirstEntry();if(null!==e)for(t.add(e.value);null!==(e=et.successor(e));)t.add(e.value);return t},et.prototype.entrySet=function(){var t=new Z,e=this.getFirstEntry();if(null!==e)for(t.add(e);null!==(e=et.successor(e));)t.add(e);return t},et.prototype.rotateLeft=function(t){if(null!=t){var e=t.right;t.right=e.left,null!=e.left&&(e.left.parent=t),e.parent=t.parent,null==t.parent?this.root_=e:t.parent.left==t?t.parent.left=e:t.parent.right=e,e.left=t,t.parent=e}},et.prototype.rotateRight=function(t){if(null!=t){var e=t.left;t.left=e.right,null!=e.right&&(e.right.parent=t),e.parent=t.parent,null==t.parent?this.root_=e:t.parent.right==t?t.parent.right=e:t.parent.left=e,e.right=t,t.parent=e}},et.prototype.getFirstEntry=function(){var t=this.root_;if(null!=t)for(;null!=t.left;)t=t.left;return t},et.successor=function(t){if(null===t)return null;if(null!==t.right){for(var e=t.right;null!==e.left;)e=e.left;return e}for(var e=t.parent,n=t;null!==e&&n===e.right;)n=e,e=e.parent;return e},et.prototype.size=function(){return this.size_},ia(nt.prototype,{interfaces_:function(){return[]},getClass:function(){return nt}}),rt.prototype=new X,it.prototype=new rt,it.prototype.contains=function(t){for(var e=0,n=this.array_.length;e<n;e++)if(0===this.array_[e].compareTo(t))return!0;return!1},it.prototype.add=function(t){if(this.contains(t))return!1;for(var e=0,n=this.array_.length;e<n;e++)if(1===this.array_[e].compareTo(t))return this.array_.splice(e,0,t),!0;return this.array_.push(t),!0},it.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},it.prototype.remove=function(t){throw new y},it.prototype.size=function(){return this.array_.length},it.prototype.isEmpty=function(){return 0===this.array_.length},it.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},it.prototype.iterator=function(){return new ca(this)};var ca=function(t){this.treeSet_=t,this.position_=0};ca.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new v;return this.treeSet_.array_[this.position_++]},ca.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},ca.prototype.remove=function(){throw new y},ot.sort=function(){var t,e,n,r,i=arguments[0];if(1===arguments.length)return r=function(t,e){return t.compareTo(e)},void i.sort(r);if(2===arguments.length)n=arguments[1],r=function(t,e){return n.compare(t,e)},i.sort(r);else{if(3===arguments.length){e=i.slice(arguments[1],arguments[2]),e.sort();var o=i.slice(0,arguments[1]).concat(e,i.slice(arguments[2],i.length));for(i.splice(0,i.length),t=0;t<o.length;t++)i.push(o[t]);return}if(4===arguments.length){for(e=i.slice(arguments[1],arguments[2]),n=arguments[3],r=function(t,e){return n.compare(t,e)},e.sort(r),o=i.slice(0,arguments[1]).concat(e,i.slice(arguments[2],i.length)),i.splice(0,i.length),t=0;t<o.length;t++)i.push(o[t]);return}}},ot.asList=function(t){for(var e=new b,n=0,r=t.length;n<r;n++)e.add(t[n]);return e},ia(at.prototype,{interfaces_:function(){return[]},getClass:function(){return at}}),at.toDimensionSymbol=function(t){switch(t){case at.FALSE:return at.SYM_FALSE;case at.TRUE:return at.SYM_TRUE;case at.DONTCARE:return at.SYM_DONTCARE;case at.P:return at.SYM_P;case at.L:return at.SYM_L;case at.A:return at.SYM_A}throw new n("Unknown dimension value: "+t)},at.toDimensionValue=function(t){switch(I.toUpperCase(t)){case at.SYM_FALSE:return at.FALSE;case at.SYM_TRUE:return at.TRUE;case at.SYM_DONTCARE:return at.DONTCARE;case at.SYM_P:return at.P;case at.SYM_L:return at.L;case at.SYM_A:return at.A}throw new n("Unknown dimension symbol: "+t)},at.P=0,at.L=1,at.A=2,at.FALSE=-1,at.TRUE=-2,at.DONTCARE=-3,at.SYM_FALSE="F",at.SYM_TRUE="T",at.SYM_DONTCARE="*",at.SYM_P="0",at.SYM_L="1",at.SYM_A="2",ia(st.prototype,{filter:function(t){},interfaces_:function(){return[]},getClass:function(){return st}}),ia(ut.prototype,{filter:function(t,e){},isDone:function(){},isGeometryChanged:function(){},interfaces_:function(){return[]},getClass:function(){return ut}}),oa(lt,D),ia(lt.prototype,{computeEnvelopeInternal:function(){for(var t=new x,e=0;e<this.geometries.length;e++)t.expandToInclude(this.geometries[e].getEnvelopeInternal());return t},getGeometryN:function(t){return this.geometries[t]},getSortIndex:function(){return D.SORTINDEX_GEOMETRYCOLLECTION},getCoordinates:function(){for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=0;n<this.geometries.length;n++)for(var r=this.geometries[n].getCoordinates(),i=0;i<r.length;i++)e++,t[e]=r[i];return t},getArea:function(){for(var t=0,e=0;e<this.geometries.length;e++)t+=this.geometries[e].getArea();return t},equalsExact:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(!this.isEquivalentClass(t))return!1;var n=t;if(this.geometries.length!==n.geometries.length)return!1;for(var r=0;r<this.geometries.length;r++)if(!this.geometries[r].equalsExact(n.geometries[r],e))return!1;return!0}return D.prototype.equalsExact.apply(this,arguments)},normalize:function(){for(var t=0;t<this.geometries.length;t++)this.geometries[t].normalize();ot.sort(this.geometries)},getCoordinate:function(){return this.isEmpty()?null:this.geometries[0].getCoordinate()},getBoundaryDimension:function(){for(var t=at.FALSE,e=0;e<this.geometries.length;e++)t=Math.max(t,this.geometries[e].getBoundaryDimension());return t},getDimension:function(){for(var t=at.FALSE,e=0;e<this.geometries.length;e++)t=Math.max(t,this.geometries[e].getDimension());return t},getLength:function(){for(var t=0,e=0;e<this.geometries.length;e++)t+=this.geometries[e].getLength();return t},getNumPoints:function(){for(var t=0,e=0;e<this.geometries.length;e++)t+=this.geometries[e].getNumPoints();return t},getNumGeometries:function(){return this.geometries.length},reverse:function(){for(var t=this.geometries.length,e=new Array(t).fill(null),n=0;n<this.geometries.length;n++)e[n]=this.geometries[n].reverse();return this.getFactory().createGeometryCollection(e)},compareToSameClass:function(){if(1===arguments.length){var t=arguments[0],e=new it(ot.asList(this.geometries)),n=new it(ot.asList(t.geometries));return this.compare(e,n)}if(2===arguments.length){for(var r=arguments[0],i=arguments[1],o=r,a=this.getNumGeometries(),s=o.getNumGeometries(),u=0;u<a&&u<s;){var l=this.getGeometryN(u),c=o.getGeometryN(u),h=l.compareToSameClass(c,i);if(0!==h)return h;u++}return u<a?1:u<s?-1:0}},apply:function(){if(sa(arguments[0],F))for(var t=arguments[0],e=0;e<this.geometries.length;e++)this.geometries[e].apply(t);else if(sa(arguments[0],ut)){var n=arguments[0];if(0===this.geometries.length)return null;for(var e=0;e<this.geometries.length&&(this.geometries[e].apply(n),!n.isDone());e++);n.isGeometryChanged()&&this.geometryChanged()}else if(sa(arguments[0],st)){var r=arguments[0];r.filter(this);for(var e=0;e<this.geometries.length;e++)this.geometries[e].apply(r)}else if(sa(arguments[0],k)){var i=arguments[0];i.filter(this);for(var e=0;e<this.geometries.length;e++)this.geometries[e].apply(i)}},getBoundary:function(){return this.checkNotGeometryCollection(this),c.shouldNeverReachHere(),null},clone:function(){var t=D.prototype.clone.call(this);t.geometries=new Array(this.geometries.length).fill(null);for(var e=0;e<this.geometries.length;e++)t.geometries[e]=this.geometries[e].clone();return t},getGeometryType:function(){return"GeometryCollection"},copy:function(){for(var t=new Array(this.geometries.length).fill(null),e=0;e<t.length;e++)t[e]=this.geometries[e].copy();return new lt(t,this.factory)},isEmpty:function(){for(var t=0;t<this.geometries.length;t++)if(!this.geometries[t].isEmpty())return!1;return!0},interfaces_:function(){return[]},getClass:function(){return lt}}),lt.serialVersionUID=-0x4f07bcb1f857d800,oa(ct,lt),ia(ct.prototype,{getSortIndex:function(){return D.SORTINDEX_MULTILINESTRING},equalsExact:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return!!this.isEquivalentClass(t)&&lt.prototype.equalsExact.call(this,t,e)}return lt.prototype.equalsExact.apply(this,arguments)},getBoundaryDimension:function(){return this.isClosed()?at.FALSE:0},isClosed:function(){if(this.isEmpty())return!1;for(var t=0;t<this.geometries.length;t++)if(!this.geometries[t].isClosed())return!1;return!0},getDimension:function(){return 1},reverse:function(){for(var t=this.geometries.length,e=new Array(t).fill(null),n=0;n<this.geometries.length;n++)e[t-1-n]=this.geometries[n].reverse();return this.getFactory().createMultiLineString(e)},getBoundary:function(){return new ht(this).getBoundary()},getGeometryType:function(){return"MultiLineString"},copy:function(){for(var t=new Array(this.geometries.length).fill(null),e=0;e<t.length;e++)t[e]=this.geometries[e].copy();return new ct(t,this.factory)},interfaces_:function(){return[nt]},getClass:function(){return ct}}),ct.serialVersionUID=0x7155d2ab4afa8000,ia(ht.prototype,{boundaryMultiLineString:function(t){if(this.geom.isEmpty())return this.getEmptyMultiPoint();var e=this.computeBoundaryCoordinates(t);return 1===e.length?this.geomFact.createPoint(e[0]):this.geomFact.createMultiPointFromCoords(e)},getBoundary:function(){return this.geom instanceof xt?this.boundaryLineString(this.geom):this.geom instanceof ct?this.boundaryMultiLineString(this.geom):this.geom.getBoundary()},boundaryLineString:function(t){return this.geom.isEmpty()?this.getEmptyMultiPoint():t.isClosed()?this.bnRule.isInBoundary(2)?t.getStartPoint():this.geomFact.createMultiPoint():this.geomFact.createMultiPoint([t.getStartPoint(),t.getEndPoint()])},getEmptyMultiPoint:function(){return this.geomFact.createMultiPoint()},computeBoundaryCoordinates:function(t){var e=new b;this.endpointMap=new et;for(var n=0;n<t.getNumGeometries();n++){var r=t.getGeometryN(n);0!==r.getNumPoints()&&(this.addEndpoint(r.getCoordinateN(0)),this.addEndpoint(r.getCoordinateN(r.getNumPoints()-1)))}for(var i=this.endpointMap.entrySet().iterator();i.hasNext();){var o=i.next(),a=o.getValue(),s=a.count;this.bnRule.isInBoundary(s)&&e.add(o.getKey())}return G.toCoordinateArray(e)},addEndpoint:function(t){var e=this.endpointMap.get(t);null===e&&(e=new ft,this.endpointMap.put(t,e)),e.count++},interfaces_:function(){return[]},getClass:function(){return ht}}),ht.getBoundary=function(){if(1===arguments.length){var t=arguments[0],e=new ht(t);return e.getBoundary()}if(2===arguments.length){var n=arguments[0],r=arguments[1],e=new ht(n,r);return e.getBoundary()}},ia(ft.prototype,{interfaces_:function(){return[]},getClass:function(){return ft}}),ia(bt.prototype,{interfaces_:function(){return[]},getClass:function(){return bt}}),bt.chars=function(t,e){for(var n=new Array(e).fill(null),r=0;r<e;r++)n[r]=t;return new String(n)},bt.getStackTrace=function(){if(1===arguments.length){var t=arguments[0],e=new gt,n=new dt(e);return t.printStackTrace(n),e.toString()}if(2===arguments.length){for(var r=arguments[0],i=arguments[1],o="",a=new pt(bt.getStackTrace(r)),s=new yt(a),u=0;u<i;u++)try{o+=s.readLine()+bt.NEWLINE}catch(t){if(!(t instanceof vt))throw t;c.shouldNeverReachHere()}return o}},bt.split=function(t,e){for(var n=e.length,r=new b,i=""+t,o=i.indexOf(e);o>=0;){var a=i.substring(0,o);r.add(a),i=i.substring(o+n),o=i.indexOf(e)}i.length>0&&r.add(i);for(var s=new Array(r.size()).fill(null),u=0;u<s.length;u++)s[u]=r.get(u);return s},bt.toString=function(){if(1===arguments.length){var t=arguments[0];return bt.SIMPLE_ORDINATE_FORMAT.format(t)}},bt.spaces=function(t){return bt.chars(" ",t)},bt.NEWLINE=R.getProperty("line.separator"),bt.SIMPLE_ORDINATE_FORMAT=new mt("0.#"),ia(wt.prototype,{interfaces_:function(){return[]},getClass:function(){return wt}}),wt.copyCoord=function(t,e,n,r){for(var i=Math.min(t.getDimension(),n.getDimension()),o=0;o<i;o++)n.setOrdinate(r,o,t.getOrdinate(e,o))},wt.isRing=function(t){var e=t.size();return 0===e||!(e<=3)&&t.getOrdinate(0,L.X)===t.getOrdinate(e-1,L.X)&&t.getOrdinate(0,L.Y)===t.getOrdinate(e-1,L.Y)},wt.isEqual=function(t,e){var n=t.size();if(n!==e.size())return!1;for(var i=Math.min(t.getDimension(),e.getDimension()),o=0;o<n;o++)for(var a=0;a<i;a++){var s=t.getOrdinate(o,a),u=e.getOrdinate(o,a);if(!(t.getOrdinate(o,a)===e.getOrdinate(o,a)||r.isNaN(s)&&r.isNaN(u)))return!1}return!0},wt.extend=function(t,e,n){var r=t.create(n,e.getDimension()),i=e.size();if(wt.copy(e,0,r,0,i),i>0)for(var o=i;o<n;o++)wt.copy(e,i-1,r,o,1);return r},wt.reverse=function(t){for(var e=t.size()-1,n=Math.trunc(e/2),r=0;r<=n;r++)wt.swap(t,r,e-r)},wt.swap=function(t,e,n){if(e===n)return null;for(var r=0;r<t.getDimension();r++){var i=t.getOrdinate(e,r);t.setOrdinate(e,r,t.getOrdinate(n,r)),t.setOrdinate(n,r,i)}},wt.copy=function(t,e,n,r,i){for(var o=0;o<i;o++)wt.copyCoord(t,e+o,n,r+o)},wt.toString=function(){if(1===arguments.length){var t=arguments[0],e=t.size();if(0===e)return"()";var n=t.getDimension(),r=new T;r.append("(");for(var i=0;i<e;i++){i>0&&r.append(" ");for(var o=0;o<n;o++)o>0&&r.append(","),r.append(bt.toString(t.getOrdinate(i,o)))}return r.append(")"),r.toString()}},wt.ensureValidRing=function(t,e){var n=e.size();return 0===n?e:n<=3?wt.createClosedRing(t,e,4):e.getOrdinate(0,L.X)===e.getOrdinate(n-1,L.X)&&e.getOrdinate(0,L.Y)===e.getOrdinate(n-1,L.Y)?e:wt.createClosedRing(t,e,n+1)},wt.createClosedRing=function(t,e,n){var r=t.create(n,e.getDimension()),i=e.size();wt.copy(e,0,r,0,i);for(var o=i;o<n;o++)wt.copy(e,0,r,o,1);return r},oa(xt,D),ia(xt.prototype,{computeEnvelopeInternal:function(){return this.isEmpty()?new x:this.points.expandEnvelope(new x)},isRing:function(){return this.isClosed()&&this.isSimple()},getSortIndex:function(){return D.SORTINDEX_LINESTRING},getCoordinates:function(){return this.points.toCoordinateArray()},equalsExact:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(!this.isEquivalentClass(t))return!1;var n=t;if(this.points.size()!==n.points.size())return!1;for(var r=0;r<this.points.size();r++)if(!this.equal(this.points.getCoordinate(r),n.points.getCoordinate(r),e))return!1;return!0}return D.prototype.equalsExact.apply(this,arguments)},normalize:function(){for(var t=0;t<Math.trunc(this.points.size()/2);t++){var e=this.points.size()-1-t;if(!this.points.getCoordinate(t).equals(this.points.getCoordinate(e)))return this.points.getCoordinate(t).compareTo(this.points.getCoordinate(e))>0&&wt.reverse(this.points),null}},getCoordinate:function(){return this.isEmpty()?null:this.points.getCoordinate(0)},getBoundaryDimension:function(){return this.isClosed()?at.FALSE:0},isClosed:function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},getEndPoint:function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},getDimension:function(){return 1},getLength:function(){return ae.computeLength(this.points)},getNumPoints:function(){return this.points.size()},reverse:function(){var t=this.points.copy();return wt.reverse(t),this.getFactory().createLineString(t)},compareToSameClass:function(){if(1===arguments.length){for(var t=arguments[0],e=t,n=0,r=0;n<this.points.size()&&r<e.points.size();){var i=this.points.getCoordinate(n).compareTo(e.points.getCoordinate(r));if(0!==i)return i;n++,r++}return n<this.points.size()?1:r<e.points.size()?-1:0}if(2===arguments.length){var o=arguments[0],a=arguments[1],e=o;return a.compare(this.points,e.points)}},apply:function(){if(sa(arguments[0],F))for(var t=arguments[0],e=0;e<this.points.size();e++)t.filter(this.points.getCoordinate(e));else if(sa(arguments[0],ut)){var n=arguments[0];if(0===this.points.size())return null;for(var e=0;e<this.points.size()&&(n.filter(this.points,e),!n.isDone());e++);n.isGeometryChanged()&&this.geometryChanged()}else if(sa(arguments[0],st)){var r=arguments[0];r.filter(this)}else if(sa(arguments[0],k)){var i=arguments[0];i.filter(this)}},getBoundary:function(){return new ht(this).getBoundary()},isEquivalentClass:function(t){return t instanceof xt},clone:function(){var t=D.prototype.clone.call(this);return t.points=this.points.clone(),t},getCoordinateN:function(t){return this.points.getCoordinate(t)},getGeometryType:function(){return"LineString"},copy:function(){return new xt(this.points.copy(),this.factory)},getCoordinateSequence:function(){return this.points},isEmpty:function(){return 0===this.points.size()},init:function(t){if(null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),1===t.size())throw new n("Invalid number of points in LineString (found "+t.size()+" - must be 0 or >= 2)");this.points=t},isCoordinate:function(t){for(var e=0;e<this.points.size();e++)if(this.points.getCoordinate(e).equals(t))return!0;return!1},getStartPoint:function(){return this.isEmpty()?null:this.getPointN(0)},getPointN:function(t){return this.getFactory().createPoint(this.points.getCoordinate(t))},interfaces_:function(){return[nt]},getClass:function(){return xt}}),xt.serialVersionUID=0x2b2b51ba435c8e00,ia(_t.prototype,{interfaces_:function(){return[]},getClass:function(){return _t}}),oa(Et,D),ia(Et.prototype,{computeEnvelopeInternal:function(){if(this.isEmpty())return new x;var t=new x;return t.expandToInclude(this.coordinates.getX(0),this.coordinates.getY(0)),t},getSortIndex:function(){return D.SORTINDEX_POINT},getCoordinates:function(){return this.isEmpty()?[]:[this.getCoordinate()]},equalsExact:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return!!this.isEquivalentClass(t)&&(!(!this.isEmpty()||!t.isEmpty())||this.isEmpty()===t.isEmpty()&&this.equal(t.getCoordinate(),this.getCoordinate(),e))}return D.prototype.equalsExact.apply(this,arguments)},normalize:function(){},getCoordinate:function(){return 0!==this.coordinates.size()?this.coordinates.getCoordinate(0):null},getBoundaryDimension:function(){return at.FALSE},getDimension:function(){return 0},getNumPoints:function(){return this.isEmpty()?0:1},reverse:function(){return this.copy()},getX:function(){if(null===this.getCoordinate())throw new IllegalStateException("getX called on empty Point");return this.getCoordinate().x},compareToSameClass:function(){if(1===arguments.length){var t=arguments[0],e=t;return this.getCoordinate().compareTo(e.getCoordinate())}if(2===arguments.length){var n=arguments[0],r=arguments[1],e=n;return r.compare(this.coordinates,e.coordinates)}},apply:function(){if(sa(arguments[0],F)){var t=arguments[0];if(this.isEmpty())return null;t.filter(this.getCoordinate())}else if(sa(arguments[0],ut)){var e=arguments[0];if(this.isEmpty())return null;e.filter(this.coordinates,0),e.isGeometryChanged()&&this.geometryChanged()}else if(sa(arguments[0],st)){var n=arguments[0];n.filter(this)}else if(sa(arguments[0],k)){var r=arguments[0];r.filter(this)}},getBoundary:function(){return this.getFactory().createGeometryCollection(null)},clone:function(){var t=D.prototype.clone.call(this);return t.coordinates=this.coordinates.clone(),t},getGeometryType:function(){return"Point"},copy:function(){return new Et(this.coordinates.copy(),this.factory)},getCoordinateSequence:function(){return this.coordinates},getY:function(){if(null===this.getCoordinate())throw new IllegalStateException("getY called on empty Point");return this.getCoordinate().y},isEmpty:function(){return 0===this.coordinates.size()},init:function(t){null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),c.isTrue(t.size()<=1),this.coordinates=t},isSimple:function(){return!0},interfaces_:function(){return[_t]},getClass:function(){return Et}}),Et.serialVersionUID=0x44077bad161cbc00,ia(Mt.prototype,{interfaces_:function(){return[]},getClass:function(){return Mt}}),oa(St,D),ia(St.prototype,{computeEnvelopeInternal:function(){return this.shell.getEnvelopeInternal()},getSortIndex:function(){return D.SORTINDEX_POLYGON},getCoordinates:function(){if(this.isEmpty())return[];for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=this.shell.getCoordinates(),r=0;r<n.length;r++)e++,t[e]=n[r];for(var i=0;i<this.holes.length;i++)for(var o=this.holes[i].getCoordinates(),a=0;a<o.length;a++)e++,t[e]=o[a];return t},getArea:function(){var t=0;t+=Math.abs(ae.signedArea(this.shell.getCoordinateSequence()));for(var e=0;e<this.holes.length;e++)t-=Math.abs(ae.signedArea(this.holes[e].getCoordinateSequence()));return t},isRectangle:function(){if(0!==this.getNumInteriorRing())return!1;if(null===this.shell)return!1;if(5!==this.shell.getNumPoints())return!1;for(var t=this.shell.getCoordinateSequence(),e=this.getEnvelopeInternal(),n=0;n<5;n++){var r=t.getX(n);if(r!==e.getMinX()&&r!==e.getMaxX())return!1;var i=t.getY(n);if(i!==e.getMinY()&&i!==e.getMaxY())return!1}for(var o=t.getX(0),a=t.getY(0),n=1;n<=4;n++){var r=t.getX(n),i=t.getY(n);if(r!==o==(i!==a))return!1;o=r,a=i}return!0},equalsExact:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(!this.isEquivalentClass(t))return!1;var n=t,r=this.shell,i=n.shell;if(!r.equalsExact(i,e))return!1;if(this.holes.length!==n.holes.length)return!1;for(var o=0;o<this.holes.length;o++)if(!this.holes[o].equalsExact(n.holes[o],e))return!1;return!0}return D.prototype.equalsExact.apply(this,arguments)},normalize:function(){if(0===arguments.length){this.normalize(this.shell,!0);for(var t=0;t<this.holes.length;t++)this.normalize(this.holes[t],!1);ot.sort(this.holes)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(e.isEmpty())return null;var r=new Array(e.getCoordinates().length-1).fill(null);R.arraycopy(e.getCoordinates(),0,r,0,r.length);var i=G.minCoordinate(e.getCoordinates());G.scroll(r,i),R.arraycopy(r,0,e.getCoordinates(),0,r.length),e.getCoordinates()[r.length]=r[0],ae.isCCW(e.getCoordinates())===n&&G.reverse(e.getCoordinates())}},getCoordinate:function(){return this.shell.getCoordinate()},getNumInteriorRing:function(){return this.holes.length},getBoundaryDimension:function(){return 1},getDimension:function(){return 2},getLength:function(){var t=0;t+=this.shell.getLength();for(var e=0;e<this.holes.length;e++)t+=this.holes[e].getLength();return t},getNumPoints:function(){for(var t=this.shell.getNumPoints(),e=0;e<this.holes.length;e++)t+=this.holes[e].getNumPoints();return t},reverse:function(){var t=this.copy();t.shell=this.shell.copy().reverse(),t.holes=new Array(this.holes.length).fill(null);for(var e=0;e<this.holes.length;e++)t.holes[e]=this.holes[e].copy().reverse();return t},convexHull:function(){return this.getExteriorRing().convexHull()},compareToSameClass:function(){if(1===arguments.length){var t=arguments[0],e=this.shell,n=t.shell;return e.compareToSameClass(n)}if(2===arguments.length){var r=arguments[0],i=arguments[1],o=r,e=this.shell,n=o.shell,a=e.compareToSameClass(n,i);if(0!==a)return a;for(var s=this.getNumInteriorRing(),u=o.getNumInteriorRing(),l=0;l<s&&l<u;){var c=this.getInteriorRingN(l),h=o.getInteriorRingN(l),f=c.compareToSameClass(h,i);if(0!==f)return f;l++}return l<s?1:l<u?-1:0}},apply:function(){if(sa(arguments[0],F)){var t=arguments[0];this.shell.apply(t);for(var e=0;e<this.holes.length;e++)this.holes[e].apply(t)}else if(sa(arguments[0],ut)){var n=arguments[0];if(this.shell.apply(n),!n.isDone())for(var e=0;e<this.holes.length&&(this.holes[e].apply(n),!n.isDone());e++);n.isGeometryChanged()&&this.geometryChanged()}else if(sa(arguments[0],st)){var r=arguments[0];r.filter(this)}else if(sa(arguments[0],k)){var i=arguments[0];i.filter(this),this.shell.apply(i);for(var e=0;e<this.holes.length;e++)this.holes[e].apply(i)}},getBoundary:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var t=new Array(this.holes.length+1).fill(null);t[0]=this.shell;for(var e=0;e<this.holes.length;e++)t[e+1]=this.holes[e];return t.length<=1?this.getFactory().createLinearRing(t[0].getCoordinateSequence()):this.getFactory().createMultiLineString(t)},clone:function(){var t=D.prototype.clone.call(this);t.shell=this.shell.clone(),t.holes=new Array(this.holes.length).fill(null);for(var e=0;e<this.holes.length;e++)t.holes[e]=this.holes[e].clone();return t},getGeometryType:function(){return"Polygon"},copy:function(){for(var t=this.shell.copy(),e=new Array(this.holes.length).fill(null),n=0;n<e.length;n++)e[n]=this.holes[n].copy();return new St(t,e,this.factory)},getExteriorRing:function(){return this.shell},isEmpty:function(){return this.shell.isEmpty()},getInteriorRingN:function(t){return this.holes[t]},interfaces_:function(){return[Mt]},getClass:function(){return St}}),St.serialVersionUID=-0x307ffefd8dc97200,oa(Tt,lt),ia(Tt.prototype,{getSortIndex:function(){return D.SORTINDEX_MULTIPOINT},isValid:function(){return!0},equalsExact:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return!!this.isEquivalentClass(t)&&lt.prototype.equalsExact.call(this,t,e)}return lt.prototype.equalsExact.apply(this,arguments)},getCoordinate:function(){if(1===arguments.length){var t=arguments[0];return this.geometries[t].getCoordinate()}return lt.prototype.getCoordinate.apply(this,arguments)},getBoundaryDimension:function(){return at.FALSE},getDimension:function(){return 0},getBoundary:function(){return this.getFactory().createGeometryCollection(null)},getGeometryType:function(){return"MultiPoint"},copy:function(){for(var t=new Array(this.geometries.length).fill(null),e=0;e<t.length;e++)t[e]=this.geometries[e].copy();return new Tt(t,this.factory)},interfaces_:function(){return[_t]},getClass:function(){return Tt}}),Tt.serialVersionUID=-0x6fb1ed4162e0fc00,oa(Ct,xt),ia(Ct.prototype,{getSortIndex:function(){return D.SORTINDEX_LINEARRING},getBoundaryDimension:function(){return at.FALSE},isClosed:function(){return!!this.isEmpty()||xt.prototype.isClosed.call(this)},reverse:function(){var t=this.points.copy();return wt.reverse(t),this.getFactory().createLinearRing(t)},validateConstruction:function(){if(!this.isEmpty()&&!xt.prototype.isClosed.call(this))throw new n("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<Ct.MINIMUM_VALID_SIZE)throw new n("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},getGeometryType:function(){return"LinearRing"},copy:function(){return new Ct(this.points.copy(),this.factory)},interfaces_:function(){return[]},getClass:function(){return Ct}}),Ct.MINIMUM_VALID_SIZE=4,Ct.serialVersionUID=-0x3b229e262367a600,oa(It,lt),ia(It.prototype,{getSortIndex:function(){return D.SORTINDEX_MULTIPOLYGON},equalsExact:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return!!this.isEquivalentClass(t)&&lt.prototype.equalsExact.call(this,t,e)}return lt.prototype.equalsExact.apply(this,arguments)},getBoundaryDimension:function(){return 1},getDimension:function(){return 2},reverse:function(){for(var t=this.geometries.length,e=new Array(t).fill(null),n=0;n<this.geometries.length;n++)e[n]=this.geometries[n].reverse();return this.getFactory().createMultiPolygon(e)},getBoundary:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var t=new b,e=0;e<this.geometries.length;e++)for(var n=this.geometries[e],r=n.getBoundary(),i=0;i<r.getNumGeometries();i++)t.add(r.getGeometryN(i));var o=new Array(t.size()).fill(null);return this.getFactory().createMultiLineString(t.toArray(o))},getGeometryType:function(){return"MultiPolygon"},copy:function(){for(var t=new Array(this.geometries.length).fill(null),e=0;e<t.length;e++)t[e]=this.geometries[e].copy();return new It(t,this.factory)},interfaces_:function(){return[Mt]},getClass:function(){return It}}),It.serialVersionUID=-0x7a5aa1369171980,ia(Ot.prototype,{setCopyUserData:function(t){this.isUserDataCopied=t},edit:function(t,e){if(null===t)return null;var n=this.editInternal(t,e);return this.isUserDataCopied&&n.setUserData(t.getUserData()),n},editInternal:function(t,e){return null===this.factory&&(this.factory=t.getFactory()),t instanceof lt?this.editGeometryCollection(t,e):t instanceof St?this.editPolygon(t,e):t instanceof Et?e.edit(t,this.factory):t instanceof xt?e.edit(t,this.factory):(c.shouldNeverReachHere("Unsupported Geometry class: "+t.getClass().getName()),null)},editGeometryCollection:function(t,e){for(var n=e.edit(t,this.factory),r=new b,i=0;i<n.getNumGeometries();i++){var o=this.edit(n.getGeometryN(i),e);null===o||o.isEmpty()||r.add(o)}return n.getClass()===Tt?this.factory.createMultiPoint(r.toArray([])):n.getClass()===ct?this.factory.createMultiLineString(r.toArray([])):n.getClass()===It?this.factory.createMultiPolygon(r.toArray([])):this.factory.createGeometryCollection(r.toArray([]))},editPolygon:function(t,e){var n=e.edit(t,this.factory);if(null===n&&(n=this.factory.createPolygon(null)),n.isEmpty())return n;var r=this.edit(n.getExteriorRing(),e);if(null===r||r.isEmpty())return this.factory.createPolygon();for(var i=new b,o=0;o<n.getNumInteriorRing();o++){var a=this.edit(n.getInteriorRingN(o),e);null===a||a.isEmpty()||i.add(a)}return this.factory.createPolygon(r,i.toArray([]))},interfaces_:function(){return[]},getClass:function(){return Ot}}),Ot.GeometryEditorOperation=At,ia(Lt.prototype,{edit:function(t,e){return t},interfaces_:function(){return[At]},getClass:function(){return Lt}}),ia(Rt.prototype,{edit:function(t,e){var n=this.editCoordinates(t.getCoordinates(),t);return null===n?t:t instanceof Ct?e.createLinearRing(n):t instanceof xt?e.createLineString(n):t instanceof Et?n.length>0?e.createPoint(n[0]):e.createPoint():t},interfaces_:function(){return[At]},getClass:function(){return Rt}}),ia(Nt.prototype,{edit:function(t,e){return t instanceof Ct?e.createLinearRing(this.edit(t.getCoordinateSequence(),t)):t instanceof xt?e.createLineString(this.edit(t.getCoordinateSequence(),t)):t instanceof Et?e.createPoint(this.edit(t.getCoordinateSequence(),t)):t},interfaces_:function(){return[At]},getClass:function(){return Nt}}),Ot.NoOpGeometryOperation=Lt,Ot.CoordinateOperation=Rt,Ot.CoordinateSequenceOperation=Nt,ia(Pt.prototype,{setOrdinate:function(t,e,r){switch(e){case L.X:this.coordinates[t].x=r;break;case L.Y:this.coordinates[t].y=r;break;case L.Z:this.coordinates[t].z=r;break;default:throw new n("invalid ordinateIndex")}},size:function(){return this.coordinates.length},getOrdinate:function(t,e){switch(e){case L.X:return this.coordinates[t].x;case L.Y:return this.coordinates[t].y;case L.Z:return this.coordinates[t].z}return r.NaN},getCoordinate:function(){if(1===arguments.length){var t=arguments[0];return this.coordinates[t]}if(2===arguments.length){var e=arguments[0],n=arguments[1];n.x=this.coordinates[e].x,n.y=this.coordinates[e].y,n.z=this.coordinates[e].z}},getCoordinateCopy:function(t){return new h(this.coordinates[t])},getDimension:function(){return this.dimension},getX:function(t){return this.coordinates[t].x},clone:function(){for(var t=new Array(this.size()).fill(null),e=0;e<this.coordinates.length;e++)t[e]=this.coordinates[e].clone();return new Pt(t,this.dimension)},expandEnvelope:function(t){for(var e=0;e<this.coordinates.length;e++)t.expandToInclude(this.coordinates[e]);return t},copy:function(){for(var t=new Array(this.size()).fill(null),e=0;e<this.coordinates.length;e++)t[e]=this.coordinates[e].copy();return new Pt(t,this.dimension)},toString:function(){if(this.coordinates.length>0){var t=new T(17*this.coordinates.length);t.append("("),t.append(this.coordinates[0]);for(var e=1;e<this.coordinates.length;e++)t.append(", "),t.append(this.coordinates[e]);return t.append(")"),t.toString()}return"()"},getY:function(t){return this.coordinates[t].y},toCoordinateArray:function(){return this.coordinates},interfaces_:function(){return[L,s]},getClass:function(){return Pt}}),Pt.serialVersionUID=-0xcb44a778db18e00,ia(kt.prototype,{readResolve:function(){return kt.instance()},create:function(){if(1===arguments.length){if(arguments[0]instanceof Array)return new Pt(arguments[0]);if(sa(arguments[0],L))return new Pt(arguments[0])}else if(2===arguments.length){var t=arguments[0],e=arguments[1];return e>3&&(e=3),e<2?new Pt(t):new Pt(t,e)}},interfaces_:function(){return[P,s]},getClass:function(){return kt}}),kt.instance=function(){return kt.instanceObject},kt.serialVersionUID=-0x38e49fa6cf6f2e00,kt.instanceObject=new kt;var ha,fa=Object.defineProperty,da=function(t,e){function n(t){if(!this||this.constructor!==n)return new n(t);this._keys=[],this._values=[],this._itp=[],this.objectOnly=e,t&&Ft.call(this,t)}return e||fa(t,"size",{get:Xt}),t.constructor=n,n.prototype=t,n}({delete:jt,has:zt,get:Ut,set:Vt,keys:Ht,values:qt,entries:Wt,forEach:Zt,clear:Gt}),pa="undefined"!=typeof Map&&Map.prototype.values?Map:da;Kt.prototype=new W,Kt.prototype.get=function(t){return this.map_.get(t)||null},Kt.prototype.put=function(t,e){return this.map_.set(t,e),e},Kt.prototype.values=function(){for(var t=new b,e=this.map_.values(),n=e.next();!n.done;)t.add(n.value),n=e.next();return t},Kt.prototype.entrySet=function(){var t=new Z;return this.map_.entries().forEach(function(e){return t.add(e)}),t},Kt.prototype.size=function(){return this.map_.size()},ia($t.prototype,{equals:function(t){if(!(t instanceof $t))return!1;var e=t;return this.modelType===e.modelType&&this.scale===e.scale},compareTo:function(t){var e=t,n=this.getMaximumSignificantDigits(),r=e.getMaximumSignificantDigits();return new C(n).compareTo(new C(r))},getScale:function(){return this.scale},isFloating:function(){return this.modelType===$t.FLOATING||this.modelType===$t.FLOATING_SINGLE},getType:function(){return this.modelType},toString:function(){var t="UNKNOWN";return this.modelType===$t.FLOATING?t="Floating":this.modelType===$t.FLOATING_SINGLE?t="Floating-Single":this.modelType===$t.FIXED&&(t="Fixed (Scale="+this.getScale()+")"),t},makePrecise:function(){if("number"==typeof arguments[0]){var t=arguments[0];return r.isNaN(t)?t:this.modelType===$t.FLOATING_SINGLE?t:this.modelType===$t.FIXED?Math.round(t*this.scale)/this.scale:t}if(arguments[0]instanceof h){var e=arguments[0];if(this.modelType===$t.FLOATING)return null;e.x=this.makePrecise(e.x),e.y=this.makePrecise(e.y)}},getMaximumSignificantDigits:function(){var t=16;return this.modelType===$t.FLOATING?t=16:this.modelType===$t.FLOATING_SINGLE?t=6:this.modelType===$t.FIXED&&(t=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),t},setScale:function(t){this.scale=Math.abs(t)},interfaces_:function(){return[s,i]},getClass:function(){return $t}}),$t.mostPrecise=function(t,e){return t.compareTo(e)>=0?t:e},ia(Qt.prototype,{readResolve:function(){return Qt.nameToTypeMap.get(this.name)},toString:function(){return this.name},interfaces_:function(){return[s]},getClass:function(){return Qt}}),Qt.serialVersionUID=-552860263173159e4,Qt.nameToTypeMap=new Kt,$t.Type=Qt,$t.serialVersionUID=0x6bee6404e9a25c00,$t.FIXED=new Qt("FIXED"),$t.FLOATING=new Qt("FLOATING"),$t.FLOATING_SINGLE=new Qt("FLOATING SINGLE"),$t.maximumPreciseValue=9007199254740992,ia(Jt.prototype,{toGeometry:function(t){return t.isNull()?this.createPoint(null):t.getMinX()===t.getMaxX()&&t.getMinY()===t.getMaxY()?this.createPoint(new h(t.getMinX(),t.getMinY())):t.getMinX()===t.getMaxX()||t.getMinY()===t.getMaxY()?this.createLineString([new h(t.getMinX(),t.getMinY()),new h(t.getMaxX(),t.getMaxY())]):this.createPolygon(this.createLinearRing([new h(t.getMinX(),t.getMinY()),new h(t.getMinX(),t.getMaxY()),new h(t.getMaxX(),t.getMaxY()),new h(t.getMaxX(),t.getMinY()),new h(t.getMinX(),t.getMinY())]),null)},createLineString:function(){if(0===arguments.length)return this.createLineString(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return this.createLineString(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(sa(arguments[0],L))return new xt(arguments[0],this)}},createMultiLineString:function(){return 0===arguments.length?new ct(null,this):1===arguments.length?new ct(arguments[0],this):void 0},buildGeometry:function(t){for(var e=null,n=!1,r=!1,i=t.iterator();i.hasNext();){var o=i.next(),a=o.getClass();null===e&&(e=a),a!==e&&(n=!0),o.isGeometryCollectionOrDerived()&&(r=!0)}if(null===e)return this.createGeometryCollection();if(n||r)return this.createGeometryCollection(Jt.toGeometryArray(t));var s=t.iterator().next();if(t.size()>1){if(s instanceof St)return this.createMultiPolygon(Jt.toPolygonArray(t));if(s instanceof xt)return this.createMultiLineString(Jt.toLineStringArray(t));if(s instanceof Et)return this.createMultiPoint(Jt.toPointArray(t));c.shouldNeverReachHere("Unhandled class: "+s.getClass().getName())}return s},createMultiPointFromCoords:function(t){return this.createMultiPoint(null!==t?this.getCoordinateSequenceFactory().create(t):null)},createPoint:function(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof h){var t=arguments[0];return this.createPoint(null!==t?this.getCoordinateSequenceFactory().create([t]):null)}if(sa(arguments[0],L))return new Et(arguments[0],this)}},getCoordinateSequenceFactory:function(){return this.coordinateSequenceFactory},createPolygon:function(){if(0===arguments.length)return new St(null,null,this);if(1===arguments.length){if(sa(arguments[0],L)){var t=arguments[0];return this.createPolygon(this.createLinearRing(t))}if(arguments[0]instanceof Array){var e=arguments[0];return this.createPolygon(this.createLinearRing(e))}if(arguments[0]instanceof Ct){var n=arguments[0];return this.createPolygon(n,null)}}else if(2===arguments.length){var r=arguments[0],i=arguments[1];return new St(r,i,this)}},getSRID:function(){return this.SRID},createGeometryCollection:function(){return 0===arguments.length?new lt(null,this):1===arguments.length?new lt(arguments[0],this):void 0},createGeometry:function(t){return new Ot(this).edit(t,{edit:function(){if(2===arguments.length){var t=arguments[0];return arguments[1],this.coordinateSequenceFactory.create(t)}}})},getPrecisionModel:function(){return this.precisionModel},createLinearRing:function(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return this.createLinearRing(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(sa(arguments[0],L))return new Ct(arguments[0],this)}},createMultiPolygon:function(){return 0===arguments.length?new It(null,this):1===arguments.length?new It(arguments[0],this):void 0},createMultiPoint:function(){if(0===arguments.length)return new Tt(null,this);if(1===arguments.length){if(arguments[0]instanceof Array)return new Tt(arguments[0],this);if(arguments[0]instanceof Array){var t=arguments[0];return this.createMultiPoint(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(sa(arguments[0],L)){var e=arguments[0];if(null===e)return this.createMultiPoint(new Array(0).fill(null));for(var n=new Array(e.size()).fill(null),r=0;r<e.size();r++){var i=this.getCoordinateSequenceFactory().create(1,e.getDimension());wt.copy(e,r,i,0,1),n[r]=this.createPoint(i)}return this.createMultiPoint(n)}}},interfaces_:function(){return[s]},getClass:function(){return Jt}}),Jt.toMultiPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Jt.toGeometryArray=function(t){if(null===t)return null;var e=new Array(t.size()).fill(null);return t.toArray(e)},Jt.getDefaultCoordinateSequenceFactory=function(){return kt.instance()},Jt.toMultiLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Jt.toLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Jt.toMultiPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Jt.toLinearRingArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Jt.toPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Jt.toPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Jt.createPointFromInternalCoord=function(t,e){return e.getPrecisionModel().makePrecise(t),e.getFactory().createPoint(t)},Jt.serialVersionUID=-0x5ea75f2051eeb400;var ma={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/};ia(te.prototype,{read:function(t){var e,n,r;t=t.replace(/[\n\r]/g," ");var i=ma.typeStr.exec(t);if(-1!==t.search("EMPTY")&&(i=ma.emptyTypeStr.exec(t),i[2]=void 0),i&&(n=i[1].toLowerCase(),r=i[2],va[n]&&(e=va[n].apply(this,[r]))),void 0===e)throw new Error("Could not parse WKT "+t);return e},write:function(t){return this.extractGeometry(t)},extractGeometry:function(t){var e=t.getGeometryType().toLowerCase();if(!ga[e])return null;var n=e.toUpperCase();return t.isEmpty()?n+" EMPTY":n+"("+ga[e].apply(this,[t])+")"}});var ga={coordinate:function(t){return t.x+" "+t.y},point:function(t){return ga.coordinate.call(this,t.coordinates.coordinates[0])},multipoint:function(t){for(var e=[],n=0,r=t.geometries.length;n<r;++n)e.push("("+ga.point.apply(this,[t.geometries[n]])+")");return e.join(",")},linestring:function(t){for(var e=[],n=0,r=t.points.coordinates.length;n<r;++n)e.push(ga.coordinate.apply(this,[t.points.coordinates[n]]));return e.join(",")},linearring:function(t){for(var e=[],n=0,r=t.points.coordinates.length;n<r;++n)e.push(ga.coordinate.apply(this,[t.points.coordinates[n]]));return e.join(",")},multilinestring:function(t){for(var e=[],n=0,r=t.geometries.length;n<r;++n)e.push("("+ga.linestring.apply(this,[t.geometries[n]])+")");return e.join(",")},polygon:function(t){var e=[];e.push("("+ga.linestring.apply(this,[t.shell])+")");for(var n=0,r=t.holes.length;n<r;++n)e.push("("+ga.linestring.apply(this,[t.holes[n]])+")");return e.join(",")},multipolygon:function(t){for(var e=[],n=0,r=t.geometries.length;n<r;++n)e.push("("+ga.polygon.apply(this,[t.geometries[n]])+")");return e.join(",")},geometrycollection:function(t){for(var e=[],n=0,r=t.geometries.length;n<r;++n)e.push(this.extractGeometry(t.geometries[n]));return e.join(",")}},va={point:function(t){if(void 0===t)return this.geometryFactory.createPoint();var e=t.trim().split(ma.spaces);return this.geometryFactory.createPoint(new h(Number.parseFloat(e[0]),Number.parseFloat(e[1])))},multipoint:function(t){if(void 0===t)return this.geometryFactory.createMultiPoint();for(var e,n=t.trim().split(","),r=[],i=0,o=n.length;i<o;++i)e=n[i].replace(ma.trimParens,"$1"),r.push(va.point.apply(this,[e]));return this.geometryFactory.createMultiPoint(r)},linestring:function(t){if(void 0===t)return this.geometryFactory.createLineString();for(var e,n=t.trim().split(","),r=[],i=0,o=n.length;i<o;++i)e=n[i].trim().split(ma.spaces),r.push(new h(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLineString(r)},linearring:function(t){if(void 0===t)return this.geometryFactory.createLinearRing();for(var e,n=t.trim().split(","),r=[],i=0,o=n.length;i<o;++i)e=n[i].trim().split(ma.spaces),r.push(new h(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLinearRing(r)},multilinestring:function(t){if(void 0===t)return this.geometryFactory.createMultiLineString();for(var e,n=t.trim().split(ma.parenComma),r=[],i=0,o=n.length;i<o;++i)e=n[i].replace(ma.trimParens,"$1"),r.push(va.linestring.apply(this,[e]));return this.geometryFactory.createMultiLineString(r)},polygon:function(t){if(void 0===t)return this.geometryFactory.createPolygon();for(var e,n,r,i,o=t.trim().split(ma.parenComma),a=[],s=0,u=o.length;s<u;++s)e=o[s].replace(ma.trimParens,"$1"),n=va.linestring.apply(this,[e]),r=this.geometryFactory.createLinearRing(n.points),0===s?i=r:a.push(r);return this.geometryFactory.createPolygon(i,a)},multipolygon:function(t){if(void 0===t)return this.geometryFactory.createMultiPolygon();for(var e,n=t.trim().split(ma.doubleParenComma),r=[],i=0,o=n.length;i<o;++i)e=n[i].replace(ma.trimParens,"$1"),r.push(va.polygon.apply(this,[e]));return this.geometryFactory.createMultiPolygon(r)},geometrycollection:function(t){if(void 0===t)return this.geometryFactory.createGeometryCollection();t=t.replace(/,\s*([A-Za-z])/g,"|$1");for(var e=t.trim().split("|"),n=[],r=0,i=e.length;r<i;++r)n.push(this.read(e[r]));return this.geometryFactory.createGeometryCollection(n)}};ia(ee.prototype,{write:function(t){return this.parser.write(t)}}),ia(ee,{toLineString:function(t,e){if(2!==arguments.length)throw new Error("Not implemented");return"LINESTRING ( "+t.x+" "+t.y+", "+e.x+" "+e.y+" )"}}),ia(ne.prototype,{getIndexAlongSegment:function(t,e){return this.computeIntLineIndex(),this.intLineIndex[t][e]},getTopologySummary:function(){var t=new T;return this.isEndPoint()&&t.append(" endpoint"),this._isProper&&t.append(" proper"),this.isCollinear()&&t.append(" collinear"),t.toString()},computeIntersection:function(t,e,n,r){this.inputLines[0][0]=t,this.inputLines[0][1]=e,this.inputLines[1][0]=n,this.inputLines[1][1]=r,this.result=this.computeIntersect(t,e,n,r)},getIntersectionNum:function(){return this.result},computeIntLineIndex:function(){if(0===arguments.length)null===this.intLineIndex&&(this.intLineIndex=Array(2).fill().map(function(){return Array(2)}),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){var t=arguments[0],e=this.getEdgeDistance(t,0),n=this.getEdgeDistance(t,1);e>n?(this.intLineIndex[t][0]=0,this.intLineIndex[t][1]=1):(this.intLineIndex[t][0]=1,this.intLineIndex[t][1]=0)}},isProper:function(){return this.hasIntersection()&&this._isProper},setPrecisionModel:function(t){this.precisionModel=t},isInteriorIntersection:function(){if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){for(var t=arguments[0],e=0;e<this.result;e++)if(!this.intPt[e].equals2D(this.inputLines[t][0])&&!this.intPt[e].equals2D(this.inputLines[t][1]))return!0;return!1}},getIntersection:function(t){return this.intPt[t]},isEndPoint:function(){return this.hasIntersection()&&!this._isProper},hasIntersection:function(){return this.result!==ne.NO_INTERSECTION},getEdgeDistance:function(t,e){return ne.computeEdgeDistance(this.intPt[e],this.inputLines[t][0],this.inputLines[t][1])},isCollinear:function(){return this.result===ne.COLLINEAR_INTERSECTION},toString:function(){return ee.toLineString(this.inputLines[0][0],this.inputLines[0][1])+" - "+ee.toLineString(this.inputLines[1][0],this.inputLines[1][1])+this.getTopologySummary()},getEndpoint:function(t,e){return this.inputLines[t][e]},isIntersection:function(t){for(var e=0;e<this.result;e++)if(this.intPt[e].equals2D(t))return!0;return!1},getIntersectionAlongSegment:function(t,e){return this.computeIntLineIndex(),this.intPt[this.intLineIndex[t][e]]},interfaces_:function(){return[]},getClass:function(){return ne}}),ne.computeEdgeDistance=function(t,e,n){var r=Math.abs(n.x-e.x),i=Math.abs(n.y-e.y),o=-1;if(t.equals(e))o=0;else if(t.equals(n))o=r>i?r:i;else{var a=Math.abs(t.x-e.x),s=Math.abs(t.y-e.y);0!==(o=r>i?a:s)||t.equals(e)||(o=Math.max(a,s))}return c.isTrue(!(0===o&&!t.equals(e)),"Bad distance calculation"),o},ne.nonRobustComputeEdgeDistance=function(t,e,n){var r=t.x-e.x,i=t.y-e.y,o=Math.sqrt(r*r+i*i);return c.isTrue(!(0===o&&!t.equals(e)),"Invalid distance calculation"),o},ne.DONT_INTERSECT=0,ne.DO_INTERSECT=1,ne.COLLINEAR=2,ne.NO_INTERSECTION=0,ne.POINT_INTERSECTION=1,ne.COLLINEAR_INTERSECTION=2,oa(re,ne),ia(re.prototype,{isInSegmentEnvelopes:function(t){var e=new x(this.inputLines[0][0],this.inputLines[0][1]),n=new x(this.inputLines[1][0],this.inputLines[1][1]);return e.contains(t)&&n.contains(t)},computeIntersection:function(){if(3!==arguments.length)return ne.prototype.computeIntersection.apply(this,arguments);var t=arguments[0],e=arguments[1],n=arguments[2];if(this._isProper=!1,x.intersects(e,n,t)&&0===ae.orientationIndex(e,n,t)&&0===ae.orientationIndex(n,e,t))return this._isProper=!0,(t.equals(e)||t.equals(n))&&(this._isProper=!1),this.result=ne.POINT_INTERSECTION,null;this.result=ne.NO_INTERSECTION},normalizeToMinimum:function(t,e,n,r,i){i.x=this.smallestInAbsValue(t.x,e.x,n.x,r.x),i.y=this.smallestInAbsValue(t.y,e.y,n.y,r.y),t.x-=i.x,t.y-=i.y,e.x-=i.x,e.y-=i.y,n.x-=i.x,n.y-=i.y,r.x-=i.x,r.y-=i.y},safeHCoordinateIntersection:function(t,e,n,r){var i=null;try{i=N.intersection(t,e,n,r)}catch(o){if(!(o instanceof E))throw o;i=re.nearestEndpoint(t,e,n,r)}return i},intersection:function(t,e,n,r){var i=this.intersectionWithNormalization(t,e,n,r);return this.isInSegmentEnvelopes(i)||(i=new h(re.nearestEndpoint(t,e,n,r))),null!==this.precisionModel&&this.precisionModel.makePrecise(i),i},smallestInAbsValue:function(t,e,n,r){var i=t,o=Math.abs(i);return Math.abs(e)<o&&(i=e,o=Math.abs(e)),Math.abs(n)<o&&(i=n,o=Math.abs(n)),Math.abs(r)<o&&(i=r),i},checkDD:function(t,e,n,r,i){var o=A.intersection(t,e,n,r),a=this.isInSegmentEnvelopes(o);R.out.println("DD in env = "+a+"  --------------------- "+o),i.distance(o)>1e-4&&R.out.println("Distance = "+i.distance(o))},intersectionWithNormalization:function(t,e,n,r){var i=new h(t),o=new h(e),a=new h(n),s=new h(r),u=new h;this.normalizeToEnvCentre(i,o,a,s,u);var l=this.safeHCoordinateIntersection(i,o,a,s);return l.x+=u.x,l.y+=u.y,l},computeCollinearIntersection:function(t,e,n,r){var i=x.intersects(t,e,n),o=x.intersects(t,e,r),a=x.intersects(n,r,t),s=x.intersects(n,r,e);return i&&o?(this.intPt[0]=n,this.intPt[1]=r,ne.COLLINEAR_INTERSECTION):a&&s?(this.intPt[0]=t,this.intPt[1]=e,ne.COLLINEAR_INTERSECTION):i&&a?(this.intPt[0]=n,this.intPt[1]=t,!n.equals(t)||o||s?ne.COLLINEAR_INTERSECTION:ne.POINT_INTERSECTION):i&&s?(this.intPt[0]=n,this.intPt[1]=e,!n.equals(e)||o||a?ne.COLLINEAR_INTERSECTION:ne.POINT_INTERSECTION):o&&a?(this.intPt[0]=r,this.intPt[1]=t,!r.equals(t)||i||s?ne.COLLINEAR_INTERSECTION:ne.POINT_INTERSECTION):o&&s?(this.intPt[0]=r,this.intPt[1]=e,!r.equals(e)||i||a?ne.COLLINEAR_INTERSECTION:ne.POINT_INTERSECTION):ne.NO_INTERSECTION},normalizeToEnvCentre:function(t,e,n,r,i){var o=t.x<e.x?t.x:e.x,a=t.y<e.y?t.y:e.y,s=t.x>e.x?t.x:e.x,u=t.y>e.y?t.y:e.y,l=n.x<r.x?n.x:r.x,c=n.y<r.y?n.y:r.y,h=n.x>r.x?n.x:r.x,f=n.y>r.y?n.y:r.y,d=o>l?o:l,p=s<h?s:h,m=a>c?a:c,g=u<f?u:f,v=(d+p)/2,y=(m+g)/2;i.x=v,i.y=y,t.x-=i.x,t.y-=i.y,e.x-=i.x,e.y-=i.y,n.x-=i.x,n.y-=i.y,r.x-=i.x,r.y-=i.y},computeIntersect:function(t,e,n,r){if(this._isProper=!1,!x.intersects(t,e,n,r))return ne.NO_INTERSECTION;var i=ae.orientationIndex(t,e,n),o=ae.orientationIndex(t,e,r);if(i>0&&o>0||i<0&&o<0)return ne.NO_INTERSECTION;var a=ae.orientationIndex(n,r,t),s=ae.orientationIndex(n,r,e);return a>0&&s>0||a<0&&s<0?ne.NO_INTERSECTION:0===i&&0===o&&0===a&&0===s?this.computeCollinearIntersection(t,e,n,r):(0===i||0===o||0===a||0===s?(this._isProper=!1,t.equals2D(n)||t.equals2D(r)?this.intPt[0]=t:e.equals2D(n)||e.equals2D(r)?this.intPt[0]=e:0===i?this.intPt[0]=new h(n):0===o?this.intPt[0]=new h(r):0===a?this.intPt[0]=new h(t):0===s&&(this.intPt[0]=new h(e))):(this._isProper=!0,this.intPt[0]=this.intersection(t,e,n,r)),ne.POINT_INTERSECTION)},interfaces_:function(){return[]},getClass:function(){return re}}),re.nearestEndpoint=function(t,e,n,r){var i=t,o=ae.distancePointLine(t,n,r),a=ae.distancePointLine(e,n,r);return a<o&&(o=a,i=e),a=ae.distancePointLine(n,t,e),a<o&&(o=a,i=n),a=ae.distancePointLine(r,t,e),a<o&&(o=a,i=r),i},ia(ie.prototype,{interfaces_:function(){return[]},getClass:function(){return ie}}),ie.orientationIndex=function(t,e,n){var r=e.x-t.x,i=e.y-t.y,o=n.x-e.x,a=n.y-e.y;return ie.signOfDet2x2(r,i,o,a)},ie.signOfDet2x2=function(t,e,n,r){var i=null,o=null,a=null,s=0;if(i=1,0===t||0===r)return 0===e||0===n?0:e>0?n>0?-i:i:n>0?i:-i;if(0===e||0===n)return r>0?t>0?i:-i:t>0?-i:i;if(0<e?0<r?e<=r||(i=-i,o=t,t=n,n=o,o=e,e=r,r=o):e<=-r?(i=-i,n=-n,r=-r):(o=t,t=-n,n=o,o=e,e=-r,r=o):0<r?-e<=r?(i=-i,t=-t,e=-e):(o=-t,t=n,n=o,o=-e,e=r,r=o):e>=r?(t=-t,e=-e,n=-n,r=-r):(i=-i,o=-t,t=-n,n=o,o=-e,e=-r,r=o),0<t){if(!(0<n))return i;if(!(t<=n))return i}else{if(0<n)return-i;if(!(t>=n))return-i;i=-i,t=-t,n=-n}for(;;){if(s+=1,a=Math.floor(n/t),n-=a*t,(r-=a*e)<0)return-i;if(r>e)return i;if(t>n+n){if(e<r+r)return i}else{if(e>r+r)return-i;n=t-n,r=e-r,i=-i}if(0===r)return 0===n?0:-i;if(0===n)return i;if(a=Math.floor(t/n),t-=a*n,(e-=a*r)<0)return i;if(e>r)return-i;if(n>t+t){if(r<e+e)return-i}else{if(r>e+e)return i;t=n-t,e=r-e,i=-i}if(0===e)return 0===t?0:i;if(0===t)return-i}},ia(oe.prototype,{countSegment:function(t,e){if(t.x<this.p.x&&e.x<this.p.x)return null;if(this.p.x===e.x&&this.p.y===e.y)return this.isPointOnSegment=!0,null;if(t.y===this.p.y&&e.y===this.p.y){var n=t.x,r=e.x;return n>r&&(n=e.x,r=t.x),this.p.x>=n&&this.p.x<=r&&(this.isPointOnSegment=!0),null}if(t.y>this.p.y&&e.y<=this.p.y||e.y>this.p.y&&t.y<=this.p.y){var i=t.x-this.p.x,o=t.y-this.p.y,a=e.x-this.p.x,s=e.y-this.p.y,u=ie.signOfDet2x2(i,o,a,s);if(0===u)return this.isPointOnSegment=!0,null;s<o&&(u=-u),u>0&&this.crossingCount++}},isPointInPolygon:function(){return this.getLocation()!==M.EXTERIOR},getLocation:function(){return this.isPointOnSegment?M.BOUNDARY:this.crossingCount%2==1?M.INTERIOR:M.EXTERIOR},isOnSegment:function(){return this.isPointOnSegment},interfaces_:function(){return[]},getClass:function(){return oe}}),oe.locatePointInRing=function(){if(arguments[0]instanceof h&&sa(arguments[1],L)){for(var t=arguments[0],e=arguments[1],n=new oe(t),r=new h,i=new h,o=1;o<e.size();o++)if(e.getCoordinate(o,r),e.getCoordinate(o-1,i),n.countSegment(r,i),n.isOnSegment())return n.getLocation();return n.getLocation()}if(arguments[0]instanceof h&&arguments[1]instanceof Array){for(var a=arguments[0],s=arguments[1],n=new oe(a),o=1;o<s.length;o++){var r=s[o],i=s[o-1];if(n.countSegment(r,i),n.isOnSegment())return n.getLocation()}return n.getLocation()}},ia(ae.prototype,{interfaces_:function(){return[]},getClass:function(){return ae}}),ae.orientationIndex=function(t,e,n){return A.orientationIndex(t,e,n)},ae.signedArea=function(){if(arguments[0]instanceof Array){var t=arguments[0];if(t.length<3)return 0;for(var e=0,n=t[0].x,r=1;r<t.length-1;r++){var i=t[r].x-n,o=t[r+1].y;e+=i*(t[r-1].y-o)}return e/2}if(sa(arguments[0],L)){var a=arguments[0],s=a.size();if(s<3)return 0;var u=new h,l=new h,c=new h;a.getCoordinate(0,l),a.getCoordinate(1,c);var n=l.x;c.x-=n;for(var e=0,r=1;r<s-1;r++)u.y=l.y,l.x=c.x,l.y=c.y,a.getCoordinate(r+1,c),c.x-=n,e+=l.x*(u.y-c.y);return e/2}},ae.distanceLineLine=function(t,e,n,r){if(t.equals(e))return ae.distancePointLine(t,n,r);if(n.equals(r))return ae.distancePointLine(r,t,e);var i=!1;if(x.intersects(t,e,n,r)){var o=(e.x-t.x)*(r.y-n.y)-(e.y-t.y)*(r.x-n.x);if(0===o)i=!0;else{var a=(t.y-n.y)*(r.x-n.x)-(t.x-n.x)*(r.y-n.y),s=(t.y-n.y)*(e.x-t.x)-(t.x-n.x)*(e.y-t.y),u=s/o,l=a/o;(l<0||l>1||u<0||u>1)&&(i=!0)}}else i=!0;return i?S.min(ae.distancePointLine(t,n,r),ae.distancePointLine(e,n,r),ae.distancePointLine(n,t,e),ae.distancePointLine(r,t,e)):0},ae.isPointInRing=function(t,e){return ae.locatePointInRing(t,e)!==M.EXTERIOR},ae.computeLength=function(t){var e=t.size();if(e<=1)return 0;var n=0,r=new h;t.getCoordinate(0,r);for(var i=r.x,o=r.y,a=1;a<e;a++){t.getCoordinate(a,r);var s=r.x,u=r.y,l=s-i,c=u-o;n+=Math.sqrt(l*l+c*c),i=s,o=u}return n},ae.isCCW=function(t){var e=t.length-1;if(e<3)throw new n("Ring has fewer than 4 points, so orientation cannot be determined");for(var r=t[0],i=0,o=1;o<=e;o++){var a=t[o];a.y>r.y&&(r=a,i=o)}var s=i;do{(s-=1)<0&&(s=e)}while(t[s].equals2D(r)&&s!==i);var u=i;do{u=(u+1)%e}while(t[u].equals2D(r)&&u!==i);var l=t[s],c=t[u];if(l.equals2D(r)||c.equals2D(r)||l.equals2D(c))return!1;var h=ae.computeOrientation(l,r,c);return 0===h?l.x>c.x:h>0},ae.locatePointInRing=function(t,e){return oe.locatePointInRing(t,e)},ae.distancePointLinePerpendicular=function(t,e,n){var r=(n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y),i=((e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y))/r;return Math.abs(i)*Math.sqrt(r)},ae.computeOrientation=function(t,e,n){return ae.orientationIndex(t,e,n)},ae.distancePointLine=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(0===e.length)throw new n("Line array must contain at least one vertex");for(var r=t.distance(e[0]),i=0;i<e.length-1;i++){var o=ae.distancePointLine(t,e[i],e[i+1]);o<r&&(r=o)}return r}if(3===arguments.length){var a=arguments[0],s=arguments[1],u=arguments[2];if(s.x===u.x&&s.y===u.y)return a.distance(s);var l=(u.x-s.x)*(u.x-s.x)+(u.y-s.y)*(u.y-s.y),c=((a.x-s.x)*(u.x-s.x)+(a.y-s.y)*(u.y-s.y))/l;if(c<=0)return a.distance(s);if(c>=1)return a.distance(u);var h=((s.y-a.y)*(u.x-s.x)-(s.x-a.x)*(u.y-s.y))/l;return Math.abs(h)*Math.sqrt(l)}},ae.isOnLine=function(t,e){for(var n=new re,r=1;r<e.length;r++){var i=e[r-1],o=e[r];if(n.computeIntersection(t,i,o),n.hasIntersection())return!0}return!1},ae.CLOCKWISE=-1,ae.RIGHT=ae.CLOCKWISE,ae.COUNTERCLOCKWISE=1,ae.LEFT=ae.COUNTERCLOCKWISE,ae.COLLINEAR=0,ae.STRAIGHT=ae.COLLINEAR,ia(se.prototype,{minX:function(){return Math.min(this.p0.x,this.p1.x)},orientationIndex:function(){if(arguments[0]instanceof se){var t=arguments[0],e=ae.orientationIndex(this.p0,this.p1,t.p0),n=ae.orientationIndex(this.p0,this.p1,t.p1);return e>=0&&n>=0?Math.max(e,n):e<=0&&n<=0?Math.max(e,n):0}if(arguments[0]instanceof h){var r=arguments[0];return ae.orientationIndex(this.p0,this.p1,r)}},toGeometry:function(t){return t.createLineString([this.p0,this.p1])},isVertical:function(){return this.p0.x===this.p1.x},equals:function(t){if(!(t instanceof se))return!1;var e=t;return this.p0.equals(e.p0)&&this.p1.equals(e.p1)},intersection:function(t){var e=new re;return e.computeIntersection(this.p0,this.p1,t.p0,t.p1),e.hasIntersection()?e.getIntersection(0):null},project:function(){if(arguments[0]instanceof h){var t=arguments[0];if(t.equals(this.p0)||t.equals(this.p1))return new h(t);var e=this.projectionFactor(t),n=new h;return n.x=this.p0.x+e*(this.p1.x-this.p0.x),n.y=this.p0.y+e*(this.p1.y-this.p0.y),n}if(arguments[0]instanceof se){var r=arguments[0],i=this.projectionFactor(r.p0),o=this.projectionFactor(r.p1);if(i>=1&&o>=1)return null;if(i<=0&&o<=0)return null;var a=this.project(r.p0);i<0&&(a=this.p0),i>1&&(a=this.p1);var s=this.project(r.p1);return o<0&&(s=this.p0),o>1&&(s=this.p1),new se(a,s)}},normalize:function(){this.p1.compareTo(this.p0)<0&&this.reverse()},angle:function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},getCoordinate:function(t){return 0===t?this.p0:this.p1},distancePerpendicular:function(t){return ae.distancePointLinePerpendicular(t,this.p0,this.p1)},minY:function(){return Math.min(this.p0.y,this.p1.y)},midPoint:function(){return se.midPoint(this.p0,this.p1)},projectionFactor:function(t){if(t.equals(this.p0))return 0;if(t.equals(this.p1))return 1;var e=this.p1.x-this.p0.x,n=this.p1.y-this.p0.y,i=e*e+n*n;return i<=0?r.NaN:((t.x-this.p0.x)*e+(t.y-this.p0.y)*n)/i},closestPoints:function(t){var e=this.intersection(t);if(null!==e)return[e,e];var n=new Array(2).fill(null),i=r.MAX_VALUE,o=null,a=this.closestPoint(t.p0);i=a.distance(t.p0),n[0]=a,n[1]=t.p0;var s=this.closestPoint(t.p1);(o=s.distance(t.p1))<i&&(i=o,n[0]=s,n[1]=t.p1);var u=t.closestPoint(this.p0);(o=u.distance(this.p0))<i&&(i=o,n[0]=this.p0,n[1]=u);var l=t.closestPoint(this.p1);return o=l.distance(this.p1),o<i&&(i=o,n[0]=this.p1,n[1]=l),n},closestPoint:function(t){var e=this.projectionFactor(t);return e>0&&e<1?this.project(t):this.p0.distance(t)<this.p1.distance(t)?this.p0:this.p1},maxX:function(){return Math.max(this.p0.x,this.p1.x)},getLength:function(){return this.p0.distance(this.p1)},compareTo:function(t){var e=t,n=this.p0.compareTo(e.p0);return 0!==n?n:this.p1.compareTo(e.p1)},reverse:function(){var t=this.p0;this.p0=this.p1,this.p1=t},equalsTopo:function(t){return this.p0.equals(t.p0)&&this.p1.equals(t.p1)||this.p0.equals(t.p1)&&this.p1.equals(t.p0)},lineIntersection:function(t){try{return N.intersection(this.p0,this.p1,t.p0,t.p1)}catch(t){if(!(t instanceof E))throw t}return null},maxY:function(){return Math.max(this.p0.y,this.p1.y)},pointAlongOffset:function(t,e){var n=this.p0.x+t*(this.p1.x-this.p0.x),r=this.p0.y+t*(this.p1.y-this.p0.y),i=this.p1.x-this.p0.x,o=this.p1.y-this.p0.y,a=Math.sqrt(i*i+o*o),s=0,u=0;if(0!==e){if(a<=0)throw new IllegalStateException("Cannot compute offset from zero-length line segment");s=e*i/a,u=e*o/a}return new h(n-u,r+s)},setCoordinates:function(){if(1===arguments.length){var t=arguments[0];this.setCoordinates(t.p0,t.p1)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.p0.x=e.x,this.p0.y=e.y,this.p1.x=n.x,this.p1.y=n.y}},segmentFraction:function(t){var e=this.projectionFactor(t);return e<0?e=0:(e>1||r.isNaN(e))&&(e=1),e},toString:function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},isHorizontal:function(){return this.p0.y===this.p1.y},distance:function(){if(arguments[0]instanceof se){var t=arguments[0];return ae.distanceLineLine(this.p0,this.p1,t.p0,t.p1)}if(arguments[0]instanceof h){var e=arguments[0];return ae.distancePointLine(e,this.p0,this.p1)}},pointAlong:function(t){var e=new h;return e.x=this.p0.x+t*(this.p1.x-this.p0.x),e.y=this.p0.y+t*(this.p1.y-this.p0.y),e},hashCode:function(){var t=java.lang.Double.doubleToLongBits(this.p0.x);t^=31*java.lang.Double.doubleToLongBits(this.p0.y);var e=Math.trunc(t)^Math.trunc(t>>32),n=java.lang.Double.doubleToLongBits(this.p1.x);return n^=31*java.lang.Double.doubleToLongBits(this.p1.y),e^Math.trunc(n)^Math.trunc(n>>32)},interfaces_:function(){return[i,s]},getClass:function(){return se}}),se.midPoint=function(t,e){return new h((t.x+e.x)/2,(t.y+e.y)/2)},se.serialVersionUID=0x2d2172135f411c00,ia(ue.prototype,{isIntersects:function(){return!this.isDisjoint()},isCovers:function(){return(ue.isTrue(this.matrix[M.INTERIOR][M.INTERIOR])||ue.isTrue(this.matrix[M.INTERIOR][M.BOUNDARY])||ue.isTrue(this.matrix[M.BOUNDARY][M.INTERIOR])||ue.isTrue(this.matrix[M.BOUNDARY][M.BOUNDARY]))&&this.matrix[M.EXTERIOR][M.INTERIOR]===at.FALSE&&this.matrix[M.EXTERIOR][M.BOUNDARY]===at.FALSE},isCoveredBy:function(){return(ue.isTrue(this.matrix[M.INTERIOR][M.INTERIOR])||ue.isTrue(this.matrix[M.INTERIOR][M.BOUNDARY])||ue.isTrue(this.matrix[M.BOUNDARY][M.INTERIOR])||ue.isTrue(this.matrix[M.BOUNDARY][M.BOUNDARY]))&&this.matrix[M.INTERIOR][M.EXTERIOR]===at.FALSE&&this.matrix[M.BOUNDARY][M.EXTERIOR]===at.FALSE},set:function(){if(1===arguments.length)for(var t=arguments[0],e=0;e<t.length;e++){var n=Math.trunc(e/3),r=e%3;this.matrix[n][r]=at.toDimensionValue(t.charAt(e))}else if(3===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2];this.matrix[i][o]=a}},isContains:function(){return ue.isTrue(this.matrix[M.INTERIOR][M.INTERIOR])&&this.matrix[M.EXTERIOR][M.INTERIOR]===at.FALSE&&this.matrix[M.EXTERIOR][M.BOUNDARY]===at.FALSE},setAtLeast:function(){if(1===arguments.length)for(var t=arguments[0],e=0;e<t.length;e++){var n=Math.trunc(e/3),r=e%3;this.setAtLeast(n,r,at.toDimensionValue(t.charAt(e)))}else if(3===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2];this.matrix[i][o]<a&&(this.matrix[i][o]=a)}},setAtLeastIfValid:function(t,e,n){t>=0&&e>=0&&this.setAtLeast(t,e,n)},isWithin:function(){return ue.isTrue(this.matrix[M.INTERIOR][M.INTERIOR])&&this.matrix[M.INTERIOR][M.EXTERIOR]===at.FALSE&&this.matrix[M.BOUNDARY][M.EXTERIOR]===at.FALSE},isTouches:function(t,e){return t>e?this.isTouches(e,t):(t===at.A&&e===at.A||t===at.L&&e===at.L||t===at.L&&e===at.A||t===at.P&&e===at.A||t===at.P&&e===at.L)&&this.matrix[M.INTERIOR][M.INTERIOR]===at.FALSE&&(ue.isTrue(this.matrix[M.INTERIOR][M.BOUNDARY])||ue.isTrue(this.matrix[M.BOUNDARY][M.INTERIOR])||ue.isTrue(this.matrix[M.BOUNDARY][M.BOUNDARY]))},isOverlaps:function(t,e){return t===at.P&&e===at.P||t===at.A&&e===at.A?ue.isTrue(this.matrix[M.INTERIOR][M.INTERIOR])&&ue.isTrue(this.matrix[M.INTERIOR][M.EXTERIOR])&&ue.isTrue(this.matrix[M.EXTERIOR][M.INTERIOR]):t===at.L&&e===at.L&&1===this.matrix[M.INTERIOR][M.INTERIOR]&&ue.isTrue(this.matrix[M.INTERIOR][M.EXTERIOR])&&ue.isTrue(this.matrix[M.EXTERIOR][M.INTERIOR])},isEquals:function(t,e){return t===e&&ue.isTrue(this.matrix[M.INTERIOR][M.INTERIOR])&&this.matrix[M.INTERIOR][M.EXTERIOR]===at.FALSE&&this.matrix[M.BOUNDARY][M.EXTERIOR]===at.FALSE&&this.matrix[M.EXTERIOR][M.INTERIOR]===at.FALSE&&this.matrix[M.EXTERIOR][M.BOUNDARY]===at.FALSE},toString:function(){for(var t=new T("123456789"),e=0;e<3;e++)for(var n=0;n<3;n++)t.setCharAt(3*e+n,at.toDimensionSymbol(this.matrix[e][n]));return t.toString()},setAll:function(t){for(var e=0;e<3;e++)for(var n=0;n<3;n++)this.matrix[e][n]=t},get:function(t,e){return this.matrix[t][e]},transpose:function(){var t=this.matrix[1][0];return this.matrix[1][0]=this.matrix[0][1],this.matrix[0][1]=t,t=this.matrix[2][0],this.matrix[2][0]=this.matrix[0][2],this.matrix[0][2]=t,t=this.matrix[2][1],this.matrix[2][1]=this.matrix[1][2],this.matrix[1][2]=t,this},matches:function(t){if(9!==t.length)throw new n("Should be length 9: "+t);for(var e=0;e<3;e++)for(var r=0;r<3;r++)if(!ue.matches(this.matrix[e][r],t.charAt(3*e+r)))return!1;return!0},add:function(t){for(var e=0;e<3;e++)for(var n=0;n<3;n++)this.setAtLeast(e,n,t.get(e,n))},isDisjoint:function(){return this.matrix[M.INTERIOR][M.INTERIOR]===at.FALSE&&this.matrix[M.INTERIOR][M.BOUNDARY]===at.FALSE&&this.matrix[M.BOUNDARY][M.INTERIOR]===at.FALSE&&this.matrix[M.BOUNDARY][M.BOUNDARY]===at.FALSE},isCrosses:function(t,e){return t===at.P&&e===at.L||t===at.P&&e===at.A||t===at.L&&e===at.A?ue.isTrue(this.matrix[M.INTERIOR][M.INTERIOR])&&ue.isTrue(this.matrix[M.INTERIOR][M.EXTERIOR]):t===at.L&&e===at.P||t===at.A&&e===at.P||t===at.A&&e===at.L?ue.isTrue(this.matrix[M.INTERIOR][M.INTERIOR])&&ue.isTrue(this.matrix[M.EXTERIOR][M.INTERIOR]):t===at.L&&e===at.L&&0===this.matrix[M.INTERIOR][M.INTERIOR]},interfaces_:function(){return[o]},getClass:function(){return ue}}),ue.matches=function(){if(Number.isInteger(arguments[0])&&"string"==typeof arguments[1]){var t=arguments[0],e=arguments[1];return e===at.SYM_DONTCARE||e===at.SYM_TRUE&&(t>=0||t===at.TRUE)||e===at.SYM_FALSE&&t===at.FALSE||e===at.SYM_P&&t===at.P||e===at.SYM_L&&t===at.L||e===at.SYM_A&&t===at.A}if("string"==typeof arguments[0]&&"string"==typeof arguments[1]){var n=arguments[0],r=arguments[1];return new ue(n).matches(r)}},ue.isTrue=function(t){return t>=0||t===at.TRUE};var ya=Object.freeze({Coordinate:h,CoordinateList:w,Envelope:x,LineSegment:se,GeometryFactory:Jt,Geometry:D,Point:Et,LineString:xt,LinearRing:Ct,Polygon:St,GeometryCollection:lt,MultiPoint:Tt,MultiLineString:ct,MultiPolygon:It,Dimension:at,IntersectionMatrix:ue,PrecisionModel:$t});ia(le.prototype,{addPoint:function(t){this.ptCount+=1,this.ptCentSum.x+=t.x,this.ptCentSum.y+=t.y},setBasePoint:function(t){null===this.areaBasePt&&(this.areaBasePt=t)},addLineSegments:function(t){for(var e=0,n=0;n<t.length-1;n++){var r=t[n].distance(t[n+1]);if(0!==r){e+=r;var i=(t[n].x+t[n+1].x)/2;this.lineCentSum.x+=r*i;var o=(t[n].y+t[n+1].y)/2;this.lineCentSum.y+=r*o}}this.totalLength+=e,0===e&&t.length>0&&this.addPoint(t[0])},addHole:function(t){for(var e=ae.isCCW(t),n=0;n<t.length-1;n++)this.addTriangle(this.areaBasePt,t[n],t[n+1],e);this.addLineSegments(t)},getCentroid:function(){var t=new h;if(Math.abs(this.areasum2)>0)t.x=this.cg3.x/3/this.areasum2,t.y=this.cg3.y/3/this.areasum2;else if(this.totalLength>0)t.x=this.lineCentSum.x/this.totalLength,t.y=this.lineCentSum.y/this.totalLength;else{if(!(this.ptCount>0))return null;t.x=this.ptCentSum.x/this.ptCount,t.y=this.ptCentSum.y/this.ptCount}return t},addShell:function(t){t.length>0&&this.setBasePoint(t[0]);for(var e=!ae.isCCW(t),n=0;n<t.length-1;n++)this.addTriangle(this.areaBasePt,t[n],t[n+1],e);this.addLineSegments(t)},addTriangle:function(t,e,n,r){var i=r?1:-1;le.centroid3(t,e,n,this.triangleCent3);var o=le.area2(t,e,n);this.cg3.x+=i*o*this.triangleCent3.x,this.cg3.y+=i*o*this.triangleCent3.y,this.areasum2+=i*o},add:function(){if(arguments[0]instanceof St){var t=arguments[0];this.addShell(t.getExteriorRing().getCoordinates());for(var e=0;e<t.getNumInteriorRing();e++)this.addHole(t.getInteriorRingN(e).getCoordinates())}else if(arguments[0]instanceof D){var n=arguments[0];if(n.isEmpty())return null;if(n instanceof Et)this.addPoint(n.getCoordinate());else if(n instanceof xt)this.addLineSegments(n.getCoordinates());else if(n instanceof St){var r=n;this.add(r)}else if(n instanceof lt)for(var i=n,e=0;e<i.getNumGeometries();e++)this.add(i.getGeometryN(e))}},interfaces_:function(){return[]},getClass:function(){return le}}),le.area2=function(t,e,n){return(e.x-t.x)*(n.y-t.y)-(n.x-t.x)*(e.y-t.y)},le.centroid3=function(t,e,n,r){return r.x=t.x+e.x+n.x,r.y=t.y+e.y+n.y,null},le.getCentroid=function(t){return new le(t).getCentroid()},ce.prototype=new Error,ce.prototype.name="EmptyStackException",he.prototype=new g,he.prototype.add=function(t){return this.array_.push(t),!0},he.prototype.get=function(t){if(t<0||t>=this.size())throw new IndexOutOfBoundsException;return this.array_[t]},he.prototype.push=function(t){return this.array_.push(t),t},he.prototype.pop=function(t){if(0===this.array_.length)throw new ce;return this.array_.pop()},he.prototype.peek=function(){if(0===this.array_.length)throw new ce;return this.array_[this.array_.length-1]},he.prototype.empty=function(){return 0===this.array_.length},he.prototype.isEmpty=function(){return this.empty()},he.prototype.search=function(t){return this.array_.indexOf(t)},he.prototype.size=function(){return this.array_.length},he.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},ia(fe.prototype,{filter:function(t){this.treeSet.contains(t)||(this.list.add(t),this.treeSet.add(t))},getCoordinates:function(){var t=new Array(this.list.size()).fill(null);return this.list.toArray(t)},interfaces_:function(){return[F]},getClass:function(){return fe}}),fe.filterCoordinates=function(t){for(var e=new fe,n=0;n<t.length;n++)e.filter(t[n]);return e.getCoordinates()},ia(de.prototype,{preSort:function(t){for(var e=null,n=1;n<t.length;n++)(t[n].y<t[0].y||t[n].y===t[0].y&&t[n].x<t[0].x)&&(e=t[0],t[0]=t[n],t[n]=e);return ot.sort(t,1,t.length,new pe(t[0])),t},computeOctRing:function(t){var e=this.computeOctPts(t),n=new w;return n.add(e,!1),n.size()<3?null:(n.closeRing(),n.toCoordinateArray())},lineOrPolygon:function(t){if(t=this.cleanRing(t),3===t.length)return this.geomFactory.createLineString([t[0],t[1]]);var e=this.geomFactory.createLinearRing(t);return this.geomFactory.createPolygon(e,null)},cleanRing:function(t){c.equals(t[0],t[t.length-1]);for(var e=new b,n=null,r=0;r<=t.length-2;r++){var i=t[r],o=t[r+1];i.equals(o)||null!==n&&this.isBetween(n,i,o)||(e.add(i),n=i)}e.add(t[t.length-1]);var a=new Array(e.size()).fill(null);return e.toArray(a)},isBetween:function(t,e,n){if(0!==ae.computeOrientation(t,e,n))return!1;if(t.x!==n.x){if(t.x<=e.x&&e.x<=n.x)return!0;if(n.x<=e.x&&e.x<=t.x)return!0}if(t.y!==n.y){if(t.y<=e.y&&e.y<=n.y)return!0;if(n.y<=e.y&&e.y<=t.y)return!0}return!1},reduce:function(t){var e=this.computeOctRing(t);if(null===e)return t;for(var n=new it,r=0;r<e.length;r++)n.add(e[r]);for(var r=0;r<t.length;r++)ae.isPointInRing(t[r],e)||n.add(t[r]);var i=G.toCoordinateArray(n);return i.length<3?this.padArray3(i):i},getConvexHull:function(){if(0===this.inputPts.length)return this.geomFactory.createGeometryCollection(null);if(1===this.inputPts.length)return this.geomFactory.createPoint(this.inputPts[0]);if(2===this.inputPts.length)return this.geomFactory.createLineString(this.inputPts);var t=this.inputPts;this.inputPts.length>50&&(t=this.reduce(this.inputPts));var e=this.preSort(t),n=this.grahamScan(e),r=this.toCoordinateArray(n);return this.lineOrPolygon(r)},padArray3:function(t){for(var e=new Array(3).fill(null),n=0;n<e.length;n++)n<t.length?e[n]=t[n]:e[n]=t[0];return e},computeOctPts:function(t){for(var e=new Array(8).fill(null),n=0;n<e.length;n++)e[n]=t[0];for(var r=1;r<t.length;r++)t[r].x<e[0].x&&(e[0]=t[r]),t[r].x-t[r].y<e[1].x-e[1].y&&(e[1]=t[r]),t[r].y>e[2].y&&(e[2]=t[r]),t[r].x+t[r].y>e[3].x+e[3].y&&(e[3]=t[r]),t[r].x>e[4].x&&(e[4]=t[r]),t[r].x-t[r].y>e[5].x-e[5].y&&(e[5]=t[r]),t[r].y<e[6].y&&(e[6]=t[r]),t[r].x+t[r].y<e[7].x+e[7].y&&(e[7]=t[r]);return e},toCoordinateArray:function(t){for(var e=new Array(t.size()).fill(null),n=0;n<t.size();n++){var r=t.get(n);e[n]=r}return e},grahamScan:function(t){var e=null,n=new he;e=n.push(t[0]),e=n.push(t[1]),e=n.push(t[2]);for(var r=3;r<t.length;r++){for(e=n.pop();!n.empty()&&ae.computeOrientation(n.peek(),e,t[r])>0;)e=n.pop();e=n.push(e),e=n.push(t[r])}return e=n.push(t[0]),n},interfaces_:function(){return[]},getClass:function(){return de}}),de.extractCoordinates=function(t){var e=new fe;return t.apply(e),e.getCoordinates()},ia(pe.prototype,{compare:function(t,e){var n=t,r=e;return pe.polarCompare(this.origin,n,r)},interfaces_:function(){return[a]},getClass:function(){return pe}}),pe.polarCompare=function(t,e,n){var r=e.x-t.x,i=e.y-t.y,o=n.x-t.x,a=n.y-t.y,s=ae.computeOrientation(t,e,n);if(s===ae.COUNTERCLOCKWISE)return 1;if(s===ae.CLOCKWISE)return-1;var u=r*r+i*i,l=o*o+a*a;return u<l?-1:u>l?1:0},de.RadialComparator=pe,ia(me.prototype,{transformPoint:function(t,e){return this.factory.createPoint(this.transformCoordinates(t.getCoordinateSequence(),t))},transformPolygon:function(t,e){var n=!0,r=this.transformLinearRing(t.getExteriorRing(),t);null!==r&&r instanceof Ct&&!r.isEmpty()||(n=!1);for(var i=new b,o=0;o<t.getNumInteriorRing();o++){var a=this.transformLinearRing(t.getInteriorRingN(o),t);null===a||a.isEmpty()||(a instanceof Ct||(n=!1),i.add(a))}if(n)return this.factory.createPolygon(r,i.toArray([]));var s=new b;return null!==r&&s.add(r),s.addAll(i),this.factory.buildGeometry(s)},createCoordinateSequence:function(t){return this.factory.getCoordinateSequenceFactory().create(t)},getInputGeometry:function(){return this.inputGeom},transformMultiLineString:function(t,e){for(var n=new b,r=0;r<t.getNumGeometries();r++){var i=this.transformLineString(t.getGeometryN(r),t);null!==i&&(i.isEmpty()||n.add(i))}return this.factory.buildGeometry(n)},transformCoordinates:function(t,e){return this.copy(t)},transformLineString:function(t,e){return this.factory.createLineString(this.transformCoordinates(t.getCoordinateSequence(),t))},transformMultiPoint:function(t,e){for(var n=new b,r=0;r<t.getNumGeometries();r++){var i=this.transformPoint(t.getGeometryN(r),t);null!==i&&(i.isEmpty()||n.add(i))}return this.factory.buildGeometry(n)},transformMultiPolygon:function(t,e){for(var n=new b,r=0;r<t.getNumGeometries();r++){var i=this.transformPolygon(t.getGeometryN(r),t);null!==i&&(i.isEmpty()||n.add(i))}return this.factory.buildGeometry(n)},copy:function(t){return t.copy()},transformGeometryCollection:function(t,e){for(var n=new b,r=0;r<t.getNumGeometries();r++){var i=this.transform(t.getGeometryN(r));null!==i&&(this.pruneEmptyGeometry&&i.isEmpty()||n.add(i))}return this.preserveGeometryCollectionType?this.factory.createGeometryCollection(Jt.toGeometryArray(n)):this.factory.buildGeometry(n)},transform:function(t){if(this.inputGeom=t,this.factory=t.getFactory(),t instanceof Et)return this.transformPoint(t,null);if(t instanceof Tt)return this.transformMultiPoint(t,null);if(t instanceof Ct)return this.transformLinearRing(t,null);if(t instanceof xt)return this.transformLineString(t,null);if(t instanceof ct)return this.transformMultiLineString(t,null);if(t instanceof St)return this.transformPolygon(t,null);if(t instanceof It)return this.transformMultiPolygon(t,null);if(t instanceof lt)return this.transformGeometryCollection(t,null);throw new n("Unknown Geometry subtype: "+t.getClass().getName())},transformLinearRing:function(t,e){var n=this.transformCoordinates(t.getCoordinateSequence(),t);if(null===n)return this.factory.createLinearRing(null);var r=n.size();return r>0&&r<4&&!this.preserveType?this.factory.createLineString(n):this.factory.createLinearRing(n)},interfaces_:function(){return[]},getClass:function(){return me}}),ia(ge.prototype,{snapVertices:function(t,e){for(var n=this._isClosed?t.size()-1:t.size(),r=0;r<n;r++){var i=t.get(r),o=this.findSnapForVertex(i,e);null!==o&&(t.set(r,new h(o)),0===r&&this._isClosed&&t.set(t.size()-1,new h(o)))}},findSnapForVertex:function(t,e){for(var n=0;n<e.length;n++){if(t.equals2D(e[n]))return null;if(t.distance(e[n])<this.snapTolerance)return e[n]}return null},snapTo:function(t){var e=new w(this.srcPts);return this.snapVertices(e,t),this.snapSegments(e,t),e.toCoordinateArray()},snapSegments:function(t,e){if(0===e.length)return null;var n=e.length;e[0].equals2D(e[e.length-1])&&(n=e.length-1);for(var r=0;r<n;r++){var i=e[r],o=this.findSegmentIndexToSnap(i,t);o>=0&&t.add(o+1,new h(i),!1)}},findSegmentIndexToSnap:function(t,e){for(var n=r.MAX_VALUE,i=-1,o=0;o<e.size()-1;o++){if(this.seg.p0=e.get(o),this.seg.p1=e.get(o+1),this.seg.p0.equals2D(t)||this.seg.p1.equals2D(t)){if(this.allowSnappingToSourceVertices)continue;return-1}var a=this.seg.distance(t);a<this.snapTolerance&&a<n&&(n=a,i=o)}return i},setAllowSnappingToSourceVertices:function(t){this.allowSnappingToSourceVertices=t},interfaces_:function(){return[]},getClass:function(){return ge}}),ge.isClosed=function(t){return!(t.length<=1)&&t[0].equals2D(t[t.length-1])},ia(ve.prototype,{snapTo:function(t,e){return new ye(e,this.extractTargetCoordinates(t)).transform(this.srcGeom)},snapToSelf:function(t,e){var n=this.extractTargetCoordinates(this.srcGeom),r=new ye(t,n,!0),i=r.transform(this.srcGeom),o=i;return e&&sa(o,Mt)&&(o=i.buffer(0)),o},computeSnapTolerance:function(t){return this.computeMinimumSegmentLength(t)/10},extractTargetCoordinates:function(t){for(var e=new it,n=t.getCoordinates(),r=0;r<n.length;r++)e.add(n[r]);return e.toArray(new Array(0).fill(null))},computeMinimumSegmentLength:function(t){for(var e=r.MAX_VALUE,n=0;n<t.length-1;n++){var i=t[n].distance(t[n+1]);i<e&&(e=i)}return e},interfaces_:function(){return[]},getClass:function(){return ve}}),ve.snap=function(t,e,n){var r=new Array(2).fill(null),i=new ve(t);r[0]=i.snapTo(e,n);var o=new ve(e);return r[1]=o.snapTo(r[0],n),r},ve.computeOverlaySnapTolerance=function(){if(1===arguments.length){var t=arguments[0],e=ve.computeSizeBasedSnapTolerance(t),n=t.getPrecisionModel();if(n.getType()===$t.FIXED){var r=1/n.getScale()*2/1.415;r>e&&(e=r)}return e}if(2===arguments.length){var i=arguments[0],o=arguments[1];return Math.min(ve.computeOverlaySnapTolerance(i),ve.computeOverlaySnapTolerance(o))}},ve.computeSizeBasedSnapTolerance=function(t){var e=t.getEnvelopeInternal();return Math.min(e.getHeight(),e.getWidth())*ve.SNAP_PRECISION_FACTOR},ve.snapToSelf=function(t,e,n){return new ve(t).snapToSelf(e,n)},ve.SNAP_PRECISION_FACTOR=1e-9,oa(ye,me),ia(ye.prototype,{snapLine:function(t,e){var n=new ge(t,this.snapTolerance);return n.setAllowSnappingToSourceVertices(this.isSelfSnap),n.snapTo(e)},transformCoordinates:function(t,e){var n=t.toCoordinateArray(),r=this.snapLine(n,this.snapPts);return this.factory.getCoordinateSequenceFactory().create(r)},interfaces_:function(){return[]},getClass:function(){return ye}}),ia(be.prototype,{getCommon:function(){return r.longBitsToDouble(this.commonBits)},add:function(t){var e=r.doubleToLongBits(t);return this.isFirst?(this.commonBits=e,this.commonSignExp=be.signExpBits(this.commonBits),this.isFirst=!1,null):be.signExpBits(e)!==this.commonSignExp?(this.commonBits=0,null):(this.commonMantissaBitsCount=be.numCommonMostSigMantissaBits(this.commonBits,e),void(this.commonBits=be.zeroLowerBits(this.commonBits,64-(12+this.commonMantissaBitsCount))))},toString:function(){if(1===arguments.length){var t=arguments[0],e=r.longBitsToDouble(t),n=Long.toBinaryString(t),i="0000000000000000000000000000000000000000000000000000000000000000"+n,o=i.substring(i.length-64);return o.substring(0,1)+"  "+o.substring(1,12)+"(exp) "+o.substring(12)+" [ "+e+" ]"}},interfaces_:function(){return[]},getClass:function(){return be}}),be.getBit=function(t,e){return 0!=(t&1<<e)?1:0},be.signExpBits=function(t){return t>>52},be.zeroLowerBits=function(t,e){return t&~((1<<e)-1)},be.numCommonMostSigMantissaBits=function(t,e){for(var n=0,r=52;r>=0;r--){if(be.getBit(t,r)!==be.getBit(e,r))return n;n++}return 52},ia(we.prototype,{addCommonBits:function(t){var e=new _e(this.commonCoord);t.apply(e),t.geometryChanged()},removeCommonBits:function(t){if(0===this.commonCoord.x&&0===this.commonCoord.y)return t;var e=new h(this.commonCoord);e.x=-e.x,e.y=-e.y;var n=new _e(e);return t.apply(n),t.geometryChanged(),t},getCommonCoordinate:function(){return this.commonCoord},add:function(t){t.apply(this.ccFilter),this.commonCoord=this.ccFilter.getCommonCoordinate()},interfaces_:function(){return[]},getClass:function(){return we}}),ia(xe.prototype,{filter:function(t){this.commonBitsX.add(t.x),this.commonBitsY.add(t.y)},getCommonCoordinate:function(){return new h(this.commonBitsX.getCommon(),this.commonBitsY.getCommon())},interfaces_:function(){return[F]},getClass:function(){return xe}}),ia(_e.prototype,{filter:function(t,e){var n=t.getOrdinate(e,0)+this.trans.x,r=t.getOrdinate(e,1)+this.trans.y;t.setOrdinate(e,0,n),t.setOrdinate(e,1,r)},isDone:function(){return!1},isGeometryChanged:function(){return!0},interfaces_:function(){return[ut]},getClass:function(){return _e}}),we.CommonCoordinateFilter=xe,we.Translater=_e,ia(Ee.prototype,{next:function(){if(this.atStart)return this.atStart=!1,Ee.isAtomic(this.parent)&&this.index++,this.parent;if(null!==this.subcollectionIterator){if(this.subcollectionIterator.hasNext())return this.subcollectionIterator.next();this.subcollectionIterator=null}if(this.index>=this.max)throw new v;var t=this.parent.getGeometryN(this.index++);return t instanceof lt?(this.subcollectionIterator=new Ee(t),this.subcollectionIterator.next()):t},remove:function(){throw new UnsupportedOperationException(this.getClass().getName())},hasNext:function(){if(this.atStart)return!0;if(null!==this.subcollectionIterator){if(this.subcollectionIterator.hasNext())return!0;this.subcollectionIterator=null}return!(this.index>=this.max)},interfaces_:function(){return[d]},getClass:function(){return Ee}}),Ee.isAtomic=function(t){return!(t instanceof lt)},ia(Me.prototype,{locateInternal:function(){if(arguments[0]instanceof h&&arguments[1]instanceof St){var t=arguments[0],e=arguments[1];if(e.isEmpty())return M.EXTERIOR;var n=e.getExteriorRing(),r=this.locateInPolygonRing(t,n);if(r===M.EXTERIOR)return M.EXTERIOR;if(r===M.BOUNDARY)return M.BOUNDARY;for(var i=0;i<e.getNumInteriorRing();i++){var o=e.getInteriorRingN(i),a=this.locateInPolygonRing(t,o);if(a===M.INTERIOR)return M.EXTERIOR;if(a===M.BOUNDARY)return M.BOUNDARY}return M.INTERIOR}if(arguments[0]instanceof h&&arguments[1]instanceof xt){var s=arguments[0],u=arguments[1];if(!u.getEnvelopeInternal().intersects(s))return M.EXTERIOR;var l=u.getCoordinates();return u.isClosed()||!s.equals(l[0])&&!s.equals(l[l.length-1])?ae.isOnLine(s,l)?M.INTERIOR:M.EXTERIOR:M.BOUNDARY}if(arguments[0]instanceof h&&arguments[1]instanceof Et){var c=arguments[0];return arguments[1].getCoordinate().equals2D(c)?M.INTERIOR:M.EXTERIOR}},locateInPolygonRing:function(t,e){return e.getEnvelopeInternal().intersects(t)?ae.locatePointInRing(t,e.getCoordinates()):M.EXTERIOR},intersects:function(t,e){return this.locate(t,e)!==M.EXTERIOR},updateLocationInfo:function(t){t===M.INTERIOR&&(this.isIn=!0),t===M.BOUNDARY&&this.numBoundaries++},computeLocation:function(t,e){if(e instanceof Et&&this.updateLocationInfo(this.locateInternal(t,e)),e instanceof xt)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof St)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof ct)for(var n=e,r=0;r<n.getNumGeometries();r++){var i=n.getGeometryN(r);this.updateLocationInfo(this.locateInternal(t,i))}else if(e instanceof It)for(var o=e,r=0;r<o.getNumGeometries();r++){var a=o.getGeometryN(r);this.updateLocationInfo(this.locateInternal(t,a))}else if(e instanceof lt)for(var s=new Ee(e);s.hasNext();){var u=s.next();u!==e&&this.computeLocation(t,u)}},locate:function(t,e){return e.isEmpty()?M.EXTERIOR:e instanceof xt?this.locateInternal(t,e):e instanceof St?this.locateInternal(t,e):(this.isIn=!1,this.numBoundaries=0,this.computeLocation(t,e),this.boundaryRule.isInBoundary(this.numBoundaries)?M.BOUNDARY:this.numBoundaries>0||this.isIn?M.INTERIOR:M.EXTERIOR)},interfaces_:function(){return[]},getClass:function(){return Me}}),ia(Se.prototype,{interfaces_:function(){return[]},getClass:function(){return Se}}),Se.octant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new n("Cannot compute the octant for point ( "+t+", "+e+" )");var r=Math.abs(t),i=Math.abs(e);return t>=0?e>=0?r>=i?0:1:r>=i?7:6:e>=0?r>=i?3:2:r>=i?4:5}if(arguments[0]instanceof h&&arguments[1]instanceof h){var o=arguments[0],a=arguments[1],s=a.x-o.x,u=a.y-o.y;if(0===s&&0===u)throw new n("Cannot compute the octant for two identical points "+o);return Se.octant(s,u)}},ia(Te.prototype,{getCoordinates:function(){},size:function(){},getCoordinate:function(t){},isClosed:function(){},setData:function(t){},getData:function(){},interfaces_:function(){return[]},getClass:function(){return Te}}),ia(Ce.prototype,{getCoordinates:function(){return this.pts},size:function(){return this.pts.length},getCoordinate:function(t){return this.pts[t]},isClosed:function(){return this.pts[0].equals(this.pts[this.pts.length-1])},getSegmentOctant:function(t){return t===this.pts.length-1?-1:Se.octant(this.getCoordinate(t),this.getCoordinate(t+1))},setData:function(t){this.data=t},getData:function(){return this.data},toString:function(){return ee.toLineString(new Pt(this.pts))},interfaces_:function(){return[Te]},getClass:function(){return Ce}}),ia(Ie.prototype,{getBounds:function(){},interfaces_:function(){return[]},getClass:function(){return Ie}}),ia(Oe.prototype,{getItem:function(){return this.item},getBounds:function(){return this.bounds},interfaces_:function(){return[Ie,s]},getClass:function(){return Oe}}),ia(Ae.prototype,{poll:function(){if(this.isEmpty())return null;var t=this.items.get(1);return this.items.set(1,this.items.get(this._size)),this._size-=1,this.reorder(1),t},size:function(){return this._size},reorder:function(t){for(var e=null,n=this.items.get(t);2*t<=this._size&&(e=2*t,e!==this._size&&this.items.get(e+1).compareTo(this.items.get(e))<0&&e++,this.items.get(e).compareTo(n)<0);t=e)this.items.set(t,this.items.get(e));this.items.set(t,n)},clear:function(){this._size=0,this.items.clear()},isEmpty:function(){return 0===this._size},add:function(t){this.items.add(null),this._size+=1;var e=this._size;for(this.items.set(0,t);t.compareTo(this.items.get(Math.trunc(e/2)))<0;e/=2)this.items.set(e,this.items.get(Math.trunc(e/2)));this.items.set(e,t)},interfaces_:function(){return[]},getClass:function(){return Ae}}),ia(Le.prototype,{visitItem:function(t){},interfaces_:function(){return[]},getClass:function(){return Le}}),ia(Re.prototype,{insert:function(t,e){},remove:function(t,e){},query:function(){1===arguments.length?arguments[0]:2===arguments.length&&(arguments[0],arguments[1])},interfaces_:function(){return[]},getClass:function(){return Re}}),ia(Ne.prototype,{getLevel:function(){return this.level},size:function(){return this.childBoundables.size()},getChildBoundables:function(){return this.childBoundables},addChildBoundable:function(t){c.isTrue(null===this.bounds),this.childBoundables.add(t)},isEmpty:function(){return this.childBoundables.isEmpty()},getBounds:function(){return null===this.bounds&&(this.bounds=this.computeBounds()),this.bounds},interfaces_:function(){return[Ie,s]},getClass:function(){return Ne}}),Ne.serialVersionUID=0x5a1e55ec41369800;var ba={reverseOrder:function(){return{compare:function(t,e){return e.compareTo(t)}}},min:function(t){return ba.sort(t),t.get(0)},sort:function(t,e){var n=t.toArray();e?ot.sort(n,e):ot.sort(n);for(var r=t.iterator(),i=0,o=n.length;i<o;i++)r.next(),r.set(n[i])},singletonList:function(t){var e=new b;return e.add(t),e}};ia(Pe.prototype,{expandToQueue:function(t,e){var r=Pe.isComposite(this.boundable1),i=Pe.isComposite(this.boundable2);if(r&&i)return Pe.area(this.boundable1)>Pe.area(this.boundable2)?(this.expand(this.boundable1,this.boundable2,t,e),null):(this.expand(this.boundable2,this.boundable1,t,e),null);if(r)return this.expand(this.boundable1,this.boundable2,t,e),null;if(i)return this.expand(this.boundable2,this.boundable1,t,e),null;throw new n("neither boundable is composite")},isLeaves:function(){return!(Pe.isComposite(this.boundable1)||Pe.isComposite(this.boundable2))},compareTo:function(t){var e=t;return this._distance<e._distance?-1:this._distance>e._distance?1:0},expand:function(t,e,n,r){for(var i=t.getChildBoundables(),o=i.iterator();o.hasNext();){var a=o.next(),s=new Pe(a,e,this.itemDistance);s.getDistance()<r&&n.add(s)}},getBoundable:function(t){return 0===t?this.boundable1:this.boundable2},getDistance:function(){return this._distance},distance:function(){return this.isLeaves()?this.itemDistance.distance(this.boundable1,this.boundable2):this.boundable1.getBounds().distance(this.boundable2.getBounds())},interfaces_:function(){return[i]},getClass:function(){return Pe}}),Pe.area=function(t){return t.getBounds().getArea()},Pe.isComposite=function(t){return t instanceof Ne},ia(ke.prototype,{getNodeCapacity:function(){return this.nodeCapacity},lastNode:function(t){return t.get(t.size()-1)},size:function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this.root));if(1===arguments.length){for(var t=arguments[0],e=0,n=t.getChildBoundables().iterator();n.hasNext();){var r=n.next();r instanceof Ne?e+=this.size(r):r instanceof Oe&&(e+=1)}return e}},removeItem:function(t,e){for(var n=null,r=t.getChildBoundables().iterator();r.hasNext();){var i=r.next();i instanceof Oe&&i.getItem()===e&&(n=i)}return null!==n&&(t.getChildBoundables().remove(n),!0)},itemsTree:function(){if(0===arguments.length){this.build();var t=this.itemsTree(this.root);return null===t?new b:t}if(1===arguments.length){for(var e=arguments[0],n=new b,r=e.getChildBoundables().iterator();r.hasNext();){var i=r.next();if(i instanceof Ne){var o=this.itemsTree(i);null!==o&&n.add(o)}else i instanceof Oe?n.add(i.getItem()):c.shouldNeverReachHere()}return n.size()<=0?null:n}},insert:function(t,e){c.isTrue(!this.built,"Cannot insert items into an STR packed R-tree after it has been built."),this.itemBoundables.add(new Oe(t,e))},boundablesAtLevel:function(){if(1===arguments.length){var t=arguments[0],e=new b;return this.boundablesAtLevel(t,this.root,e),e}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];if(c.isTrue(n>-2),r.getLevel()===n)return i.add(r),null;for(var o=r.getChildBoundables().iterator();o.hasNext();){var a=o.next();a instanceof Ne?this.boundablesAtLevel(n,a,i):(c.isTrue(a instanceof Oe),-1===n&&i.add(a))}return null}},query:function(){if(1===arguments.length){var t=arguments[0];this.build();var e=new b;return this.isEmpty()?e:(this.getIntersectsOp().intersects(this.root.getBounds(),t)&&this.query(t,this.root,e),e)}if(2===arguments.length){var n=arguments[0],r=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this.root.getBounds(),n)&&this.query(n,this.root,r)}else if(3===arguments.length)if(sa(arguments[2],Le)&&arguments[0]instanceof Object&&arguments[1]instanceof Ne)for(var i=arguments[0],o=arguments[1],a=arguments[2],s=o.getChildBoundables(),u=0;u<s.size();u++){var l=s.get(u);this.getIntersectsOp().intersects(l.getBounds(),i)&&(l instanceof Ne?this.query(i,l,a):l instanceof Oe?a.visitItem(l.getItem()):c.shouldNeverReachHere())}else if(sa(arguments[2],g)&&arguments[0]instanceof Object&&arguments[1]instanceof Ne)for(var h=arguments[0],f=arguments[1],d=arguments[2],s=f.getChildBoundables(),u=0;u<s.size();u++){var l=s.get(u);this.getIntersectsOp().intersects(l.getBounds(),h)&&(l instanceof Ne?this.query(h,l,d):l instanceof Oe?d.add(l.getItem()):c.shouldNeverReachHere())}},build:function(){if(this.built)return null;this.root=this.itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this.itemBoundables,-1),this.itemBoundables=null,this.built=!0},getRoot:function(){return this.build(),this.root},remove:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this.root.getBounds(),t)&&this.remove(t,this.root,e)}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2],o=this.removeItem(r,i);if(o)return!0;for(var a=null,s=r.getChildBoundables().iterator();s.hasNext();){var u=s.next();if(this.getIntersectsOp().intersects(u.getBounds(),n)&&u instanceof Ne&&(o=this.remove(n,u,i))){a=u;break}}return null!==a&&a.getChildBoundables().isEmpty()&&r.getChildBoundables().remove(a),o}},createHigherLevels:function(t,e){c.isTrue(!t.isEmpty());var n=this.createParentBoundables(t,e+1);return 1===n.size()?n.get(0):this.createHigherLevels(n,e+1)},depth:function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this.root));if(1===arguments.length){for(var t=arguments[0],e=0,n=t.getChildBoundables().iterator();n.hasNext();){var r=n.next();if(r instanceof Ne){var i=this.depth(r);i>e&&(e=i)}}return e+1}},createParentBoundables:function(t,e){c.isTrue(!t.isEmpty());var n=new b;n.add(this.createNode(e));var r=new b(t);ba.sort(r,this.getComparator());for(var i=r.iterator();i.hasNext();){var o=i.next();this.lastNode(n).getChildBoundables().size()===this.getNodeCapacity()&&n.add(this.createNode(e)),this.lastNode(n).addChildBoundable(o)}return n},isEmpty:function(){return this.built?this.root.isEmpty():this.itemBoundables.isEmpty()},interfaces_:function(){return[s]},getClass:function(){return ke}}),ke.compareDoubles=function(t,e){return t>e?1:t<e?-1:0},ke.IntersectsOp=De,ke.serialVersionUID=-0x35ef64c82d4c5400,ke.DEFAULT_NODE_CAPACITY=10,ia(Fe.prototype,{distance:function(t,e){},interfaces_:function(){return[]},getClass:function(){return Fe}}),oa(je,ke),ia(je.prototype,{createParentBoundablesFromVerticalSlices:function(t,e){c.isTrue(t.length>0);for(var n=new b,r=0;r<t.length;r++)n.addAll(this.createParentBoundablesFromVerticalSlice(t[r],e));return n},createNode:function(t){return new Ue(t)},size:function(){return 0===arguments.length?ke.prototype.size.call(this):ke.prototype.size.apply(this,arguments)},insert:function(){if(2!==arguments.length)return ke.prototype.insert.apply(this,arguments);var t=arguments[0],e=arguments[1];if(t.isNull())return null;ke.prototype.insert.call(this,t,e)},getIntersectsOp:function(){return je.intersectsOp},verticalSlices:function(t,e){for(var n=Math.trunc(Math.ceil(t.size()/e)),r=new Array(e).fill(null),i=t.iterator(),o=0;o<e;o++){r[o]=new b;for(var a=0;i.hasNext()&&a<n;){var s=i.next();r[o].add(s),a++}}return r},query:function(){if(1===arguments.length){var t=arguments[0];return ke.prototype.query.call(this,t)}if(2===arguments.length){var e=arguments[0],n=arguments[1];ke.prototype.query.call(this,e,n)}else if(3===arguments.length)if(sa(arguments[2],Le)&&arguments[0]instanceof Object&&arguments[1]instanceof Ne){var r=arguments[0],i=arguments[1],o=arguments[2];ke.prototype.query.call(this,r,i,o)}else if(sa(arguments[2],g)&&arguments[0]instanceof Object&&arguments[1]instanceof Ne){var a=arguments[0],s=arguments[1],u=arguments[2];ke.prototype.query.call(this,a,s,u)}},getComparator:function(){return je.yComparator},createParentBoundablesFromVerticalSlice:function(t,e){return ke.prototype.createParentBoundables.call(this,t,e)},remove:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return ke.prototype.remove.call(this,t,e)}return ke.prototype.remove.apply(this,arguments)},depth:function(){return 0===arguments.length?ke.prototype.depth.call(this):ke.prototype.depth.apply(this,arguments)},createParentBoundables:function(t,e){c.isTrue(!t.isEmpty());var n=Math.trunc(Math.ceil(t.size()/this.getNodeCapacity())),r=new b(t);ba.sort(r,je.xComparator);var i=this.verticalSlices(r,Math.trunc(Math.ceil(Math.sqrt(n))));return this.createParentBoundablesFromVerticalSlices(i,e)},nearestNeighbour:function(){if(1===arguments.length){if(sa(arguments[0],Fe)){var t=arguments[0],e=new Pe(this.getRoot(),this.getRoot(),t);return this.nearestNeighbour(e)}if(arguments[0]instanceof Pe){var n=arguments[0];return this.nearestNeighbour(n,r.POSITIVE_INFINITY)}}else if(2===arguments.length){if(arguments[0]instanceof je&&sa(arguments[1],Fe)){var i=arguments[0],o=arguments[1],e=new Pe(this.getRoot(),i.getRoot(),o);return this.nearestNeighbour(e)}if(arguments[0]instanceof Pe&&"number"==typeof arguments[1]){var a=arguments[0],s=arguments[1],u=s,l=null,c=new Ae;for(c.add(a);!c.isEmpty()&&u>0;){var h=c.poll(),f=h.getDistance();if(f>=u)break;h.isLeaves()?(u=f,l=h):h.expandToQueue(c,u)}return[l.getBoundable(0).getItem(),l.getBoundable(1).getItem()]}}else if(3===arguments.length){var d=arguments[0],p=arguments[1],m=arguments[2],g=new Oe(d,p),e=new Pe(this.getRoot(),g,m);return this.nearestNeighbour(e)[0]}},interfaces_:function(){return[Re,s]},getClass:function(){return je}}),je.centreX=function(t){return je.avg(t.getMinX(),t.getMaxX())},je.avg=function(t,e){return(t+e)/2},je.centreY=function(t){return je.avg(t.getMinY(),t.getMaxY())},oa(Ue,Ne),ia(Ue.prototype,{computeBounds:function(){for(var t=null,e=this.getChildBoundables().iterator();e.hasNext();){var n=e.next();null===t?t=new x(n.getBounds()):t.expandToInclude(n.getBounds())}return t},interfaces_:function(){return[]},getClass:function(){return Ue}}),je.STRtreeNode=Ue,je.serialVersionUID=0x39920f7d5f261e0,je.xComparator={interfaces_:function(){return[a]},compare:function(t,e){return ke.compareDoubles(je.centreX(t.getBounds()),je.centreX(e.getBounds()))}},je.yComparator={interfaces_:function(){return[a]},compare:function(t,e){return ke.compareDoubles(je.centreY(t.getBounds()),je.centreY(e.getBounds()))}},je.intersectsOp={interfaces_:function(){return[IntersectsOp]},intersects:function(t,e){return t.intersects(e)}},je.DEFAULT_NODE_CAPACITY=10,ia(Be.prototype,{interfaces_:function(){return[]},getClass:function(){return Be}}),Be.relativeSign=function(t,e){return t<e?-1:t>e?1:0},Be.compare=function(t,e,n){if(e.equals2D(n))return 0;var r=Be.relativeSign(e.x,n.x),i=Be.relativeSign(e.y,n.y);switch(t){case 0:return Be.compareValue(r,i);case 1:return Be.compareValue(i,r);case 2:return Be.compareValue(i,-r);case 3:return Be.compareValue(-r,i);case 4:return Be.compareValue(-r,-i);case 5:return Be.compareValue(-i,-r);case 6:return Be.compareValue(-i,r);case 7:return Be.compareValue(r,-i)}return c.shouldNeverReachHere("invalid octant value"),0},Be.compareValue=function(t,e){return t<0?-1:t>0?1:e<0?-1:e>0?1:0},ia(ze.prototype,{getCoordinate:function(){return this.coord},print:function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex)},compareTo:function(t){var e=t;return this.segmentIndex<e.segmentIndex?-1:this.segmentIndex>e.segmentIndex?1:this.coord.equals2D(e.coord)?0:Be.compare(this.segmentOctant,this.coord,e.coord)},isEndPoint:function(t){return 0===this.segmentIndex&&!this._isInterior||this.segmentIndex===t},isInterior:function(){return this._isInterior},interfaces_:function(){return[i]},getClass:function(){return ze}}),ia(Ve.prototype,{getSplitCoordinates:function(){var t=new w;this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var r=e.next();this.addEdgeCoordinates(n,r,t),n=r}return t.toCoordinateArray()},addCollapsedNodes:function(){var t=new b;this.findCollapsesFromInsertedNodes(t),this.findCollapsesFromExistingVertices(t);for(var e=t.iterator();e.hasNext();){var n=e.next().intValue();this.add(this.edge.getCoordinate(n),n)}},print:function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(t)},findCollapsesFromExistingVertices:function(t){for(var e=0;e<this.edge.size()-2;e++){var n=this.edge.getCoordinate(e),r=(this.edge.getCoordinate(e+1),this.edge.getCoordinate(e+2));n.equals2D(r)&&t.add(new C(e+1))}},addEdgeCoordinates:function(t,e,n){var r=e.segmentIndex-t.segmentIndex+2,i=this.edge.getCoordinate(e.segmentIndex),o=e.isInterior()||!e.coord.equals2D(i);o||r--,n.add(new h(t.coord),!1);for(var a=t.segmentIndex+1;a<=e.segmentIndex;a++)n.add(this.edge.getCoordinate(a));o&&n.add(new h(e.coord))},iterator:function(){return this.nodeMap.values().iterator()},addSplitEdges:function(t){this.addEndpoints(),this.addCollapsedNodes();for(var e=this.iterator(),n=e.next();e.hasNext();){var r=e.next(),i=this.createSplitEdge(n,r);t.add(i),n=r}},findCollapseIndex:function(t,e,n){if(!t.coord.equals2D(e.coord))return!1;var r=e.segmentIndex-t.segmentIndex;return e.isInterior()||r--,1===r&&(n[0]=t.segmentIndex+1,!0)},findCollapsesFromInsertedNodes:function(t){for(var e=new Array(1).fill(null),n=this.iterator(),r=n.next();n.hasNext();){var i=n.next();this.findCollapseIndex(r,i,e)&&t.add(new C(e[0])),r=i}},getEdge:function(){return this.edge},addEndpoints:function(){var t=this.edge.size()-1;this.add(this.edge.getCoordinate(0),0),this.add(this.edge.getCoordinate(t),t)},createSplitEdge:function(t,e){var n=e.segmentIndex-t.segmentIndex+2,r=this.edge.getCoordinate(e.segmentIndex),i=e.isInterior()||!e.coord.equals2D(r);i||n--;var o=new Array(n).fill(null),a=0;o[a++]=new h(t.coord);for(var s=t.segmentIndex+1;s<=e.segmentIndex;s++)o[a++]=this.edge.getCoordinate(s);return i&&(o[a]=new h(e.coord)),new qe(o,this.edge.getData())},add:function(t,e){var n=new ze(this.edge,t,e,this.edge.getSegmentOctant(e)),r=this.nodeMap.get(n);return null!==r?(c.isTrue(r.coord.equals2D(t),"Found equal nodes with different coordinates"),r):(this.nodeMap.put(n,n),n)},checkSplitEdgesCorrectness:function(t){var e=this.edge.getCoordinates(),n=t.get(0),r=n.getCoordinate(0);if(!r.equals2D(e[0]))throw new u("bad split edge start point at "+r);var i=t.get(t.size()-1),o=i.getCoordinates(),a=o[o.length-1];if(!a.equals2D(e[e.length-1]))throw new u("bad split edge end point at "+a)},interfaces_:function(){return[]},getClass:function(){return Ve}}),ia(Ge.prototype,{next:function(){return null===this.currNode?(this.currNode=this.nextNode,this.currSegIndex=this.currNode.segmentIndex,this.readNextNode(),this.currNode):null===this.nextNode?null:this.nextNode.segmentIndex===this.currNode.segmentIndex?(this.currNode=this.nextNode,this.currSegIndex=this.currNode.segmentIndex,this.readNextNode(),this.currNode):(this.nextNode.segmentIndex,this.currNode.segmentIndex,null)},remove:function(){throw new UnsupportedOperationException(this.getClass().getName())},hasNext:function(){return null!==this.nextNode},readNextNode:function(){this.nodeIt.hasNext()?this.nextNode=this.nodeIt.next():this.nextNode=null},interfaces_:function(){return[d]},getClass:function(){return Ge}}),ia(He.prototype,{addIntersection:function(t,e){},interfaces_:function(){return[Te]},getClass:function(){return He}}),ia(qe.prototype,{getCoordinates:function(){return this.pts},size:function(){return this.pts.length},getCoordinate:function(t){return this.pts[t]},isClosed:function(){return this.pts[0].equals(this.pts[this.pts.length-1])},getSegmentOctant:function(t){return t===this.pts.length-1?-1:this.safeOctant(this.getCoordinate(t),this.getCoordinate(t+1))},setData:function(t){this.data=t},safeOctant:function(t,e){return t.equals2D(e)?0:Se.octant(t,e)},getData:function(){return this.data},addIntersection:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.addIntersectionNode(t,e)}else if(4===arguments.length){var n=arguments[0],r=arguments[1],i=(arguments[2],arguments[3]),o=new h(n.getIntersection(i));this.addIntersection(o,r)}},toString:function(){return ee.toLineString(new Pt(this.pts))},getNodeList:function(){return this.nodeList},addIntersectionNode:function(t,e){var n=e,r=n+1;if(r<this.pts.length){var i=this.pts[r];t.equals2D(i)&&(n=r)}return this.nodeList.add(t,n)},addIntersections:function(t,e,n){for(var r=0;r<t.getIntersectionNum();r++)this.addIntersection(t,e,n,r)},interfaces_:function(){return[He]},getClass:function(){return qe}}),qe.getNodedSubstrings=function(){if(1===arguments.length){var t=arguments[0],e=new b;return qe.getNodedSubstrings(t,e),e}if(2===arguments.length)for(var n=arguments[0],r=arguments[1],i=n.iterator();i.hasNext();){var o=i.next();o.getNodeList().addSplitEdges(r)}},ia(We.prototype,{overlap:function(){if(2===arguments.length)arguments[0],arguments[1];else if(4===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];t.getLineSegment(e,this.overlapSeg1),n.getLineSegment(r,this.overlapSeg2),this.overlap(this.overlapSeg1,this.overlapSeg2)}},interfaces_:function(){return[]},getClass:function(){return We}}),ia(Ye.prototype,{getLineSegment:function(t,e){e.p0=this.pts[t],e.p1=this.pts[t+1]},computeSelect:function(t,e,n,r){var i=this.pts[e],o=this.pts[n];if(r.tempEnv1.init(i,o),n-e==1)return r.select(this,e),null;if(!t.intersects(r.tempEnv1))return null;var a=Math.trunc((e+n)/2);e<a&&this.computeSelect(t,e,a,r),a<n&&this.computeSelect(t,a,n,r)},getCoordinates:function(){for(var t=new Array(this.end-this.start+1).fill(null),e=0,n=this.start;n<=this.end;n++)t[e++]=this.pts[n];return t},computeOverlaps:function(t,e){this.computeOverlapsInternal(this.start,this.end,t,t.start,t.end,e)},setId:function(t){this.id=t},select:function(t,e){this.computeSelect(t,this.start,this.end,e)},getEnvelope:function(){if(null===this.env){var t=this.pts[this.start],e=this.pts[this.end];this.env=new x(t,e)}return this.env},getEndIndex:function(){return this.end},getStartIndex:function(){return this.start},getContext:function(){return this.context},getId:function(){return this.id},computeOverlapsInternal:function(t,e,n,r,i,o){var a=this.pts[t],s=this.pts[e],u=n.pts[r],l=n.pts[i];if(e-t==1&&i-r==1)return o.overlap(this,t,n,r),null;if(o.tempEnv1.init(a,s),o.tempEnv2.init(u,l),!o.tempEnv1.intersects(o.tempEnv2))return null;var c=Math.trunc((t+e)/2),h=Math.trunc((r+i)/2);t<c&&(r<h&&this.computeOverlapsInternal(t,c,n,r,h,o),h<i&&this.computeOverlapsInternal(t,c,n,h,i,o)),c<e&&(r<h&&this.computeOverlapsInternal(c,e,n,r,h,o),h<i&&this.computeOverlapsInternal(c,e,n,h,i,o))},interfaces_:function(){return[]},getClass:function(){return Ye}}),ia(Xe.prototype,{interfaces_:function(){return[]},getClass:function(){return Xe}}),Xe.isNorthern=function(t){return t===Xe.NE||t===Xe.NW},Xe.isOpposite=function(t,e){return t!==e&&2==(t-e+4)%4},Xe.commonHalfPlane=function(t,e){if(t===e)return t;if(2==(t-e+4)%4)return-1;var n=t<e?t:e,r=t>e?t:e;return 0===n&&3===r?3:n},Xe.isInHalfPlane=function(t,e){return e===Xe.SE?t===Xe.SE||t===Xe.SW:t===e||t===e+1},Xe.quadrant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new n("Cannot compute the quadrant for point ( "+t+", "+e+" )");return t>=0?e>=0?Xe.NE:Xe.SE:e>=0?Xe.NW:Xe.SW}if(arguments[0]instanceof h&&arguments[1]instanceof h){var r=arguments[0],i=arguments[1];if(i.x===r.x&&i.y===r.y)throw new n("Cannot compute the quadrant for two identical points "+r);return i.x>=r.x?i.y>=r.y?Xe.NE:Xe.SE:i.y>=r.y?Xe.NW:Xe.SW}},Xe.NE=0,Xe.NW=1,Xe.SW=2,Xe.SE=3,ia(Ze.prototype,{interfaces_:function(){return[]},getClass:function(){return Ze}}),Ze.getChainStartIndices=function(t){var e=0,n=new b;n.add(new C(e));do{var r=Ze.findChainEnd(t,e);n.add(new C(r)),e=r}while(e<t.length-1);return Ze.toIntArray(n)},Ze.findChainEnd=function(t,e){for(var n=e;n<t.length-1&&t[n].equals2D(t[n+1]);)n++;if(n>=t.length-1)return t.length-1;for(var r=Xe.quadrant(t[n],t[n+1]),i=e+1;i<t.length&&(t[i-1].equals2D(t[i])||Xe.quadrant(t[i-1],t[i])===r);)i++;return i-1},Ze.getChains=function(){if(1===arguments.length){var t=arguments[0];return Ze.getChains(t,null)}if(2===arguments.length){for(var e=arguments[0],n=arguments[1],r=new b,i=Ze.getChainStartIndices(e),o=0;o<i.length-1;o++){var a=new Ye(e,i[o],i[o+1],n);r.add(a)}return r}},Ze.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e},ia(Ke.prototype,{computeNodes:function(t){},getNodedSubstrings:function(){},interfaces_:function(){return[]},getClass:function(){return Ke}}),ia($e.prototype,{setSegmentIntersector:function(t){this.segInt=t},interfaces_:function(){return[Ke]},getClass:function(){return $e}}),oa(Qe,$e),ia(Qe.prototype,{getMonotoneChains:function(){return this.monoChains},getNodedSubstrings:function(){return qe.getNodedSubstrings(this.nodedSegStrings)},getIndex:function(){return this.index},add:function(t){for(var e=Ze.getChains(t.getCoordinates(),t),n=e.iterator();n.hasNext();){var r=n.next();r.setId(this.idCounter++),this.index.insert(r.getEnvelope(),r),this.monoChains.add(r)}},computeNodes:function(t){this.nodedSegStrings=t;for(var e=t.iterator();e.hasNext();)this.add(e.next());this.intersectChains()},intersectChains:function(){for(var t=new Je(this.segInt),e=this.monoChains.iterator();e.hasNext();)for(var n=e.next(),r=this.index.query(n.getEnvelope()),i=r.iterator();i.hasNext();){var o=i.next();if(o.getId()>n.getId()&&(n.computeOverlaps(o,t),this.nOverlaps++),this.segInt.isDone())return null}},interfaces_:function(){return[]},getClass:function(){return Qe}}),oa(Je,We),ia(Je.prototype,{overlap:function(){if(4!==arguments.length)return We.prototype.overlap.apply(this,arguments);var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3],i=t.getContext(),o=n.getContext();this.si.processIntersections(i,e,o,r)},interfaces_:function(){return[]},getClass:function(){return Je}}),Qe.SegmentOverlapAction=Je,oa(tn,u),ia(tn.prototype,{getCoordinate:function(){return this.pt},interfaces_:function(){return[]},getClass:function(){return tn}}),tn.msgWithCoord=function(t,e){return null!==e?t+" [ "+e+" ]":t},ia(en.prototype,{processIntersections:function(t,e,n,r){},isDone:function(){},interfaces_:function(){return[]},getClass:function(){return en}}),ia(nn.prototype,{getInteriorIntersection:function(){return this.interiorIntersection},setCheckEndSegmentsOnly:function(t){this.isCheckEndSegmentsOnly=t},getIntersectionSegments:function(){return this.intSegments},count:function(){return this.intersectionCount},getIntersections:function(){return this.intersections},setFindAllIntersections:function(t){this.findAllIntersections=t},setKeepIntersections:function(t){this.keepIntersections=t},processIntersections:function(t,e,n,r){if(!this.findAllIntersections&&this.hasIntersection())return null;if(t===n&&e===r)return null;if(this.isCheckEndSegmentsOnly&&!this.isEndSegment(t,e)&&!this.isEndSegment(n,r))return null;var i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],a=n.getCoordinates()[r],s=n.getCoordinates()[r+1];this.li.computeIntersection(i,o,a,s),this.li.hasIntersection()&&this.li.isInteriorIntersection()&&(this.intSegments=new Array(4).fill(null),this.intSegments[0]=i,this.intSegments[1]=o,this.intSegments[2]=a,this.intSegments[3]=s,this.interiorIntersection=this.li.getIntersection(0),this.keepIntersections&&this.intersections.add(this.interiorIntersection),this.intersectionCount++)},isEndSegment:function(t,e){return 0===e||e>=t.size()-2},hasIntersection:function(){return null!==this.interiorIntersection},isDone:function(){return!this.findAllIntersections&&null!==this.interiorIntersection},interfaces_:function(){return[en]},getClass:function(){return nn}}),nn.createAllIntersectionsFinder=function(t){var e=new nn(t);return e.setFindAllIntersections(!0),e},nn.createAnyIntersectionFinder=function(t){return new nn(t)},nn.createIntersectionCounter=function(t){var e=new nn(t);return e.setFindAllIntersections(!0),e.setKeepIntersections(!1),e},ia(rn.prototype,{execute:function(){if(null!==this.segInt)return null;this.checkInteriorIntersections()},getIntersections:function(){return this.segInt.getIntersections()},isValid:function(){return this.execute(),this._isValid},setFindAllIntersections:function(t){this.findAllIntersections=t},checkInteriorIntersections:function(){this._isValid=!0,this.segInt=new nn(this.li),this.segInt.setFindAllIntersections(this.findAllIntersections);var t=new Qe;if(t.setSegmentIntersector(this.segInt),t.computeNodes(this.segStrings),this.segInt.hasIntersection())return this._isValid=!1,null},checkValid:function(){if(this.execute(),!this._isValid)throw new tn(this.getErrorMessage(),this.segInt.getInteriorIntersection())},getErrorMessage:function(){if(this._isValid)return"no intersections found";var t=this.segInt.getIntersectionSegments();return"found non-noded intersection between "+ee.toLineString(t[0],t[1])+" and "+ee.toLineString(t[2],t[3])},interfaces_:function(){return[]},getClass:function(){return rn}}),rn.computeIntersections=function(t){var e=new rn(t);return e.setFindAllIntersections(!0),e.isValid(),e.getIntersections()},ia(on.prototype,{checkValid:function(){this.nv.checkValid()},interfaces_:function(){return[]},getClass:function(){return on}}),on.toSegmentStrings=function(t){for(var e=new b,n=t.iterator();n.hasNext();){var r=n.next();e.add(new Ce(r.getCoordinates(),r))}return e},on.checkValid=function(t){new on(t).checkValid()},ia(an.prototype,{map:function(t){for(var e=new b,n=0;n<t.getNumGeometries();n++){var r=this.mapOp.map(t.getGeometryN(n));r.isEmpty()||e.add(r)}return t.getFactory().createGeometryCollection(Jt.toGeometryArray(e))},interfaces_:function(){return[]},getClass:function(){return an}}),an.map=function(t,e){return new an(e).map(t)},ia(sn.prototype,{interfaces_:function(){return[]},getClass:function(){return sn}}),sn.opposite=function(t){return t===sn.LEFT?sn.RIGHT:t===sn.RIGHT?sn.LEFT:t},sn.ON=0,sn.LEFT=1,sn.RIGHT=2,ia(un.prototype,{setAllLocations:function(t){for(var e=0;e<this.location.length;e++)this.location[e]=t},isNull:function(){for(var t=0;t<this.location.length;t++)if(this.location[t]!==M.NONE)return!1;return!0},setAllLocationsIfNull:function(t){for(var e=0;e<this.location.length;e++)this.location[e]===M.NONE&&(this.location[e]=t)},isLine:function(){return 1===this.location.length},merge:function(t){if(t.location.length>this.location.length){var e=new Array(3).fill(null);e[sn.ON]=this.location[sn.ON],e[sn.LEFT]=M.NONE,e[sn.RIGHT]=M.NONE,this.location=e}for(var n=0;n<this.location.length;n++)this.location[n]===M.NONE&&n<t.location.length&&(this.location[n]=t.location[n])},getLocations:function(){return this.location},flip:function(){if(this.location.length<=1)return null;var t=this.location[sn.LEFT];this.location[sn.LEFT]=this.location[sn.RIGHT],this.location[sn.RIGHT]=t},toString:function(){var t=new T;return this.location.length>1&&t.append(M.toLocationSymbol(this.location[sn.LEFT])),t.append(M.toLocationSymbol(this.location[sn.ON])),this.location.length>1&&t.append(M.toLocationSymbol(this.location[sn.RIGHT])),t.toString()},setLocations:function(t,e,n){this.location[sn.ON]=t,this.location[sn.LEFT]=e,this.location[sn.RIGHT]=n},get:function(t){return t<this.location.length?this.location[t]:M.NONE},isArea:function(){return this.location.length>1},isAnyNull:function(){for(var t=0;t<this.location.length;t++)if(this.location[t]===M.NONE)return!0;return!1},setLocation:function(){if(1===arguments.length){var t=arguments[0];this.setLocation(sn.ON,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.location[e]=n}},init:function(t){this.location=new Array(t).fill(null),this.setAllLocations(M.NONE)},isEqualOnSide:function(t,e){return this.location[e]===t.location[e]},allPositionsEqual:function(t){for(var e=0;e<this.location.length;e++)if(this.location[e]!==t)return!1;return!0},interfaces_:function(){return[]},getClass:function(){return un}}),ia(ln.prototype,{getGeometryCount:function(){var t=0;return this.elt[0].isNull()||t++,this.elt[1].isNull()||t++,t},setAllLocations:function(t,e){this.elt[t].setAllLocations(e)},isNull:function(t){return this.elt[t].isNull()},setAllLocationsIfNull:function(){if(1===arguments.length){var t=arguments[0];this.setAllLocationsIfNull(0,t),this.setAllLocationsIfNull(1,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.elt[e].setAllLocationsIfNull(n)}},isLine:function(t){return this.elt[t].isLine()},merge:function(t){for(var e=0;e<2;e++)null===this.elt[e]&&null!==t.elt[e]?this.elt[e]=new un(t.elt[e]):this.elt[e].merge(t.elt[e])},flip:function(){this.elt[0].flip(),this.elt[1].flip()},getLocation:function(){if(1===arguments.length){var t=arguments[0];return this.elt[t].get(sn.ON)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return this.elt[e].get(n)}},toString:function(){var t=new T;return null!==this.elt[0]&&(t.append("A:"),t.append(this.elt[0].toString())),null!==this.elt[1]&&(t.append(" B:"),t.append(this.elt[1].toString())),t.toString()},isArea:function(){if(0===arguments.length)return this.elt[0].isArea()||this.elt[1].isArea();if(1===arguments.length){var t=arguments[0];return this.elt[t].isArea()}},isAnyNull:function(t){return this.elt[t].isAnyNull()},setLocation:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.elt[t].setLocation(sn.ON,e)}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this.elt[n].setLocation(r,i)}},isEqualOnSide:function(t,e){return this.elt[0].isEqualOnSide(t.elt[0],e)&&this.elt[1].isEqualOnSide(t.elt[1],e)},allPositionsEqual:function(t,e){return this.elt[t].allPositionsEqual(e)},toLine:function(t){this.elt[t].isArea()&&(this.elt[t]=new un(this.elt[t].location[0]))},interfaces_:function(){return[]},getClass:function(){return ln}}),ln.toLineLabel=function(t){for(var e=new ln(M.NONE),n=0;n<2;n++)e.setLocation(n,t.getLocation(n));return e},ia(cn.prototype,{computeRing:function(){if(null!==this.ring)return null;for(var t=new Array(this.pts.size()).fill(null),e=0;e<this.pts.size();e++)t[e]=this.pts.get(e);this.ring=this.geometryFactory.createLinearRing(t),this._isHole=ae.isCCW(this.ring.getCoordinates())},isIsolated:function(){return 1===this.label.getGeometryCount()},computePoints:function(t){this.startDe=t;var e=t,n=!0;do{if(null===e)throw new tn("Found null DirectedEdge");if(e.getEdgeRing()===this)throw new tn("Directed Edge visited twice during ring-building at "+e.getCoordinate());this.edges.add(e);var r=e.getLabel();c.isTrue(r.isArea()),this.mergeLabel(r),this.addPoints(e.getEdge(),e.isForward(),n),n=!1,this.setEdgeRing(e,this),e=this.getNext(e)}while(e!==this.startDe)},getLinearRing:function(){return this.ring},getCoordinate:function(t){return this.pts.get(t)},computeMaxNodeDegree:function(){this.maxNodeDegree=0;var t=this.startDe;do{var e=t.getNode(),n=e.getEdges().getOutgoingDegree(this);n>this.maxNodeDegree&&(this.maxNodeDegree=n),t=this.getNext(t)}while(t!==this.startDe);this.maxNodeDegree*=2},addPoints:function(t,e,n){var r=t.getCoordinates();if(e){var i=1;n&&(i=0);for(var o=i;o<r.length;o++)this.pts.add(r[o])}else{var i=r.length-2;n&&(i=r.length-1);for(var o=i;o>=0;o--)this.pts.add(r[o])}},isHole:function(){return this._isHole},setInResult:function(){var t=this.startDe;do{t.getEdge().setInResult(!0),t=t.getNext()}while(t!==this.startDe)},containsPoint:function(t){var e=this.getLinearRing();if(!e.getEnvelopeInternal().contains(t))return!1;if(!ae.isPointInRing(t,e.getCoordinates()))return!1;for(var n=this.holes.iterator();n.hasNext();)if(n.next().containsPoint(t))return!1;return!0},addHole:function(t){this.holes.add(t)},isShell:function(){return null===this.shell},getLabel:function(){return this.label},getEdges:function(){return this.edges},getMaxNodeDegree:function(){return this.maxNodeDegree<0&&this.computeMaxNodeDegree(),this.maxNodeDegree},getShell:function(){return this.shell},mergeLabel:function(){if(1===arguments.length){var t=arguments[0];this.mergeLabel(t,0),this.mergeLabel(t,1)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],r=e.getLocation(n,sn.RIGHT);if(r===M.NONE)return null;if(this.label.getLocation(n)===M.NONE)return this.label.setLocation(n,r),null}},setShell:function(t){this.shell=t,null!==t&&t.addHole(this)},toPolygon:function(t){for(var e=new Array(this.holes.size()).fill(null),n=0;n<this.holes.size();n++)e[n]=this.holes.get(n).getLinearRing();return t.createPolygon(this.getLinearRing(),e)},interfaces_:function(){return[]},getClass:function(){return cn}}),oa(hn,cn),ia(hn.prototype,{setEdgeRing:function(t,e){t.setMinEdgeRing(e)},getNext:function(t){return t.getNextMin()},interfaces_:function(){return[]},getClass:function(){return hn}}),oa(fn,cn),ia(fn.prototype,{buildMinimalRings:function(){var t=new b,e=this.startDe;do{if(null===e.getMinEdgeRing()){var n=new hn(e,this.geometryFactory);t.add(n)}e=e.getNext()}while(e!==this.startDe);return t},setEdgeRing:function(t,e){t.setEdgeRing(e)},linkDirectedEdgesForMinimalEdgeRings:function(){var t=this.startDe;do{t.getNode().getEdges().linkMinimalDirectedEdges(this),t=t.getNext()}while(t!==this.startDe)},getNext:function(t){return t.getNext()},interfaces_:function(){return[]},getClass:function(){return fn}}),ia(dn.prototype,{setVisited:function(t){this._isVisited=t},setInResult:function(t){this._isInResult=t},isCovered:function(){return this._isCovered},isCoveredSet:function(){return this._isCoveredSet},setLabel:function(t){this.label=t},getLabel:function(){return this.label},setCovered:function(t){this._isCovered=t,this._isCoveredSet=!0},updateIM:function(t){c.isTrue(this.label.getGeometryCount()>=2,"found partial label"),this.computeIM(t)},isInResult:function(){return this._isInResult},isVisited:function(){return this._isVisited},interfaces_:function(){return[]},getClass:function(){return dn}}),oa(pn,dn),ia(pn.prototype,{isIncidentEdgeInResult:function(){for(var t=this.getEdges().getEdges().iterator();t.hasNext();)if(t.next().getEdge().isInResult())return!0;return!1},isIsolated:function(){return 1===this.label.getGeometryCount()},getCoordinate:function(){return this.coord},print:function(t){t.println("node "+this.coord+" lbl: "+this.label)},computeIM:function(t){},computeMergedLocation:function(t,e){var n=M.NONE;if(n=this.label.getLocation(e),!t.isNull(e)){var r=t.getLocation(e);n!==M.BOUNDARY&&(n=r)}return n},setLabel:function(){if(2!==arguments.length)return dn.prototype.setLabel.apply(this,arguments);var t=arguments[0],e=arguments[1];null===this.label?this.label=new ln(t,e):this.label.setLocation(t,e)},getEdges:function(){return this.edges},mergeLabel:function(){if(arguments[0]instanceof pn){var t=arguments[0];this.mergeLabel(t.label)}else if(arguments[0]instanceof ln)for(var e=arguments[0],n=0;n<2;n++){var r=this.computeMergedLocation(e,n),i=this.label.getLocation(n);i===M.NONE&&this.label.setLocation(n,r)}},add:function(t){this.edges.insert(t),t.setNode(this)},setLabelBoundary:function(t){if(null===this.label)return null;var e=M.NONE;null!==this.label&&(e=this.label.getLocation(t));var n=null;switch(e){case M.BOUNDARY:n=M.INTERIOR;break;case M.INTERIOR:default:n=M.BOUNDARY}this.label.setLocation(t,n)},interfaces_:function(){return[]},getClass:function(){return pn}}),ia(mn.prototype,{find:function(t){return this.nodeMap.get(t)},addNode:function(){if(arguments[0]instanceof h){var t=arguments[0],e=this.nodeMap.get(t);return null===e&&(e=this.nodeFact.createNode(t),this.nodeMap.put(t,e)),e}if(arguments[0]instanceof pn){var n=arguments[0],e=this.nodeMap.get(n.getCoordinate());return null===e?(this.nodeMap.put(n.getCoordinate(),n),n):(e.mergeLabel(n),e)}},print:function(t){for(var e=this.iterator();e.hasNext();)e.next().print(t)},iterator:function(){return this.nodeMap.values().iterator()},values:function(){return this.nodeMap.values()},getBoundaryNodes:function(t){for(var e=new b,n=this.iterator();n.hasNext();){var r=n.next();r.getLabel().getLocation(t)===M.BOUNDARY&&e.add(r)}return e},add:function(t){var e=t.getCoordinate();this.addNode(e).add(t)},interfaces_:function(){return[]},getClass:function(){return mn}}),ia(gn.prototype,{compareDirection:function(t){return this.dx===t.dx&&this.dy===t.dy?0:this.quadrant>t.quadrant?1:this.quadrant<t.quadrant?-1:ae.computeOrientation(t.p0,t.p1,this.p1)},getDy:function(){return this.dy},getCoordinate:function(){return this.p0},setNode:function(t){this.node=t},print:function(t){var e=Math.atan2(this.dy,this.dx),n=this.getClass().getName(),r=n.lastIndexOf("."),i=n.substring(r+1);t.print("  "+i+": "+this.p0+" - "+this.p1+" "+this.quadrant+":"+e+"   "+this.label)},compareTo:function(t){var e=t;return this.compareDirection(e)},getDirectedCoordinate:function(){return this.p1},getDx:function(){return this.dx},getLabel:function(){return this.label},getEdge:function(){return this.edge},getQuadrant:function(){return this.quadrant},getNode:function(){return this.node},toString:function(){var t=Math.atan2(this.dy,this.dx),e=this.getClass().getName(),n=e.lastIndexOf(".");return"  "+e.substring(n+1)+": "+this.p0+" - "+this.p1+" "+this.quadrant+":"+t+"   "+this.label},computeLabel:function(t){},init:function(t,e){this.p0=t,this.p1=e,this.dx=e.x-t.x,this.dy=e.y-t.y,this.quadrant=Xe.quadrant(this.dx,this.dy),c.isTrue(!(0===this.dx&&0===this.dy),"EdgeEnd with identical endpoints found")},interfaces_:function(){return[i]},getClass:function(){return gn}}),oa(vn,gn),ia(vn.prototype,{getNextMin:function(){return this.nextMin},getDepth:function(t){return this.depth[t]},setVisited:function(t){this._isVisited=t},computeDirectedLabel:function(){this.label=new ln(this.edge.getLabel()),this._isForward||this.label.flip()},getNext:function(){return this.next},setDepth:function(t,e){if(-999!==this.depth[t]&&this.depth[t]!==e)throw new tn("assigned depths do not match",this.getCoordinate());this.depth[t]=e},isInteriorAreaEdge:function(){for(var t=!0,e=0;e<2;e++)this.label.isArea(e)&&this.label.getLocation(e,sn.LEFT)===M.INTERIOR&&this.label.getLocation(e,sn.RIGHT)===M.INTERIOR||(t=!1);return t},setNextMin:function(t){this.nextMin=t},print:function(t){gn.prototype.print.call(this,t),t.print(" "+this.depth[sn.LEFT]+"/"+this.depth[sn.RIGHT]),t.print(" ("+this.getDepthDelta()+")"),this._isInResult&&t.print(" inResult")},setMinEdgeRing:function(t){this.minEdgeRing=t},isLineEdge:function(){var t=this.label.isLine(0)||this.label.isLine(1),e=!this.label.isArea(0)||this.label.allPositionsEqual(0,M.EXTERIOR),n=!this.label.isArea(1)||this.label.allPositionsEqual(1,M.EXTERIOR);return t&&e&&n},setEdgeRing:function(t){this.edgeRing=t},getMinEdgeRing:function(){return this.minEdgeRing},getDepthDelta:function(){var t=this.edge.getDepthDelta();return this._isForward||(t=-t),t},setInResult:function(t){this._isInResult=t},getSym:function(){return this.sym},isForward:function(){return this._isForward},getEdge:function(){return this.edge},printEdge:function(t){this.print(t),t.print(" "),this._isForward?this.edge.print(t):this.edge.printReverse(t)},setSym:function(t){this.sym=t},setVisitedEdge:function(t){this.setVisited(t),this.sym.setVisited(t)},setEdgeDepths:function(t,e){var n=this.getEdge().getDepthDelta();this._isForward||(n=-n);var r=1;t===sn.LEFT&&(r=-1);var i=sn.opposite(t),o=n*r,a=e+o;this.setDepth(t,e),this.setDepth(i,a)},getEdgeRing:function(){return this.edgeRing},isInResult:function(){return this._isInResult},setNext:function(t){this.next=t},isVisited:function(){return this._isVisited},interfaces_:function(){return[]},getClass:function(){return vn}}),vn.depthFactor=function(t,e){return t===M.EXTERIOR&&e===M.INTERIOR?1:t===M.INTERIOR&&e===M.EXTERIOR?-1:0},ia(yn.prototype,{createNode:function(t){return new pn(t,null)},interfaces_:function(){return[]},getClass:function(){return yn}}),ia(bn.prototype,{printEdges:function(t){t.println("Edges:");for(var e=0;e<this.edges.size();e++){t.println("edge "+e+":");var n=this.edges.get(e);n.print(t),n.eiList.print(t)}},find:function(t){return this.nodes.find(t)},addNode:function(){if(arguments[0]instanceof pn){var t=arguments[0];return this.nodes.addNode(t)}if(arguments[0]instanceof h){var e=arguments[0];return this.nodes.addNode(e)}},getNodeIterator:function(){return this.nodes.iterator()},linkResultDirectedEdges:function(){for(var t=this.nodes.iterator();t.hasNext();)t.next().getEdges().linkResultDirectedEdges()},debugPrintln:function(t){R.out.println(t)},isBoundaryNode:function(t,e){var n=this.nodes.find(e);if(null===n)return!1;var r=n.getLabel();return null!==r&&r.getLocation(t)===M.BOUNDARY},linkAllDirectedEdges:function(){for(var t=this.nodes.iterator();t.hasNext();)t.next().getEdges().linkAllDirectedEdges()},matchInSameDirection:function(t,e,n,r){return!!t.equals(n)&&ae.computeOrientation(t,e,r)===ae.COLLINEAR&&Xe.quadrant(t,e)===Xe.quadrant(n,r)},getEdgeEnds:function(){return this.edgeEndList},debugPrint:function(t){R.out.print(t)},getEdgeIterator:function(){return this.edges.iterator()},findEdgeInSameDirection:function(t,e){for(var n=0;n<this.edges.size();n++){var r=this.edges.get(n),i=r.getCoordinates();if(this.matchInSameDirection(t,e,i[0],i[1]))return r;if(this.matchInSameDirection(t,e,i[i.length-1],i[i.length-2]))return r}return null},insertEdge:function(t){this.edges.add(t)},findEdgeEnd:function(t){for(var e=this.getEdgeEnds().iterator();e.hasNext();){var n=e.next();if(n.getEdge()===t)return n}return null},addEdges:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.edges.add(n);var r=new vn(n,!0),i=new vn(n,!1);r.setSym(i),i.setSym(r),this.add(r),this.add(i)}},add:function(t){this.nodes.add(t),this.edgeEndList.add(t)},getNodes:function(){return this.nodes.values()},findEdge:function(t,e){for(var n=0;n<this.edges.size();n++){var r=this.edges.get(n),i=r.getCoordinates();if(t.equals(i[0])&&e.equals(i[1]))return r}return null},interfaces_:function(){return[]},getClass:function(){return bn}}),bn.linkResultDirectedEdges=function(t){for(var e=t.iterator();e.hasNext();)e.next().getEdges().linkResultDirectedEdges()},ia(wn.prototype,{sortShellsAndHoles:function(t,e,n){for(var r=t.iterator();r.hasNext();){var i=r.next();i.isHole()?n.add(i):e.add(i)}},computePolygons:function(t){for(var e=new b,n=t.iterator();n.hasNext();){var r=n.next(),i=r.toPolygon(this.geometryFactory);e.add(i)}return e},placeFreeHoles:function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next();if(null===r.getShell()){var i=this.findEdgeRingContaining(r,t);if(null===i)throw new tn("unable to assign hole to a shell",r.getCoordinate(0));r.setShell(i)}}},buildMinimalEdgeRings:function(t,e,n){for(var r=new b,i=t.iterator();i.hasNext();){var o=i.next();if(o.getMaxNodeDegree()>2){o.linkDirectedEdgesForMinimalEdgeRings();var a=o.buildMinimalRings(),s=this.findShell(a);null!==s?(this.placePolygonHoles(s,a),e.add(s)):n.addAll(a)}else r.add(o)}return r},containsPoint:function(t){for(var e=this.shellList.iterator();e.hasNext();)if(e.next().containsPoint(t))return!0;return!1},buildMaximalEdgeRings:function(t){for(var e=new b,n=t.iterator();n.hasNext();){var r=n.next();if(r.isInResult()&&r.getLabel().isArea()&&null===r.getEdgeRing()){var i=new fn(r,this.geometryFactory);e.add(i),i.setInResult()}}return e},placePolygonHoles:function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next();r.isHole()&&r.setShell(t)}},getPolygons:function(){return this.computePolygons(this.shellList)},findEdgeRingContaining:function(t,e){for(var n=t.getLinearRing(),r=n.getEnvelopeInternal(),i=n.getCoordinateN(0),o=null,a=null,s=e.iterator();s.hasNext();){var u=s.next(),l=u.getLinearRing(),c=l.getEnvelopeInternal();null!==o&&(a=o.getLinearRing().getEnvelopeInternal());var h=!1;c.contains(r)&&ae.isPointInRing(i,l.getCoordinates())&&(h=!0),h&&(null===o||a.contains(c))&&(o=u)}return o},findShell:function(t){for(var e=0,n=null,r=t.iterator();r.hasNext();){var i=r.next();i.isHole()||(n=i,e++)}return c.isTrue(e<=1,"found two shells in MinimalEdgeRing list"),n},add:function(){if(1===arguments.length){var t=arguments[0];this.add(t.getEdgeEnds(),t.getNodes())}else if(2===arguments.length){var e=arguments[0],n=arguments[1];bn.linkResultDirectedEdges(n);var r=this.buildMaximalEdgeRings(e),i=new b,o=this.buildMinimalEdgeRings(r,this.shellList,i);this.sortShellsAndHoles(o,this.shellList,i),this.placeFreeHoles(this.shellList,i)}},interfaces_:function(){return[]},getClass:function(){return wn}}),ia(xn.prototype,{collectLines:function(t){for(var e=this.op.getGraph().getEdgeEnds().iterator();e.hasNext();){var n=e.next();this.collectLineEdge(n,t,this.lineEdgesList),this.collectBoundaryTouchEdge(n,t,this.lineEdgesList)}},labelIsolatedLine:function(t,e){var n=this.ptLocator.locate(t.getCoordinate(),this.op.getArgGeometry(e));t.getLabel().setLocation(e,n)},build:function(t){return this.findCoveredLineEdges(),this.collectLines(t),this.buildLines(t),this.resultLineList},collectLineEdge:function(t,e,n){var r=t.getLabel(),i=t.getEdge();t.isLineEdge()&&(t.isVisited()||!Jn.isResultOfOp(r,e)||i.isCovered()||(n.add(i),t.setVisitedEdge(!0)))},findCoveredLineEdges:function(){for(var t=this.op.getGraph().getNodes().iterator();t.hasNext();)t.next().getEdges().findCoveredLineEdges();for(var e=this.op.getGraph().getEdgeEnds().iterator();e.hasNext();){var n=e.next(),r=n.getEdge();if(n.isLineEdge()&&!r.isCoveredSet()){var i=this.op.isCoveredByA(n.getCoordinate());r.setCovered(i)}}},labelIsolatedLines:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),r=n.getLabel();n.isIsolated()&&(r.isNull(0)?this.labelIsolatedLine(n,0):this.labelIsolatedLine(n,1))}},buildLines:function(t){for(var e=this.lineEdgesList.iterator();e.hasNext();){var n=e.next(),r=(n.getLabel(),this.geometryFactory.createLineString(n.getCoordinates()));this.resultLineList.add(r),n.setInResult(!0)}},collectBoundaryTouchEdge:function(t,e,n){var r=t.getLabel();return t.isLineEdge()?null:t.isVisited()?null:t.isInteriorAreaEdge()?null:t.getEdge().isInResult()?null:(c.isTrue(!(t.isInResult()||t.getSym().isInResult())||!t.getEdge().isInResult()),void(Jn.isResultOfOp(r,e)&&e===Jn.INTERSECTION&&(n.add(t.getEdge()),t.setVisitedEdge(!0))))},interfaces_:function(){return[]},getClass:function(){return xn}}),ia(_n.prototype,{filterCoveredNodeToPoint:function(t){var e=t.getCoordinate();if(!this.op.isCoveredByLA(e)){var n=this.geometryFactory.createPoint(e);this.resultPointList.add(n)}},extractNonCoveredResultNodes:function(t){for(var e=this.op.getGraph().getNodes().iterator();e.hasNext();){var n=e.next();if(!(n.isInResult()||n.isIncidentEdgeInResult()||0!==n.getEdges().getDegree()&&t!==Jn.INTERSECTION)){var r=n.getLabel();Jn.isResultOfOp(r,t)&&this.filterCoveredNodeToPoint(n)}}},build:function(t){return this.extractNonCoveredResultNodes(t),this.resultPointList},interfaces_:function(){return[]},getClass:function(){return _n}}),ia(En.prototype,{locate:function(t){},interfaces_:function(){return[]},getClass:function(){return En}}),ia(Mn.prototype,{locate:function(t){return Mn.locate(t,this.geom)},interfaces_:function(){return[En]},getClass:function(){return Mn}}),Mn.isPointInRing=function(t,e){return!!e.getEnvelopeInternal().intersects(t)&&ae.isPointInRing(t,e.getCoordinates())},Mn.containsPointInPolygon=function(t,e){if(e.isEmpty())return!1;var n=e.getExteriorRing();if(!Mn.isPointInRing(t,n))return!1;for(var r=0;r<e.getNumInteriorRing();r++){var i=e.getInteriorRingN(r);if(Mn.isPointInRing(t,i))return!1}return!0},Mn.containsPoint=function(t,e){if(e instanceof St)return Mn.containsPointInPolygon(t,e);if(e instanceof lt)for(var n=new Ee(e);n.hasNext();){var r=n.next();if(r!==e&&Mn.containsPoint(t,r))return!0}return!1},Mn.locate=function(t,e){return e.isEmpty()?M.EXTERIOR:Mn.containsPoint(t,e)?M.INTERIOR:M.EXTERIOR},ia(Sn.prototype,{getNextCW:function(t){this.getEdges();var e=this.edgeList.indexOf(t),n=e-1;return 0===e&&(n=this.edgeList.size()-1),this.edgeList.get(n)},propagateSideLabels:function(t){for(var e=M.NONE,n=this.iterator();n.hasNext();){var r=n.next(),i=r.getLabel();i.isArea(t)&&i.getLocation(t,sn.LEFT)!==M.NONE&&(e=i.getLocation(t,sn.LEFT))}if(e===M.NONE)return null;for(var o=e,n=this.iterator();n.hasNext();){var r=n.next(),i=r.getLabel();if(i.getLocation(t,sn.ON)===M.NONE&&i.setLocation(t,sn.ON,o),i.isArea(t)){var a=i.getLocation(t,sn.LEFT),s=i.getLocation(t,sn.RIGHT);if(s!==M.NONE){if(s!==o)throw new tn("side location conflict",r.getCoordinate());a===M.NONE&&c.shouldNeverReachHere("found single null side (at "+r.getCoordinate()+")"),o=a}else c.isTrue(i.getLocation(t,sn.LEFT)===M.NONE,"found single null side"),i.setLocation(t,sn.RIGHT,o),i.setLocation(t,sn.LEFT,o)}}},getCoordinate:function(){var t=this.iterator();return t.hasNext()?t.next().getCoordinate():null},print:function(t){R.out.println("EdgeEndStar:   "+this.getCoordinate());for(var e=this.iterator();e.hasNext();)e.next().print(t)},isAreaLabelsConsistent:function(t){return this.computeEdgeEndLabels(t.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},checkAreaLabelsConsistent:function(t){var e=this.getEdges();if(e.size()<=0)return!0;var n=e.size()-1,r=e.get(n).getLabel(),i=r.getLocation(t,sn.LEFT);c.isTrue(i!==M.NONE,"Found unlabelled area edge");for(var o=i,a=this.iterator();a.hasNext();){var s=a.next(),u=s.getLabel();c.isTrue(u.isArea(t),"Found non-area edge");var l=u.getLocation(t,sn.LEFT),h=u.getLocation(t,sn.RIGHT);if(l===h)return!1;if(h!==o)return!1;o=l}return!0},findIndex:function(t){this.iterator();for(var e=0;e<this.edgeList.size();e++)if(this.edgeList.get(e)===t)return e;return-1},iterator:function(){return this.getEdges().iterator()},getEdges:function(){return null===this.edgeList&&(this.edgeList=new b(this.edgeMap.values())),this.edgeList},getLocation:function(t,e,n){return this.ptInAreaLocation[t]===M.NONE&&(this.ptInAreaLocation[t]=Mn.locate(e,n[t].getGeometry())),this.ptInAreaLocation[t]},toString:function(){var t=new T;t.append("EdgeEndStar:   "+this.getCoordinate()),t.append("\n");for(var e=this.iterator();e.hasNext();){var n=e.next();t.append(n),t.append("\n")}return t.toString()},computeEdgeEndLabels:function(t){for(var e=this.iterator();e.hasNext();)e.next().computeLabel(t)},computeLabelling:function(t){this.computeEdgeEndLabels(t[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var e=[!1,!1],n=this.iterator();n.hasNext();)for(var r=n.next(),i=r.getLabel(),o=0;o<2;o++)i.isLine(o)&&i.getLocation(o)===M.BOUNDARY&&(e[o]=!0);for(var n=this.iterator();n.hasNext();)for(var r=n.next(),i=r.getLabel(),o=0;o<2;o++)if(i.isAnyNull(o)){var a=M.NONE;if(e[o])a=M.EXTERIOR;else{var s=r.getCoordinate();a=this.getLocation(o,s,t)}i.setAllLocationsIfNull(o,a)}},getDegree:function(){return this.edgeMap.size()},insertEdgeEnd:function(t,e){this.edgeMap.put(t,e),this.edgeList=null},interfaces_:function(){return[]},getClass:function(){return Sn}}),oa(Tn,Sn),ia(Tn.prototype,{linkResultDirectedEdges:function(){this.getResultAreaEdges();for(var t=null,e=null,n=this.SCANNING_FOR_INCOMING,r=0;r<this.resultAreaEdgeList.size();r++){var i=this.resultAreaEdgeList.get(r),o=i.getSym();if(i.getLabel().isArea())switch(null===t&&i.isInResult()&&(t=i),n){case this.SCANNING_FOR_INCOMING:if(!o.isInResult())continue;e=o,n=this.LINKING_TO_OUTGOING;break;case this.LINKING_TO_OUTGOING:if(!i.isInResult())continue;e.setNext(i),n=this.SCANNING_FOR_INCOMING}}if(n===this.LINKING_TO_OUTGOING){if(null===t)throw new tn("no outgoing dirEdge found",this.getCoordinate());c.isTrue(t.isInResult(),"unable to link last incoming dirEdge"),e.setNext(t)}},insert:function(t){var e=t;this.insertEdgeEnd(e,e)},getRightmostEdge:function(){var t=this.getEdges(),e=t.size();if(e<1)return null;var n=t.get(0);if(1===e)return n;var r=t.get(e-1),i=n.getQuadrant(),o=r.getQuadrant();return Xe.isNorthern(i)&&Xe.isNorthern(o)?n:Xe.isNorthern(i)||Xe.isNorthern(o)?0!==n.getDy()?n:0!==r.getDy()?r:(c.shouldNeverReachHere("found two horizontal edges incident on node"),null):r},print:function(t){R.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var e=this.iterator();e.hasNext();){var n=e.next();t.print("out "),n.print(t),t.println(),t.print("in "),n.getSym().print(t),t.println()}},getResultAreaEdges:function(){if(null!==this.resultAreaEdgeList)return this.resultAreaEdgeList;this.resultAreaEdgeList=new b;for(var t=this.iterator();t.hasNext();){var e=t.next();(e.isInResult()||e.getSym().isInResult())&&this.resultAreaEdgeList.add(e)}return this.resultAreaEdgeList},updateLabelling:function(t){for(var e=this.iterator();e.hasNext();){var n=e.next(),r=n.getLabel();r.setAllLocationsIfNull(0,t.getLocation(0)),r.setAllLocationsIfNull(1,t.getLocation(1))}},linkAllDirectedEdges:function(){this.getEdges();for(var t=null,e=null,n=this.edgeList.size()-1;n>=0;n--){var r=this.edgeList.get(n),i=r.getSym();null===e&&(e=i),null!==t&&i.setNext(t),t=r}e.setNext(t)},computeDepths:function(){if(1===arguments.length){var t=arguments[0],e=this.findIndex(t),n=(t.getLabel(),t.getDepth(sn.LEFT)),r=t.getDepth(sn.RIGHT),i=this.computeDepths(e+1,this.edgeList.size(),n);if(this.computeDepths(0,e,i)!==r)throw new tn("depth mismatch at "+t.getCoordinate())}else if(3===arguments.length){for(var o=arguments[0],a=arguments[1],s=arguments[2],u=s,l=o;l<a;l++){var c=this.edgeList.get(l);c.getLabel(),c.setEdgeDepths(sn.RIGHT,u),u=c.getDepth(sn.LEFT)}return u}},mergeSymLabels:function(){for(var t=this.iterator();t.hasNext();){var e=t.next();e.getLabel().merge(e.getSym().getLabel())}},linkMinimalDirectedEdges:function(t){for(var e=null,n=null,r=this.SCANNING_FOR_INCOMING,i=this.resultAreaEdgeList.size()-1;i>=0;i--){var o=this.resultAreaEdgeList.get(i),a=o.getSym();switch(null===e&&o.getEdgeRing()===t&&(e=o),r){case this.SCANNING_FOR_INCOMING:if(a.getEdgeRing()!==t)continue;n=a,r=this.LINKING_TO_OUTGOING;break;case this.LINKING_TO_OUTGOING:if(o.getEdgeRing()!==t)continue;n.setNextMin(o),r=this.SCANNING_FOR_INCOMING}}r===this.LINKING_TO_OUTGOING&&(c.isTrue(null!==e,"found null for first outgoing dirEdge"),c.isTrue(e.getEdgeRing()===t,"unable to link last incoming dirEdge"),n.setNextMin(e))},getOutgoingDegree:function(){if(0===arguments.length){for(var t=0,e=this.iterator();e.hasNext();){var n=e.next();n.isInResult()&&t++}return t}if(1===arguments.length){for(var r=arguments[0],t=0,e=this.iterator();e.hasNext();){var n=e.next();n.getEdgeRing()===r&&t++}return t}},getLabel:function(){return this.label},findCoveredLineEdges:function(){for(var t=M.NONE,e=this.iterator();e.hasNext();){var n=e.next(),r=n.getSym();if(!n.isLineEdge()){if(n.isInResult()){t=M.INTERIOR;break}if(r.isInResult()){t=M.EXTERIOR;break}}}if(t===M.NONE)return null;for(var i=t,e=this.iterator();e.hasNext();){var n=e.next(),r=n.getSym();n.isLineEdge()?n.getEdge().setCovered(i===M.INTERIOR):(n.isInResult()&&(i=M.EXTERIOR),r.isInResult()&&(i=M.INTERIOR))}},computeLabelling:function(t){Sn.prototype.computeLabelling.call(this,t),this.label=new ln(M.NONE);for(var e=this.iterator();e.hasNext();)for(var n=e.next(),r=n.getEdge(),i=r.getLabel(),o=0;o<2;o++){var a=i.getLocation(o);a!==M.INTERIOR&&a!==M.BOUNDARY||this.label.setLocation(o,M.INTERIOR)}},interfaces_:function(){return[]},getClass:function(){return Tn}}),oa(Cn,yn),ia(Cn.prototype,{createNode:function(t){return new pn(t,new Tn)},interfaces_:function(){return[]},getClass:function(){return Cn}}),ia(In.prototype,{computeIntersections:function(t,e){this.mce.computeIntersectsForChain(this.chainIndex,t.mce,t.chainIndex,e)},interfaces_:function(){return[]},getClass:function(){return In}}),ia(On.prototype,{isDelete:function(){return this.eventType===On.DELETE},setDeleteEventIndex:function(t){this.deleteEventIndex=t},getObject:function(){return this.obj},compareTo:function(t){var e=t;return this.xValue<e.xValue?-1:this.xValue>e.xValue?1:this.eventType<e.eventType?-1:this.eventType>e.eventType?1:0},getInsertEvent:function(){return this.insertEvent},isInsert:function(){return this.eventType===On.INSERT},isSameLabel:function(t){return null!==this.label&&this.label===t.label},getDeleteEventIndex:function(){return this.deleteEventIndex},interfaces_:function(){return[i]},getClass:function(){return On}}),On.INSERT=1,On.DELETE=2,ia(An.prototype,{interfaces_:function(){return[]},getClass:function(){return An}}),ia(Ln.prototype,{isTrivialIntersection:function(t,e,n,r){if(t===n&&1===this.li.getIntersectionNum()){if(Ln.isAdjacentSegments(e,r))return!0;if(t.isClosed()){var i=t.getNumPoints()-1;if(0===e&&r===i||0===r&&e===i)return!0}}return!1},getProperIntersectionPoint:function(){return this.properIntersectionPoint},setIsDoneIfProperInt:function(t){this.isDoneWhenProperInt=t},hasProperInteriorIntersection:function(){return this.hasProperInterior},isBoundaryPointInternal:function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next(),i=r.getCoordinate();if(t.isIntersection(i))return!0}return!1},hasProperIntersection:function(){return this.hasProper},hasIntersection:function(){return this._hasIntersection},isDone:function(){return this._isDone},isBoundaryPoint:function(t,e){return!(null===e||!this.isBoundaryPointInternal(t,e[0])&&!this.isBoundaryPointInternal(t,e[1]))},setBoundaryNodes:function(t,e){this.bdyNodes=new Array(2).fill(null),this.bdyNodes[0]=t,this.bdyNodes[1]=e},addIntersections:function(t,e,n,r){if(t===n&&e===r)return null;this.numTests++;var i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],a=n.getCoordinates()[r],s=n.getCoordinates()[r+1];this.li.computeIntersection(i,o,a,s),this.li.hasIntersection()&&(this.recordIsolated&&(t.setIsolated(!1),n.setIsolated(!1)),this.numIntersections++,this.isTrivialIntersection(t,e,n,r)||(this._hasIntersection=!0,!this.includeProper&&this.li.isProper()||(t.addIntersections(this.li,e,0),n.addIntersections(this.li,r,1)),this.li.isProper()&&(this.properIntersectionPoint=this.li.getIntersection(0).copy(),this.hasProper=!0,this.isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this.li,this.bdyNodes)||(this.hasProperInterior=!0))))},interfaces_:function(){return[]},getClass:function(){return Ln}}),Ln.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)},oa(Rn,An),ia(Rn.prototype,{prepareEvents:function(){ba.sort(this.events);for(var t=0;t<this.events.size();t++){var e=this.events.get(t);e.isDelete()&&e.getInsertEvent().setDeleteEventIndex(t)}},computeIntersections:function(){if(1===arguments.length){var t=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var e=0;e<this.events.size();e++){var n=this.events.get(e);if(n.isInsert()&&this.processOverlaps(e,n.getDeleteEventIndex(),n,t),t.isDone())break}}else if(3===arguments.length)if(arguments[2]instanceof Ln&&sa(arguments[0],g)&&sa(arguments[1],g)){var r=arguments[0],i=arguments[1],o=arguments[2];this.addEdges(r,r),this.addEdges(i,i),this.computeIntersections(o)}else if("boolean"==typeof arguments[2]&&sa(arguments[0],g)&&arguments[1]instanceof Ln){var a=arguments[0],s=arguments[1],u=arguments[2];u?this.addEdges(a,null):this.addEdges(a),this.computeIntersections(s)}},addEdge:function(t,e){for(var n=t.getMonotoneChainEdge(),r=n.getStartIndexes(),i=0;i<r.length-1;i++){var o=new In(n,i),a=new On(e,n.getMinX(i),o);this.events.add(a),this.events.add(new On(n.getMaxX(i),a))}},processOverlaps:function(t,e,n,r){for(var i=n.getObject(),o=t;o<e;o++){var a=this.events.get(o);if(a.isInsert()){var s=a.getObject();n.isSameLabel(a)||(i.computeIntersections(s,r),this.nOverlaps++)}}},addEdges:function(){if(1===arguments.length)for(var t=arguments[0],e=t.iterator();e.hasNext();){var n=e.next();this.addEdge(n,n)}else if(2===arguments.length)for(var r=arguments[0],i=arguments[1],e=r.iterator();e.hasNext();){var n=e.next();this.addEdge(n,i)}},interfaces_:function(){return[]},getClass:function(){return Rn}}),ia(Nn.prototype,{getMin:function(){return this.min},intersects:function(t,e){return!(this.min>e||this.max<t)},getMax:function(){return this.max},toString:function(){return ee.toLineString(new h(this.min,0),new h(this.max,0))},interfaces_:function(){return[]},getClass:function(){return Nn}}),ia(Pn.prototype,{compare:function(t,e){var n=t,r=e,i=(n.min+n.max)/2,o=(r.min+r.max)/2;return i<o?-1:i>o?1:0},interfaces_:function(){return[a]},getClass:function(){return Pn}}),Nn.NodeComparator=Pn,oa(kn,Nn),ia(kn.prototype,{query:function(t,e,n){if(!this.intersects(t,e))return null;n.visitItem(this.item)},interfaces_:function(){return[]},getClass:function(){return kn}}),oa(Dn,Nn),ia(Dn.prototype,{buildExtent:function(t,e){this.min=Math.min(t.min,e.min),this.max=Math.max(t.max,e.max)},query:function(t,e,n){if(!this.intersects(t,e))return null;null!==this.node1&&this.node1.query(t,e,n),null!==this.node2&&this.node2.query(t,e,n)},interfaces_:function(){return[]},getClass:function(){return Dn}}),ia(Fn.prototype,{buildTree:function(){ba.sort(this.leaves,new IntervalRTreeNode.NodeComparator);for(var t=this.leaves,e=null,n=new b;;){if(this.buildLevel(t,n),1===n.size())return n.get(0);e=t,t=n,n=e}},insert:function(t,e,n){if(null!==this.root)throw new IllegalStateException("Index cannot be added to once it has been queried");this.leaves.add(new kn(t,e,n))},query:function(t,e,n){this.init(),this.root.query(t,e,n)},buildRoot:function(){if(null!==this.root)return null;this.root=this.buildTree()},printNode:function(t){R.out.println(ee.toLineString(new h(t.min,this.level),new h(t.max,this.level)))},init:function(){if(null!==this.root)return null;this.buildRoot()},buildLevel:function(t,e){this.level++,e.clear();for(var n=0;n<t.size();n+=2){var r=t.get(n);if(null===(n+1<t.size()?t.get(n):null))e.add(r);else{var i=new Dn(t.get(n),t.get(n+1));e.add(i)}}},interfaces_:function(){return[]},getClass:function(){return Fn}}),ia(jn.prototype,{filter:function(t){if(this.isForcedToLineString&&t instanceof Ct){var e=t.getFactory().createLineString(t.getCoordinateSequence());return this.lines.add(e),null}t instanceof xt&&this.lines.add(t)},setForceToLineString:function(t){this.isForcedToLineString=t},interfaces_:function(){return[k]},getClass:function(){return jn}}),jn.getGeometry=function(){if(1===arguments.length){var t=arguments[0];return t.getFactory().buildGeometry(jn.getLines(t))}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e.getFactory().buildGeometry(jn.getLines(e,n))}},jn.getLines=function(){if(1===arguments.length){var t=arguments[0];return jn.getLines(t,!1)}if(2===arguments.length){if(sa(arguments[0],p)&&sa(arguments[1],p)){for(var e=arguments[0],n=arguments[1],r=e.iterator();r.hasNext();){var i=r.next();jn.getLines(i,n)}return n}if(arguments[0]instanceof D&&"boolean"==typeof arguments[1]){var o=arguments[0],a=arguments[1],s=new b;return o.apply(new jn(s,a)),s}if(arguments[0]instanceof D&&sa(arguments[1],p)){var u=arguments[0],l=arguments[1];return u instanceof xt?l.add(u):u.apply(new jn(l)),l}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&sa(arguments[0],p)&&sa(arguments[1],p)){for(var c=arguments[0],h=arguments[1],f=arguments[2],r=c.iterator();r.hasNext();){var i=r.next();jn.getLines(i,h,f)}return h}if("boolean"==typeof arguments[2]&&arguments[0]instanceof D&&sa(arguments[1],p)){var d=arguments[0],m=arguments[1],g=arguments[2];return d.apply(new jn(m,g)),m}}},ia(Un.prototype,{visitItem:function(t){this.items.add(t)},getItems:function(){return this.items},interfaces_:function(){return[Le]},getClass:function(){return Un}}),ia(Bn.prototype,{locate:function(t){var e=new oe(t),n=new zn(e);return this.index.query(t.y,t.y,n),e.getLocation()},interfaces_:function(){return[En]},getClass:function(){return Bn}}),ia(zn.prototype,{visitItem:function(t){var e=t;this.counter.countSegment(e.getCoordinate(0),e.getCoordinate(1))},interfaces_:function(){return[Le]},getClass:function(){return zn}}),ia(Vn.prototype,{init:function(t){for(var e=jn.getLines(t),n=e.iterator();n.hasNext();){var r=n.next(),i=r.getCoordinates();this.addLine(i)}},addLine:function(t){for(var e=1;e<t.length;e++){var n=new se(t[e-1],t[e]),r=Math.min(n.p0.y,n.p1.y),i=Math.max(n.p0.y,n.p1.y);this.index.insert(r,i,n)}},query:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new Un;return this.index.query(t,e,n),n.getItems()}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];this.index.query(r,i,o)}},interfaces_:function(){return[]},getClass:function(){return Vn}}),Bn.SegmentVisitor=zn,Bn.IntervalIndexedGeometry=Vn,ia(Gn.prototype,{getSegmentIndex:function(){return this.segmentIndex},getCoordinate:function(){return this.coord},print:function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex),t.println(" dist = "+this.dist)},compareTo:function(t){var e=t;return this.compare(e.segmentIndex,e.dist)},isEndPoint:function(t){return 0===this.segmentIndex&&0===this.dist||this.segmentIndex===t},toString:function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},getDistance:function(){return this.dist},compare:function(t,e){return this.segmentIndex<t?-1:this.segmentIndex>t?1:this.dist<e?-1:this.dist>e?1:0},interfaces_:function(){return[i]},getClass:function(){return Gn}}),ia(Hn.prototype,{print:function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(t)},iterator:function(){return this.nodeMap.values().iterator()},addSplitEdges:function(t){this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var r=e.next(),i=this.createSplitEdge(n,r);t.add(i),n=r}},addEndpoints:function(){var t=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[t],t,0)},createSplitEdge:function(t,e){var n=e.segmentIndex-t.segmentIndex+2,r=this.edge.pts[e.segmentIndex],i=e.dist>0||!e.coord.equals2D(r);i||n--;var o=new Array(n).fill(null),a=0;o[a++]=new h(t.coord);for(var s=t.segmentIndex+1;s<=e.segmentIndex;s++)o[a++]=this.edge.pts[s];return i&&(o[a]=e.coord),new Xn(o,new ln(this.edge.label))},add:function(t,e,n){var r=new Gn(t,e,n),i=this.nodeMap.get(r);return null!==i?i:(this.nodeMap.put(r,r),r)},isIntersection:function(t){for(var e=this.iterator();e.hasNext();)if(e.next().coord.equals(t))return!0;return!1},interfaces_:function(){return[]},getClass:function(){return Hn}}),ia(qn.prototype,{getChainStartIndices:function(t){var e=0,n=new b;n.add(new C(e));do{var r=this.findChainEnd(t,e);n.add(new C(r)),e=r}while(e<t.length-1);return qn.toIntArray(n)},findChainEnd:function(t,e){for(var n=Xe.quadrant(t[e],t[e+1]),r=e+1;r<t.length&&Xe.quadrant(t[r-1],t[r])===n;)r++;return r-1},interfaces_:function(){return[]},getClass:function(){return qn}}),qn.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e},ia(Wn.prototype,{getCoordinates:function(){return this.pts},getMaxX:function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e>n?e:n},getMinX:function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e<n?e:n},computeIntersectsForChain:function(){if(4===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];this.computeIntersectsForChain(this.startIndex[t],this.startIndex[t+1],e,e.startIndex[n],e.startIndex[n+1],r)}else if(6===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2],s=arguments[3],u=arguments[4],l=arguments[5],c=this.pts[i],h=this.pts[o],f=a.pts[s],d=a.pts[u];if(o-i==1&&u-s==1)return l.addIntersections(this.e,i,a.e,s),null;if(this.env1.init(c,h),this.env2.init(f,d),!this.env1.intersects(this.env2))return null;var p=Math.trunc((i+o)/2),m=Math.trunc((s+u)/2);i<p&&(s<m&&this.computeIntersectsForChain(i,p,a,s,m,l),m<u&&this.computeIntersectsForChain(i,p,a,m,u,l)),p<o&&(s<m&&this.computeIntersectsForChain(p,o,a,s,m,l),m<u&&this.computeIntersectsForChain(p,o,a,m,u,l))}},getStartIndexes:function(){return this.startIndex},computeIntersects:function(t,e){for(var n=0;n<this.startIndex.length-1;n++)for(var r=0;r<t.startIndex.length-1;r++)this.computeIntersectsForChain(n,t,r,e)},interfaces_:function(){return[]},getClass:function(){return Wn}}),ia(Yn.prototype,{getDepth:function(t,e){return this.depth[t][e]},setDepth:function(t,e,n){this.depth[t][e]=n},isNull:function(){if(0===arguments.length){for(var t=0;t<2;t++)for(var e=0;e<3;e++)if(this.depth[t][e]!==Yn.NULL_VALUE)return!1;return!0}if(1===arguments.length){var n=arguments[0];return this.depth[n][1]===Yn.NULL_VALUE}if(2===arguments.length){var r=arguments[0],i=arguments[1];return this.depth[r][i]===Yn.NULL_VALUE}},normalize:function(){for(var t=0;t<2;t++)if(!this.isNull(t)){var e=this.depth[t][1];this.depth[t][2]<e&&(e=this.depth[t][2]),e<0&&(e=0);for(var n=1;n<3;n++){var r=0;this.depth[t][n]>e&&(r=1),this.depth[t][n]=r}}},getDelta:function(t){return this.depth[t][sn.RIGHT]-this.depth[t][sn.LEFT]},getLocation:function(t,e){return this.depth[t][e]<=0?M.EXTERIOR:M.INTERIOR},toString:function(){return"A: "+this.depth[0][1]+","+this.depth[0][2]+" B: "+this.depth[1][1]+","+this.depth[1][2]},add:function(){if(1===arguments.length)for(var t=arguments[0],e=0;e<2;e++)for(var n=1;n<3;n++){var r=t.getLocation(e,n);r!==M.EXTERIOR&&r!==M.INTERIOR||(this.isNull(e,n)?this.depth[e][n]=Yn.depthAtLocation(r):this.depth[e][n]+=Yn.depthAtLocation(r))}else if(3===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2];a===M.INTERIOR&&this.depth[i][o]++}},interfaces_:function(){return[]},getClass:function(){return Yn}}),Yn.depthAtLocation=function(t){return t===M.EXTERIOR?0:t===M.INTERIOR?1:Yn.NULL_VALUE},Yn.NULL_VALUE=-1,oa(Xn,dn),ia(Xn.prototype,{getDepth:function(){return this.depth},getCollapsedEdge:function(){var t=new Array(2).fill(null);return t[0]=this.pts[0],t[1]=this.pts[1],new Xn(t,ln.toLineLabel(this.label))},isIsolated:function(){return this._isIsolated},getCoordinates:function(){return this.pts},setIsolated:function(t){this._isIsolated=t},setName:function(t){this.name=t},equals:function(t){if(!(t instanceof Xn))return!1;var e=t;if(this.pts.length!==e.pts.length)return!1;for(var n=!0,r=!0,i=this.pts.length,o=0;o<this.pts.length;o++)if(this.pts[o].equals2D(e.pts[o])||(n=!1),this.pts[o].equals2D(e.pts[--i])||(r=!1),!n&&!r)return!1;return!0},getCoordinate:function(){if(0===arguments.length)return this.pts.length>0?this.pts[0]:null;if(1===arguments.length){var t=arguments[0];return this.pts[t]}},print:function(t){t.print("edge "+this.name+": "),t.print("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.print(","),t.print(this.pts[e].x+" "+this.pts[e].y);t.print(")  "+this.label+" "+this.depthDelta)},computeIM:function(t){Xn.updateIM(this.label,t)},isCollapsed:function(){return!!this.label.isArea()&&3===this.pts.length&&!!this.pts[0].equals(this.pts[2])},isClosed:function(){return this.pts[0].equals(this.pts[this.pts.length-1])},getMaximumSegmentIndex:function(){return this.pts.length-1},getDepthDelta:function(){return this.depthDelta},getNumPoints:function(){return this.pts.length},printReverse:function(t){t.print("edge "+this.name+": ");for(var e=this.pts.length-1;e>=0;e--)t.print(this.pts[e]+" ");t.println("")},getMonotoneChainEdge:function(){return null===this.mce&&(this.mce=new Wn(this)),this.mce},getEnvelope:function(){if(null===this.env){this.env=new x;for(var t=0;t<this.pts.length;t++)this.env.expandToInclude(this.pts[t])}return this.env},addIntersection:function(t,e,n,r){var i=new h(t.getIntersection(r)),o=e,a=t.getEdgeDistance(n,r),s=o+1;if(s<this.pts.length){var u=this.pts[s];i.equals2D(u)&&(o=s,a=0)}this.eiList.add(i,o,a)},toString:function(){var t=new T;t.append("edge "+this.name+": "),t.append("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.append(","),t.append(this.pts[e].x+" "+this.pts[e].y);return t.append(")  "+this.label+" "+this.depthDelta),t.toString()},isPointwiseEqual:function(t){if(this.pts.length!==t.pts.length)return!1;for(var e=0;e<this.pts.length;e++)if(!this.pts[e].equals2D(t.pts[e]))return!1;return!0},setDepthDelta:function(t){this.depthDelta=t},getEdgeIntersectionList:function(){return this.eiList},addIntersections:function(t,e,n){for(var r=0;r<t.getIntersectionNum();r++)this.addIntersection(t,e,n,r)},interfaces_:function(){return[]},getClass:function(){return Xn}}),Xn.updateIM=function(){if(2!==arguments.length)return dn.prototype.updateIM.apply(this,arguments);var t=arguments[0],e=arguments[1];e.setAtLeastIfValid(t.getLocation(0,sn.ON),t.getLocation(1,sn.ON),1),t.isArea()&&(e.setAtLeastIfValid(t.getLocation(0,sn.LEFT),t.getLocation(1,sn.LEFT),2),e.setAtLeastIfValid(t.getLocation(0,sn.RIGHT),t.getLocation(1,sn.RIGHT),2))},oa(Zn,bn),ia(Zn.prototype,{insertBoundaryPoint:function(t,e){var n=this.nodes.addNode(e),r=n.getLabel(),i=1;M.NONE;r.getLocation(t,sn.ON)===M.BOUNDARY&&i++;var o=Zn.determineBoundary(this.boundaryNodeRule,i);r.setLocation(t,o)},computeSelfNodes:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.computeSelfNodes(t,e,!1)}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2],o=new Ln(n,!0,!1);o.setIsDoneIfProperInt(i);var a=this.createEdgeSetIntersector(),s=this.parentGeom instanceof Ct||this.parentGeom instanceof St||this.parentGeom instanceof It,u=r||!s;return a.computeIntersections(this.edges,o,u),this.addSelfIntersectionNodes(this.argIndex),o}},computeSplitEdges:function(t){for(var e=this.edges.iterator();e.hasNext();)e.next().eiList.addSplitEdges(t)},computeEdgeIntersections:function(t,e,n){var r=new Ln(e,n,!0);return r.setBoundaryNodes(this.getBoundaryNodes(),t.getBoundaryNodes()),this.createEdgeSetIntersector().computeIntersections(this.edges,t.edges,r),r},getGeometry:function(){return this.parentGeom},getBoundaryNodeRule:function(){return this.boundaryNodeRule},hasTooFewPoints:function(){return this._hasTooFewPoints},addPoint:function(){if(arguments[0]instanceof Et){var t=arguments[0],e=t.getCoordinate();this.insertPoint(this.argIndex,e,M.INTERIOR)}else if(arguments[0]instanceof h){var n=arguments[0];this.insertPoint(this.argIndex,n,M.INTERIOR)}},addPolygon:function(t){this.addPolygonRing(t.getExteriorRing(),M.EXTERIOR,M.INTERIOR);for(var e=0;e<t.getNumInteriorRing();e++){var n=t.getInteriorRingN(e);this.addPolygonRing(n,M.INTERIOR,M.EXTERIOR)}},addEdge:function(t){this.insertEdge(t);var e=t.getCoordinates();this.insertPoint(this.argIndex,e[0],M.BOUNDARY),this.insertPoint(this.argIndex,e[e.length-1],M.BOUNDARY)},addLineString:function(t){var e=G.removeRepeatedPoints(t.getCoordinates());if(e.length<2)return this._hasTooFewPoints=!0,this.invalidPoint=e[0],null;var n=new Xn(e,new ln(this.argIndex,M.INTERIOR));this.lineEdgeMap.put(t,n),this.insertEdge(n),c.isTrue(e.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this.argIndex,e[0]),this.insertBoundaryPoint(this.argIndex,e[e.length-1])},getInvalidPoint:function(){return this.invalidPoint},getBoundaryPoints:function(){for(var t=this.getBoundaryNodes(),e=new Array(t.size()).fill(null),n=0,r=t.iterator();r.hasNext();){var i=r.next();e[n++]=i.getCoordinate().copy()}return e},getBoundaryNodes:function(){return null===this.boundaryNodes&&(this.boundaryNodes=this.nodes.getBoundaryNodes(this.argIndex)),this.boundaryNodes},addSelfIntersectionNode:function(t,e,n){if(this.isBoundaryNode(t,e))return null;n===M.BOUNDARY&&this.useBoundaryDeterminationRule?this.insertBoundaryPoint(t,e):this.insertPoint(t,e,n)},addPolygonRing:function(t,e,n){if(t.isEmpty())return null;var r=G.removeRepeatedPoints(t.getCoordinates());if(r.length<4)return this._hasTooFewPoints=!0,this.invalidPoint=r[0],null;var i=e,o=n;ae.isCCW(r)&&(i=n,o=e);var a=new Xn(r,new ln(this.argIndex,M.BOUNDARY,i,o));this.lineEdgeMap.put(t,a),this.insertEdge(a),this.insertPoint(this.argIndex,r[0],M.BOUNDARY)},insertPoint:function(t,e,n){var r=this.nodes.addNode(e),i=r.getLabel();null===i?r.label=new ln(t,n):i.setLocation(t,n)},createEdgeSetIntersector:function(){return new Rn},addSelfIntersectionNodes:function(t){for(var e=this.edges.iterator();e.hasNext();)for(var n=e.next(),r=n.getLabel().getLocation(t),i=n.eiList.iterator();i.hasNext();){var o=i.next();this.addSelfIntersectionNode(t,o.coord,r)}},add:function(){if(1!==arguments.length)return bn.prototype.add.apply(this,arguments);var t=arguments[0];if(t.isEmpty())return null;if(t instanceof It&&(this.useBoundaryDeterminationRule=!1),t instanceof St)this.addPolygon(t);else if(t instanceof xt)this.addLineString(t);else if(t instanceof Et)this.addPoint(t);else if(t instanceof Tt)this.addCollection(t);else if(t instanceof ct)this.addCollection(t);else if(t instanceof It)this.addCollection(t);else{if(!(t instanceof lt))throw new UnsupportedOperationException(t.getClass().getName());this.addCollection(t)}},addCollection:function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}},locate:function(t){return sa(this.parentGeom,Mt)&&this.parentGeom.getNumGeometries()>50?(null===this.areaPtLocator&&(this.areaPtLocator=new Bn(this.parentGeom)),this.areaPtLocator.locate(t)):this.ptLocator.locate(t,this.parentGeom)},findEdge:function(){if(1===arguments.length){var t=arguments[0];return this.lineEdgeMap.get(t)}return bn.prototype.findEdge.apply(this,arguments)},interfaces_:function(){return[]},getClass:function(){return Zn}}),Zn.determineBoundary=function(t,e){return t.isInBoundary(e)?M.BOUNDARY:M.INTERIOR},ia(Kn.prototype,{getArgGeometry:function(t){return this.arg[t].getGeometry()},setComputationPrecision:function(t){this.resultPrecisionModel=t,this.li.setPrecisionModel(this.resultPrecisionModel)},interfaces_:function(){return[]},getClass:function(){return Kn}}),ia($n.prototype,{compareTo:function(t){var e=t;return $n.compareOriented(this.pts,this._orientation,e.pts,e._orientation)},interfaces_:function(){return[i]},getClass:function(){return $n}}),$n.orientation=function(t){return 1===G.increasingDirection(t)},$n.compareOriented=function(t,e,n,r){for(var i=e?1:-1,o=r?1:-1,a=e?t.length:-1,s=r?n.length:-1,u=e?0:t.length-1,l=r?0:n.length-1;;){var c=t[u].compareTo(n[l]);if(0!==c)return c;u+=i,l+=o;var h=u===a,f=l===s;if(h&&!f)return-1;if(!h&&f)return 1;if(h&&f)return 0}},ia(Qn.prototype,{print:function(t){t.print("MULTILINESTRING ( ");for(var e=0;e<this.edges.size();e++){var n=this.edges.get(e);e>0&&t.print(","),t.print("(");for(var r=n.getCoordinates(),i=0;i<r.length;i++)i>0&&t.print(","),t.print(r[i].x+" "+r[i].y);t.println(")")}t.print(")  ")},addAll:function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next())},findEdgeIndex:function(t){for(var e=0;e<this.edges.size();e++)if(this.edges.get(e).equals(t))return e;return-1},iterator:function(){return this.edges.iterator()},getEdges:function(){return this.edges},get:function(t){return this.edges.get(t)},findEqualEdge:function(t){var e=new $n(t.getCoordinates());return this.ocaMap.get(e)},add:function(t){this.edges.add(t);var e=new $n(t.getCoordinates());this.ocaMap.put(e,t)},interfaces_:function(){return[]},getClass:function(){return Qn}}),oa(Jn,Kn),ia(Jn.prototype,{insertUniqueEdge:function(t){var e=this.edgeList.findEqualEdge(t);if(null!==e){var n=e.getLabel(),r=t.getLabel();e.isPointwiseEqual(t)||(r=new ln(t.getLabel()),r.flip());var i=e.getDepth();i.isNull()&&i.add(n),i.add(r),n.merge(r)}else this.edgeList.add(t)},getGraph:function(){return this.graph},cancelDuplicateResultEdges:function(){for(var t=this.graph.getEdgeEnds().iterator();t.hasNext();){var e=t.next(),n=e.getSym();e.isInResult()&&n.isInResult()&&(e.setInResult(!1),n.setInResult(!1))}},isCoveredByLA:function(t){return!!this.isCovered(t,this.resultLineList)||!!this.isCovered(t,this.resultPolyList)},computeGeometry:function(t,e,n,r){var i=new b;return i.addAll(t),i.addAll(e),i.addAll(n),i.isEmpty()?Jn.createEmptyResult(r,this.arg[0].getGeometry(),this.arg[1].getGeometry(),this.geomFact):this.geomFact.buildGeometry(i)},mergeSymLabels:function(){for(var t=this.graph.getNodes().iterator();t.hasNext();)t.next().getEdges().mergeSymLabels()},isCovered:function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next();if(this.ptLocator.locate(t,r)!==M.EXTERIOR)return!0}return!1},replaceCollapsedEdges:function(){for(var t=new b,e=this.edgeList.iterator();e.hasNext();){var n=e.next();n.isCollapsed()&&(e.remove(),t.add(n.getCollapsedEdge()))}this.edgeList.addAll(t)},updateNodeLabelling:function(){for(var t=this.graph.getNodes().iterator();t.hasNext();){var e=t.next(),n=e.getEdges().getLabel();e.getLabel().merge(n)}},getResultGeometry:function(t){return this.computeOverlay(t),this.resultGeom},insertUniqueEdges:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.insertUniqueEdge(n)}},computeOverlay:function(t){this.copyPoints(0),this.copyPoints(1),this.arg[0].computeSelfNodes(this.li,!1),this.arg[1].computeSelfNodes(this.li,!1),this.arg[0].computeEdgeIntersections(this.arg[1],this.li,!0);var e=new b;this.arg[0].computeSplitEdges(e),this.arg[1].computeSplitEdges(e),this.insertUniqueEdges(e),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),on.checkValid(this.edgeList.getEdges()),this.graph.addEdges(this.edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(t),this.cancelDuplicateResultEdges();var n=new wn(this.geomFact);n.add(this.graph),this.resultPolyList=n.getPolygons();var r=new xn(this,this.geomFact,this.ptLocator);this.resultLineList=r.build(t);var i=new _n(this,this.geomFact,this.ptLocator);this.resultPointList=i.build(t),this.resultGeom=this.computeGeometry(this.resultPointList,this.resultLineList,this.resultPolyList,t)},labelIncompleteNode:function(t,e){var n=this.ptLocator.locate(t.getCoordinate(),this.arg[e].getGeometry());t.getLabel().setLocation(e,n)},copyPoints:function(t){for(var e=this.arg[t].getNodeIterator();e.hasNext();){var n=e.next();this.graph.addNode(n.getCoordinate()).setLabel(t,n.getLabel().getLocation(t))}},findResultAreaEdges:function(t){for(var e=this.graph.getEdgeEnds().iterator();e.hasNext();){var n=e.next(),r=n.getLabel();r.isArea()&&!n.isInteriorAreaEdge()&&Jn.isResultOfOp(r.getLocation(0,sn.RIGHT),r.getLocation(1,sn.RIGHT),t)&&n.setInResult(!0)}},computeLabelsFromDepths:function(){for(var t=this.edgeList.iterator();t.hasNext();){var e=t.next(),n=e.getLabel(),r=e.getDepth();if(!r.isNull()){r.normalize();for(var i=0;i<2;i++)n.isNull(i)||!n.isArea()||r.isNull(i)||(0===r.getDelta(i)?n.toLine(i):(c.isTrue(!r.isNull(i,sn.LEFT),"depth of LEFT side has not been initialized"),n.setLocation(i,sn.LEFT,r.getLocation(i,sn.LEFT)),c.isTrue(!r.isNull(i,sn.RIGHT),"depth of RIGHT side has not been initialized"),n.setLocation(i,sn.RIGHT,r.getLocation(i,sn.RIGHT))))}}},computeLabelling:function(){for(var t=this.graph.getNodes().iterator();t.hasNext();)t.next().getEdges().computeLabelling(this.arg);this.mergeSymLabels(),this.updateNodeLabelling()},labelIncompleteNodes:function(){for(var t=0,e=this.graph.getNodes().iterator();e.hasNext();){var n=e.next(),r=n.getLabel();n.isIsolated()&&(t++,r.isNull(0)?this.labelIncompleteNode(n,0):this.labelIncompleteNode(n,1)),n.getEdges().updateLabelling(r)}},isCoveredByA:function(t){return!!this.isCovered(t,this.resultPolyList)},interfaces_:function(){return[]},getClass:function(){return Jn}}),Jn.overlayOp=function(t,e,n){return new Jn(t,e).getResultGeometry(n)},Jn.intersection=function(t,e){if(t.isEmpty()||e.isEmpty())return Jn.createEmptyResult(Jn.INTERSECTION,t,e,t.getFactory());if(t.isGeometryCollection()){var n=e;return an.map(t,{interfaces_:function(){return[MapOp]},map:function(t){return t.intersection(n)}})}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),er.overlayOp(t,e,Jn.INTERSECTION)},Jn.symDifference=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return Jn.createEmptyResult(Jn.SYMDIFFERENCE,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),er.overlayOp(t,e,Jn.SYMDIFFERENCE)},Jn.resultDimension=function(t,e,n){var r=e.getDimension(),i=n.getDimension(),o=-1;switch(t){case Jn.INTERSECTION:o=Math.min(r,i);break;case Jn.UNION:o=Math.max(r,i);break;case Jn.DIFFERENCE:o=r;break;case Jn.SYMDIFFERENCE:o=Math.max(r,i)}return o},Jn.createEmptyResult=function(t,e,n,r){var i=null;switch(Jn.resultDimension(t,e,n)){case-1:i=r.createGeometryCollection(new Array(0).fill(null));break;case 0:i=r.createPoint();break;case 1:i=r.createLineString();break;case 2:i=r.createPolygon()}return i},Jn.difference=function(t,e){return t.isEmpty()?Jn.createEmptyResult(Jn.DIFFERENCE,t,e,t.getFactory()):e.isEmpty()?t.copy():(t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),er.overlayOp(t,e,Jn.DIFFERENCE))},Jn.isResultOfOp=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=t.getLocation(0),r=t.getLocation(1);return Jn.isResultOfOp(n,r,e)}if(3===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2];switch(i===M.BOUNDARY&&(i=M.INTERIOR),o===M.BOUNDARY&&(o=M.INTERIOR),a){case Jn.INTERSECTION:return i===M.INTERIOR&&o===M.INTERIOR;case Jn.UNION:return i===M.INTERIOR||o===M.INTERIOR;case Jn.DIFFERENCE:return i===M.INTERIOR&&o!==M.INTERIOR;case Jn.SYMDIFFERENCE:return i===M.INTERIOR&&o!==M.INTERIOR||i!==M.INTERIOR&&o===M.INTERIOR}return!1}},Jn.INTERSECTION=1,Jn.UNION=2,Jn.DIFFERENCE=3,Jn.SYMDIFFERENCE=4,ia(tr.prototype,{selfSnap:function(t){return new ve(t).snapTo(t,this.snapTolerance)},removeCommonBits:function(t){this.cbr=new we,this.cbr.add(t[0]),this.cbr.add(t[1]);var e=new Array(2).fill(null);return e[0]=this.cbr.removeCommonBits(t[0].copy()),e[1]=this.cbr.removeCommonBits(t[1].copy()),e},prepareResult:function(t){return this.cbr.addCommonBits(t),t},getResultGeometry:function(t){var e=this.snap(this.geom),n=Jn.overlayOp(e[0],e[1],t);return this.prepareResult(n)},checkValid:function(t){t.isValid()||R.out.println("Snapped geometry is invalid")},computeSnapTolerance:function(){this.snapTolerance=ve.computeOverlaySnapTolerance(this.geom[0],this.geom[1])},snap:function(t){var e=this.removeCommonBits(t);return ve.snap(e[0],e[1],this.snapTolerance)},interfaces_:function(){return[]},getClass:function(){return tr}}),tr.overlayOp=function(t,e,n){return new tr(t,e).getResultGeometry(n)},tr.union=function(t,e){return tr.overlayOp(t,e,Jn.UNION)},tr.intersection=function(t,e){return tr.overlayOp(t,e,Jn.INTERSECTION)},tr.symDifference=function(t,e){return tr.overlayOp(t,e,Jn.SYMDIFFERENCE)},tr.difference=function(t,e){return tr.overlayOp(t,e,Jn.DIFFERENCE)},ia(er.prototype,{getResultGeometry:function(t){var e=null,n=!1,r=null;try{e=Jn.overlayOp(this.geom[0],this.geom[1],t),n=!0}catch(t){if(!(t instanceof u))throw t;r=t}if(!n)try{e=tr.overlayOp(this.geom[0],this.geom[1],t)}catch(t){throw t instanceof u?r:t}return e},interfaces_:function(){return[]},getClass:function(){return er}}),er.overlayOp=function(t,e,n){return new er(t,e).getResultGeometry(n)},er.union=function(t,e){return er.overlayOp(t,e,Jn.UNION)},er.intersection=function(t,e){return er.overlayOp(t,e,Jn.INTERSECTION)},er.symDifference=function(t,e){return er.overlayOp(t,e,Jn.SYMDIFFERENCE)},er.difference=function(t,e){return er.overlayOp(t,e,Jn.DIFFERENCE)},ia(nr.prototype,{addPolygon:function(t){if(t.isEmpty())return null;var e=null,n=0,r=this.horizontalBisector(t);if(0===r.getLength())n=0,e=r.getCoordinate();else{var i=er.overlayOp(r,t,Jn.INTERSECTION),o=this.widestGeometry(i);n=o.getEnvelopeInternal().getWidth(),e=nr.centre(o.getEnvelopeInternal())}(null===this.interiorPoint||n>this.maxWidth)&&(this.interiorPoint=e,this.maxWidth=n)},getInteriorPoint:function(){return this.interiorPoint},widestGeometry:function(){if(arguments[0]instanceof lt){var t=arguments[0];if(t.isEmpty())return t;for(var e=t.getGeometryN(0),n=1;n<t.getNumGeometries();n++)t.getGeometryN(n).getEnvelopeInternal().getWidth()>e.getEnvelopeInternal().getWidth()&&(e=t.getGeometryN(n));return e}if(arguments[0]instanceof D){var r=arguments[0];return r instanceof lt?this.widestGeometry(r):r}},horizontalBisector:function(t){var e=t.getEnvelopeInternal(),n=rr.getBisectorY(t);return this.factory.createLineString([new h(e.getMinX(),n),new h(e.getMaxX(),n)])},add:function(t){if(t instanceof St)this.addPolygon(t);else if(t instanceof lt)for(var e=t,n=0;n<e.getNumGeometries();n++)this.add(e.getGeometryN(n))},interfaces_:function(){return[]},getClass:function(){return nr}}),nr.centre=function(t){return new h(nr.avg(t.getMinX(),t.getMaxX()),nr.avg(t.getMinY(),t.getMaxY()))},nr.avg=function(t,e){return(t+e)/2},ia(rr.prototype,{updateInterval:function(t){t<=this.centreY?t>this.loY&&(this.loY=t):t>this.centreY&&t<this.hiY&&(this.hiY=t)},getBisectorY:function(){this.process(this.poly.getExteriorRing());for(var t=0;t<this.poly.getNumInteriorRing();t++)this.process(this.poly.getInteriorRingN(t));return nr.avg(this.hiY,this.loY)},process:function(t){for(var e=t.getCoordinateSequence(),n=0;n<e.size();n++){var r=e.getY(n);this.updateInterval(r)}},interfaces_:function(){return[]},getClass:function(){return rr}}),rr.getBisectorY=function(t){return new rr(t).getBisectorY()},nr.SafeBisectorFinder=rr,ia(ir.prototype,{addEndpoints:function(){if(arguments[0]instanceof D){var t=arguments[0];if(t instanceof xt)this.addEndpoints(t.getCoordinates());else if(t instanceof lt)for(var e=t,n=0;n<e.getNumGeometries();n++)this.addEndpoints(e.getGeometryN(n))}else if(arguments[0]instanceof Array){var r=arguments[0];this.add(r[0]),this.add(r[r.length-1])}},getInteriorPoint:function(){return this.interiorPoint},addInterior:function(){if(arguments[0]instanceof D){var t=arguments[0];if(t instanceof xt)this.addInterior(t.getCoordinates());else if(t instanceof lt)for(var e=t,n=0;n<e.getNumGeometries();n++)this.addInterior(e.getGeometryN(n))}else if(arguments[0]instanceof Array)for(var r=arguments[0],n=1;n<r.length-1;n++)this.add(r[n])},add:function(t){var e=t.distance(this.centroid);e<this.minDistance&&(this.interiorPoint=new h(t),this.minDistance=e)},interfaces_:function(){return[]},getClass:function(){return ir}}),ia(or.prototype,{getInteriorPoint:function(){return this.interiorPoint},add:function(){if(arguments[0]instanceof D){var t=arguments[0];if(t instanceof Et)this.add(t.getCoordinate());else if(t instanceof lt)for(var e=t,n=0;n<e.getNumGeometries();n++)this.add(e.getGeometryN(n))}else if(arguments[0]instanceof h){var r=arguments[0],i=r.distance(this.centroid);i<this.minDistance&&(this.interiorPoint=new h(r),this.minDistance=i)}},interfaces_:function(){return[]},getClass:function(){return or}}),ia(ar.prototype,{select:function(){if(1===arguments.length)arguments[0];else if(2===arguments.length){var t=arguments[0],e=arguments[1];t.getLineSegment(e,this.selectedSegment),this.select(this.selectedSegment)}},interfaces_:function(){return[]},getClass:function(){return ar}}),ia(sr.prototype,{hasChildren:function(){for(var t=0;t<2;t++)if(null!==this.subnode[t])return!0;return!1},isPrunable:function(){return!(this.hasChildren()||this.hasItems())},addAllItems:function(t){t.addAll(this.items);for(var e=0;e<2;e++)null!==this.subnode[e]&&this.subnode[e].addAllItems(t);return t},size:function(){for(var t=0,e=0;e<2;e++)null!==this.subnode[e]&&(t+=this.subnode[e].size());return t+this.items.size()},addAllItemsFromOverlapping:function(t,e){if(null!==t&&!this.isSearchMatch(t))return null;e.addAll(this.items),null!==this.subnode[0]&&this.subnode[0].addAllItemsFromOverlapping(t,e),null!==this.subnode[1]&&this.subnode[1].addAllItemsFromOverlapping(t,e)},hasItems:function(){return!this.items.isEmpty()},remove:function(t,e){if(!this.isSearchMatch(t))return!1;for(var n=!1,r=0;r<2;r++)if(null!==this.subnode[r]&&(n=this.subnode[r].remove(t,e))){this.subnode[r].isPrunable()&&(this.subnode[r]=null);break}return n||(n=this.items.remove(e))},getItems:function(){return this.items},depth:function(){for(var t=0,e=0;e<2;e++)if(null!==this.subnode[e]){var n=this.subnode[e].depth();n>t&&(t=n)}return t+1},nodeSize:function(){for(var t=0,e=0;e<2;e++)null!==this.subnode[e]&&(t+=this.subnode[e].nodeSize());return t+1},add:function(t){this.items.add(t)},interfaces_:function(){return[]},getClass:function(){return sr}}),sr.getSubnodeIndex=function(t,e){var n=-1;return t.min>=e&&(n=1),t.max<=e&&(n=0),n},ia(ur.prototype,{expandToInclude:function(t){t.max>this.max&&(this.max=t.max),t.min<this.min&&(this.min=t.min)},getWidth:function(){return this.max-this.min},overlaps:function(){if(1===arguments.length){var t=arguments[0];return this.overlaps(t.min,t.max)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return!(this.min>n||this.max<e)}},getMin:function(){return this.min},toString:function(){return"["+this.min+", "+this.max+"]"},contains:function(){if(1===arguments.length){if(arguments[0]instanceof ur){var t=arguments[0];return this.contains(t.min,t.max)}if("number"==typeof arguments[0]){var e=arguments[0];return e>=this.min&&e<=this.max}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return n>=this.min&&r<=this.max}},init:function(t,e){this.min=t,this.max=e,t>e&&(this.min=e,this.max=t)},getMax:function(){return this.max},interfaces_:function(){return[]},getClass:function(){return ur}}),lr.exponent=function(t){return cr(64,t)-1023},lr.powerOf2=function(t){return Math.pow(2,t)},ia(hr.prototype,{getInterval:function(){return this.interval},getLevel:function(){return this.level},computeKey:function(t){for(this.level=hr.computeLevel(t),this.interval=new ur,this.computeInterval(this.level,t);!this.interval.contains(t);)this.level+=1,this.computeInterval(this.level,t)},computeInterval:function(t,e){var n=lr.powerOf2(t);this.pt=Math.floor(e.getMin()/n)*n,this.interval.init(this.pt,this.pt+n)},getPoint:function(){return this.pt},interfaces_:function(){return[]},getClass:function(){return hr}}),hr.computeLevel=function(t){var e=t.getWidth();return lr.exponent(e)+1},oa(fr,sr),ia(fr.prototype,{getInterval:function(){return this.interval},find:function(t){var e=sr.getSubnodeIndex(t,this.centre);return-1===e?this:null!==this.subnode[e]?this.subnode[e].find(t):this},insert:function(t){c.isTrue(null===this.interval||this.interval.contains(t.interval));var e=sr.getSubnodeIndex(t.interval,this.centre);if(t.level===this.level-1)this.subnode[e]=t;else{var n=this.createSubnode(e);n.insert(t),this.subnode[e]=n}},isSearchMatch:function(t){return t.overlaps(this.interval)},getSubnode:function(t){return null===this.subnode[t]&&(this.subnode[t]=this.createSubnode(t)),this.subnode[t]},getNode:function(t){var e=sr.getSubnodeIndex(t,this.centre);return-1!==e?this.getSubnode(e).getNode(t):this},createSubnode:function(t){var e=0,n=0;switch(t){case 0:e=this.interval.getMin(),n=this.centre;break;case 1:e=this.centre,n=this.interval.getMax()}return new fr(new ur(e,n),this.level-1)},interfaces_:function(){return[]},getClass:function(){return fr}}),fr.createNode=function(t){var e=new hr(t);return new fr(e.getInterval(),e.getLevel())},fr.createExpanded=function(t,e){var n=new ur(e);null!==t&&n.expandToInclude(t.interval);var r=fr.createNode(n);return null!==t&&r.insert(t),r},ia(dr.prototype,{interfaces_:function(){return[]},getClass:function(){return dr}});dr.isZeroWidth=function(t,e){var n=e-t;if(0===n)return!0;var r=Math.max(Math.abs(t),Math.abs(e)),i=n/r;return lr.exponent(i)<=dr.MIN_BINARY_EXPONENT},dr.MIN_BINARY_EXPONENT=-50,oa(pr,sr),ia(pr.prototype,{insert:function(t,e){var n=sr.getSubnodeIndex(t,pr.origin);if(-1===n)return this.add(e),null;var r=this.subnode[n];if(null===r||!r.getInterval().contains(t)){var i=fr.createExpanded(r,t);this.subnode[n]=i}this.insertContained(this.subnode[n],t,e)},isSearchMatch:function(t){return!0},insertContained:function(t,e,n){c.isTrue(t.getInterval().contains(e));var r=dr.isZeroWidth(e.getMin(),e.getMax()),i=null;i=r?t.find(e):t.getNode(e),i.add(n)},interfaces_:function(){return[]},getClass:function(){return pr}}),pr.origin=0,ia(mr.prototype,{size:function(){return null!==this.root?this.root.size():0},insert:function(t,e){this.collectStats(t);var n=mr.ensureExtent(t,this.minExtent);this.root.insert(n,e)},query:function(){if(1===arguments.length){if("number"==typeof arguments[0]){var t=arguments[0];return this.query(new ur(t,t))}if(arguments[0]instanceof ur){var e=arguments[0],n=new b;return this.query(e,n),n}}else if(2===arguments.length){var r=arguments[0],i=arguments[1];this.root.addAllItemsFromOverlapping(r,i)}},iterator:function(){var t=new b;return this.root.addAllItems(t),t.iterator()},remove:function(t,e){var n=mr.ensureExtent(t,this.minExtent);return this.root.remove(n,e)},collectStats:function(t){var e=t.getWidth();e<this.minExtent&&e>0&&(this.minExtent=e)},depth:function(){return null!==this.root?this.root.depth():0},nodeSize:function(){return null!==this.root?this.root.nodeSize():0},interfaces_:function(){return[]},getClass:function(){return mr}}),mr.ensureExtent=function(t,e){var n=t.getMin(),r=t.getMax();return n!==r?t:(n===r&&(n-=e/2,r=n+e/2),new ur(n,r))},ia(gr.prototype,{isInside:function(t){},interfaces_:function(){return[]},getClass:function(){return gr}}),ia(vr.prototype,{testLineSegment:function(t,e){var n=null,r=null,i=null,o=null,a=e.p0,s=e.p1;n=a.x-t.x,r=a.y-t.y,i=s.x-t.x,o=s.y-t.y,(r>0&&o<=0||o>0&&r<=0)&&0<ie.signOfDet2x2(n,r,i,o)/(o-r)&&this.crossings++},buildIndex:function(){this.tree=new mr;for(var t=G.removeRepeatedPoints(this.ring.getCoordinates()),e=Ze.getChains(t),n=0;n<e.size();n++){var r=e.get(n),i=r.getEnvelope();this.interval.min=i.getMinY(),this.interval.max=i.getMaxY(),this.tree.insert(this.interval,r)}},testMonotoneChain:function(t,e,n){n.select(t,e)},isInside:function(t){this.crossings=0;var e=new x(r.NEGATIVE_INFINITY,r.POSITIVE_INFINITY,t.y,t.y);this.interval.min=t.y,this.interval.max=t.y;for(var n=this.tree.query(this.interval),i=new yr(this,t),o=n.iterator();o.hasNext();){var a=o.next();this.testMonotoneChain(e,i,a)}return this.crossings%2==1},interfaces_:function(){return[gr]},getClass:function(){return vr}}),oa(yr,ar),ia(yr.prototype,{select:function(){if(1!==arguments.length)return ar.prototype.select.apply(this,arguments);var t=arguments[0];this.mcp.testLineSegment(this.p,t)},interfaces_:function(){return[]},getClass:function(){return yr}}),vr.MCSelecter=yr,ia(br.prototype,{interfaces_:function(){return[]},getClass:function(){return br}}),br.toDegrees=function(t){return 180*t/Math.PI},br.normalize=function(t){for(;t>Math.PI;)t-=br.PI_TIMES_2;for(;t<=-Math.PI;)t+=br.PI_TIMES_2;return t},br.angle=function(){if(1===arguments.length){var t=arguments[0];return Math.atan2(t.y,t.x)}if(2===arguments.length){var e=arguments[0],n=arguments[1],r=n.x-e.x,i=n.y-e.y;return Math.atan2(i,r)}},br.isAcute=function(t,e,n){var r=t.x-e.x,i=t.y-e.y;return r*(n.x-e.x)+i*(n.y-e.y)>0},br.isObtuse=function(t,e,n){var r=t.x-e.x,i=t.y-e.y;return r*(n.x-e.x)+i*(n.y-e.y)<0},br.interiorAngle=function(t,e,n){var r=br.angle(e,t),i=br.angle(e,n);return Math.abs(i-r)},br.normalizePositive=function(t){if(t<0){for(;t<0;)t+=br.PI_TIMES_2;t>=br.PI_TIMES_2&&(t=0)}else{for(;t>=br.PI_TIMES_2;)t-=br.PI_TIMES_2;t<0&&(t=0)}return t},br.angleBetween=function(t,e,n){var r=br.angle(e,t),i=br.angle(e,n);return br.diff(r,i)},br.diff=function(t,e){var n=null;return n=t<e?e-t:t-e,n>Math.PI&&(n=2*Math.PI-n),n},br.toRadians=function(t){return t*Math.PI/180},br.getTurn=function(t,e){var n=Math.sin(e-t);return n>0?br.COUNTERCLOCKWISE:n<0?br.CLOCKWISE:br.NONE},br.angleBetweenOriented=function(t,e,n){var r=br.angle(e,t),i=br.angle(e,n),o=i-r;return o<=-Math.PI?o+br.PI_TIMES_2:o>Math.PI?o-br.PI_TIMES_2:o},br.PI_TIMES_2=2*Math.PI,br.PI_OVER_2=Math.PI/2,br.PI_OVER_4=Math.PI/4,br.COUNTERCLOCKWISE=ae.COUNTERCLOCKWISE,br.CLOCKWISE=ae.CLOCKWISE,br.NONE=ae.COLLINEAR,ia(wr.prototype,{area:function(){return wr.area(this.p0,this.p1,this.p2)},signedArea:function(){return wr.signedArea(this.p0,this.p1,this.p2)},interpolateZ:function(t){if(null===t)throw new n("Supplied point is null.");return wr.interpolateZ(t,this.p0,this.p1,this.p2)},longestSideLength:function(){return wr.longestSideLength(this.p0,this.p1,this.p2)},isAcute:function(){return wr.isAcute(this.p0,this.p1,this.p2)},circumcentre:function(){return wr.circumcentre(this.p0,this.p1,this.p2)},area3D:function(){return wr.area3D(this.p0,this.p1,this.p2)},centroid:function(){return wr.centroid(this.p0,this.p1,this.p2)},inCentre:function(){return wr.inCentre(this.p0,this.p1,this.p2)},interfaces_:function(){return[]},getClass:function(){return wr}}),wr.area=function(t,e,n){return Math.abs(((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2)},wr.signedArea=function(t,e,n){return((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2},wr.det=function(t,e,n,r){return t*r-e*n},wr.interpolateZ=function(t,e,n,r){var i=e.x,o=e.y,a=n.x-i,s=r.x-i,u=n.y-o,l=r.y-o,c=a*l-s*u,h=t.x-i,f=t.y-o,d=(l*h-s*f)/c,p=(-u*h+a*f)/c;return e.z+d*(n.z-e.z)+p*(r.z-e.z)},wr.longestSideLength=function(t,e,n){var r=t.distance(e),i=e.distance(n),o=n.distance(t),a=r;return i>a&&(a=i),o>a&&(a=o),a},wr.isAcute=function(t,e,n){return!!br.isAcute(t,e,n)&&!!br.isAcute(e,n,t)&&!!br.isAcute(n,t,e)},wr.circumcentre=function(t,e,n){var r=n.x,i=n.y,o=t.x-r,a=t.y-i,s=e.x-r,u=e.y-i,l=2*wr.det(o,a,s,u);return new h(r-wr.det(a,o*o+a*a,u,s*s+u*u)/l,i+wr.det(o,o*o+a*a,s,s*s+u*u)/l)},wr.perpendicularBisector=function(t,e){var n=e.x-t.x,r=e.y-t.y;return new N(new N(t.x+n/2,t.y+r/2,1),new N(t.x-r+n/2,t.y+n+r/2,1))},wr.angleBisector=function(t,e,n){var r=e.distance(t),i=e.distance(n),o=r/(r+i),a=n.x-t.x,s=n.y-t.y;return new h(t.x+o*a,t.y+o*s)},wr.area3D=function(t,e,n){var r=e.x-t.x,i=e.y-t.y,o=e.z-t.z,a=n.x-t.x,s=n.y-t.y,u=n.z-t.z,l=i*u-o*s,c=o*a-r*u,h=r*s-i*a,f=l*l+c*c+h*h;return Math.sqrt(f)/2},wr.centroid=function(t,e,n){return new h((t.x+e.x+n.x)/3,(t.y+e.y+n.y)/3)},wr.inCentre=function(t,e,n){var r=e.distance(n),i=t.distance(n),o=t.distance(e),a=r+i+o;return new h((r*t.x+i*e.x+o*n.x)/a,(r*t.y+i*e.y+o*n.y)/a)},ia(xr.prototype,{getRadius:function(){return this.compute(),this.radius},getDiameter:function(){switch(this.compute(),this.extremalPts.length){case 0:return this.input.getFactory().createLineString();case 1:return this.input.getFactory().createPoint(this.centre)}var t=this.extremalPts[0],e=this.extremalPts[1];return this.input.getFactory().createLineString([t,e])},getExtremalPoints:function(){return this.compute(),this.extremalPts},computeCirclePoints:function(){if(this.input.isEmpty())return this.extremalPts=new Array(0).fill(null),null;if(1===this.input.getNumPoints()){var t=this.input.getCoordinates();return this.extremalPts=[new h(t[0])],null}var e=this.input.convexHull(),n=e.getCoordinates(),t=n;if(n[0].equals2D(n[n.length-1])&&(t=new Array(n.length-1).fill(null),G.copyDeep(n,0,t,0,n.length-1)),t.length<=2)return this.extremalPts=G.copyDeep(t),null;for(var r=xr.lowestPoint(t),i=xr.pointWitMinAngleWithX(t,r),o=0;o<t.length;o++){var a=xr.pointWithMinAngleWithSegment(t,r,i);if(br.isObtuse(r,a,i))return this.extremalPts=[new h(r),new h(i)],null;if(br.isObtuse(a,r,i))r=a;else{if(!br.isObtuse(a,i,r))return this.extremalPts=[new h(r),new h(i),new h(a)],null;i=a}}c.shouldNeverReachHere("Logic failure in Minimum Bounding Circle algorithm!")},compute:function(){if(null!==this.extremalPts)return null;this.computeCirclePoints(),this.computeCentre(),null!==this.centre&&(this.radius=this.centre.distance(this.extremalPts[0]))},getFarthestPoints:function(){switch(this.compute(),this.extremalPts.length){case 0:return this.input.getFactory().createLineString();case 1:return this.input.getFactory().createPoint(this.centre)}var t=this.extremalPts[0],e=this.extremalPts[this.extremalPts.length-1];return this.input.getFactory().createLineString([t,e])},getCircle:function(){if(this.compute(),null===this.centre)return this.input.getFactory().createPolygon();var t=this.input.getFactory().createPoint(this.centre);return 0===this.radius?t:t.buffer(this.radius)},getCentre:function(){return this.compute(),this.centre},computeCentre:function(){switch(this.extremalPts.length){case 0:this.centre=null;break;case 1:this.centre=this.extremalPts[0];break;case 2:this.centre=new h((this.extremalPts[0].x+this.extremalPts[1].x)/2,(this.extremalPts[0].y+this.extremalPts[1].y)/2);break;case 3:this.centre=wr.circumcentre(this.extremalPts[0],this.extremalPts[1],this.extremalPts[2])}},interfaces_:function(){return[]},getClass:function(){return xr}}),xr.pointWitMinAngleWithX=function(t,e){for(var n=r.MAX_VALUE,i=null,o=0;o<t.length;o++){var a=t[o];if(a!==e){var s=a.x-e.x,u=a.y-e.y;u<0&&(u=-u);var l=Math.sqrt(s*s+u*u),c=u/l;c<n&&(n=c,i=a)}}return i},xr.lowestPoint=function(t){for(var e=t[0],n=1;n<t.length;n++)t[n].y<e.y&&(e=t[n]);return e},xr.pointWithMinAngleWithSegment=function(t,e,n){for(var i=r.MAX_VALUE,o=null,a=0;a<t.length;a++){var s=t[a];if(s!==e&&s!==n){var u=br.angleBetween(e,s,n);u<i&&(i=u,o=s)}}return o},ia(_r.prototype,{getWidthCoordinate:function(){return this.computeMinimumDiameter(),this.minWidthPt},getSupportingSegment:function(){return this.computeMinimumDiameter(),this.inputGeom.getFactory().createLineString([this.minBaseSeg.p0,this.minBaseSeg.p1])},getDiameter:function(){if(this.computeMinimumDiameter(),null===this.minWidthPt)return this.inputGeom.getFactory().createLineString(null);var t=this.minBaseSeg.project(this.minWidthPt);return this.inputGeom.getFactory().createLineString([t,this.minWidthPt])},computeWidthConvex:function(t){this.convexHullPts=t instanceof St?t.getExteriorRing().getCoordinates():t.getCoordinates(),0===this.convexHullPts.length?(this.minWidth=0,this.minWidthPt=null,this.minBaseSeg=null):1===this.convexHullPts.length?(this.minWidth=0,this.minWidthPt=this.convexHullPts[0],this.minBaseSeg.p0=this.convexHullPts[0],this.minBaseSeg.p1=this.convexHullPts[0]):2===this.convexHullPts.length||3===this.convexHullPts.length?(this.minWidth=0,this.minWidthPt=this.convexHullPts[0],this.minBaseSeg.p0=this.convexHullPts[0],this.minBaseSeg.p1=this.convexHullPts[1]):this.computeConvexRingMinDiameter(this.convexHullPts)},computeConvexRingMinDiameter:function(t){this.minWidth=r.MAX_VALUE;for(var e=1,n=new se,i=0;i<t.length-1;i++)n.p0=t[i],n.p1=t[i+1],e=this.findMaxPerpDistance(t,n,e)},computeMinimumDiameter:function(){if(null!==this.minWidthPt)return null;if(this.isConvex)this.computeWidthConvex(this.inputGeom);else{var t=new de(this.inputGeom).getConvexHull();this.computeWidthConvex(t)}},getLength:function(){return this.computeMinimumDiameter(),this.minWidth},findMaxPerpDistance:function(t,e,n){for(var r=e.distancePerpendicular(t[n]),i=r,o=n,a=o;i>=r;)r=i,o=a,a=_r.nextIndex(t,o),i=e.distancePerpendicular(t[a]);return r<this.minWidth&&(this.minPtIndex=o,this.minWidth=r,this.minWidthPt=t[this.minPtIndex],this.minBaseSeg=new se(e)),o},getMinimumRectangle:function(){if(this.computeMinimumDiameter(),0===this.minWidth)return this.minBaseSeg.p0.equals2D(this.minBaseSeg.p1)?this.inputGeom.getFactory().createPoint(this.minBaseSeg.p0):this.minBaseSeg.toGeometry(this.inputGeom.getFactory());for(var t=this.minBaseSeg.p1.x-this.minBaseSeg.p0.x,e=this.minBaseSeg.p1.y-this.minBaseSeg.p0.y,n=r.MAX_VALUE,i=-r.MAX_VALUE,o=r.MAX_VALUE,a=-r.MAX_VALUE,s=0;s<this.convexHullPts.length;s++){var u=_r.computeC(t,e,this.convexHullPts[s]);u>i&&(i=u),u<n&&(n=u);var l=_r.computeC(-e,t,this.convexHullPts[s]);l>a&&(a=l),l<o&&(o=l)}var c=_r.computeSegmentForLine(-t,-e,a),h=_r.computeSegmentForLine(-t,-e,o),f=_r.computeSegmentForLine(-e,t,i),d=_r.computeSegmentForLine(-e,t,n),p=f.lineIntersection(c),m=d.lineIntersection(c),g=d.lineIntersection(h),v=f.lineIntersection(h),y=this.inputGeom.getFactory().createLinearRing([p,m,g,v,p]);return this.inputGeom.getFactory().createPolygon(y,null)},interfaces_:function(){return[]},getClass:function(){return _r}}),_r.nextIndex=function(t,e){return e++,e>=t.length&&(e=0),e},_r.computeC=function(t,e,n){return t*n.y-e*n.x},_r.getMinimumDiameter=function(t){return new _r(t).getDiameter()},_r.getMinimumRectangle=function(t){return new _r(t).getMinimumRectangle()},_r.computeSegmentForLine=function(t,e,n){var r=null,i=null;return Math.abs(e)>Math.abs(t)?(r=new h(0,n/e),i=new h(1,n/e-t/e)):(r=new h(n/t,0),i=new h(n/t-e/t,1)),new se(r,i)};var wa=Object.freeze({Centroid:le,CGAlgorithms:ae,ConvexHull:de,InteriorPointArea:nr,InteriorPointLine:ir,InteriorPointPoint:or,RobustLineIntersector:re,MCPointInRing:vr,MinimumBoundingCircle:xr,MinimumDiameter:_r});ia(Er.prototype,{getResultGeometry:function(){return new Mr(this.distanceTolerance).transform(this.inputGeom)},setDistanceTolerance:function(t){if(t<=0)throw new n("Tolerance must be positive");this.distanceTolerance=t},interfaces_:function(){return[]},getClass:function(){return Er}}),Er.densifyPoints=function(t,e,n){for(var r=new se,i=new w,o=0;o<t.length-1;o++){r.p0=t[o],r.p1=t[o+1],i.add(r.p0,!1);var a=r.getLength(),s=Math.trunc(a/e)+1;if(s>1)for(var u=a/s,l=1;l<s;l++){var c=l*u/a,h=r.pointAlong(c);n.makePrecise(h),i.add(h,!1)}}return i.add(t[t.length-1],!1),i.toCoordinateArray()},Er.densify=function(t,e){var n=new Er(t);return n.setDistanceTolerance(e),n.getResultGeometry()},oa(Mr,me),ia(Mr.prototype,{transformMultiPolygon:function(t,e){var n=me.prototype.transformMultiPolygon.call(this,t,e);return this.createValidArea(n)},transformPolygon:function(t,e){var n=me.prototype.transformPolygon.call(this,t,e);return e instanceof It?n:this.createValidArea(n)},transformCoordinates:function(t,e){var n=t.toCoordinateArray(),r=Er.densifyPoints(n,this.distanceTolerance,e.getPrecisionModel());return e instanceof xt&&1===r.length&&(r=new Array(0).fill(null)),this.factory.getCoordinateSequenceFactory().create(r)},createValidArea:function(t){return t.buffer(0)},interfaces_:function(){return[]},getClass:function(){return Mr}}),Er.DensifyTransformer=Mr;var xa=Object.freeze({Densifier:Er});ia(Sr.prototype,{find:function(t){var e=this;do{if(null===e)return null;if(e.dest().equals2D(t))return e;e=e.oNext()}while(e!==this);return null},dest:function(){return this._sym._orig},oNext:function(){return this._sym._next},insert:function(t){if(this.oNext()===this)return this.insertAfter(t),null;var e=this.compareTo(t),n=this;do{var r=n.oNext();if(r.compareTo(t)!==e||r===this)return n.insertAfter(t),null;n=r}while(n!==this);c.shouldNeverReachHere()},insertAfter:function(t){c.equals(this._orig,t.orig());var e=this.oNext();this._sym.setNext(t),t.sym().setNext(e)},degree:function(){var t=0,e=this;do{t++,e=e.oNext()}while(e!==this);return t},equals:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this._orig.equals2D(t)&&this._sym._orig.equals(e)}},deltaY:function(){return this._sym._orig.y-this._orig.y},sym:function(){return this._sym},prev:function(){return this._sym.next()._sym},compareAngularDirection:function(t){var e=this.deltaX(),n=this.deltaY(),r=t.deltaX(),i=t.deltaY();if(e===r&&n===i)return 0;var o=Xe.quadrant(e,n),a=Xe.quadrant(r,i);return o>a?1:o<a?-1:ae.computeOrientation(t._orig,t.dest(),this.dest())},prevNode:function(){for(var t=this;2===t.degree();)if((t=t.prev())===this)return null;return t},compareTo:function(t){var e=t;return this.compareAngularDirection(e)},next:function(){return this._next},setSym:function(t){this._sym=t},orig:function(){return this._orig},toString:function(){return"HE("+this._orig.x+" "+this._orig.y+", "+this._sym._orig.x+" "+this._sym._orig.y+")"},setNext:function(t){this._next=t},init:function(t){this.setSym(t),t.setSym(this),this.setNext(t),t.setNext(this)},deltaX:function(){return this._sym._orig.x-this._orig.x},interfaces_:function(){return[]},getClass:function(){return Sr}}),Sr.init=function(t,e){if(null!==t._sym||null!==e._sym||null!==t._next||null!==e._next)throw new IllegalStateException("Edges are already initialized");return t.init(e),t},Sr.create=function(t,e){var n=new Sr(t),r=new Sr(e);return n.init(r),n},oa(Tr,Sr),ia(Tr.prototype,{mark:function(){this._isMarked=!0},setMark:function(t){this._isMarked=t},isMarked:function(){return this._isMarked},interfaces_:function(){return[]},getClass:function(){return Tr}}),Tr.setMarkBoth=function(t,e){t.setMark(e),t.sym().setMark(e)},Tr.isMarked=function(t){return t.isMarked()},Tr.setMark=function(t,e){t.setMark(e)},Tr.markBoth=function(t){t.mark(),t.sym().mark()},Tr.mark=function(t){t.mark()},ia(Cr.prototype,{insert:function(t,e,n){var r=this.create(t,e);null!==n?n.insert(r):this.vertexMap.put(t,r);var i=this.vertexMap.get(e);return null!==i?i.insert(r.sym()):this.vertexMap.put(e,r.sym()),r},create:function(t,e){var n=this.createEdge(t),r=this.createEdge(e);return Sr.init(n,r),n},createEdge:function(t){return new Sr(t)},addEdge:function(t,e){if(!Cr.isValidEdge(t,e))return null;var n=this.vertexMap.get(t),r=null;return null!==n&&(r=n.find(e)),null!==r?r:this.insert(t,e,n)},getVertexEdges:function(){return this.vertexMap.values()},findEdge:function(t,e){var n=this.vertexMap.get(t);return null===n?null:n.find(e)},interfaces_:function(){return[]},getClass:function(){return Cr}}),Cr.isValidEdge=function(t,e){return 0!==e.compareTo(t)},oa(Ir,Tr),ia(Ir.prototype,{setStart:function(){this._isStart=!0},isStart:function(){return this._isStart},interfaces_:function(){return[]},getClass:function(){return Ir}}),oa(Or,Cr),ia(Or.prototype,{createEdge:function(t){return new Ir(t)},interfaces_:function(){return[]},getClass:function(){return Or}}),ia(Ar.prototype,{addLine:function(t){this.lines.add(this.factory.createLineString(t.toCoordinateArray()))},updateRingStartEdge:function(t){return t.isStart()||(t=t.sym(),t.isStart())?null===this.ringStartEdge?(this.ringStartEdge=t,null):void(t.orig().compareTo(this.ringStartEdge.orig())<0&&(this.ringStartEdge=t)):null},getResult:function(){return null===this.result&&this.computeResult(),this.result},process:function(t){var e=t.prevNode();null===e&&(e=t),this.stackEdges(e),this.buildLines()},buildRing:function(t){var e=new w,n=t;for(e.add(n.orig().copy(),!1);2===n.sym().degree();){var r=n.next();if(r===t)break;e.add(r.orig().copy(),!1),n=r}e.add(n.dest().copy(),!1),this.addLine(e)},buildLine:function(t){var e=new w,n=t;for(this.ringStartEdge=null,Tr.markBoth(n),e.add(n.orig().copy(),!1);2===n.sym().degree();){this.updateRingStartEdge(n);var r=n.next();if(r===t)return this.buildRing(this.ringStartEdge),null;e.add(r.orig().copy(),!1),n=r,Tr.markBoth(n)}e.add(n.dest().copy(),!1),this.stackEdges(n.sym()),this.addLine(e)},stackEdges:function(t){var e=t;do{Tr.isMarked(e)||this.nodeEdgeStack.add(e),e=e.oNext()}while(e!==t)},computeResult:function(){for(var t=this.graph.getVertexEdges(),e=t.iterator();e.hasNext();){var n=e.next();Tr.isMarked(n)||this.process(n)}this.result=this.factory.buildGeometry(this.lines)},buildLines:function(){for(;!this.nodeEdgeStack.empty();){var t=this.nodeEdgeStack.pop();Tr.isMarked(t)||this.buildLine(t)}},add:function(){if(arguments[0]instanceof D)arguments[0].apply({interfaces_:function(){return[k]},filter:function(t){t instanceof xt&&this.add(t)}});else if(sa(arguments[0],p))for(var t=arguments[0],e=t.iterator();e.hasNext();){var n=e.next();this.add(n)}else if(arguments[0]instanceof xt){var r=arguments[0];null===this.factory&&(this.factory=r.getFactory());for(var i=r.getCoordinateSequence(),o=!1,e=1;e<i.size();e++){var a=this.graph.addEdge(i.getCoordinate(e-1),i.getCoordinate(e));null!==a&&(o||(a.setStart(),o=!0))}}},interfaces_:function(){return[]},getClass:function(){return Ar}}),Ar.dissolve=function(t){var e=new Ar;return e.add(t),e.getResult()};var _a=Object.freeze({LineDissolver:Ar}),Ea=Object.freeze({GeometryGraph:Zn});ia(Lr.prototype,{hasChildren:function(){for(var t=0;t<4;t++)if(null!==this.subnode[t])return!0;return!1},isPrunable:function(){return!(this.hasChildren()||this.hasItems())},addAllItems:function(t){t.addAll(this.items);for(var e=0;e<4;e++)null!==this.subnode[e]&&this.subnode[e].addAllItems(t);return t},getNodeCount:function(){for(var t=0,e=0;e<4;e++)null!==this.subnode[e]&&(t+=this.subnode[e].size());return t+1},size:function(){for(var t=0,e=0;e<4;e++)null!==this.subnode[e]&&(t+=this.subnode[e].size());return t+this.items.size()},addAllItemsFromOverlapping:function(t,e){if(!this.isSearchMatch(t))return null;e.addAll(this.items);for(var n=0;n<4;n++)null!==this.subnode[n]&&this.subnode[n].addAllItemsFromOverlapping(t,e)},visitItems:function(t,e){for(var n=this.items.iterator();n.hasNext();)e.visitItem(n.next())},hasItems:function(){return!this.items.isEmpty()},remove:function(t,e){if(!this.isSearchMatch(t))return!1;for(var n=!1,r=0;r<4;r++)if(null!==this.subnode[r]&&(n=this.subnode[r].remove(t,e))){this.subnode[r].isPrunable()&&(this.subnode[r]=null);break}return n||(n=this.items.remove(e))},visit:function(t,e){if(!this.isSearchMatch(t))return null;this.visitItems(t,e);for(var n=0;n<4;n++)null!==this.subnode[n]&&this.subnode[n].visit(t,e)},getItems:function(){return this.items},depth:function(){for(var t=0,e=0;e<4;e++)if(null!==this.subnode[e]){var n=this.subnode[e].depth();n>t&&(t=n)}return t+1},isEmpty:function(){var t=!0;this.items.isEmpty()||(t=!1);for(var e=0;e<4;e++)null!==this.subnode[e]&&(this.subnode[e].isEmpty()||(t=!1));return t},add:function(t){this.items.add(t)},interfaces_:function(){return[s]},getClass:function(){return Lr}}),Lr.getSubnodeIndex=function(t,e,n){var r=-1;return t.getMinX()>=e&&(t.getMinY()>=n&&(r=3),t.getMaxY()<=n&&(r=1)),t.getMaxX()<=e&&(t.getMinY()>=n&&(r=2),t.getMaxY()<=n&&(r=0)),r},ia(Rr.prototype,{getLevel:function(){return this.level},computeKey:function(){if(1===arguments.length){var t=arguments[0];for(this.level=Rr.computeQuadLevel(t),this.env=new x,this.computeKey(this.level,t);!this.env.contains(t);)this.level+=1,this.computeKey(this.level,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],r=lr.powerOf2(e);this.pt.x=Math.floor(n.getMinX()/r)*r,this.pt.y=Math.floor(n.getMinY()/r)*r,this.env.init(this.pt.x,this.pt.x+r,this.pt.y,this.pt.y+r)}},getEnvelope:function(){return this.env},getCentre:function(){return new h((this.env.getMinX()+this.env.getMaxX())/2,(this.env.getMinY()+this.env.getMaxY())/2)},getPoint:function(){return this.pt},interfaces_:function(){return[]},getClass:function(){return Rr}}),Rr.computeQuadLevel=function(t){var e=t.getWidth(),n=t.getHeight(),r=e>n?e:n;return lr.exponent(r)+1},oa(Nr,Lr),ia(Nr.prototype,{find:function(t){var e=Lr.getSubnodeIndex(t,this.centrex,this.centrey);return-1===e?this:null!==this.subnode[e]?this.subnode[e].find(t):this},isSearchMatch:function(t){return this.env.intersects(t)},getSubnode:function(t){return null===this.subnode[t]&&(this.subnode[t]=this.createSubnode(t)),this.subnode[t]},getEnvelope:function(){return this.env},getNode:function(t){var e=Lr.getSubnodeIndex(t,this.centrex,this.centrey);return-1!==e?this.getSubnode(e).getNode(t):this},createSubnode:function(t){var e=0,n=0,r=0,i=0;switch(t){case 0:e=this.env.getMinX(),n=this.centrex,r=this.env.getMinY(),i=this.centrey;break;case 1:e=this.centrex,n=this.env.getMaxX(),r=this.env.getMinY(),i=this.centrey;break;case 2:e=this.env.getMinX(),n=this.centrex,r=this.centrey,i=this.env.getMaxY();break;case 3:e=this.centrex,n=this.env.getMaxX(),r=this.centrey,i=this.env.getMaxY()}return new Nr(new x(e,n,r,i),this.level-1)},insertNode:function(t){c.isTrue(null===this.env||this.env.contains(t.env));var e=Lr.getSubnodeIndex(t.env,this.centrex,this.centrey);if(t.level===this.level-1)this.subnode[e]=t;else{var n=this.createSubnode(e);n.insertNode(t),this.subnode[e]=n}},interfaces_:function(){return[]},getClass:function(){return Nr}}),Nr.createNode=function(t){var e=new Rr(t);return new Nr(e.getEnvelope(),e.getLevel())},Nr.createExpanded=function(t,e){var n=new x(e);null!==t&&n.expandToInclude(t.env);var r=Nr.createNode(n);return null!==t&&r.insertNode(t),r},oa(Pr,Lr),ia(Pr.prototype,{insert:function(t,e){var n=Lr.getSubnodeIndex(t,Pr.origin.x,Pr.origin.y);if(-1===n)return this.add(e),null;var r=this.subnode[n];if(null===r||!r.getEnvelope().contains(t)){var i=Nr.createExpanded(r,t);this.subnode[n]=i}this.insertContained(this.subnode[n],t,e)},isSearchMatch:function(t){return!0},insertContained:function(t,e,n){c.isTrue(t.getEnvelope().contains(e));var r=dr.isZeroWidth(e.getMinX(),e.getMaxX()),i=dr.isZeroWidth(e.getMinY(),e.getMaxY()),o=null;o=r||i?t.find(e):t.getNode(e),o.add(n)},interfaces_:function(){return[]},getClass:function(){return Pr}}),Pr.origin=new h(0,0),ia(kr.prototype,{size:function(){return null!==this.root?this.root.size():0},insert:function(t,e){this.collectStats(t);var n=kr.ensureExtent(t,this.minExtent);this.root.insert(n,e)},query:function(){if(1===arguments.length){var t=arguments[0],e=new Un;return this.query(t,e),e.getItems()}if(2===arguments.length){var n=arguments[0],r=arguments[1];this.root.visit(n,r)}},queryAll:function(){var t=new b;return this.root.addAllItems(t),t},remove:function(t,e){var n=kr.ensureExtent(t,this.minExtent);return this.root.remove(n,e)},collectStats:function(t){var e=t.getWidth();e<this.minExtent&&e>0&&(this.minExtent=e);var n=t.getHeight();n<this.minExtent&&n>0&&(this.minExtent=n)},depth:function(){return null!==this.root?this.root.depth():0},isEmpty:function(){return null===this.root},interfaces_:function(){return[Re,s]},getClass:function(){return kr}}),kr.ensureExtent=function(t,e){var n=t.getMinX(),r=t.getMaxX(),i=t.getMinY(),o=t.getMaxY();return n!==r&&i!==o?t:(n===r&&(n-=e/2,r=n+e/2),i===o&&(i-=e/2,o=i+e/2),new x(n,r,i,o))},kr.serialVersionUID=-0x678b60c967a25400;var Ma=Object.freeze({Quadtree:kr}),Sa=Object.freeze({STRtree:je}),Ta=Object.freeze({quadtree:Ma,strtree:Sa}),Ca=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"];ia(Dr.prototype,{read:function(t){var e=void 0;e="string"==typeof t?JSON.parse(t):t;var n=e.type;if(!Ia[n])throw new Error("Unknown GeoJSON type: "+e.type);return-1!==Ca.indexOf(n)?Ia[n].apply(this,[e.coordinates]):"GeometryCollection"===n?Ia[n].apply(this,[e.geometries]):Ia[n].apply(this,[e])},write:function(t){var e=t.getGeometryType();if(!Oa[e])throw new Error("Geometry is not supported");return Oa[e].apply(this,[t])}});var Ia={Feature:function(t){var e={};for(var n in t)e[n]=t[n];if(t.geometry){var r=t.geometry.type;if(!Ia[r])throw new Error("Unknown GeoJSON type: "+t.type);e.geometry=this.read(t.geometry)}return t.bbox&&(e.bbox=Ia.bbox.apply(this,[t.bbox])),e},FeatureCollection:function(t){var e={};if(t.features){e.features=[];for(var n=0;n<t.features.length;++n)e.features.push(this.read(t.features[n]))}return t.bbox&&(e.bbox=this.parse.bbox.apply(this,[t.bbox])),e},coordinates:function(t){for(var e=[],n=0;n<t.length;++n){var r=t[n];e.push(new h(r[0],r[1]))}return e},bbox:function(t){return this.geometryFactory.createLinearRing([new h(t[0],t[1]),new h(t[2],t[1]),new h(t[2],t[3]),new h(t[0],t[3]),new h(t[0],t[1])])},Point:function(t){var e=new h(t[0],t[1]);return this.geometryFactory.createPoint(e)},MultiPoint:function(t){for(var e=[],n=0;n<t.length;++n)e.push(Ia.Point.apply(this,[t[n]]));return this.geometryFactory.createMultiPoint(e)},LineString:function(t){var e=Ia.coordinates.apply(this,[t]);return this.geometryFactory.createLineString(e)},MultiLineString:function(t){for(var e=[],n=0;n<t.length;++n)e.push(Ia.LineString.apply(this,[t[n]]));return this.geometryFactory.createMultiLineString(e)},Polygon:function(t){for(var e=Ia.coordinates.apply(this,[t[0]]),n=this.geometryFactory.createLinearRing(e),r=[],i=1;i<t.length;++i){var o=t[i],a=Ia.coordinates.apply(this,[o]),s=this.geometryFactory.createLinearRing(a);r.push(s)}return this.geometryFactory.createPolygon(n,r)},MultiPolygon:function(t){for(var e=[],n=0;n<t.length;++n){var r=t[n];e.push(Ia.Polygon.apply(this,[r]))}return this.geometryFactory.createMultiPolygon(e)},GeometryCollection:function(t){for(var e=[],n=0;n<t.length;++n){var r=t[n];e.push(this.read(r))}return this.geometryFactory.createGeometryCollection(e)}},Oa={coordinate:function(t){return[t.x,t.y]},Point:function(t){return{type:"Point",coordinates:Oa.coordinate.apply(this,[t.getCoordinate()])}},MultiPoint:function(t){for(var e=[],n=0;n<t.geometries.length;++n){var r=t.geometries[n],i=Oa.Point.apply(this,[r]);e.push(i.coordinates)}return{type:"MultiPoint",coordinates:e}},LineString:function(t){for(var e=[],n=t.getCoordinates(),r=0;r<n.length;++r){var i=n[r];e.push(Oa.coordinate.apply(this,[i]))}return{type:"LineString",coordinates:e}},MultiLineString:function(t){for(var e=[],n=0;n<t.geometries.length;++n){var r=t.geometries[n],i=Oa.LineString.apply(this,[r]);e.push(i.coordinates)}return{type:"MultiLineString",coordinates:e}},Polygon:function(t){var e=[],n=Oa.LineString.apply(this,[t.shell]);e.push(n.coordinates);for(var r=0;r<t.holes.length;++r){var i=t.holes[r],o=Oa.LineString.apply(this,[i]);e.push(o.coordinates)}return{type:"Polygon",coordinates:e}},MultiPolygon:function(t){for(var e=[],n=0;n<t.geometries.length;++n){var r=t.geometries[n],i=Oa.Polygon.apply(this,[r]);e.push(i.coordinates)}return{type:"MultiPolygon",coordinates:e}},GeometryCollection:function(t){for(var e=[],n=0;n<t.geometries.length;++n){var r=t.geometries[n],i=r.getGeometryType();e.push(Oa[i].apply(this,[r]))}return{type:"GeometryCollection",geometries:e}}};ia(Fr.prototype,{read:function(t){var e=this.parser.read(t);return this.precisionModel.getType()===$t.FIXED&&this.reducePrecision(e),e},reducePrecision:function(t){var e,n;if(t.coordinate)this.precisionModel.makePrecise(t.coordinate);else if(t.points)for(e=0,n=t.points.length;e<n;e++)this.precisionModel.makePrecise(t.points[e]);else if(t.geometries)for(e=0,n=t.geometries.length;e<n;e++)this.reducePrecision(t.geometries[e])}}),ia(jr.prototype,{write:function(t){return this.parser.write(t)}}),ia(Ur.prototype,{read:function(t){var e=this.parser.read(t);return this.precisionModel.getType()===$t.FIXED&&this.reducePrecision(e),e},reducePrecision:function(t){if(t.coordinate)this.precisionModel.makePrecise(t.coordinate);else if(t.points)for(var e=0,n=t.points.coordinates.length;e<n;e++)this.precisionModel.makePrecise(t.points.coordinates[e]);else if(t.geometries)for(var r=0,i=t.geometries.length;r<i;r++)this.reducePrecision(t.geometries[r])}}),ia(zr.prototype,{read:function(t){var e=this.ol;return t instanceof e.geom.Point?this.convertFromPoint(t):t instanceof e.geom.LineString?this.convertFromLineString(t):t instanceof e.geom.LinearRing?this.convertFromLinearRing(t):t instanceof e.geom.Polygon?this.convertFromPolygon(t):t instanceof e.geom.MultiPoint?this.convertFromMultiPoint(t):t instanceof e.geom.MultiLineString?this.convertFromMultiLineString(t):t instanceof e.geom.MultiPolygon?this.convertFromMultiPolygon(t):t instanceof e.geom.GeometryCollection?this.convertFromCollection(t):void 0},convertFromPoint:function(t){var e=t.getCoordinates();return this.geometryFactory.createPoint(new h(e[0],e[1]))},convertFromLineString:function(t){return this.geometryFactory.createLineString(t.getCoordinates().map(function(t){return new h(t[0],t[1])}))},convertFromLinearRing:function(t){return this.geometryFactory.createLinearRing(t.getCoordinates().map(function(t){return new h(t[0],t[1])}))},convertFromPolygon:function(t){for(var e=t.getLinearRings(),n=null,r=[],i=0;i<e.length;i++){var o=this.convertFromLinearRing(e[i]);0===i?n=o:r.push(o)}return this.geometryFactory.createPolygon(n,r)},convertFromMultiPoint:function(t){var e=t.getPoints().map(function(t){return this.convertFromPoint(t)},this);return this.geometryFactory.createMultiPoint(e)},convertFromMultiLineString:function(t){var e=t.getLineStrings().map(function(t){return this.convertFromLineString(t)},this);return this.geometryFactory.createMultiLineString(e)},convertFromMultiPolygon:function(t){var e=t.getPolygons().map(function(t){return this.convertFromPolygon(t)},this);return this.geometryFactory.createMultiPolygon(e)},convertFromCollection:function(t){var e=t.getGeometries().map(function(t){return this.read(t)},this);return this.geometryFactory.createGeometryCollection(e)},write:function(t){return"Point"===t.getGeometryType()?this.convertToPoint(t.getCoordinate()):"LineString"===t.getGeometryType()?this.convertToLineString(t):"LinearRing"===t.getGeometryType()?this.convertToLinearRing(t):"Polygon"===t.getGeometryType()?this.convertToPolygon(t):"MultiPoint"===t.getGeometryType()?this.convertToMultiPoint(t):"MultiLineString"===t.getGeometryType()?this.convertToMultiLineString(t):"MultiPolygon"===t.getGeometryType()?this.convertToMultiPolygon(t):"GeometryCollection"===t.getGeometryType()?this.convertToCollection(t):void 0},convertToPoint:function(t){return new this.ol.geom.Point([t.x,t.y])},convertToLineString:function(t){var e=t.points.coordinates.map(Br);return new this.ol.geom.LineString(e)},convertToLinearRing:function(t){var e=t.points.coordinates.map(Br);return new this.ol.geom.LinearRing(e)},convertToPolygon:function(t){for(var e=[t.shell.points.coordinates.map(Br)],n=0;n<t.holes.length;n++)e.push(t.holes[n].points.coordinates.map(Br));return new this.ol.geom.Polygon(e)},convertToMultiPoint:function(t){return new this.ol.geom.MultiPoint(t.getCoordinates().map(Br))},convertToMultiLineString:function(t){for(var e=[],n=0;n<t.geometries.length;n++)e.push(this.convertToLineString(t.geometries[n]).getCoordinates());return new this.ol.geom.MultiLineString(e)},convertToMultiPolygon:function(t){for(var e=[],n=0;n<t.geometries.length;n++)e.push(this.convertToPolygon(t.geometries[n]).getCoordinates());return new this.ol.geom.MultiPolygon(e)},convertToCollection:function(t){for(var e=[],n=0;n<t.geometries.length;n++){var r=t.geometries[n];e.push(this.write(r))}return new this.ol.geom.GeometryCollection(e)}});var Aa=Object.freeze({GeoJSONReader:Fr,GeoJSONWriter:jr,OL3Parser:zr,WKTReader:Ur,WKTWriter:ee});ia(Vr.prototype,{rescale:function(){if(sa(arguments[0],p))for(var t=arguments[0],e=t.iterator();e.hasNext();){var n=e.next();this.rescale(n.getCoordinates())}else if(arguments[0]instanceof Array){var r=arguments[0];2===r.length&&(new h(r[0]),new h(r[1]));for(var e=0;e<r.length;e++)r[e].x=r[e].x/this.scaleFactor+this.offsetX,r[e].y=r[e].y/this.scaleFactor+this.offsetY;2===r.length&&r[0].equals2D(r[1])&&R.out.println(r)}},scale:function(){if(sa(arguments[0],p)){for(var t=arguments[0],e=new b,n=t.iterator();n.hasNext();){var r=n.next();e.add(new qe(this.scale(r.getCoordinates()),r.getData()))}return e}if(arguments[0]instanceof Array){for(var i=arguments[0],o=new Array(i.length).fill(null),n=0;n<i.length;n++)o[n]=new h(Math.round((i[n].x-this.offsetX)*this.scaleFactor),Math.round((i[n].y-this.offsetY)*this.scaleFactor),i[n].z);return G.removeRepeatedPoints(o)}},isIntegerPrecision:function(){return 1===this.scaleFactor},getNodedSubstrings:function(){var t=this.noder.getNodedSubstrings();return this.isScaled&&this.rescale(t),t},computeNodes:function(t){var e=t;this.isScaled&&(e=this.scale(t)),this.noder.computeNodes(e)},interfaces_:function(){return[Ke]},getClass:function(){return Vr}});var La=Object.freeze({MCIndexNoder:Qe,ScaledNoder:Vr,SegmentString:Te});ia(Gr.prototype,{isSimpleMultiPoint:function(t){if(t.isEmpty())return!0;for(var e=new it,n=0;n<t.getNumGeometries();n++){var r=t.getGeometryN(n),i=r.getCoordinate();if(e.contains(i))return this.nonSimpleLocation=i,!1;e.add(i)}return!0},isSimplePolygonal:function(t){for(var e=jn.getLines(t),n=e.iterator();n.hasNext();){var r=n.next();if(!this.isSimpleLinearGeometry(r))return!1}return!0},hasClosedEndpointIntersection:function(t){for(var e=new et,n=t.getEdgeIterator();n.hasNext();){var r=n.next(),i=(r.getMaximumSegmentIndex(),r.isClosed()),o=r.getCoordinate(0);this.addEndpoint(e,o,i);var a=r.getCoordinate(r.getNumPoints()-1);this.addEndpoint(e,a,i)}for(var n=e.values().iterator();n.hasNext();){var s=n.next();if(s.isClosed&&2!==s.degree)return this.nonSimpleLocation=s.getCoordinate(),!0}return!1},getNonSimpleLocation:function(){return this.nonSimpleLocation},isSimpleLinearGeometry:function(t){if(t.isEmpty())return!0;var e=new Zn(0,t),n=new re,r=e.computeSelfNodes(n,!0);return!(r.hasIntersection()&&(r.hasProperIntersection()?(this.nonSimpleLocation=r.getProperIntersectionPoint(),1):this.hasNonEndpointIntersection(e)||this.isClosedEndpointsInInterior&&this.hasClosedEndpointIntersection(e)))},hasNonEndpointIntersection:function(t){for(var e=t.getEdgeIterator();e.hasNext();)for(var n=e.next(),r=n.getMaximumSegmentIndex(),i=n.getEdgeIntersectionList().iterator();i.hasNext();){var o=i.next();if(!o.isEndPoint(r))return this.nonSimpleLocation=o.getCoordinate(),!0}return!1},addEndpoint:function(t,e,n){var r=t.get(e);null===r&&(r=new Hr(e),t.put(e,r)),r.addEndpoint(n)},computeSimple:function(t){return this.nonSimpleLocation=null,!!t.isEmpty()||(t instanceof xt?this.isSimpleLinearGeometry(t):t instanceof ct?this.isSimpleLinearGeometry(t):t instanceof Tt?this.isSimpleMultiPoint(t):sa(t,Mt)?this.isSimplePolygonal(t):!(t instanceof lt)||this.isSimpleGeometryCollection(t))},isSimple:function(){return this.nonSimpleLocation=null,this.computeSimple(this.inputGeom)},isSimpleGeometryCollection:function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);if(!this.computeSimple(n))return!1}return!0},interfaces_:function(){return[]},getClass:function(){return Gr}}),ia(Hr.prototype,{addEndpoint:function(t){this.degree++,this.isClosed|=t},getCoordinate:function(){return this.pt},interfaces_:function(){return[]},getClass:function(){return Hr}}),Gr.EndpointInfo=Hr,ia(qr.prototype,{getEndCapStyle:function(){return this.endCapStyle},isSingleSided:function(){return this._isSingleSided},setQuadrantSegments:function(t){this.quadrantSegments=t,0===this.quadrantSegments&&(this.joinStyle=qr.JOIN_BEVEL),this.quadrantSegments<0&&(this.joinStyle=qr.JOIN_MITRE,this.mitreLimit=Math.abs(this.quadrantSegments)),t<=0&&(this.quadrantSegments=1),this.joinStyle!==qr.JOIN_ROUND&&(this.quadrantSegments=qr.DEFAULT_QUADRANT_SEGMENTS)},getJoinStyle:function(){return this.joinStyle},setJoinStyle:function(t){this.joinStyle=t},setSimplifyFactor:function(t){this.simplifyFactor=t<0?0:t},getSimplifyFactor:function(){return this.simplifyFactor},getQuadrantSegments:function(){return this.quadrantSegments},setEndCapStyle:function(t){this.endCapStyle=t},getMitreLimit:function(){return this.mitreLimit},setMitreLimit:function(t){this.mitreLimit=t},setSingleSided:function(t){this._isSingleSided=t},interfaces_:function(){return[]},getClass:function(){return qr}}),qr.bufferDistanceError=function(t){var e=Math.PI/2/t;return 1-Math.cos(e/2)},qr.CAP_ROUND=1,qr.CAP_FLAT=2,qr.CAP_SQUARE=3,qr.JOIN_ROUND=1,qr.JOIN_MITRE=2,qr.JOIN_BEVEL=3,qr.DEFAULT_QUADRANT_SEGMENTS=8,qr.DEFAULT_MITRE_LIMIT=5,qr.DEFAULT_SIMPLIFY_FACTOR=.01,ia(Wr.prototype,{getCoordinate:function(){return this.minCoord},getRightmostSide:function(t,e){var n=this.getRightmostSideOfSegment(t,e);return n<0&&(n=this.getRightmostSideOfSegment(t,e-1)),n<0&&(this.minCoord=null,this.checkForRightmostCoordinate(t)),n},findRightmostEdgeAtVertex:function(){var t=this.minDe.getEdge().getCoordinates();c.isTrue(this.minIndex>0&&this.minIndex<t.length,"rightmost point expected to be interior vertex of edge");var e=t[this.minIndex-1],n=t[this.minIndex+1],r=ae.computeOrientation(this.minCoord,n,e),i=!1;e.y<this.minCoord.y&&n.y<this.minCoord.y&&r===ae.COUNTERCLOCKWISE?i=!0:e.y>this.minCoord.y&&n.y>this.minCoord.y&&r===ae.CLOCKWISE&&(i=!0),i&&(this.minIndex=this.minIndex-1)},getRightmostSideOfSegment:function(t,e){var n=t.getEdge(),r=n.getCoordinates();if(e<0||e+1>=r.length)return-1;if(r[e].y===r[e+1].y)return-1;var i=sn.LEFT;return r[e].y<r[e+1].y&&(i=sn.RIGHT),i},getEdge:function(){return this.orientedDe},checkForRightmostCoordinate:function(t){for(var e=t.getEdge().getCoordinates(),n=0;n<e.length-1;n++)(null===this.minCoord||e[n].x>this.minCoord.x)&&(this.minDe=t,this.minIndex=n,this.minCoord=e[n])},findRightmostEdgeAtNode:function(){var t=this.minDe.getNode(),e=t.getEdges();this.minDe=e.getRightmostEdge(),this.minDe.isForward()||(this.minDe=this.minDe.getSym(),this.minIndex=this.minDe.getEdge().getCoordinates().length-1)},findEdge:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();n.isForward()&&this.checkForRightmostCoordinate(n)}c.isTrue(0!==this.minIndex||this.minCoord.equals(this.minDe.getCoordinate()),"inconsistency in rightmost processing"),0===this.minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this.orientedDe=this.minDe,this.getRightmostSide(this.minDe,this.minIndex)===sn.LEFT&&(this.orientedDe=this.minDe.getSym())},interfaces_:function(){return[]},getClass:function(){return Wr}}),Yr.prototype.addLast=function(t){this.array_.push(t)},Yr.prototype.removeFirst=function(){return this.array_.shift()},Yr.prototype.isEmpty=function(){return 0===this.array_.length},ia(Xr.prototype,{clearVisitedEdges:function(){for(var t=this.dirEdgeList.iterator();t.hasNext();)t.next().setVisited(!1)},getRightmostCoordinate:function(){return this.rightMostCoord},computeNodeDepth:function(t){for(var e=null,n=t.getEdges().iterator();n.hasNext();){var r=n.next();if(r.isVisited()||r.getSym().isVisited()){e=r;break}}if(null===e)throw new tn("unable to find edge to compute depths at "+t.getCoordinate());t.getEdges().computeDepths(e);for(var n=t.getEdges().iterator();n.hasNext();){var r=n.next();r.setVisited(!0),this.copySymDepths(r)}},computeDepth:function(t){this.clearVisitedEdges();var e=this.finder.getEdge();e.getNode(),e.getLabel(),e.setEdgeDepths(sn.RIGHT,t),this.copySymDepths(e),this.computeDepths(e)},create:function(t){this.addReachable(t),this.finder.findEdge(this.dirEdgeList),this.rightMostCoord=this.finder.getCoordinate()},findResultEdges:function(){for(var t=this.dirEdgeList.iterator();t.hasNext();){var e=t.next();e.getDepth(sn.RIGHT)>=1&&e.getDepth(sn.LEFT)<=0&&!e.isInteriorAreaEdge()&&e.setInResult(!0)}},computeDepths:function(t){var e=new Z,n=new Yr,r=t.getNode();for(n.addLast(r),e.add(r),t.setVisited(!0);!n.isEmpty();){var i=n.removeFirst();e.add(i),this.computeNodeDepth(i);for(var o=i.getEdges().iterator();o.hasNext();){var a=o.next(),s=a.getSym();if(!s.isVisited()){var u=s.getNode();e.contains(u)||(n.addLast(u),e.add(u))}}}},compareTo:function(t){var e=t;return this.rightMostCoord.x<e.rightMostCoord.x?-1:this.rightMostCoord.x>e.rightMostCoord.x?1:0},getEnvelope:function(){if(null===this.env){for(var t=new x,e=this.dirEdgeList.iterator();e.hasNext();)for(var n=e.next(),r=n.getEdge().getCoordinates(),i=0;i<r.length-1;i++)t.expandToInclude(r[i]);this.env=t}return this.env},addReachable:function(t){var e=new he;for(e.add(t);!e.empty();){var n=e.pop();this.add(n,e)}},copySymDepths:function(t){var e=t.getSym();e.setDepth(sn.LEFT,t.getDepth(sn.RIGHT)),e.setDepth(sn.RIGHT,t.getDepth(sn.LEFT))},add:function(t,e){t.setVisited(!0),this.nodes.add(t);for(var n=t.getEdges().iterator();n.hasNext();){var r=n.next();this.dirEdgeList.add(r);var i=r.getSym(),o=i.getNode();o.isVisited()||e.push(o)}},getNodes:function(){return this.nodes},getDirectedEdges:function(){return this.dirEdgeList},interfaces_:function(){return[i]},getClass:function(){return Xr}}),ia(Zr.prototype,{isDeletable:function(t,e,n,r){var i=this.inputLine[t],o=this.inputLine[e],a=this.inputLine[n];return!!this.isConcave(i,o,a)&&!!this.isShallow(i,o,a,r)&&this.isShallowSampled(i,o,t,n,r)},deleteShallowConcavities:function(){for(var t=1,e=(this.inputLine.length,this.findNextNonDeletedIndex(t)),n=this.findNextNonDeletedIndex(e),r=!1;n<this.inputLine.length;){var i=!1;this.isDeletable(t,e,n,this.distanceTol)&&(this.isDeleted[e]=Zr.DELETE,i=!0,r=!0),t=i?n:e,e=this.findNextNonDeletedIndex(t),n=this.findNextNonDeletedIndex(e)}return r},isShallowConcavity:function(t,e,n,r){return ae.computeOrientation(t,e,n)===this.angleOrientation&&ae.distancePointLine(e,t,n)<r},isShallowSampled:function(t,e,n,r,i){var o=Math.trunc((r-n)/Zr.NUM_PTS_TO_CHECK);o<=0&&(o=1);for(var a=n;a<r;a+=o)if(!this.isShallow(t,e,this.inputLine[a],i))return!1;return!0},isConcave:function(t,e,n){return ae.computeOrientation(t,e,n)===this.angleOrientation},simplify:function(t){this.distanceTol=Math.abs(t),t<0&&(this.angleOrientation=ae.CLOCKWISE),this.isDeleted=new Array(this.inputLine.length).fill(null);var e=!1;do{e=this.deleteShallowConcavities()}while(e);return this.collapseLine()},findNextNonDeletedIndex:function(t){for(var e=t+1;e<this.inputLine.length&&this.isDeleted[e]===Zr.DELETE;)e++;return e},isShallow:function(t,e,n,r){return ae.distancePointLine(e,t,n)<r},collapseLine:function(){for(var t=new w,e=0;e<this.inputLine.length;e++)this.isDeleted[e]!==Zr.DELETE&&t.add(this.inputLine[e]);return t.toCoordinateArray()},interfaces_:function(){return[]},getClass:function(){return Zr}}),Zr.simplify=function(t,e){return new Zr(t).simplify(e)},Zr.INIT=0,Zr.DELETE=1,Zr.KEEP=1,Zr.NUM_PTS_TO_CHECK=10,ia(Kr.prototype,{getCoordinates:function(){return this.ptList.toArray(Kr.COORDINATE_ARRAY_TYPE)},setPrecisionModel:function(t){this.precisionModel=t},addPt:function(t){var e=new h(t);if(this.precisionModel.makePrecise(e),this.isRedundant(e))return null;this.ptList.add(e)},reverse:function(){},addPts:function(t,e){if(e)for(var n=0;n<t.length;n++)this.addPt(t[n]);else for(var n=t.length-1;n>=0;n--)this.addPt(t[n])},isRedundant:function(t){if(this.ptList.size()<1)return!1;var e=this.ptList.get(this.ptList.size()-1);return t.distance(e)<this.minimimVertexDistance},toString:function(){return(new Jt).createLineString(this.getCoordinates()).toString()},closeRing:function(){if(this.ptList.size()<1)return null;var t=new h(this.ptList.get(0)),e=this.ptList.get(this.ptList.size()-1);if(this.ptList.size()>=2&&this.ptList.get(this.ptList.size()-2),t.equals(e))return null;this.ptList.add(t)},setMinimumVertexDistance:function(t){this.minimimVertexDistance=t},interfaces_:function(){return[]},getClass:function(){return Kr}}),Kr.COORDINATE_ARRAY_TYPE=new Array(0).fill(null),ia($r.prototype,{addNextSegment:function(t,e){if(this.s0=this.s1,this.s1=this.s2,this.s2=t,this.seg0.setCoordinates(this.s0,this.s1),this.computeOffsetSegment(this.seg0,this.side,this.distance,this.offset0),this.seg1.setCoordinates(this.s1,this.s2),this.computeOffsetSegment(this.seg1,this.side,this.distance,this.offset1),this.s1.equals(this.s2))return null;var n=ae.computeOrientation(this.s0,this.s1,this.s2),r=n===ae.CLOCKWISE&&this.side===sn.LEFT||n===ae.COUNTERCLOCKWISE&&this.side===sn.RIGHT;0===n?this.addCollinear(e):r?this.addOutsideTurn(n,e):this.addInsideTurn(n,e)},addLineEndCap:function(t,e){var n=new se(t,e),r=new se;this.computeOffsetSegment(n,sn.LEFT,this.distance,r);var i=new se;this.computeOffsetSegment(n,sn.RIGHT,this.distance,i);var o=e.x-t.x,a=e.y-t.y,s=Math.atan2(a,o);switch(this.bufParams.getEndCapStyle()){case qr.CAP_ROUND:this.segList.addPt(r.p1),this.addFilletArc(e,s+Math.PI/2,s-Math.PI/2,ae.CLOCKWISE,this.distance),this.segList.addPt(i.p1);break;case qr.CAP_FLAT:this.segList.addPt(r.p1),this.segList.addPt(i.p1);break;case qr.CAP_SQUARE:var u=new h;u.x=Math.abs(this.distance)*Math.cos(s),u.y=Math.abs(this.distance)*Math.sin(s);var l=new h(r.p1.x+u.x,r.p1.y+u.y),c=new h(i.p1.x+u.x,i.p1.y+u.y);this.segList.addPt(l),this.segList.addPt(c)}},getCoordinates:function(){return this.segList.getCoordinates()},addMitreJoin:function(t,e,n,r){var i=!0,o=null;try{o=N.intersection(e.p0,e.p1,n.p0,n.p1),(r<=0?1:o.distance(t)/Math.abs(r))>this.bufParams.getMitreLimit()&&(i=!1)}catch(t){if(!(t instanceof E))throw t;o=new h(0,0),i=!1}i?this.segList.addPt(o):this.addLimitedMitreJoin(e,n,r,this.bufParams.getMitreLimit())},addFilletCorner:function(t,e,n,r,i){var o=e.x-t.x,a=e.y-t.y,s=Math.atan2(a,o),u=n.x-t.x,l=n.y-t.y,c=Math.atan2(l,u);r===ae.CLOCKWISE?s<=c&&(s+=2*Math.PI):s>=c&&(s-=2*Math.PI),this.segList.addPt(e),this.addFilletArc(t,s,c,r,i),this.segList.addPt(n)},addOutsideTurn:function(t,e){if(this.offset0.p1.distance(this.offset1.p0)<this.distance*$r.OFFSET_SEGMENT_SEPARATION_FACTOR)return this.segList.addPt(this.offset0.p1),null;this.bufParams.getJoinStyle()===qr.JOIN_MITRE?this.addMitreJoin(this.s1,this.offset0,this.offset1,this.distance):this.bufParams.getJoinStyle()===qr.JOIN_BEVEL?this.addBevelJoin(this.offset0,this.offset1):(e&&this.segList.addPt(this.offset0.p1),this.addFilletCorner(this.s1,this.offset0.p1,this.offset1.p0,t,this.distance),this.segList.addPt(this.offset1.p0))},createSquare:function(t){this.segList.addPt(new h(t.x+this.distance,t.y+this.distance)),this.segList.addPt(new h(t.x+this.distance,t.y-this.distance)),this.segList.addPt(new h(t.x-this.distance,t.y-this.distance)),this.segList.addPt(new h(t.x-this.distance,t.y+this.distance)),this.segList.closeRing()},addSegments:function(t,e){this.segList.addPts(t,e)},addFirstSegment:function(){this.segList.addPt(this.offset1.p0)},addLastSegment:function(){this.segList.addPt(this.offset1.p1)},initSideSegments:function(t,e,n){this.s1=t,this.s2=e,this.side=n,this.seg1.setCoordinates(t,e),this.computeOffsetSegment(this.seg1,n,this.distance,this.offset1)},addLimitedMitreJoin:function(t,e,n,r){var i=this.seg0.p1,o=br.angle(i,this.seg0.p0),a=(br.angle(i,this.seg1.p1),br.angleBetweenOriented(this.seg0.p0,i,this.seg1.p1)),s=a/2,u=br.normalize(o+s),l=br.normalize(u+Math.PI),c=r*n,f=c*Math.abs(Math.sin(s)),d=n-f,p=i.x+c*Math.cos(l),m=i.y+c*Math.sin(l),g=new h(p,m),v=new se(i,g),y=v.pointAlongOffset(1,d),b=v.pointAlongOffset(1,-d);this.side===sn.LEFT?(this.segList.addPt(y),this.segList.addPt(b)):(this.segList.addPt(b),this.segList.addPt(y))},computeOffsetSegment:function(t,e,n,r){var i=e===sn.LEFT?1:-1,o=t.p1.x-t.p0.x,a=t.p1.y-t.p0.y,s=Math.sqrt(o*o+a*a),u=i*n*o/s,l=i*n*a/s;r.p0.x=t.p0.x-l,r.p0.y=t.p0.y+u,r.p1.x=t.p1.x-l,r.p1.y=t.p1.y+u},addFilletArc:function(t,e,n,r,i){var o=r===ae.CLOCKWISE?-1:1,a=Math.abs(e-n),s=Math.trunc(a/this.filletAngleQuantum+.5);if(s<1)return null;var u=null,l=null;u=0,l=a/s;for(var c=u,f=new h;c<a;){var d=e+o*c;f.x=t.x+i*Math.cos(d),f.y=t.y+i*Math.sin(d),this.segList.addPt(f),c+=l}},addInsideTurn:function(t,e){if(this.li.computeIntersection(this.offset0.p0,this.offset0.p1,this.offset1.p0,this.offset1.p1),this.li.hasIntersection())this.segList.addPt(this.li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this.offset0.p1.distance(this.offset1.p0)<this.distance*$r.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this.segList.addPt(this.offset0.p1);else{if(this.segList.addPt(this.offset0.p1),this.closingSegLengthFactor>0){var n=new h((this.closingSegLengthFactor*this.offset0.p1.x+this.s1.x)/(this.closingSegLengthFactor+1),(this.closingSegLengthFactor*this.offset0.p1.y+this.s1.y)/(this.closingSegLengthFactor+1));this.segList.addPt(n);var r=new h((this.closingSegLengthFactor*this.offset1.p0.x+this.s1.x)/(this.closingSegLengthFactor+1),(this.closingSegLengthFactor*this.offset1.p0.y+this.s1.y)/(this.closingSegLengthFactor+1));this.segList.addPt(r)}else this.segList.addPt(this.s1);this.segList.addPt(this.offset1.p0)}},createCircle:function(t){var e=new h(t.x+this.distance,t.y);this.segList.addPt(e),this.addFilletArc(t,0,2*Math.PI,-1,this.distance),this.segList.closeRing()},addBevelJoin:function(t,e){this.segList.addPt(t.p1),this.segList.addPt(e.p0)},init:function(t){this.distance=t,this.maxCurveSegmentError=t*(1-Math.cos(this.filletAngleQuantum/2)),this.segList=new Kr,this.segList.setPrecisionModel(this.precisionModel),this.segList.setMinimumVertexDistance(t*$r.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},addCollinear:function(t){this.li.computeIntersection(this.s0,this.s1,this.s1,this.s2),this.li.getIntersectionNum()>=2&&(this.bufParams.getJoinStyle()===qr.JOIN_BEVEL||this.bufParams.getJoinStyle()===qr.JOIN_MITRE?(t&&this.segList.addPt(this.offset0.p1),this.segList.addPt(this.offset1.p0)):this.addFilletCorner(this.s1,this.offset0.p1,this.offset1.p0,ae.CLOCKWISE,this.distance))},closeRing:function(){this.segList.closeRing()},hasNarrowConcaveAngle:function(){return this._hasNarrowConcaveAngle},interfaces_:function(){return[]},getClass:function(){return $r}}),$r.OFFSET_SEGMENT_SEPARATION_FACTOR=.001,$r.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR=.001,$r.CURVE_VERTEX_SNAP_DISTANCE_FACTOR=1e-6,$r.MAX_CLOSING_SEG_LEN_FACTOR=80,ia(Qr.prototype,{getOffsetCurve:function(t,e){if(this.distance=e,0===e)return null;var n=e<0,r=Math.abs(e),i=this.getSegGen(r);t.length<=1?this.computePointCurve(t[0],i):this.computeOffsetCurve(t,n,i);var o=i.getCoordinates();return n&&G.reverse(o),o},computeSingleSidedBufferCurve:function(t,e,n){var r=this.simplifyTolerance(this.distance);if(e){n.addSegments(t,!0);var i=Zr.simplify(t,-r),o=i.length-1;n.initSideSegments(i[o],i[o-1],sn.LEFT),n.addFirstSegment();for(var a=o-2;a>=0;a--)n.addNextSegment(i[a],!0)}else{n.addSegments(t,!1);var s=Zr.simplify(t,r),u=s.length-1;n.initSideSegments(s[0],s[1],sn.LEFT),n.addFirstSegment();for(var a=2;a<=u;a++)n.addNextSegment(s[a],!0)}n.addLastSegment(),n.closeRing()},computeRingBufferCurve:function(t,e,n){var r=this.simplifyTolerance(this.distance);e===sn.RIGHT&&(r=-r);var i=Zr.simplify(t,r),o=i.length-1;n.initSideSegments(i[o-1],i[0],e);for(var a=1;a<=o;a++){var s=1!==a;n.addNextSegment(i[a],s)}n.closeRing()},computeLineBufferCurve:function(t,e){var n=this.simplifyTolerance(this.distance),r=Zr.simplify(t,n),i=r.length-1;e.initSideSegments(r[0],r[1],sn.LEFT);for(var o=2;o<=i;o++)e.addNextSegment(r[o],!0);e.addLastSegment(),e.addLineEndCap(r[i-1],r[i]);var a=Zr.simplify(t,-n),s=a.length-1;e.initSideSegments(a[s],a[s-1],sn.LEFT);for(var o=s-2;o>=0;o--)e.addNextSegment(a[o],!0);e.addLastSegment(),e.addLineEndCap(a[1],a[0]),e.closeRing()},computePointCurve:function(t,e){switch(this.bufParams.getEndCapStyle()){case qr.CAP_ROUND:e.createCircle(t);break;case qr.CAP_SQUARE:e.createSquare(t)}},getLineCurve:function(t,e){if(this.distance=e,e<0&&!this.bufParams.isSingleSided())return null;if(0===e)return null;var n=Math.abs(e),r=this.getSegGen(n);if(t.length<=1)this.computePointCurve(t[0],r);else if(this.bufParams.isSingleSided()){var i=e<0;this.computeSingleSidedBufferCurve(t,i,r)}else this.computeLineBufferCurve(t,r);return r.getCoordinates()},getBufferParameters:function(){return this.bufParams},simplifyTolerance:function(t){return t*this.bufParams.getSimplifyFactor()},getRingCurve:function(t,e,n){if(this.distance=n,t.length<=2)return this.getLineCurve(t,n);if(0===n)return Qr.copyCoordinates(t);var r=this.getSegGen(n);return this.computeRingBufferCurve(t,e,r),r.getCoordinates()},computeOffsetCurve:function(t,e,n){var r=this.simplifyTolerance(this.distance);if(e){var i=Zr.simplify(t,-r),o=i.length-1;n.initSideSegments(i[o],i[o-1],sn.LEFT),n.addFirstSegment();for(var a=o-2;a>=0;a--)n.addNextSegment(i[a],!0)}else{var s=Zr.simplify(t,r),u=s.length-1;n.initSideSegments(s[0],s[1],sn.LEFT),n.addFirstSegment();for(var a=2;a<=u;a++)n.addNextSegment(s[a],!0)}n.addLastSegment()},getSegGen:function(t){return new $r(this.precisionModel,this.bufParams,t)},interfaces_:function(){return[]},getClass:function(){return Qr}}),Qr.copyCoordinates=function(t){for(var e=new Array(t.length).fill(null),n=0;n<e.length;n++)e[n]=new h(t[n]);return e},ia(Jr.prototype,{findStabbedSegments:function(){if(1===arguments.length){for(var t=arguments[0],e=new b,n=this.subgraphs.iterator();n.hasNext();){var r=n.next(),i=r.getEnvelope();t.y<i.getMinY()||t.y>i.getMaxY()||this.findStabbedSegments(t,r.getDirectedEdges(),e)}return e}if(3===arguments.length)if(sa(arguments[2],g)&&arguments[0]instanceof h&&arguments[1]instanceof vn)for(var o=arguments[0],a=arguments[1],s=arguments[2],u=a.getEdge().getCoordinates(),n=0;n<u.length-1;n++){this.seg.p0=u[n],this.seg.p1=u[n+1],this.seg.p0.y>this.seg.p1.y&&this.seg.reverse();var l=Math.max(this.seg.p0.x,this.seg.p1.x);if(!(l<o.x||this.seg.isHorizontal()||o.y<this.seg.p0.y||o.y>this.seg.p1.y||ae.computeOrientation(this.seg.p0,this.seg.p1,o)===ae.RIGHT)){var c=a.getDepth(sn.LEFT);this.seg.p0.equals(u[n])||(c=a.getDepth(sn.RIGHT));var f=new ti(this.seg,c);s.add(f)}}else if(sa(arguments[2],g)&&arguments[0]instanceof h&&sa(arguments[1],g))for(var d=arguments[0],p=arguments[1],m=arguments[2],n=p.iterator();n.hasNext();){var v=n.next();v.isForward()&&this.findStabbedSegments(d,v,m)}},getDepth:function(t){var e=this.findStabbedSegments(t);return 0===e.size()?0:ba.min(e).leftDepth},interfaces_:function(){return[]},getClass:function(){return Jr}}),ia(ti.prototype,{compareTo:function(t){var e=t;if(this.upwardSeg.minX()>=e.upwardSeg.maxX())return 1;if(this.upwardSeg.maxX()<=e.upwardSeg.minX())return-1;var n=this.upwardSeg.orientationIndex(e.upwardSeg);return 0!==n?n:(n=-1*e.upwardSeg.orientationIndex(this.upwardSeg),0!==n?n:this.upwardSeg.compareTo(e.upwardSeg))},compareX:function(t,e){var n=t.p0.compareTo(e.p0);return 0!==n?n:t.p1.compareTo(e.p1)},toString:function(){return this.upwardSeg.toString()},interfaces_:function(){return[i]},getClass:function(){return ti}}),Jr.DepthSegment=ti,ia(ei.prototype,{addPoint:function(t){if(this.distance<=0)return null;var e=t.getCoordinates(),n=this.curveBuilder.getLineCurve(e,this.distance);this.addCurve(n,M.EXTERIOR,M.INTERIOR)},addPolygon:function(t){var e=this.distance,n=sn.LEFT;this.distance<0&&(e=-this.distance,n=sn.RIGHT);var r=t.getExteriorRing(),i=G.removeRepeatedPoints(r.getCoordinates());if(this.distance<0&&this.isErodedCompletely(r,this.distance))return null;if(this.distance<=0&&i.length<3)return null;this.addPolygonRing(i,e,n,M.EXTERIOR,M.INTERIOR);for(var o=0;o<t.getNumInteriorRing();o++){var a=t.getInteriorRingN(o),s=G.removeRepeatedPoints(a.getCoordinates());this.distance>0&&this.isErodedCompletely(a,-this.distance)||this.addPolygonRing(s,e,sn.opposite(n),M.INTERIOR,M.EXTERIOR)}},isTriangleErodedCompletely:function(t,e){var n=new wr(t[0],t[1],t[2]),r=n.inCentre();return ae.distancePointLine(r,n.p0,n.p1)<Math.abs(e)},addLineString:function(t){if(this.distance<=0&&!this.curveBuilder.getBufferParameters().isSingleSided())return null;var e=G.removeRepeatedPoints(t.getCoordinates()),n=this.curveBuilder.getLineCurve(e,this.distance);this.addCurve(n,M.EXTERIOR,M.INTERIOR)},addCurve:function(t,e,n){if(null===t||t.length<2)return null;var r=new qe(t,new ln(0,M.BOUNDARY,e,n));this.curveList.add(r)},getCurves:function(){return this.add(this.inputGeom),this.curveList},addPolygonRing:function(t,e,n,r,i){if(0===e&&t.length<Ct.MINIMUM_VALID_SIZE)return null;var o=r,a=i;t.length>=Ct.MINIMUM_VALID_SIZE&&ae.isCCW(t)&&(o=i,a=r,n=sn.opposite(n));var s=this.curveBuilder.getRingCurve(t,n,e);this.addCurve(s,o,a)},add:function(t){if(t.isEmpty())return null;if(t instanceof St)this.addPolygon(t);else if(t instanceof xt)this.addLineString(t);else if(t instanceof Et)this.addPoint(t);else if(t instanceof Tt)this.addCollection(t);else if(t instanceof ct)this.addCollection(t);else if(t instanceof It)this.addCollection(t);else{if(!(t instanceof lt))throw new UnsupportedOperationException(t.getClass().getName());this.addCollection(t)}},isErodedCompletely:function(t,e){var n=t.getCoordinates();if(n.length<4)return e<0;if(4===n.length)return this.isTriangleErodedCompletely(n,e);var r=t.getEnvelopeInternal(),i=Math.min(r.getHeight(),r.getWidth());return e<0&&2*Math.abs(e)>i},addCollection:function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}},interfaces_:function(){return[]},getClass:function(){return ei}}),ia(ni.prototype,{isTrivialIntersection:function(t,e,n,r){if(t===n&&1===this.li.getIntersectionNum()){if(ni.isAdjacentSegments(e,r))return!0;if(t.isClosed()){var i=t.size()-1;if(0===e&&r===i||0===r&&e===i)return!0}}return!1},getProperIntersectionPoint:function(){return this.properIntersectionPoint},hasProperInteriorIntersection:function(){return this.hasProperInterior},getLineIntersector:function(){return this.li},hasProperIntersection:function(){return this.hasProper},processIntersections:function(t,e,n,r){if(t===n&&e===r)return null;this.numTests++;var i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],a=n.getCoordinates()[r],s=n.getCoordinates()[r+1];this.li.computeIntersection(i,o,a,s),this.li.hasIntersection()&&(this.numIntersections++,this.li.isInteriorIntersection()&&(this.numInteriorIntersections++,this.hasInterior=!0),this.isTrivialIntersection(t,e,n,r)||(this._hasIntersection=!0,t.addIntersections(this.li,e,0),n.addIntersections(this.li,r,1),this.li.isProper()&&(this.numProperIntersections++,this.hasProper=!0,this.hasProperInterior=!0)))},hasIntersection:function(){return this._hasIntersection},isDone:function(){return!1},hasInteriorIntersection:function(){return this.hasInterior},interfaces_:function(){return[en]},getClass:function(){return ni}}),ni.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)},ia(ri.prototype,{setWorkingPrecisionModel:function(t){this.workingPrecisionModel=t},insertUniqueEdge:function(t){var e=this.edgeList.findEqualEdge(t);if(null!==e){var n=e.getLabel(),r=t.getLabel();e.isPointwiseEqual(t)||(r=new ln(t.getLabel()),r.flip()),n.merge(r);var i=ri.depthDelta(r),o=e.getDepthDelta(),a=o+i;e.setDepthDelta(a)}else this.edgeList.add(t),t.setDepthDelta(ri.depthDelta(t.getLabel()))},buildSubgraphs:function(t,e){for(var n=new b,r=t.iterator();r.hasNext();){var i=r.next(),o=i.getRightmostCoordinate(),a=new Jr(n),s=a.getDepth(o);i.computeDepth(s),i.findResultEdges(),n.add(i),e.add(i.getDirectedEdges(),i.getNodes())}},createSubgraphs:function(t){for(var e=new b,n=t.getNodes().iterator();n.hasNext();){var r=n.next();if(!r.isVisited()){var i=new Xr;i.create(r),e.add(i)}}return ba.sort(e,ba.reverseOrder()),e},createEmptyResultGeometry:function(){return this.geomFact.createPolygon()},getNoder:function(t){if(null!==this.workingNoder)return this.workingNoder;var e=new Qe,n=new re;return n.setPrecisionModel(t),e.setSegmentIntersector(new ni(n)),e},buffer:function(t,e){var n=this.workingPrecisionModel;null===n&&(n=t.getPrecisionModel()),this.geomFact=t.getFactory();var r=new Qr(n,this.bufParams),i=new ei(t,e,r),o=i.getCurves();if(o.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(o,n),this.graph=new bn(new Cn),this.graph.addEdges(this.edgeList.getEdges());var a=this.createSubgraphs(this.graph),s=new wn(this.geomFact);this.buildSubgraphs(a,s);var u=s.getPolygons();return u.size()<=0?this.createEmptyResultGeometry():this.geomFact.buildGeometry(u)},computeNodedEdges:function(t,e){var n=this.getNoder(e);n.computeNodes(t);for(var r=n.getNodedSubstrings(),i=r.iterator();i.hasNext();){var o=i.next(),a=o.getCoordinates();if(2!==a.length||!a[0].equals2D(a[1])){var s=o.getData(),u=new Xn(o.getCoordinates(),new ln(s));this.insertUniqueEdge(u)}}},setNoder:function(t){this.workingNoder=t},interfaces_:function(){return[]},getClass:function(){return ri}}),ri.depthDelta=function(t){var e=t.getLocation(0,sn.LEFT),n=t.getLocation(0,sn.RIGHT);return e===M.INTERIOR&&n===M.EXTERIOR?1:e===M.EXTERIOR&&n===M.INTERIOR?-1:0},ri.convertSegStrings=function(t){for(var e=new Jt,n=new b;t.hasNext();){var r=t.next(),i=e.createLineString(r.getCoordinates());n.add(i)}return e.buildGeometry(n)},ia(ii.prototype,{checkEndPtVertexIntersections:function(){if(0===arguments.length)for(var t=this.segStrings.iterator();t.hasNext();){var e=t.next(),n=e.getCoordinates();this.checkEndPtVertexIntersections(n[0],this.segStrings),this.checkEndPtVertexIntersections(n[n.length-1],this.segStrings)}else if(2===arguments.length)for(var r=arguments[0],i=arguments[1],t=i.iterator();t.hasNext();)for(var e=t.next(),n=e.getCoordinates(),o=1;o<n.length-1;o++)if(n[o].equals(r))throw new u("found endpt/interior pt intersection at index "+o+" :pt "+r)},checkInteriorIntersections:function(){if(0===arguments.length)for(var t=this.segStrings.iterator();t.hasNext();)for(var e=t.next(),n=this.segStrings.iterator();n.hasNext();){var r=n.next();this.checkInteriorIntersections(e,r)}else if(2===arguments.length)for(var i=arguments[0],o=arguments[1],a=i.getCoordinates(),s=o.getCoordinates(),l=0;l<a.length-1;l++)for(var c=0;c<s.length-1;c++)this.checkInteriorIntersections(i,l,o,c);else if(4===arguments.length){var h=arguments[0],f=arguments[1],d=arguments[2],p=arguments[3];if(h===d&&f===p)return null;var m=h.getCoordinates()[f],g=h.getCoordinates()[f+1],v=d.getCoordinates()[p],y=d.getCoordinates()[p+1];if(this.li.computeIntersection(m,g,v,y),this.li.hasIntersection()&&(this.li.isProper()||this.hasInteriorIntersection(this.li,m,g)||this.hasInteriorIntersection(this.li,v,y)))throw new u("found non-noded intersection at "+m+"-"+g+" and "+v+"-"+y)}},checkValid:function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},checkCollapses:function(){if(0===arguments.length)for(var t=this.segStrings.iterator();t.hasNext();){var e=t.next();this.checkCollapses(e)}else if(1===arguments.length)for(var n=arguments[0],r=n.getCoordinates(),t=0;t<r.length-2;t++)this.checkCollapse(r[t],r[t+1],r[t+2])},hasInteriorIntersection:function(t,e,n){for(var r=0;r<t.getIntersectionNum();r++){var i=t.getIntersection(r);if(!i.equals(e)&&!i.equals(n))return!0}return!1},checkCollapse:function(t,e,n){if(t.equals(n))throw new u("found non-noded collapse at "+ii.fact.createLineString([t,e,n]))},interfaces_:function(){return[]},getClass:function(){return ii}}),ii.fact=new Jt,ia(oi.prototype,{intersectsScaled:function(t,e){var n=Math.min(t.x,e.x),r=Math.max(t.x,e.x),i=Math.min(t.y,e.y),o=Math.max(t.y,e.y),a=this.maxx<n||this.minx>r||this.maxy<i||this.miny>o;if(a)return!1;var s=this.intersectsToleranceSquare(t,e);return c.isTrue(!(a&&s),"Found bad envelope test"),s},initCorners:function(t){this.minx=t.x-.5,this.maxx=t.x+.5,this.miny=t.y-.5,this.maxy=t.y+.5,this.corner[0]=new h(this.maxx,this.maxy),this.corner[1]=new h(this.minx,this.maxy),this.corner[2]=new h(this.minx,this.miny),this.corner[3]=new h(this.maxx,this.miny)},intersects:function(t,e){return 1===this.scaleFactor?this.intersectsScaled(t,e):(this.copyScaled(t,this.p0Scaled),this.copyScaled(e,this.p1Scaled),this.intersectsScaled(this.p0Scaled,this.p1Scaled))},scale:function(t){return Math.round(t*this.scaleFactor)},getCoordinate:function(){return this.originalPt},copyScaled:function(t,e){e.x=this.scale(t.x),e.y=this.scale(t.y)},getSafeEnvelope:function(){if(null===this.safeEnv){var t=oi.SAFE_ENV_EXPANSION_FACTOR/this.scaleFactor;this.safeEnv=new x(this.originalPt.x-t,this.originalPt.x+t,this.originalPt.y-t,this.originalPt.y+t)}return this.safeEnv},intersectsPixelClosure:function(t,e){return this.li.computeIntersection(t,e,this.corner[0],this.corner[1]),!!(this.li.hasIntersection()||(this.li.computeIntersection(t,e,this.corner[1],this.corner[2]),this.li.hasIntersection()||(this.li.computeIntersection(t,e,this.corner[2],this.corner[3]),this.li.hasIntersection()||(this.li.computeIntersection(t,e,this.corner[3],this.corner[0]),this.li.hasIntersection()))))},intersectsToleranceSquare:function(t,e){var n=!1,r=!1;return this.li.computeIntersection(t,e,this.corner[0],this.corner[1]),!!(this.li.isProper()||(this.li.computeIntersection(t,e,this.corner[1],this.corner[2]),this.li.isProper()||(this.li.hasIntersection()&&(n=!0),this.li.computeIntersection(t,e,this.corner[2],this.corner[3]),this.li.isProper()||(this.li.hasIntersection()&&(r=!0),this.li.computeIntersection(t,e,this.corner[3],this.corner[0]),this.li.isProper()||n&&r||t.equals(this.pt)||e.equals(this.pt)))))},addSnappedNode:function(t,e){var n=t.getCoordinate(e),r=t.getCoordinate(e+1);return!!this.intersects(n,r)&&(t.addIntersection(this.getCoordinate(),e),!0)},interfaces_:function(){return[]},getClass:function(){return oi}}),oi.SAFE_ENV_EXPANSION_FACTOR=.75,ia(ai.prototype,{snap:function(){if(1===arguments.length){var t=arguments[0];return this.snap(t,null,-1)}if(3===arguments.length){var e=arguments[0],n=arguments[1],r=arguments[2],i=e.getSafeEnvelope(),o=new si(e,n,r);return this.index.query(i,{interfaces_:function(){return[Le]},visitItem:function(t){t.select(i,o)}}),o.isNodeAdded()}},interfaces_:function(){return[]},getClass:function(){return ai}}),oa(si,ar),ia(si.prototype,{isNodeAdded:function(){return this._isNodeAdded},select:function(){if(2!==arguments.length)return ar.prototype.select.apply(this,arguments);var t=arguments[0],e=arguments[1],n=t.getContext();if(null!==this.parentEdge&&n===this.parentEdge&&e===this.hotPixelVertexIndex)return null;this._isNodeAdded=this.hotPixel.addSnappedNode(n,e)},interfaces_:function(){return[]},getClass:function(){return si}}),ai.HotPixelSnapAction=si,ia(ui.prototype,{processIntersections:function(t,e,n,r){if(t===n&&e===r)return null;var i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],a=n.getCoordinates()[r],s=n.getCoordinates()[r+1];if(this.li.computeIntersection(i,o,a,s),this.li.hasIntersection()&&this.li.isInteriorIntersection()){for(var u=0;u<this.li.getIntersectionNum();u++)this.interiorIntersections.add(this.li.getIntersection(u));t.addIntersections(this.li,e,0),n.addIntersections(this.li,r,1)}},isDone:function(){return!1},getInteriorIntersections:function(){return this.interiorIntersections},interfaces_:function(){return[en]},getClass:function(){return ui}}),ia(li.prototype,{checkCorrectness:function(t){var e=qe.getNodedSubstrings(t),n=new ii(e);try{n.checkValid()}catch(t){if(!(t instanceof _))throw t;t.printStackTrace()}},getNodedSubstrings:function(){return qe.getNodedSubstrings(this.nodedSegStrings)},snapRound:function(t,e){var n=this.findInteriorIntersections(t,e);this.computeIntersectionSnaps(n),this.computeVertexSnaps(t)},findInteriorIntersections:function(t,e){var n=new ui(e);return this.noder.setSegmentIntersector(n),this.noder.computeNodes(t),n.getInteriorIntersections()},computeVertexSnaps:function(){if(sa(arguments[0],p))for(var t=arguments[0],e=t.iterator();e.hasNext();){var n=e.next();this.computeVertexSnaps(n)}else if(arguments[0]instanceof qe)for(var r=arguments[0],i=r.getCoordinates(),o=0;o<i.length;o++){var a=new oi(i[o],this.scaleFactor,this.li),s=this.pointSnapper.snap(a,r,o);s&&r.addIntersection(i[o],o)}},computeNodes:function(t){this.nodedSegStrings=t,this.noder=new Qe,this.pointSnapper=new ai(this.noder.getIndex()),this.snapRound(t,this.li)},computeIntersectionSnaps:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),r=new oi(n,this.scaleFactor,this.li);this.pointSnapper.snap(r)}},interfaces_:function(){return[Ke]},getClass:function(){return li}}),ia(ci.prototype,{bufferFixedPrecision:function(t){var e=new Vr(new li(new $t(1)),t.getScale()),n=new ri(this.bufParams);n.setWorkingPrecisionModel(t),n.setNoder(e),this.resultGeometry=n.buffer(this.argGeom,this.distance)},bufferReducedPrecision:function(){if(0===arguments.length){for(var t=ci.MAX_PRECISION_DIGITS;t>=0;t--){try{this.bufferReducedPrecision(t)}catch(t){if(!(t instanceof tn))throw t;this.saveException=t}if(null!==this.resultGeometry)return null}throw this.saveException}if(1===arguments.length){var e=arguments[0],n=ci.precisionScaleFactor(this.argGeom,this.distance,e),r=new $t(n);this.bufferFixedPrecision(r)}},computeGeometry:function(){if(this.bufferOriginalPrecision(),null!==this.resultGeometry)return null;var t=this.argGeom.getFactory().getPrecisionModel();t.getType()===$t.FIXED?this.bufferFixedPrecision(t):this.bufferReducedPrecision()},setQuadrantSegments:function(t){this.bufParams.setQuadrantSegments(t)},bufferOriginalPrecision:function(){try{var t=new ri(this.bufParams);this.resultGeometry=t.buffer(this.argGeom,this.distance)}catch(t){if(!(t instanceof u))throw t;this.saveException=t}},getResultGeometry:function(t){return this.distance=t,this.computeGeometry(),this.resultGeometry},setEndCapStyle:function(t){this.bufParams.setEndCapStyle(t)},interfaces_:function(){return[]},getClass:function(){return ci}}),ci.bufferOp=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new ci(t),r=n.getResultGeometry(e);return r}if(3===arguments.length){if(Number.isInteger(arguments[2])&&arguments[0]instanceof D&&"number"==typeof arguments[1]){var i=arguments[0],o=arguments[1],a=arguments[2],s=new ci(i);s.setQuadrantSegments(a);var r=s.getResultGeometry(o);return r}if(arguments[2]instanceof qr&&arguments[0]instanceof D&&"number"==typeof arguments[1]){var u=arguments[0],l=arguments[1],c=arguments[2],s=new ci(u,c),r=s.getResultGeometry(l);return r}}else if(4===arguments.length){var h=arguments[0],f=arguments[1],d=arguments[2],p=arguments[3],s=new ci(h);s.setQuadrantSegments(d),s.setEndCapStyle(p);var r=s.getResultGeometry(f);return r}},ci.precisionScaleFactor=function(t,e,n){var r=t.getEnvelopeInternal(),i=S.max(Math.abs(r.getMaxX()),Math.abs(r.getMaxY()),Math.abs(r.getMinX()),Math.abs(r.getMinY())),o=e>0?e:0,a=i+2*o,s=Math.trunc(Math.log(a)/Math.log(10)+1),u=n-s;return Math.pow(10,u)},ci.CAP_ROUND=qr.CAP_ROUND,ci.CAP_BUTT=qr.CAP_FLAT,ci.CAP_FLAT=qr.CAP_FLAT,ci.CAP_SQUARE=qr.CAP_SQUARE,ci.MAX_PRECISION_DIGITS=12;var Ra=Object.freeze({BufferOp:ci,BufferParameters:qr});ia(hi.prototype,{filter:function(t){t instanceof St&&this.comps.add(t)},interfaces_:function(){return[st]},getClass:function(){return hi}}),hi.getPolygons=function(){if(1===arguments.length){var t=arguments[0];return hi.getPolygons(t,new b)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e instanceof St?n.add(e):e instanceof lt&&e.apply(new hi(n)),n}},ia(fi.prototype,{isInsideArea:function(){return this.segIndex===fi.INSIDE_AREA},getCoordinate:function(){return this.pt},getGeometryComponent:function(){return this.component},getSegmentIndex:function(){return this.segIndex},interfaces_:function(){return[]},getClass:function(){return fi}}),fi.INSIDE_AREA=-1,ia(di.prototype,{filter:function(t){t instanceof Et&&this.pts.add(t)},interfaces_:function(){return[st]},getClass:function(){return di}}),di.getPoints=function(){if(1===arguments.length){var t=arguments[0];return t instanceof Et?ba.singletonList(t):di.getPoints(t,new b)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e instanceof Et?n.add(e):e instanceof lt&&e.apply(new di(n)),n}},ia(pi.prototype,{filter:function(t){(t instanceof Et||t instanceof xt||t instanceof St)&&this.locations.add(new fi(t,0,t.getCoordinate()))},interfaces_:function(){return[st]},getClass:function(){return pi}}),pi.getLocations=function(t){var e=new b;return t.apply(new pi(e)),e},ia(mi.prototype,{computeContainmentDistance:function(){if(0===arguments.length){var t=new Array(2).fill(null);if(this.computeContainmentDistance(0,t),this.minDistance<=this.terminateDistance)return null;this.computeContainmentDistance(1,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],r=1-e,i=hi.getPolygons(this.geom[e]);if(i.size()>0){var o=pi.getLocations(this.geom[r]);if(this.computeContainmentDistance(o,i,n),this.minDistance<=this.terminateDistance)return this.minDistanceLocation[r]=n[0],this.minDistanceLocation[e]=n[1],null}}else if(3===arguments.length)if(arguments[2]instanceof Array&&sa(arguments[0],g)&&sa(arguments[1],g)){for(var a=arguments[0],s=arguments[1],u=arguments[2],l=0;l<a.size();l++)for(var c=a.get(l),h=0;h<s.size();h++)if(this.computeContainmentDistance(c,s.get(h),u),this.minDistance<=this.terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof fi&&arguments[1]instanceof St){var f=arguments[0],d=arguments[1],p=arguments[2],m=f.getCoordinate();if(M.EXTERIOR!==this.ptLocator.locate(m,d))return this.minDistance=0,p[0]=f,p[1]=new fi(d,m),null}},computeMinDistanceLinesPoints:function(t,e,n){for(var r=0;r<t.size();r++)for(var i=t.get(r),o=0;o<e.size();o++){var a=e.get(o);if(this.computeMinDistance(i,a,n),this.minDistance<=this.terminateDistance)return null}},computeFacetDistance:function(){var t=new Array(2).fill(null),e=jn.getLines(this.geom[0]),n=jn.getLines(this.geom[1]),r=di.getPoints(this.geom[0]),i=di.getPoints(this.geom[1]);return this.computeMinDistanceLines(e,n,t),this.updateMinDistance(t,!1),this.minDistance<=this.terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(e,i,t),this.updateMinDistance(t,!1),this.minDistance<=this.terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(n,r,t),this.updateMinDistance(t,!0),this.minDistance<=this.terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistancePoints(r,i,t),void this.updateMinDistance(t,!1))))},nearestLocations:function(){return this.computeMinDistance(),this.minDistanceLocation},updateMinDistance:function(t,e){if(null===t[0])return null;e?(this.minDistanceLocation[0]=t[1],this.minDistanceLocation[1]=t[0]):(this.minDistanceLocation[0]=t[0],this.minDistanceLocation[1]=t[1])},nearestPoints:function(){return this.computeMinDistance(),[this.minDistanceLocation[0].getCoordinate(),this.minDistanceLocation[1].getCoordinate()]},computeMinDistance:function(){if(0===arguments.length){if(null!==this.minDistanceLocation)return null;if(this.minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this.minDistance<=this.terminateDistance)return null;this.computeFacetDistance()}else if(3===arguments.length)if(arguments[2]instanceof Array&&arguments[0]instanceof xt&&arguments[1]instanceof Et){var t=arguments[0],e=arguments[1],n=arguments[2];if(t.getEnvelopeInternal().distance(e.getEnvelopeInternal())>this.minDistance)return null;for(var r=t.getCoordinates(),i=e.getCoordinate(),o=0;o<r.length-1;o++){var a=ae.distancePointLine(i,r[o],r[o+1]);if(a<this.minDistance){this.minDistance=a;var s=new se(r[o],r[o+1]),u=s.closestPoint(i);n[0]=new fi(t,o,u),n[1]=new fi(e,0,i)}if(this.minDistance<=this.terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof xt&&arguments[1]instanceof xt){var l=arguments[0],c=arguments[1],h=arguments[2];if(l.getEnvelopeInternal().distance(c.getEnvelopeInternal())>this.minDistance)return null;for(var r=l.getCoordinates(),f=c.getCoordinates(),o=0;o<r.length-1;o++)for(var d=0;d<f.length-1;d++){var a=ae.distanceLineLine(r[o],r[o+1],f[d],f[d+1]);if(a<this.minDistance){this.minDistance=a;var p=new se(r[o],r[o+1]),m=new se(f[d],f[d+1]),g=p.closestPoints(m);h[0]=new fi(l,o,g[0]),h[1]=new fi(c,d,g[1])}if(this.minDistance<=this.terminateDistance)return null}}},computeMinDistancePoints:function(t,e,n){for(var r=0;r<t.size();r++)for(var i=t.get(r),o=0;o<e.size();o++){var a=e.get(o),s=i.getCoordinate().distance(a.getCoordinate());if(s<this.minDistance&&(this.minDistance=s,n[0]=new fi(i,0,i.getCoordinate()),n[1]=new fi(a,0,a.getCoordinate())),this.minDistance<=this.terminateDistance)return null}},distance:function(){if(null===this.geom[0]||null===this.geom[1])throw new n("null geometries are not supported");return this.geom[0].isEmpty()||this.geom[1].isEmpty()?0:(this.computeMinDistance(),this.minDistance)},computeMinDistanceLines:function(t,e,n){for(var r=0;r<t.size();r++)for(var i=t.get(r),o=0;o<e.size();o++){var a=e.get(o);if(this.computeMinDistance(i,a,n),this.minDistance<=this.terminateDistance)return null}},interfaces_:function(){return[]},getClass:function(){return mi}}),mi.distance=function(t,e){return new mi(t,e).distance()},mi.isWithinDistance=function(t,e,n){return new mi(t,e,n).distance()<=n},mi.nearestPoints=function(t,e){return new mi(t,e).nearestPoints()};var Na=Object.freeze({DistanceOp:mi});ia(gi.prototype,{getCoordinates:function(){if(null===this.coordinates){for(var t=0,e=0,n=new w,r=this.directedEdges.iterator();r.hasNext();){var i=r.next();i.getEdgeDirection()?t++:e++,n.add(i.getEdge().getLine().getCoordinates(),!1,i.getEdgeDirection())}this.coordinates=n.toCoordinateArray(),e>t&&G.reverse(this.coordinates)}return this.coordinates},toLineString:function(){return this.factory.createLineString(this.getCoordinates())},add:function(t){this.directedEdges.add(t)},interfaces_:function(){return[]},getClass:function(){return gi}}),ia(vi.prototype,{setVisited:function(t){this._isVisited=t},isMarked:function(){return this._isMarked},setData:function(t){this.data=t},getData:function(){return this.data},setMarked:function(t){this._isMarked=t},getContext:function(){return this.data},isVisited:function(){return this._isVisited},setContext:function(t){this.data=t},interfaces_:function(){return[]},getClass:function(){return vi}}),vi.getComponentWithVisitedState=function(t,e){for(;t.hasNext();){var n=t.next();if(n.isVisited()===e)return n}return null},vi.setVisited=function(t,e){for(;t.hasNext();)t.next().setVisited(e)},vi.setMarked=function(t,e){for(;t.hasNext();)t.next().setMarked(e)},oa(yi,vi),ia(yi.prototype,{isRemoved:function(){return null===this.parentEdge},compareDirection:function(t){return this.quadrant>t.quadrant?1:this.quadrant<t.quadrant?-1:ae.computeOrientation(t.p0,t.p1,this.p1)},getCoordinate:function(){return this.from.getCoordinate()},print:function(t){var e=this.getClass().getName(),n=e.lastIndexOf("."),r=e.substring(n+1);t.print("  "+r+": "+this.p0+" - "+this.p1+" "+this.quadrant+":"+this.angle)},getDirectionPt:function(){return this.p1},getAngle:function(){return this.angle},compareTo:function(t){var e=t;return this.compareDirection(e)},getFromNode:function(){return this.from},getSym:function(){return this.sym},setEdge:function(t){this.parentEdge=t},remove:function(){this.sym=null,this.parentEdge=null},getEdge:function(){return this.parentEdge},getQuadrant:function(){return this.quadrant},setSym:function(t){this.sym=t},getToNode:function(){return this.to},getEdgeDirection:function(){return this.edgeDirection},interfaces_:function(){return[i]},getClass:function(){return yi}}),yi.toEdges=function(t){for(var e=new b,n=t.iterator();n.hasNext();)e.add(n.next().parentEdge);return e},oa(bi,yi),ia(bi.prototype,{getNext:function(){return 2!==this.getToNode().getDegree()?null:this.getToNode().getOutEdges().getEdges().get(0)===this.getSym()?this.getToNode().getOutEdges().getEdges().get(1):(c.isTrue(this.getToNode().getOutEdges().getEdges().get(1)===this.getSym()),this.getToNode().getOutEdges().getEdges().get(0))},interfaces_:function(){return[]},getClass:function(){return bi}}),oa(wi,vi),ia(wi.prototype,{isRemoved:function(){return null===this.dirEdge},setDirectedEdges:function(t,e){this.dirEdge=[t,e],t.setEdge(this),e.setEdge(this),t.setSym(e),e.setSym(t),t.getFromNode().addOutEdge(t),e.getFromNode().addOutEdge(e)},getDirEdge:function(){if(Number.isInteger(arguments[0])){var t=arguments[0];return this.dirEdge[t]}if(arguments[0]instanceof _i){var e=arguments[0];return this.dirEdge[0].getFromNode()===e?this.dirEdge[0]:this.dirEdge[1].getFromNode()===e?this.dirEdge[1]:null}},remove:function(){this.dirEdge=null},getOppositeNode:function(t){return this.dirEdge[0].getFromNode()===t?this.dirEdge[0].getToNode():this.dirEdge[1].getFromNode()===t?this.dirEdge[1].getToNode():null},interfaces_:function(){return[]},getClass:function(){return wi}}),ia(xi.prototype,{getNextEdge:function(t){var e=this.getIndex(t);return this.outEdges.get(this.getIndex(e+1))},getCoordinate:function(){var t=this.iterator();return t.hasNext()?t.next().getCoordinate():null},iterator:function(){return this.sortEdges(),this.outEdges.iterator()},sortEdges:function(){this.sorted||(ba.sort(this.outEdges),this.sorted=!0)},remove:function(t){this.outEdges.remove(t)},getEdges:function(){return this.sortEdges(),this.outEdges},getNextCWEdge:function(t){var e=this.getIndex(t);return this.outEdges.get(this.getIndex(e-1))},getIndex:function(){if(arguments[0]instanceof wi){var t=arguments[0];this.sortEdges();for(var e=0;e<this.outEdges.size();e++){var n=this.outEdges.get(e);if(n.getEdge()===t)return e}return-1}if(arguments[0]instanceof yi){var r=arguments[0];this.sortEdges();for(var e=0;e<this.outEdges.size();e++){var n=this.outEdges.get(e);if(n===r)return e}return-1}if(Number.isInteger(arguments[0])){var i=arguments[0],o=i%this.outEdges.size();return o<0&&(o+=this.outEdges.size()),o}},add:function(t){this.outEdges.add(t),this.sorted=!1},getDegree:function(){return this.outEdges.size()},interfaces_:function(){return[]},getClass:function(){return xi}}),oa(_i,vi),ia(_i.prototype,{isRemoved:function(){return null===this.pt},addOutEdge:function(t){this.deStar.add(t)},getCoordinate:function(){return this.pt},getOutEdges:function(){return this.deStar},remove:function(){if(0===arguments.length)this.pt=null;else if(1===arguments.length){var t=arguments[0];this.deStar.remove(t)}},getIndex:function(t){return this.deStar.getIndex(t)},getDegree:function(){return this.deStar.getDegree()},interfaces_:function(){return[]},getClass:function(){return _i}}),_i.getEdgesBetween=function(t,e){var n=yi.toEdges(t.getOutEdges().getEdges()),r=new Z(n),i=yi.toEdges(e.getOutEdges().getEdges());return r.retainAll(i),r},oa(Ei,wi),ia(Ei.prototype,{getLine:function(){return this.line},interfaces_:function(){return[]},getClass:function(){return Ei}}),ia(Mi.prototype,{find:function(t){return this.nodeMap.get(t)},iterator:function(){return this.nodeMap.values().iterator()},remove:function(t){return this.nodeMap.remove(t)},values:function(){return this.nodeMap.values()},add:function(t){return this.nodeMap.put(t.getCoordinate(),t),t},interfaces_:function(){return[]},getClass:function(){return Mi}}),ia(Si.prototype,{findNodesOfDegree:function(t){for(var e=new b,n=this.nodeIterator();n.hasNext();){var r=n.next();r.getDegree()===t&&e.add(r)}return e},dirEdgeIterator:function(){return this.dirEdges.iterator()},edgeIterator:function(){return this.edges.iterator()},remove:function(){if(arguments[0]instanceof wi){var t=arguments[0];this.remove(t.getDirEdge(0)),this.remove(t.getDirEdge(1)),this.edges.remove(t),t.remove()}else if(arguments[0]instanceof yi){var e=arguments[0],n=e.getSym();null!==n&&n.setSym(null),e.getFromNode().remove(e),e.remove(),this.dirEdges.remove(e)}else if(arguments[0]instanceof _i){for(var r=arguments[0],i=r.getOutEdges().getEdges(),o=i.iterator();o.hasNext();){var a=o.next(),n=a.getSym();null!==n&&this.remove(n),this.dirEdges.remove(a);var s=a.getEdge();null!==s&&this.edges.remove(s)}this.nodeMap.remove(r.getCoordinate()),r.remove()}},findNode:function(t){return this.nodeMap.find(t)},getEdges:function(){return this.edges},nodeIterator:function(){return this.nodeMap.iterator()},contains:function(){if(arguments[0]instanceof wi){var t=arguments[0];return this.edges.contains(t)}if(arguments[0]instanceof yi){var e=arguments[0];return this.dirEdges.contains(e)}},add:function(){if(arguments[0]instanceof _i){var t=arguments[0];this.nodeMap.add(t)}else if(arguments[0]instanceof wi){var e=arguments[0];this.edges.add(e),this.add(e.getDirEdge(0)),this.add(e.getDirEdge(1))}else if(arguments[0]instanceof yi){var n=arguments[0];this.dirEdges.add(n)}},getNodes:function(){return this.nodeMap.values()},interfaces_:function(){return[]},getClass:function(){return Si}}),oa(Ti,Si),ia(Ti.prototype,{addEdge:function(t){if(t.isEmpty())return null;var e=G.removeRepeatedPoints(t.getCoordinates());if(e.length<=1)return null;var n=e[0],r=e[e.length-1],i=this.getNode(n),o=this.getNode(r),a=new bi(i,o,e[1],!0),s=new bi(o,i,e[e.length-2],!1),u=new Ei(t);u.setDirectedEdges(a,s),this.add(u)},getNode:function(t){var e=this.findNode(t);return null===e&&(e=new _i(t),this.add(e)),e},interfaces_:function(){return[]},getClass:function(){return Ti}}),ia(Ci.prototype,{buildEdgeStringsForUnprocessedNodes:function(){for(var t=this.graph.getNodes().iterator();t.hasNext();){var e=t.next();e.isMarked()||(c.isTrue(2===e.getDegree()),this.buildEdgeStringsStartingAt(e),e.setMarked(!0))}},buildEdgeStringsForNonDegree2Nodes:function(){for(var t=this.graph.getNodes().iterator();t.hasNext();){var e=t.next();2!==e.getDegree()&&(this.buildEdgeStringsStartingAt(e),e.setMarked(!0))}},buildEdgeStringsForObviousStartNodes:function(){this.buildEdgeStringsForNonDegree2Nodes()},getMergedLineStrings:function(){return this.merge(),this.mergedLineStrings},buildEdgeStringsStartingAt:function(t){for(var e=t.getOutEdges().iterator();e.hasNext();){var n=e.next();n.getEdge().isMarked()||this.edgeStrings.add(this.buildEdgeStringStartingWith(n))}},merge:function(){if(null!==this.mergedLineStrings)return null;vi.setMarked(this.graph.nodeIterator(),!1),vi.setMarked(this.graph.edgeIterator(),!1),this.edgeStrings=new b,this.buildEdgeStringsForObviousStartNodes(),this.buildEdgeStringsForIsolatedLoops(),this.mergedLineStrings=new b;for(var t=this.edgeStrings.iterator();t.hasNext();){var e=t.next();this.mergedLineStrings.add(e.toLineString())}},buildEdgeStringStartingWith:function(t){var e=new gi(this.factory),n=t;do{e.add(n),n.getEdge().setMarked(!0),n=n.getNext()}while(null!==n&&n!==t);return e},add:function(){if(arguments[0]instanceof D)arguments[0].apply({interfaces_:function(){return[k]},filter:function(t){t instanceof xt&&this.add(t)}});else if(sa(arguments[0],p)){var t=arguments[0];this.mergedLineStrings=null;for(var e=t.iterator();e.hasNext();){var n=e.next();this.add(n)}}else if(arguments[0]instanceof xt){var r=arguments[0];null===this.factory&&(this.factory=r.getFactory()),this.graph.addEdge(r)}},buildEdgeStringsForIsolatedLoops:function(){this.buildEdgeStringsForUnprocessedNodes()},interfaces_:function(){return[]},getClass:function(){return Ci}});var Pa=Object.freeze({LineMerger:Ci}),ka=Object.freeze({OverlayOp:Jn});oa(Ii,yi),ia(Ii.prototype,{getNext:function(){return this.next},isInRing:function(){return null!==this.edgeRing},setRing:function(t){this.edgeRing=t},setLabel:function(t){this.label=t},getLabel:function(){return this.label},setNext:function(t){this.next=t},getRing:function(){return this.edgeRing},interfaces_:function(){return[]},getClass:function(){return Ii}}),oa(Oi,wi),ia(Oi.prototype,{getLine:function(){return this.line},interfaces_:function(){return[]},getClass:function(){return Oi}}),ia(Ai.prototype,{visitInteriorRing:function(t,e){var n=t.getCoordinates(),r=n[0],i=Ai.findDifferentPoint(n,r),o=e.findEdgeInSameDirection(r,i),a=e.findEdgeEnd(o),s=null;a.getLabel().getLocation(0,sn.RIGHT)===M.INTERIOR?s=a:a.getSym().getLabel().getLocation(0,sn.RIGHT)===M.INTERIOR&&(s=a.getSym()),c.isTrue(null!==s,"unable to find dirEdge with Interior on RHS"),this.visitLinkedDirectedEdges(s)},visitShellInteriors:function(t,e){if(t instanceof St){var n=t;this.visitInteriorRing(n.getExteriorRing(),e)}if(t instanceof It)for(var r=t,i=0;i<r.getNumGeometries();i++){var n=r.getGeometryN(i);this.visitInteriorRing(n.getExteriorRing(),e)}},getCoordinate:function(){return this.disconnectedRingcoord},setInteriorEdgesInResult:function(t){for(var e=t.getEdgeEnds().iterator();e.hasNext();){var n=e.next();n.getLabel().getLocation(0,sn.RIGHT)===M.INTERIOR&&n.setInResult(!0)}},visitLinkedDirectedEdges:function(t){var e=t,n=t;do{c.isTrue(null!==n,"found null Directed Edge"),n.setVisited(!0),n=n.getNext()}while(n!==e)},buildEdgeRings:function(t){for(var e=new b,n=t.iterator();n.hasNext();){var r=n.next();if(r.isInResult()&&null===r.getEdgeRing()){var i=new fn(r,this.geometryFactory);i.linkDirectedEdgesForMinimalEdgeRings();var o=i.buildMinimalRings();e.addAll(o)}}return e},hasUnvisitedShellEdge:function(t){for(var e=0;e<t.size();e++){var n=t.get(e);if(!n.isHole()){var r=n.getEdges(),i=r.get(0);if(i.getLabel().getLocation(0,sn.RIGHT)===M.INTERIOR)for(var o=0;o<r.size();o++)if(i=r.get(o),!i.isVisited())return this.disconnectedRingcoord=i.getCoordinate(),!0}}return!1},isInteriorsConnected:function(){var t=new b;this.geomGraph.computeSplitEdges(t);var e=new bn(new Cn);e.addEdges(t),this.setInteriorEdgesInResult(e),e.linkResultDirectedEdges();var n=this.buildEdgeRings(e.getEdgeEnds());return this.visitShellInteriors(this.geomGraph.getGeometry(),e),!this.hasUnvisitedShellEdge(n)},interfaces_:function(){return[]},getClass:function(){return Ai}}),Ai.findDifferentPoint=function(t,e){for(var n=0;n<t.length;n++)if(!t[n].equals(e))return t[n];return null},ia(Li.prototype,{createEdgeEndForNext:function(t,e,n,r){var i=n.segmentIndex+1;if(i>=t.getNumPoints()&&null===r)return null;var o=t.getCoordinate(i);null!==r&&r.segmentIndex===n.segmentIndex&&(o=r.coord);var a=new gn(t,n.coord,o,new ln(t.getLabel()));e.add(a)},createEdgeEndForPrev:function(t,e,n,r){var i=n.segmentIndex;if(0===n.dist){if(0===i)return null;i--}var o=t.getCoordinate(i);null!==r&&r.segmentIndex>=i&&(o=r.coord);var a=new ln(t.getLabel());a.flip();var s=new gn(t,n.coord,o,a);e.add(s)},computeEdgeEnds:function(){if(1===arguments.length){for(var t=arguments[0],e=new b,n=t;n.hasNext();){var r=n.next();this.computeEdgeEnds(r,e)}return e}if(2===arguments.length){var i=arguments[0],o=arguments[1],a=i.getEdgeIntersectionList();a.addEndpoints();var s=a.iterator(),u=null,l=null;if(!s.hasNext())return null;var c=s.next();do{u=l,l=c,c=null,s.hasNext()&&(c=s.next()),null!==l&&(this.createEdgeEndForPrev(i,o,l,u),this.createEdgeEndForNext(i,o,l,c))}while(null!==l)}},interfaces_:function(){return[]},getClass:function(){return Li}}),oa(Ri,gn),ia(Ri.prototype,{insert:function(t){this.edgeEnds.add(t)},print:function(t){t.println("EdgeEndBundle--\x3e Label: "+this.label);for(var e=this.iterator();e.hasNext();)e.next().print(t),t.println()},iterator:function(){return this.edgeEnds.iterator()},getEdgeEnds:function(){return this.edgeEnds},computeLabelOn:function(t,e){for(var n=0,r=!1,i=this.iterator();i.hasNext();){var o=i.next(),a=o.getLabel().getLocation(t);a===M.BOUNDARY&&n++,a===M.INTERIOR&&(r=!0)}var a=M.NONE;r&&(a=M.INTERIOR),n>0&&(a=Zn.determineBoundary(e,n)),this.label.setLocation(t,a)},computeLabelSide:function(t,e){for(var n=this.iterator();n.hasNext();){var r=n.next();if(r.getLabel().isArea()){var i=r.getLabel().getLocation(t,e);if(i===M.INTERIOR)return this.label.setLocation(t,e,M.INTERIOR),null;i===M.EXTERIOR&&this.label.setLocation(t,e,M.EXTERIOR)}}},getLabel:function(){return this.label},computeLabelSides:function(t){this.computeLabelSide(t,sn.LEFT),this.computeLabelSide(t,sn.RIGHT)},updateIM:function(t){Xn.updateIM(this.label,t)},computeLabel:function(t){for(var e=!1,n=this.iterator();n.hasNext();)n.next().getLabel().isArea()&&(e=!0);this.label=e?new ln(M.NONE,M.NONE,M.NONE):new ln(M.NONE);for(var r=0;r<2;r++)this.computeLabelOn(r,t),e&&this.computeLabelSides(r)},interfaces_:function(){return[]},getClass:function(){return Ri}}),oa(Ni,Sn),ia(Ni.prototype,{updateIM:function(t){for(var e=this.iterator();e.hasNext();)e.next().updateIM(t)},insert:function(t){var e=this.edgeMap.get(t);null===e?(e=new Ri(t),this.insertEdgeEnd(t,e)):e.insert(t)},interfaces_:function(){return[]},getClass:function(){return Ni}}),oa(Pi,pn),ia(Pi.prototype,{updateIMFromEdges:function(t){this.edges.updateIM(t)},computeIM:function(t){t.setAtLeastIfValid(this.label.getLocation(0),this.label.getLocation(1),0)},interfaces_:function(){return[]},getClass:function(){return Pi}}),oa(ki,yn),ia(ki.prototype,{createNode:function(t){return new Pi(t,new Ni)},interfaces_:function(){return[]},getClass:function(){return ki}}),ia(Di.prototype,{insertEdgeEnds:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.nodes.add(n)}},getNodeIterator:function(){return this.nodes.iterator()},copyNodesAndLabels:function(t,e){for(var n=t.getNodeIterator();n.hasNext();){var r=n.next();this.nodes.addNode(r.getCoordinate()).setLabel(e,r.getLabel().getLocation(e))}},build:function(t){this.computeIntersectionNodes(t,0),this.copyNodesAndLabels(t,0);var e=new Li,n=e.computeEdgeEnds(t.getEdgeIterator());this.insertEdgeEnds(n)},computeIntersectionNodes:function(t,e){for(var n=t.getEdgeIterator();n.hasNext();)for(var r=n.next(),i=r.getLabel().getLocation(e),o=r.getEdgeIntersectionList().iterator();o.hasNext();){var a=o.next(),s=this.nodes.addNode(a.coord);i===M.BOUNDARY?s.setLabelBoundary(e):s.getLabel().isNull(e)&&s.setLabel(e,M.INTERIOR)}},interfaces_:function(){return[]},getClass:function(){return Di}}),ia(Fi.prototype,{isNodeEdgeAreaLabelsConsistent:function(){for(var t=this.nodeGraph.getNodeIterator();t.hasNext();){var e=t.next();if(!e.getEdges().isAreaLabelsConsistent(this.geomGraph))return this.invalidPoint=e.getCoordinate().copy(),!1}return!0},getInvalidPoint:function(){return this.invalidPoint},hasDuplicateRings:function(){for(var t=this.nodeGraph.getNodeIterator();t.hasNext();)for(var e=t.next(),n=e.getEdges().iterator();n.hasNext();){var r=n.next();if(r.getEdgeEnds().size()>1)return this.invalidPoint=r.getEdge().getCoordinate(0),!0}return!1},isNodeConsistentArea:function(){var t=this.geomGraph.computeSelfNodes(this.li,!0,!0);return t.hasProperIntersection()?(this.invalidPoint=t.getProperIntersectionPoint(),!1):(this.nodeGraph.build(this.geomGraph),this.isNodeEdgeAreaLabelsConsistent())},interfaces_:function(){return[]},getClass:function(){return Fi}}),ia(ji.prototype,{buildIndex:function(){this.index=new je;for(var t=0;t<this.rings.size();t++){var e=this.rings.get(t),n=e.getEnvelopeInternal();this.index.insert(n,e)}},getNestedPoint:function(){return this.nestedPt},isNonNested:function(){this.buildIndex();for(var t=0;t<this.rings.size();t++)for(var e=this.rings.get(t),n=e.getCoordinates(),r=this.index.query(e.getEnvelopeInternal()),i=0;i<r.size();i++){var o=r.get(i),a=o.getCoordinates();if(e!==o&&e.getEnvelopeInternal().intersects(o.getEnvelopeInternal())){var s=Bi.findPtNotNode(n,o,this.graph);if(null!==s){var u=ae.isPointInRing(s,a);if(u)return this.nestedPt=s,!1}}}return!0},add:function(t){this.rings.add(t),this.totalEnv.expandToInclude(t.getEnvelopeInternal())},interfaces_:function(){return[]},getClass:function(){return ji}}),ia(Ui.prototype,{getErrorType:function(){return this.errorType},getMessage:function(){return Ui.errMsg[this.errorType]},getCoordinate:function(){return this.pt},toString:function(){var t="";return null!==this.pt&&(t=" at or near point "+this.pt),this.getMessage()+t},interfaces_:function(){return[]},getClass:function(){return Ui}}),Ui.ERROR=0,Ui.REPEATED_POINT=1,Ui.HOLE_OUTSIDE_SHELL=2,Ui.NESTED_HOLES=3,Ui.DISCONNECTED_INTERIOR=4,Ui.SELF_INTERSECTION=5,Ui.RING_SELF_INTERSECTION=6,Ui.NESTED_SHELLS=7,Ui.DUPLICATE_RINGS=8,Ui.TOO_FEW_POINTS=9,Ui.INVALID_COORDINATE=10,Ui.RING_NOT_CLOSED=11,Ui.errMsg=["Topology Validation Error","Repeated Point","Hole lies outside shell","Holes are nested","Interior is disconnected","Self-intersection","Ring Self-intersection","Nested shells","Duplicate Rings","Too few distinct points in geometry component","Invalid Coordinate","Ring is not closed"],ia(Bi.prototype,{checkInvalidCoordinates:function(){if(arguments[0]instanceof Array){for(var t=arguments[0],e=0;e<t.length;e++)if(!Bi.isValid(t[e]))return this.validErr=new Ui(Ui.INVALID_COORDINATE,t[e]),null}else if(arguments[0]instanceof St){var n=arguments[0];if(this.checkInvalidCoordinates(n.getExteriorRing().getCoordinates()),null!==this.validErr)return null;for(var e=0;e<n.getNumInteriorRing();e++)if(this.checkInvalidCoordinates(n.getInteriorRingN(e).getCoordinates()),null!==this.validErr)return null}},checkHolesNotNested:function(t,e){for(var n=new ji(e),r=0;r<t.getNumInteriorRing();r++){var i=t.getInteriorRingN(r);n.add(i)}n.isNonNested()||(this.validErr=new Ui(Ui.NESTED_HOLES,n.getNestedPoint()))},checkConsistentArea:function(t){var e=new Fi(t);if(!e.isNodeConsistentArea())return this.validErr=new Ui(Ui.SELF_INTERSECTION,e.getInvalidPoint()),null;e.hasDuplicateRings()&&(this.validErr=new Ui(Ui.DUPLICATE_RINGS,e.getInvalidPoint()))},isValid:function(){return this.checkValid(this.parentGeometry),null===this.validErr},checkShellInsideHole:function(t,e,n){var r=t.getCoordinates(),i=e.getCoordinates(),o=Bi.findPtNotNode(r,e,n);if(null!==o&&!ae.isPointInRing(o,i))return o;var a=Bi.findPtNotNode(i,t,n);return null!==a?ae.isPointInRing(a,r)?a:null:(c.shouldNeverReachHere("points in shell and hole appear to be equal"),null)},checkNoSelfIntersectingRings:function(t){for(var e=t.getEdgeIterator();e.hasNext();){var n=e.next();if(this.checkNoSelfIntersectingRing(n.getEdgeIntersectionList()),null!==this.validErr)return null}},checkConnectedInteriors:function(t){var e=new Ai(t);e.isInteriorsConnected()||(this.validErr=new Ui(Ui.DISCONNECTED_INTERIOR,e.getCoordinate()))},checkNoSelfIntersectingRing:function(t){for(var e=new it,n=!0,r=t.iterator();r.hasNext();){var i=r.next();if(n)n=!1;else{if(e.contains(i.coord))return this.validErr=new Ui(Ui.RING_SELF_INTERSECTION,i.coord),null;e.add(i.coord)}}},checkHolesInShell:function(t,e){for(var n=t.getExteriorRing(),r=new vr(n),i=0;i<t.getNumInteriorRing();i++){var o=t.getInteriorRingN(i),a=Bi.findPtNotNode(o.getCoordinates(),n,e);if(null===a)return null;if(!r.isInside(a))return this.validErr=new Ui(Ui.HOLE_OUTSIDE_SHELL,a),null}},checkTooFewPoints:function(t){if(t.hasTooFewPoints())return this.validErr=new Ui(Ui.TOO_FEW_POINTS,t.getInvalidPoint()),null},getValidationError:function(){return this.checkValid(this.parentGeometry),this.validErr},checkValid:function(){if(arguments[0]instanceof Et){var t=arguments[0];this.checkInvalidCoordinates(t.getCoordinates())}else if(arguments[0]instanceof Tt){var e=arguments[0];this.checkInvalidCoordinates(e.getCoordinates())}else if(arguments[0]instanceof Ct){var n=arguments[0];if(this.checkInvalidCoordinates(n.getCoordinates()),null!==this.validErr)return null;if(this.checkClosedRing(n),null!==this.validErr)return null;var r=new Zn(0,n);if(this.checkTooFewPoints(r),null!==this.validErr)return null;var i=new re;r.computeSelfNodes(i,!0,!0),this.checkNoSelfIntersectingRings(r)}else if(arguments[0]instanceof xt){var o=arguments[0];if(this.checkInvalidCoordinates(o.getCoordinates()),null!==this.validErr)return null;var r=new Zn(0,o);this.checkTooFewPoints(r)}else if(arguments[0]instanceof St){var a=arguments[0];if(this.checkInvalidCoordinates(a),null!==this.validErr)return null;if(this.checkClosedRings(a),null!==this.validErr)return null;var r=new Zn(0,a);if(this.checkTooFewPoints(r),null!==this.validErr)return null;if(this.checkConsistentArea(r),null!==this.validErr)return null;if(!this.isSelfTouchingRingFormingHoleValid&&(this.checkNoSelfIntersectingRings(r),null!==this.validErr))return null;if(this.checkHolesInShell(a,r),null!==this.validErr)return null;if(this.checkHolesNotNested(a,r),null!==this.validErr)return null;this.checkConnectedInteriors(r)}else if(arguments[0]instanceof It){for(var s=arguments[0],u=0;u<s.getNumGeometries();u++){var l=s.getGeometryN(u);if(this.checkInvalidCoordinates(l),null!==this.validErr)return null;if(this.checkClosedRings(l),null!==this.validErr)return null}var r=new Zn(0,s);if(this.checkTooFewPoints(r),null!==this.validErr)return null;if(this.checkConsistentArea(r),null!==this.validErr)return null;if(!this.isSelfTouchingRingFormingHoleValid&&(this.checkNoSelfIntersectingRings(r),null!==this.validErr))return null;for(var u=0;u<s.getNumGeometries();u++){var l=s.getGeometryN(u);if(this.checkHolesInShell(l,r),null!==this.validErr)return null}for(var u=0;u<s.getNumGeometries();u++){var l=s.getGeometryN(u);if(this.checkHolesNotNested(l,r),null!==this.validErr)return null}if(this.checkShellsNotNested(s,r),null!==this.validErr)return null;this.checkConnectedInteriors(r)}else if(arguments[0]instanceof lt)for(var c=arguments[0],u=0;u<c.getNumGeometries();u++){var h=c.getGeometryN(u);if(this.checkValid(h),null!==this.validErr)return null}else if(arguments[0]instanceof D){var f=arguments[0];if(this.validErr=null,f.isEmpty())return null;if(f instanceof Et)this.checkValid(f);else if(f instanceof Tt)this.checkValid(f);else if(f instanceof Ct)this.checkValid(f);else if(f instanceof xt)this.checkValid(f);else if(f instanceof St)this.checkValid(f);else if(f instanceof It)this.checkValid(f);else{if(!(f instanceof lt))throw new UnsupportedOperationException(f.getClass().getName());this.checkValid(f)}}},setSelfTouchingRingFormingHoleValid:function(t){this.isSelfTouchingRingFormingHoleValid=t},checkShellNotNested:function(t,e,n){var r=t.getCoordinates(),i=e.getExteriorRing(),o=i.getCoordinates(),a=Bi.findPtNotNode(r,i,n);if(null===a)return null;if(!ae.isPointInRing(a,o))return null;if(e.getNumInteriorRing()<=0)return this.validErr=new Ui(Ui.NESTED_SHELLS,a),null;for(var s=null,u=0;u<e.getNumInteriorRing();u++){var l=e.getInteriorRingN(u);if(null===(s=this.checkShellInsideHole(t,l,n)))return null}this.validErr=new Ui(Ui.NESTED_SHELLS,s)},checkClosedRings:function(t){if(this.checkClosedRing(t.getExteriorRing()),null!==this.validErr)return null;for(var e=0;e<t.getNumInteriorRing();e++)if(this.checkClosedRing(t.getInteriorRingN(e)),null!==this.validErr)return null},checkClosedRing:function(t){if(!t.isClosed()){var e=null;t.getNumPoints()>=1&&(e=t.getCoordinateN(0)),this.validErr=new Ui(Ui.RING_NOT_CLOSED,e)}},checkShellsNotNested:function(t,e){for(var n=0;n<t.getNumGeometries();n++)for(var r=t.getGeometryN(n),i=r.getExteriorRing(),o=0;o<t.getNumGeometries();o++)if(n!==o){var a=t.getGeometryN(o);if(this.checkShellNotNested(i,a,e),null!==this.validErr)return null}},interfaces_:function(){return[]},getClass:function(){return Bi}}),Bi.findPtNotNode=function(t,e,n){for(var r=n.findEdge(e),i=r.getEdgeIntersectionList(),o=0;o<t.length;o++){var a=t[o];if(!i.isIntersection(a))return a}return null},Bi.isValid=function(){if(arguments[0]instanceof D)return new Bi(arguments[0]).isValid();if(arguments[0]instanceof h){var t=arguments[0];return!(r.isNaN(t.x)||r.isInfinite(t.x)||r.isNaN(t.y)||r.isInfinite(t.y))}},ia(zi.prototype,{isIncluded:function(){return this._isIncluded},getCoordinates:function(){if(null===this.ringPts){for(var t=new w,e=this.deList.iterator();e.hasNext();){var n=e.next(),r=n.getEdge();zi.addEdge(r.getLine().getCoordinates(),n.getEdgeDirection(),t)}this.ringPts=t.toCoordinateArray()}return this.ringPts},isIncludedSet:function(){return this._isIncludedSet},isValid:function(){return this.getCoordinates(),!(this.ringPts.length<=3)&&(this.getRing(),Bi.isValid(this.ring))},build:function(t){var e=t;do{this.add(e),e.setRing(this),e=e.getNext(),c.isTrue(null!==e,"found null DE in ring"),c.isTrue(e===t||!e.isInRing(),"found DE already in ring")}while(e!==t)},isOuterHole:function(){return!!this._isHole&&!this.hasShell()},getPolygon:function(){var t=null;if(null!==this.holes){t=new Array(this.holes.size()).fill(null);for(var e=0;e<this.holes.size();e++)t[e]=this.holes.get(e)}return this.factory.createPolygon(this.ring,t)},isHole:function(){return this._isHole},isProcessed:function(){return this._isProcessed},addHole:function(){if(arguments[0]instanceof Ct){var t=arguments[0];null===this.holes&&(this.holes=new b),this.holes.add(t)}else if(arguments[0]instanceof zi){var e=arguments[0];e.setShell(this);var n=e.getRing();null===this.holes&&(this.holes=new b),this.holes.add(n)}},setIncluded:function(t){this._isIncluded=t,this._isIncludedSet=!0},getOuterHole:function(){if(this.isHole())return null;for(var t=0;t<this.deList.size();t++){var e=this.deList.get(t),n=e.getSym().getRing();if(n.isOuterHole())return n}return null},computeHole:function(){var t=this.getRing();this._isHole=ae.isCCW(t.getCoordinates())},hasShell:function(){return null!==this.shell},isOuterShell:function(){return null!==this.getOuterHole()},getLineString:function(){return this.getCoordinates(),this.factory.createLineString(this.ringPts)},toString:function(){return ee.toLineString(new Pt(this.getCoordinates()))},getShell:function(){return this.isHole()?this.shell:this},add:function(t){this.deList.add(t)},getRing:function(){if(null!==this.ring)return this.ring;this.getCoordinates(),this.ringPts.length<3&&R.out.println(this.ringPts);try{this.ring=this.factory.createLinearRing(this.ringPts)}catch(t){if(!(t instanceof _))throw t;R.out.println(this.ringPts)}return this.ring},updateIncluded:function(){if(this.isHole())return null;for(var t=0;t<this.deList.size();t++){var e=this.deList.get(t),n=e.getSym().getRing().getShell();if(null!==n&&n.isIncludedSet())return this.setIncluded(!n.isIncluded()),null}},setShell:function(t){this.shell=t},setProcessed:function(t){this._isProcessed=t},interfaces_:function(){return[]},getClass:function(){return zi}}),zi.findDirEdgesInRing=function(t){var e=t,n=new b;do{n.add(e),e=e.getNext(),c.isTrue(null!==e,"found null DE in ring"),c.isTrue(e===t||!e.isInRing(),"found DE already in ring")}while(e!==t);return n},zi.addEdge=function(t,e,n){if(e)for(var r=0;r<t.length;r++)n.add(t[r],!1);else for(var r=t.length-1;r>=0;r--)n.add(t[r],!1)},zi.findEdgeRingContaining=function(t,e){for(var n=t.getRing(),r=n.getEnvelopeInternal(),i=n.getCoordinateN(0),o=null,a=null,s=e.iterator();s.hasNext();){var u=s.next(),l=u.getRing(),c=l.getEnvelopeInternal();if(!c.equals(r)&&c.contains(r)){i=G.ptNotInList(n.getCoordinates(),l.getCoordinates());var h=!1;ae.isPointInRing(i,l.getCoordinates())&&(h=!0),h&&(null===o||a.contains(c))&&(o=u,a=o.getRing().getEnvelopeInternal())}}return o},ia(Vi.prototype,{compare:function(t,e){var n=t,r=e;return n.getRing().getEnvelope().compareTo(r.getRing().getEnvelope())},interfaces_:function(){return[a]},getClass:function(){return Vi}}),zi.EnvelopeComparator=Vi,oa(Gi,Si),ia(Gi.prototype,{findEdgeRing:function(t){var e=new zi(this.factory);return e.build(t),e},computeDepthParity:function(){if(0===arguments.length)for(;;)return null;else 1===arguments.length&&arguments[0]},computeNextCWEdges:function(){for(var t=this.nodeIterator();t.hasNext();){var e=t.next();Gi.computeNextCWEdges(e)}},addEdge:function(t){if(t.isEmpty())return null;var e=G.removeRepeatedPoints(t.getCoordinates());if(e.length<2)return null;var n=e[0],r=e[e.length-1],i=this.getNode(n),o=this.getNode(r),a=new Ii(i,o,e[1],!0),s=new Ii(o,i,e[e.length-2],!1),u=new Oi(t);u.setDirectedEdges(a,s),this.add(u)},deleteCutEdges:function(){this.computeNextCWEdges(),Gi.findLabeledEdgeRings(this.dirEdges);for(var t=new b,e=this.dirEdges.iterator();e.hasNext();){var n=e.next();if(!n.isMarked()){var r=n.getSym();if(n.getLabel()===r.getLabel()){n.setMarked(!0),r.setMarked(!0);var i=n.getEdge();t.add(i.getLine())}}}return t},getEdgeRings:function(){this.computeNextCWEdges(),Gi.label(this.dirEdges,-1);var t=Gi.findLabeledEdgeRings(this.dirEdges);this.convertMaximalToMinimalEdgeRings(t);for(var e=new b,n=this.dirEdges.iterator();n.hasNext();){var r=n.next();if(!r.isMarked()&&!r.isInRing()){var i=this.findEdgeRing(r);e.add(i)}}return e},getNode:function(t){var e=this.findNode(t);return null===e&&(e=new _i(t),this.add(e)),e},convertMaximalToMinimalEdgeRings:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),r=n.getLabel(),i=Gi.findIntersectionNodes(n,r);if(null!==i)for(var o=i.iterator();o.hasNext();){var a=o.next();Gi.computeNextCCWEdges(a,r)}}},deleteDangles:function(){for(var t=this.findNodesOfDegree(1),e=new Z,n=new he,r=t.iterator();r.hasNext();)n.push(r.next());for(;!n.isEmpty();){var i=n.pop();Gi.deleteAllEdges(i);for(var o=i.getOutEdges().getEdges(),r=o.iterator();r.hasNext();){var a=r.next();a.setMarked(!0);var s=a.getSym();null!==s&&s.setMarked(!0);var u=a.getEdge();e.add(u.getLine());var l=a.getToNode();1===Gi.getDegreeNonDeleted(l)&&n.push(l)}}return e},interfaces_:function(){return[]},getClass:function(){return Gi}}),Gi.findLabeledEdgeRings=function(t){for(var e=new b,n=1,r=t.iterator();r.hasNext();){var i=r.next();if(!(i.isMarked()||i.getLabel()>=0)){e.add(i);var o=zi.findDirEdgesInRing(i);Gi.label(o,n),n++}}return e},Gi.getDegreeNonDeleted=function(t){for(var e=t.getOutEdges().getEdges(),n=0,r=e.iterator();r.hasNext();)r.next().isMarked()||n++;return n},Gi.deleteAllEdges=function(t){for(var e=t.getOutEdges().getEdges(),n=e.iterator();n.hasNext();){var r=n.next();r.setMarked(!0);var i=r.getSym();null!==i&&i.setMarked(!0)}},Gi.label=function(t,e){for(var n=t.iterator();n.hasNext();)n.next().setLabel(e)},Gi.computeNextCWEdges=function(t){for(var e=t.getOutEdges(),n=null,r=null,i=e.getEdges().iterator();i.hasNext();){var o=i.next();if(!o.isMarked()){if(null===n&&(n=o),null!==r){var a=r.getSym();a.setNext(o)}r=o}}if(null!==r){var a=r.getSym();a.setNext(n)}},Gi.computeNextCCWEdges=function(t,e){for(var n=t.getOutEdges(),r=null,i=null,o=n.getEdges(),a=o.size()-1;a>=0;a--){var s=o.get(a),u=s.getSym(),l=null;s.getLabel()===e&&(l=s);var h=null;u.getLabel()===e&&(h=u),null===l&&null===h||(null!==h&&(i=h),null!==l&&(null!==i&&(i.setNext(l),i=null),null===r&&(r=l)))}null!==i&&(c.isTrue(null!==r),i.setNext(r))},Gi.getDegree=function(t,e){for(var n=t.getOutEdges().getEdges(),r=0,i=n.iterator();i.hasNext();)i.next().getLabel()===e&&r++;return r},Gi.findIntersectionNodes=function(t,e){var n=t,r=null;do{var i=n.getFromNode();Gi.getDegree(i,e)>1&&(null===r&&(r=new b),r.add(i)),n=n.getNext(),c.isTrue(null!==n,"found null DE in ring"),c.isTrue(n===t||!n.isInRing(),"found DE already in ring")}while(n!==t);return r},ia(Hi.prototype,{getGeometry:function(){return null===this.geomFactory&&(this.geomFactory=new Jt),this.polygonize(),this.extractOnlyPolygonal?this.geomFactory.buildGeometry(this.polyList):this.geomFactory.createGeometryCollection(Jt.toGeometryArray(this.polyList))},getInvalidRingLines:function(){return this.polygonize(),this.invalidRingLines},findValidRings:function(t,e,n){for(var r=t.iterator();r.hasNext();){var i=r.next();i.isValid()?e.add(i):n.add(i.getLineString())}},polygonize:function(){if(null!==this.polyList)return null;if(this.polyList=new b,null===this.graph)return null;this.dangles=this.graph.deleteDangles(),this.cutEdges=this.graph.deleteCutEdges();var t=this.graph.getEdgeRings(),e=new b;this.invalidRingLines=new b,this.isCheckingRingsValid?this.findValidRings(t,e,this.invalidRingLines):e=t,this.findShellsAndHoles(e),Hi.assignHolesToShells(this.holeList,this.shellList),ba.sort(this.shellList,new zi.EnvelopeComparator);var n=!0;this.extractOnlyPolygonal&&(Hi.findDisjointShells(this.shellList),n=!1),this.polyList=Hi.extractPolygons(this.shellList,n)},getDangles:function(){return this.polygonize(),this.dangles},getCutEdges:function(){return this.polygonize(),this.cutEdges},getPolygons:function(){return this.polygonize(),this.polyList},add:function(){if(sa(arguments[0],p))for(var t=arguments[0],e=t.iterator();e.hasNext();){var n=e.next();this.add(n)}else if(arguments[0]instanceof xt){var r=arguments[0];this.geomFactory=r.getFactory(),null===this.graph&&(this.graph=new Gi(this.geomFactory)),this.graph.addEdge(r)}else if(arguments[0]instanceof D){var i=arguments[0];i.apply(this.lineStringAdder)}},setCheckRingsValid:function(t){this.isCheckingRingsValid=t},findShellsAndHoles:function(t){this.holeList=new b,this.shellList=new b;for(var e=t.iterator();e.hasNext();){var n=e.next();n.computeHole(),n.isHole()?this.holeList.add(n):this.shellList.add(n)}},interfaces_:function(){return[]},getClass:function(){return Hi}}),Hi.findOuterShells=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),r=n.getOuterHole();null===r||r.isProcessed()||(n.setIncluded(!0),r.setProcessed(!0))}},Hi.extractPolygons=function(t,e){for(var n=new b,r=t.iterator();r.hasNext();){var i=r.next();(e||i.isIncluded())&&n.add(i.getPolygon())}return n},Hi.assignHolesToShells=function(t,e){for(var n=t.iterator();n.hasNext();){var r=n.next();Hi.assignHoleToShell(r,e)}},Hi.assignHoleToShell=function(t,e){var n=zi.findEdgeRingContaining(t,e);null!==n&&n.addHole(t)},Hi.findDisjointShells=function(t){Hi.findOuterShells(t);var e=null;do{e=!1;for(var n=t.iterator();n.hasNext();){var r=n.next();r.isIncludedSet()||(r.updateIncluded(),r.isIncludedSet()||(e=!0))}}while(e)},ia(qi.prototype,{filter:function(t){t instanceof xt&&this.p.add(t)},interfaces_:function(){return[k]},getClass:function(){return qi}}),Hi.LineStringAdder=qi;var Da=Object.freeze({Polygonizer:Hi});ia(Wi.prototype,{insertEdgeEnds:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.nodes.add(n)}},computeProperIntersectionIM:function(t,e){var n=this.arg[0].getGeometry().getDimension(),r=this.arg[1].getGeometry().getDimension(),i=t.hasProperIntersection(),o=t.hasProperInteriorIntersection();2===n&&2===r?i&&e.setAtLeast("212101212"):2===n&&1===r?(i&&e.setAtLeast("FFF0FFFF2"),o&&e.setAtLeast("1FFFFF1FF")):1===n&&2===r?(i&&e.setAtLeast("F0FFFFFF2"),o&&e.setAtLeast("1F1FFFFFF")):1===n&&1===r&&o&&e.setAtLeast("0FFFFFFFF")},labelIsolatedEdges:function(t,e){for(var n=this.arg[t].getEdgeIterator();n.hasNext();){var r=n.next();r.isIsolated()&&(this.labelIsolatedEdge(r,e,this.arg[e].getGeometry()),this.isolatedEdges.add(r))}},labelIsolatedEdge:function(t,e,n){if(n.getDimension()>0){var r=this.ptLocator.locate(t.getCoordinate(),n);t.getLabel().setAllLocations(e,r)}else t.getLabel().setAllLocations(e,M.EXTERIOR)},computeIM:function(){var t=new ue;if(t.set(M.EXTERIOR,M.EXTERIOR,2),!this.arg[0].getGeometry().getEnvelopeInternal().intersects(this.arg[1].getGeometry().getEnvelopeInternal()))return this.computeDisjointIM(t),t;this.arg[0].computeSelfNodes(this.li,!1),this.arg[1].computeSelfNodes(this.li,!1);var e=this.arg[0].computeEdgeIntersections(this.arg[1],this.li,!1);this.computeIntersectionNodes(0),this.computeIntersectionNodes(1),this.copyNodesAndLabels(0),this.copyNodesAndLabels(1),this.labelIsolatedNodes(),this.computeProperIntersectionIM(e,t);var n=new Li,r=n.computeEdgeEnds(this.arg[0].getEdgeIterator());this.insertEdgeEnds(r);var i=n.computeEdgeEnds(this.arg[1].getEdgeIterator());return this.insertEdgeEnds(i),this.labelNodeEdges(),this.labelIsolatedEdges(0,1),this.labelIsolatedEdges(1,0),this.updateIM(t),t},labelNodeEdges:function(){for(var t=this.nodes.iterator();t.hasNext();)t.next().getEdges().computeLabelling(this.arg)},copyNodesAndLabels:function(t){for(var e=this.arg[t].getNodeIterator();e.hasNext();){var n=e.next();this.nodes.addNode(n.getCoordinate()).setLabel(t,n.getLabel().getLocation(t))}},labelIntersectionNodes:function(t){for(var e=this.arg[t].getEdgeIterator();e.hasNext();)for(var n=e.next(),r=n.getLabel().getLocation(t),i=n.getEdgeIntersectionList().iterator();i.hasNext();){var o=i.next(),a=this.nodes.find(o.coord);a.getLabel().isNull(t)&&(r===M.BOUNDARY?a.setLabelBoundary(t):a.setLabel(t,M.INTERIOR))}},labelIsolatedNode:function(t,e){var n=this.ptLocator.locate(t.getCoordinate(),this.arg[e].getGeometry());t.getLabel().setAllLocations(e,n)},computeIntersectionNodes:function(t){for(var e=this.arg[t].getEdgeIterator();e.hasNext();)for(var n=e.next(),r=n.getLabel().getLocation(t),i=n.getEdgeIntersectionList().iterator();i.hasNext();){var o=i.next(),a=this.nodes.addNode(o.coord);r===M.BOUNDARY?a.setLabelBoundary(t):a.getLabel().isNull(t)&&a.setLabel(t,M.INTERIOR)}},labelIsolatedNodes:function(){for(var t=this.nodes.iterator();t.hasNext();){var e=t.next(),n=e.getLabel();c.isTrue(n.getGeometryCount()>0,"node with empty label found"),e.isIsolated()&&(n.isNull(0)?this.labelIsolatedNode(e,0):this.labelIsolatedNode(e,1))}},updateIM:function(t){for(var e=this.isolatedEdges.iterator();e.hasNext();)e.next().updateIM(t);for(var n=this.nodes.iterator();n.hasNext();){var r=n.next();r.updateIM(t),r.updateIMFromEdges(t)}},computeDisjointIM:function(t){var e=this.arg[0].getGeometry();e.isEmpty()||(t.set(M.INTERIOR,M.EXTERIOR,e.getDimension()),t.set(M.BOUNDARY,M.EXTERIOR,e.getBoundaryDimension()));var n=this.arg[1].getGeometry();n.isEmpty()||(t.set(M.EXTERIOR,M.INTERIOR,n.getDimension()),t.set(M.EXTERIOR,M.BOUNDARY,n.getBoundaryDimension()))},interfaces_:function(){return[]},getClass:function(){return Wi}}),ia(Yi.prototype,{isContainedInBoundary:function(t){if(t instanceof St)return!1;if(t instanceof Et)return this.isPointContainedInBoundary(t);if(t instanceof xt)return this.isLineStringContainedInBoundary(t);for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);if(!this.isContainedInBoundary(n))return!1}return!0},isLineSegmentContainedInBoundary:function(t,e){if(t.equals(e))return this.isPointContainedInBoundary(t);if(t.x===e.x){if(t.x===this.rectEnv.getMinX()||t.x===this.rectEnv.getMaxX())return!0}else if(t.y===e.y&&(t.y===this.rectEnv.getMinY()||t.y===this.rectEnv.getMaxY()))return!0;return!1},isLineStringContainedInBoundary:function(t){for(var e=t.getCoordinateSequence(),n=new h,r=new h,i=0;i<e.size()-1;i++)if(e.getCoordinate(i,n),e.getCoordinate(i+1,r),!this.isLineSegmentContainedInBoundary(n,r))return!1;return!0},isPointContainedInBoundary:function(){if(arguments[0]instanceof Et){var t=arguments[0];return this.isPointContainedInBoundary(t.getCoordinate())}if(arguments[0]instanceof h){var e=arguments[0];return e.x===this.rectEnv.getMinX()||e.x===this.rectEnv.getMaxX()||e.y===this.rectEnv.getMinY()||e.y===this.rectEnv.getMaxY()}},contains:function(t){return!!this.rectEnv.contains(t.getEnvelopeInternal())&&!this.isContainedInBoundary(t)},interfaces_:function(){return[]},getClass:function(){return Yi}}),Yi.contains=function(t,e){return new Yi(t).contains(e)},ia(Xi.prototype,{intersects:function(t,e){var n=new x(t,e);if(!this.rectEnv.intersects(n))return!1;if(this.rectEnv.intersects(t))return!0;if(this.rectEnv.intersects(e))return!0;if(t.compareTo(e)>0){var r=t;t=e,e=r}var i=!1;return e.y>t.y&&(i=!0),i?this.li.computeIntersection(t,e,this.diagDown0,this.diagDown1):this.li.computeIntersection(t,e,this.diagUp0,this.diagUp1),!!this.li.hasIntersection()},interfaces_:function(){return[]},getClass:function(){return Xi}}),ia(Zi.prototype,{applyTo:function(t){for(var e=0;e<t.getNumGeometries()&&!this._isDone;e++){var n=t.getGeometryN(e);if(n instanceof lt)this.applyTo(n);else if(this.visit(n),this.isDone())return this._isDone=!0,null}},interfaces_:function(){return[]},getClass:function(){return Zi}}),ia(Ki.prototype,{intersects:function(t){if(!this.rectEnv.intersects(t.getEnvelopeInternal()))return!1;var e=new $i(this.rectEnv);if(e.applyTo(t),e.intersects())return!0;var n=new Qi(this.rectangle);if(n.applyTo(t),n.containsPoint())return!0;var r=new Ji(this.rectangle);return r.applyTo(t),!!r.intersects()},interfaces_:function(){return[]},getClass:function(){return Ki}}),Ki.intersects=function(t,e){return new Ki(t).intersects(e)},oa($i,Zi),ia($i.prototype,{isDone:function(){return!0===this._intersects},visit:function(t){var e=t.getEnvelopeInternal();return this.rectEnv.intersects(e)?this.rectEnv.contains(e)?(this._intersects=!0,null):e.getMinX()>=this.rectEnv.getMinX()&&e.getMaxX()<=this.rectEnv.getMaxX()?(this._intersects=!0,null):e.getMinY()>=this.rectEnv.getMinY()&&e.getMaxY()<=this.rectEnv.getMaxY()?(this._intersects=!0,null):void 0:null},intersects:function(){return this._intersects},interfaces_:function(){return[]},getClass:function(){return $i}}),oa(Qi,Zi),ia(Qi.prototype,{isDone:function(){return!0===this._containsPoint},visit:function(t){if(!(t instanceof St))return null;var e=t.getEnvelopeInternal();if(!this.rectEnv.intersects(e))return null;for(var n=new h,r=0;r<4;r++)if(this.rectSeq.getCoordinate(r,n),e.contains(n)&&Mn.containsPointInPolygon(n,t))return this._containsPoint=!0,null},containsPoint:function(){return this._containsPoint},interfaces_:function(){return[]},getClass:function(){return Qi}}),oa(Ji,Zi),ia(Ji.prototype,{intersects:function(){return this.hasIntersection},isDone:function(){return!0===this.hasIntersection},visit:function(t){var e=t.getEnvelopeInternal();if(!this.rectEnv.intersects(e))return null;var n=jn.getLines(t);this.checkIntersectionWithLineStrings(n)},checkIntersectionWithLineStrings:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();if(this.checkIntersectionWithSegments(n),this.hasIntersection)return null}},checkIntersectionWithSegments:function(t){for(var e=t.getCoordinateSequence(),n=1;n<e.size();n++)if(e.getCoordinate(n-1,this.p0),e.getCoordinate(n,this.p1),this.rectIntersector.intersects(this.p0,this.p1))return this.hasIntersection=!0,null},interfaces_:function(){return[]},getClass:function(){return Ji}}),oa(to,Kn),ia(to.prototype,{getIntersectionMatrix:function(){return this._relate.computeIM()},interfaces_:function(){return[]},getClass:function(){return to}}),to.covers=function(t,e){return!!t.getEnvelopeInternal().covers(e.getEnvelopeInternal())&&(!!t.isRectangle()||to.relate(t,e).isCovers())},to.intersects=function(t,e){return!!t.getEnvelopeInternal().intersects(e.getEnvelopeInternal())&&(t.isRectangle()?Ki.intersects(t,e):e.isRectangle()?Ki.intersects(e,t):to.relate(t,e).isIntersects())},to.touches=function(t,e){return!!t.getEnvelopeInternal().intersects(e.getEnvelopeInternal())&&to.relate(t,e).isTouches(t.getDimension(),e.getDimension())},to.within=function(t,e){return e.contains(t)},to.coveredBy=function(t,e){return to.covers(e,t)},to.relate=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new to(t,e),r=n.getIntersectionMatrix();return r}if(3===arguments.length){if("string"==typeof arguments[2]&&arguments[0]instanceof D&&arguments[1]instanceof D){var i=arguments[0],o=arguments[1],a=arguments[2];return to.relateWithCheck(i,o).matches(a)}if(sa(arguments[2],j)&&arguments[0]instanceof D&&arguments[1]instanceof D){var s=arguments[0],u=arguments[1],l=arguments[2],n=new to(s,u,l),r=n.getIntersectionMatrix();return r}}},to.overlaps=function(t,e){return!!t.getEnvelopeInternal().intersects(e.getEnvelopeInternal())&&to.relate(t,e).isOverlaps(t.getDimension(),e.getDimension())},to.disjoint=function(t,e){return!t.intersects(e)},to.relateWithCheck=function(t,e){return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),to.relate(t,e)},to.crosses=function(t,e){return!!t.getEnvelopeInternal().intersects(e.getEnvelopeInternal())&&to.relate(t,e).isCrosses(t.getDimension(),e.getDimension())},to.contains=function(t,e){return!!t.getEnvelopeInternal().contains(e.getEnvelopeInternal())&&(t.isRectangle()?Yi.contains(t,e):to.relate(t,e).isContains())};var Fa=Object.freeze({RelateOp:to});ia(eo.prototype,{extractElements:function(t,e){if(null===t)return null;for(var n=0;n<t.getNumGeometries();n++){var r=t.getGeometryN(n);this.skipEmpty&&r.isEmpty()||e.add(r)}},combine:function(){for(var t=new b,e=this.inputGeoms.iterator();e.hasNext();){var n=e.next();this.extractElements(n,t)}return 0===t.size()?null!==this.geomFactory?this.geomFactory.createGeometryCollection(null):null:this.geomFactory.buildGeometry(t)},interfaces_:function(){return[]},getClass:function(){return eo}}),eo.combine=function(){if(1===arguments.length){var t=arguments[0],e=new eo(t);return e.combine()}if(2===arguments.length){var n=arguments[0],r=arguments[1],e=new eo(eo.createList(n,r));return e.combine()}if(3===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2],e=new eo(eo.createList(i,o,a));return e.combine()}},eo.extractFactory=function(t){return t.isEmpty()?null:t.iterator().next().getFactory()},eo.createList=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new b;return n.add(t),n.add(e),n}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2],n=new b;return n.add(r),n.add(i),n.add(o),n}},ia(no.prototype,{union:function(){for(var t=new Me,e=new it,n=0;n<this.pointGeom.getNumGeometries();n++){var r=this.pointGeom.getGeometryN(n),i=r.getCoordinate();t.locate(i,this.otherGeom)===M.EXTERIOR&&e.add(i)}if(0===e.size())return this.otherGeom;var o=null,a=G.toCoordinateArray(e);return o=1===a.length?this.geomFact.createPoint(a[0]):this.geomFact.createMultiPointFromCoords(a),eo.combine(o,this.otherGeom)},interfaces_:function(){return[]},getClass:function(){return no}}),no.union=function(t,e){return new no(t,e).union()},ia(ro.prototype,{filter:function(t){-1!==this.sortIndex&&t.getSortIndex()!==this.sortIndex||this.comps.add(t)},interfaces_:function(){return[st]},getClass:function(){return ro}}),ro.extract=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return ro.extract(t,e,new b)}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];return n.getSortIndex()===r?i.add(n):n instanceof lt&&n.apply(new ro(r,i)),i}},ia(io.prototype,{reduceToGeometries:function(t){for(var e=new b,n=t.iterator();n.hasNext();){var r=n.next(),i=null;sa(r,g)?i=this.unionTree(r):r instanceof D&&(i=r),e.add(i)}return e},extractByEnvelope:function(t,e,n){for(var r=new b,i=0;i<e.getNumGeometries();i++){var o=e.getGeometryN(i);o.getEnvelopeInternal().intersects(t)?r.add(o):n.add(o)}return this.geomFactory.buildGeometry(r)},unionOptimized:function(t,e){var n=t.getEnvelopeInternal(),r=e.getEnvelopeInternal();if(!n.intersects(r))return eo.combine(t,e);if(t.getNumGeometries()<=1&&e.getNumGeometries()<=1)return this.unionActual(t,e);var i=n.intersection(r);return this.unionUsingEnvelopeIntersection(t,e,i)},union:function(){if(null===this.inputPolys)throw new IllegalStateException("union() method cannot be called twice");if(this.inputPolys.isEmpty())return null;this.geomFactory=this.inputPolys.iterator().next().getFactory();for(var t=new je(io.STRTREE_NODE_CAPACITY),e=this.inputPolys.iterator();e.hasNext();){var n=e.next();t.insert(n.getEnvelopeInternal(),n)}this.inputPolys=null;var r=t.itemsTree();return this.unionTree(r)},binaryUnion:function(){if(1===arguments.length){var t=arguments[0];return this.binaryUnion(t,0,t.size())}if(3===arguments.length){var e=arguments[0],n=arguments[1],r=arguments[2];if(r-n<=1){var i=io.getGeometry(e,n);return this.unionSafe(i,null)}if(r-n==2)return this.unionSafe(io.getGeometry(e,n),io.getGeometry(e,n+1));var o=Math.trunc((r+n)/2),i=this.binaryUnion(e,n,o),a=this.binaryUnion(e,o,r);return this.unionSafe(i,a)}},repeatedUnion:function(t){for(var e=null,n=t.iterator();n.hasNext();){var r=n.next();e=null===e?r.copy():e.union(r)}return e},unionSafe:function(t,e){return null===t&&null===e?null:null===t?e.copy():null===e?t.copy():this.unionOptimized(t,e)},unionActual:function(t,e){return io.restrictToPolygons(t.union(e))},unionTree:function(t){var e=this.reduceToGeometries(t);return this.binaryUnion(e)},unionUsingEnvelopeIntersection:function(t,e,n){var r=new b,i=this.extractByEnvelope(n,t,r),o=this.extractByEnvelope(n,e,r),a=this.unionActual(i,o);return r.add(a),eo.combine(r)},bufferUnion:function(){if(1===arguments.length){var t=arguments[0],e=t.get(0).getFactory(),n=e.buildGeometry(t),r=n.buffer(0);return r}if(2===arguments.length){var i=arguments[0],o=arguments[1],e=i.getFactory(),n=e.createGeometryCollection([i,o]),r=n.buffer(0);return r}},interfaces_:function(){return[]},getClass:function(){return io}}),io.restrictToPolygons=function(t){if(sa(t,Mt))return t;var e=hi.getPolygons(t);return 1===e.size()?e.get(0):t.getFactory().createMultiPolygon(Jt.toPolygonArray(e))},io.getGeometry=function(t,e){return e>=t.size()?null:t.get(e)},io.union=function(t){return new io(t).union()},io.STRTREE_NODE_CAPACITY=4,ia(oo.prototype,{unionNoOpt:function(t){var e=this.geomFact.createPoint();return er.overlayOp(t,e,Jn.UNION)},unionWithNull:function(t,e){return null===t&&null===e?null:null===e?t:null===t?e:t.union(e)},extract:function(){if(sa(arguments[0],p))for(var t=arguments[0],e=t.iterator();e.hasNext();){var n=e.next();this.extract(n)}else if(arguments[0]instanceof D){var r=arguments[0];null===this.geomFact&&(this.geomFact=r.getFactory()),ro.extract(r,D.SORTINDEX_POLYGON,this.polygons),ro.extract(r,D.SORTINDEX_LINESTRING,this.lines),ro.extract(r,D.SORTINDEX_POINT,this.points)}},union:function(){if(null===this.geomFact)return null;var t=null;if(this.points.size()>0){var e=this.geomFact.buildGeometry(this.points);t=this.unionNoOpt(e)}var n=null;if(this.lines.size()>0){var r=this.geomFact.buildGeometry(this.lines);n=this.unionNoOpt(r)}var i=null;this.polygons.size()>0&&(i=io.union(this.polygons));var o=this.unionWithNull(n,i),a=null;return a=null===t?o:null===o?t:no.union(t,o),null===a?this.geomFact.createGeometryCollection():a},interfaces_:function(){return[]},getClass:function(){return oo}}),oo.union=function(){if(1===arguments.length){if(sa(arguments[0],p)){var t=arguments[0],e=new oo(t);return e.union()}if(arguments[0]instanceof D){var n=arguments[0],e=new oo(n);return e.union()}}else if(2===arguments.length){var r=arguments[0],i=arguments[1],e=new oo(r,i);return e.union()}};var ja=Object.freeze({UnaryUnionOp:oo}),Ua=Object.freeze({IsValidOp:Bi,ConsistentAreaTester:Fi}),Ba=Object.freeze({BoundaryOp:ht,IsSimpleOp:Gr,buffer:Ra,distance:Na,linemerge:Pa,overlay:ka,polygonize:Da,relate:Fa,union:ja,valid:Ua});oa(ao,Ot.CoordinateOperation),ia(ao.prototype,{editCoordinates:function(t,e){if(0===t.length)return null;for(var n=new Array(t.length).fill(null),r=0;r<t.length;r++){var i=new h(t[r]);this.targetPM.makePrecise(i),n[r]=i}var o=new w(n,!1),a=o.toCoordinateArray(),s=0;e instanceof xt&&(s=2),e instanceof Ct&&(s=4);var u=n;return this.removeCollapsed&&(u=null),a.length<s?u:a},interfaces_:function(){return[]},getClass:function(){return ao}}),ia(so.prototype,{fixPolygonalTopology:function(t){var e=t;this.changePrecisionModel||(e=this.changePM(t,this.targetPM));var n=e.buffer(0),r=n;return this.changePrecisionModel||(r=this.changePM(n,t.getPrecisionModel())),r},reducePointwise:function(t){var e=null;e=this.changePrecisionModel?new Ot(this.createFactory(t.getFactory(),this.targetPM)):new Ot;var n=this.removeCollapsed;return t.getDimension()>=2&&(n=!0),e.edit(t,new ao(this.targetPM,n))},changePM:function(t,e){return this.createEditor(t.getFactory(),e).edit(t,new Ot.NoOpGeometryOperation)},setRemoveCollapsedComponents:function(t){this.removeCollapsed=t},createFactory:function(t,e){return new Jt(e,t.getSRID(),t.getCoordinateSequenceFactory())},setChangePrecisionModel:function(t){this.changePrecisionModel=t},reduce:function(t){var e=this.reducePointwise(t);return this.isPointwise?e:sa(e,Mt)?e.isValid()?e:this.fixPolygonalTopology(e):e},setPointwise:function(t){this.isPointwise=t},createEditor:function(t,e){return t.getPrecisionModel()===e?new Ot:new Ot(this.createFactory(t,e))},interfaces_:function(){return[]},getClass:function(){return so}}),so.reduce=function(t,e){return new so(e).reduce(t)},so.reducePointwise=function(t,e){var n=new so(e);return n.setPointwise(!0),n.reduce(t)};var za=Object.freeze({GeometryPrecisionReducer:so});ia(uo.prototype,{simplifySection:function(t,e){if(t+1===e)return null;this.seg.p0=this.pts[t],this.seg.p1=this.pts[e];for(var n=-1,r=t,i=t+1;i<e;i++){var o=this.seg.distance(this.pts[i]);o>n&&(n=o,r=i)}if(n<=this.distanceTolerance)for(var i=t+1;i<e;i++)this.usePt[i]=!1;else this.simplifySection(t,r),this.simplifySection(r,e)},setDistanceTolerance:function(t){this.distanceTolerance=t},simplify:function(){this.usePt=new Array(this.pts.length).fill(null);for(var t=0;t<this.pts.length;t++)this.usePt[t]=!0;this.simplifySection(0,this.pts.length-1);for(var e=new w,t=0;t<this.pts.length;t++)this.usePt[t]&&e.add(new h(this.pts[t]));return e.toCoordinateArray()},interfaces_:function(){return[]},getClass:function(){return uo}}),uo.simplify=function(t,e){var n=new uo(t);return n.setDistanceTolerance(e),n.simplify()},ia(lo.prototype,{setEnsureValid:function(t){this.isEnsureValidTopology=t},getResultGeometry:function(){return this.inputGeom.isEmpty()?this.inputGeom.copy():new co(this.isEnsureValidTopology,this.distanceTolerance).transform(this.inputGeom)},setDistanceTolerance:function(t){if(t<0)throw new n("Tolerance must be non-negative");this.distanceTolerance=t},interfaces_:function(){return[]},getClass:function(){return lo}}),lo.simplify=function(t,e){var n=new lo(t);return n.setDistanceTolerance(e),n.getResultGeometry()},oa(co,me),ia(co.prototype,{transformPolygon:function(t,e){if(t.isEmpty())return null;var n=me.prototype.transformPolygon.call(this,t,e);return e instanceof It?n:this.createValidArea(n)},createValidArea:function(t){return this.isEnsureValidTopology?t.buffer(0):t},transformCoordinates:function(t,e){var n=t.toCoordinateArray(),r=null;return r=0===n.length?new Array(0).fill(null):uo.simplify(n,this.distanceTolerance),this.factory.getCoordinateSequenceFactory().create(r)},transformMultiPolygon:function(t,e){var n=me.prototype.transformMultiPolygon.call(this,t,e);return this.createValidArea(n)},transformLinearRing:function(t,e){var n=e instanceof St,r=me.prototype.transformLinearRing.call(this,t,e);return!n||r instanceof Ct?r:null},interfaces_:function(){return[]},getClass:function(){return co}}),lo.DPTransformer=co,oa(ho,se),ia(ho.prototype,{getIndex:function(){return this.index},getParent:function(){return this.parent},interfaces_:function(){return[]},getClass:function(){return ho}}),ia(fo.prototype,{addToResult:function(t){this.resultSegs.add(t)},asLineString:function(){return this.parentLine.getFactory().createLineString(fo.extractCoordinates(this.resultSegs))},getResultSize:function(){var t=this.resultSegs.size();return 0===t?0:t+1},getParent:function(){return this.parentLine},getSegment:function(t){return this.segs[t]},getParentCoordinates:function(){return this.parentLine.getCoordinates()},getMinimumSize:function(){return this.minimumSize},asLinearRing:function(){return this.parentLine.getFactory().createLinearRing(fo.extractCoordinates(this.resultSegs))},getSegments:function(){return this.segs},init:function(){var t=this.parentLine.getCoordinates();this.segs=new Array(t.length-1).fill(null);for(var e=0;e<t.length-1;e++){var n=new ho(t[e],t[e+1],this.parentLine,e);this.segs[e]=n}},getResultCoordinates:function(){return fo.extractCoordinates(this.resultSegs)},interfaces_:function(){return[]},getClass:function(){return fo}}),fo.extractCoordinates=function(t){for(var e=new Array(t.size()+1).fill(null),n=null,r=0;r<t.size();r++)n=t.get(r),e[r]=n.p0;return e[e.length-1]=n.p1,e},ia(po.prototype,{remove:function(t){this.index.remove(new x(t.p0,t.p1),t)},add:function(){if(arguments[0]instanceof fo)for(var t=arguments[0],e=t.getSegments(),n=0;n<e.length;n++){var r=e[n];this.add(r)}else if(arguments[0]instanceof se){var i=arguments[0];this.index.insert(new x(i.p0,i.p1),i)}},query:function(t){var e=new x(t.p0,t.p1),n=new mo(t);return this.index.query(e,n),n.getItems()},interfaces_:function(){return[]},getClass:function(){return po}}),ia(mo.prototype,{visitItem:function(t){var e=t;x.intersects(e.p0,e.p1,this.querySeg.p0,this.querySeg.p1)&&this.items.add(t)},getItems:function(){return this.items},interfaces_:function(){return[Le]},getClass:function(){return mo}}),ia(go.prototype,{flatten:function(t,e){var n=this.linePts[t],r=this.linePts[e],i=new se(n,r);return this.remove(this.line,t,e),this.outputIndex.add(i),i},hasBadIntersection:function(t,e,n){return!!this.hasBadOutputIntersection(n)||!!this.hasBadInputIntersection(t,e,n)},setDistanceTolerance:function(t){this.distanceTolerance=t},simplifySection:function(t,e,n){n+=1;var r=new Array(2).fill(null);if(t+1===e){var i=this.line.getSegment(t);return this.line.addToResult(i),null}var o=!0;this.line.getResultSize()<this.line.getMinimumSize()&&n+1<this.line.getMinimumSize()&&(o=!1);var a=new Array(1).fill(null),s=this.findFurthestPoint(this.linePts,t,e,a);a[0]>this.distanceTolerance&&(o=!1);var u=new se;if(u.p0=this.linePts[t],u.p1=this.linePts[e],r[0]=t,r[1]=e,this.hasBadIntersection(this.line,r,u)&&(o=!1),o){var i=this.flatten(t,e);return this.line.addToResult(i),null}this.simplifySection(t,s,n),this.simplifySection(s,e,n)},hasBadOutputIntersection:function(t){for(var e=this.outputIndex.query(t),n=e.iterator();n.hasNext();){var r=n.next();if(this.hasInteriorIntersection(r,t))return!0}return!1},findFurthestPoint:function(t,e,n,r){var i=new se;i.p0=t[e],i.p1=t[n];for(var o=-1,a=e,s=e+1;s<n;s++){var u=t[s],l=i.distance(u);l>o&&(o=l,a=s)}return r[0]=o,a},simplify:function(t){this.line=t,this.linePts=t.getParentCoordinates(),this.simplifySection(0,this.linePts.length-1,0)},remove:function(t,e,n){for(var r=e;r<n;r++){var i=t.getSegment(r);this.inputIndex.remove(i)}},hasInteriorIntersection:function(t,e){return this.li.computeIntersection(t.p0,t.p1,e.p0,e.p1),this.li.isInteriorIntersection()},hasBadInputIntersection:function(t,e,n){for(var r=this.inputIndex.query(n),i=r.iterator();i.hasNext();){var o=i.next();if(this.hasInteriorIntersection(o,n)){if(go.isInLineSection(t,e,o))continue;return!0}}return!1},interfaces_:function(){return[]},getClass:function(){return go}}),go.isInLineSection=function(t,e,n){if(n.getParent()!==t.getParent())return!1;var r=n.getIndex();return r>=e[0]&&r<e[1]},ia(vo.prototype,{setDistanceTolerance:function(t){this.distanceTolerance=t},simplify:function(t){for(var e=t.iterator();e.hasNext();)this.inputIndex.add(e.next());for(var e=t.iterator();e.hasNext();){var n=new go(this.inputIndex,this.outputIndex);n.setDistanceTolerance(this.distanceTolerance),n.simplify(e.next())}},interfaces_:function(){return[]},getClass:function(){return vo}}),ia(yo.prototype,{getResultGeometry:function(){return this.inputGeom.isEmpty()?this.inputGeom.copy():(this.linestringMap=new Kt,this.inputGeom.apply(new wo(this)),this.lineSimplifier.simplify(this.linestringMap.values()),new bo(this.linestringMap).transform(this.inputGeom))},setDistanceTolerance:function(t){if(t<0)throw new n("Tolerance must be non-negative");this.lineSimplifier.setDistanceTolerance(t)},interfaces_:function(){return[]},getClass:function(){return yo}}),yo.simplify=function(t,e){var n=new yo(t);return n.setDistanceTolerance(e),n.getResultGeometry()},oa(bo,me),ia(bo.prototype,{transformCoordinates:function(t,e){if(0===t.size())return null;if(e instanceof xt){var n=this.linestringMap.get(e);return this.createCoordinateSequence(n.getResultCoordinates())}return me.prototype.transformCoordinates.call(this,t,e)},interfaces_:function(){return[]},getClass:function(){return bo}}),ia(wo.prototype,{filter:function(t){if(t instanceof xt){var e=t;if(e.isEmpty())return null;var n=e.isClosed()?4:2,r=new fo(e,n);this.tps.linestringMap.put(e,r)}},interfaces_:function(){return[k]},getClass:function(){return wo}}),yo.LineStringTransformer=bo,yo.LineStringMapBuilderFilter=wo;var Va=Object.freeze({DouglasPeuckerSimplifier:lo,TopologyPreservingSimplifier:yo});ia(xo.prototype,{splitAt:function(){if(1===arguments.length){var t=arguments[0],e=this.minimumLen/this.segLen;if(t.distance(this.seg.p0)<this.minimumLen)return this.splitPt=this.seg.pointAlong(e),null;if(t.distance(this.seg.p1)<this.minimumLen)return this.splitPt=xo.pointAlongReverse(this.seg,e),null;this.splitPt=t}else if(2===arguments.length){var n=arguments[0],r=arguments[1],i=this.getConstrainedLength(n),o=i/this.segLen;r.equals2D(this.seg.p0)?this.splitPt=this.seg.pointAlong(o):this.splitPt=xo.pointAlongReverse(this.seg,o)}},setMinimumLength:function(t){this.minimumLen=t},getConstrainedLength:function(t){return t<this.minimumLen?this.minimumLen:t},getSplitPoint:function(){return this.splitPt},interfaces_:function(){return[]},getClass:function(){return xo}}),xo.pointAlongReverse=function(t,e){var n=new h;return n.x=t.p1.x-e*(t.p1.x-t.p0.x),n.y=t.p1.y-e*(t.p1.y-t.p0.y),n},ia(_o.prototype,{findSplitPoint:function(t,e){},interfaces_:function(){return[]},getClass:function(){return _o}}),ia(Eo.prototype,{findSplitPoint:function(t,e){var n=t.getLineSegment(),r=n.getLength(),i=r/2,o=new xo(n),a=Eo.projectedSplitPoint(t,e),s=2*a.distance(e)*.8,u=s;return u>i&&(u=i),o.setMinimumLength(u),o.splitAt(a),o.getSplitPoint()},interfaces_:function(){return[_o]},getClass:function(){return Eo}}),Eo.projectedSplitPoint=function(t,e){return t.getLineSegment().project(e)},ia(Mo.prototype,{interfaces_:function(){return[]},getClass:function(){return Mo}}),Mo.triArea=function(t,e,n){return(e.x-t.x)*(n.y-t.y)-(e.y-t.y)*(n.x-t.x)},Mo.isInCircleDDNormalized=function(t,e,n,r){var i=O.valueOf(t.x).selfSubtract(r.x),o=O.valueOf(t.y).selfSubtract(r.y),a=O.valueOf(e.x).selfSubtract(r.x),s=O.valueOf(e.y).selfSubtract(r.y),u=O.valueOf(n.x).selfSubtract(r.x),l=O.valueOf(n.y).selfSubtract(r.y),c=i.multiply(s).selfSubtract(a.multiply(o)),h=a.multiply(l).selfSubtract(u.multiply(s)),f=u.multiply(o).selfSubtract(i.multiply(l)),d=i.multiply(i).selfAdd(o.multiply(o)),p=a.multiply(a).selfAdd(s.multiply(s)),m=u.multiply(u).selfAdd(l.multiply(l));return d.selfMultiply(h).selfAdd(p.selfMultiply(f)).selfAdd(m.selfMultiply(c)).doubleValue()>0},Mo.checkRobustInCircle=function(t,e,n,r){var i=Mo.isInCircleNonRobust(t,e,n,r),o=Mo.isInCircleDDSlow(t,e,n,r),a=Mo.isInCircleCC(t,e,n,r),s=wr.circumcentre(t,e,n);R.out.println("p radius diff a = "+Math.abs(r.distance(s)-t.distance(s))/t.distance(s)),i===o&&i===a||(R.out.println("inCircle robustness failure (double result = "+i+", DD result = "+o+", CC result = "+a+")"),R.out.println(ee.toLineString(new Pt([t,e,n,r]))),R.out.println("Circumcentre = "+ee.toPoint(s)+" radius = "+t.distance(s)),R.out.println("p radius diff a = "+Math.abs(r.distance(s)/t.distance(s)-1)),R.out.println("p radius diff b = "+Math.abs(r.distance(s)/e.distance(s)-1)),R.out.println("p radius diff c = "+Math.abs(r.distance(s)/n.distance(s)-1)),R.out.println())},Mo.isInCircleDDFast=function(t,e,n,r){var i=O.sqr(t.x).selfAdd(O.sqr(t.y)).selfMultiply(Mo.triAreaDDFast(e,n,r)),o=O.sqr(e.x).selfAdd(O.sqr(e.y)).selfMultiply(Mo.triAreaDDFast(t,n,r)),a=O.sqr(n.x).selfAdd(O.sqr(n.y)).selfMultiply(Mo.triAreaDDFast(t,e,r)),s=O.sqr(r.x).selfAdd(O.sqr(r.y)).selfMultiply(Mo.triAreaDDFast(t,e,n));return i.selfSubtract(o).selfAdd(a).selfSubtract(s).doubleValue()>0},Mo.isInCircleCC=function(t,e,n,r){var i=wr.circumcentre(t,e,n),o=t.distance(i);return r.distance(i)-o<=0},Mo.isInCircleNormalized=function(t,e,n,r){var i=t.x-r.x,o=t.y-r.y,a=e.x-r.x,s=e.y-r.y,u=n.x-r.x,l=n.y-r.y;return(i*i+o*o)*(a*l-u*s)+(a*a+s*s)*(u*o-i*l)+(u*u+l*l)*(i*s-a*o)>0},Mo.isInCircleDDSlow=function(t,e,n,r){var i=O.valueOf(r.x),o=O.valueOf(r.y),a=O.valueOf(t.x),s=O.valueOf(t.y),u=O.valueOf(e.x),l=O.valueOf(e.y),c=O.valueOf(n.x),h=O.valueOf(n.y),f=a.multiply(a).add(s.multiply(s)).multiply(Mo.triAreaDDSlow(u,l,c,h,i,o)),d=u.multiply(u).add(l.multiply(l)).multiply(Mo.triAreaDDSlow(a,s,c,h,i,o)),p=c.multiply(c).add(h.multiply(h)).multiply(Mo.triAreaDDSlow(a,s,u,l,i,o)),m=i.multiply(i).add(o.multiply(o)).multiply(Mo.triAreaDDSlow(a,s,u,l,c,h));return f.subtract(d).add(p).subtract(m).doubleValue()>0},Mo.isInCircleNonRobust=function(t,e,n,r){return(t.x*t.x+t.y*t.y)*Mo.triArea(e,n,r)-(e.x*e.x+e.y*e.y)*Mo.triArea(t,n,r)+(n.x*n.x+n.y*n.y)*Mo.triArea(t,e,r)-(r.x*r.x+r.y*r.y)*Mo.triArea(t,e,n)>0},Mo.isInCircleRobust=function(t,e,n,r){return Mo.isInCircleNormalized(t,e,n,r)},Mo.triAreaDDSlow=function(t,e,n,r,i,o){return n.subtract(t).multiply(o.subtract(e)).subtract(r.subtract(e).multiply(i.subtract(t)))},Mo.triAreaDDFast=function(t,e,n){var r=O.valueOf(e.x).selfSubtract(t.x).selfMultiply(O.valueOf(n.y).selfSubtract(t.y)),i=O.valueOf(e.y).selfSubtract(t.y).selfMultiply(O.valueOf(n.x).selfSubtract(t.x));return r.selfSubtract(i)},ia(So.prototype,{circleCenter:function(t,e){var n=new So(this.getX(),this.getY()),r=this.bisector(n,t),i=this.bisector(t,e),o=new N(r,i),a=null;try{a=new So(o.getX(),o.getY())}catch(r){if(!(r instanceof E))throw r;R.err.println("a: "+n+"  b: "+t+"  c: "+e),R.err.println(r)}return a},dot:function(t){return this.p.x*t.getX()+this.p.y*t.getY()},magn:function(){return Math.sqrt(this.p.x*this.p.x+this.p.y*this.p.y)},getZ:function(){return this.p.z},bisector:function(t,e){var n=e.getX()-t.getX(),r=e.getY()-t.getY();return new N(new N(t.getX()+n/2,t.getY()+r/2,1),new N(t.getX()-r+n/2,t.getY()+n+r/2,1))},equals:function(){if(1===arguments.length){var t=arguments[0];return this.p.x===t.getX()&&this.p.y===t.getY()}if(2===arguments.length){var e=arguments[0],n=arguments[1];return this.p.distance(e.getCoordinate())<n}},getCoordinate:function(){return this.p},isInCircle:function(t,e,n){return Mo.isInCircleRobust(t.p,e.p,n.p,this.p)},interpolateZValue:function(t,e,n){var r=t.getX(),i=t.getY(),o=e.getX()-r,a=n.getX()-r,s=e.getY()-i,u=n.getY()-i,l=o*u-a*s,c=this.getX()-r,h=this.getY()-i,f=(u*c-a*h)/l,d=(-s*c+o*h)/l;return t.getZ()+f*(e.getZ()-t.getZ())+d*(n.getZ()-t.getZ())},midPoint:function(t){return new So((this.p.x+t.getX())/2,(this.p.y+t.getY())/2,(this.p.z+t.getZ())/2)},rightOf:function(t){return this.isCCW(t.dest(),t.orig())},isCCW:function(t,e){return(t.p.x-this.p.x)*(e.p.y-this.p.y)-(t.p.y-this.p.y)*(e.p.x-this.p.x)>0},getX:function(){return this.p.x},crossProduct:function(t){return this.p.x*t.getY()-this.p.y*t.getX()},setZ:function(t){this.p.z=t},times:function(t){return new So(t*this.p.x,t*this.p.y)},cross:function(){return new So(this.p.y,-this.p.x)},leftOf:function(t){return this.isCCW(t.orig(),t.dest())},toString:function(){return"POINT ("+this.p.x+" "+this.p.y+")"},sub:function(t){return new So(this.p.x-t.getX(),this.p.y-t.getY())},getY:function(){return this.p.y},classify:function(t,e){var n=this,r=e.sub(t),i=n.sub(t),o=r.crossProduct(i);return o>0?So.LEFT:o<0?So.RIGHT:r.getX()*i.getX()<0||r.getY()*i.getY()<0?So.BEHIND:r.magn()<i.magn()?So.BEYOND:t.equals(n)?So.ORIGIN:e.equals(n)?So.DESTINATION:So.BETWEEN},sum:function(t){return new So(this.p.x+t.getX(),this.p.y+t.getY())},distance:function(t,e){return Math.sqrt(Math.pow(e.getX()-t.getX(),2)+Math.pow(e.getY()-t.getY(),2))},circumRadiusRatio:function(t,e){var n=this.circleCenter(t,e),r=this.distance(n,t),i=this.distance(this,t),o=this.distance(t,e);return o<i&&(i=o),o=this.distance(e,this),o<i&&(i=o),r/i},interfaces_:function(){return[]},getClass:function(){return So}}),So.interpolateZ=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],r=e.distance(n),i=t.distance(e),o=n.z-e.z;return e.z+o*(i/r)}if(4===arguments.length){var a=arguments[0],s=arguments[1],u=arguments[2],l=arguments[3],c=s.x,h=s.y,f=u.x-c,d=l.x-c,p=u.y-h,m=l.y-h,g=f*m-d*p,v=a.x-c,y=a.y-h,b=(m*v-d*y)/g,w=(-p*v+f*y)/g;return s.z+b*(u.z-s.z)+w*(l.z-s.z)}},So.LEFT=0,So.RIGHT=1,So.BEYOND=2,So.BEHIND=3,So.BETWEEN=4,So.ORIGIN=5,So.DESTINATION=6,oa(To,So),ia(To.prototype,{getConstraint:function(){return this.constraint},setOnConstraint:function(t){this._isOnConstraint=t},merge:function(t){t._isOnConstraint&&(this._isOnConstraint=!0,this.constraint=t.constraint)},isOnConstraint:function(){return this._isOnConstraint},setConstraint:function(t){this._isOnConstraint=!0,this.constraint=t},interfaces_:function(){return[]},getClass:function(){return To}}),ia(Co.prototype,{equalsNonOriented:function(t){return!!this.equalsOriented(t)||!!this.equalsOriented(t.sym())},toLineSegment:function(){return new se(this.vertex.getCoordinate(),this.dest().getCoordinate())},dest:function(){return this.sym().orig()},oNext:function(){return this.next},equalsOriented:function(t){return!(!this.orig().getCoordinate().equals2D(t.orig().getCoordinate())||!this.dest().getCoordinate().equals2D(t.dest().getCoordinate()))},dNext:function(){return this.sym().oNext().sym()},lPrev:function(){return this.next.sym()},rPrev:function(){return this.sym().oNext()},rot:function(){return this._rot},oPrev:function(){return this._rot.next._rot},sym:function(){return this._rot._rot},setOrig:function(t){this.vertex=t},lNext:function(){return this.invRot().oNext().rot()},getLength:function(){return this.orig().getCoordinate().distance(this.dest().getCoordinate())},invRot:function(){return this._rot.sym()},setDest:function(t){this.sym().setOrig(t)},setData:function(t){this.data=t},getData:function(){return this.data},delete:function(){this._rot=null},orig:function(){return this.vertex},rNext:function(){return this._rot.next.invRot()},toString:function(){var t=this.vertex.getCoordinate(),e=this.dest().getCoordinate();return ee.toLineString(t,e)},isLive:function(){return null!==this._rot},getPrimary:function(){return this.orig().getCoordinate().compareTo(this.dest().getCoordinate())<=0?this:this.sym()},dPrev:function(){return this.invRot().oNext().invRot()},setNext:function(t){this.next=t},interfaces_:function(){return[]},getClass:function(){return Co}}),Co.makeEdge=function(t,e){var n=new Co,r=new Co,i=new Co,o=new Co;n._rot=r,r._rot=i,i._rot=o,o._rot=n,n.setNext(n),r.setNext(o),i.setNext(i),o.setNext(r);var a=n;return a.setOrig(t),a.setDest(e),a},Co.swap=function(t){var e=t.oPrev(),n=t.sym().oPrev();Co.splice(t,e),Co.splice(t.sym(),n),Co.splice(t,e.lNext()),Co.splice(t.sym(),n.lNext()),t.setOrig(e.dest()),t.setDest(n.dest())},Co.splice=function(t,e){var n=t.oNext().rot(),r=e.oNext().rot(),i=e.oNext(),o=t.oNext(),a=r.oNext(),s=n.oNext();t.setNext(i),e.setNext(o),n.setNext(a),r.setNext(s)},Co.connect=function(t,e){var n=Co.makeEdge(t.dest(),e.orig());return Co.splice(n,t.lNext()),Co.splice(n.sym(),e),n},ia(Io.prototype,{insertSite:function(t){var e=this.subdiv.locate(t);if(this.subdiv.isVertexOfEdge(e,t))return e;this.subdiv.isOnEdge(e,t.getCoordinate())&&(e=e.oPrev(),this.subdiv.delete(e.oNext()));var n=this.subdiv.makeEdge(e.orig(),t);Co.splice(n,e);var r=n;do{n=this.subdiv.connect(e,n.sym()),e=n.oPrev()}while(e.lNext()!==r);for(;;){var i=e.oPrev();if(i.dest().rightOf(e)&&t.isInCircle(e.orig(),i.dest(),e.dest()))Co.swap(e),e=e.oPrev();else{if(e.oNext()===r)return n;e=e.oNext().lPrev()}}},insertSites:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.insertSite(n)}},interfaces_:function(){return[]},getClass:function(){return Io}}),ia(Oo.prototype,{locate:function(t){},interfaces_:function(){return[]},getClass:function(){return Oo}}),ia(Ao.prototype,{init:function(){this.lastEdge=this.findEdge()},locate:function(t){this.lastEdge.isLive()||this.init();var e=this.subdiv.locateFromEdge(t,this.lastEdge);return this.lastEdge=e,e},findEdge:function(){return this.subdiv.getEdges().iterator().next()},interfaces_:function(){return[Oo]},getClass:function(){return Ao}}),oa(Lo,u),ia(Lo.prototype,{getSegment:function(){return this.seg},interfaces_:function(){return[]},getClass:function(){return Lo}}),Lo.msgWithSpatial=function(t,e){return null!==e?t+" [ "+e+" ]":t},ia(Ro.prototype,{visit:function(t){},interfaces_:function(){return[]},getClass:function(){return Ro}}),ia(No.prototype,{getTriangleVertices:function(t){var e=new Do;return this.visitTriangles(e,t),e.getTriangleVertices()},isFrameVertex:function(t){return!!t.equals(this.frameVertex[0])||!!t.equals(this.frameVertex[1])||!!t.equals(this.frameVertex[2])},isVertexOfEdge:function(t,e){return!(!e.equals(t.orig(),this.tolerance)&&!e.equals(t.dest(),this.tolerance))},connect:function(t,e){var n=Co.connect(t,e);return this.quadEdges.add(n),n},getVoronoiCellPolygon:function(t,e){var n=new b,r=t;do{var i=t.rot().orig().getCoordinate();n.add(i),t=t.oPrev()}while(t!==r);var o=new w;o.addAll(n,!1),o.closeRing(),o.size()<4&&(R.out.println(o),o.add(o.get(o.size()-1),!0));var a=o.toCoordinateArray(),s=e.createPolygon(e.createLinearRing(a),null),u=r.orig();return s.setUserData(u.getCoordinate()),s},setLocator:function(t){this.locator=t},initSubdiv:function(){var t=this.makeEdge(this.frameVertex[0],this.frameVertex[1]),e=this.makeEdge(this.frameVertex[1],this.frameVertex[2]);Co.splice(t.sym(),e);var n=this.makeEdge(this.frameVertex[2],this.frameVertex[0]);return Co.splice(e.sym(),n),Co.splice(n.sym(),t),t},isFrameBorderEdge:function(t){var e=new Array(3).fill(null);No.getTriangleEdges(t,e);var n=new Array(3).fill(null);No.getTriangleEdges(t.sym(),n);var r=t.lNext().dest();if(this.isFrameVertex(r))return!0;var i=t.sym().lNext().dest();return!!this.isFrameVertex(i)},makeEdge:function(t,e){var n=Co.makeEdge(t,e);return this.quadEdges.add(n),n},visitTriangles:function(t,e){this.visitedKey++;var n=new he;n.push(this.startingEdge);for(var r=new Z;!n.empty();){var i=n.pop();if(!r.contains(i)){var o=this.fetchTriangleToVisit(i,n,e,r);null!==o&&t.visit(o)}}},isFrameEdge:function(t){return!(!this.isFrameVertex(t.orig())&&!this.isFrameVertex(t.dest()))},isOnEdge:function(t,e){return this.seg.setCoordinates(t.orig().getCoordinate(),t.dest().getCoordinate()),this.seg.distance(e)<this.edgeCoincidenceTolerance},getEnvelope:function(){return new x(this.frameEnv)},createFrame:function(t){var e=t.getWidth(),n=t.getHeight(),r=0;r=e>n?10*e:10*n,this.frameVertex[0]=new So((t.getMaxX()+t.getMinX())/2,t.getMaxY()+r),this.frameVertex[1]=new So(t.getMinX()-r,t.getMinY()-r),this.frameVertex[2]=new So(t.getMaxX()+r,t.getMinY()-r),this.frameEnv=new x(this.frameVertex[0].getCoordinate(),this.frameVertex[1].getCoordinate()),this.frameEnv.expandToInclude(this.frameVertex[2].getCoordinate())},getTriangleCoordinates:function(t){var e=new Fo;return this.visitTriangles(e,t),e.getTriangles()},getVertices:function(t){for(var e=new Z,n=this.quadEdges.iterator();n.hasNext();){var r=n.next(),i=r.orig();!t&&this.isFrameVertex(i)||e.add(i);var o=r.dest();!t&&this.isFrameVertex(o)||e.add(o)}return e},fetchTriangleToVisit:function(t,e,n,r){var i=t,o=0,a=!1;do{this.triEdges[o]=i,this.isFrameEdge(i)&&(a=!0);var s=i.sym();r.contains(s)||e.push(s),r.add(i),o++,i=i.lNext()}while(i!==t);return a&&!n?null:this.triEdges},getEdges:function(){if(0===arguments.length)return this.quadEdges;if(1===arguments.length){for(var t=arguments[0],e=this.getPrimaryEdges(!1),n=new Array(e.size()).fill(null),r=0,i=e.iterator();i.hasNext();){var o=i.next();n[r++]=t.createLineString([o.orig().getCoordinate(),o.dest().getCoordinate()])}return t.createMultiLineString(n)}},getVertexUniqueEdges:function(t){for(var e=new b,n=new Z,r=this.quadEdges.iterator();r.hasNext();){var i=r.next(),o=i.orig();n.contains(o)||(n.add(o),!t&&this.isFrameVertex(o)||e.add(i));var a=i.sym(),s=a.orig();n.contains(s)||(n.add(s),!t&&this.isFrameVertex(s)||e.add(a))}return e},getTriangleEdges:function(t){var e=new ko;return this.visitTriangles(e,t),e.getTriangleEdges()},getPrimaryEdges:function(t){this.visitedKey++;var e=new b,n=new he;n.push(this.startingEdge);for(var r=new Z;!n.empty();){var i=n.pop();if(!r.contains(i)){var o=i.getPrimary();!t&&this.isFrameEdge(o)||e.add(o),n.push(i.oNext()),n.push(i.sym().oNext()),r.add(i),r.add(i.sym())}}return e},delete:function(t){Co.splice(t,t.oPrev()),Co.splice(t.sym(),t.sym().oPrev());var e=t.sym(),n=t.rot(),r=t.rot().sym();this.quadEdges.remove(t),this.quadEdges.remove(e),this.quadEdges.remove(n),this.quadEdges.remove(r),t.delete(),e.delete(),n.delete(),r.delete()},locateFromEdge:function(t,e){for(var n=0,r=this.quadEdges.size(),i=e;;){if(++n>r)throw new Lo(i.toLineSegment());if(t.equals(i.orig())||t.equals(i.dest()))break;if(t.rightOf(i))i=i.sym();else if(t.rightOf(i.oNext())){if(t.rightOf(i.dPrev()))break;i=i.dPrev()}else i=i.oNext()}return i},getTolerance:function(){return this.tolerance},getVoronoiCellPolygons:function(t){this.visitTriangles(new Po,!0);for(var e=new b,n=this.getVertexUniqueEdges(!1),r=n.iterator();r.hasNext();){var i=r.next();e.add(this.getVoronoiCellPolygon(i,t))}return e},getVoronoiDiagram:function(t){var e=this.getVoronoiCellPolygons(t);return t.createGeometryCollection(Jt.toGeometryArray(e))},getTriangles:function(t){for(var e=this.getTriangleCoordinates(!1),n=new Array(e.size()).fill(null),r=0,i=e.iterator();i.hasNext();){var o=i.next();n[r++]=t.createPolygon(t.createLinearRing(o),null)}return t.createGeometryCollection(n)},insertSite:function(t){var e=this.locate(t);if(t.equals(e.orig(),this.tolerance)||t.equals(e.dest(),this.tolerance))return e;var n=this.makeEdge(e.orig(),t);Co.splice(n,e);var r=n;do{n=this.connect(e,n.sym()),e=n.oPrev()}while(e.lNext()!==r);return r},locate:function(){if(1===arguments.length){if(arguments[0]instanceof So){var t=arguments[0];return this.locator.locate(t)}if(arguments[0]instanceof h){var e=arguments[0];return this.locator.locate(new So(e))}}else if(2===arguments.length){var n=arguments[0],r=arguments[1],i=this.locator.locate(new So(n));if(null===i)return null;var o=i;i.dest().getCoordinate().equals2D(n)&&(o=i.sym());var a=o;do{if(a.dest().getCoordinate().equals2D(r))return a;a=a.oNext()}while(a!==o);return null}},interfaces_:function(){return[]},getClass:function(){return No}}),No.getTriangleEdges=function(t,e){if(e[0]=t,e[1]=e[0].lNext(),e[2]=e[1].lNext(),e[2].lNext()!==e[0])throw new n("Edges do not form a triangle")},ia(Po.prototype,{visit:function(t){for(var e=t[0].orig().getCoordinate(),n=t[1].orig().getCoordinate(),r=t[2].orig().getCoordinate(),i=wr.circumcentre(e,n,r),o=new So(i),a=0;a<3;a++)t[a].rot().setOrig(o)},interfaces_:function(){return[Ro]},getClass:function(){return Po}}),ia(ko.prototype,{getTriangleEdges:function(){return this.triList},visit:function(t){this.triList.add(t.clone())},interfaces_:function(){return[Ro]},getClass:function(){return ko}}),ia(Do.prototype,{visit:function(t){this.triList.add([t[0].orig(),t[1].orig(),t[2].orig()])},getTriangleVertices:function(){return this.triList},interfaces_:function(){return[Ro]},getClass:function(){return Do}}),ia(Fo.prototype,{checkTriangleSize:function(t){t.length>=2?ee.toLineString(t[0],t[1]):t.length>=1&&ee.toPoint(t[0])},visit:function(t){this.coordList.clear();for(var e=0;e<3;e++){var n=t[e].orig();this.coordList.add(n.getCoordinate())}if(this.coordList.size()>0){this.coordList.closeRing();var r=this.coordList.toCoordinateArray();if(4!==r.length)return null;this.triCoords.add(r)}},getTriangles:function(){return this.triCoords},interfaces_:function(){return[Ro]},getClass:function(){return Fo}}),No.TriangleCircumcentreVisitor=Po,No.TriangleEdgesListVisitor=ko,No.TriangleVertexListVisitor=Do,No.TriangleCoordinatesVisitor=Fo,No.EDGE_COINCIDENCE_TOL_FACTOR=1e3,ia(jo.prototype,{getLineSegment:function(){return this.ls},getEndZ:function(){return this.ls.getCoordinate(1).z},getStartZ:function(){return this.ls.getCoordinate(0).z},intersection:function(t){return this.ls.intersection(t.getLineSegment())},getStart:function(){return this.ls.getCoordinate(0)},getEnd:function(){return this.ls.getCoordinate(1)},getEndY:function(){return this.ls.getCoordinate(1).y},getStartX:function(){return this.ls.getCoordinate(0).x},equalsTopo:function(t){return this.ls.equalsTopo(t.getLineSegment())},getStartY:function(){return this.ls.getCoordinate(0).y},setData:function(t){this.data=t},getData:function(){return this.data},getEndX:function(){return this.ls.getCoordinate(1).x},toString:function(){return this.ls.toString()},interfaces_:function(){return[]},getClass:function(){return jo}}),ia(Uo.prototype,{visit:function(t){},interfaces_:function(){return[]},getClass:function(){return Uo}}),ia(Bo.prototype,{isRepeated:function(){return this.count>1},getRight:function(){return this.right},getCoordinate:function(){return this.p},setLeft:function(t){this.left=t},getX:function(){return this.p.x},getData:function(){return this.data},getCount:function(){return this.count},getLeft:function(){return this.left},getY:function(){return this.p.y},increment:function(){this.count=this.count+1},setRight:function(t){this.right=t},interfaces_:function(){return[]},getClass:function(){return Bo}}),ia(zo.prototype,{insert:function(){if(1===arguments.length){var t=arguments[0];return this.insert(t,null)}if(2===arguments.length){var e=arguments[0],n=arguments[1];if(null===this.root)return this.root=new Bo(e,n),this.root;if(this.tolerance>0){var r=this.findBestMatchNode(e);if(null!==r)return r.increment(),r}return this.insertExact(e,n)}},query:function(){if(1===arguments.length){var t=arguments[0],e=new b;return this.query(t,e),e}if(2===arguments.length)if(arguments[0]instanceof x&&sa(arguments[1],g)){var n=arguments[0],r=arguments[1];this.queryNode(this.root,n,!0,{interfaces_:function(){return[Uo]},visit:function(t){r.add(t)}})}else if(arguments[0]instanceof x&&sa(arguments[1],Uo)){var i=arguments[0],o=arguments[1];this.queryNode(this.root,i,!0,o)}},queryNode:function(t,e,n,r){if(null===t)return null;var i=null,o=null,a=null;n?(i=e.getMinX(),o=e.getMaxX(),a=t.getX()):(i=e.getMinY(),o=e.getMaxY(),a=t.getY());var s=i<a,u=a<=o;s&&this.queryNode(t.getLeft(),e,!n,r),e.contains(t.getCoordinate())&&r.visit(t),u&&this.queryNode(t.getRight(),e,!n,r)},findBestMatchNode:function(t){var e=new Vo(t,this.tolerance);return this.query(e.queryEnvelope(),e),e.getNode()},isEmpty:function(){return null===this.root},insertExact:function(t,e){for(var n=this.root,r=this.root,i=!0,o=!0;null!==n;){if(null!==n&&t.distance(n.getCoordinate())<=this.tolerance)return n.increment(),n;o=i?t.x<n.getX():t.y<n.getY(),r=n,n=o?n.getLeft():n.getRight(),i=!i}this.numberOfNodes=this.numberOfNodes+1;var a=new Bo(t,e);return o?r.setLeft(a):r.setRight(a),a},interfaces_:function(){return[]},getClass:function(){return zo}}),zo.toCoordinates=function(){if(1===arguments.length){var t=arguments[0];return zo.toCoordinates(t,!1)}if(2===arguments.length){for(var e=arguments[0],n=arguments[1],r=new w,i=e.iterator();i.hasNext();)for(var o=i.next(),a=n?o.getCount():1,s=0;s<a;s++)r.add(o.getCoordinate(),!0);return r.toCoordinateArray()}},ia(Vo.prototype,{visit:function(t){var e=this.p.distance(t.getCoordinate());if(!(e<=this.tolerance))return null;var n=!1;(null===this.matchNode||e<this.matchDist||null!==this.matchNode&&e===this.matchDist&&t.getCoordinate().compareTo(this.matchNode.getCoordinate())<1)&&(n=!0),n&&(this.matchNode=t,this.matchDist=e)},queryEnvelope:function(){var t=new x(this.p);return t.expandBy(this.tolerance),t},getNode:function(){return this.matchNode},interfaces_:function(){return[Uo]},getClass:function(){return Vo}}),zo.BestMatchVisitor=Vo,ia(Go.prototype,{getInitialVertices:function(){return this.initialVertices},getKDT:function(){return this.kdt},enforceConstraints:function(){this.addConstraintVertices();var t=0,e=0;do{e=this.enforceGabriel(this.segments),t++}while(e>0&&t<Go.MAX_SPLIT_ITER)},insertSites:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.insertSite(n)}},getVertexFactory:function(){return this.vertexFactory},getPointArray:function(){for(var t=new Array(this.initialVertices.size()+this.segVertices.size()).fill(null),e=0,n=this.initialVertices.iterator();n.hasNext();){var r=n.next();t[e++]=r.getCoordinate()}for(var i=this.segVertices.iterator();i.hasNext();){var r=i.next();t[e++]=r.getCoordinate()}return t},setConstraints:function(t,e){this.segments=t,this.segVertices=e},computeConvexHull:function(){var t=new Jt,e=this.getPointArray(),n=new de(e,t);this.convexHull=n.getConvexHull()},addConstraintVertices:function(){this.computeConvexHull(),this.insertSites(this.segVertices)},findNonGabrielPoint:function(t){var e=t.getStart(),n=t.getEnd(),i=new h((e.x+n.x)/2,(e.y+n.y)/2),o=e.distance(i),a=new x(i);a.expandBy(o);for(var s=this.kdt.query(a),u=null,l=r.MAX_VALUE,c=s.iterator();c.hasNext();){var f=c.next(),d=f.getCoordinate();if(!d.equals2D(e)&&!d.equals2D(n)){var p=i.distance(d);if(p<o){var m=p;(null===u||m<l)&&(u=d,l=m)}}}return u},getConstraintSegments:function(){return this.segments},setSplitPointFinder:function(t){this.splitFinder=t},getConvexHull:function(){return this.convexHull},getTolerance:function(){return this.tolerance},enforceGabriel:function(t){for(var e=new b,n=0,r=new b,i=t.iterator();i.hasNext();){var o=i.next(),a=this.findNonGabrielPoint(o);if(null!==a){this.splitPt=this.splitFinder.findSplitPoint(o,a);var s=this.createVertex(this.splitPt,o),u=(this.insertSite(s),new jo(o.getStartX(),o.getStartY(),o.getStartZ(),s.getX(),s.getY(),s.getZ(),o.getData())),l=new jo(s.getX(),s.getY(),s.getZ(),o.getEndX(),o.getEndY(),o.getEndZ(),o.getData());e.add(u),e.add(l),r.add(o),n+=1}}return t.removeAll(r),t.addAll(e),n},createVertex:function(){if(1===arguments.length){var t=arguments[0],e=null;return e=null!==this.vertexFactory?this.vertexFactory.createVertex(t,null):new To(t)}if(2===arguments.length){var n=arguments[0],r=arguments[1],e=null;return e=null!==this.vertexFactory?this.vertexFactory.createVertex(n,r):new To(n),e.setOnConstraint(!0),e}},getSubdivision:function(){return this.subdiv},computeBoundingBox:function(){var t=Go.computeVertexEnvelope(this.initialVertices),e=Go.computeVertexEnvelope(this.segVertices),n=new x(t);n.expandToInclude(e);var r=.2*n.getWidth(),i=.2*n.getHeight(),o=Math.max(r,i);this.computeAreaEnv=new x(n),this.computeAreaEnv.expandBy(o)},setVertexFactory:function(t){this.vertexFactory=t},formInitialDelaunay:function(){this.computeBoundingBox(),this.subdiv=new No(this.computeAreaEnv,this.tolerance),this.subdiv.setLocator(new Ao(this.subdiv)),this.incDel=new Io(this.subdiv),this.insertSites(this.initialVertices)},insertSite:function(){if(arguments[0]instanceof To){var t=arguments[0],e=this.kdt.insert(t.getCoordinate(),t);if(e.isRepeated()){var n=e.getData();return n.merge(t),n}return this.incDel.insertSite(t),t}if(arguments[0]instanceof h){var r=arguments[0];this.insertSite(this.createVertex(r))}},interfaces_:function(){return[]},getClass:function(){return Go}}),Go.computeVertexEnvelope=function(t){for(var e=new x,n=t.iterator();n.hasNext();){var r=n.next();e.expandToInclude(r.getCoordinate())}return e},Go.MAX_SPLIT_ITER=99,ia(Ho.prototype,{create:function(){if(null!==this.subdiv)return null;var t=Ho.envelope(this.siteCoords),e=Ho.toVertices(this.siteCoords);this.subdiv=new No(t,this.tolerance),new Io(this.subdiv).insertSites(e)},setTolerance:function(t){this.tolerance=t},setSites:function(){if(arguments[0]instanceof D){var t=arguments[0];this.siteCoords=Ho.extractUniqueCoordinates(t)}else if(sa(arguments[0],p)){var e=arguments[0];this.siteCoords=Ho.unique(G.toCoordinateArray(e))}},getEdges:function(t){return this.create(),this.subdiv.getEdges(t)},getSubdivision:function(){return this.create(),this.subdiv},getTriangles:function(t){return this.create(),this.subdiv.getTriangles(t)},interfaces_:function(){return[]},getClass:function(){return Ho}}),Ho.extractUniqueCoordinates=function(t){if(null===t)return new w;var e=t.getCoordinates();return Ho.unique(e)},Ho.envelope=function(t){for(var e=new x,n=t.iterator();n.hasNext();){var r=n.next();e.expandToInclude(r)}return e},Ho.unique=function(t){var e=G.copyDeep(t);return ot.sort(e),new w(e,!1)},Ho.toVertices=function(t){for(var e=new b,n=t.iterator();n.hasNext();){var r=n.next();e.add(new So(r))}return e},ia(qo.prototype,{createSiteVertices:function(t){for(var e=new b,n=t.iterator();n.hasNext();){var r=n.next();this.constraintVertexMap.containsKey(r)||e.add(new To(r))}return e},create:function(){if(null!==this.subdiv)return null;var t=Ho.envelope(this.siteCoords),e=new b;null!==this.constraintLines&&(t.expandToInclude(this.constraintLines.getEnvelopeInternal()),this.createVertices(this.constraintLines),e=qo.createConstraintSegments(this.constraintLines));var n=this.createSiteVertices(this.siteCoords),r=new Go(n,this.tolerance);r.setConstraints(e,new b(this.constraintVertexMap.values())),r.formInitialDelaunay(),r.enforceConstraints(),this.subdiv=r.getSubdivision()},setTolerance:function(t){this.tolerance=t},setConstraints:function(t){this.constraintLines=t},setSites:function(t){this.siteCoords=Ho.extractUniqueCoordinates(t)},getEdges:function(t){return this.create(),this.subdiv.getEdges(t)},getSubdivision:function(){return this.create(),this.subdiv},getTriangles:function(t){return this.create(),this.subdiv.getTriangles(t)},createVertices:function(t){for(var e=t.getCoordinates(),n=0;n<e.length;n++){var r=new To(e[n]);this.constraintVertexMap.put(e[n],r)}},interfaces_:function(){return[]},getClass:function(){return qo}}),qo.createConstraintSegments=function(){if(1===arguments.length){for(var t=arguments[0],e=jn.getLines(t),n=new b,r=e.iterator();r.hasNext();){var i=r.next();qo.createConstraintSegments(i,n)}return n}if(2===arguments.length)for(var o=arguments[0],a=arguments[1],s=o.getCoordinates(),r=1;r<s.length;r++)a.add(new jo(s[r-1],s[r]))},ia(Wo.prototype,{create:function(){if(null!==this.subdiv)return null;var t=Ho.envelope(this.siteCoords);this.diagramEnv=t;var e=Math.max(this.diagramEnv.getWidth(),this.diagramEnv.getHeight());this.diagramEnv.expandBy(e),null!==this.clipEnv&&this.diagramEnv.expandToInclude(this.clipEnv);var n=Ho.toVertices(this.siteCoords);this.subdiv=new No(t,this.tolerance),new Io(this.subdiv).insertSites(n)},getDiagram:function(t){this.create();var e=this.subdiv.getVoronoiDiagram(t);return Wo.clipGeometryCollection(e,this.diagramEnv)},setTolerance:function(t){this.tolerance=t},setSites:function(){if(arguments[0]instanceof D){var t=arguments[0];this.siteCoords=Ho.extractUniqueCoordinates(t)}else if(sa(arguments[0],p)){var e=arguments[0];this.siteCoords=Ho.unique(G.toCoordinateArray(e))}},setClipEnvelope:function(t){this.clipEnv=t},getSubdivision:function(){return this.create(),this.subdiv},interfaces_:function(){return[]},getClass:function(){return Wo}}),Wo.clipGeometryCollection=function(t,e){for(var n=t.getFactory().toGeometry(e),r=new b,i=0;i<t.getNumGeometries();i++){var o=t.getGeometryN(i),a=null;e.contains(o.getEnvelopeInternal())?a=o:e.intersects(o.getEnvelopeInternal())&&(a=n.intersection(o),a.setUserData(o.getUserData())),null===a||a.isEmpty()||r.add(a)}return t.getFactory().createGeometryCollection(Jt.toGeometryArray(r))};var Ga=Object.freeze({Vertex:So}),Ha=Object.freeze({ConformingDelaunayTriangulationBuilder:qo,DelaunayTriangulationBuilder:Ho,VoronoiDiagramBuilder:Wo,quadedge:Ga});ia(Yo.prototype,{getSegmentIndex:function(){return this.segmentIndex},getComponentIndex:function(){return this.componentIndex},isEndpoint:function(t){var e=t.getGeometryN(this.componentIndex),n=e.getNumPoints()-1;return this.segmentIndex>=n||this.segmentIndex===n&&this.segmentFraction>=1},isValid:function(t){if(this.componentIndex<0||this.componentIndex>=t.getNumGeometries())return!1;var e=t.getGeometryN(this.componentIndex);return!(this.segmentIndex<0||this.segmentIndex>e.getNumPoints()||this.segmentIndex===e.getNumPoints()&&0!==this.segmentFraction||this.segmentFraction<0||this.segmentFraction>1)},normalize:function(){this.segmentFraction<0&&(this.segmentFraction=0),this.segmentFraction>1&&(this.segmentFraction=1),this.componentIndex<0&&(this.componentIndex=0,this.segmentIndex=0,this.segmentFraction=0),this.segmentIndex<0&&(this.segmentIndex=0,this.segmentFraction=0),1===this.segmentFraction&&(this.segmentFraction=0,this.segmentIndex+=1)},toLowest:function(t){var e=t.getGeometryN(this.componentIndex),n=e.getNumPoints()-1;return this.segmentIndex<n?this:new Yo(this.componentIndex,n,1,!1)},getCoordinate:function(t){var e=t.getGeometryN(this.componentIndex),n=e.getCoordinateN(this.segmentIndex);if(this.segmentIndex>=e.getNumPoints()-1)return n;var r=e.getCoordinateN(this.segmentIndex+1);return Yo.pointAlongSegmentByFraction(n,r,this.segmentFraction)},getSegmentFraction:function(){return this.segmentFraction},getSegment:function(t){var e=t.getGeometryN(this.componentIndex),n=e.getCoordinateN(this.segmentIndex);return this.segmentIndex>=e.getNumPoints()-1?new se(e.getCoordinateN(e.getNumPoints()-2),n):new se(n,e.getCoordinateN(this.segmentIndex+1))},clamp:function(t){if(this.componentIndex>=t.getNumGeometries())return this.setToEnd(t),null;if(this.segmentIndex>=t.getNumPoints()){var e=t.getGeometryN(this.componentIndex);this.segmentIndex=e.getNumPoints()-1,this.segmentFraction=1}},setToEnd:function(t){this.componentIndex=t.getNumGeometries()-1;var e=t.getGeometryN(this.componentIndex);this.segmentIndex=e.getNumPoints()-1,this.segmentFraction=1},compareTo:function(t){var e=t;return this.componentIndex<e.componentIndex?-1:this.componentIndex>e.componentIndex?1:this.segmentIndex<e.segmentIndex?-1:this.segmentIndex>e.segmentIndex?1:this.segmentFraction<e.segmentFraction?-1:this.segmentFraction>e.segmentFraction?1:0},clone:function(){return new Yo(this.componentIndex,this.segmentIndex,this.segmentFraction)},toString:function(){return"LinearLoc["+this.componentIndex+", "+this.segmentIndex+", "+this.segmentFraction+"]"},isOnSameSegment:function(t){return this.componentIndex===t.componentIndex&&(this.segmentIndex===t.segmentIndex||t.segmentIndex-this.segmentIndex==1&&0===t.segmentFraction||this.segmentIndex-t.segmentIndex==1&&0===this.segmentFraction)},snapToVertex:function(t,e){if(this.segmentFraction<=0||this.segmentFraction>=1)return null;var n=this.getSegmentLength(t),r=this.segmentFraction*n,i=n-r;r<=i&&r<e?this.segmentFraction=0:i<=r&&i<e&&(this.segmentFraction=1)},compareLocationValues:function(t,e,n){return this.componentIndex<t?-1:this.componentIndex>t?1:this.segmentIndex<e?-1:this.segmentIndex>e?1:this.segmentFraction<n?-1:this.segmentFraction>n?1:0},getSegmentLength:function(t){var e=t.getGeometryN(this.componentIndex),n=this.segmentIndex;this.segmentIndex>=e.getNumPoints()-1&&(n=e.getNumPoints()-2);var r=e.getCoordinateN(n),i=e.getCoordinateN(n+1);return r.distance(i)},isVertex:function(){return this.segmentFraction<=0||this.segmentFraction>=1},interfaces_:function(){return[i]},getClass:function(){return Yo}}),Yo.getEndLocation=function(t){var e=new Yo;return e.setToEnd(t),e},Yo.pointAlongSegmentByFraction=function(t,e,n){return n<=0?t:n>=1?e:new h((e.x-t.x)*n+t.x,(e.y-t.y)*n+t.y,(e.z-t.z)*n+t.z)},Yo.compareLocationValues=function(t,e,n,r,i,o){return t<r?-1:t>r?1:e<i?-1:e>i?1:n<o?-1:n>o?1:0},ia(Xo.prototype,{getComponentIndex:function(){return this.componentIndex},getLine:function(){return this.currentLine},getVertexIndex:function(){return this.vertexIndex},getSegmentEnd:function(){return this.vertexIndex<this.getLine().getNumPoints()-1?this.currentLine.getCoordinateN(this.vertexIndex+1):null},next:function(){if(!this.hasNext())return null;++this.vertexIndex>=this.currentLine.getNumPoints()&&(this.componentIndex++,this.loadCurrentLine(),this.vertexIndex=0)},loadCurrentLine:function(){if(this.componentIndex>=this.numLines)return this.currentLine=null,null;this.currentLine=this.linearGeom.getGeometryN(this.componentIndex)},getSegmentStart:function(){return this.currentLine.getCoordinateN(this.vertexIndex)},isEndOfLine:function(){return!(this.componentIndex>=this.numLines||this.vertexIndex<this.currentLine.getNumPoints()-1)},hasNext:function(){return!(this.componentIndex>=this.numLines||this.componentIndex===this.numLines-1&&this.vertexIndex>=this.currentLine.getNumPoints())},interfaces_:function(){return[]},getClass:function(){return Xo}}),Xo.segmentEndVertexIndex=function(t){return t.getSegmentFraction()>0?t.getSegmentIndex()+1:t.getSegmentIndex()},ia(Zo.prototype,{indexOf:function(t){return this.indexOfFromStart(t,null)},indexOfFromStart:function(t,e){for(var n=r.MAX_VALUE,i=0,o=0,a=-1,s=new se,u=new Xo(this.linearGeom);u.hasNext();u.next())if(!u.isEndOfLine()){s.p0=u.getSegmentStart(),s.p1=u.getSegmentEnd();var l=s.distance(t),c=s.segmentFraction(t),h=u.getComponentIndex(),f=u.getVertexIndex();l<n&&(null===e||e.compareLocationValues(h,f,c)<0)&&(i=h,o=f,a=c,n=l)}return n===r.MAX_VALUE?new Yo(e):new Yo(i,o,a)},indexOfAfter:function(t,e){if(null===e)return this.indexOf(t);var n=Yo.getEndLocation(this.linearGeom);if(n.compareTo(e)<=0)return n;var r=this.indexOfFromStart(t,e);return c.isTrue(r.compareTo(e)>=0,"computed location is before specified minimum location"),r},interfaces_:function(){return[]},getClass:function(){return Zo}}),Zo.indexOf=function(t,e){return new Zo(t).indexOf(e)},Zo.indexOfAfter=function(t,e,n){return new Zo(t).indexOfAfter(e,n)},ia(Ko.prototype,{indicesOf:function(t){var e=t.getGeometryN(0).getCoordinateN(0),n=t.getGeometryN(t.getNumGeometries()-1),r=n.getCoordinateN(n.getNumPoints()-1),i=new Zo(this.linearGeom),o=new Array(2).fill(null);return o[0]=i.indexOf(e),0===t.getLength()?o[1]=o[0].clone():o[1]=i.indexOfAfter(r,o[0]),o},interfaces_:function(){return[]},getClass:function(){return Ko}}),Ko.indicesOf=function(t,e){return new Ko(t).indicesOf(e)},ia($o.prototype,{getGeometry:function(){return this.endLine(),this.geomFact.buildGeometry(this.lines)},getLastCoordinate:function(){return this.lastPt},endLine:function(){if(null===this.coordList)return null;if(this.ignoreInvalidLines&&this.coordList.size()<2)return this.coordList=null,null;var t=this.coordList.toCoordinateArray(),e=t;this.fixInvalidLines&&(e=this.validCoordinateSequence(t)),this.coordList=null;var r=null;try{r=this.geomFact.createLineString(e)}catch(t){if(!(t instanceof n))throw t;if(!this.ignoreInvalidLines)throw t}null!==r&&this.lines.add(r)},setFixInvalidLines:function(t){this.fixInvalidLines=t},add:function(){if(1===arguments.length){var t=arguments[0];this.add(t,!0)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];null===this.coordList&&(this.coordList=new w),this.coordList.add(e,n),this.lastPt=e}},setIgnoreInvalidLines:function(t){this.ignoreInvalidLines=t},validCoordinateSequence:function(t){return t.length>=2?t:[t[0],t[0]]},interfaces_:function(){return[]},getClass:function(){return $o}}),ia(Qo.prototype,{computeLinear:function(t,e){var n=new $o(this.line.getFactory());n.setFixInvalidLines(!0),t.isVertex()||n.add(t.getCoordinate(this.line));for(var r=new Xo(this.line,t);r.hasNext()&&!(e.compareLocationValues(r.getComponentIndex(),r.getVertexIndex(),0)<0);r.next()){var i=r.getSegmentStart();n.add(i),r.isEndOfLine()&&n.endLine()}return e.isVertex()||n.add(e.getCoordinate(this.line)),n.getGeometry()},computeLine:function(t,e){var n=this.line.getCoordinates(),r=new w,i=t.getSegmentIndex();t.getSegmentFraction()>0&&(i+=1);var o=e.getSegmentIndex();1===e.getSegmentFraction()&&(o+=1),o>=n.length&&(o=n.length-1),t.isVertex()||r.add(t.getCoordinate(this.line));for(var a=i;a<=o;a++)r.add(n[a]);e.isVertex()||r.add(e.getCoordinate(this.line)),r.size()<=0&&r.add(t.getCoordinate(this.line));var s=r.toCoordinateArray();return s.length<=1&&(s=[s[0],s[0]]),this.line.getFactory().createLineString(s)},extract:function(t,e){return e.compareTo(t)<0?this.reverse(this.computeLinear(e,t)):this.computeLinear(t,e)},reverse:function(t){return t instanceof xt?t.reverse():t instanceof ct?t.reverse():(c.shouldNeverReachHere("non-linear geometry encountered"),null)},interfaces_:function(){return[]},getClass:function(){return Qo}}),Qo.extract=function(t,e,n){return new Qo(t).extract(e,n)},ia(Jo.prototype,{clampIndex:function(t){var e=t.clone();return e.clamp(this.linearGeom),e},project:function(t){return Zo.indexOf(this.linearGeom,t)},checkGeometryType:function(){if(!(this.linearGeom instanceof xt||this.linearGeom instanceof ct))throw new n("Input geometry must be linear")},extractPoint:function(){if(1===arguments.length)return arguments[0].getCoordinate(this.linearGeom);if(2===arguments.length){var t=arguments[0],e=arguments[1],n=t.toLowest(this.linearGeom);return n.getSegment(this.linearGeom).pointAlongOffset(n.getSegmentFraction(),e)}},isValidIndex:function(t){return t.isValid(this.linearGeom)},getEndIndex:function(){return Yo.getEndLocation(this.linearGeom)},getStartIndex:function(){return new Yo},indexOfAfter:function(t,e){return Zo.indexOfAfter(this.linearGeom,t,e)},extractLine:function(t,e){return Qo.extract(this.linearGeom,t,e)},indexOf:function(t){return Zo.indexOf(this.linearGeom,t)},indicesOf:function(t){return Ko.indicesOf(this.linearGeom,t)},interfaces_:function(){return[]},getClass:function(){return Jo}}),ia(ta.prototype,{indexOf:function(t){return this.indexOfFromStart(t,-1)},indexOfFromStart:function(t,e){for(var n=r.MAX_VALUE,i=e,o=0,a=new se,s=new Xo(this.linearGeom);s.hasNext();){if(!s.isEndOfLine()){a.p0=s.getSegmentStart(),a.p1=s.getSegmentEnd();var u=a.distance(t),l=this.segmentNearestMeasure(a,t,o);u<n&&l>e&&(i=l,n=u),o+=a.getLength()}s.next()}return i},indexOfAfter:function(t,e){if(e<0)return this.indexOf(t);var n=this.linearGeom.getLength();if(n<e)return n;var r=this.indexOfFromStart(t,e);return c.isTrue(r>=e,"computed index is before specified minimum index"),r},segmentNearestMeasure:function(t,e,n){var r=t.projectionFactor(e);return r<=0?n:r<=1?n+r*t.getLength():n+t.getLength()},interfaces_:function(){return[]},getClass:function(){return ta}}),ta.indexOf=function(t,e){return new ta(t).indexOf(e)},ta.indexOfAfter=function(t,e,n){return new ta(t).indexOfAfter(e,n)},ia(ea.prototype,{getLength:function(t){for(var e=0,n=new Xo(this.linearGeom);n.hasNext();){if(!n.isEndOfLine()){var r=n.getSegmentStart(),i=n.getSegmentEnd(),o=i.distance(r);if(t.getComponentIndex()===n.getComponentIndex()&&t.getSegmentIndex()===n.getVertexIndex())return e+o*t.getSegmentFraction();e+=o}n.next()}return e},resolveHigher:function(t){if(!t.isEndpoint(this.linearGeom))return t;var e=t.getComponentIndex();if(e>=this.linearGeom.getNumGeometries()-1)return t;do{e++}while(e<this.linearGeom.getNumGeometries()-1&&0===this.linearGeom.getGeometryN(e).getLength());return new Yo(e,0,0)},getLocation:function(){if(1===arguments.length){var t=arguments[0];return this.getLocation(t,!0)}if(2===arguments.length){var e=arguments[0],n=arguments[1],r=e;e<0&&(r=this.linearGeom.getLength()+e);var i=this.getLocationForward(r);return n?i:this.resolveHigher(i)}},getLocationForward:function(t){if(t<=0)return new Yo;for(var e=0,n=new Xo(this.linearGeom);n.hasNext();){if(n.isEndOfLine()){if(e===t){var r=n.getComponentIndex(),i=n.getVertexIndex();return new Yo(r,i,0)}}else{var o=n.getSegmentStart(),a=n.getSegmentEnd(),s=a.distance(o);if(e+s>t){var u=(t-e)/s,r=n.getComponentIndex(),i=n.getVertexIndex();return new Yo(r,i,u)}e+=s}n.next()}return Yo.getEndLocation(this.linearGeom)},interfaces_:function(){return[]},getClass:function(){return ea}}),ea.getLength=function(t,e){return new ea(t).getLength(e)},ea.getLocation=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new ea(t);return n.getLocation(e)}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2],n=new ea(r);return n.getLocation(i,o)}},ia(na.prototype,{clampIndex:function(t){var e=this.positiveIndex(t),n=this.getStartIndex();if(e<n)return n;var r=this.getEndIndex();return e>r?r:e},locationOf:function(){if(1===arguments.length){var t=arguments[0];return ea.getLocation(this.linearGeom,t)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return ea.getLocation(this.linearGeom,e,n)}},project:function(t){return ta.indexOf(this.linearGeom,t)},positiveIndex:function(t){return t>=0?t:this.linearGeom.getLength()+t},extractPoint:function(){if(1===arguments.length){var t=arguments[0],e=ea.getLocation(this.linearGeom,t);return e.getCoordinate(this.linearGeom)}if(2===arguments.length){var n=arguments[0],r=arguments[1],e=ea.getLocation(this.linearGeom,n),i=e.toLowest(this.linearGeom);return i.getSegment(this.linearGeom).pointAlongOffset(i.getSegmentFraction(),r)}},isValidIndex:function(t){return t>=this.getStartIndex()&&t<=this.getEndIndex()},getEndIndex:function(){return this.linearGeom.getLength()},getStartIndex:function(){return 0},indexOfAfter:function(t,e){return ta.indexOfAfter(this.linearGeom,t,e)},extractLine:function(t,e){var n=(new Jo(this.linearGeom),this.clampIndex(t)),r=this.clampIndex(e),i=n===r,o=this.locationOf(n,i),a=this.locationOf(r);return Qo.extract(this.linearGeom,o,a)},indexOf:function(t){return ta.indexOf(this.linearGeom,t)},indicesOf:function(t){var e=Ko.indicesOf(this.linearGeom,t);return[ea.getLength(this.linearGeom,e[0]),ea.getLength(this.linearGeom,e[1])]},interfaces_:function(){return[]},getClass:function(){return na}});var qa=Object.freeze({LengthIndexedLine:na,LengthLocationMap:ea,LinearGeometryBuilder:$o,LinearIterator:Xo,LinearLocation:Yo,LocationIndexedLine:Jo});ia(ra.prototype,{interfaces_:function(){return[]},getClass:function(){return ra}}),ra.union=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return Jn.createEmptyResult(Jn.UNION,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),er.overlayOp(t,e,Jn.UNION)},ia(D.prototype,{equalsTopo:function(t){return!!this.getEnvelopeInternal().equals(t.getEnvelopeInternal())&&to.relate(this,t).isEquals(this.getDimension(),t.getDimension())},union:function(){if(0===arguments.length)return oo.union(this);if(1===arguments.length){var t=arguments[0];return ra.union(this,t)}},isValid:function(){return Bi.isValid(this)},intersection:function(t){if(this.isEmpty()||t.isEmpty())return Jn.createEmptyResult(Jn.INTERSECTION,this,t,this.factory);if(this.isGeometryCollection()){var e=t;return an.map(this,{interfaces_:function(){return[MapOp]},map:function(t){return t.intersection(e)}})}return this.checkNotGeometryCollection(this),this.checkNotGeometryCollection(t),er.overlayOp(this,t,Jn.INTERSECTION)},covers:function(t){return to.covers(this,t)},coveredBy:function(t){return to.coveredBy(this,t)},touches:function(t){return to.touches(this,t)},intersects:function(t){return to.intersects(this,t)},within:function(t){return to.within(this,t)},overlaps:function(t){return to.overlaps(this,t)},disjoint:function(t){return to.disjoint(this,t)},crosses:function(t){return to.crosses(this,t)},buffer:function(){if(1===arguments.length){var t=arguments[0];return ci.bufferOp(this,t)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return ci.bufferOp(this,e,n)}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];return ci.bufferOp(this,r,i,o)}},convexHull:function(){return new de(this).getConvexHull()},relate:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return to.relate.apply(to,[this].concat(e))},getCentroid:function(){if(this.isEmpty())return this.factory.createPoint();var t=le.getCentroid(this);return this.createPointFromInternalCoord(t,this)},getInteriorPoint:function(){if(this.isEmpty())return this.factory.createPoint();var t=null,e=this.getDimension();if(0===e){var n=new or(this);t=n.getInteriorPoint()}else if(1===e){var n=new ir(this);t=n.getInteriorPoint()}else{var n=new nr(this);t=n.getInteriorPoint()}return this.createPointFromInternalCoord(t,this)},symDifference:function(t){if(this.isEmpty()||t.isEmpty()){if(this.isEmpty()&&t.isEmpty())return Jn.createEmptyResult(Jn.SYMDIFFERENCE,this,t,this.factory);if(this.isEmpty())return t.copy();if(t.isEmpty())return this.copy()}return this.checkNotGeometryCollection(this),this.checkNotGeometryCollection(t),er.overlayOp(this,t,Jn.SYMDIFFERENCE)},createPointFromInternalCoord:function(t,e){return e.getPrecisionModel().makePrecise(t),e.getFactory().createPoint(t)},toText:function(){return(new ee).write(this)},toString:function(){this.toText()},contains:function(t){return to.contains(this,t)},difference:function(t){return this.isEmpty()?Jn.createEmptyResult(Jn.DIFFERENCE,this,t,this.factory):t.isEmpty()?this.copy():(this.checkNotGeometryCollection(this),this.checkNotGeometryCollection(t),er.overlayOp(this,t,Jn.DIFFERENCE))},isSimple:function(){return new Gr(this).isSimple()},isWithinDistance:function(t,e){return!(this.getEnvelopeInternal().distance(t.getEnvelopeInternal())>e)&&mi.isWithinDistance(this,t,e)},distance:function(t){return mi.distance(this,t)},isEquivalentClass:function(t){return this.getClass()===t.getClass()}}),t.version="1.4.0 (93f117d)",t.algorithm=wa,t.densify=xa,t.dissolve=_a,t.geom=ya,t.geomgraph=Ea,t.index=Ta,t.io=Aa,t.noding=La,t.operation=Ba,t.precision=za,t.simplify=Va,t.triangulate=Ha,t.linearref=qa,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=d()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(h.a?h()(t,e):t.__proto__=e)}var a=n(48),s=n.n(a),u=n(10),l=n.n(u),c=n(9),h=n.n(c),f=n(5),d=n.n(f),p=n(1),m=n.n(p),g=n(19),v=n.n(g),y=n(16),b=n.n(y),w=n(0),x=n.n(w),_=n(26),E=(n.n(_),n(15)),M=(n.n(E),n(36)),S=(n.n(M),n(30)),T=n(381),C=n(214),I=n(263),O=n(39),A=n(44),L=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=b()(t);!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(v()(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),R=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),m()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),N=Object(E.defineMessages)({panelHeader:{id:"ImageInformation.panelHeader",description:"Header for the image information panel",defaultMessage:"Image Information"},generalTab:{id:"ImageInformation.generalTab",description:"Header for general tab",defaultMessage:"General"},locationTab:{id:"ImageInformation.locationTab",description:"Header for location tab",defaultMessage:"Location"},precisionTab:{id:"ImageInformation.precisionTab",description:"Header for precision tab",defaultMessage:"Precision"},propertyColumn:{id:"ImageInformation.propertyColumn",description:"Property column header",defaultMessage:"Property"},valueColumn:{id:"ImageInformation.valueColumn",description:"Value column header",defaultMessage:"Value"},imageId:{id:"ImageInformation.imageId",description:"Image id",defaultMessage:"ID"},recordingType:{id:"ImageInformation.recordingType",description:"Recording type",defaultMessage:"Recording Type"},recordingDate:{id:"ImageInformation.recordingDate",description:"Recording date",defaultMessage:"Recording Date"},expiryDate:{id:"ImageInformation.expiryDate",description:"Expiry date",defaultMessage:"Expiry Date"},srs:{id:"ImageInformation.srs",description:"Coordinate system",defaultMessage:"Coordinate System"},heightSystem:{id:"ImageInformation.heightSystem",description:"Height system",defaultMessage:"Height System"},groundLevelOffset:{id:"ImageInformation.groundLevelOffset",description:"Ground level offset (camera height above ground)",defaultMessage:"Camera height ({units})"},x:{id:"ImageInformation.x",description:"X (in coordinate system)",defaultMessage:"X ({units})"},y:{id:"ImageInformation.y",description:"Y (in coordinate system)",defaultMessage:"Y ({units})"},height:{id:"ImageInformation.height",description:"Height or Z (in coordinate system)",defaultMessage:"Height ({units})"},yaw:{id:"ImageInformation.yaw",description:"Yaw",defaultMessage:"Yaw ({units})"},recorderDirection:{id:"ImageInformation.recorderDirection",description:"Recorder direction",defaultMessage:"Recorder Direction ({units})"},xPrecision:{id:"ImageInformation.xPrecision",description:"X Precision",defaultMessage:"X Precision ({units})"},yPrecision:{id:"ImageInformation.yPrecision",description:"Y Precision",defaultMessage:"Y Precision ({units})"},heightPrecision:{id:"ImageInformation.heightPrecision",description:"Height (Z) precision",defaultMessage:"Height Precision ({units})"},yawPrecision:{id:"ImageInformation.yawPrecision",description:"Yaw precision",defaultMessage:"Yaw Precision ({units})"},depthMapPrecision:{id:"ImageInformation.depthMapPrecision",description:"Depth map precision",defaultMessage:"Depth Map Precision ({units})"}}),P=function(t){function e(){var t;r(this,e);for(var n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];var s=i(this,(t=e.__proto__||l()(e)).call.apply(t,[this].concat(o)));return s.state={activeTab:1},s}return o(e,t),R(e,[{key:"render",value:function(){var t=this,e=this.context.intl.formatMessage,n=this.props.recording,r=void 0,i=void 0;return n&&(r=A.i.getPrecision(n.srs),i=A.i.getUnitsForSrs(n.srs)),x.a.createElement(_.Panel,{className:"cmtImageInformationPanel cmtNavBarPanel",header:e(N.panelHeader)},x.a.createElement(_.Tab.Container,{position:"left",tabWidth:3,defaultActiveKey:1,activeKey:this.state.activeTab,onSelect:function(e){t.setState({activeTab:e})}},x.a.createElement(_.Row,{className:"clearfix fix-bootstrap-row"},x.a.createElement(_.Col,{xs:3,className:"fix-bootstrap-col"},x.a.createElement(_.Nav,{bsStyle:"pills",stacked:!0},x.a.createElement(_.NavItem,{eventKey:1},e(N.generalTab)),x.a.createElement(_.NavItem,{eventKey:2},e(N.locationTab)),x.a.createElement(_.NavItem,{eventKey:3},e(N.precisionTab)),!1)),x.a.createElement(_.Col,{xs:9,className:"fix-bootstrap-col"},x.a.createElement(_.Tab.Content,null,x.a.createElement(_.Tab.Pane,{eventKey:1},this.renderGeneralInfo(n)),x.a.createElement(_.Tab.Pane,{eventKey:2},this.renderLocationInfo(n,r,i)),x.a.createElement(_.Tab.Pane,{eventKey:3},this.renderPrecisionInfo(n,i)),!1)))))}},{key:"renderGeneralInfo",value:function(t){if(!t)return null;var e=this.context.intl.formatMessage;return x.a.createElement(_.Table,{striped:!0,bordered:!0,condensed:!0},x.a.createElement("thead",null,x.a.createElement("tr",null,x.a.createElement("th",null,e(N.propertyColumn)),x.a.createElement("th",null,e(N.valueColumn)))),x.a.createElement("tbody",null,x.a.createElement("tr",null,x.a.createElement("td",null,e(N.imageId)),x.a.createElement("td",null,t.id)),x.a.createElement("tr",null,x.a.createElement("td",null,e(N.recordingType)),x.a.createElement("td",null,t.productType)),x.a.createElement("tr",null,x.a.createElement("td",null,e(N.recordingDate)),x.a.createElement("td",null,x.a.createElement(T.a,{value:t.recordedAt,showTime:!0})))))}},{key:"renderLocationInfo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.xyUnits,i=n.heightUnits;if(!t)return null;var o=this.context.intl.formatMessage,a=A.i.METRIC_PRECISION,s=A.i.DEGREE_PRECISION,u=A.i.Units,l=A.i.formatSrsName,c=o(I.a[r]),h=o(I.a[i]),f=o(I.a[u.DEGREES]),d=t.srs;return x.a.createElement(_.Table,{striped:!0,bordered:!0,condensed:!0},x.a.createElement("thead",null,x.a.createElement("tr",null,x.a.createElement("th",null,o(N.propertyColumn)),x.a.createElement("th",null,o(N.valueColumn)))),x.a.createElement("tbody",null,x.a.createElement("tr",null,x.a.createElement("td",null,o(N.x,{units:c})),x.a.createElement("td",null,x.a.createElement(E.FormattedNumber,{value:t.xyz[0],minimumFractionDigits:e,maximumFractionDigits:e,useGrouping:!1}))),x.a.createElement("tr",null,x.a.createElement("td",null,o(N.y,{units:c})),x.a.createElement("td",null,x.a.createElement(E.FormattedNumber,{value:t.xyz[1],minimumFractionDigits:e,maximumFractionDigits:e,useGrouping:!1}))),x.a.createElement("tr",null,x.a.createElement("td",null,o(N.height,{units:h})),x.a.createElement("td",null,x.a.createElement(E.FormattedNumber,{value:t.xyz[2],minimumFractionDigits:a,maximumFractionDigits:a,useGrouping:!1}))),x.a.createElement("tr",null,x.a.createElement("td",null,o(N.yaw,{units:f})),x.a.createElement("td",null,x.a.createElement(E.FormattedNumber,{value:Object(O.f)(Object(O.d)(t.orientation),-180,180),minimumFractionDigits:s,maximumFractionDigits:s}))),x.a.createElement("tr",null,x.a.createElement("td",null,o(N.recorderDirection,{units:f})),x.a.createElement("td",null,x.a.createElement(E.FormattedNumber,{value:Object(O.f)(Object(O.d)(t.recorderDirection),-180,180),minimumFractionDigits:s,maximumFractionDigits:s}))),x.a.createElement("tr",null,x.a.createElement("td",null,o(N.srs)),x.a.createElement("td",null,l(this.props.srs.srs.find(function(t){return t.SRSName===d})))),x.a.createElement("tr",null,x.a.createElement("td",null,o(N.heightSystem)),x.a.createElement("td",null,t.heightSystem||o(C.a.na))),x.a.createElement("tr",null,x.a.createElement("td",null,o(N.groundLevelOffset,{units:h})),x.a.createElement("td",null,x.a.createElement(E.FormattedNumber,{value:t.groundLevelOffset,minimumFractionDigits:a,maximumFractionDigits:a})))))}},{key:"renderPrecisionInfo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.precisionUnits;if(!t)return null;var r=this.context.intl.formatMessage,i=A.i.METRIC_PRECISION,o=A.i.DEGREE_PRECISION,a=A.i.Units,s=r(I.a[n]),u=r(I.a[a.DEGREES]),l=r(I.a[a.METERS]);return x.a.createElement(_.Table,{striped:!0,bordered:!0,condensed:!0},x.a.createElement("thead",null,x.a.createElement("tr",null,x.a.createElement("th",null,r(N.propertyColumn)),x.a.createElement("th",null,r(N.valueColumn)))),x.a.createElement("tbody",null,x.a.createElement("tr",null,x.a.createElement("td",null,r(N.xPrecision,{units:s})),x.a.createElement("td",null,x.a.createElement(E.FormattedNumber,{value:t.latitudePrecision,minimumFractionDigits:i,maximumFractionDigits:i}))),x.a.createElement("tr",null,x.a.createElement("td",null,r(N.yPrecision,{units:s})),x.a.createElement("td",null,x.a.createElement(E.FormattedNumber,{value:t.longitudePrecision,minimumFractionDigits:i,maximumFractionDigits:i}))),x.a.createElement("tr",null,x.a.createElement("td",null,r(N.heightPrecision,{units:s})),x.a.createElement("td",null,x.a.createElement(E.FormattedNumber,{value:t.heightPrecision,minimumFractionDigits:i,maximumFractionDigits:i}))),x.a.createElement("tr",null,x.a.createElement("td",null,r(N.yawPrecision,{units:u})),x.a.createElement("td",null,x.a.createElement(E.FormattedNumber,{value:t.orientationPrecision,minimumFractionDigits:o,maximumFractionDigits:o}))),t.hasDepthMap&&x.a.createElement("tr",null,x.a.createElement("td",null,r(N.depthMapPrecision,{units:l})),x.a.createElement("td",null,x.a.createElement(E.FormattedNumber,{value:t.depthMapPrecision,minimumFractionDigits:i,maximumFractionDigits:i})))))}},{key:"renderRawInfo",value:function(t){var e=this.context.intl.formatMessage;return x.a.createElement(_.Table,{striped:!0,bordered:!0,condensed:!0},x.a.createElement("thead",null,x.a.createElement("tr",null,x.a.createElement("th",null,e(N.propertyColumn)),x.a.createElement("th",null,e(N.valueColumn)))),x.a.createElement("tbody",null,t&&s()(t).map(function(t,e){var n=L(t,2),r=n[0],i=n[1];return x.a.createElement("tr",{key:e},x.a.createElement("td",null,r),x.a.createElement("td",null,""+i))})))}}]),e}(S.a),k=function(t){return{srs:t.srs}};e.a=Object(M.connect)(k)(P)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=d()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(h.a?h()(t,e):t.__proto__=e)}var a=n(51),s=n.n(a),u=n(10),l=n.n(u),c=n(9),h=n.n(c),f=n(5),d=n.n(f),p=n(1),m=n.n(p),g=n(4),v=n.n(g),y=n(143),b=n.n(y),w=n(32),x=n.n(w),_=n(3),E=n.n(_),M=n(0),S=n.n(M),T=n(26),C=(n.n(T),n(36)),I=(n.n(C),n(38)),O=(n.n(I),n(144)),A=n(268),L=n(214),R=n(30),N=n(108),P=n(94),k=n(361),D=n(362),F=n(72),j=n(256),U=n(67),B=n(95),z=n(379),V=n(270),G=n(109),H=n(54),q=n(73),W=n(44),Y=n(39),X=n(141),Z=v.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},K=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),m()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),$=function(t){function e(){var t;r(this,e);for(var n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];var s=i(this,(t=e.__proto__||l()(e)).call.apply(t,[this].concat(o)));return s.centerMap=s.centerMap.bind(s),s.measurementsButtonOnClick=s.measurementsButtonOnClick.bind(s),s.onWindowClick=s.onWindowClick.bind(s),s.obliqueButtonOnClick=s.obliqueButtonOnClick.bind(s),s.reportBlurringOnClick=s.reportBlurringOnClick.bind(s),s}return o(e,t),K(e,[{key:"componentDidMount",value:function(){window.addEventListener("pointerdown",this.onWindowClick)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("pointerdown",this.onWindowClick)}},{key:"componentWillReceiveProps",value:function(t){var e=this.props.expanded;e!==t.expanded&&e&&this.setActivePanel(G.a.NONE)}},{key:"onWindowClick",value:function(t){var e=this.props.panoramaviewer.activePanel,n=b()(t.target);e!==G.a.NONE&&e!==G.a.IMAGE_INFORMATION&&0===n.closest(".cmtViewerPanel").length&&0===n.closest(".cmtViewerPanelButton").length&&this.props.actions.setActivePanel(this.props.id,G.a.NONE)}},{key:"setActivePanel",value:function(t){var e=this.props.panoramaviewer.activePanel,n=this.props.actions.setActivePanel;e===t?n(this.props.id,G.a.NONE):n(this.props.id,t)}},{key:"reportBlurringOnClick",value:function(t){var e=this.props,n=e.actions,r=e.panoramaviewer,i=e.userSrs,o=r.recording,a=r.orientation,s=a.yaw,u=a.pitch,l=a.hFov;n.toggleReportBlurring(),n.generateCycloramaLink(o.id,[s,u,l],i).then(function(t){n.updateReportBlurring({imageId:o.id,imageParams:encodeURIComponent(t.payload)})})}},{key:"obliqueButtonOnClick",value:function(t){var e=this.props.panoramaviewer,n=e.recording,r=e.orientation.yaw,i=n.xyz,o=n.srs,a=!t.shiftKey,u=t.ctrlKey,l=!0,c=this.props.obliqueviewer.byId[s()(this.props.obliqueviewer.byId)[0]];c&&(l=c.recording.isOblique);var h=Object(Y.d)(r),f=n.xyz,d=[f[0]-H.PANORAMA_EXTENT_SIZE,f[1]-H.PANORAMA_EXTENT_SIZE,f[0]+H.PANORAMA_EXTENT_SIZE,f[1]+H.PANORAMA_EXTENT_SIZE];this.props.actions.openObliqueViewerByCoordinate(i,o,{direction:h,isOblique:l,viewExtent:d,replace:a,multiple:u}).catch(function(t){Object(F.showFlashMessage)(t.message,{style:"danger"}),x.a.warn(t.message)})}},{key:"render",value:function(){var t=this,e=this.props,n=e.onExpand,r=e.expanded,i=e.panoramaviewer,o=i.recording,a=i.ui,s=e.measurements,u=e.viewerMode,l=e.unitAllowsToMeasure,c=e.config,h=c.services.obliqueLocation,f=c.map.obliqueLayers,d=c.application.functionalities,p=h&&f&&0!==f.length,m=d.includes(X.a.ReportBlurring),g=l?A.a.startMeasurement:A.a.notPossibleCurrentSrs,v=r?"-expanded":"-contracted";return S.a.createElement(k.a,{expanded:r,onExpand:n,className:"viewer-navbar"+v+" cmt-navbar",leftSize:1,left:S.a.createElement(T.ButtonGroup,{className:"nav navbar-nav"},a[V.a.buttons.OVERLAYS].enabled&&u!==H.ViewerMode.MEASUREMENT&&S.a.createElement(N.a,Z({placement:"top"},O.a.overlays),S.a.createElement(T.Button,{className:"cmtViewerPanelButton",onClick:function(){return t.setActivePanel(G.a.OVERLAYS)}},S.a.createElement(P.b.Layers,null)))),right:S.a.createElement(T.ButtonGroup,{className:"nav navbar-nav"},a[V.a.buttons.REPORT_BLURRING].enabled&&m&&u!==H.ViewerMode.MEASUREMENT&&S.a.createElement(N.a,Z({placement:"top"},O.a.reportBlurring),S.a.createElement(T.Button,{onClick:this.reportBlurringOnClick,disabled:!o},S.a.createElement(P.b.ReportBlurring,null))),a[V.a.buttons.OPEN_OBLIQUE].enabled&&p&&u!==H.ViewerMode.MEASUREMENT&&S.a.createElement(N.a,Z({placement:"top"},O.a.oblique),S.a.createElement(T.Button,{onClick:this.obliqueButtonOnClick,disabled:!o},S.a.createElement(P.b.Oblique,null))),a[V.a.buttons.MEASURE].enabled&&u!==H.ViewerMode.MEASUREMENT&&s.allowedToMeasure&&S.a.createElement(N.a,Z({placement:"top"},g),S.a.createElement("div",{className:"fix-disabled-child-tooltip"},S.a.createElement(T.Button,{onClick:this.measurementsButtonOnClick,disabled:!o||!l},S.a.createElement(P.b.Measure,null)))),a[V.a.buttons.CENTER_MAP].enabled&&!this.props.isApi&&S.a.createElement(N.a,Z({placement:"top"},O.a.mapLocation),S.a.createElement(T.Button,{onClick:this.centerMap,disabled:!o},S.a.createElement(P.b.Locate,null))),a[V.a.buttons.IMAGE_INFORMATION].enabled&&S.a.createElement(N.a,Z({placement:"top"},O.a.imageInfo),S.a.createElement(T.Button,{className:"cmtViewerPanelButton",onClick:function(){return t.setActivePanel(G.a.IMAGE_INFORMATION)}},S.a.createElement(P.b.Information,null))),a[V.a.buttons.COPY_LINK].enabled&&!this.props.isApi&&S.a.createElement(N.a,Z({placement:"top"},O.a.copyCycloramaLink),S.a.createElement(T.Button,{onClick:function(){return t.copyLinkToClipboard()},disabled:!o},S.a.createElement(P.b.ToClipboard,null))),a[V.a.buttons.SAVE_IMAGE].enabled&&S.a.createElement(N.a,Z({placement:"top"},O.a.cycloramaImage),S.a.createElement(T.Button,{onClick:function(){return t.saveImage()},disabled:!o},S.a.createElement(P.b.Download,null))),a[V.a.buttons.ZOOM_IN].enabled&&S.a.createElement(N.a,Z({placement:"top"},O.a.zoomInButton),S.a.createElement(T.Button,{onClick:this.props.zoomIn},S.a.createElement(P.b.ZoomIn,null))),a[V.a.buttons.ZOOM_OUT].enabled&&S.a.createElement(N.a,Z({placement:"top"},O.a.zoomOutButton),S.a.createElement(T.Button,{onClick:this.props.zoomOut},S.a.createElement(P.b.ZoomOut,null))))})}},{key:"centerMap",value:function(){var t=this.props.panoramaviewer.recording,e=t.xyz,n=t.srs;this.props.actions.centerMap(e,n,!0)}},{key:"measurementsButtonOnClick",value:function(){var t=this.props,e=t.id,n=t.actions;n.setMeasurementDimension(3),n.setCurrentPanoramaWid(e),n.showTypeSelectionModal()}},{key:"copyLinkToClipboard",value:function(){var t=this.context.intl.formatMessage,e=this.props,n=e.panoramaviewer,r=e.userSrs,i=n.recording,o=n.orientation,a=o.yaw,s=o.pitch,u=o.hFov,l=this.props.actions,c=l.cycloramaLinkToClipboard,h=l.logCopyLink,f=l.showFlashMessage;c(i.id,[a,s,u],r).then(function(e){h(e.payload),f(t(L.a.copied),{delay:1e3})})}},{key:"saveImage",value:function(){var t=document.getElementById(this.props.id).firstElementChild;Object(D.a)(Object(D.b)(t.getElementsByTagName("canvas")),"panorama.png"),this.props.actions.logSaveImage("panorama")}}]),e}(R.a);$.propTypes={onExpand:E.a.func,expanded:E.a.bool};var Q=function(t,e){var n=t.panoramaviewer,r=t.viewermanager,i=t.obliqueviewer,o=t.measurements,a=t.srs,s=t.config;return{panoramaviewer:n.byId[e.id],viewerMode:r.viewerMode,obliqueviewer:i,measurements:o,userSrs:a.userSrs,unitAllowsToMeasure:a.userSrsUnit!==W.d.DEGREES&&a.userSrsUnit!==W.d.UNKNOWN,config:s.config}},J=function(t){return{actions:Object(I.bindActionCreators)(Z({cycloramaLinkToClipboard:j.cycloramaLinkToClipboard,generateCycloramaLink:j.generateCycloramaLink,showFlashMessage:F.showFlashMessage,logCopyLink:U.logCopyLink,logSaveImage:U.logSaveImage},H.default,q.default,B.default,z.default),t)}};e.a=Object(C.connect)(Q,J)($)},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var i=n(4),o=n.n(i),a=n(12),s=n.n(a),u=n(3),l=n.n(u),c=n(0),h=n.n(c),f=n(381),d=o.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},p=function(t){var e=t.recording,n=t.className,i=r(t,["recording","className"]);return h.a.createElement(f.a,d({value:e?e.recordedAt:void 0,className:s()(n,"recordingTimestamp")},i))};p.propTypes={recording:l.a.object,className:l.a.string},e.a=p},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=l()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(s.a?s()(t,e):t.__proto__=e)}var a=n(9),s=n.n(a),u=n(5),l=n.n(u),c=n(10),h=n.n(c),f=n(57),d=n.n(f),p=n(1),m=n.n(p),g=n(4),v=n.n(g),y=n(0),b=n.n(y),w=n(38),x=(n.n(w),n(36)),_=(n.n(x),n(274)),E=n(272),M=n(95),S=n(39),T=v.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},C=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),m()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),I=function t(e,n,r){null===e&&(e=Function.prototype);var i=d()(e,n);if(void 0===i){var o=h()(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},O=function(t){function e(){return r(this,e),i(this,(e.__proto__||h()(e)).apply(this,arguments))}return o(e,t),C(e,[{key:"componentDidMount",value:function(){this._loadRecordings(this.props.recording)}},{key:"componentWillReceiveProps",value:function(t){var e=t.recording;e!==this.props.recording&&this._loadRecordings(e)}},{key:"_loadRecordings",value:function(t){this.props.actions.updateByRecording(t)}},{key:"onSelection",value:function(){I(e.prototype.__proto__||h()(e.prototype),"onSelection",this).call(this);var t=this.props,n=t.time,r=t.timesValues,i=t.onChange,o=this.props.actions.updateRecording,a=r[n];a&&(o(a),i(n))}},{key:"timeChange",value:function(t){this.props.actions.updateTime(t)}},{key:"renderImage",value:function(){var t=this.props,e=t.yaw,n=t.yawOffset,r=Object(S.f)(Object(S.g)(n+e),0,4)*_.a,i={left:-r+"px"};return b.a.createElement("img",{alt:"",src:this.props.thumbnailUrl,style:i,className:"panorama"})}}]),e}(_.b),A=function(t,e){var n=M.default.updateRecording,r=E.b.updateByRecording,i=E.b.updateTime,o=function(t){return t.bind(null,e.id)};return{actions:T({},Object(_.c)(t,e).actions,Object(w.bindActionCreators)({updateRecording:o(n),updateByRecording:o(r),updateTime:o(i)},t))}};e.a=Object(x.connect)(_.d,A,null,{withRef:!0})(O)},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return c()(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=n(71),a=n.n(o),s=n(16),u=n.n(s),l=n(31),c=n.n(l),h=n(1),f=n.n(h),d=n(4),p=n.n(d),m=n(17),g=n.n(m),v=n(32),y=n.n(v),b=n(106),w=(n.n(b),n(242)),x=n(1394),_=p.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},E=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),f()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),M=function(){function t(e){i(this,t),this.animateId=-1,this.GeoJSONFormat=new g.a.format.GeoJSON,this.pointStyle={radius:.2,color:10982115,opacity:.8,type:"dot3D"},this.lineStyle={color:16711680,lineWidth:2,type:"line"},this.polygonStyle={outlineColor:16711680,color:16711680,lineWidth:2,opacity:1,fillOpacity:.2,wireframeOpacity:0,type:"polygon_shape"},this.viewer=e,this.onMouseDown=this.onMouseDown.bind(this),this.onMouseUp=this.onMouseUp.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.animateDrawLayer=this.animateDrawLayer.bind(this)}return E(t,[{key:"initThree",value:function(){var t=this.viewer,e=t._viewer._getViewerSize(),n=e.width,r=e.height,i=this.camera=new b.PerspectiveCamera(30,n/r,.1,1e4);i.position.set(0,0,0),i.target=new b.Vector3(0,0,0);var o=this.scene=new b.Scene;o.add(i);var a=new b.PointLight(16777215,.7,1e4);a.position.set(500,500,500),o.add(a);var s=this.renderer=new b.WebGLRenderer({alpha:!0,antialias:!0,precision:"mediump",preserveDrawingBuffer:!0});s.autoClear=!0;var u=s.domElement;u.setAttribute("style","position: absolute; left: 0px; top: 0px;"),u.addEventListener("mousemove",this.onMouseMove,!1),u.addEventListener("mousedown",this.onMouseDown,!1),u.addEventListener("mouseup",this.onMouseUp,!1),t.getElement().appendChild(u),this.drawLayer=new w.d(o,i),this.resizeDrawLayer(),this.animateDrawLayer()}},{key:"destroyThree",value:function(){var t=this.animateId,e=this.scene,n=this.renderer,r=this.drawLayer;-1!==t&&(cancelAnimationFrame(t),this.animateId=-1),x.a.destroyScene(e),r&&(r.destroy(),this.drawLayer=void 0),this.scene=void 0,this.camera=void 0,x.a.destroyRenderer(n),this.renderer=void 0}},{key:"onMouseMove",value:function(t){t.preventDefault(),this.drawLayer.mouseManager.updateMouseMove(t,this.renderer.domElement)}},{key:"onMouseDown",value:function(t){t.preventDefault(),this.drawLayer.mouseManager.updateMouseDown(t,this.renderer.domElement)}},{key:"onMouseUp",value:function(t){t.preventDefault(),this.drawLayer.mouseManager.updateMouseUp(t,this.renderer.domElement)}},{key:"animateDrawLayer",value:function(){var t=this;-1===this.animateId&&(this.animateId=requestAnimationFrame(function(){t.animateId=-1,t.renderDrawLayer(),t.animateDrawLayer()}))}},{key:"renderDrawLayer",value:function(){this.renderer.render(this.scene,this.camera)}},{key:"resizeDrawLayer",value:function(){var t=this.viewer,e=this.camera,n=this.renderer;if(t&&t._viewer){var r=t._viewer,i=r._width,o=r._height,a=i/o;n.setSize(i,o),e.aspect=a,e.updateProjectionMatrix()}}},{key:"getPointStyle",value:function(t){return _({},this.pointStyle,t,{type:this.pointStyle.type})}},{key:"getLineStyle",value:function(t){return _({},this.lineStyle,t,{type:this.lineStyle.type})}},{key:"getPolygonStyle",value:function(t){return _({},this.polygonStyle,t,{outlineColor:void 0!==t.color?t.color:this.polygonStyle.color,type:this.polygonStyle.type})}},{key:"drawFeatures",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.offset,r=e.style,i=_({},r),o=[],a=!0,s=!1,l=void 0;try{for(var c,h=u()(t);!(a=(c=h.next()).done);a=!0){var f=c.value,d=f.getGeometry();if(i.name=f.getId(),d&&d.getCoordinates){var p=d.getCoordinates();if(n&&(p=this._offsetCoordinates(p,n,!0)),d instanceof g.a.geom.Point)i=this.getPointStyle(i),d.setCoordinates(p),f.setGeometry(d),o.push(this.GeoJSONFormat.writeFeatureObject(f));else if(d instanceof g.a.geom.MultiPoint){i=this.getPointStyle(i);var m=!0,v=!1,b=void 0;try{for(var w,x=u()(p);!(m=(w=x.next()).done);m=!0){var E=w.value,M=new g.a.geom.Point(E);f.setGeometry(M),o.push(this.GeoJSONFormat.writeFeatureObject(f))}}catch(t){v=!0,b=t}finally{try{!m&&x.return&&x.return()}finally{if(v)throw b}}}else if(d instanceof g.a.geom.LineString)i=this.getLineStyle(i),d.setCoordinates(p),f.setGeometry(d),o.push(this.GeoJSONFormat.writeFeatureObject(f));else if(d instanceof g.a.geom.MultiLineString){i=this.getLineStyle(i);var S=!0,T=!1,C=void 0;try{for(var I,O=u()(p);!(S=(I=O.next()).done);S=!0){var A=I.value,L=new g.a.geom.LineString(A);f.setGeometry(L),o.push(this.GeoJSONFormat.writeFeatureObject(f))}}catch(t){T=!0,C=t}finally{try{!S&&O.return&&O.return()}finally{if(T)throw C}}}else if(d instanceof g.a.geom.Polygon)i=this.getPolygonStyle(i),d.setCoordinates(p),f.setGeometry(d),o.push(this.GeoJSONFormat.writeFeatureObject(f));else if(d instanceof g.a.geom.MultiPolygon){i=this.getPolygonStyle(i);var R=!0,N=!1,P=void 0;try{for(var k,D=u()(p);!(R=(k=D.next()).done);R=!0){var F=k.value,j=new g.a.geom.Polygon(F);f.setGeometry(j),o.push(this.GeoJSONFormat.writeFeatureObject(f))}}catch(t){N=!0,P=t}finally{try{!R&&D.return&&D.return()}finally{if(N)throw P}}}var U=!0,B=!1,z=void 0;try{for(var V,G=u()(o);!(U=(V=G.next()).done);U=!0){var H=V.value;this.drawLayer.create(H,i)}}catch(t){B=!0,z=t}finally{try{!U&&G.return&&G.return()}finally{if(B)throw z}}}else y.a.info("Cannot draw feature",f)}}catch(t){s=!0,l=t}finally{try{!a&&h.return&&h.return()}finally{if(s)throw l}}}},{key:"removeAllFeatures",value:function(){this.drawLayer.dispose()}},{key:"_offsetCoordinates",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=n?-1:1;if(Array.isArray(t))if(a()(t[0])&&a()(t[1])){if(Array.isArray(t[2])){var o;t=(o=[]).concat.apply(o,r(t)),t.length=3}t[0]+=e[0]*i,t[1]+=e[1]*i,a()(t[2])&&0!==t[2]?a()(e[2])&&(t[2]+=e[2]*i):a()(t[2])&&0!==t[2]||a()(e[3])&&(t[2]=0,t[2]+=e[3]*i)}else{var s=!0,l=!1,c=void 0;try{for(var h,f=u()(t);!(s=(h=f.next()).done);s=!0){var d=h.value;Array.isArray(d)&&this._offsetCoordinates(d,e,n)}}catch(t){l=!0,c=t}finally{try{!s&&f.return&&f.return()}finally{if(l)throw c}}}return t}}]),t}();e.a=M},function(t,e,n){"use strict";var r=n(51),i=n.n(r),o=n(16),a=n.n(o),s=n(58),u=n.n(s),l=n(66),c=n.n(l),h=n(106),f=(n.n(h),"function"==typeof c.a&&"symbol"==typeof u.a?function(t){return typeof t}:function(t){return t&&"function"==typeof c.a&&t.constructor===c.a&&t!==c.a.prototype?"symbol":typeof t}),d=function(t){t&&"object"===(void 0===t?"undefined":f(t))&&t.isTexture&&t.dispose()},p=function t(e){var n=e.materials,r=!0,o=!1,s=void 0;try{for(var u,l=a()(i()(e));!(r=(u=l.next()).done);r=!0){var c=u.value;if(/^\w+Map$/i.test(c)){var h=e[c];h&&"object"===(void 0===h?"undefined":f(h))&&h.isTexture&&(d(h),e[c]=void 0)}}}catch(t){o=!0,s=t}finally{try{!r&&l.return&&l.return()}finally{if(o)throw s}}if(n){var p=!0,m=!1,g=void 0;try{for(var v,y=a()(n);!(p=(v=y.next()).done);p=!0){t(v.value)}}catch(t){m=!0,g=t}finally{try{!p&&y.return&&y.return()}finally{if(m)throw g}}e.materials=void 0}e.dispose()},m=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.material;return n&&(p(n),t.material=void 0),e&&t.parent&&t.parent.remove(t),t.dispose&&t.dispose(),t},g=function(t){var e=[];t.traverse(function(t){e.push(m(t))});var n=!0,r=!1,i=void 0;try{for(var o,s=a()(e);!(n=(o=s.next()).done);n=!0){var u=o.value;u.parent&&u.parent.remove(u)}}catch(t){r=!0,i=t}finally{try{!n&&s.return&&s.return()}finally{if(r)throw i}}e.length=0},v=function(t){if(t instanceof h.WebGLRenderer){var e=t.domElement,n=t.context,r=t.info.programs;if(n){var i=!0,o=!1,s=void 0;try{for(var u,l=a()(r);!(i=(u=l.next()).done);i=!0){var c=u.value;if(c instanceof WebGLProgram){var f=!0,d=!1,p=void 0;try{for(var m,g=a()(n.getAttachedShaders(c));!(f=(m=g.next()).done);f=!0){var v=m.value;n.deleteShader(v)}}catch(t){d=!0,p=t}finally{try{!f&&g.return&&g.return()}finally{if(d)throw p}}n.deleteProgram(c)}else c.destroy?c.destroy():console.warn("ThreeDestroyer.destroyRenderer: not a program:",c)}}catch(t){o=!0,s=t}finally{try{!i&&l.return&&l.return()}finally{if(o)throw s}}}if(t.dispose(),n){var y=n.getSupportedExtensions();y.includes("WEBGL_lose_context")&&n.getExtension("WEBGL_lose_context").loseContext()}t.context=void 0,t.capabilities=void 0,t.extensions=void 0,t.properties=void 0,t.state=void 0,t.shadowMap=void 0,e.parentElement&&e.parentElement.removeChild(e),t.domElement=void 0}},y={destroyTexture:d,destroyMaterial:p,destroyObject:m,destroyScene:g,destroyRenderer:v};e.a=y},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=30},function(t,e,n){"use strict";var r=n(4),i=n.n(r),o=n(242),a=n(195),s=i.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=function(t){return{name:"rel-"+t.properties.id,type:o.a.CROSSHAIR,group:t.properties.group}},l=function(t){return{name:"rel-"+t.properties.id,type:o.a.LINE,group:t.properties.group,color:a.a.orange,lineWidth:1,opacity:1}},c=function(t){return{name:"rel-"+t.properties.id,type:o.a.POLYGON_SHAPE,group:t.properties.group,outlineColor:a.a.orange,color:a.a.orange,lineWidth:2,opacity:1,fillOpacity:.2,wireframeOpacity:.4}},h=function(t,e){return s({x:t[0],y:t[2],z:-t[1]},e)},f=function(t,e,n){return h(e,{type:o.a.TEXT_2D,text:" "+n+" ",group:t,fontsize:11,padding:.125,borderThickness:1,depthTest:!1})};e.a={constructPointFeatureStyle:u,constructLineFeatureStyle:l,constructPolygonFeatureStyle:c,constructPointFeature:h,constructFeatureLabel:f}},function(t,e,n){"use strict";var r=n(0),i=n.n(r),o=n(3),a=n.n(o),s=function(t){var e=t.optionName,n=t.itemChecked,r=t.action;return!!t.show&&i.a.createElement("tr",null,i.a.createElement("td",null,i.a.createElement("div",{className:"form-group"},i.a.createElement("div",{className:"checkbox"},i.a.createElement("label",{htmlFor:e,onClick:r},i.a.createElement("input",{id:"#"+e,type:"checkbox",checked:n}),i.a.createElement("span",null,e))))))};s.propTypes={optionName:a.a.string.isRequired,itemChecked:a.a.bool.isRequired,action:a.a.func.isRequired,show:a.a.bool.isRequired},e.a=s},function(t,e,n){"use strict";(function(t){function r(t,e,n){return e in t?_()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return w()(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=y()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(g.a?g()(t,e):t.__proto__=e)}var u,l=n(51),c=n.n(l),h=n(71),f=n.n(h),d=n(10),p=n.n(d),m=n(9),g=n.n(m),v=n(5),y=n.n(v),b=n(31),w=n.n(b),x=n(1),_=n.n(x),E=n(19),M=n.n(E),S=n(16),T=n.n(S),C=n(4),I=n.n(C),O=n(12),A=n.n(O),L=n(29),R=(n.n(L),n(17)),N=n.n(R),P=n(3),k=n.n(P),D=n(0),F=n.n(D),j=n(36),U=(n.n(j),n(38)),B=(n.n(U),n(26)),z=(n.n(B),n(30)),V=n(108),G=n(582),H=n(94),q=n(144),W=n(72),Y=n(146),X=n(273),Z=n(121),K=n(67),$=n(54),Q=n(267),J=n(1399),tt=n(598),et=n(363),nt=n(1400),rt=n(1404),it=n(606),ot=n(604),at=n(605),st=n(609),ut=n(107),lt=n(39),ct=n(109),ht=n(259),ft=n(571),dt=I.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pt=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=T()(t);!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(M()(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),mt=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),_()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),gt=function(e){function n(){var t;o(this,n);for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];var s=a(this,(t=n.__proto__||p()(n)).call.apply(t,[this].concat(r)));s.olEventListenerIds=[];var u=s.props,l=u.showScaleBar,c=u.showZoomSlider;return s._mapControls=new et.c({showScaleBar:l,showZoomSlider:c}),s.colorManager=s.props.colorManager,s.colorStyle=s.colorManager.getColorStyle(3),s.toggleNavbarExpanded=s.toggleNavbarExpanded.bind(s),s.getNavbarExpanded=s.getNavbarExpanded.bind(s),s.toggleNavbarVisible=s.toggleNavbarVisible.bind(s),s.getNavbarVisible=s.getNavbarVisible.bind(s),s.zoomIn=s.zoomIn.bind(s),s.zoomOut=s.zoomOut.bind(s),s.centerMap=s.centerMap.bind(s),s.onPointerUp=s.onPointerUp.bind(s),s.onViewChange=s.onViewChange.bind(s),s.onToggleNadir=s.onToggleNadir.bind(s),s.resetRotation=s.resetRotation.bind(s),s.setRotation=s.setRotation.bind(s),s.updateTimeTravel=Object(L.throttle)(s.updateTimeTravel.bind(s),500),s}return s(n,e),mt(n,[{key:"getType",value:function(){return $.ViewerType.OBLIQUE}},{key:"componentWillMount",value:function(){this.props.actions.addTimeTravel()}},{key:"componentDidMount",value:function(){var t=this,e=this.props,n=e.id,r=e.recording,i=e.viewCenter,o=e.viewRotation,a=e.viewResolution,s=e.viewExtent,u=e.ui,l=u[Q.a.NAVBAR].expanded,c=u[Q.a.TIME_TRAVEL].expanded,h={target:n,logo:!1,controls:this._mapControls.controlPackage},f=this.map=new N.a.Map(h);this.props.actions.updateObliqueViewer({color:this.colorStyle.color}),this.createViewer({recording:r,viewCenter:i,viewRotation:o,viewResolution:a,viewExtent:s}),"boolean"==typeof c&&c&&this.toggleTimeTravelExpanded(c),"boolean"==typeof l&&l&&this.toggleNavbarExpanded(l),this.olEventListenerIds.push(f.on("pointerup",this.onPointerUp),f.on("pointerup",function(e){var n=e.map.getView(),r=n.getCenter(),i=pt(r,2),o=i[0],a=i[1];dispatchEvent(new CustomEvent("ObliqueViewerDragged",{detail:{center:[o,a],recording:t.props.recording}}))}),f.on(["moveend","pointerdrag"],this.onViewChange)),this.onPointerUp()}},{key:"componentWillUnmount",value:function(){dispatchEvent(new CustomEvent(ft.a.OBLIQUE_DELETED,{detail:{id:this.props.id}})),this.olEventListenerIds.forEach(N.a.Observable.unByKey),this.map.setTarget(null),this.props.actions.removeTimeTravel(),this.colorManager.releaseColor(this.colorStyle.name)}},{key:"componentWillReceiveProps",value:function(t){var e=t.viewCenter,n=t.viewRotation,r=void 0===n?0:n,i=t.viewExtent,o=t.recording,a=t.ui,s=a[Q.a.NAVBAR],u=s.visible,l=s.expanded,c=a[Q.a.TIME_TRAVEL],h=c.visible,f=c.expanded,d=o.imageId,p=o.isOblique,m=o.preferredImageRotation,g=o.width,v=o.height,y=o.zoomlevels,b=pt(e,2),w=b[0],x=b[1],_=this.props,E=_.id,M=pt(_.viewCenter,2),S=M[0],T=M[1],C=_.viewRotation,I=void 0===C?0:C,O=_.viewExtent,A=_.recording,L=_.ui,R=L[Q.a.NAVBAR],N=R.visible,P=R.expanded,k=L[Q.a.TIME_TRAVEL],D=k.visible,F=k.expanded,j=A.imageId,U=A.isOblique,B=A.preferredImageRotation,z=A.width,V=A.height,G=A.zoomlevels,H=this.map,q=this.mapLayer,W=this.obliqueTileLayer,Y=H.getView(),X=!1;if(d!==j){var Z=void 0;if(p===U){Z=m+(I-B)}else if(p)Z=m;else{var K=A.imageRotationToHeading(I);Z=o.headingToImageRotation(K)}g!==z||v!==V||y!==G?(H.removeLayer(q),this.createViewer({recording:o,viewRotation:Z,viewResolution:Y.getResolution(),viewCenter:e,viewExtent:i})):(W.imageId=d,q.getSource().refresh(),X=!0,Y.setCenter(e),Y.setRotation(Z))}else X=!0,w===S&&x===T||Y.setCenter(e),r!==I&&Y.setRotation(r);X&&i&&i!==O&&(this.setExtent(i,{recording:o}),Y.setCenter(e)),u!==N&&u!==this.getNavbarVisible()&&this.toggleNavbarVisible(u),l!==P&&l!==this.getNavbarExpanded()&&(this.toggleNavbarExpanded(l),setTimeout(function(){return H.updateSize()},0)),h!==D&&h!==this.getTimeTravelVisible()&&this.toggleTimeTravelVisible(h),f!==F&&f!==this.getTimeTravelExpanded()&&this.toggleTimeTravelExpanded(f),dispatchEvent(new CustomEvent(ft.a.OBLIQUE_UPDATED,{detail:{id:E,center:e,size:H.getSize(),resolution:Y.getResolution(),rotation:r,recording:o,color:this.colorStyle.color}}))}},{key:"updateTimeTravel",value:function(){this.props.actions.updateObliqueTimes()}},{key:"componentDidUpdate",value:function(t,e){t.windowmanagerRevision!==this.props.windowmanagerRevision&&this.map.updateSize()}},{key:"createViewer",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.recording,i=n.viewRotation,o=n.viewCenter,a=n.viewResolution,s=n.viewExtent,u=this.props,l=u.id,c=u.obliqueTilesUrl,h=r.imageId,d=r.imageWidth,p=r.imageHeight,m=r.zoomlevels;this.obliqueTileLayer=new tt.b({id:l,imageId:h,imageSize:[d,p],maxZoomLevel:m,url:c}),this.mapLayer=this.obliqueTileLayer.toMapLayer(),this.map.addLayer(this.mapLayer);var g=this.mapLayer.getSource(),v=g.getProjection(),y=m,b=1*Math.pow(2,y-1),w=y+1,x=1*Math.pow(2,-1),_=b*Math.pow(2,0),E=void 0!==o?o:[d/2,p/2],M=f()(a)?a:4,S=i,T={projection:v,extent:v.getExtent(),center:E,minZoom:1,maxZoom:w,minResolution:x,maxResolution:_,resolution:M,constrainRotation:!1,rotation:S},C=new N.a.View(T);this.map.setView(C),s&&t.setTimeout(function(){e.setExtent(s,{recording:r}),C.setCenter(E)},0);var I=this.map.getSize();this.props.actions.updateObliqueViewer({viewSize:I}),dispatchEvent(new CustomEvent(ft.a.OBLIQUE_CREATED,{detail:{id:l,center:E,size:I,resolution:M,rotation:S,recording:r,color:this.colorStyle.color}}))}},{key:"setExtent",value:function(t,e){var n=e.recording,r=void 0===n?this.props.recording:n,i=this.map.getView(),o=r.avgFootprintHeight,a=new N.a.geom.Polygon([[r.worldVectorToPixel(t[0],t[1],o),r.worldVectorToPixel(t[0],t[3],o),r.worldVectorToPixel(t[2],t[3],o),r.worldVectorToPixel(t[2],t[1],o),r.worldVectorToPixel(t[0],t[1],o)]]);i.fit(a)}},{key:"toggleNavbarVisible",value:function(t){void 0!==t&&"boolean"!=typeof t&&Object(ut.b)("toggleNavbarVisible");var e=this.props.actions,n=this.props.ui[Q.a.NAVBAR].visible;e.toggleUiState(Q.a.NAVBAR,"visible",void 0!==t?t:!n)}},{key:"getNavbarVisible",value:function(){return this.props.ui[Q.a.NAVBAR].visible}},{key:"toggleNavbarExpanded",value:function(t){void 0!==t&&"boolean"!=typeof t&&Object(ut.b)("toggleNavbarExpanded");var e=this.props.actions,n=this.props.ui[Q.a.NAVBAR].expanded;e.toggleUiState(Q.a.NAVBAR,"expanded",void 0!==t?t:!n)}},{key:"getNavbarExpanded",value:function(){return this.props.ui[Q.a.NAVBAR].expanded}},{key:"toggleButtonEnabled",value:function(t,e){this.props.actions.toggleUiState(t,"enabled",e)}},{key:"getButtonEnabled",value:function(t){var e=this.props.ui;return"*"===t?[].concat(i(e)):e[t].enabled}},{key:"toggleTimeTravelVisible",value:function(t){this.props.tidEnabled&&Object(ut.c)("toggleTimeTravelVisible"),void 0!==t&&"boolean"!=typeof t&&Object(ut.b)("toggleTimeTravelVisible");var e=this.props.actions,n=this.props.ui[Q.a.TIME_TRAVEL].visible;e.toggleUiState(Q.a.TIME_TRAVEL,"visible",void 0!==t?t:!n)}},{key:"getTimeTravelVisible",value:function(){return this.props.ui[Q.a.TIME_TRAVEL]&&this.props.ui[Q.a.TIME_TRAVEL].visible}},{key:"toggleTimeTravelExpanded",value:function(t){this.props.tidEnabled&&Object(ut.c)("toggleTimeTravelExpanded"),void 0!==t&&"boolean"!=typeof t&&Object(ut.b)("toggleTimeTravelExpanded");var e=this.props,n=e.actions,r=e.timetravel;n.toggleTimeTravel(void 0!==t?t:!r.visible)}},{key:"getTimeTravelExpanded",value:function(){return this.props.timetravel&&this.props.timetravel.visible}},{key:"updateZoom",value:function(t){var e=this.map.getView(),n=e.getZoom();e.setZoom(n+t)}},{key:"switchViewingDirection",value:function(t){var e=this.props,n=e.recording,r=e.viewHeading,i=void 0===r?0:r,o=e.openNearestFromPixel;if(o){var a=this.map.getView().getCenter(),s=pt(a,2);o(n,s[0],s[1],n?n.avgFootprintHeight:0,{viewHeading:Object(lt.f)(i+Object(lt.e)(t),0,lt.b)})}}},{key:"zoomIn",value:function(){this.updateZoom(1)}},{key:"zoomOut",value:function(){this.updateZoom(-1)}},{key:"centerMap",value:function(){var t=this.props.recording,e=this.map.getView(),n=t.srs,r=e.getCenter(),i=pt(r,2),o=i[0],a=i[1],s=t.avgFootprintHeight,u=this.props.recording.pixelToWorldVector(o,a,s);this.props.actions.centerMap(u,n,!0)}},{key:"onPointerUp",value:function(t){var e=this.props,n=e.recording,r=e.viewHeading,i=e.openNearestFromPixel,o=n.width,a=n.height,s=this.map,u=s.getView(),l=u.getCenter(),c=pt(l,2),h=c[0],f=c[1],d=u.getResolution(),p=u.getProjection().getExtent(),m=Math.min(100*d,p[2]/d/4,p[3]/d/4);(h<=m||h>=o-m||f<=m||f>=a-m)&&i&&(this.updateTimeTravel.cancel(),i(n,h,f,n.avgFootprintHeight,{viewHeading:r,isOblique:n.isOblique}))}},{key:"onViewChange",value:function(t){var e=this.props,n=e.viewCenter,r=e.viewSize,i=e.viewResolution,o=e.viewRotation,a=e.actions,s=e.timetravel,u=(e.recording,this.map),l=u.getView(),c=l.getCenter(),h=u.getSize(),f=l.getResolution(),d=l.getRotation();(Math.abs(d-o)<1e-8||f!==i||!Object(L.isEqual)(c,n)||!Object(L.isEqual)(h,r))&&(l.setRotation(d),a.updateObliqueViewer({viewCenter:c,viewSize:h,viewResolution:f,viewRotation:d}),s&&s.visible&&0!==s.historyRecordings.length&&this.updateTimeTravel())}},{key:"onToggleNadir",value:function(){var t=this.props,e=t.recording,n=t.viewHeading,r=t.openNearestFromPixel;if(r){var i=this.map.getView(),o=i.getCenter(),a=pt(o,2);r(e,a[0],a[1],e?e.avgFootprintHeight:0,{isOblique:!e.isOblique,viewHeading:n})}}},{key:"setRotation",value:function(t){var e=this.props,n=e.id,r=e.recording,i=e.viewRotation,o=e.actions.updateObliqueViewer,a=r.headingToImageRotation(t);a!==i&&o({id:n,viewRotation:a})}},{key:"resetRotation",value:function(){this.setRotation(this.props.recording.preferredHeading)}},{key:"render",value:function(){var t=this,e=this.props,n=e.id,r=e.className,i=e.isApi,o=e.recording,a=e.timetravel,s=e.actions,u=(e.viewRotation,e.viewHeading),l=e.ui,c=l[Q.a.buttons.SWITCH_DIRECTION].enabled,h=l[Q.a.buttons.TOGGLE_NADIR].enabled,f=l[Q.a.NAVBAR],d=f.visible,p=f.expanded,m=l[Q.a.TIME_TRAVEL].visible,g=-u,v=a&&m&&!!o,y=void 0;switch(this.props.activePanel){case ct.a.NONE:y=null;break;case ct.a.COMPASS:y=F.a.createElement(G.a,{rotation:g,resetRotation:this.resetRotation,setRotation:function(e){return t.setRotation(-e)}});break;case ct.a.IMAGE_INFORMATION:y=F.a.createElement(nt.a,{recording:this.props.recording});break;default:y=null}return F.a.createElement("div",{className:A()("obliqueviewer","viewer","flexColumn",r)},F.a.createElement("div",{className:"flexColumn ob-relative-pos"},F.a.createElement("div",{className:"flexColumn flexItem"},F.a.createElement("div",{id:n,className:"openLayers flexItem"}),F.a.createElement(ot.a,null),o.isOblique&&c&&F.a.createElement("div",{className:"obliquecontrols"},F.a.createElement(V.a,dt({placement:"bottom"},q.a.obliqueRotateView),F.a.createElement(B.Button,{className:"btn btn-top",onClick:function(){return t.switchViewingDirection(180)}},F.a.createElement(H.b.ObliqueDirection,null))),F.a.createElement(V.a,dt({placement:"right"},q.a.obliqueRotateView),F.a.createElement(B.Button,{className:"btn btn-left",onClick:function(){return t.switchViewingDirection(90)}},F.a.createElement(H.b.ObliqueDirection,null))),F.a.createElement(V.a,dt({placement:"left"},q.a.obliqueRotateView),F.a.createElement(B.Button,{className:"btn btn-right",onClick:function(){return t.switchViewingDirection(-90)}},F.a.createElement(H.b.ObliqueDirection,null)))),h&&F.a.createElement(V.a,dt({placement:"top"},q.a.obliqueNadirSwitch),F.a.createElement("div",{className:"nadircontrols"},F.a.createElement(st.a,{labelOn:F.a.createElement(H.b.Nadir,null),labelOff:F.a.createElement(H.b.Oblique,null),onToggleButton:this.onToggleNadir,value:!o.isOblique,disabled:!1})))),F.a.createElement(at.a,{color:this.colorStyle.color}),F.a.createElement(it.a,{visible:m,recording:o,onClick:function(){s.logClickControl("time_travel_toggle"),a.visible||s.updateObliqueTimes(),s.toggleTimeTravel()}}),v&&F.a.createElement(rt.a,{id:n,recording:o}),F.a.createElement("div",{className:"cmtViewerPanel"},y),!1),d&&F.a.createElement(J.a,{id:n,expanded:p,onExpand:this.toggleNavbarExpanded,zoomIn:this.zoomIn,zoomOut:this.zoomOut,centerMap:this.centerMap,map:this.map,compassRotation:g,resetRotation:this.resetRotation,isApi:i}))}}]),n}(z.a);gt.propTypes={recording:k.a.instanceOf(ht.b),showScaleBar:k.a.bool,showZoomSlider:k.a.bool,ui:k.a.object},gt.defaultProps={navbarVisible:!0,id:"oblique",showScaleBar:!1,showZoomSlider:!1,ui:(u={},r(u,Q.a.NAVBAR,{visible:!0,expanded:!0}),r(u,Q.a.TIME_TRAVEL,{visible:!0,expanded:!1}),u)};var vt=function(t,e){var n=t.obliqueviewer,r=t.config,i=t.timetravel,o=t.windowmanager;return dt({},n.byId[e.id]||{},{obliqueViewerCount:c()(n.byId).length,isApi:r.isApi,timetravel:i.byId[e.id]||null,windowmanagerRevision:o.revision})},yt=function(t,e){var n=function(t){return t.bind(null,e.id)};return{actions:Object(U.bindActionCreators)({updateObliqueViewer:n(Y.updateObliqueViewer),toggleUiState:n(Y.toggleUiState),addTimeTravel:Z.addTimeTravel.bind(null,e.id,Z.TimeTravelType.OBLIQUE),removeTimeTravel:n(Z.removeTimeTravel),toggleTimeTravel:n(Z.toggleTimeTravel),showFlashMessage:W.showFlashMessage,centerMap:$.centerMap,updateObliqueTimes:n(X.c),logClickControl:K.logClickControl},t)}};e.a=Object(j.connect)(vt,yt,null,{withRef:!0})(gt)}).call(e,n(34))},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=h()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(l.a?l()(t,e):t.__proto__=e)}var a=n(10),s=n.n(a),u=n(9),l=n.n(u),c=n(5),h=n.n(c),f=n(1),d=n.n(f),p=n(4),m=n.n(p),g=n(143),v=n.n(g),y=n(3),b=n.n(y),w=n(0),x=n.n(w),_=n(26),E=(n.n(_),n(36)),M=(n.n(E),n(38)),S=(n.n(M),n(144)),T=n(30),C=n(108),I=n(94),O=n(361),A=n(362),L=n(109),R=n(72),N=n(256),P=n(67),k=n(146),D=n(267),F=n(54),j=n(214),U=m.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},B=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),z=function(t){function e(){var t;r(this,e);for(var n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];var u=i(this,(t=e.__proto__||s()(e)).call.apply(t,[this].concat(o)));return u.onWindowClick=u.onWindowClick.bind(u),u}return o(e,t),B(e,[{key:"componentDidMount",value:function(){window.addEventListener("pointerdown",this.onWindowClick)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("pointerdown",this.onWindowClick)}},{key:"componentWillReceiveProps",value:function(t){var e=this.props.expanded;e!==t.expanded&&e&&this.setActivePanel(L.a.NONE)}},{key:"onWindowClick",value:function(t){var e=this.props.activePanel,n=v()(t.target);e!==L.a.NONE&&e!==L.a.IMAGE_INFORMATION&&0===n.closest(".cmtViewerPanel").length&&0===n.closest(".cmtViewerPanelButton").length&&this.props.actions.setActivePanel(this.props.id,L.a.NONE)}},{key:"setActivePanel",value:function(t){var e=this.props.activePanel,n=this.props.actions.setActivePanel;e===t?n(this.props.id,L.a.NONE):n(this.props.id,t)}},{key:"render",value:function(){var t=this,e=this.props,n=e.onExpand,r=e.expanded,i=e.compassRotation,o=e.ui,a={onExpand:n,expanded:r},s=r?"-expanded":"-contracted";return x.a.createElement(O.a,U({},a,{className:"viewer-navbar"+s+" cmt-navbar",right:x.a.createElement(_.ButtonGroup,{className:"nav navbar-nav"},o[D.a.buttons.CENTER_MAP].enabled&&!this.props.isApi&&x.a.createElement(C.a,U({placement:"top"},S.a.mapLocation),x.a.createElement(_.Button,{onClick:this.props.centerMap},x.a.createElement(I.b.Locate,null))),o[D.a.buttons.IMAGE_INFORMATION].enabled&&x.a.createElement(C.a,U({placement:"top"},S.a.imageInfo),x.a.createElement(_.Button,{className:"cmtViewerPanelButton",onClick:function(){return t.setActivePanel(L.a.IMAGE_INFORMATION)}},x.a.createElement(I.b.Information,null))),!this.props.isApi&&o[D.a.buttons.COPY_LINK].enabled&&x.a.createElement(C.a,U({placement:"top"},S.a.copyObliqueLink),x.a.createElement(_.Button,{onClick:function(){return t.copyLinkToClipboard()}},x.a.createElement(I.b.ToClipboard,null))),o[D.a.buttons.SAVE_IMAGE].enabled&&x.a.createElement(C.a,U({placement:"top"},S.a.obliqueImage),x.a.createElement(_.Button,{onClick:function(){return t.saveImage()}},x.a.createElement(I.b.Download,null))),o[D.a.buttons.COMPASS].enabled&&x.a.createElement(C.a,U({placement:"top"},S.a.compass),x.a.createElement(_.Button,{className:"cmtViewerPanelButton",onClick:function(){return t.setActivePanel(L.a.COMPASS)},onDoubleClick:this.props.resetRotation},x.a.createElement(I.b.Compass,{style:{transform:"rotate("+i+"rad)"}}))),o[D.a.buttons.ZOOM_IN].enabled&&x.a.createElement(C.a,U({placement:"top"},S.a.zoomInButton),x.a.createElement(_.Button,{onClick:this.props.zoomIn},x.a.createElement(I.b.ZoomIn,null))),o[D.a.buttons.ZOOM_OUT].enabled&&x.a.createElement(C.a,U({placement:"top"},S.a.zoomOutButton),x.a.createElement(_.Button,{onClick:this.props.zoomOut},x.a.createElement(I.b.ZoomOut,null))))}))}},{key:"copyLinkToClipboard",value:function(){var t=this.context.intl.formatMessage,e=this.props.recording,n=this.props.actions,r=n.obliqueLinkToClipboard,i=n.logCopyLink,o=n.showFlashMessage;r(e.imageId).then(function(e){i(e.payload),o(t(j.a.copied),{delay:1e3})})}},{key:"saveImage",value:function(){var t=this,e=this.props.map;e.once("postcompose",function(e){var n=e.context.canvas;Object(A.a)(n,"oblique.png"),t.props.actions.logSaveImage("oblique")}),e.renderSync()}}]),e}(T.a);z.propTypes={onExpand:b.a.func,expanded:b.a.bool,compassRotation:b.a.number},z.defaultProps={compassRotation:0};var V=function(t,e){var n=(t.srs,t.obliqueviewer),r=t.viewermanager;return U({},n.byId[e.id],{viewerManagerViewerMode:r.viewerMode})},G=function(t){return{actions:Object(M.bindActionCreators)(U({obliqueLinkToClipboard:N.obliqueLinkToClipboard,showFlashMessage:R.showFlashMessage,logCopyLink:P.logCopyLink,logSaveImage:P.logSaveImage},F.default,{setActivePanel:k.default.setActivePanel}),t)}};e.a=Object(E.connect)(V,G)(z)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=m()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(d.a?d()(t,e):t.__proto__=e)}var a=n(48),s=n.n(a),u=n(1401),l=n.n(u),c=n(10),h=n.n(c),f=n(9),d=n.n(f),p=n(5),m=n.n(p),g=n(1),v=n.n(g),y=n(19),b=n.n(y),w=n(16),x=n.n(w),_=n(0),E=n.n(_),M=n(26),S=(n.n(M),n(15)),T=(n.n(S),n(36)),C=(n.n(T),n(30)),I=n(381),O=n(214),A=n(263),L=n(39),R=n(44),N=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=x()(t);!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(b()(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),P=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),v()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),k=Object(S.defineMessages)({panelHeader:{id:"ObliqueImageInformation.panelHeader",description:"Header for the image information panel",defaultMessage:"Image Information"},generalTab:{id:"ObliqueImageInformation.generalTab",description:"Header for general tab",defaultMessage:"General"},locationTab:{id:"ObliqueImageInformation.locationTab",description:"Header for location tab",defaultMessage:"Location"},precisionTab:{id:"ObliqueImageInformation.precisionTab",description:"Header for precision tab",defaultMessage:"Precision"},propertyColumn:{id:"ObliqueImageInformation.propertyColumn",description:"Property column header",defaultMessage:"Property"},valueColumn:{id:"ObliqueImageInformation.valueColumn",description:"Value column header",defaultMessage:"Value"},imageId:{id:"ObliqueImageInformation.imageId",description:"Image id",defaultMessage:"ID"},recordingType:{id:"ObliqueImageInformation.recordingType",description:"Recording type",defaultMessage:"Recording Type"},recordingDate:{id:"ObliqueImageInformation.recordingDate",description:"Recording date",defaultMessage:"Recording Date"},srs:{id:"ObliqueImageInformation.srs",description:"Coordinate system",defaultMessage:"Coordinate System"},heightSystem:{id:"ObliqueImageInformation.heightSystem",description:"Height system",defaultMessage:"Height System"},viewingDirection:{id:"ObliqueImageInformation.viewingDirection",description:"Viewing direction",defaultMessage:"Viewing direction"},x:{id:"ObliqueImageInformation.x",description:"X (in coordinate system)",defaultMessage:"X ({units})"},y:{id:"ObliqueImageInformation.y",description:"Y (in coordinate system)",defaultMessage:"Y ({units})"},height:{id:"ObliqueImageInformation.height",description:"Height or Z (in coordinate system)",defaultMessage:"Height ({units})"},heading:{id:"ObliqueImageInformation.heading",description:"Heading",defaultMessage:"Heading ({units})"},pitch:{id:"ObliqueImageInformation.pitch",description:"Pitch",defaultMessage:"Pitch ({units})"},roll:{id:"ObliqueImageInformation.roll",description:"Roll",defaultMessage:"Roll ({units})"},footprintX:{id:"ObliqueImageInformation.footprintX",description:"Footprint center X",defaultMessage:"Footprint center X ({units})"},footprintY:{id:"ObliqueImageInformation.footprintY",description:"Footprint center Y",defaultMessage:"Footprint center Y ({units})"},xPrecision:{id:"ObliqueImageInformation.xPrecision",description:"X Precision",defaultMessage:"X Precision ({units})"},yPrecision:{id:"ObliqueImageInformation.yPrecision",description:"Y Precision",defaultMessage:"Y Precision ({units})"},heightPrecision:{id:"ObliqueImageInformation.heightPrecision",description:"Height (Z) precision",defaultMessage:"Height Precision ({units})"},groundPrecisionX:{id:"ObliqueImageInformation.groundPrecisionX",description:"Ground precision X",defaultMessage:"Ground precision X ({units})"},groundPrecisionY:{id:"ObliqueImageInformation.groundPrecisionY",description:"Ground precision Y",defaultMessage:"Ground precision Y ({units})"},groundPrecisionZ:{id:"ObliqueImageInformation.groundPrecisionZ",description:"Ground precision Z",defaultMessage:"Ground precision Z ({units})"},headingPrecision:{id:"ObliqueImageInformation.headingPrecision",description:"Heading precision",defaultMessage:"Heading Precision ({units})"},pitchPrecision:{id:"ObliqueImageInformation.pitchPrecision",description:"Pitch precision",defaultMessage:"Pitch Precision ({units})"},rollPrecision:{id:"ObliqueImageInformation.rollPrecision",description:"Roll precision",defaultMessage:"Roll Precision ({units})"}}),D=function(t){function e(){var t;r(this,e);for(var n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];var s=i(this,(t=e.__proto__||h()(e)).call.apply(t,[this].concat(o)));return s.state={activeTab:1},s}return o(e,t),P(e,[{key:"render",value:function(){var t=this,e=this.context.intl.formatMessage,n=this.props.recording,r=void 0,i=void 0;return n&&(r=R.i.getPrecision(n.srs),i=R.i.getUnitsForSrs(n.srs)),E.a.createElement(M.Panel,{className:"cmtImageInformationPanel cmtNavBarPanel",header:e(k.panelHeader)},E.a.createElement(M.Tab.Container,{position:"left",tabWidth:3,defaultActiveKey:1,activeKey:this.state.activeTab,onSelect:function(e){t.setState({activeTab:e})}},E.a.createElement(M.Row,{className:"clearfix fix-bootstrap-row"},E.a.createElement(M.Col,{xs:3,className:"fix-bootstrap-col"},E.a.createElement(M.Nav,{bsStyle:"pills",stacked:!0},E.a.createElement(M.NavItem,{eventKey:1},e(k.generalTab)),E.a.createElement(M.NavItem,{eventKey:2},e(k.locationTab)),E.a.createElement(M.NavItem,{eventKey:3},e(k.precisionTab)),!1)),E.a.createElement(M.Col,{xs:9,className:"fix-bootstrap-col"},E.a.createElement(M.Tab.Content,null,E.a.createElement(M.Tab.Pane,{eventKey:1},this.renderGeneralInfo(n)),E.a.createElement(M.Tab.Pane,{eventKey:2},this.renderLocationInfo(n,r,i)),E.a.createElement(M.Tab.Pane,{eventKey:3},this.renderPrecisionInfo(n,i)),!1)))))}},{key:"renderGeneralInfo",value:function(t){if(!t)return null;var e=this.context.intl.formatMessage;return E.a.createElement(M.Table,{striped:!0,bordered:!0,condensed:!0},E.a.createElement("thead",null,E.a.createElement("tr",null,E.a.createElement("th",null,e(k.propertyColumn)),E.a.createElement("th",null,e(k.valueColumn)))),E.a.createElement("tbody",null,E.a.createElement("tr",null,E.a.createElement("td",null,e(k.imageId)),E.a.createElement("td",null,t.imageId)),E.a.createElement("tr",null,E.a.createElement("td",null,e(k.recordingType)),E.a.createElement("td",null,t.productType)),E.a.createElement("tr",null,E.a.createElement("td",null,e(k.recordingDate)),E.a.createElement("td",null,E.a.createElement(I.a,{value:t.recordedAt,showTime:!0}))),E.a.createElement("tr",null,E.a.createElement("td",null,e(k.viewingDirection)),E.a.createElement("td",null,t.viewDirection))))}},{key:"renderLocationInfo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.xyUnits,i=n.heightUnits;if(!t)return null;var o=this.context.intl.formatMessage,a=R.i.METRIC_PRECISION,s=R.i.DEGREE_PRECISION,u=R.i.Units,l=R.i.formatSrsName,c=o(A.a[r]),h=o(A.a[i]),f=o(A.a[u.DEGREES]),d=t.footprintCentre.getCoordinates(),p=t.srs;return E.a.createElement(M.Table,{striped:!0,bordered:!0,condensed:!0},E.a.createElement("thead",null,E.a.createElement("tr",null,E.a.createElement("th",null,o(k.propertyColumn)),E.a.createElement("th",null,o(k.valueColumn)))),E.a.createElement("tbody",null,E.a.createElement("tr",null,E.a.createElement("td",null,o(k.x,{units:c})),E.a.createElement("td",null,E.a.createElement(S.FormattedNumber,{value:t.camX,minimumFractionDigits:e,maximumFractionDigits:e,useGrouping:!1}))),E.a.createElement("tr",null,E.a.createElement("td",null,o(k.y,{units:c})),E.a.createElement("td",null,E.a.createElement(S.FormattedNumber,{value:t.camY,minimumFractionDigits:e,maximumFractionDigits:e,useGrouping:!1}))),E.a.createElement("tr",null,E.a.createElement("td",null,o(k.height,{units:h})),E.a.createElement("td",null,E.a.createElement(S.FormattedNumber,{value:t.camZ,minimumFractionDigits:a,maximumFractionDigits:a,useGrouping:!1}))),E.a.createElement("tr",null,E.a.createElement("td",null,o(k.heading,{units:f})),E.a.createElement("td",null,E.a.createElement(S.FormattedNumber,{value:Object(L.f)(Object(L.d)(t.heading),-180,180),minimumFractionDigits:s,maximumFractionDigits:s}))),E.a.createElement("tr",null,E.a.createElement("td",null,o(k.pitch,{units:f})),E.a.createElement("td",null,E.a.createElement(S.FormattedNumber,{value:Object(L.f)(Object(L.d)(t.pitch),-180,180),minimumFractionDigits:s,maximumFractionDigits:s}))),E.a.createElement("tr",null,E.a.createElement("td",null,o(k.roll,{units:f})),E.a.createElement("td",null,E.a.createElement(S.FormattedNumber,{value:Object(L.f)(Object(L.d)(t.roll),-180,180),minimumFractionDigits:s,maximumFractionDigits:s}))),E.a.createElement("tr",null,E.a.createElement("td",null,o(k.footprintX,{units:c})),E.a.createElement("td",null,E.a.createElement(S.FormattedNumber,{value:d[0],minimumFractionDigits:e,maximumFractionDigits:e,useGrouping:!1}))),E.a.createElement("tr",null,E.a.createElement("td",null,o(k.footprintY,{units:c})),E.a.createElement("td",null,E.a.createElement(S.FormattedNumber,{value:d[1],minimumFractionDigits:e,maximumFractionDigits:e,useGrouping:!1}))),E.a.createElement("tr",null,E.a.createElement("td",null,o(k.srs)),E.a.createElement("td",null,l(this.props.srs.srs.find(function(t){return t.SRSName===p}))))))}},{key:"renderFormattedNumber",value:function(t,e){var n=this.context.intl.formatMessage;return"number"!=typeof t||l()(t)?n(O.a.na):E.a.createElement(S.FormattedNumber,{value:t,minimumFractionDigits:e,maximumFractionDigits:e})}},{key:"renderPrecisionInfo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.precisionUnits;if(!t)return null;var r=this.context.intl.formatMessage,i=R.i.METRIC_PRECISION,o=R.i.DEGREE_PRECISION,a=R.i.Units,s=r(A.a[n]),u=r(A.a[a.DEGREES]);return E.a.createElement(M.Table,{striped:!0,bordered:!0,condensed:!0},E.a.createElement("thead",null,E.a.createElement("tr",null,E.a.createElement("th",null,r(k.propertyColumn)),E.a.createElement("th",null,r(k.valueColumn)))),E.a.createElement("tbody",null,E.a.createElement("tr",null,E.a.createElement("td",null,r(k.xPrecision,{units:s})),E.a.createElement("td",null,this.renderFormattedNumber(t.latitudePrecision,i))),E.a.createElement("tr",null,E.a.createElement("td",null,r(k.yPrecision,{units:s})),E.a.createElement("td",null,this.renderFormattedNumber(t.longitudePrecision,i))),E.a.createElement("tr",null,E.a.createElement("td",null,r(k.heightPrecision,{units:s})),E.a.createElement("td",null,this.renderFormattedNumber(t.heightPrecision,i))),E.a.createElement("tr",null,E.a.createElement("td",null,r(k.groundPrecisionX,{units:s})),E.a.createElement("td",null,this.renderFormattedNumber(t.groundPrecisionX,i))),E.a.createElement("tr",null,E.a.createElement("td",null,r(k.groundPrecisionY,{units:s})),E.a.createElement("td",null,this.renderFormattedNumber(t.groundPrecisionY,i))),E.a.createElement("tr",null,E.a.createElement("td",null,r(k.groundPrecisionZ,{units:s})),E.a.createElement("td",null,this.renderFormattedNumber(t.groundPrecisionZ,i))),E.a.createElement("tr",null,E.a.createElement("td",null,r(k.headingPrecision,{units:u})),E.a.createElement("td",null,this.renderFormattedNumber(t.headingPrecision,o))),E.a.createElement("tr",null,E.a.createElement("td",null,r(k.pitchPrecision,{units:u})),E.a.createElement("td",null,this.renderFormattedNumber(t.pitchPrecision,o))),E.a.createElement("tr",null,E.a.createElement("td",null,r(k.rollPrecision,{units:u})),E.a.createElement("td",null,this.renderFormattedNumber(t.rollPrecision,o)))))}},{key:"renderRawInfo",value:function(t){var e=this.context.intl.formatMessage;return E.a.createElement(M.Table,{striped:!0,bordered:!0,condensed:!0},E.a.createElement("thead",null,E.a.createElement("tr",null,E.a.createElement("th",null,e(k.propertyColumn)),E.a.createElement("th",null,e(k.valueColumn)))),E.a.createElement("tbody",null,s()(t).map(function(t,e){var n=N(t,2),r=n[0],i=n[1];return E.a.createElement("tr",{key:e},E.a.createElement("td",null,r),E.a.createElement("td",null,""+i))})))}}]),e}(C.a),F=function(t){return{srs:t.srs}};e.a=Object(T.connect)(F)(D)},function(t,e,n){t.exports={default:n(1402),__esModule:!0}},function(t,e,n){n(1403),t.exports=n(22).Number.isNaN},function(t,e,n){var r=n(37);r(r.S,"Number",{isNaN:function(t){return t!=t}})},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=l()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(s.a?s()(t,e):t.__proto__=e)}var a=n(9),s=n.n(a),u=n(5),l=n.n(u),c=n(10),h=n.n(c),f=n(57),d=n.n(f),p=n(1),m=n.n(p),g=n(4),v=n.n(g),y=n(0),b=n.n(y),w=n(38),x=(n.n(w),n(36)),_=(n.n(x),n(274)),E=n(273),M=n(146),S=v.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},T=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),m()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),C=function t(e,n,r){null===e&&(e=Function.prototype);var i=d()(e,n);if(void 0===i){var o=h()(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},I=function(t){function e(){return r(this,e),i(this,(e.__proto__||h()(e)).apply(this,arguments))}return o(e,t),T(e,[{key:"componentDidMount",value:function(){this._loadRecordings(this.props.recording)}},{key:"componentWillReceiveProps",value:function(t){var e=t.recording;e!==this.props.recording&&this._loadRecordings(e)}},{key:"timeChange",value:function(t){this.props.actions.updateTime(t)}},{key:"_loadRecordings",value:function(t){this.props.actions.updateByRecording(t)}},{key:"onSelection",value:function(){C(e.prototype.__proto__||h()(e.prototype),"onSelection",this).call(this);var t=this.props,n=t.time,r=t.timesValues,i=t.recording.imageId,o=r[n];o&&o.imageId!==i&&this.props.actions.updateObliqueRecording(o)}},{key:"renderImage",value:function(){var t=this.props.thumbnailStyle,e=t.imageStyle,n=t.rotateDivStyle;return b.a.createElement("div",{style:n,className:"oblique"},b.a.createElement("img",{alt:"",src:this.props.thumbnailUrl,style:e}))}}]),e}(_.b),O=function(t,e){var n=t.obliqueviewer.byId[e.id].recording;return S({},Object(_.d)(t,e),{recording:n})},A=function(t,e){var n=E.b.updateByRecording,r=E.b.updateTime,i=M.default.updateObliqueRecording,o=function(t){return t.bind(null,e.id)};return{actions:S({},Object(_.c)(t,e).actions,Object(w.bindActionCreators)({updateByRecording:o(n),updateObliqueRecording:o(i),updateTime:o(r)},t))}};e.a=Object(x.connect)(O,A,null,{withRef:!0})(I)},function(t,e,n){"use strict";function r(t){return function(){var e=t.apply(this,arguments);return new g.a(function(t,n){function r(i,o){try{var a=e[i](o),s=a.value}catch(t){return void n(t)}if(!a.done)return g.a.resolve(s).then(function(t){r("next",t)},function(t){r("throw",t)});t(s)}return r("next")})}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=p()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(f.a?f()(t,e):t.__proto__=e)}var s=n(24),u=n.n(s),l=n(10),c=n.n(l),h=n(9),f=n.n(h),d=n(5),p=n.n(d),m=n(23),g=n.n(m),v=n(1),y=n.n(v),b=n(4),w=n.n(b),x=n(0),_=n.n(x),E=n(49),M=n.n(E),S=n(38),T=(n.n(S),n(36)),C=(n.n(T),n(26)),I=(n.n(C),n(12)),O=n.n(I),A=n(15),L=(n.n(A),n(32)),R=n.n(L),N=n(30),P=n(1406),k=n(94),D=n(108),F=n(609),j=n(268),U=n(54),B=n(73),z=n(95),V=n(241),G=n(1407),H=n(380),q=n(611),W=n(1411),Y=w.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},X=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),y()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Z=Object(A.defineMessages)({locations:{id:"Dashboard.locations",defaultMessage:"Locations"},locationsEmpty:{id:"Dashboard.locationsEmpty",defaultMessage:"No recent locations available."},measurementsEmpty:{id:"Dashboard.measurementsEmpty",defaultMessage:"No measurements available."},locationsNumber:{id:"Dashboard.locationsNumber",defaultMessage:"#"},locationsDescription:{id:"Dashboard.locationsDescription",defaultMessage:"Description"},locationsAction:{id:"Dashboard.locationsAction",defaultMessage:"Action"},measurements:{id:"Dashboard.measurements",defaultMessage:"Measurements"},annotations:{id:"Dashboard.annotations",defaultMessage:"Annotations"},confirmDeleteTitle:{id:"Dashboard.confirmDeleteTitle",defaultMessage:"Are you sure?"},confirmDeleteMessage:{id:"Dashboard.confirmDeleteMessage",defaultMessage:"Are you sure you want to remove \n {name} ?"}}),K=function(t){function e(){var t,n=this;i(this,e);for(var a=arguments.length,s=Array(a),l=0;l<a;l++)s[l]=arguments[l];var h=o(this,(t=e.__proto__||c()(e)).call.apply(t,[this].concat(s)));return h.handleClickOutside=function(t){M.a.findDOMNode(h).contains(t.target)||h.onHideMeasurementList()},h.disableMeasurementMode=function(){h.props.actions.disableMeasurementMode()},h.measurementSaveCheck=function(){var t=h.props.measurementChanged;return!h.props.isApi&&t?(h.props.actions.setMeasurementChanged(!0),h.setState({showUnsavedDialog:!0}),t):(h.props.actions.disableMeasurementMode(),!0)},h.onHideMeasurementList=function(){h.setState({measurementListShow:!1})},h.onToggleMeasurementList=function(){h.setState({measurementListShow:!h.state.measurementListShow})},h.onAcceptUnsavedMeasurements=function(){h.props.actions.setMeasurementChanged(!1),h.setState({showUnsavedDialog:!1}),h.disableMeasurementMode()},h.onCancelUnsavedMeasurements=function(){h.setState({showUnsavedDialog:!1})},h.locateMeasurement=function(){var t=r(u.a.mark(function t(e){var r,i,o,a,s,l,c,f,d,p,m;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=h.props.actions,2!==(i=e.type)){t.next=16;break}return r.setMeasurementDimension(i),t.next=6,r.readMeasurementById(e.id);case 6:o=h.props.activeMeasurement,r.addMeasurement(o.geometry.type,o),r.enableMeasurementMode(),a=o.geometry.type,s=o.properties.preciseGeometry.coordinates,l=o.properties.customGeometryType,c=o.properties.preciseCRS,"Point"===a?r.openViewerByCoordinate(s,c):"LineString"===a||"Circle"===l?r.openViewerByCoordinate(s[0],c):"Polygon"===a&&r.openViewerByCoordinate(s[0][0],c),t.next=24;break;case 16:return t.next=18,r.readMeasurementById(e.id);case 18:f=h.props.activeMeasurement,d=f.geometry.type,p=f.properties.preciseGeometry.coordinates,m=void 0,"Point"===d?m=p:"LineString"===d||"Circle"===d?m=p[0]:"Polygon"===d&&(m=p[0][0]),r.openViewer(m[0]+" "+m[1],{srs:f.properties.preciseCRS,viewerType:U.ViewerType.PANORAMA}).then(function(t){r.setMeasurementDimension(3),r.setCurrentPanoramaWid(t[0].wid),r.addMeasurement(f.geometry.type,f),r.enableMeasurementMode()});case 24:case"end":return t.stop()}},t,n)}));return function(e){return t.apply(this,arguments)}}(),h.state={showUnsavedDialog:!1,measurementListShow:!1},h.showDialog=h.showDialog.bind(h),h._confirmDelete=h._confirmDelete.bind(h),h.disableMeasurementMode=h.disableMeasurementMode.bind(h),h.measurementSaveCheck=h.measurementSaveCheck.bind(h),h.onToggleMeasureMethod=h.onToggleMeasureMethod.bind(h),h.onToggleDepthMap=h.onToggleDepthMap.bind(h),h}return a(e,t),X(e,[{key:"componentWillReceiveProps",value:function(t){t.smartClickMethod?this.props.actions.setCubeProgram(V.a.PLAIN_COLOR):t.isDepthCubeProgram&&t.measureSmartMethod||this.props.actions.setCubeProgram(V.a.SURFACE_CURSOR)}},{key:"componentWillMount",value:function(){document.addEventListener("click",this.handleClickOutside,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClickOutside,!1)}},{key:"onToggleMeasureMethod",value:function(t){var e=t?B.MeasureMethod.SMART_CLICK:B.MeasureMethod.DEPTH_MAP;this.props.actions.setMeasureMethod(e),R.a.info("switching measure method to "+e)}},{key:"onToggleDepthMap",value:function(t){var e=t?V.a.HV_MAP:V.a.SURFACE_CURSOR;this.props.actions.setCubeProgram(e),R.a.info("switching cube shader program to "+e)}},{key:"showDialog",value:function(t){this.setState({showDialog:!0,locationItemToDelete:t})}},{key:"_confirmDelete",value:function(t){var e=this.props.actions,n=this.state.locationItemToDelete;t===q.a.OK&&e.removeMeasurement(n.id),this.setState({showDialog:!1,locationItemToDelete:void 0})}},{key:"render",value:function(){var t=this,e=this.context.intl.formatMessage,n=this.props,r=n.hasMeasureSmartFunctionality,i=n.dimension,o=n.depthMapAvailable,a=n.measureSmartMethod,s=n.isDepthCubeProgram,u=this.state,l=u.locationItemToDelete,c=u.showDialog,h=c&&("all"===l?l:l.name),f=(_.a.createElement("h2",null,_.a.createElement(A.FormattedMessage,P.a.dashboard)),O()("measurement-list",{"measurement-list--show":this.state.measurementListShow})),d=this.props.measurementList,p=d.filter(function(t){return t.type===i}),m=p.map(function(e){return _.a.createElement("div",{key:e.id,className:"measurement-list__item"},_.a.createElement("div",{className:"measurement-list__item__container"},_.a.createElement("div",{className:"measurement-list__item__title"},e.name,_.a.createElement("p",{className:"measurement-list__item__date"},e.time)),_.a.createElement("div",{className:"measurement-list__item__actions"},_.a.createElement(k.b.Locate,{onClick:function(){return t.locateMeasurement(e)}}),_.a.createElement(k.b.Delete,{onClick:function(){return t.showDialog(e)}}))))});return _.a.createElement(C.Navbar,{fluid:!0,className:"cmt-navbar measurement-navbar"},this.state.showUnsavedDialog&&_.a.createElement(W.a,{onAccept:this.onAcceptUnsavedMeasurements,onCancel:this.onCancelUnsavedMeasurements}),c&&_.a.createElement(q.a,{ok:!0,cancel:!0,callback:this._confirmDelete,title:e(Z.confirmDeleteTitle),message:e(Z.confirmDeleteMessage,{name:h})}),_.a.createElement(C.Navbar.Header,null,_.a.createElement(C.Navbar.Brand,null,e(j.a.navbarTitle))),r&&3===i&&_.a.createElement(C.Nav,{pullLeft:!0},_.a.createElement(C.ButtonGroup,{className:"nav navbar-nav"},_.a.createElement(F.a,{labelOn:_.a.createElement(k.b.SmartClick,null),labelOff:_.a.createElement(k.b.DepthMap,null),onToggleButton:this.onToggleMeasureMethod,value:!(a&&o),disabled:!o})),_.a.createElement(C.ButtonGroup,{className:"nav navbar-nav"},_.a.createElement(F.a,{labelOn:_.a.createElement(k.b.WithDepth,null),labelOff:_.a.createElement(k.b.WithoutDepth,null),onToggleButton:this.onToggleDepthMap,value:s&&a,disabled:!o||!a}))),_.a.createElement(C.Nav,{pullRight:!0},_.a.createElement(C.ButtonGroup,{className:"nav navbar-nav"},!this.props.isApi&&_.a.createElement(D.a,Y({placement:"top"},j.a.showMeasurementList),_.a.createElement(C.Button,{onClick:this.onToggleMeasurementList},_.a.createElement(k.b.Load,null))),_.a.createElement(D.a,Y({placement:"top"},j.a.stopMeasurement),_.a.createElement(C.Button,{onClick:this.measurementSaveCheck},_.a.createElement(k.b.Close,null))))),_.a.createElement("div",{className:f},_.a.createElement("div",{className:"panel-heading"},_.a.createElement("div",{className:"measurement-floating-panel-header panel-title"},_.a.createElement("span",null,_.a.createElement(A.FormattedMessage,j.a.measurementList)),_.a.createElement("div",{className:"measurement-floating-panel-controls",onClick:this.onHideMeasurementList},_.a.createElement("span",{className:"glyphicon novaicon-close"})))),_.a.createElement("div",{className:"measurement-list__items"},m)))}}]),e}(N.a),$=function(t){var e=t.config,n=t.measurements,r=t.panoramaviewer,i=t.viewermanager;return{config:e.config,viewerID:i.currentPanoramaWID,measureSmartMethod:n.measureMethod===B.MeasureMethod.DEPTH_MAP,smartClickMethod:n.measureMethod===B.MeasureMethod.SMART_CLICK,depthMapAvailable:n.recording&&n.recording.hasDepthMap,hasMeasureSmartFunctionality:!0,hasSmartClickFunctionality:n.allowedMeasureMethods&&n.allowedMeasureMethods.includes(B.MeasureMethod.SMART_CLICK),isDepthCubeProgram:r.byId[i.currentPanoramaWID]&&r.byId[i.currentPanoramaWID].cubeProgram!==V.a.PLAIN_COLOR&&r.byId[i.currentPanoramaWID].cubeProgram!==V.a.SURFACE_CURSOR,dimension:n.dimension,measurementList:n.measurementList,activeMeasurement:n.activeMeasurement,measurementChanged:n.measurementChanged,isApi:e.isApi}},Q=function(t){return{actions:Object(S.bindActionCreators)(Y({},U.default,B.default,z.default,H.default),t)}},J=function(t,e){return Y({},t,{actions:Y({},e.actions,{setCubeProgram:function(e){return e.bind(null,t.viewerID)}(e.actions.setCubeProgram)})})};e.a=Object(T.connect)($,Q,J)(K,G.a)},function(t,e,n){"use strict";var r=n(15);n.n(r);e.a=Object(r.defineMessages)({dashboard:{id:"navigation.dashboard",defaultMessage:"Dashboard"},welcome:{id:"navigation.welcome",defaultMessage:"Welcome"},settings:{id:"navigation.settings",defaultMessage:"Settings"},layers:{id:"navigation.layers",defaultMessage:"Layers"},information:{id:"navigation.information",defaultMessage:"Information"},help:{id:"navigation.help",defaultMessage:"Help"},contact:{id:"navigation.contact",defaultMessage:"Contact"},logout:{id:"navigation.logout",defaultMessage:"Log out"}})},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return b()(t)}function i(t){return function(){var e=t.apply(this,arguments);return new v.a(function(t,n){function r(i,o){try{var a=e[i](o),s=a.value}catch(t){return void n(t)}if(!a.done)return v.a.resolve(s).then(function(t){r("next",t)},function(t){r("throw",t)});t(s)}return r("next")})}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=m()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(d.a?d()(t,e):t.__proto__=e)}var u=n(24),l=n.n(u),c=n(10),h=n.n(c),f=n(9),d=n.n(f),p=n(5),m=n.n(p),g=n(23),v=n.n(g),y=n(31),b=n.n(y),w=n(1),x=n.n(w),_=n(4),E=n.n(_),M=n(105),S=n.n(M),T=n(251),C=(n.n(T),n(29)),I=n.n(C),O=n(17),A=n.n(O),L=n(3),R=n.n(L),N=n(0),P=n.n(N),k=n(26),D=(n.n(k),n(15)),F=(n.n(D),n(36)),j=(n.n(F),n(38)),U=(n.n(j),n(610)),B=n.n(U),z=n(72),V=n(271),G=n(595),H=n(67),q=n(30),W=n(1410),Y=n(53),X=n(117),Z=n(54),K=n(264),$=E.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Q=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),x()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),J=Object(D.defineMessages)({placeholder:{id:"SearchBox.placeholder",description:"Placeholder to use when no query was entered yet",defaultMessage:"Search"},coordinates:{id:"SearchBox.coordinates",description:"Header for coordinate search results",defaultMessage:"Coordinates"},extent:{id:"SearchBox.extent",description:"Header for extent search results",defaultMessage:"Extent"},imageId:{id:"SearchBox.imageId",description:"Header for imageId search results",defaultMessage:"Image id"},previousResults:{id:"SearchBox.previousResults",description:"Header for previous search results",defaultMessage:"Previous results"},retrievingResults:{id:"SearchBox.retrievingResults",description:"Placeholder while retrieving searches",defaultMessage:"Retrieving"},searchDatabase:{id:"SearchBox.searchDatabase",description:"Option to search database for address",defaultMessage:"Search for Address"},addresses:{id:"SearchBox.addresses",description:"Header for address search results",defaultMessage:"Addresses"},addressNotFound:{id:"SearchBox.addressNotFound",description:"Searched address not found",defaultMessage:"The address you are searching for cannot be found"}}),tt=function(t){function e(){var t;o(this,e);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=a(this,(t=e.__proto__||h()(e)).call.apply(t,[this].concat(r))),u=s._addressSources=s._buildAddressSources(s.props);return u&&(s._autocompleteDatasources=s._buildAutocompleteDatasources(u),s._reactTypeaheadKey=S()()),s}return s(e,t),Q(e,[{key:"_getUserSrsName",value:function(t){return t.srs.userSrs}},{key:"_buildAddressSources",value:function(t){var e=t.config.config;if(!e||!e.services.address)return[];var n=e.services.address,r=n.databaseResource,i=n.code,o=n.onlineResource,a=this._getUserSrsName(t),s="/"+i+"?query={query}&srsName="+a+"&source="+r+"&format=wfs",u={search:o+"/search"+s};return"CMDatabase"!==r&&"Solr"!==r||(u.autocomplete=o+"/searchautocomplete"+s),[u]}},{key:"componentWillReceiveProps",value:function(t){var e=this._buildAddressSources(t);I.a.isEqual(e,this._addressSources)||(this._addressSources=e,this._autocompleteDatasources=this._buildAutocompleteDatasources(e),this._reactTypeaheadKey=S()())}},{key:"_buildAutocompleteDatasources",value:function(t){var e=[];if(!t||0===t.length)return[];var n=t[0];if(n.autocomplete){var r=this._generateAddressDataset({url:n.autocomplete});e.push(r)}return e}},{key:"_generateAddressDataset",value:function(t){var e=this.context.intl.formatMessage,n=t.url,r=this._createAddressServiceBloodhound(n);return{name:"Address",displayKey:"name",source:function(t,e,n){t?r.search(t,e,n):e([])},templates:{header:this._generateHeader(e(J.addresses))}}}},{key:"_createAddressServiceBloodhound",value:function(t){return new B.a({name:"AddressSearch",datumTokenizer:function(t){return B.a.tokenizers.whitespace(t.name)},queryTokenizer:B.a.tokenizers.whitespace,remote:{url:t,transform:this._addressServiceFeaturesTransform.bind(this),prepare:this._bloodhoundPrepareAddressSettings},limit:10})}},{key:"_addressServiceFeaturesTransform",value:function(t){var n=new A.a.format.WFS,r=n.readFeatures(t),i=this._getUserSrsName(this.props);return r.map(function(t){var n=t.getProperties(),r=t.getGeometry(),o=void 0;if(r instanceof A.a.geom.Point){var a=r.getCoordinates();!a||isNaN(a[0])||isNaN(a[1])||(o={srs:i,coord:a})}else if(r instanceof A.a.geom.Polygon){var s=r.getExtent();s&&(o={srs:i,extent:s})}return{name:n.AddressString,geometry:o,source:e.AddressSource}})}},{key:"_bloodhoundPrepareAddressSettings",value:function(t,e){var n=Object(Y.b)(),r=e.headers||{};return r=$({},r,n),$({},e,{url:e.url.replace("{query}",encodeURIComponent(t)),dataType:"xml",xhrFields:{withCredentials:!0},headers:r})}},{key:"_generateHeader",value:function(t){return"<h4 class='typeahead-header'>"+t+"</h4>"}},{key:"_getTypeaheadInstance",value:function(){return this.refs.typeahead&&this.refs.typeahead.typeahead}},{key:"_getTypeaheadNode",value:function(){return this.refs.typeahead.getInputDomNode()}},{key:"_onSelected",value:function(t,n){if(n.source===e.SearchDatabaseSource)this._doManualSearchUsingQuery();else{var r=n.source===e.HistorySource;if(r)n=n.datum;else{var i={name:n.name,datum:n,queryString:n.name.toLowerCase(),source:e.HistorySource};this.props.actions.addSearchHistoryItem(i)}var o=n,a=o.source;switch(this.props.actions.logSearch(a,r),a){case e.ExtentSource:case e.CoordinatesSource:case e.AddressSource:this._openGeometry(n.geometry);break;case e.ImageIdSource:this._openImageId(n.value);break;case e.ObliqueImageIdSource:this._openObliqueImageId(n.value)}}var s=this._getTypeaheadInstance();s&&(s.typeahead("val","_"),s.typeahead("val",""),s.blur())}},{key:"_onKeyboardEvent",value:function(){function t(t){return e.apply(this,arguments)}var e=i(l.a.mark(function t(e){var n,r,i,o,a;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.keyCode!==T.codes.enter){t.next=17;break}if(n=this._getTypeaheadInstance().data().ttTypeahead.menu,n._allDatasetsEmpty()){t.next=16;break}r=0,i=n.datasets.length;case 5:if(!(r<i)){t.next=14;break}if(o=n.datasets[r],!(a=o.$el[0].querySelector(".tt-suggestion"))){t.next=11;break}return a.click(),t.abrupt("break",14);case 11:r++,t.next=5;break;case 14:t.next=17;break;case 16:this._doManualSearchUsingQuery();case 17:case"end":return t.stop()}},t,this)}));return t}()},{key:"_doManualSearchUsingQuery",value:function(){function t(){return e.apply(this,arguments)}var e=i(l.a.mark(function t(){var e,n,r;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this._getTypeaheadInstance().typeahead("val"),t.next=3,this.searchAddress(e);case 3:n=t.sent,n?this._onSelected(null,n):(r=this.context.intl.formatMessage,this.props.actions.showFlashMessage(r(J.addressNotFound)));case 5:case"end":return t.stop()}},t,this)}));return t}()},{key:"searchAddress",value:function(){function t(t,n){return e.apply(this,arguments)}var e=i(l.a.mark(function t(e,n){var r;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(this._addressSources&&this._addressSources.length>0)){t.next=5;break}return r=this._addressSources[0].search.replace("{query}",encodeURIComponent(e)),t.next=4,this._getAddress(r);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},t,this)}));return t}()},{key:"_getAddress",value:function(){function t(t){return e.apply(this,arguments)}var e=i(l.a.mark(function t(e){var n,r,i,o;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=new Request(e,{method:"POST",headers:new Headers(Object(Y.b)()),mode:"cors"}),t.next=3,fetch(n);case 3:if(r=t.sent,r.ok){t.next=6;break}return t.abrupt("return",null);case 6:return t.next=8,Object(X.a)(r,"xml");case 8:return i=t.sent,o=this._addressServiceFeaturesTransform(i),t.abrupt("return",o[0]);case 11:case"end":return t.stop()}},t,this)}));return t}()},{key:"_openGeometry",value:function(t){var e=t.coord,n=t.extent,r=t.srs;e?this._openCoords(e,r):n&&this._openExtent(n,r)}},{key:"_openExtent",value:function(t,e){this.props.openViewerExtent&&this.props.openViewerExtent(t,e)}},{key:"_openCoords",value:function(t,e){this.props.openViewerCoordinates&&this.props.openViewerCoordinates(t,e)}},{key:"_openImageId",value:function(t){this.props.openViewerImageId&&this.props.openViewerImageId(t)}},{key:"_openObliqueImageId",value:function(t){this.props.openObliqueImageId&&this.props.openObliqueImageId(t)}},{key:"_getHistorySource",value:function(){var t=this,e=this.context.intl.formatMessage;return{name:"History",displayKey:"name",source:function(e,n,r){if(""===(e=e.trim()))n(t.props.searchhistory.searchHistory);else{var i=[];t.props.searchhistory.searchHistory.forEach(function(t){-1!==t.queryString.indexOf((e+"").toLowerCase())&&i.push(t)}),n(i)}},templates:{header:this._generateHeader(e(J.previousResults))}}}},{key:"_getCoordinateSource",value:function(){var t=this,n=this.context.intl.formatMessage;return{name:"Coordinates",displayKey:"name",source:function(n,r,i){n=n.trim();var o=K.CoordinatesRegex.exec(n);if(o){var a=t._getUserSrsName(t.props);o[4]||(n+=";"+a),r([{name:n,geometry:{coord:[parseFloat(o[1]),parseFloat(o[2]),parseFloat(o[3]||0)],srs:o[4]||a},source:e.CoordinatesSource}])}else r([])},templates:{header:this._generateHeader(n(J.coordinates))}}}},{key:"_getExtentSource",value:function(){var t=this,n=this.context.intl.formatMessage;return{name:"Extent",displayKey:"name",source:function(n,r,i){n=n.trim();var o=K.ExtentRegex.exec(n);if(o){var a=t._getUserSrsName(t.props);o[5]||(n+=";"+a),r([{name:n,geometry:{extent:[parseFloat(o[1]),parseFloat(o[2]),parseFloat(o[3]),parseFloat(o[4])],srs:o[5]||a},source:e.ExtentSource}])}else r([])},templates:{header:this._generateHeader(n(J.extent))}}}},{key:"_getImageIdSource",value:function(){var t=this,n=this.context.intl.formatMessage;return{name:"ImageId",displayKey:"name",source:function(n,r,i){n=n.trim();var o=t.props,a=o.config,s=o.viewermanager,u=a.config,l=u.services.obliqueLocation,c=u.map.obliqueLayers,h=l&&c&&0!==c.length,f=s.viewerMode===Z.ViewerMode.MEASUREMENT,d=void 0;r((d=Object(K.parsePanoramaId)(n))?[{name:d,value:d.toUpperCase(),source:e.ImageIdSource}]:(d=Object(K.parseObliqueId)(n))&&h&&!f?[{name:d,value:d.toUpperCase(),source:e.ObliqueImageIdSource}]:[])},templates:{header:this._generateHeader(n(J.imageId))}}}},{key:"focus",value:function(){this._getTypeaheadNode().focus()}},{key:"render",value:function(){var t=this.context.intl.formatMessage,e=[this._getImageIdSource(),this._getCoordinateSource(),this._getExtentSource()].concat(r(this._autocompleteDatasources||[]),[this._getHistorySource()]);return P.a.createElement(k.Navbar.Form,{pullLeft:!0},P.a.createElement("div",{className:"form-group has-feedback"},P.a.createElement(W.a,{ref:"typeahead",key:this._reactTypeaheadKey,typeahead:{minLength:-1,highlight:!0,hint:!0},datasources:e,customEvents:{"typeahead:selected":this._onSelected.bind(this),keyup:this._onKeyboardEvent.bind(this)},placeholder:t(J.placeholder),className:"form-control"}),P.a.createElement("span",{id:"searchicon",className:"fa fa-search form-control-feedback"})))}}]),e}(q.a);tt.AddressSource="address",tt.CoordinatesSource="coordinates",tt.ExtentSource="extent",tt.ImageIdSource="imageId",tt.ObliqueImageIdSource="obliqueImageId",tt.HistorySource="history",tt.SearchDatabaseSource="searchDatabase",tt.propTypes={openViewerCoordinates:R.a.func,openViewerBounds:R.a.func,openViewerImageId:R.a.func},tt.previousQueries=[];var et=function(t){return{config:t.config,srs:t.srs,searchhistory:t.searchhistory,viewermanager:t.viewermanager}},nt=function(t){return{actions:Object(j.bindActionCreators)($({},V.default,G.b,z.default,{logSearch:H.logSearch}),t)}};e.a=Object(F.connect)(et,nt,void 0,{withRef:!0})(tt)},function(t,e,n){function r(t,e){this._id=t,this._clearFn=e}var i=Function.prototype.apply;e.setTimeout=function(){return new r(i.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new r(i.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(1409),e.setImmediate=setImmediate,e.clearImmediate=clearImmediate},function(t,e,n){(function(t,e){!function(t,n){"use strict";function r(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var r={callback:t,args:e};return l[u]=r,s(u),u++}function i(t){delete l[t]}function o(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(n,r)}}function a(t){if(c)setTimeout(a,0,t);else{var e=l[t];if(e){c=!0;try{o(e)}finally{i(t),c=!1}}}}if(!t.setImmediate){var s,u=1,l={},c=!1,h=t.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(t);f=f&&f.setTimeout?f:t,"[object process]"==={}.toString.call(t.process)?function(){s=function(t){e.nextTick(function(){a(t)})}}():function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?function(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"==typeof n.data&&0===n.data.indexOf(e)&&a(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),s=function(n){t.postMessage(e+n,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){a(t.data)},s=function(e){t.port2.postMessage(e)}}():h&&"onreadystatechange"in h.createElement("script")?function(){var t=h.documentElement;s=function(e){var n=h.createElement("script");n.onreadystatechange=function(){a(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}():function(){s=function(t){setTimeout(a,0,t)}}(),f.setImmediate=r,f.clearImmediate=i}}("undefined"==typeof self?void 0===t?this:t:self)}).call(e,n(34),n(364))},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=f()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(c.a?c()(t,e):t.__proto__=e)}var s=n(10),u=n.n(s),l=n(9),c=n.n(l),h=n(5),f=n.n(h),d=n(1),p=n.n(d),m=n(4),g=n.n(m),v=n(3),y=n.n(v),b=n(0),w=n.n(b),x=n(49),_=n.n(x),E=n(610),M=n.n(E),S=n(143),T=n.n(S),C=g.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},I=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),p()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),O=function(t){function e(){var t;i(this,e);for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];var s=o(this,(t=e.__proto__||u()(e)).call.apply(t,[this].concat(r)));return s.state={data:[]},s}return a(e,t),I(e,[{key:"getTypeaheadProps",value:function(){return C({},this.constructor.typeaheadDefaults,this.props.typeahead||{})}},{key:"getDatasources",value:function(){return this.props.datasources.map(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(arguments[1],t.bloodhoundConfig),i=void 0===n?null:n,o=r(t,["bloodhoundConfig"]);if(i){var a=C({},e.bloodhoundDefaults,i),s=new M.a(a);o.source=s}else if(!o.source)throw new Error("React-Typeahead:: Added a datasource without a source or bloodhoundConfig.");return o})}},{key:"bindCustomEvents",value:function(){var t=this.props.customEvents;if(t)for(var e in t)this.typeahead.on(e,t[e])}},{key:"unbindCustomEvents",value:function(){var t=this.props.customEvents;if(t)for(var e in t)this.typeahead.off(e,t[e])}},{key:"componentDidMount",value:function(){var t=this.getInputDomNode();t&&(this.typeahead=T()(t).typeahead(this.getTypeaheadProps(),this.getDatasources()),this.bindCustomEvents())}},{key:"componentWillUnmount",value:function(){this.typeahead&&(this.typeahead.typeahead("destroy"),this.unbindCustomEvents(),this.typeahead=null)}},{key:"getClassName",value:function(){var t="typeahead";return this.props.className&&(t+=" "+this.props.className),t}},{key:"getInputRef",value:function(){return this.refs.searchBoxRef}},{key:"getInputDomNode",value:function(){return _.a.findDOMNode(this.getInputRef())}},{key:"render",value:function(){return w.a.createElement("input",{ref:"searchBoxRef",type:"text",placeholder:this.props.placeholder,className:this.getClassName()})}}]),e}(b.Component);O.typeaheadDefaults={minLength:2,hint:!0,highlight:!0},O.bloodhoundDefaults={datumTokenizer:M.a.tokenizers.whitespace,queryTokenizer:M.a.tokenizers.whitespace},O.propTypes={datasources:y.a.array,typeahead:y.a.object,customEvents:y.a.object,placeholder:y.a.string},O.defaultProps={typeahead:{},datasources:[],customEvents:[]},e.a=O},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=h()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(l.a?l()(t,e):t.__proto__=e)}var a=n(10),s=n.n(a),u=n(9),l=n.n(u),c=n(5),h=n.n(c),f=n(1),d=n.n(f),p=n(3),m=n.n(p),g=n(0),v=n.n(g),y=n(15),b=(n.n(y),n(30)),w=n(611),x=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),_=Object(y.defineMessages)({headerRoute:{id:"UnsavedMeasurementsModal.headerRoute",defaultMessage:"You are navigating from the page."},header:{id:"UnsavedMeasurementsModal.header",defaultMessage:"You are leaving measurement mode."},bodyRoute:{id:"UnsavedMeasurementsModal.bodyRoute",defaultMessage:"If you leave this page, all your current measurements will be lost. Are you sure you want to?"},body:{id:"UnsavedMeasurementsModal.body",defaultMessage:"If you leave without saving, all your current measurements will be lost. Are you sure you want to?"}}),E=function(t){function e(){var t;r(this,e);for(var n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];var u=i(this,(t=e.__proto__||s()(e)).call.apply(t,[this].concat(o)));return u.modalCallback=u.modalCallback.bind(u),u}return o(e,t),x(e,[{key:"modalCallback",value:function(t){var e=this.props,n=e.onAccept,r=e.onCancel;switch(t){case w.a.YES:n&&n();break;case w.a.NO:r&&r()}}},{key:"render",value:function(){var t=this.context.intl.formatMessage;return v.a.createElement(w.a,{title:t(this.props.routeAction?_.headerRoute:_.header),message:t(this.props.routeAction?_.bodyRoute:_.body),callback:this.modalCallback,yes:!0,no:!0})}}]),e}(b.a);E.propTypes={onAccept:m.a.func,onCancel:m.a.func,routeAction:m.a.bool},e.a=E},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=h()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(l.a?l()(t,e):t.__proto__=e)}var a=n(10),s=n.n(a),u=n(9),l=n.n(u),c=n(5),h=n.n(c),f=n(1),d=n.n(f),p=n(3),m=n.n(p),g=n(0),v=n.n(g),y=n(36),b=(n.n(y),n(15)),w=(n.n(b),n(30)),x=n(74),_=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),E=Object(b.defineMessages)({defaultSubject:{id:"ReportBlurring.subject",description:"Subject line to use to report blurring",defaultMessage:"Report a blurring issue - Image: {imageId}"}}),M={de:"de","en-GB":"en","en-US":"us",fi:"en",fr:"en",nl:"en","pt-BR":"en",tr:"en"},S=function(t){function e(){var t;r(this,e);for(var n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];var u=i(this,(t=e.__proto__||s()(e)).call.apply(t,[this].concat(o)));return u.onReportBlurringLoaded=u.onReportBlurringLoaded.bind(u),u.state={reportBlurringLoaded:!1},u}return o(e,t),_(e,[{key:"onReportBlurringLoaded",value:function(){this.setState({reportBlurringLoaded:!0})}},{key:"render",value:function(){var t=this.context.intl,e=t.locale,n=t.formatMessage,r=this.props,i=r.reportblurring,o=r.config.userInfo,a=i.reportBlurringInfo,s={username:o.username,name:o.userFullName,subject:n(E.defaultSubject,{imageId:a.imageId}),organization:o.customerName,customerid:o.crmAccountID,imageid:a.imageId,imageparams:a.imageParams,shortlang:M[e],type:"",message:"",email:""},u="https://www.cyclomedia.com/"+s.shortlang+"/blurring/?naam="+s.name+"&gebruikersnaam="+s.username+"&onderwerp="+s.subject+"&organisatie="+s.organization+"&klantnummer="+s.customerid+"&imageid="+s.imageid+"&imageparams="+s.imageparams+"&email="+s.username;return v.a.createElement("div",null,!this.state.reportBlurringLoaded&&v.a.createElement("img",{className:"loadImg",src:Object(x.a)("./assets/img/loading.gif"),alt:""}),v.a.createElement("iframe",{src:u,onLoad:this.onReportBlurringLoaded}))}}]),e}(w.a);S.propTypes={show:m.a.bool},S.defaultProps={show:!0};var T=function(t){return{config:t.config,reportblurring:t.reportblurring}};e.a=Object(y.connect)(T)(S)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=h()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(l.a?l()(t,e):t.__proto__=e)}n.d(e,"a",function(){return x});var a=n(10),s=n.n(a),u=n(9),l=n.n(u),c=n(5),h=n.n(c),f=n(1),d=n.n(f),p=n(0),m=n.n(p),g=n(36),v=(n.n(g),n(26)),y=(n.n(v),n(30)),b=n(74),w=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),x={de:"de","en-GB":"","en-US":"us",fi:"",fr:"fr",nl:"nl","pt-BR":"",tr:""},_=function(t){function e(){var t;r(this,e);for(var n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];var u=i(this,(t=e.__proto__||s()(e)).call.apply(t,[this].concat(o)));return u.onLoad=u.onLoad.bind(u),u}return o(e,t),w(e,[{key:"onLoad",value:function(){this.loadImg.style.display="none"}},{key:"render",value:function(){var t=this,e=this.context.intl.locale,n=x[e],r=this.props.config.config.application.helpUrl;return""!==n&&(r=r+"/"+n),m.a.createElement(v.Panel,{className:"panel-dashboard panel-help flexItem"},m.a.createElement("img",{ref:function(e){t.loadImg=e},className:"loadImg",src:Object(b.a)("./assets/img/loading.gif"),alt:""}),m.a.createElement("iframe",{src:r,onLoad:this.onLoad}))}}]),e}(y.a),E=function(t){return{config:t.config}};Object(g.connect)(E)(_)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=h()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(l.a?l()(t,e):t.__proto__=e)}var a=n(10),s=n.n(a),u=n(9),l=n.n(u),c=n(5),h=n.n(c),f=n(1),d=n.n(f),p=n(4),m=n.n(p),g=n(0),v=n.n(g),y=n(26),b=(n.n(y),n(15)),w=(n.n(b),n(38)),x=(n.n(w),n(36)),_=(n.n(x),n(94)),E=n(30),M=n(268),S=n(612),T=n(73),C=n(54),I=n(147),O=n(141),A=m.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},L=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),R=Object(b.defineMessages)({title:{id:"MeasurementTypeSelectorModal.title",defaultMessage:"Measurement"},body:{id:"MeasurementTypeSelectorModal.body",defaultMessage:"Method"}}),N=function(t){function e(){var t;r(this,e);for(var n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];var u=i(this,(t=e.__proto__||s()(e)).call.apply(t,[this].concat(o)));return u.startMeasurement=u.startMeasurement.bind(u),u.cancel=u.cancel.bind(u),u}return o(e,t),L(e,[{key:"startMeasurement",value:function(t){var e=this.props.actions,n=e.addMeasurement,r=e.enableMeasurementMode;n(t.currentTarget.name),r(),this.hide()}},{key:"hide",value:function(){this.props.actions.hideTypeSelectionModal()}},{key:"cancel",value:function(){this.hide(),this.props.viewermanager.viewerMode!==C.ViewerMode.MEASUREMENT&&this.props.actions.setMeasurementDimension(null)}},{key:"renderButton",value:function(t){var e=null,n=null;return t===I.b.POINT?(e=v.a.createElement(_.b.MeasurePoint,null),n=M.a.point):t===I.b.LINESTRING?(e=v.a.createElement(_.b.MeasureLine,null),n=M.a.line):t===I.b.POLYGON?(e=v.a.createElement(_.b.MeasurePolygon,null),n=M.a.polygon):t===I.a.CIRCLE&&(e=v.a.createElement(_.b.MeasureCircle,null),n=M.a.circle),v.a.createElement("div",null,v.a.createElement(y.Button,{key:t,name:t,onClick:this.startMeasurement},e),v.a.createElement(b.FormattedMessage,n))}},{key:"render",value:function(){var t=this.props,e=t.functionalities,n=t.is2D,r={point:e.includes(O.a.MeasurePoint),line:e.includes(O.a.MeasureLine),polygon:e.includes(O.a.MeasurePolygon),circle:e.includes(O.a.MeasurePolygon)&&n};return v.a.createElement(S.a,{className:"measurement-select-modal",show:!0,onHide:this.cancel},v.a.createElement(S.a.Header,{closeButton:!0},v.a.createElement(S.a.Title,null,v.a.createElement(b.FormattedMessage,R.title))),v.a.createElement(S.a.Body,null,v.a.createElement(b.FormattedMessage,R.body),v.a.createElement(y.ButtonToolbar,null,r.point?this.renderButton(I.b.POINT):null,r.line?this.renderButton(I.b.LINESTRING):null,r.polygon?this.renderButton(I.b.POLYGON):null,r.circle?this.renderButton(I.a.CIRCLE):null)))}}]),e}(E.a),P=function(t){var e=t.config,n=t.viewermanager,r=t.measurements;return{functionalities:e.config.application.functionalities,viewermanager:n,is2D:2===r.dimension}},k=function(t){return{actions:Object(w.bindActionCreators)(A({},T.default,C.default),t)}};e.a=Object(x.connect)(P,k)(N)},function(t,e,n){var r=n(1416);"string"==typeof r&&(r=[[t.i,r,""]]);n(1432)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(1417)(void 0),e.push([t.i,"@import url(https://fonts.googleapis.com/css?family=Lato:400,700,400italic);",""]),e.push([t.i,'.cmt{width:100%;height:100%;position:relative/*!\n * Bootstrap v3.3.7 (http://getbootstrap.com)\n * Copyright 2011-2016 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n *//*! normalize.css v3.0.3 | MIT License | github.com/necolas/normalize.css *//*! Source: https://github.com/h5bp/html5-boilerplate/blob/master/src/css/main.css *//*! =======================================================\n                      VERSION  9.8.1              \n========================================================= *//*! =========================================================\n * bootstrap-slider.js\n *\n * Maintainers:\n *\t\tKyle Kemp\n *\t\t\t- Twitter: @seiyria\n *\t\t\t- Github:  seiyria\n *\t\tRohit Kalkur\n *\t\t\t- Twitter: @Rovolutionary\n *\t\t\t- Github:  rovolution\n *\n * =========================================================\n  *\n * bootstrap-slider is released under the MIT License\n * Copyright (c) 2017 Kyle Kemp, Rohit Kalkur, and contributors\n * \n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the "Software"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n * \n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n * \n * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n *\n * ========================================================= */}.cmt .ol-box{box-sizing:border-box;border-radius:2px;border:2px solid #00f}.cmt .ol-mouse-position{top:8px;right:8px;position:absolute}.cmt .ol-scale-line{background:rgba(0,60,136,.3);border-radius:4px;bottom:8px;left:8px;padding:2px;position:absolute}.cmt .ol-scale-line-inner{border:1px solid #eee;border-top:none;color:#eee;font-size:10px;text-align:center;margin:1px;will-change:contents,width}.cmt .ol-overlay-container{will-change:left,right,top,bottom}.cmt .ol-unsupported{display:none}.cmt .ol-unselectable,.cmt .ol-viewport{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent}.cmt .ol-selectable{-webkit-touch-callout:default;-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto}.cmt .ol-grabbing{cursor:-webkit-grabbing;cursor:-moz-grabbing;cursor:grabbing}.cmt .ol-grab{cursor:move;cursor:-webkit-grab;cursor:-moz-grab;cursor:grab}.cmt .ol-control{position:absolute;background-color:hsla(0,0%,100%,.4);border-radius:4px;padding:2px}.cmt .ol-control:hover{background-color:hsla(0,0%,100%,.6)}.cmt .ol-zoom{top:.5em;left:.5em}.cmt .ol-rotate{top:.5em;right:.5em;transition:opacity .25s linear,visibility 0s linear}.cmt .ol-rotate.ol-hidden{opacity:0;visibility:hidden;transition:opacity .25s linear,visibility 0s linear .25s}.cmt .ol-zoom-extent{top:4.643em;left:.5em}.cmt .ol-full-screen{right:.5em;top:.5em}@media print{.cmt .ol-control{display:none}}.cmt .ol-control button{display:block;margin:1px;padding:0;color:#fff;font-size:1.14em;font-weight:700;text-decoration:none;text-align:center;height:1.375em;width:1.375em;line-height:.4em;background-color:rgba(0,60,136,.5);border:none;border-radius:2px}.cmt .ol-control button::-moz-focus-inner{border:none;padding:0}.cmt .ol-zoom-extent button{line-height:1.4em}.cmt .ol-compass{display:block;font-weight:400;font-size:1.2em;will-change:transform}.cmt .ol-touch .ol-control button{font-size:1.5em}.cmt .ol-touch .ol-zoom-extent{top:5.5em}.cmt .ol-control button:focus,.cmt .ol-control button:hover{text-decoration:none;background-color:rgba(0,60,136,.7)}.cmt .ol-zoom .ol-zoom-in{border-radius:2px 2px 0 0}.cmt .ol-zoom .ol-zoom-out{border-radius:0 0 2px 2px}.cmt .ol-attribution{text-align:right;bottom:.5em;right:.5em;max-width:98.7%}.cmt .ol-attribution ul{margin:0;padding:0 .5em;font-size:.7rem;line-height:1.375em;color:#000;text-shadow:0 0 2px #fff}.cmt .ol-attribution li{display:inline;list-style:none;line-height:inherit}.cmt .ol-attribution li:not(:last-child):after{content:" "}.cmt .ol-attribution img{max-height:2em;max-width:inherit;vertical-align:middle}.cmt .ol-attribution button,.cmt .ol-attribution ul{display:inline-block}.cmt .ol-attribution.ol-collapsed ul{display:none}.cmt .ol-attribution.ol-logo-only ul{display:block}.cmt .ol-attribution:not(.ol-collapsed){background:hsla(0,0%,100%,.8)}.cmt .ol-attribution.ol-uncollapsible{bottom:0;right:0;border-radius:4px 0 0;height:1.1em;line-height:1em}.cmt .ol-attribution.ol-logo-only{background:0 0;bottom:.4em;height:1.1em;line-height:1em}.cmt .ol-attribution.ol-uncollapsible img{margin-top:-.2em;max-height:1.6em}.cmt .ol-attribution.ol-logo-only button,.cmt .ol-attribution.ol-uncollapsible button{display:none}.cmt .ol-zoomslider{top:4.5em;left:.5em;height:200px}.cmt .ol-zoomslider button{position:relative;height:10px}.cmt .ol-touch .ol-zoomslider{top:5.5em}.cmt .ol-overviewmap{left:.5em;bottom:.5em}.cmt .ol-overviewmap.ol-uncollapsible{bottom:0;left:0;border-radius:0 4px 0 0}.cmt .ol-overviewmap .ol-overviewmap-map,.cmt .ol-overviewmap button{display:inline-block}.cmt .ol-overviewmap .ol-overviewmap-map{border:1px solid #7b98bc;height:150px;margin:2px;width:150px}.cmt .ol-overviewmap:not(.ol-collapsed) button{bottom:1px;left:2px;position:absolute}.cmt .ol-overviewmap.ol-collapsed .ol-overviewmap-map,.cmt .ol-overviewmap.ol-uncollapsible button{display:none}.cmt .ol-overviewmap:not(.ol-collapsed){background:hsla(0,0%,100%,.8)}.cmt .ol-overviewmap-box{border:2px dotted rgba(0,60,136,.7)}.cmt .ol-overviewmap .ol-overviewmap-box:hover{cursor:move}.cmt,.cmt html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}.cmt,.cmt body{margin:0}.cmt article,.cmt aside,.cmt details,.cmt figcaption,.cmt figure,.cmt footer,.cmt header,.cmt hgroup,.cmt main,.cmt menu,.cmt nav,.cmt section,.cmt summary{display:block}.cmt audio,.cmt canvas,.cmt progress,.cmt video{display:inline-block;vertical-align:baseline}.cmt audio:not([controls]){display:none;height:0}.cmt [hidden],.cmt template{display:none}.cmt a{background-color:transparent}.cmt a:active,.cmt a:hover{outline:0}.cmt abbr[title]{border-bottom:1px dotted}.cmt b,.cmt strong{font-weight:700}.cmt dfn{font-style:italic}.cmt h1{font-size:2em;margin:.67em 0}.cmt mark{background:#ff0;color:#000}.cmt small{font-size:80%}.cmt sub,.cmt sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}.cmt sup{top:-.5em}.cmt sub{bottom:-.25em}.cmt img{border:0}.cmt svg:not(:root){overflow:hidden}.cmt figure{margin:1em 40px}.cmt hr{box-sizing:content-box;height:0}.cmt pre{overflow:auto}.cmt code,.cmt kbd,.cmt pre,.cmt samp{font-family:monospace,monospace;font-size:1em}.cmt button,.cmt input,.cmt optgroup,.cmt select,.cmt textarea{color:inherit;font:inherit;margin:0}.cmt button{overflow:visible}.cmt button,.cmt select{text-transform:none}.cmt button,.cmt html input[type=button],.cmt input[type=reset],.cmt input[type=submit]{-webkit-appearance:button;cursor:pointer}.cmt button[disabled],.cmt html input[disabled]{cursor:default}.cmt button::-moz-focus-inner,.cmt input::-moz-focus-inner{border:0;padding:0}.cmt input{line-height:normal}.cmt input[type=checkbox],.cmt input[type=radio]{box-sizing:border-box;padding:0}.cmt input[type=number]::-webkit-inner-spin-button,.cmt input[type=number]::-webkit-outer-spin-button{height:auto}.cmt input[type=search]{-webkit-appearance:textfield;box-sizing:content-box}.cmt input[type=search]::-webkit-search-cancel-button,.cmt input[type=search]::-webkit-search-decoration{-webkit-appearance:none}.cmt fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}.cmt textarea{overflow:auto}.cmt optgroup{font-weight:700}.cmt table{border-collapse:collapse;border-spacing:0}.cmt td,.cmt th{padding:0}@media print{.cmt *,.cmt :after,.cmt :before{background:transparent!important;color:#000!important;box-shadow:none!important;text-shadow:none!important}.cmt a,.cmt a:visited{text-decoration:underline}.cmt a[href]:after{content:" (" attr(href) ")"}.cmt abbr[title]:after{content:" (" attr(title) ")"}.cmt a[href^="#"]:after,.cmt a[href^="javascript:"]:after{content:""}.cmt blockquote,.cmt pre{border:1px solid #999;page-break-inside:avoid}.cmt thead{display:table-header-group}.cmt img,.cmt tr{page-break-inside:avoid}.cmt img{max-width:100%!important}.cmt h2,.cmt h3,.cmt p{orphans:3;widows:3}.cmt h2,.cmt h3{page-break-after:avoid}.cmt .navbar{display:none}.cmt .btn>.caret,.cmt .dropup>.btn>.caret{border-top-color:#000!important}.cmt .label{border:1px solid #000}.cmt .table{border-collapse:collapse!important}.cmt .table td,.cmt .table th{background-color:#fff!important}.cmt .table-bordered td,.cmt .table-bordered th{border:1px solid #ddd!important}}@font-face{font-family:Glyphicons Halflings;src:url('+n(616)+");src:url("+n(616)+'?#iefix) format("embedded-opentype"),url('+n(1418)+') format("woff2"),url('+n(1419)+') format("woff"),url('+n(1420)+') format("truetype"),url('+n(1421)+'#glyphicons_halflingsregular) format("svg")}.cmt .glyphicon{top:1px}.cmt .glyphicon-asterisk:before{content:"*"}.cmt .glyphicon-plus:before{content:"+"}.cmt .glyphicon-eur:before,.cmt .glyphicon-euro:before{content:"\\20AC"}.cmt .glyphicon-minus:before{content:"\\2212"}.cmt .glyphicon-cloud:before{content:"\\2601"}.cmt .glyphicon-envelope:before{content:"\\2709"}.cmt .glyphicon-pencil:before{content:"\\270F"}.cmt .glyphicon-glass:before{content:"\\E001"}.cmt .glyphicon-music:before{content:"\\E002"}.cmt .glyphicon-search:before{content:"\\E003"}.cmt .glyphicon-heart:before{content:"\\E005"}.cmt .glyphicon-star:before{content:"\\E006"}.cmt .glyphicon-star-empty:before{content:"\\E007"}.cmt .glyphicon-user:before{content:"\\E008"}.cmt .glyphicon-film:before{content:"\\E009"}.cmt .glyphicon-th-large:before{content:"\\E010"}.cmt .glyphicon-th:before{content:"\\E011"}.cmt .glyphicon-th-list:before{content:"\\E012"}.cmt .glyphicon-ok:before{content:"\\E013"}.cmt .glyphicon-remove:before{content:"\\E014"}.cmt .glyphicon-zoom-in:before{content:"\\E015"}.cmt .glyphicon-zoom-out:before{content:"\\E016"}.cmt .glyphicon-off:before{content:"\\E017"}.cmt .glyphicon-signal:before{content:"\\E018"}.cmt .glyphicon-cog:before{content:"\\E019"}.cmt .glyphicon-trash:before{content:"\\E020"}.cmt .glyphicon-home:before{content:"\\E021"}.cmt .glyphicon-file:before{content:"\\E022"}.cmt .glyphicon-time:before{content:"\\E023"}.cmt .glyphicon-road:before{content:"\\E024"}.cmt .glyphicon-download-alt:before{content:"\\E025"}.cmt .glyphicon-download:before{content:"\\E026"}.cmt .glyphicon-upload:before{content:"\\E027"}.cmt .glyphicon-inbox:before{content:"\\E028"}.cmt .glyphicon-play-circle:before{content:"\\E029"}.cmt .glyphicon-repeat:before{content:"\\E030"}.cmt .glyphicon-refresh:before{content:"\\E031"}.cmt .glyphicon-list-alt:before{content:"\\E032"}.cmt .glyphicon-lock:before{content:"\\E033"}.cmt .glyphicon-flag:before{content:"\\E034"}.cmt .glyphicon-headphones:before{content:"\\E035"}.cmt .glyphicon-volume-off:before{content:"\\E036"}.cmt .glyphicon-volume-down:before{content:"\\E037"}.cmt .glyphicon-volume-up:before{content:"\\E038"}.cmt .glyphicon-qrcode:before{content:"\\E039"}.cmt .glyphicon-barcode:before{content:"\\E040"}.cmt .glyphicon-tag:before{content:"\\E041"}.cmt .glyphicon-tags:before{content:"\\E042"}.cmt .glyphicon-book:before{content:"\\E043"}.cmt .glyphicon-bookmark:before{content:"\\E044"}.cmt .glyphicon-print:before{content:"\\E045"}.cmt .glyphicon-camera:before{content:"\\E046"}.cmt .glyphicon-font:before{content:"\\E047"}.cmt .glyphicon-bold:before{content:"\\E048"}.cmt .glyphicon-italic:before{content:"\\E049"}.cmt .glyphicon-text-height:before{content:"\\E050"}.cmt .glyphicon-text-width:before{content:"\\E051"}.cmt .glyphicon-align-left:before{content:"\\E052"}.cmt .glyphicon-align-center:before{content:"\\E053"}.cmt .glyphicon-align-right:before{content:"\\E054"}.cmt .glyphicon-align-justify:before{content:"\\E055"}.cmt .glyphicon-list:before{content:"\\E056"}.cmt .glyphicon-indent-left:before{content:"\\E057"}.cmt .glyphicon-indent-right:before{content:"\\E058"}.cmt .glyphicon-facetime-video:before{content:"\\E059"}.cmt .glyphicon-picture:before{content:"\\E060"}.cmt .glyphicon-map-marker:before{content:"\\E062"}.cmt .glyphicon-adjust:before{content:"\\E063"}.cmt .glyphicon-tint:before{content:"\\E064"}.cmt .glyphicon-edit:before{content:"\\E065"}.cmt .glyphicon-share:before{content:"\\E066"}.cmt .glyphicon-check:before{content:"\\E067"}.cmt .glyphicon-move:before{content:"\\E068"}.cmt .glyphicon-step-backward:before{content:"\\E069"}.cmt .glyphicon-fast-backward:before{content:"\\E070"}.cmt .glyphicon-backward:before{content:"\\E071"}.cmt .glyphicon-play:before{content:"\\E072"}.cmt .glyphicon-pause:before{content:"\\E073"}.cmt .glyphicon-stop:before{content:"\\E074"}.cmt .glyphicon-forward:before{content:"\\E075"}.cmt .glyphicon-fast-forward:before{content:"\\E076"}.cmt .glyphicon-step-forward:before{content:"\\E077"}.cmt .glyphicon-eject:before{content:"\\E078"}.cmt .glyphicon-chevron-left:before{content:"\\E079"}.cmt .glyphicon-chevron-right:before{content:"\\E080"}.cmt .glyphicon-plus-sign:before{content:"\\E081"}.cmt .glyphicon-minus-sign:before{content:"\\E082"}.cmt .glyphicon-remove-sign:before{content:"\\E083"}.cmt .glyphicon-ok-sign:before{content:"\\E084"}.cmt .glyphicon-question-sign:before{content:"\\E085"}.cmt .glyphicon-info-sign:before{content:"\\E086"}.cmt .glyphicon-screenshot:before{content:"\\E087"}.cmt .glyphicon-remove-circle:before{content:"\\E088"}.cmt .glyphicon-ok-circle:before{content:"\\E089"}.cmt .glyphicon-ban-circle:before{content:"\\E090"}.cmt .glyphicon-arrow-left:before{content:"\\E091"}.cmt .glyphicon-arrow-right:before{content:"\\E092"}.cmt .glyphicon-arrow-up:before{content:"\\E093"}.cmt .glyphicon-arrow-down:before{content:"\\E094"}.cmt .glyphicon-share-alt:before{content:"\\E095"}.cmt .glyphicon-resize-full:before{content:"\\E096"}.cmt .glyphicon-resize-small:before{content:"\\E097"}.cmt .glyphicon-exclamation-sign:before{content:"\\E101"}.cmt .glyphicon-gift:before{content:"\\E102"}.cmt .glyphicon-leaf:before{content:"\\E103"}.cmt .glyphicon-fire:before{content:"\\E104"}.cmt .glyphicon-eye-open:before{content:"\\E105"}.cmt .glyphicon-eye-close:before{content:"\\E106"}.cmt .glyphicon-warning-sign:before{content:"\\E107"}.cmt .glyphicon-plane:before{content:"\\E108"}.cmt .glyphicon-calendar:before{content:"\\E109"}.cmt .glyphicon-random:before{content:"\\E110"}.cmt .glyphicon-comment:before{content:"\\E111"}.cmt .glyphicon-magnet:before{content:"\\E112"}.cmt .glyphicon-chevron-up:before{content:"\\E113"}.cmt .glyphicon-chevron-down:before{content:"\\E114"}.cmt .glyphicon-retweet:before{content:"\\E115"}.cmt .glyphicon-shopping-cart:before{content:"\\E116"}.cmt .glyphicon-folder-close:before{content:"\\E117"}.cmt .glyphicon-folder-open:before{content:"\\E118"}.cmt .glyphicon-resize-vertical:before{content:"\\E119"}.cmt .glyphicon-resize-horizontal:before{content:"\\E120"}.cmt .glyphicon-hdd:before{content:"\\E121"}.cmt .glyphicon-bullhorn:before{content:"\\E122"}.cmt .glyphicon-bell:before{content:"\\E123"}.cmt .glyphicon-certificate:before{content:"\\E124"}.cmt .glyphicon-thumbs-up:before{content:"\\E125"}.cmt .glyphicon-thumbs-down:before{content:"\\E126"}.cmt .glyphicon-hand-right:before{content:"\\E127"}.cmt .glyphicon-hand-left:before{content:"\\E128"}.cmt .glyphicon-hand-up:before{content:"\\E129"}.cmt .glyphicon-hand-down:before{content:"\\E130"}.cmt .glyphicon-circle-arrow-right:before{content:"\\E131"}.cmt .glyphicon-circle-arrow-left:before{content:"\\E132"}.cmt .glyphicon-circle-arrow-up:before{content:"\\E133"}.cmt .glyphicon-circle-arrow-down:before{content:"\\E134"}.cmt .glyphicon-globe:before{content:"\\E135"}.cmt .glyphicon-wrench:before{content:"\\E136"}.cmt .glyphicon-tasks:before{content:"\\E137"}.cmt .glyphicon-filter:before{content:"\\E138"}.cmt .glyphicon-briefcase:before{content:"\\E139"}.cmt .glyphicon-fullscreen:before{content:"\\E140"}.cmt .glyphicon-dashboard:before{content:"\\E141"}.cmt .glyphicon-paperclip:before{content:"\\E142"}.cmt .glyphicon-heart-empty:before{content:"\\E143"}.cmt .glyphicon-link:before{content:"\\E144"}.cmt .glyphicon-phone:before{content:"\\E145"}.cmt .glyphicon-pushpin:before{content:"\\E146"}.cmt .glyphicon-usd:before{content:"\\E148"}.cmt .glyphicon-gbp:before{content:"\\E149"}.cmt .glyphicon-sort:before{content:"\\E150"}.cmt .glyphicon-sort-by-alphabet:before{content:"\\E151"}.cmt .glyphicon-sort-by-alphabet-alt:before{content:"\\E152"}.cmt .glyphicon-sort-by-order:before{content:"\\E153"}.cmt .glyphicon-sort-by-order-alt:before{content:"\\E154"}.cmt .glyphicon-sort-by-attributes:before{content:"\\E155"}.cmt .glyphicon-sort-by-attributes-alt:before{content:"\\E156"}.cmt .glyphicon-unchecked:before{content:"\\E157"}.cmt .glyphicon-expand:before{content:"\\E158"}.cmt .glyphicon-collapse-down:before{content:"\\E159"}.cmt .glyphicon-collapse-up:before{content:"\\E160"}.cmt .glyphicon-log-in:before{content:"\\E161"}.cmt .glyphicon-flash:before{content:"\\E162"}.cmt .glyphicon-log-out:before{content:"\\E163"}.cmt .glyphicon-new-window:before{content:"\\E164"}.cmt .glyphicon-record:before{content:"\\E165"}.cmt .glyphicon-save:before{content:"\\E166"}.cmt .glyphicon-open:before{content:"\\E167"}.cmt .glyphicon-saved:before{content:"\\E168"}.cmt .glyphicon-import:before{content:"\\E169"}.cmt .glyphicon-export:before{content:"\\E170"}.cmt .glyphicon-send:before{content:"\\E171"}.cmt .glyphicon-floppy-disk:before{content:"\\E172"}.cmt .glyphicon-floppy-saved:before{content:"\\E173"}.cmt .glyphicon-floppy-remove:before{content:"\\E174"}.cmt .glyphicon-floppy-save:before{content:"\\E175"}.cmt .glyphicon-floppy-open:before{content:"\\E176"}.cmt .glyphicon-credit-card:before{content:"\\E177"}.cmt .glyphicon-transfer:before{content:"\\E178"}.cmt .glyphicon-cutlery:before{content:"\\E179"}.cmt .glyphicon-header:before{content:"\\E180"}.cmt .glyphicon-compressed:before{content:"\\E181"}.cmt .glyphicon-earphone:before{content:"\\E182"}.cmt .glyphicon-phone-alt:before{content:"\\E183"}.cmt .glyphicon-tower:before{content:"\\E184"}.cmt .glyphicon-stats:before{content:"\\E185"}.cmt .glyphicon-sd-video:before{content:"\\E186"}.cmt .glyphicon-hd-video:before{content:"\\E187"}.cmt .glyphicon-subtitles:before{content:"\\E188"}.cmt .glyphicon-sound-stereo:before{content:"\\E189"}.cmt .glyphicon-sound-dolby:before{content:"\\E190"}.cmt .glyphicon-sound-5-1:before{content:"\\E191"}.cmt .glyphicon-sound-6-1:before{content:"\\E192"}.cmt .glyphicon-sound-7-1:before{content:"\\E193"}.cmt .glyphicon-copyright-mark:before{content:"\\E194"}.cmt .glyphicon-registration-mark:before{content:"\\E195"}.cmt .glyphicon-cloud-download:before{content:"\\E197"}.cmt .glyphicon-cloud-upload:before{content:"\\E198"}.cmt .glyphicon-tree-conifer:before{content:"\\E199"}.cmt .glyphicon-tree-deciduous:before{content:"\\E200"}.cmt .glyphicon-cd:before{content:"\\E201"}.cmt .glyphicon-save-file:before{content:"\\E202"}.cmt .glyphicon-open-file:before{content:"\\E203"}.cmt .glyphicon-level-up:before{content:"\\E204"}.cmt .glyphicon-copy:before{content:"\\E205"}.cmt .glyphicon-paste:before{content:"\\E206"}.cmt .glyphicon-alert:before{content:"\\E209"}.cmt .glyphicon-equalizer:before{content:"\\E210"}.cmt .glyphicon-king:before{content:"\\E211"}.cmt .glyphicon-queen:before{content:"\\E212"}.cmt .glyphicon-pawn:before{content:"\\E213"}.cmt .glyphicon-bishop:before{content:"\\E214"}.cmt .glyphicon-knight:before{content:"\\E215"}.cmt .glyphicon-baby-formula:before{content:"\\E216"}.cmt .glyphicon-tent:before{content:"\\26FA"}.cmt .glyphicon-blackboard:before{content:"\\E218"}.cmt .glyphicon-bed:before{content:"\\E219"}.cmt .glyphicon-apple:before{content:"\\F8FF"}.cmt .glyphicon-erase:before{content:"\\E221"}.cmt .glyphicon-hourglass:before{content:"\\231B"}.cmt .glyphicon-lamp:before{content:"\\E223"}.cmt .glyphicon-duplicate:before{content:"\\E224"}.cmt .glyphicon-piggy-bank:before{content:"\\E225"}.cmt .glyphicon-scissors:before{content:"\\E226"}.cmt .glyphicon-bitcoin:before,.cmt .glyphicon-btc:before,.cmt .glyphicon-xbt:before{content:"\\E227"}.cmt .glyphicon-jpy:before,.cmt .glyphicon-yen:before{content:"\\A5"}.cmt .glyphicon-rub:before,.cmt .glyphicon-ruble:before{content:"\\20BD"}.cmt .glyphicon-scale:before{content:"\\E230"}.cmt .glyphicon-ice-lolly:before{content:"\\E231"}.cmt .glyphicon-ice-lolly-tasted:before{content:"\\E232"}.cmt .glyphicon-education:before{content:"\\E233"}.cmt .glyphicon-option-horizontal:before{content:"\\E234"}.cmt .glyphicon-option-vertical:before{content:"\\E235"}.cmt .glyphicon-menu-hamburger:before{content:"\\E236"}.cmt .glyphicon-modal-window:before{content:"\\E237"}.cmt .glyphicon-oil:before{content:"\\E238"}.cmt .glyphicon-grain:before{content:"\\E239"}.cmt .glyphicon-sunglasses:before{content:"\\E240"}.cmt .glyphicon-text-size:before{content:"\\E241"}.cmt .glyphicon-text-color:before{content:"\\E242"}.cmt .glyphicon-text-background:before{content:"\\E243"}.cmt .glyphicon-object-align-top:before{content:"\\E244"}.cmt .glyphicon-object-align-bottom:before{content:"\\E245"}.cmt .glyphicon-object-align-horizontal:before{content:"\\E246"}.cmt .glyphicon-object-align-left:before{content:"\\E247"}.cmt .glyphicon-object-align-vertical:before{content:"\\E248"}.cmt .glyphicon-object-align-right:before{content:"\\E249"}.cmt .glyphicon-triangle-right:before{content:"\\E250"}.cmt .glyphicon-triangle-left:before{content:"\\E251"}.cmt .glyphicon-triangle-bottom:before{content:"\\E252"}.cmt .glyphicon-triangle-top:before{content:"\\E253"}.cmt .glyphicon-console:before{content:"\\E254"}.cmt .glyphicon-superscript:before{content:"\\E255"}.cmt .glyphicon-subscript:before{content:"\\E256"}.cmt .glyphicon-menu-left:before{content:"\\E257"}.cmt .glyphicon-menu-right:before{content:"\\E258"}.cmt .glyphicon-menu-down:before{content:"\\E259"}.cmt .glyphicon-menu-up:before{content:"\\E260"}.cmt *,.cmt :after,.cmt :before{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.cmt,.cmt html{font-size:10px;-webkit-tap-highlight-color:rgba(0,0,0,0)}.cmt,.cmt body{font-family:Lato,Helvetica Neue,Helvetica,Arial,sans-serif;font-size:15px;line-height:1.42857143;color:#2c3e50;background-color:#fff}.cmt button,.cmt input,.cmt select,.cmt textarea{font-family:inherit;font-size:inherit;line-height:inherit}.cmt a{color:#18bc9c;text-decoration:none}.cmt a:focus,.cmt a:hover{color:#18bc9c;text-decoration:underline}.cmt a:focus{outline:5px auto -webkit-focus-ring-color;outline-offset:-2px}.cmt figure{margin:0}.cmt img{vertical-align:middle}.cmt .img-responsive{display:block;max-width:100%;height:auto}.cmt .img-rounded{border-radius:6px}.cmt .img-thumbnail{padding:4px;line-height:1.42857143;background-color:#fff;border:1px solid #ecf0f1;border-radius:4px;-webkit-transition:all .2s ease-in-out;-o-transition:all .2s ease-in-out;transition:all .2s ease-in-out;display:inline-block;max-width:100%;height:auto}.cmt .img-circle{border-radius:50%}.cmt hr{margin-top:21px;margin-bottom:21px;border:0;border-top:1px solid #ecf0f1}.cmt .sr-only{position:absolute;width:1px;height:1px;margin:-1px;padding:0;overflow:hidden;clip:rect(0,0,0,0);border:0}.cmt .sr-only-focusable:active,.cmt .sr-only-focusable:focus{position:static;width:auto;height:auto;margin:0;overflow:visible;clip:auto}.cmt [role=button]{cursor:pointer}.cmt .h1,.cmt .h2,.cmt .h3,.cmt .h4,.cmt .h5,.cmt .h6,.cmt h1,.cmt h2,.cmt h3,.cmt h4,.cmt h5,.cmt h6{font-family:Lato,Helvetica Neue,Helvetica,Arial,sans-serif;font-weight:400;line-height:1.1;color:inherit}.cmt .h1 .small,.cmt .h1 small,.cmt .h2 .small,.cmt .h2 small,.cmt .h3 .small,.cmt .h3 small,.cmt .h4 .small,.cmt .h4 small,.cmt .h5 .small,.cmt .h5 small,.cmt .h6 .small,.cmt .h6 small,.cmt h1 .small,.cmt h1 small,.cmt h2 .small,.cmt h2 small,.cmt h3 .small,.cmt h3 small,.cmt h4 .small,.cmt h4 small,.cmt h5 .small,.cmt h5 small,.cmt h6 .small,.cmt h6 small{font-weight:400;line-height:1;color:#b4bcc2}.cmt .h1,.cmt .h2,.cmt .h3,.cmt h1,.cmt h2,.cmt h3{margin-top:21px;margin-bottom:10.5px}.cmt .h1 .small,.cmt .h1 small,.cmt .h2 .small,.cmt .h2 small,.cmt .h3 .small,.cmt .h3 small,.cmt h1 .small,.cmt h1 small,.cmt h2 .small,.cmt h2 small,.cmt h3 .small,.cmt h3 small{font-size:65%}.cmt .h4,.cmt .h5,.cmt .h6,.cmt h4,.cmt h5,.cmt h6{margin-top:10.5px;margin-bottom:10.5px}.cmt .h4 .small,.cmt .h4 small,.cmt .h5 .small,.cmt .h5 small,.cmt .h6 .small,.cmt .h6 small,.cmt h4 .small,.cmt h4 small,.cmt h5 .small,.cmt h5 small,.cmt h6 .small,.cmt h6 small{font-size:75%}.cmt .h1,.cmt h1{font-size:39px}.cmt .h2,.cmt h2{font-size:32px}.cmt .h3,.cmt h3{font-size:26px}.cmt .h4,.cmt h4{font-size:19px}.cmt .h5,.cmt h5{font-size:15px}.cmt .h6,.cmt h6{font-size:13px}.cmt p{margin:0 0 10.5px}.cmt .lead{margin-bottom:21px;font-size:17px;font-weight:300;line-height:1.4}@media (min-width:768px){.cmt .lead{font-size:22.5px}}.cmt .small,.cmt small{font-size:86%}.cmt .mark,.cmt mark{background-color:#f39c12;padding:.2em}.cmt .text-left{text-align:left}.cmt .text-right{text-align:right}.cmt .text-center{text-align:center}.cmt .text-justify{text-align:justify}.cmt .text-nowrap{white-space:nowrap}.cmt .text-lowercase{text-transform:lowercase}.cmt .text-uppercase{text-transform:uppercase}.cmt .text-capitalize{text-transform:capitalize}.cmt .text-muted{color:#b4bcc2}.cmt .text-primary{color:#2c3e50}a.cmt .text-primary:focus,a.cmt .text-primary:hover{color:#1a242f}.cmt .text-success{color:#fff}a.cmt .text-success:focus,a.cmt .text-success:hover{color:#e6e6e6}.cmt .text-info{color:#fff}a.cmt .text-info:focus,a.cmt .text-info:hover{color:#e6e6e6}.cmt .text-warning{color:#fff}a.cmt .text-warning:focus,a.cmt .text-warning:hover{color:#e6e6e6}.cmt .text-danger{color:#fff}a.cmt .text-danger:focus,a.cmt .text-danger:hover{color:#e6e6e6}.cmt .bg-primary{color:#fff;background-color:#2c3e50}a.cmt .bg-primary:focus,a.cmt .bg-primary:hover{background-color:#1a242f}.cmt .bg-success{background-color:#18bc9c}a.cmt .bg-success:focus,a.cmt .bg-success:hover{background-color:#128f76}.cmt .bg-info{background-color:#3498db}a.cmt .bg-info:focus,a.cmt .bg-info:hover{background-color:#217dbb}.cmt .bg-warning{background-color:#f39c12}a.cmt .bg-warning:focus,a.cmt .bg-warning:hover{background-color:#c87f0a}.cmt .bg-danger{background-color:#e74c3c}a.cmt .bg-danger:focus,a.cmt .bg-danger:hover{background-color:#d62c1a}.cmt .page-header{padding-bottom:9.5px;margin:42px 0 21px;border-bottom:1px solid transparent}.cmt ol,.cmt ul{margin-top:0;margin-bottom:10.5px}.cmt ol ol,.cmt ol ul,.cmt ul ol,.cmt ul ul{margin-bottom:0}.cmt .list-inline,.cmt .list-unstyled{padding-left:0;list-style:none}.cmt .list-inline{margin-left:-5px}.cmt .list-inline>li{display:inline-block;padding-left:5px;padding-right:5px}.cmt dl{margin-top:0;margin-bottom:21px}.cmt dd,.cmt dt{line-height:1.42857143}.cmt dt{font-weight:700}.cmt dd{margin-left:0}@media (min-width:768px){.cmt .dl-horizontal dt{float:left;width:160px;clear:left;text-align:right;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.cmt .dl-horizontal dd{margin-left:180px}}.cmt abbr[data-original-title],.cmt abbr[title]{cursor:help;border-bottom:1px dotted #b4bcc2}.cmt .initialism{font-size:90%;text-transform:uppercase}.cmt blockquote{padding:10.5px 21px;margin:0 0 21px;font-size:18.75px;border-left:5px solid #ecf0f1}.cmt blockquote ol:last-child,.cmt blockquote p:last-child,.cmt blockquote ul:last-child{margin-bottom:0}.cmt blockquote .small,.cmt blockquote footer,.cmt blockquote small{display:block;font-size:80%;line-height:1.42857143;color:#b4bcc2}.cmt blockquote .small:before,.cmt blockquote footer:before,.cmt blockquote small:before{content:"\\2014   \\A0"}.cmt .blockquote-reverse,.cmt blockquote.pull-right{padding-right:15px;padding-left:0;border-right:5px solid #ecf0f1;border-left:0;text-align:right}.cmt .blockquote-reverse .small:before,.cmt .blockquote-reverse footer:before,.cmt .blockquote-reverse small:before,.cmt blockquote.pull-right .small:before,.cmt blockquote.pull-right footer:before,.cmt blockquote.pull-right small:before{content:""}.cmt .blockquote-reverse .small:after,.cmt .blockquote-reverse footer:after,.cmt .blockquote-reverse small:after,.cmt blockquote.pull-right .small:after,.cmt blockquote.pull-right footer:after,.cmt blockquote.pull-right small:after{content:"\\A0   \\2014"}.cmt address{margin-bottom:21px;font-style:normal;line-height:1.42857143}.cmt code,.cmt kbd,.cmt pre,.cmt samp{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.cmt code{color:#c7254e;background-color:#f9f2f4;border-radius:4px}.cmt code,.cmt kbd{padding:2px 4px;font-size:90%}.cmt kbd{color:#fff;background-color:#333;border-radius:3px;box-shadow:inset 0 -1px 0 rgba(0,0,0,.25)}.cmt kbd kbd{padding:0;font-size:100%;font-weight:700;box-shadow:none}.cmt pre{display:block;padding:10px;margin:0 0 10.5px;font-size:14px;line-height:1.42857143;word-break:break-all;word-wrap:break-word;color:#7b8a8b;background-color:#ecf0f1;border:1px solid #ccc;border-radius:4px}.cmt pre code{padding:0;font-size:inherit;color:inherit;white-space:pre-wrap;background-color:transparent;border-radius:0}.cmt .pre-scrollable{max-height:340px;overflow-y:scroll}.cmt .container{margin-right:auto;margin-left:auto;padding-left:15px;padding-right:15px}@media (min-width:768px){.cmt .container{width:750px}}@media (min-width:992px){.cmt .container{width:970px}}@media (min-width:1200px){.cmt .container{width:1170px}}.cmt .container-fluid{margin-right:auto;margin-left:auto;padding-left:15px;padding-right:15px}.cmt .row{margin-left:-15px;margin-right:-15px}.cmt .col-xs-1,.col-lg-1,.col-lg-2,.col-lg-3,.col-lg-4,.col-lg-5,.col-lg-6,.col-lg-7,.col-lg-8,.col-lg-9,.col-lg-10,.col-lg-11,.col-lg-12,.col-md-1,.col-md-2,.col-md-3,.col-md-4,.col-md-5,.col-md-6,.col-md-7,.col-md-8,.col-md-9,.col-md-10,.col-md-11,.col-md-12,.col-sm-1,.col-sm-2,.col-sm-3,.col-sm-4,.col-sm-5,.col-sm-6,.col-sm-7,.col-sm-8,.col-sm-9,.col-sm-10,.col-sm-11,.col-sm-12,.col-xs-2,.col-xs-3,.col-xs-4,.col-xs-5,.col-xs-6,.col-xs-7,.col-xs-8,.col-xs-9,.col-xs-10,.col-xs-11,.col-xs-12{position:relative;min-height:1px;padding-left:15px;padding-right:15px}.cmt .col-xs-1,.col-xs-2,.col-xs-3,.col-xs-4,.col-xs-5,.col-xs-6,.col-xs-7,.col-xs-8,.col-xs-9,.col-xs-10,.col-xs-11,.col-xs-12{float:left}.cmt .col-xs-12{width:100%}.cmt .col-xs-11{width:91.66666667%}.cmt .col-xs-10{width:83.33333333%}.cmt .col-xs-9{width:75%}.cmt .col-xs-8{width:66.66666667%}.cmt .col-xs-7{width:58.33333333%}.cmt .col-xs-6{width:50%}.cmt .col-xs-5{width:41.66666667%}.cmt .col-xs-4{width:33.33333333%}.cmt .col-xs-3{width:25%}.cmt .col-xs-2{width:16.66666667%}.cmt .col-xs-1{width:8.33333333%}.cmt .col-xs-pull-12{right:100%}.cmt .col-xs-pull-11{right:91.66666667%}.cmt .col-xs-pull-10{right:83.33333333%}.cmt .col-xs-pull-9{right:75%}.cmt .col-xs-pull-8{right:66.66666667%}.cmt .col-xs-pull-7{right:58.33333333%}.cmt .col-xs-pull-6{right:50%}.cmt .col-xs-pull-5{right:41.66666667%}.cmt .col-xs-pull-4{right:33.33333333%}.cmt .col-xs-pull-3{right:25%}.cmt .col-xs-pull-2{right:16.66666667%}.cmt .col-xs-pull-1{right:8.33333333%}.cmt .col-xs-pull-0{right:auto}.cmt .col-xs-push-12{left:100%}.cmt .col-xs-push-11{left:91.66666667%}.cmt .col-xs-push-10{left:83.33333333%}.cmt .col-xs-push-9{left:75%}.cmt .col-xs-push-8{left:66.66666667%}.cmt .col-xs-push-7{left:58.33333333%}.cmt .col-xs-push-6{left:50%}.cmt .col-xs-push-5{left:41.66666667%}.cmt .col-xs-push-4{left:33.33333333%}.cmt .col-xs-push-3{left:25%}.cmt .col-xs-push-2{left:16.66666667%}.cmt .col-xs-push-1{left:8.33333333%}.cmt .col-xs-push-0{left:auto}.cmt .col-xs-offset-12{margin-left:100%}.cmt .col-xs-offset-11{margin-left:91.66666667%}.cmt .col-xs-offset-10{margin-left:83.33333333%}.cmt .col-xs-offset-9{margin-left:75%}.cmt .col-xs-offset-8{margin-left:66.66666667%}.cmt .col-xs-offset-7{margin-left:58.33333333%}.cmt .col-xs-offset-6{margin-left:50%}.cmt .col-xs-offset-5{margin-left:41.66666667%}.cmt .col-xs-offset-4{margin-left:33.33333333%}.cmt .col-xs-offset-3{margin-left:25%}.cmt .col-xs-offset-2{margin-left:16.66666667%}.cmt .col-xs-offset-1{margin-left:8.33333333%}.cmt .col-xs-offset-0{margin-left:0}@media (min-width:768px){.cmt .col-sm-1,.col-sm-2,.col-sm-3,.col-sm-4,.col-sm-5,.col-sm-6,.col-sm-7,.col-sm-8,.col-sm-9,.col-sm-10,.col-sm-11,.col-sm-12{float:left}.cmt .col-sm-12{width:100%}.cmt .col-sm-11{width:91.66666667%}.cmt .col-sm-10{width:83.33333333%}.cmt .col-sm-9{width:75%}.cmt .col-sm-8{width:66.66666667%}.cmt .col-sm-7{width:58.33333333%}.cmt .col-sm-6{width:50%}.cmt .col-sm-5{width:41.66666667%}.cmt .col-sm-4{width:33.33333333%}.cmt .col-sm-3{width:25%}.cmt .col-sm-2{width:16.66666667%}.cmt .col-sm-1{width:8.33333333%}.cmt .col-sm-pull-12{right:100%}.cmt .col-sm-pull-11{right:91.66666667%}.cmt .col-sm-pull-10{right:83.33333333%}.cmt .col-sm-pull-9{right:75%}.cmt .col-sm-pull-8{right:66.66666667%}.cmt .col-sm-pull-7{right:58.33333333%}.cmt .col-sm-pull-6{right:50%}.cmt .col-sm-pull-5{right:41.66666667%}.cmt .col-sm-pull-4{right:33.33333333%}.cmt .col-sm-pull-3{right:25%}.cmt .col-sm-pull-2{right:16.66666667%}.cmt .col-sm-pull-1{right:8.33333333%}.cmt .col-sm-pull-0{right:auto}.cmt .col-sm-push-12{left:100%}.cmt .col-sm-push-11{left:91.66666667%}.cmt .col-sm-push-10{left:83.33333333%}.cmt .col-sm-push-9{left:75%}.cmt .col-sm-push-8{left:66.66666667%}.cmt .col-sm-push-7{left:58.33333333%}.cmt .col-sm-push-6{left:50%}.cmt .col-sm-push-5{left:41.66666667%}.cmt .col-sm-push-4{left:33.33333333%}.cmt .col-sm-push-3{left:25%}.cmt .col-sm-push-2{left:16.66666667%}.cmt .col-sm-push-1{left:8.33333333%}.cmt .col-sm-push-0{left:auto}.cmt .col-sm-offset-12{margin-left:100%}.cmt .col-sm-offset-11{margin-left:91.66666667%}.cmt .col-sm-offset-10{margin-left:83.33333333%}.cmt .col-sm-offset-9{margin-left:75%}.cmt .col-sm-offset-8{margin-left:66.66666667%}.cmt .col-sm-offset-7{margin-left:58.33333333%}.cmt .col-sm-offset-6{margin-left:50%}.cmt .col-sm-offset-5{margin-left:41.66666667%}.cmt .col-sm-offset-4{margin-left:33.33333333%}.cmt .col-sm-offset-3{margin-left:25%}.cmt .col-sm-offset-2{margin-left:16.66666667%}.cmt .col-sm-offset-1{margin-left:8.33333333%}.cmt .col-sm-offset-0{margin-left:0}}@media (min-width:992px){.cmt .col-md-1,.col-md-2,.col-md-3,.col-md-4,.col-md-5,.col-md-6,.col-md-7,.col-md-8,.col-md-9,.col-md-10,.col-md-11,.col-md-12{float:left}.cmt .col-md-12{width:100%}.cmt .col-md-11{width:91.66666667%}.cmt .col-md-10{width:83.33333333%}.cmt .col-md-9{width:75%}.cmt .col-md-8{width:66.66666667%}.cmt .col-md-7{width:58.33333333%}.cmt .col-md-6{width:50%}.cmt .col-md-5{width:41.66666667%}.cmt .col-md-4{width:33.33333333%}.cmt .col-md-3{width:25%}.cmt .col-md-2{width:16.66666667%}.cmt .col-md-1{width:8.33333333%}.cmt .col-md-pull-12{right:100%}.cmt .col-md-pull-11{right:91.66666667%}.cmt .col-md-pull-10{right:83.33333333%}.cmt .col-md-pull-9{right:75%}.cmt .col-md-pull-8{right:66.66666667%}.cmt .col-md-pull-7{right:58.33333333%}.cmt .col-md-pull-6{right:50%}.cmt .col-md-pull-5{right:41.66666667%}.cmt .col-md-pull-4{right:33.33333333%}.cmt .col-md-pull-3{right:25%}.cmt .col-md-pull-2{right:16.66666667%}.cmt .col-md-pull-1{right:8.33333333%}.cmt .col-md-pull-0{right:auto}.cmt .col-md-push-12{left:100%}.cmt .col-md-push-11{left:91.66666667%}.cmt .col-md-push-10{left:83.33333333%}.cmt .col-md-push-9{left:75%}.cmt .col-md-push-8{left:66.66666667%}.cmt .col-md-push-7{left:58.33333333%}.cmt .col-md-push-6{left:50%}.cmt .col-md-push-5{left:41.66666667%}.cmt .col-md-push-4{left:33.33333333%}.cmt .col-md-push-3{left:25%}.cmt .col-md-push-2{left:16.66666667%}.cmt .col-md-push-1{left:8.33333333%}.cmt .col-md-push-0{left:auto}.cmt .col-md-offset-12{margin-left:100%}.cmt .col-md-offset-11{margin-left:91.66666667%}.cmt .col-md-offset-10{margin-left:83.33333333%}.cmt .col-md-offset-9{margin-left:75%}.cmt .col-md-offset-8{margin-left:66.66666667%}.cmt .col-md-offset-7{margin-left:58.33333333%}.cmt .col-md-offset-6{margin-left:50%}.cmt .col-md-offset-5{margin-left:41.66666667%}.cmt .col-md-offset-4{margin-left:33.33333333%}.cmt .col-md-offset-3{margin-left:25%}.cmt .col-md-offset-2{margin-left:16.66666667%}.cmt .col-md-offset-1{margin-left:8.33333333%}.cmt .col-md-offset-0{margin-left:0}}@media (min-width:1200px){.cmt .col-lg-1,.col-lg-2,.col-lg-3,.col-lg-4,.col-lg-5,.col-lg-6,.col-lg-7,.col-lg-8,.col-lg-9,.col-lg-10,.col-lg-11,.col-lg-12{float:left}.cmt .col-lg-12{width:100%}.cmt .col-lg-11{width:91.66666667%}.cmt .col-lg-10{width:83.33333333%}.cmt .col-lg-9{width:75%}.cmt .col-lg-8{width:66.66666667%}.cmt .col-lg-7{width:58.33333333%}.cmt .col-lg-6{width:50%}.cmt .col-lg-5{width:41.66666667%}.cmt .col-lg-4{width:33.33333333%}.cmt .col-lg-3{width:25%}.cmt .col-lg-2{width:16.66666667%}.cmt .col-lg-1{width:8.33333333%}.cmt .col-lg-pull-12{right:100%}.cmt .col-lg-pull-11{right:91.66666667%}.cmt .col-lg-pull-10{right:83.33333333%}.cmt .col-lg-pull-9{right:75%}.cmt .col-lg-pull-8{right:66.66666667%}.cmt .col-lg-pull-7{right:58.33333333%}.cmt .col-lg-pull-6{right:50%}.cmt .col-lg-pull-5{right:41.66666667%}.cmt .col-lg-pull-4{right:33.33333333%}.cmt .col-lg-pull-3{right:25%}.cmt .col-lg-pull-2{right:16.66666667%}.cmt .col-lg-pull-1{right:8.33333333%}.cmt .col-lg-pull-0{right:auto}.cmt .col-lg-push-12{left:100%}.cmt .col-lg-push-11{left:91.66666667%}.cmt .col-lg-push-10{left:83.33333333%}.cmt .col-lg-push-9{left:75%}.cmt .col-lg-push-8{left:66.66666667%}.cmt .col-lg-push-7{left:58.33333333%}.cmt .col-lg-push-6{left:50%}.cmt .col-lg-push-5{left:41.66666667%}.cmt .col-lg-push-4{left:33.33333333%}.cmt .col-lg-push-3{left:25%}.cmt .col-lg-push-2{left:16.66666667%}.cmt .col-lg-push-1{left:8.33333333%}.cmt .col-lg-push-0{left:auto}.cmt .col-lg-offset-12{margin-left:100%}.cmt .col-lg-offset-11{margin-left:91.66666667%}.cmt .col-lg-offset-10{margin-left:83.33333333%}.cmt .col-lg-offset-9{margin-left:75%}.cmt .col-lg-offset-8{margin-left:66.66666667%}.cmt .col-lg-offset-7{margin-left:58.33333333%}.cmt .col-lg-offset-6{margin-left:50%}.cmt .col-lg-offset-5{margin-left:41.66666667%}.cmt .col-lg-offset-4{margin-left:33.33333333%}.cmt .col-lg-offset-3{margin-left:25%}.cmt .col-lg-offset-2{margin-left:16.66666667%}.cmt .col-lg-offset-1{margin-left:8.33333333%}.cmt .col-lg-offset-0{margin-left:0}}.cmt table{background-color:transparent}.cmt caption{padding-top:8px;padding-bottom:8px;color:#b4bcc2}.cmt caption,.cmt th{text-align:left}.cmt .table{width:100%;max-width:100%;margin-bottom:21px}.cmt .table>tbody>tr>td,.cmt .table>tbody>tr>th,.cmt .table>tfoot>tr>td,.cmt .table>tfoot>tr>th,.cmt .table>thead>tr>td,.cmt .table>thead>tr>th{padding:8px;line-height:1.42857143;vertical-align:top;border-top:1px solid #ecf0f1}.cmt .table>thead>tr>th{vertical-align:bottom;border-bottom:2px solid #ecf0f1}.cmt .table>caption+thead>tr:first-child>td,.cmt .table>caption+thead>tr:first-child>th,.cmt .table>colgroup+thead>tr:first-child>td,.cmt .table>colgroup+thead>tr:first-child>th,.cmt .table>thead:first-child>tr:first-child>td,.cmt .table>thead:first-child>tr:first-child>th{border-top:0}.cmt .table>tbody+tbody{border-top:2px solid #ecf0f1}.cmt .table .table{background-color:#fff}.cmt .table-condensed>tbody>tr>td,.cmt .table-condensed>tbody>tr>th,.cmt .table-condensed>tfoot>tr>td,.cmt .table-condensed>tfoot>tr>th,.cmt .table-condensed>thead>tr>td,.cmt .table-condensed>thead>tr>th{padding:5px}.cmt .table-bordered,.cmt .table-bordered>tbody>tr>td,.cmt .table-bordered>tbody>tr>th,.cmt .table-bordered>tfoot>tr>td,.cmt .table-bordered>tfoot>tr>th,.cmt .table-bordered>thead>tr>td,.cmt .table-bordered>thead>tr>th{border:1px solid #ecf0f1}.cmt .table-bordered>thead>tr>td,.cmt .table-bordered>thead>tr>th{border-bottom-width:2px}.cmt .table-striped>tbody>tr:nth-of-type(odd){background-color:#f9f9f9}.cmt .table-hover>tbody>tr:hover{background-color:#ecf0f1}.cmt table col[class*=col-]{position:static;float:none;display:table-column}.cmt table td[class*=col-],.cmt table th[class*=col-]{position:static;float:none;display:table-cell}.cmt .table>tbody>tr.active>td,.cmt .table>tbody>tr.active>th,.cmt .table>tbody>tr>td.active,.cmt .table>tbody>tr>th.active,.cmt .table>tfoot>tr.active>td,.cmt .table>tfoot>tr.active>th,.cmt .table>tfoot>tr>td.active,.cmt .table>tfoot>tr>th.active,.cmt .table>thead>tr.active>td,.cmt .table>thead>tr.active>th,.cmt .table>thead>tr>td.active,.cmt .table>thead>tr>th.active{background-color:#ecf0f1}.cmt .table-hover>tbody>tr.active:hover>td,.cmt .table-hover>tbody>tr.active:hover>th,.cmt .table-hover>tbody>tr:hover>.active,.cmt .table-hover>tbody>tr>td.active:hover,.cmt .table-hover>tbody>tr>th.active:hover{background-color:#dde4e6}.cmt .table>tbody>tr.success>td,.cmt .table>tbody>tr.success>th,.cmt .table>tbody>tr>td.success,.cmt .table>tbody>tr>th.success,.cmt .table>tfoot>tr.success>td,.cmt .table>tfoot>tr.success>th,.cmt .table>tfoot>tr>td.success,.cmt .table>tfoot>tr>th.success,.cmt .table>thead>tr.success>td,.cmt .table>thead>tr.success>th,.cmt .table>thead>tr>td.success,.cmt .table>thead>tr>th.success{background-color:#18bc9c}.cmt .table-hover>tbody>tr.success:hover>td,.cmt .table-hover>tbody>tr.success:hover>th,.cmt .table-hover>tbody>tr:hover>.success,.cmt .table-hover>tbody>tr>td.success:hover,.cmt .table-hover>tbody>tr>th.success:hover{background-color:#15a589}.cmt .table>tbody>tr.info>td,.cmt .table>tbody>tr.info>th,.cmt .table>tbody>tr>td.info,.cmt .table>tbody>tr>th.info,.cmt .table>tfoot>tr.info>td,.cmt .table>tfoot>tr.info>th,.cmt .table>tfoot>tr>td.info,.cmt .table>tfoot>tr>th.info,.cmt .table>thead>tr.info>td,.cmt .table>thead>tr.info>th,.cmt .table>thead>tr>td.info,.cmt .table>thead>tr>th.info{background-color:#3498db}.cmt .table-hover>tbody>tr.info:hover>td,.cmt .table-hover>tbody>tr.info:hover>th,.cmt .table-hover>tbody>tr:hover>.info,.cmt .table-hover>tbody>tr>td.info:hover,.cmt .table-hover>tbody>tr>th.info:hover{background-color:#258cd1}.cmt .table>tbody>tr.warning>td,.cmt .table>tbody>tr.warning>th,.cmt .table>tbody>tr>td.warning,.cmt .table>tbody>tr>th.warning,.cmt .table>tfoot>tr.warning>td,.cmt .table>tfoot>tr.warning>th,.cmt .table>tfoot>tr>td.warning,.cmt .table>tfoot>tr>th.warning,.cmt .table>thead>tr.warning>td,.cmt .table>thead>tr.warning>th,.cmt .table>thead>tr>td.warning,.cmt .table>thead>tr>th.warning{background-color:#f39c12}.cmt .table-hover>tbody>tr.warning:hover>td,.cmt .table-hover>tbody>tr.warning:hover>th,.cmt .table-hover>tbody>tr:hover>.warning,.cmt .table-hover>tbody>tr>td.warning:hover,.cmt .table-hover>tbody>tr>th.warning:hover{background-color:#e08e0b}.cmt .table>tbody>tr.danger>td,.cmt .table>tbody>tr.danger>th,.cmt .table>tbody>tr>td.danger,.cmt .table>tbody>tr>th.danger,.cmt .table>tfoot>tr.danger>td,.cmt .table>tfoot>tr.danger>th,.cmt .table>tfoot>tr>td.danger,.cmt .table>tfoot>tr>th.danger,.cmt .table>thead>tr.danger>td,.cmt .table>thead>tr.danger>th,.cmt .table>thead>tr>td.danger,.cmt .table>thead>tr>th.danger{background-color:#e74c3c}.cmt .table-hover>tbody>tr.danger:hover>td,.cmt .table-hover>tbody>tr.danger:hover>th,.cmt .table-hover>tbody>tr:hover>.danger,.cmt .table-hover>tbody>tr>td.danger:hover,.cmt .table-hover>tbody>tr>th.danger:hover{background-color:#e43725}.cmt .table-responsive{overflow-x:auto;min-height:.01%}@media screen and (max-width:767px){.cmt .table-responsive{width:100%;margin-bottom:15.75px;overflow-y:hidden;-ms-overflow-style:-ms-autohiding-scrollbar;border:1px solid #ecf0f1}.cmt .table-responsive>.table{margin-bottom:0}.cmt .table-responsive>.table>tbody>tr>td,.cmt .table-responsive>.table>tbody>tr>th,.cmt .table-responsive>.table>tfoot>tr>td,.cmt .table-responsive>.table>tfoot>tr>th,.cmt .table-responsive>.table>thead>tr>td,.cmt .table-responsive>.table>thead>tr>th{white-space:nowrap}.cmt .table-responsive>.table-bordered{border:0}.cmt .table-responsive>.table-bordered>tbody>tr>td:first-child,.cmt .table-responsive>.table-bordered>tbody>tr>th:first-child,.cmt .table-responsive>.table-bordered>tfoot>tr>td:first-child,.cmt .table-responsive>.table-bordered>tfoot>tr>th:first-child,.cmt .table-responsive>.table-bordered>thead>tr>td:first-child,.cmt .table-responsive>.table-bordered>thead>tr>th:first-child{border-left:0}.cmt .table-responsive>.table-bordered>tbody>tr>td:last-child,.cmt .table-responsive>.table-bordered>tbody>tr>th:last-child,.cmt .table-responsive>.table-bordered>tfoot>tr>td:last-child,.cmt .table-responsive>.table-bordered>tfoot>tr>th:last-child,.cmt .table-responsive>.table-bordered>thead>tr>td:last-child,.cmt .table-responsive>.table-bordered>thead>tr>th:last-child{border-right:0}.cmt .table-responsive>.table-bordered>tbody>tr:last-child>td,.cmt .table-responsive>.table-bordered>tbody>tr:last-child>th,.cmt .table-responsive>.table-bordered>tfoot>tr:last-child>td,.cmt .table-responsive>.table-bordered>tfoot>tr:last-child>th{border-bottom:0}}.cmt fieldset{padding:0;margin:0;border:0;min-width:0}.cmt legend{display:block;width:100%;padding:0;margin-bottom:21px;font-size:22.5px;line-height:inherit;color:#2c3e50;border:0;border-bottom:1px solid transparent}.cmt label{display:inline-block;max-width:100%;margin-bottom:5px;font-weight:700}.cmt input[type=search]{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.cmt input[type=checkbox],.cmt input[type=radio]{margin:4px 0 0;margin-top:1px\\9;line-height:normal}.cmt input[type=file]{display:block}.cmt input[type=range]{display:block;width:100%}.cmt select[multiple],.cmt select[size]{height:auto}.cmt input[type=checkbox]:focus,.cmt input[type=file]:focus,.cmt input[type=radio]:focus{outline:5px auto -webkit-focus-ring-color;outline-offset:-2px}.cmt output{padding-top:11px}.cmt .form-control,.cmt output{display:block;font-size:15px;line-height:1.42857143;color:#2c3e50}.cmt .form-control{width:100%;height:45px;padding:10px 15px;background-color:#fff;background-image:none;border:1px solid #dce4ec;border-radius:4px;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075);-moz-box-shadow:inset 0 1px 1px rgba(0,0,0,.075);box-shadow:inset 0 1px 1px rgba(0,0,0,.075);-webkit-transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out;-o-transition:border-color ease-in-out .15s,box-shadow ease-in-out .15s;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}.cmt .form-control:focus{border-color:#2c3e50;outline:0;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 8px rgba(44,62,80,.6);-moz-box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 8px rgba(44,62,80,.6);box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 8px rgba(44,62,80,.6)}.cmt .form-control::-moz-placeholder{color:#acb6c0;opacity:1}.cmt .form-control:-ms-input-placeholder{color:#acb6c0}.cmt .form-control::-webkit-input-placeholder{color:#acb6c0}.cmt .form-control::-ms-expand{border:0;background-color:transparent}.cmt .form-control[disabled],.cmt .form-control[readonly],fieldset[disabled] .cmt .form-control{background-color:#ecf0f1;opacity:1}.cmt .form-control[disabled],fieldset[disabled] .cmt .form-control{cursor:not-allowed}textarea.cmt .form-control{height:auto}.cmt input[type=search]{-webkit-appearance:none}@media screen and (-webkit-min-device-pixel-ratio:0){.cmt input[type=date].form-control,.cmt input[type=datetime-local].form-control,.cmt input[type=month].form-control,.cmt input[type=time].form-control{line-height:45px}.cmt input[type=date].input-sm,.cmt input[type=datetime-local].input-sm,.cmt input[type=month].input-sm,.cmt input[type=time].input-sm,.input-group-sm .cmt input[type=date],.input-group-sm .cmt input[type=datetime-local],.input-group-sm .cmt input[type=month],.input-group-sm .cmt input[type=time]{line-height:35px}.cmt input[type=date].input-lg,.cmt input[type=datetime-local].input-lg,.cmt input[type=month].input-lg,.cmt input[type=time].input-lg,.input-group-lg .cmt input[type=date],.input-group-lg .cmt input[type=datetime-local],.input-group-lg .cmt input[type=month],.input-group-lg .cmt input[type=time]{line-height:66px}}.cmt .form-group{margin-bottom:15px}.cmt .checkbox,.cmt .radio{position:relative;display:block;margin-top:10px;margin-bottom:10px}.cmt .checkbox label,.cmt .radio label{min-height:21px;padding-left:20px;margin-bottom:0;font-weight:400;cursor:pointer}.cmt .checkbox-inline input[type=checkbox],.cmt .checkbox input[type=checkbox],.cmt .radio-inline input[type=radio],.cmt .radio input[type=radio]{position:absolute;margin-left:-20px;margin-top:4px\\9}.cmt .checkbox+.checkbox,.cmt .radio+.radio{margin-top:-5px}.cmt .checkbox-inline,.cmt .radio-inline{position:relative;display:inline-block;padding-left:20px;margin-bottom:0;vertical-align:middle;font-weight:400;cursor:pointer}.cmt .checkbox-inline+.checkbox-inline,.cmt .radio-inline+.radio-inline{margin-top:0;margin-left:10px}.cmt .checkbox-inline.disabled,.cmt .checkbox.disabled label,.cmt .radio-inline.disabled,.cmt .radio.disabled label,.cmt input[type=checkbox].disabled,.cmt input[type=checkbox][disabled],.cmt input[type=radio].disabled,.cmt input[type=radio][disabled],fieldset[disabled] .cmt .checkbox-inline,fieldset[disabled] .cmt .checkbox label,fieldset[disabled] .cmt .radio-inline,fieldset[disabled] .cmt .radio label,fieldset[disabled] .cmt input[type=checkbox],fieldset[disabled] .cmt input[type=radio]{cursor:not-allowed}.cmt .form-control-static{padding-top:11px;padding-bottom:11px;margin-bottom:0;min-height:36px}.cmt .form-control-static.input-lg,.cmt .form-control-static.input-sm{padding-left:0;padding-right:0}.cmt .input-sm{height:35px;padding:6px 9px;font-size:13px;line-height:1.5;border-radius:3px}select.cmt .input-sm{height:35px;line-height:35px}select[multiple].cmt .input-sm,textarea.cmt .input-sm{height:auto}.cmt .form-group-sm .form-control{height:35px;padding:6px 9px;font-size:13px;line-height:1.5;border-radius:3px}.cmt .form-group-sm select.form-control{height:35px;line-height:35px}.cmt .form-group-sm select[multiple].form-control,.cmt .form-group-sm textarea.form-control{height:auto}.cmt .form-group-sm .form-control-static{height:35px;min-height:34px;padding:7px 9px;font-size:13px;line-height:1.5}.cmt .input-lg{height:66px;padding:18px 27px;font-size:19px;line-height:1.3333333;border-radius:6px}select.cmt .input-lg{height:66px;line-height:66px}select[multiple].cmt .input-lg,textarea.cmt .input-lg{height:auto}.cmt .form-group-lg .form-control{height:66px;padding:18px 27px;font-size:19px;line-height:1.3333333;border-radius:6px}.cmt .form-group-lg select.form-control{height:66px;line-height:66px}.cmt .form-group-lg select[multiple].form-control,.cmt .form-group-lg textarea.form-control{height:auto}.cmt .form-group-lg .form-control-static{height:66px;min-height:40px;padding:19px 27px;font-size:19px;line-height:1.3333333}.cmt .has-feedback{position:relative}.cmt .has-feedback .form-control{padding-right:56.25px}.cmt .form-control-feedback{position:absolute;top:0;right:0;z-index:2;display:block;width:45px;height:45px;line-height:45px;text-align:center;pointer-events:none}.cmt .form-group-lg .form-control+.form-control-feedback,.cmt .input-group-lg+.form-control-feedback,.cmt .input-lg+.form-control-feedback{width:66px;height:66px;line-height:66px}.cmt .form-group-sm .form-control+.form-control-feedback,.cmt .input-group-sm+.form-control-feedback,.cmt .input-sm+.form-control-feedback{width:35px;height:35px;line-height:35px}.cmt .has-success .checkbox,.cmt .has-success .checkbox-inline,.cmt .has-success.checkbox-inline label,.cmt .has-success.checkbox label,.cmt .has-success .control-label,.cmt .has-success .help-block,.cmt .has-success .radio,.cmt .has-success .radio-inline,.cmt .has-success.radio-inline label,.cmt .has-success.radio label{color:#fff}.cmt .has-success .form-control{border-color:#fff;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075);-moz-box-shadow:inset 0 1px 1px rgba(0,0,0,.075);box-shadow:inset 0 1px 1px rgba(0,0,0,.075)}.cmt .has-success .form-control:focus{border-color:#e6e6e6;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #fff;-moz-box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #fff;box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #fff}.cmt .has-success .input-group-addon{color:#fff;border-color:#fff;background-color:#18bc9c}.cmt .has-success .form-control-feedback,.cmt .has-warning .checkbox,.cmt .has-warning .checkbox-inline,.cmt .has-warning.checkbox-inline label,.cmt .has-warning.checkbox label,.cmt .has-warning .control-label,.cmt .has-warning .help-block,.cmt .has-warning .radio,.cmt .has-warning .radio-inline,.cmt .has-warning.radio-inline label,.cmt .has-warning.radio label{color:#fff}.cmt .has-warning .form-control{border-color:#fff;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075);-moz-box-shadow:inset 0 1px 1px rgba(0,0,0,.075);box-shadow:inset 0 1px 1px rgba(0,0,0,.075)}.cmt .has-warning .form-control:focus{border-color:#e6e6e6;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #fff;-moz-box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #fff;box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #fff}.cmt .has-warning .input-group-addon{color:#fff;border-color:#fff;background-color:#f39c12}.cmt .has-error .checkbox,.cmt .has-error .checkbox-inline,.cmt .has-error.checkbox-inline label,.cmt .has-error.checkbox label,.cmt .has-error .control-label,.cmt .has-error .help-block,.cmt .has-error .radio,.cmt .has-error .radio-inline,.cmt .has-error.radio-inline label,.cmt .has-error.radio label,.cmt .has-warning .form-control-feedback{color:#fff}.cmt .has-error .form-control{border-color:#fff;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075);-moz-box-shadow:inset 0 1px 1px rgba(0,0,0,.075);box-shadow:inset 0 1px 1px rgba(0,0,0,.075)}.cmt .has-error .form-control:focus{border-color:#e6e6e6;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #fff;-moz-box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #fff;box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #fff}.cmt .has-error .input-group-addon{color:#fff;border-color:#fff;background-color:#e74c3c}.cmt .has-error .form-control-feedback{color:#fff}.cmt .has-feedback label~.form-control-feedback{top:26px}.cmt .has-feedback label.sr-only~.form-control-feedback{top:0}.cmt .help-block{display:block;margin-top:5px;margin-bottom:10px;color:#597ea2}@media (min-width:768px){.cmt .form-inline .form-group{display:inline-block;margin-bottom:0;vertical-align:middle}.cmt .form-inline .form-control{display:inline-block;width:auto;vertical-align:middle}.cmt .form-inline .form-control-static{display:inline-block}.cmt .form-inline .input-group{display:inline-table;vertical-align:middle}.cmt .form-inline .input-group .form-control,.cmt .form-inline .input-group .input-group-addon,.cmt .form-inline .input-group .input-group-btn{width:auto}.cmt .form-inline .input-group>.form-control{width:100%}.cmt .form-inline .control-label{margin-bottom:0;vertical-align:middle}.cmt .form-inline .checkbox,.cmt .form-inline .radio{display:inline-block;margin-top:0;margin-bottom:0;vertical-align:middle}.cmt .form-inline .checkbox label,.cmt .form-inline .radio label{padding-left:0}.cmt .form-inline .checkbox input[type=checkbox],.cmt .form-inline .radio input[type=radio]{position:relative;margin-left:0}.cmt .form-inline .has-feedback .form-control-feedback{top:0}}.cmt .form-horizontal .checkbox,.cmt .form-horizontal .checkbox-inline,.cmt .form-horizontal .radio,.cmt .form-horizontal .radio-inline{margin-top:0;margin-bottom:0;padding-top:11px}.cmt .form-horizontal .checkbox,.cmt .form-horizontal .radio{min-height:32px}.cmt .form-horizontal .form-group{margin-left:-15px;margin-right:-15px}@media (min-width:768px){.cmt .form-horizontal .control-label{text-align:right;margin-bottom:0;padding-top:11px}}.cmt .form-horizontal .has-feedback .form-control-feedback{right:15px}@media (min-width:768px){.cmt .form-horizontal .form-group-lg .control-label{padding-top:19px;font-size:19px}}@media (min-width:768px){.cmt .form-horizontal .form-group-sm .control-label{padding-top:7px;font-size:13px}}.cmt .btn{display:inline-block;margin-bottom:0;font-weight:400;text-align:center;vertical-align:middle;touch-action:manipulation;cursor:pointer;background-image:none;border:1px solid transparent;white-space:nowrap;padding:10px 15px;font-size:15px;line-height:1.42857143;border-radius:4px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.cmt .btn.active.focus,.cmt .btn.active:focus,.cmt .btn.focus,.cmt .btn:active.focus,.cmt .btn:active:focus,.cmt .btn:focus{outline:5px auto -webkit-focus-ring-color;outline-offset:-2px}.cmt .btn.focus,.cmt .btn:focus,.cmt .btn:hover{color:#fff;text-decoration:none}.cmt .btn.active,.cmt .btn:active{outline:0;background-image:none;-webkit-box-shadow:inset 0 3px 5px rgba(0,0,0,.125);-moz-box-shadow:inset 0 3px 5px rgba(0,0,0,.125);box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}.cmt .btn.disabled,.cmt .btn[disabled],fieldset[disabled] .cmt .btn{cursor:not-allowed;filter:alpha(opacity=65);-webkit-opacity:.65;-moz-opacity:.65;opacity:.65;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none}a.cmt .btn.disabled,fieldset[disabled] a.cmt .btn{pointer-events:none}.cmt .btn-default{color:#fff;background-color:#95a5a6;border-color:#95a5a6}.cmt .btn-default.focus,.cmt .btn-default:focus{color:#fff;background-color:#798d8f;border-color:#566566}.cmt .btn-default.active,.cmt .btn-default:active,.cmt .btn-default:hover,.open>.dropdown-toggle.cmt .btn-default{color:#fff;background-color:#798d8f;border-color:#74898a}.cmt .btn-default.active.focus,.cmt .btn-default.active:focus,.cmt .btn-default.active:hover,.cmt .btn-default:active.focus,.cmt .btn-default:active:focus,.cmt .btn-default:active:hover,.open>.dropdown-toggle.cmt .btn-default.focus,.open>.dropdown-toggle.cmt .btn-default:focus,.open>.dropdown-toggle.cmt .btn-default:hover{color:#fff;background-color:#687b7c;border-color:#566566}.cmt .btn-default.active,.cmt .btn-default:active,.open>.dropdown-toggle.cmt .btn-default{background-image:none}.cmt .btn-default.disabled.focus,.cmt .btn-default.disabled:focus,.cmt .btn-default.disabled:hover,.cmt .btn-default[disabled].focus,.cmt .btn-default[disabled]:focus,.cmt .btn-default[disabled]:hover,fieldset[disabled] .cmt .btn-default.focus,fieldset[disabled] .cmt .btn-default:focus,fieldset[disabled] .cmt .btn-default:hover{background-color:#95a5a6;border-color:#95a5a6}.cmt .btn-default .badge{color:#95a5a6;background-color:#fff}.cmt .btn-primary{color:#fff;background-color:#2c3e50;border-color:#2c3e50}.cmt .btn-primary.focus,.cmt .btn-primary:focus{color:#fff;background-color:#1a242f;border-color:#000}.cmt .btn-primary.active,.cmt .btn-primary:active,.cmt .btn-primary:hover,.open>.dropdown-toggle.cmt .btn-primary{color:#fff;background-color:#1a242f;border-color:#161f29}.cmt .btn-primary.active.focus,.cmt .btn-primary.active:focus,.cmt .btn-primary.active:hover,.cmt .btn-primary:active.focus,.cmt .btn-primary:active:focus,.cmt .btn-primary:active:hover,.open>.dropdown-toggle.cmt .btn-primary.focus,.open>.dropdown-toggle.cmt .btn-primary:focus,.open>.dropdown-toggle.cmt .btn-primary:hover{color:#fff;background-color:#0d1318;border-color:#000}.cmt .btn-primary.active,.cmt .btn-primary:active,.open>.dropdown-toggle.cmt .btn-primary{background-image:none}.cmt .btn-primary.disabled.focus,.cmt .btn-primary.disabled:focus,.cmt .btn-primary.disabled:hover,.cmt .btn-primary[disabled].focus,.cmt .btn-primary[disabled]:focus,.cmt .btn-primary[disabled]:hover,fieldset[disabled] .cmt .btn-primary.focus,fieldset[disabled] .cmt .btn-primary:focus,fieldset[disabled] .cmt .btn-primary:hover{background-color:#2c3e50;border-color:#2c3e50}.cmt .btn-primary .badge{color:#2c3e50;background-color:#fff}.cmt .btn-success{color:#fff;background-color:#18bc9c;border-color:#18bc9c}.cmt .btn-success.focus,.cmt .btn-success:focus{color:#fff;background-color:#128f76;border-color:#0a4b3e}.cmt .btn-success.active,.cmt .btn-success:active,.cmt .btn-success:hover,.open>.dropdown-toggle.cmt .btn-success{color:#fff;background-color:#128f76;border-color:#11866f}.cmt .btn-success.active.focus,.cmt .btn-success.active:focus,.cmt .btn-success.active:hover,.cmt .btn-success:active.focus,.cmt .btn-success:active:focus,.cmt .btn-success:active:hover,.open>.dropdown-toggle.cmt .btn-success.focus,.open>.dropdown-toggle.cmt .btn-success:focus,.open>.dropdown-toggle.cmt .btn-success:hover{color:#fff;background-color:#0e6f5c;border-color:#0a4b3e}.cmt .btn-success.active,.cmt .btn-success:active,.open>.dropdown-toggle.cmt .btn-success{background-image:none}.cmt .btn-success.disabled.focus,.cmt .btn-success.disabled:focus,.cmt .btn-success.disabled:hover,.cmt .btn-success[disabled].focus,.cmt .btn-success[disabled]:focus,.cmt .btn-success[disabled]:hover,fieldset[disabled] .cmt .btn-success.focus,fieldset[disabled] .cmt .btn-success:focus,fieldset[disabled] .cmt .btn-success:hover{background-color:#18bc9c;border-color:#18bc9c}.cmt .btn-success .badge{color:#18bc9c;background-color:#fff}.cmt .btn-info{color:#fff;background-color:#3498db;border-color:#3498db}.cmt .btn-info.focus,.cmt .btn-info:focus{color:#fff;background-color:#217dbb;border-color:#16527a}.cmt .btn-info.active,.cmt .btn-info:active,.cmt .btn-info:hover,.open>.dropdown-toggle.cmt .btn-info{color:#fff;background-color:#217dbb;border-color:#2077b2}.cmt .btn-info.active.focus,.cmt .btn-info.active:focus,.cmt .btn-info.active:hover,.cmt .btn-info:active.focus,.cmt .btn-info:active:focus,.cmt .btn-info:active:hover,.open>.dropdown-toggle.cmt .btn-info.focus,.open>.dropdown-toggle.cmt .btn-info:focus,.open>.dropdown-toggle.cmt .btn-info:hover{color:#fff;background-color:#1c699d;border-color:#16527a}.cmt .btn-info.active,.cmt .btn-info:active,.open>.dropdown-toggle.cmt .btn-info{background-image:none}.cmt .btn-info.disabled.focus,.cmt .btn-info.disabled:focus,.cmt .btn-info.disabled:hover,.cmt .btn-info[disabled].focus,.cmt .btn-info[disabled]:focus,.cmt .btn-info[disabled]:hover,fieldset[disabled] .cmt .btn-info.focus,fieldset[disabled] .cmt .btn-info:focus,fieldset[disabled] .cmt .btn-info:hover{background-color:#3498db;border-color:#3498db}.cmt .btn-info .badge{color:#3498db;background-color:#fff}.cmt .btn-warning{color:#fff;background-color:#f39c12;border-color:#f39c12}.cmt .btn-warning.focus,.cmt .btn-warning:focus{color:#fff;background-color:#c87f0a;border-color:#7f5006}.cmt .btn-warning.active,.cmt .btn-warning:active,.cmt .btn-warning:hover,.open>.dropdown-toggle.cmt .btn-warning{color:#fff;background-color:#c87f0a;border-color:#be780a}.cmt .btn-warning.active.focus,.cmt .btn-warning.active:focus,.cmt .btn-warning.active:hover,.cmt .btn-warning:active.focus,.cmt .btn-warning:active:focus,.cmt .btn-warning:active:hover,.open>.dropdown-toggle.cmt .btn-warning.focus,.open>.dropdown-toggle.cmt .btn-warning:focus,.open>.dropdown-toggle.cmt .btn-warning:hover{color:#fff;background-color:#a66908;border-color:#7f5006}.cmt .btn-warning.active,.cmt .btn-warning:active,.open>.dropdown-toggle.cmt .btn-warning{background-image:none}.cmt .btn-warning.disabled.focus,.cmt .btn-warning.disabled:focus,.cmt .btn-warning.disabled:hover,.cmt .btn-warning[disabled].focus,.cmt .btn-warning[disabled]:focus,.cmt .btn-warning[disabled]:hover,fieldset[disabled] .cmt .btn-warning.focus,fieldset[disabled] .cmt .btn-warning:focus,fieldset[disabled] .cmt .btn-warning:hover{background-color:#f39c12;border-color:#f39c12}.cmt .btn-warning .badge{color:#f39c12;background-color:#fff}.cmt .btn-danger{color:#fff;background-color:#e74c3c;border-color:#e74c3c}.cmt .btn-danger.focus,.cmt .btn-danger:focus{color:#fff;background-color:#d62c1a;border-color:#921e12}.cmt .btn-danger.active,.cmt .btn-danger:active,.cmt .btn-danger:hover,.open>.dropdown-toggle.cmt .btn-danger{color:#fff;background-color:#d62c1a;border-color:#cd2a19}.cmt .btn-danger.active.focus,.cmt .btn-danger.active:focus,.cmt .btn-danger.active:hover,.cmt .btn-danger:active.focus,.cmt .btn-danger:active:focus,.cmt .btn-danger:active:hover,.open>.dropdown-toggle.cmt .btn-danger.focus,.open>.dropdown-toggle.cmt .btn-danger:focus,.open>.dropdown-toggle.cmt .btn-danger:hover{color:#fff;background-color:#b62516;border-color:#921e12}.cmt .btn-danger.active,.cmt .btn-danger:active,.open>.dropdown-toggle.cmt .btn-danger{background-image:none}.cmt .btn-danger.disabled.focus,.cmt .btn-danger.disabled:focus,.cmt .btn-danger.disabled:hover,.cmt .btn-danger[disabled].focus,.cmt .btn-danger[disabled]:focus,.cmt .btn-danger[disabled]:hover,fieldset[disabled] .cmt .btn-danger.focus,fieldset[disabled] .cmt .btn-danger:focus,fieldset[disabled] .cmt .btn-danger:hover{background-color:#e74c3c;border-color:#e74c3c}.cmt .btn-danger .badge{color:#e74c3c;background-color:#fff}.cmt .btn-link{color:#18bc9c;font-weight:400;border-radius:0}.cmt .btn-link,.cmt .btn-link.active,.cmt .btn-link:active,.cmt .btn-link[disabled],fieldset[disabled] .cmt .btn-link{background-color:transparent;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none}.cmt .btn-link,.cmt .btn-link:active,.cmt .btn-link:focus,.cmt .btn-link:hover{border-color:transparent}.cmt .btn-link:focus,.cmt .btn-link:hover{color:#18bc9c;text-decoration:underline;background-color:transparent}.cmt .btn-link[disabled]:focus,.cmt .btn-link[disabled]:hover,fieldset[disabled] .cmt .btn-link:focus,fieldset[disabled] .cmt .btn-link:hover{color:#b4bcc2;text-decoration:none}.cmt .btn-lg{padding:18px 27px;font-size:19px;line-height:1.3333333;border-radius:6px}.cmt .btn-sm{padding:6px 9px}.cmt .btn-sm,.cmt .btn-xs{font-size:13px;line-height:1.5;border-radius:3px}.cmt .btn-xs{padding:1px 5px}.cmt .btn-block{display:block;width:100%}.cmt .btn-block+.btn-block{margin-top:5px}.cmt input[type=button].btn-block,.cmt input[type=reset].btn-block,.cmt input[type=submit].btn-block{width:100%}.cmt .fade{opacity:0;-webkit-transition:opacity .15s linear;-o-transition:opacity .15s linear;transition:opacity .15s linear}.cmt .fade.in{opacity:1}.cmt .collapse{display:none}.cmt .collapse.in{display:block}tr.cmt .collapse.in{display:table-row}tbody.cmt .collapse.in{display:table-row-group}.cmt .collapsing{position:relative;height:0;overflow:hidden;-webkit-transition-property:height,visibility;transition-property:height,visibility;-webkit-transition-duration:.35s;transition-duration:.35s;-webkit-transition-timing-function:ease;transition-timing-function:ease}.cmt .caret{display:inline-block;width:0;height:0;margin-left:2px;vertical-align:middle;border-top:4px dashed;border-top:4px solid\\9;border-right:4px solid transparent;border-left:4px solid transparent}.cmt .dropdown,.cmt .dropup{position:relative}.cmt .dropdown-toggle:focus{outline:0}.cmt .dropdown-menu{position:absolute;top:100%;left:0;z-index:1000;display:none;float:left;min-width:160px;padding:5px 0;margin:2px 0 0;list-style:none;font-size:15px;text-align:left;background-color:#fff;border:1px solid #ccc;border:1px solid rgba(0,0,0,.15);border-radius:4px;-webkit-box-shadow:0 6px 12px rgba(0,0,0,.175);-moz-box-shadow:0 6px 12px rgba(0,0,0,.175);box-shadow:0 6px 12px rgba(0,0,0,.175);background-clip:padding-box}.cmt .dropdown-menu.pull-right{right:0;left:auto}.cmt .dropdown-menu .divider{height:1px;margin:9.5px 0;overflow:hidden;background-color:#e5e5e5}.cmt .dropdown-menu>li>a{display:block;padding:3px 20px;clear:both;font-weight:400;line-height:1.42857143;color:#7b8a8b;white-space:nowrap}.cmt .dropdown-menu>li>a:focus,.cmt .dropdown-menu>li>a:hover{text-decoration:none;color:#fff;background-color:#2c3e50}.cmt .dropdown-menu>.active>a,.cmt .dropdown-menu>.active>a:focus,.cmt .dropdown-menu>.active>a:hover{color:#fff;text-decoration:none;outline:0;background-color:#2c3e50}.cmt .dropdown-menu>.disabled>a,.cmt .dropdown-menu>.disabled>a:focus,.cmt .dropdown-menu>.disabled>a:hover{color:#b4bcc2}.cmt .dropdown-menu>.disabled>a:focus,.cmt .dropdown-menu>.disabled>a:hover{text-decoration:none;background-color:transparent;background-image:none;filter:progid:DXImageTransform.Microsoft.gradient(enabled = false);cursor:not-allowed}.cmt .open>.dropdown-menu{display:block}.cmt .open>a{outline:0}.cmt .dropdown-menu-right{left:auto;right:0}.cmt .dropdown-menu-left{left:0;right:auto}.cmt .dropdown-header{display:block;padding:3px 20px;font-size:13px;line-height:1.42857143;color:#b4bcc2;white-space:nowrap}.cmt .dropdown-backdrop{position:fixed;left:0;right:0;bottom:0;top:0;z-index:990}.cmt .pull-right>.dropdown-menu{right:0;left:auto}.cmt .dropup .caret,.cmt .navbar-fixed-bottom .dropdown .caret{border-top:0;border-bottom:4px dashed;border-bottom:4px solid\\9;content:""}.cmt .dropup .dropdown-menu,.cmt .navbar-fixed-bottom .dropdown .dropdown-menu{top:auto;bottom:100%;margin-bottom:2px}@media (min-width:768px){.cmt .navbar-right .dropdown-menu{left:auto;right:0}.cmt .navbar-right .dropdown-menu-left{left:0;right:auto}}.cmt .btn-group,.cmt .btn-group-vertical,.cmt .fix-disabled-child-tooltip{position:relative;display:inline-block;vertical-align:middle}.cmt .btn-group-vertical>.btn,.cmt .btn-group>.btn,.cmt .fix-disabled-child-tooltip{position:relative;float:left}.cmt .btn-group-vertical>.btn.active,.cmt .btn-group-vertical>.btn:active,.cmt .btn-group-vertical>.btn:focus,.cmt .btn-group-vertical>.btn:hover,.cmt .btn-group>.btn.active,.cmt .btn-group>.btn:active,.cmt .btn-group>.btn:focus,.cmt .btn-group>.btn:hover{z-index:2}.cmt .btn-group .btn+.btn,.cmt .btn-group .btn+.btn-group,.cmt .btn-group .btn-group+.btn,.cmt .btn-group .btn-group+.btn-group{margin-left:-1px}.cmt .btn-toolbar{margin-left:-5px}.cmt .btn-toolbar .btn,.cmt .btn-toolbar .btn-group,.cmt .btn-toolbar .input-group{float:left}.cmt .btn-toolbar>.btn,.cmt .btn-toolbar>.btn-group,.cmt .btn-toolbar>.input-group{margin-left:5px}.cmt .btn-group>.btn:not(:first-child):not(:last-child):not(.dropdown-toggle){border-radius:0}.cmt .btn-group>.btn:first-child{margin-left:0}.cmt .btn-group>.btn:first-child:not(:last-child):not(.dropdown-toggle){border-bottom-right-radius:0;border-top-right-radius:0}.cmt .btn-group>.btn:last-child:not(:first-child),.cmt .btn-group>.dropdown-toggle:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0}.cmt .btn-group>.btn-group{float:left}.cmt .btn-group>.btn-group:not(:first-child):not(:last-child)>.btn{border-radius:0}.cmt .btn-group>.btn-group:first-child:not(:last-child)>.btn:last-child,.cmt .btn-group>.btn-group:first-child:not(:last-child)>.dropdown-toggle{border-bottom-right-radius:0;border-top-right-radius:0}.cmt .btn-group>.btn-group:last-child:not(:first-child)>.btn:first-child{border-bottom-left-radius:0;border-top-left-radius:0}.cmt .btn-group .dropdown-toggle:active,.cmt .btn-group.open .dropdown-toggle{outline:0}.cmt .btn-group>.btn+.dropdown-toggle{padding-left:8px;padding-right:8px}.cmt .btn-group>.btn-lg+.dropdown-toggle{padding-left:12px;padding-right:12px}.cmt .btn-group.open .dropdown-toggle{-webkit-box-shadow:inset 0 3px 5px rgba(0,0,0,.125);-moz-box-shadow:inset 0 3px 5px rgba(0,0,0,.125);box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}.cmt .btn-group.open .dropdown-toggle.btn-link{-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none}.cmt .btn .caret{margin-left:0}.cmt .btn-lg .caret{border-width:5px 5px 0;border-bottom-width:0}.cmt .dropup .btn-lg .caret{border-width:0 5px 5px}.cmt .btn-group-vertical>.btn,.cmt .btn-group-vertical>.btn-group,.cmt .btn-group-vertical>.btn-group>.btn{display:block;float:none;width:100%;max-width:100%}.cmt .btn-group-vertical>.btn-group>.btn{float:none}.cmt .btn-group-vertical>.btn+.btn,.cmt .btn-group-vertical>.btn+.btn-group,.cmt .btn-group-vertical>.btn-group+.btn,.cmt .btn-group-vertical>.btn-group+.btn-group{margin-top:-1px;margin-left:0}.cmt .btn-group-vertical>.btn:not(:first-child):not(:last-child){border-radius:0}.cmt .btn-group-vertical>.btn:first-child:not(:last-child){border-top-right-radius:4px;border-top-left-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.cmt .btn-group-vertical>.btn:last-child:not(:first-child){border-top-right-radius:0;border-top-left-radius:0;border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cmt .btn-group-vertical>.btn-group:not(:first-child):not(:last-child)>.btn{border-radius:0}.cmt .btn-group-vertical>.btn-group:first-child:not(:last-child)>.btn:last-child,.cmt .btn-group-vertical>.btn-group:first-child:not(:last-child)>.dropdown-toggle{border-bottom-right-radius:0;border-bottom-left-radius:0}.cmt .btn-group-vertical>.btn-group:last-child:not(:first-child)>.btn:first-child{border-top-right-radius:0;border-top-left-radius:0}.cmt .btn-group-justified{display:table;width:100%;table-layout:fixed;border-collapse:separate}.cmt .btn-group-justified>.btn,.cmt .btn-group-justified>.btn-group{float:none;display:table-cell;width:1%}.cmt .btn-group-justified>.btn-group .btn{width:100%}.cmt .btn-group-justified>.btn-group .dropdown-menu{left:auto}.cmt [data-toggle=buttons]>.btn-group>.btn input[type=checkbox],.cmt [data-toggle=buttons]>.btn-group>.btn input[type=radio],.cmt [data-toggle=buttons]>.btn input[type=checkbox],.cmt [data-toggle=buttons]>.btn input[type=radio]{position:absolute;clip:rect(0,0,0,0);pointer-events:none}.cmt .input-group{position:relative;display:table;border-collapse:separate}.cmt .input-group[class*=col-]{float:none;padding-left:0;padding-right:0}.cmt .input-group .form-control{position:relative;z-index:2;float:left;width:100%;margin-bottom:0}.cmt .input-group .form-control:focus{z-index:3}.cmt .input-group-lg>.form-control,.cmt .input-group-lg>.input-group-addon,.cmt .input-group-lg>.input-group-btn>.btn{height:66px;padding:18px 27px;font-size:19px;line-height:1.3333333;border-radius:6px}select.cmt .input-group-lg>.form-control,select.cmt .input-group-lg>.input-group-addon,select.cmt .input-group-lg>.input-group-btn>.btn{height:66px;line-height:66px}select[multiple].cmt .input-group-lg>.form-control,select[multiple].cmt .input-group-lg>.input-group-addon,select[multiple].cmt .input-group-lg>.input-group-btn>.btn,textarea.cmt .input-group-lg>.form-control,textarea.cmt .input-group-lg>.input-group-addon,textarea.cmt .input-group-lg>.input-group-btn>.btn{height:auto}.cmt .input-group-sm>.form-control,.cmt .input-group-sm>.input-group-addon,.cmt .input-group-sm>.input-group-btn>.btn{height:35px;padding:6px 9px;font-size:13px;line-height:1.5;border-radius:3px}select.cmt .input-group-sm>.form-control,select.cmt .input-group-sm>.input-group-addon,select.cmt .input-group-sm>.input-group-btn>.btn{height:35px;line-height:35px}select[multiple].cmt .input-group-sm>.form-control,select[multiple].cmt .input-group-sm>.input-group-addon,select[multiple].cmt .input-group-sm>.input-group-btn>.btn,textarea.cmt .input-group-sm>.form-control,textarea.cmt .input-group-sm>.input-group-addon,textarea.cmt .input-group-sm>.input-group-btn>.btn{height:auto}.cmt .input-group-addon,.cmt .input-group-btn,.cmt .input-group .form-control{display:table-cell}.cmt .input-group-addon:not(:first-child):not(:last-child),.cmt .input-group-btn:not(:first-child):not(:last-child),.cmt .input-group .form-control:not(:first-child):not(:last-child){border-radius:0}.cmt .input-group-addon,.cmt .input-group-btn{width:1%;white-space:nowrap;vertical-align:middle}.cmt .input-group-addon{padding:10px 15px;font-size:15px;font-weight:400;line-height:1;color:#2c3e50;text-align:center;background-color:#ecf0f1;border:1px solid #dce4ec;border-radius:4px}.cmt .input-group-addon.input-sm{padding:6px 9px;font-size:13px;border-radius:3px}.cmt .input-group-addon.input-lg{padding:18px 27px;font-size:19px;border-radius:6px}.cmt .input-group-addon input[type=checkbox],.cmt .input-group-addon input[type=radio]{margin-top:0}.cmt .input-group-addon:first-child,.cmt .input-group-btn:first-child>.btn,.cmt .input-group-btn:first-child>.btn-group>.btn,.cmt .input-group-btn:first-child>.dropdown-toggle,.cmt .input-group-btn:last-child>.btn-group:not(:last-child)>.btn,.cmt .input-group-btn:last-child>.btn:not(:last-child):not(.dropdown-toggle),.cmt .input-group .form-control:first-child{border-bottom-right-radius:0;border-top-right-radius:0}.cmt .input-group-addon:first-child{border-right:0}.cmt .input-group-addon:last-child,.cmt .input-group-btn:first-child>.btn-group:not(:first-child)>.btn,.cmt .input-group-btn:first-child>.btn:not(:first-child),.cmt .input-group-btn:last-child>.btn,.cmt .input-group-btn:last-child>.btn-group>.btn,.cmt .input-group-btn:last-child>.dropdown-toggle,.cmt .input-group .form-control:last-child{border-bottom-left-radius:0;border-top-left-radius:0}.cmt .input-group-addon:last-child{border-left:0}.cmt .input-group-btn{position:relative;font-size:0;white-space:nowrap}.cmt .input-group-btn>.btn{position:relative}.cmt .input-group-btn>.btn+.btn{margin-left:-1px}.cmt .input-group-btn>.btn:active,.cmt .input-group-btn>.btn:focus,.cmt .input-group-btn>.btn:hover{z-index:2}.cmt .input-group-btn:first-child>.btn,.cmt .input-group-btn:first-child>.btn-group{margin-right:-1px}.cmt .input-group-btn:last-child>.btn,.cmt .input-group-btn:last-child>.btn-group{z-index:2;margin-left:-1px}.cmt .nav{margin-bottom:0;padding-left:0;list-style:none}.cmt .nav>li,.cmt .nav>li>a{position:relative;display:block}.cmt .nav>li>a{padding:10px 15px}.cmt .nav>li>a:focus,.cmt .nav>li>a:hover{text-decoration:none;background-color:#ecf0f1}.cmt .nav>li.disabled>a{color:#b4bcc2}.cmt .nav>li.disabled>a:focus,.cmt .nav>li.disabled>a:hover{color:#b4bcc2;text-decoration:none;background-color:transparent;cursor:not-allowed}.cmt .nav .open>a,.cmt .nav .open>a:focus,.cmt .nav .open>a:hover{background-color:#ecf0f1;border-color:#18bc9c}.cmt .nav .nav-divider{height:1px;margin:9.5px 0;overflow:hidden;background-color:#e5e5e5}.cmt .nav>li>a>img{max-width:none}.cmt .nav-tabs{border-bottom:1px solid #ecf0f1}.cmt .nav-tabs>li{float:left;margin-bottom:-1px}.cmt .nav-tabs>li>a{margin-right:2px;line-height:1.42857143;border:1px solid transparent;border-radius:4px 4px 0 0}.cmt .nav-tabs>li>a:hover{border-color:#ecf0f1}.cmt .nav-tabs>li.active>a,.cmt .nav-tabs>li.active>a:focus,.cmt .nav-tabs>li.active>a:hover{color:#2c3e50;background-color:#fff;border:1px solid #ecf0f1;border-bottom-color:transparent;cursor:default}.cmt .nav-tabs.nav-justified{width:100%;border-bottom:0}.cmt .nav-tabs.nav-justified>li{float:none}.cmt .nav-tabs.nav-justified>li>a{text-align:center;margin-bottom:5px}.cmt .nav-tabs.nav-justified>.dropdown .dropdown-menu{top:auto;left:auto}@media (min-width:768px){.cmt .nav-tabs.nav-justified>li{display:table-cell;width:1%}.cmt .nav-tabs.nav-justified>li>a{margin-bottom:0}}.cmt .nav-tabs.nav-justified>li>a{margin-right:0;border-radius:4px}.cmt .nav-tabs.nav-justified>.active>a,.cmt .nav-tabs.nav-justified>.active>a:focus,.cmt .nav-tabs.nav-justified>.active>a:hover{border:1px solid #ecf0f1}@media (min-width:768px){.cmt .nav-tabs.nav-justified>li>a{border-bottom:1px solid #ecf0f1;border-radius:4px 4px 0 0}.cmt .nav-tabs.nav-justified>.active>a,.cmt .nav-tabs.nav-justified>.active>a:focus,.cmt .nav-tabs.nav-justified>.active>a:hover{border-bottom-color:#fff}}.cmt .nav-pills>li{float:left}.cmt .nav-pills>li>a{border-radius:4px}.cmt .nav-pills>li+li{margin-left:2px}.cmt .nav-pills>li.active>a,.cmt .nav-pills>li.active>a:focus,.cmt .nav-pills>li.active>a:hover{color:#fff;background-color:#2c3e50}.cmt .nav-stacked>li{float:none}.cmt .nav-stacked>li+li{margin-top:2px;margin-left:0}.cmt .nav-justified{width:100%}.cmt .nav-justified>li{float:none}.cmt .nav-justified>li>a{text-align:center;margin-bottom:5px}.cmt .nav-justified>.dropdown .dropdown-menu{top:auto;left:auto}@media (min-width:768px){.cmt .nav-justified>li{display:table-cell;width:1%}.cmt .nav-justified>li>a{margin-bottom:0}}.cmt .nav-tabs-justified{border-bottom:0}.cmt .nav-tabs-justified>li>a{margin-right:0;border-radius:4px}.cmt .nav-tabs-justified>.active>a,.cmt .nav-tabs-justified>.active>a:focus,.cmt .nav-tabs-justified>.active>a:hover{border:1px solid #ecf0f1}@media (min-width:768px){.cmt .nav-tabs-justified>li>a{border-bottom:1px solid #ecf0f1;border-radius:4px 4px 0 0}.cmt .nav-tabs-justified>.active>a,.cmt .nav-tabs-justified>.active>a:focus,.cmt .nav-tabs-justified>.active>a:hover{border-bottom-color:#fff}}.cmt .tab-content>.tab-pane{display:none}.cmt .tab-content>.active{display:block}.cmt .nav-tabs .dropdown-menu{margin-top:-1px;border-top-right-radius:0;border-top-left-radius:0}.cmt .navbar{position:relative;min-height:60px;margin-bottom:21px;border:1px solid transparent}@media (min-width:768px){.cmt .navbar{border-radius:4px}}@media (min-width:768px){.cmt .navbar-header{float:left}}.cmt .navbar-collapse{overflow-x:visible;padding-right:15px;padding-left:15px;border-top:1px solid transparent;box-shadow:inset 0 1px 0 hsla(0,0%,100%,.1);-webkit-overflow-scrolling:touch}.cmt .navbar-collapse.in{overflow-y:auto}@media (min-width:768px){.cmt .navbar-collapse{width:auto;border-top:0;box-shadow:none}.cmt .navbar-collapse.collapse{display:block!important;height:auto!important;padding-bottom:0;overflow:visible!important}.cmt .navbar-collapse.in{overflow-y:visible}.navbar-fixed-bottom .cmt .navbar-collapse,.navbar-fixed-top .cmt .navbar-collapse,.navbar-static-top .cmt .navbar-collapse{padding-left:0;padding-right:0}}.cmt .navbar-fixed-bottom .navbar-collapse,.cmt .navbar-fixed-top .navbar-collapse{max-height:340px}@media (max-device-width:480px) and (orientation:landscape){.cmt .navbar-fixed-bottom .navbar-collapse,.cmt .navbar-fixed-top .navbar-collapse{max-height:200px}}.cmt .container-fluid>.navbar-collapse,.cmt .container-fluid>.navbar-header,.cmt .container>.navbar-collapse,.cmt .container>.navbar-header{margin-right:-15px;margin-left:-15px}@media (min-width:768px){.cmt .container-fluid>.navbar-collapse,.cmt .container-fluid>.navbar-header,.cmt .container>.navbar-collapse,.cmt .container>.navbar-header{margin-right:0;margin-left:0}}.cmt .navbar-static-top{z-index:1000;border-width:0 0 1px}@media (min-width:768px){.cmt .navbar-static-top{border-radius:0}}.cmt .navbar-fixed-bottom,.cmt .navbar-fixed-top{position:fixed;right:0;left:0;z-index:1030}@media (min-width:768px){.cmt .navbar-fixed-bottom,.cmt .navbar-fixed-top{border-radius:0}}.cmt .navbar-fixed-top{top:0;border-width:0 0 1px}.cmt .navbar-fixed-bottom{bottom:0;margin-bottom:0;border-width:1px 0 0}.cmt .navbar-brand{float:left;padding:19.5px 15px;font-size:19px;line-height:21px;height:60px}.cmt .navbar-brand:focus,.cmt .navbar-brand:hover{text-decoration:none}.cmt .navbar-brand>img{display:block}@media (min-width:768px){.navbar>.container-fluid .cmt .navbar-brand,.navbar>.container .cmt .navbar-brand{margin-left:-15px}}.cmt .navbar-toggle{position:relative;float:right;margin-right:15px;padding:9px 10px;margin-top:13px;margin-bottom:13px;background-color:transparent;background-image:none;border:1px solid transparent;border-radius:4px}.cmt .navbar-toggle:focus{outline:0}.cmt .navbar-toggle .icon-bar{display:block;width:22px;height:2px;border-radius:1px}.cmt .navbar-toggle .icon-bar+.icon-bar{margin-top:4px}@media (min-width:768px){.cmt .navbar-toggle{display:none}}.cmt .navbar-nav{margin:9.75px -15px}.cmt .navbar-nav>li>a{padding-top:10px;padding-bottom:10px;line-height:21px}@media (max-width:767px){.cmt .navbar-nav .open .dropdown-menu{position:static;float:none;width:auto;margin-top:0;background-color:transparent;border:0;box-shadow:none}.cmt .navbar-nav .open .dropdown-menu .dropdown-header,.cmt .navbar-nav .open .dropdown-menu>li>a{padding:5px 15px 5px 25px}.cmt .navbar-nav .open .dropdown-menu>li>a{line-height:21px}.cmt .navbar-nav .open .dropdown-menu>li>a:focus,.cmt .navbar-nav .open .dropdown-menu>li>a:hover{background-image:none}}@media (min-width:768px){.cmt .navbar-nav{float:left;margin:0}.cmt .navbar-nav>li{float:left}.cmt .navbar-nav>li>a{padding-top:19.5px;padding-bottom:19.5px}}.cmt .navbar-form{margin:7.5px -15px;padding:10px 15px;border-top:1px solid transparent;border-bottom:1px solid transparent;-webkit-box-shadow:inset 0 1px 0 hsla(0,0%,100%,.1),0 1px 0 hsla(0,0%,100%,.1);-moz-box-shadow:inset 0 1px 0 hsla(0,0%,100%,.1),0 1px 0 hsla(0,0%,100%,.1);box-shadow:inset 0 1px 0 hsla(0,0%,100%,.1),0 1px 0 hsla(0,0%,100%,.1)}@media (min-width:768px){.cmt .navbar-form .form-group{display:inline-block;margin-bottom:0;vertical-align:middle}.cmt .navbar-form .form-control{display:inline-block;width:auto;vertical-align:middle}.cmt .navbar-form .form-control-static{display:inline-block}.cmt .navbar-form .input-group{display:inline-table;vertical-align:middle}.cmt .navbar-form .input-group .form-control,.cmt .navbar-form .input-group .input-group-addon,.cmt .navbar-form .input-group .input-group-btn{width:auto}.cmt .navbar-form .input-group>.form-control{width:100%}.cmt .navbar-form .control-label{margin-bottom:0;vertical-align:middle}.cmt .navbar-form .checkbox,.cmt .navbar-form .radio{display:inline-block;margin-top:0;margin-bottom:0;vertical-align:middle}.cmt .navbar-form .checkbox label,.cmt .navbar-form .radio label{padding-left:0}.cmt .navbar-form .checkbox input[type=checkbox],.cmt .navbar-form .radio input[type=radio]{position:relative;margin-left:0}.cmt .navbar-form .has-feedback .form-control-feedback{top:0}}@media (max-width:767px){.cmt .navbar-form .form-group{margin-bottom:5px}.cmt .navbar-form .form-group:last-child{margin-bottom:0}}@media (min-width:768px){.cmt .navbar-form{width:auto;border:0;margin-left:0;margin-right:0;padding-top:0;padding-bottom:0;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none}}.cmt .navbar-nav>li>.dropdown-menu{margin-top:0;border-top-right-radius:0;border-top-left-radius:0}.cmt .navbar-fixed-bottom .navbar-nav>li>.dropdown-menu{margin-bottom:0;border-top-right-radius:4px;border-top-left-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.cmt .navbar-btn{margin-top:7.5px;margin-bottom:7.5px}.cmt .navbar-btn.btn-sm{margin-top:12.5px;margin-bottom:12.5px}.cmt .navbar-btn.btn-xs{margin-top:19px;margin-bottom:19px}.cmt .navbar-text{margin-top:19.5px;margin-bottom:19.5px}@media (min-width:768px){.cmt .navbar-text{float:left;margin-left:15px;margin-right:15px}}@media (min-width:768px){.cmt .navbar-left{float:left!important}.cmt .navbar-right{float:right!important;margin-right:-15px}.cmt .navbar-right~.navbar-right{margin-right:0}}.cmt .navbar-default{background-color:#2c3e50;border-color:transparent}.cmt .navbar-default .navbar-brand{color:#fff}.cmt .navbar-default .navbar-brand:focus,.cmt .navbar-default .navbar-brand:hover{color:#18bc9c;background-color:transparent}.cmt .navbar-default .navbar-nav>li>a,.cmt .navbar-default .navbar-text{color:#fff}.cmt .navbar-default .navbar-nav>li>a:focus,.cmt .navbar-default .navbar-nav>li>a:hover{color:#18bc9c;background-color:transparent}.cmt .navbar-default .navbar-nav>.active>a,.cmt .navbar-default .navbar-nav>.active>a:focus,.cmt .navbar-default .navbar-nav>.active>a:hover{color:#fff;background-color:#1a242f}.cmt .navbar-default .navbar-nav>.disabled>a,.cmt .navbar-default .navbar-nav>.disabled>a:focus,.cmt .navbar-default .navbar-nav>.disabled>a:hover{color:#ccc;background-color:transparent}.cmt .navbar-default .navbar-toggle{border-color:#1a242f}.cmt .navbar-default .navbar-toggle:focus,.cmt .navbar-default .navbar-toggle:hover{background-color:#1a242f}.cmt .navbar-default .navbar-toggle .icon-bar{background-color:#fff}.cmt .navbar-default .navbar-collapse,.cmt .navbar-default .navbar-form{border-color:transparent}.cmt .navbar-default .navbar-nav>.open>a,.cmt .navbar-default .navbar-nav>.open>a:focus,.cmt .navbar-default .navbar-nav>.open>a:hover{background-color:#1a242f;color:#fff}@media (max-width:767px){.cmt .navbar-default .navbar-nav .open .dropdown-menu>li>a{color:#fff}.cmt .navbar-default .navbar-nav .open .dropdown-menu>li>a:focus,.cmt .navbar-default .navbar-nav .open .dropdown-menu>li>a:hover{color:#18bc9c;background-color:transparent}.cmt .navbar-default .navbar-nav .open .dropdown-menu>.active>a,.cmt .navbar-default .navbar-nav .open .dropdown-menu>.active>a:focus,.cmt .navbar-default .navbar-nav .open .dropdown-menu>.active>a:hover{color:#fff;background-color:#1a242f}.cmt .navbar-default .navbar-nav .open .dropdown-menu>.disabled>a,.cmt .navbar-default .navbar-nav .open .dropdown-menu>.disabled>a:focus,.cmt .navbar-default .navbar-nav .open .dropdown-menu>.disabled>a:hover{color:#ccc;background-color:transparent}}.cmt .navbar-default .navbar-link{color:#fff}.cmt .navbar-default .navbar-link:hover{color:#18bc9c}.cmt .navbar-default .btn-link{color:#fff}.cmt .navbar-default .btn-link:focus,.cmt .navbar-default .btn-link:hover{color:#18bc9c}.cmt .navbar-default .btn-link[disabled]:focus,.cmt .navbar-default .btn-link[disabled]:hover,fieldset[disabled] .cmt .navbar-default .btn-link:focus,fieldset[disabled] .cmt .navbar-default .btn-link:hover{color:#ccc}.cmt .navbar-inverse{background-color:#18bc9c;border-color:transparent}.cmt .navbar-inverse .navbar-brand{color:#fff}.cmt .navbar-inverse .navbar-brand:focus,.cmt .navbar-inverse .navbar-brand:hover{color:#2c3e50;background-color:transparent}.cmt .navbar-inverse .navbar-nav>li>a,.cmt .navbar-inverse .navbar-text{color:#fff}.cmt .navbar-inverse .navbar-nav>li>a:focus,.cmt .navbar-inverse .navbar-nav>li>a:hover{color:#2c3e50;background-color:transparent}.cmt .navbar-inverse .navbar-nav>.active>a,.cmt .navbar-inverse .navbar-nav>.active>a:focus,.cmt .navbar-inverse .navbar-nav>.active>a:hover{color:#fff;background-color:#15a589}.cmt .navbar-inverse .navbar-nav>.disabled>a,.cmt .navbar-inverse .navbar-nav>.disabled>a:focus,.cmt .navbar-inverse .navbar-nav>.disabled>a:hover{color:#ccc;background-color:transparent}.cmt .navbar-inverse .navbar-toggle{border-color:#128f76}.cmt .navbar-inverse .navbar-toggle:focus,.cmt .navbar-inverse .navbar-toggle:hover{background-color:#128f76}.cmt .navbar-inverse .navbar-toggle .icon-bar{background-color:#fff}.cmt .navbar-inverse .navbar-collapse,.cmt .navbar-inverse .navbar-form{border-color:#149c82}.cmt .navbar-inverse .navbar-nav>.open>a,.cmt .navbar-inverse .navbar-nav>.open>a:focus,.cmt .navbar-inverse .navbar-nav>.open>a:hover{background-color:#15a589;color:#fff}@media (max-width:767px){.cmt .navbar-inverse .navbar-nav .open .dropdown-menu>.dropdown-header{border-color:transparent}.cmt .navbar-inverse .navbar-nav .open .dropdown-menu .divider{background-color:transparent}.cmt .navbar-inverse .navbar-nav .open .dropdown-menu>li>a{color:#fff}.cmt .navbar-inverse .navbar-nav .open .dropdown-menu>li>a:focus,.cmt .navbar-inverse .navbar-nav .open .dropdown-menu>li>a:hover{color:#2c3e50;background-color:transparent}.cmt .navbar-inverse .navbar-nav .open .dropdown-menu>.active>a,.cmt .navbar-inverse .navbar-nav .open .dropdown-menu>.active>a:focus,.cmt .navbar-inverse .navbar-nav .open .dropdown-menu>.active>a:hover{color:#fff;background-color:#15a589}.cmt .navbar-inverse .navbar-nav .open .dropdown-menu>.disabled>a,.cmt .navbar-inverse .navbar-nav .open .dropdown-menu>.disabled>a:focus,.cmt .navbar-inverse .navbar-nav .open .dropdown-menu>.disabled>a:hover{color:#ccc;background-color:transparent}}.cmt .navbar-inverse .navbar-link{color:#fff}.cmt .navbar-inverse .navbar-link:hover{color:#2c3e50}.cmt .navbar-inverse .btn-link{color:#fff}.cmt .navbar-inverse .btn-link:focus,.cmt .navbar-inverse .btn-link:hover{color:#2c3e50}.cmt .navbar-inverse .btn-link[disabled]:focus,.cmt .navbar-inverse .btn-link[disabled]:hover,fieldset[disabled] .cmt .navbar-inverse .btn-link:focus,fieldset[disabled] .cmt .navbar-inverse .btn-link:hover{color:#ccc}.cmt .breadcrumb{padding:8px 15px;margin-bottom:21px;list-style:none;background-color:#ecf0f1;border-radius:4px}.cmt .breadcrumb>li{display:inline-block}.cmt .breadcrumb>li+li:before{content:"/\\A0";padding:0 5px;color:#ccc}.cmt .breadcrumb>.active{color:#95a5a6}.cmt .pagination{display:inline-block;padding-left:0;margin:21px 0;border-radius:4px}.cmt .pagination>li{display:inline}.cmt .pagination>li>a,.cmt .pagination>li>span{position:relative;float:left;padding:10px 15px;line-height:1.42857143;text-decoration:none;color:#fff;background-color:#18bc9c;border:1px solid transparent;margin-left:-1px}.cmt .pagination>li:first-child>a,.cmt .pagination>li:first-child>span{margin-left:0;border-bottom-left-radius:4px;border-top-left-radius:4px}.cmt .pagination>li:last-child>a,.cmt .pagination>li:last-child>span{border-bottom-right-radius:4px;border-top-right-radius:4px}.cmt .pagination>li>a:focus,.cmt .pagination>li>a:hover,.cmt .pagination>li>span:focus,.cmt .pagination>li>span:hover{z-index:2;color:#fff;background-color:#0f7864;border-color:transparent}.cmt .pagination>.active>a,.cmt .pagination>.active>a:focus,.cmt .pagination>.active>a:hover,.cmt .pagination>.active>span,.cmt .pagination>.active>span:focus,.cmt .pagination>.active>span:hover{z-index:3;color:#fff;background-color:#0f7864;border-color:transparent;cursor:default}.cmt .pagination>.disabled>a,.cmt .pagination>.disabled>a:focus,.cmt .pagination>.disabled>a:hover,.cmt .pagination>.disabled>span,.cmt .pagination>.disabled>span:focus,.cmt .pagination>.disabled>span:hover{color:#ecf0f1;background-color:#3be6c4;border-color:transparent;cursor:not-allowed}.cmt .pagination-lg>li>a,.cmt .pagination-lg>li>span{padding:18px 27px;font-size:19px;line-height:1.3333333}.cmt .pagination-lg>li:first-child>a,.cmt .pagination-lg>li:first-child>span{border-bottom-left-radius:6px;border-top-left-radius:6px}.cmt .pagination-lg>li:last-child>a,.cmt .pagination-lg>li:last-child>span{border-bottom-right-radius:6px;border-top-right-radius:6px}.cmt .pagination-sm>li>a,.cmt .pagination-sm>li>span{padding:6px 9px;font-size:13px;line-height:1.5}.cmt .pagination-sm>li:first-child>a,.cmt .pagination-sm>li:first-child>span{border-bottom-left-radius:3px;border-top-left-radius:3px}.cmt .pagination-sm>li:last-child>a,.cmt .pagination-sm>li:last-child>span{border-bottom-right-radius:3px;border-top-right-radius:3px}.cmt .pager{padding-left:0;margin:21px 0;list-style:none;text-align:center}.cmt .pager li{display:inline}.cmt .pager li>a,.cmt .pager li>span{display:inline-block;padding:5px 14px;background-color:#18bc9c;border:1px solid transparent;border-radius:15px}.cmt .pager li>a:focus,.cmt .pager li>a:hover{text-decoration:none;background-color:#0f7864}.cmt .pager .next>a,.cmt .pager .next>span{float:right}.cmt .pager .previous>a,.cmt .pager .previous>span{float:left}.cmt .pager .disabled>a,.cmt .pager .disabled>a:focus,.cmt .pager .disabled>a:hover,.cmt .pager .disabled>span{color:#fff;background-color:#18bc9c;cursor:not-allowed}.cmt .label{display:inline;padding:.2em .6em .3em;font-size:75%;font-weight:700;line-height:1;color:#fff;text-align:center;white-space:nowrap;vertical-align:baseline;border-radius:.25em}a.cmt .label:focus,a.cmt .label:hover{color:#fff;text-decoration:none;cursor:pointer}.cmt .label:empty{display:none}.btn .cmt .label{position:relative;top:-1px}.cmt .label-default{background-color:#95a5a6}.cmt .label-default[href]:focus,.cmt .label-default[href]:hover{background-color:#798d8f}.cmt .label-primary{background-color:#2c3e50}.cmt .label-primary[href]:focus,.cmt .label-primary[href]:hover{background-color:#1a242f}.cmt .label-success{background-color:#18bc9c}.cmt .label-success[href]:focus,.cmt .label-success[href]:hover{background-color:#128f76}.cmt .label-info{background-color:#3498db}.cmt .label-info[href]:focus,.cmt .label-info[href]:hover{background-color:#217dbb}.cmt .label-warning{background-color:#f39c12}.cmt .label-warning[href]:focus,.cmt .label-warning[href]:hover{background-color:#c87f0a}.cmt .label-danger{background-color:#e74c3c}.cmt .label-danger[href]:focus,.cmt .label-danger[href]:hover{background-color:#d62c1a}.cmt .badge{display:inline-block;min-width:10px;padding:3px 7px;font-size:13px;font-weight:700;color:#fff;line-height:1;vertical-align:middle;white-space:nowrap;text-align:center;background-color:#2c3e50;border-radius:10px}.cmt .badge:empty{display:none}.btn .cmt .badge{position:relative;top:-1px}.btn-group-xs>.btn .cmt .badge,.btn-xs .cmt .badge{top:0;padding:1px 5px}a.cmt .badge:focus,a.cmt .badge:hover{color:#fff;text-decoration:none;cursor:pointer}.list-group-item.active>.cmt .badge,.nav-pills>.active>a>.cmt .badge{color:#2c3e50;background-color:#fff}.list-group-item>.cmt .badge{float:right}.list-group-item>.cmt .badge+.cmt .badge{margin-right:5px}.nav-pills>li>a>.cmt .badge{margin-left:3px}.cmt .jumbotron{padding-top:30px;padding-bottom:30px;margin-bottom:30px;color:inherit;background-color:#ecf0f1}.cmt .jumbotron .h1,.cmt .jumbotron h1{color:inherit}.cmt .jumbotron p{margin-bottom:15px;font-size:23px;font-weight:200}.cmt .jumbotron>hr{border-top-color:#cfd9db}.container-fluid .cmt .jumbotron,.container .cmt .jumbotron{border-radius:6px;padding-left:15px;padding-right:15px}.cmt .jumbotron .container{max-width:100%}@media screen and (min-width:768px){.cmt .jumbotron{padding-top:48px;padding-bottom:48px}.container-fluid .cmt .jumbotron,.container .cmt .jumbotron{padding-left:60px;padding-right:60px}.cmt .jumbotron .h1,.cmt .jumbotron h1{font-size:68px}}.cmt .thumbnail{display:block;padding:4px;margin-bottom:21px;line-height:1.42857143;background-color:#fff;border:1px solid #ecf0f1;border-radius:4px;-webkit-transition:border .2s ease-in-out;-o-transition:border .2s ease-in-out;transition:border .2s ease-in-out}.cmt .thumbnail>img,.cmt .thumbnail a>img{margin-left:auto;margin-right:auto}a.cmt .thumbnail.active,a.cmt .thumbnail:focus,a.cmt .thumbnail:hover{border-color:#18bc9c}.cmt .thumbnail .caption{padding:9px;color:#2c3e50}.cmt .alert{margin-bottom:21px;border-radius:4px}.cmt .alert-success{background-color:#18bc9c;border-color:#18bc9c;color:#fff}.cmt .alert-success hr{border-top-color:#15a589}.cmt .alert-success .alert-link{color:#e6e6e6}.cmt .alert-info{background-color:#3498db;border-color:#3498db;color:#fff}.cmt .alert-info hr{border-top-color:#258cd1}.cmt .alert-info .alert-link{color:#e6e6e6}.cmt .alert-warning{background-color:#f39c12;border-color:#f39c12;color:#fff}.cmt .alert-warning hr{border-top-color:#e08e0b}.cmt .alert-warning .alert-link{color:#e6e6e6}.cmt .alert-danger{background-color:#e74c3c;border-color:#e74c3c;color:#fff}.cmt .alert-danger hr{border-top-color:#e43725}.cmt .alert-danger .alert-link{color:#e6e6e6}@-webkit-keyframes progress-bar-stripes{0%{background-position:40px 0}to{background-position:0 0}}@keyframes progress-bar-stripes{0%{background-position:40px 0}to{background-position:0 0}}.cmt .progress{overflow:hidden;height:21px;margin-bottom:21px;background-color:#ecf0f1;border-radius:4px;-webkit-box-shadow:inset 0 1px 2px rgba(0,0,0,.1);-moz-box-shadow:inset 0 1px 2px rgba(0,0,0,.1);box-shadow:inset 0 1px 2px rgba(0,0,0,.1)}.cmt .progress-bar{float:left;width:0;height:100%;font-size:13px;line-height:21px;color:#fff;text-align:center;background-color:#2c3e50;-webkit-box-shadow:inset 0 -1px 0 rgba(0,0,0,.15);-moz-box-shadow:inset 0 -1px 0 rgba(0,0,0,.15);box-shadow:inset 0 -1px 0 rgba(0,0,0,.15);-webkit-transition:width .6s ease;-o-transition:width .6s ease;transition:width .6s ease}.cmt .progress-bar-striped,.cmt .progress-striped .progress-bar{background-image:-webkit-linear-gradient(45deg,hsla(0,0%,100%,.15) 25%,transparent 0,transparent 50%,hsla(0,0%,100%,.15) 0,hsla(0,0%,100%,.15) 75%,transparent 0,transparent);background-image:-o-linear-gradient(45deg,hsla(0,0%,100%,.15) 25%,transparent 25%,transparent 50%,hsla(0,0%,100%,.15) 50%,hsla(0,0%,100%,.15) 75%,transparent 75%,transparent);background-image:linear-gradient(45deg,hsla(0,0%,100%,.15) 25%,transparent 0,transparent 50%,hsla(0,0%,100%,.15) 0,hsla(0,0%,100%,.15) 75%,transparent 0,transparent);background-size:40px 40px}.cmt .progress-bar.active,.cmt .progress.active .progress-bar{-webkit-animation:progress-bar-stripes 2s linear infinite;-o-animation:progress-bar-stripes 2s linear infinite;animation:progress-bar-stripes 2s linear infinite;-webkit-animation:progress-bar-stripes 2s linear infinite .3s 0 ease;-moz-animation:progress-bar-stripes 2s linear infinite .3s 0 ease;-ms-animation:progress-bar-stripes 2s linear infinite .3s 0 ease}.cmt .progress-bar-success{background-color:#18bc9c}.progress-striped .cmt .progress-bar-success{background-image:-webkit-linear-gradient(45deg,hsla(0,0%,100%,.15) 25%,transparent 0,transparent 50%,hsla(0,0%,100%,.15) 0,hsla(0,0%,100%,.15) 75%,transparent 0,transparent);background-image:-o-linear-gradient(45deg,hsla(0,0%,100%,.15) 25%,transparent 25%,transparent 50%,hsla(0,0%,100%,.15) 50%,hsla(0,0%,100%,.15) 75%,transparent 75%,transparent);background-image:linear-gradient(45deg,hsla(0,0%,100%,.15) 25%,transparent 0,transparent 50%,hsla(0,0%,100%,.15) 0,hsla(0,0%,100%,.15) 75%,transparent 0,transparent)}.cmt .progress-bar-info{background-color:#3498db}.progress-striped .cmt .progress-bar-info{background-image:-webkit-linear-gradient(45deg,hsla(0,0%,100%,.15) 25%,transparent 0,transparent 50%,hsla(0,0%,100%,.15) 0,hsla(0,0%,100%,.15) 75%,transparent 0,transparent);background-image:-o-linear-gradient(45deg,hsla(0,0%,100%,.15) 25%,transparent 25%,transparent 50%,hsla(0,0%,100%,.15) 50%,hsla(0,0%,100%,.15) 75%,transparent 75%,transparent);background-image:linear-gradient(45deg,hsla(0,0%,100%,.15) 25%,transparent 0,transparent 50%,hsla(0,0%,100%,.15) 0,hsla(0,0%,100%,.15) 75%,transparent 0,transparent)}.cmt .progress-bar-warning{background-color:#f39c12}.progress-striped .cmt .progress-bar-warning{background-image:-webkit-linear-gradient(45deg,hsla(0,0%,100%,.15) 25%,transparent 0,transparent 50%,hsla(0,0%,100%,.15) 0,hsla(0,0%,100%,.15) 75%,transparent 0,transparent);background-image:-o-linear-gradient(45deg,hsla(0,0%,100%,.15) 25%,transparent 25%,transparent 50%,hsla(0,0%,100%,.15) 50%,hsla(0,0%,100%,.15) 75%,transparent 75%,transparent);background-image:linear-gradient(45deg,hsla(0,0%,100%,.15) 25%,transparent 0,transparent 50%,hsla(0,0%,100%,.15) 0,hsla(0,0%,100%,.15) 75%,transparent 0,transparent)}.cmt .progress-bar-danger{background-color:#e74c3c}.progress-striped .cmt .progress-bar-danger{background-image:-webkit-linear-gradient(45deg,hsla(0,0%,100%,.15) 25%,transparent 0,transparent 50%,hsla(0,0%,100%,.15) 0,hsla(0,0%,100%,.15) 75%,transparent 0,transparent);background-image:-o-linear-gradient(45deg,hsla(0,0%,100%,.15) 25%,transparent 25%,transparent 50%,hsla(0,0%,100%,.15) 50%,hsla(0,0%,100%,.15) 75%,transparent 75%,transparent);background-image:linear-gradient(45deg,hsla(0,0%,100%,.15) 25%,transparent 0,transparent 50%,hsla(0,0%,100%,.15) 0,hsla(0,0%,100%,.15) 75%,transparent 0,transparent)}.cmt .media{margin-top:15px}.cmt .media:first-child{margin-top:0}.cmt .media,.cmt .media-body{zoom:1;overflow:hidden}.cmt .media-body{width:10000px}.cmt .media-object{display:block}.cmt .media-object.img-thumbnail{max-width:none}.cmt .media-right,.cmt .media>.pull-right{padding-left:10px}.cmt .media-left,.cmt .media>.pull-left{padding-right:10px}.cmt .media-body,.cmt .media-left,.cmt .media-right{display:table-cell;vertical-align:top}.cmt .media-middle{vertical-align:middle}.cmt .media-bottom{vertical-align:bottom}.cmt .media-heading{margin-top:0;margin-bottom:5px}.cmt .media-list{padding-left:0;list-style:none}.cmt .list-group{margin-bottom:20px;padding-left:0}.cmt .list-group-item{position:relative;display:block;padding:10px 15px;margin-bottom:-1px;background-color:#fff;border:1px solid #ecf0f1}.cmt .list-group-item:first-child{border-top-right-radius:4px;border-top-left-radius:4px}.cmt .list-group-item:last-child{margin-bottom:0;border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cmt a.list-group-item,.cmt button.list-group-item{color:#555}.cmt a.list-group-item .list-group-item-heading,.cmt button.list-group-item .list-group-item-heading{color:#333}.cmt a.list-group-item:focus,.cmt a.list-group-item:hover,.cmt button.list-group-item:focus,.cmt button.list-group-item:hover{text-decoration:none;color:#555;background-color:#ecf0f1}.cmt button.list-group-item{width:100%;text-align:left}.cmt .list-group-item.disabled,.cmt .list-group-item.disabled:focus,.cmt .list-group-item.disabled:hover{background-color:#ecf0f1;color:#b4bcc2;cursor:not-allowed}.cmt .list-group-item.disabled .list-group-item-heading,.cmt .list-group-item.disabled:focus .list-group-item-heading,.cmt .list-group-item.disabled:hover .list-group-item-heading{color:inherit}.cmt .list-group-item.disabled .list-group-item-text,.cmt .list-group-item.disabled:focus .list-group-item-text,.cmt .list-group-item.disabled:hover .list-group-item-text{color:#b4bcc2}.cmt .list-group-item.active,.cmt .list-group-item.active:focus,.cmt .list-group-item.active:hover{z-index:2;color:#fff;background-color:#2c3e50;border-color:#2c3e50}.cmt .list-group-item.active .list-group-item-heading,.cmt .list-group-item.active .list-group-item-heading>.small,.cmt .list-group-item.active .list-group-item-heading>small,.cmt .list-group-item.active:focus .list-group-item-heading,.cmt .list-group-item.active:focus .list-group-item-heading>.small,.cmt .list-group-item.active:focus .list-group-item-heading>small,.cmt .list-group-item.active:hover .list-group-item-heading,.cmt .list-group-item.active:hover .list-group-item-heading>.small,.cmt .list-group-item.active:hover .list-group-item-heading>small{color:inherit}.cmt .list-group-item.active .list-group-item-text,.cmt .list-group-item.active:focus .list-group-item-text,.cmt .list-group-item.active:hover .list-group-item-text{color:#8aa4be}.cmt .list-group-item-success{color:#fff;background-color:#18bc9c}a.cmt .list-group-item-success,button.cmt .list-group-item-success{color:#fff}a.cmt .list-group-item-success .list-group-item-heading,button.cmt .list-group-item-success .list-group-item-heading{color:inherit}a.cmt .list-group-item-success:focus,a.cmt .list-group-item-success:hover,button.cmt .list-group-item-success:focus,button.cmt .list-group-item-success:hover{color:#fff;background-color:#15a589}a.cmt .list-group-item-success.active,a.cmt .list-group-item-success.active:focus,a.cmt .list-group-item-success.active:hover,button.cmt .list-group-item-success.active,button.cmt .list-group-item-success.active:focus,button.cmt .list-group-item-success.active:hover{color:#fff;background-color:#fff;border-color:#fff}.cmt .list-group-item-info{color:#fff;background-color:#3498db}a.cmt .list-group-item-info,button.cmt .list-group-item-info{color:#fff}a.cmt .list-group-item-info .list-group-item-heading,button.cmt .list-group-item-info .list-group-item-heading{color:inherit}a.cmt .list-group-item-info:focus,a.cmt .list-group-item-info:hover,button.cmt .list-group-item-info:focus,button.cmt .list-group-item-info:hover{color:#fff;background-color:#258cd1}a.cmt .list-group-item-info.active,a.cmt .list-group-item-info.active:focus,a.cmt .list-group-item-info.active:hover,button.cmt .list-group-item-info.active,button.cmt .list-group-item-info.active:focus,button.cmt .list-group-item-info.active:hover{color:#fff;background-color:#fff;border-color:#fff}.cmt .list-group-item-warning{color:#fff;background-color:#f39c12}a.cmt .list-group-item-warning,button.cmt .list-group-item-warning{color:#fff}a.cmt .list-group-item-warning .list-group-item-heading,button.cmt .list-group-item-warning .list-group-item-heading{color:inherit}a.cmt .list-group-item-warning:focus,a.cmt .list-group-item-warning:hover,button.cmt .list-group-item-warning:focus,button.cmt .list-group-item-warning:hover{color:#fff;background-color:#e08e0b}a.cmt .list-group-item-warning.active,a.cmt .list-group-item-warning.active:focus,a.cmt .list-group-item-warning.active:hover,button.cmt .list-group-item-warning.active,button.cmt .list-group-item-warning.active:focus,button.cmt .list-group-item-warning.active:hover{color:#fff;background-color:#fff;border-color:#fff}.cmt .list-group-item-danger{color:#fff;background-color:#e74c3c}a.cmt .list-group-item-danger,button.cmt .list-group-item-danger{color:#fff}a.cmt .list-group-item-danger .list-group-item-heading,button.cmt .list-group-item-danger .list-group-item-heading{color:inherit}a.cmt .list-group-item-danger:focus,a.cmt .list-group-item-danger:hover,button.cmt .list-group-item-danger:focus,button.cmt .list-group-item-danger:hover{color:#fff;background-color:#e43725}a.cmt .list-group-item-danger.active,a.cmt .list-group-item-danger.active:focus,a.cmt .list-group-item-danger.active:hover,button.cmt .list-group-item-danger.active,button.cmt .list-group-item-danger.active:focus,button.cmt .list-group-item-danger.active:hover{color:#fff;background-color:#fff;border-color:#fff}.cmt .list-group-item-heading{margin-top:0;margin-bottom:5px}.cmt .list-group-item-text{margin-bottom:0;line-height:1.3}.cmt .panel{margin-bottom:21px;background-color:#fff;border:1px solid transparent;border-radius:4px;-webkit-box-shadow:0 1px 1px rgba(0,0,0,.05);-moz-box-shadow:0 1px 1px rgba(0,0,0,.05);box-shadow:0 1px 1px rgba(0,0,0,.05)}.cmt .panel-body{padding:15px}.cmt .panel-heading{padding:10px 15px;border-bottom:1px solid transparent;border-top-right-radius:3px;border-top-left-radius:3px}.cmt .panel-heading>.dropdown .dropdown-toggle{color:inherit}.cmt .panel-title{margin-top:0;margin-bottom:0;font-size:17px;color:inherit}.cmt .panel-title>.small,.cmt .panel-title>.small>a,.cmt .panel-title>a,.cmt .panel-title>small,.cmt .panel-title>small>a{color:inherit}.cmt .panel-footer{padding:10px 15px;background-color:#ecf0f1;border-top:1px solid #ecf0f1;border-bottom-right-radius:3px;border-bottom-left-radius:3px}.cmt .panel>.list-group,.cmt .panel>.panel-collapse>.list-group{margin-bottom:0}.cmt .panel>.list-group .list-group-item,.cmt .panel>.panel-collapse>.list-group .list-group-item{border-width:1px 0;border-radius:0}.cmt .panel>.list-group:first-child .list-group-item:first-child,.cmt .panel>.panel-collapse>.list-group:first-child .list-group-item:first-child{border-top:0;border-top-right-radius:3px;border-top-left-radius:3px}.cmt .panel>.list-group:last-child .list-group-item:last-child,.cmt .panel>.panel-collapse>.list-group:last-child .list-group-item:last-child{border-bottom:0;border-bottom-right-radius:3px;border-bottom-left-radius:3px}.cmt .panel>.panel-heading+.panel-collapse>.list-group .list-group-item:first-child{border-top-right-radius:0;border-top-left-radius:0}.cmt .list-group+.panel-footer,.cmt .panel-heading+.list-group .list-group-item:first-child{border-top-width:0}.cmt .panel>.panel-collapse>.table,.cmt .panel>.table,.cmt .panel>.table-responsive>.table{margin-bottom:0}.cmt .panel>.panel-collapse>.table caption,.cmt .panel>.table-responsive>.table caption,.cmt .panel>.table caption{padding-left:15px;padding-right:15px}.cmt .panel>.table-responsive:first-child>.table:first-child,.cmt .panel>.table-responsive:first-child>.table:first-child>tbody:first-child>tr:first-child,.cmt .panel>.table-responsive:first-child>.table:first-child>thead:first-child>tr:first-child,.cmt .panel>.table:first-child,.cmt .panel>.table:first-child>tbody:first-child>tr:first-child,.cmt .panel>.table:first-child>thead:first-child>tr:first-child{border-top-right-radius:3px;border-top-left-radius:3px}.cmt .panel>.table-responsive:first-child>.table:first-child>tbody:first-child>tr:first-child td:first-child,.cmt .panel>.table-responsive:first-child>.table:first-child>tbody:first-child>tr:first-child th:first-child,.cmt .panel>.table-responsive:first-child>.table:first-child>thead:first-child>tr:first-child td:first-child,.cmt .panel>.table-responsive:first-child>.table:first-child>thead:first-child>tr:first-child th:first-child,.cmt .panel>.table:first-child>tbody:first-child>tr:first-child td:first-child,.cmt .panel>.table:first-child>tbody:first-child>tr:first-child th:first-child,.cmt .panel>.table:first-child>thead:first-child>tr:first-child td:first-child,.cmt .panel>.table:first-child>thead:first-child>tr:first-child th:first-child{border-top-left-radius:3px}.cmt .panel>.table-responsive:first-child>.table:first-child>tbody:first-child>tr:first-child td:last-child,.cmt .panel>.table-responsive:first-child>.table:first-child>tbody:first-child>tr:first-child th:last-child,.cmt .panel>.table-responsive:first-child>.table:first-child>thead:first-child>tr:first-child td:last-child,.cmt .panel>.table-responsive:first-child>.table:first-child>thead:first-child>tr:first-child th:last-child,.cmt .panel>.table:first-child>tbody:first-child>tr:first-child td:last-child,.cmt .panel>.table:first-child>tbody:first-child>tr:first-child th:last-child,.cmt .panel>.table:first-child>thead:first-child>tr:first-child td:last-child,.cmt .panel>.table:first-child>thead:first-child>tr:first-child th:last-child{border-top-right-radius:3px}.cmt .panel>.table-responsive:last-child>.table:last-child,.cmt .panel>.table-responsive:last-child>.table:last-child>tbody:last-child>tr:last-child,.cmt .panel>.table-responsive:last-child>.table:last-child>tfoot:last-child>tr:last-child,.cmt .panel>.table:last-child,.cmt .panel>.table:last-child>tbody:last-child>tr:last-child,.cmt .panel>.table:last-child>tfoot:last-child>tr:last-child{border-bottom-right-radius:3px;border-bottom-left-radius:3px}.cmt .panel>.table-responsive:last-child>.table:last-child>tbody:last-child>tr:last-child td:first-child,.cmt .panel>.table-responsive:last-child>.table:last-child>tbody:last-child>tr:last-child th:first-child,.cmt .panel>.table-responsive:last-child>.table:last-child>tfoot:last-child>tr:last-child td:first-child,.cmt .panel>.table-responsive:last-child>.table:last-child>tfoot:last-child>tr:last-child th:first-child,.cmt .panel>.table:last-child>tbody:last-child>tr:last-child td:first-child,.cmt .panel>.table:last-child>tbody:last-child>tr:last-child th:first-child,.cmt .panel>.table:last-child>tfoot:last-child>tr:last-child td:first-child,.cmt .panel>.table:last-child>tfoot:last-child>tr:last-child th:first-child{border-bottom-left-radius:3px}.cmt .panel>.table-responsive:last-child>.table:last-child>tbody:last-child>tr:last-child td:last-child,.cmt .panel>.table-responsive:last-child>.table:last-child>tbody:last-child>tr:last-child th:last-child,.cmt .panel>.table-responsive:last-child>.table:last-child>tfoot:last-child>tr:last-child td:last-child,.cmt .panel>.table-responsive:last-child>.table:last-child>tfoot:last-child>tr:last-child th:last-child,.cmt .panel>.table:last-child>tbody:last-child>tr:last-child td:last-child,.cmt .panel>.table:last-child>tbody:last-child>tr:last-child th:last-child,.cmt .panel>.table:last-child>tfoot:last-child>tr:last-child td:last-child,.cmt .panel>.table:last-child>tfoot:last-child>tr:last-child th:last-child{border-bottom-right-radius:3px}.cmt .panel>.panel-body+.table,.cmt .panel>.panel-body+.table-responsive,.cmt .panel>.table+.panel-body,.cmt .panel>.table-responsive+.panel-body{border-top:1px solid #ecf0f1}.cmt .panel>.table>tbody:first-child>tr:first-child td,.cmt .panel>.table>tbody:first-child>tr:first-child th{border-top:0}.cmt .panel>.table-bordered,.cmt .panel>.table-responsive>.table-bordered{border:0}.cmt .panel>.table-bordered>tbody>tr>td:first-child,.cmt .panel>.table-bordered>tbody>tr>th:first-child,.cmt .panel>.table-bordered>tfoot>tr>td:first-child,.cmt .panel>.table-bordered>tfoot>tr>th:first-child,.cmt .panel>.table-bordered>thead>tr>td:first-child,.cmt .panel>.table-bordered>thead>tr>th:first-child,.cmt .panel>.table-responsive>.table-bordered>tbody>tr>td:first-child,.cmt .panel>.table-responsive>.table-bordered>tbody>tr>th:first-child,.cmt .panel>.table-responsive>.table-bordered>tfoot>tr>td:first-child,.cmt .panel>.table-responsive>.table-bordered>tfoot>tr>th:first-child,.cmt .panel>.table-responsive>.table-bordered>thead>tr>td:first-child,.cmt .panel>.table-responsive>.table-bordered>thead>tr>th:first-child{border-left:0}.cmt .panel>.table-bordered>tbody>tr>td:last-child,.cmt .panel>.table-bordered>tbody>tr>th:last-child,.cmt .panel>.table-bordered>tfoot>tr>td:last-child,.cmt .panel>.table-bordered>tfoot>tr>th:last-child,.cmt .panel>.table-bordered>thead>tr>td:last-child,.cmt .panel>.table-bordered>thead>tr>th:last-child,.cmt .panel>.table-responsive>.table-bordered>tbody>tr>td:last-child,.cmt .panel>.table-responsive>.table-bordered>tbody>tr>th:last-child,.cmt .panel>.table-responsive>.table-bordered>tfoot>tr>td:last-child,.cmt .panel>.table-responsive>.table-bordered>tfoot>tr>th:last-child,.cmt .panel>.table-responsive>.table-bordered>thead>tr>td:last-child,.cmt .panel>.table-responsive>.table-bordered>thead>tr>th:last-child{border-right:0}.cmt .panel>.table-bordered>tbody>tr:first-child>td,.cmt .panel>.table-bordered>tbody>tr:first-child>th,.cmt .panel>.table-bordered>tbody>tr:last-child>td,.cmt .panel>.table-bordered>tbody>tr:last-child>th,.cmt .panel>.table-bordered>tfoot>tr:last-child>td,.cmt .panel>.table-bordered>tfoot>tr:last-child>th,.cmt .panel>.table-bordered>thead>tr:first-child>td,.cmt .panel>.table-bordered>thead>tr:first-child>th,.cmt .panel>.table-responsive>.table-bordered>tbody>tr:first-child>td,.cmt .panel>.table-responsive>.table-bordered>tbody>tr:first-child>th,.cmt .panel>.table-responsive>.table-bordered>tbody>tr:last-child>td,.cmt .panel>.table-responsive>.table-bordered>tbody>tr:last-child>th,.cmt .panel>.table-responsive>.table-bordered>tfoot>tr:last-child>td,.cmt .panel>.table-responsive>.table-bordered>tfoot>tr:last-child>th,.cmt .panel>.table-responsive>.table-bordered>thead>tr:first-child>td,.cmt .panel>.table-responsive>.table-bordered>thead>tr:first-child>th{border-bottom:0}.cmt .panel>.table-responsive{border:0;margin-bottom:0}.cmt .panel-group{margin-bottom:21px}.cmt .panel-group .panel{margin-bottom:0;border-radius:4px}.cmt .panel-group .panel+.panel{margin-top:5px}.cmt .panel-group .panel-heading{border-bottom:0}.cmt .panel-group .panel-heading+.panel-collapse>.list-group,.cmt .panel-group .panel-heading+.panel-collapse>.panel-body{border-top:1px solid #ecf0f1}.cmt .panel-group .panel-footer{border-top:0}.cmt .panel-group .panel-footer+.panel-collapse .panel-body{border-bottom:1px solid #ecf0f1}.cmt .panel-default{border-color:#ecf0f1}.cmt .panel-default>.panel-heading{color:#2c3e50;background-color:#ecf0f1;border-color:#ecf0f1}.cmt .panel-default>.panel-heading+.panel-collapse>.panel-body{border-top-color:#ecf0f1}.cmt .panel-default>.panel-heading .badge{color:#ecf0f1;background-color:#2c3e50}.cmt .panel-default>.panel-footer+.panel-collapse>.panel-body{border-bottom-color:#ecf0f1}.cmt .panel-primary{border-color:#2c3e50}.cmt .panel-primary>.panel-heading{color:#fff;background-color:#2c3e50;border-color:#2c3e50}.cmt .panel-primary>.panel-heading+.panel-collapse>.panel-body{border-top-color:#2c3e50}.cmt .panel-primary>.panel-heading .badge{color:#2c3e50;background-color:#fff}.cmt .panel-primary>.panel-footer+.panel-collapse>.panel-body{border-bottom-color:#2c3e50}.cmt .panel-success{border-color:#18bc9c}.cmt .panel-success>.panel-heading{color:#fff;background-color:#18bc9c;border-color:#18bc9c}.cmt .panel-success>.panel-heading+.panel-collapse>.panel-body{border-top-color:#18bc9c}.cmt .panel-success>.panel-heading .badge{color:#18bc9c;background-color:#fff}.cmt .panel-success>.panel-footer+.panel-collapse>.panel-body{border-bottom-color:#18bc9c}.cmt .panel-info{border-color:#3498db}.cmt .panel-info>.panel-heading{color:#fff;background-color:#3498db;border-color:#3498db}.cmt .panel-info>.panel-heading+.panel-collapse>.panel-body{border-top-color:#3498db}.cmt .panel-info>.panel-heading .badge{color:#3498db;background-color:#fff}.cmt .panel-info>.panel-footer+.panel-collapse>.panel-body{border-bottom-color:#3498db}.cmt .panel-warning{border-color:#f39c12}.cmt .panel-warning>.panel-heading{color:#fff;background-color:#f39c12;border-color:#f39c12}.cmt .panel-warning>.panel-heading+.panel-collapse>.panel-body{border-top-color:#f39c12}.cmt .panel-warning>.panel-heading .badge{color:#f39c12;background-color:#fff}.cmt .panel-warning>.panel-footer+.panel-collapse>.panel-body{border-bottom-color:#f39c12}.cmt .panel-danger{border-color:#e74c3c}.cmt .panel-danger>.panel-heading{color:#fff;background-color:#e74c3c;border-color:#e74c3c}.cmt .panel-danger>.panel-heading+.panel-collapse>.panel-body{border-top-color:#e74c3c}.cmt .panel-danger>.panel-heading .badge{color:#e74c3c;background-color:#fff}.cmt .panel-danger>.panel-footer+.panel-collapse>.panel-body{border-bottom-color:#e74c3c}.cmt .embed-responsive{position:relative;display:block;height:0;padding:0;overflow:hidden}.cmt .embed-responsive .embed-responsive-item,.cmt .embed-responsive embed,.cmt .embed-responsive iframe,.cmt .embed-responsive object,.cmt .embed-responsive video{position:absolute;top:0;left:0;bottom:0;height:100%;width:100%;border:0}.cmt .embed-responsive-16by9{padding-bottom:56.25%}.cmt .embed-responsive-4by3{padding-bottom:75%}.cmt .well{min-height:20px;padding:19px;margin-bottom:20px;background-color:#ecf0f1;border:1px solid transparent;border-radius:4px;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.05);-moz-box-shadow:inset 0 1px 1px rgba(0,0,0,.05);box-shadow:inset 0 1px 1px rgba(0,0,0,.05)}.cmt .well blockquote{border-color:#ddd;border-color:rgba(0,0,0,.15)}.cmt .well-lg{padding:24px;border-radius:6px}.cmt .well-sm{padding:9px;border-radius:3px}.cmt .close{float:right;font-size:22.5px;font-weight:700;line-height:1;color:#000;text-shadow:none;filter:alpha(opacity=20);-webkit-opacity:.2;-moz-opacity:.2;opacity:.2}.cmt .close:focus,.cmt .close:hover{color:#000;text-decoration:none;cursor:pointer;filter:alpha(opacity=50);-webkit-opacity:.5;-moz-opacity:.5;opacity:.5}button.cmt .close{padding:0;cursor:pointer;background:transparent;border:0;-webkit-appearance:none}.cmt .modal-open{overflow:hidden}.cmt .modal{display:none;z-index:1050;-webkit-overflow-scrolling:touch;outline:0}.cmt .modal.fade .modal-dialog{transform:translateY(-25%);-webkit-transform:translateY(-25%);-moz-transform:translateY(-25%);-ms-transform:translateY(-25%);-o-transform:translateY(-25%);-webkit-transition:-webkit-transform .3s ease-out;-moz-transition:-moz-transform .3s ease-out;-o-transition:-o-transform .3s ease-out;transition:transform .3s ease-out}.cmt .modal.in .modal-dialog{transform:translate(0);-webkit-transform:translate(0);-moz-transform:translate(0);-ms-transform:translate(0);-o-transform:translate(0)}.cmt .modal-open .modal{overflow-x:hidden;overflow-y:auto}.cmt .modal-dialog{position:relative;width:auto;margin:10px}.cmt .modal-content{position:relative;background-color:#fff;border:1px solid #999;border:1px solid rgba(0,0,0,.2);border-radius:6px;-webkit-box-shadow:0 3px 9px rgba(0,0,0,.5);-moz-box-shadow:0 3px 9px rgba(0,0,0,.5);box-shadow:0 3px 9px rgba(0,0,0,.5);background-clip:padding-box;outline:0}.cmt .modal-backdrop{position:fixed;top:0;right:0;bottom:0;left:0;z-index:1040;background-color:#000}.cmt .modal-backdrop.fade{filter:alpha(opacity=0);-webkit-opacity:0;-moz-opacity:0;opacity:0}.cmt .modal-backdrop.in{filter:alpha(opacity=50);-webkit-opacity:.5;-moz-opacity:.5;opacity:.5}.cmt .modal-header{padding:15px;border-bottom:1px solid #e5e5e5}.cmt .modal-header .close{margin-top:-2px}.cmt .modal-title{margin:0;line-height:1.42857143}.cmt .modal-body{position:relative;padding:20px}.cmt .modal-footer{padding:20px;text-align:right;border-top:1px solid #e5e5e5}.cmt .modal-footer .btn+.btn{margin-left:5px;margin-bottom:0}.cmt .modal-footer .btn-group .btn+.btn{margin-left:-1px}.cmt .modal-footer .btn-block+.btn-block{margin-left:0}.cmt .modal-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}@media (min-width:768px){.cmt .modal-dialog{width:600px;margin:30px auto}.cmt .modal-content{-webkit-box-shadow:0 5px 15px rgba(0,0,0,.5);-moz-box-shadow:0 5px 15px rgba(0,0,0,.5);box-shadow:0 5px 15px rgba(0,0,0,.5)}.cmt .modal-sm{width:300px}}@media (min-width:992px){.cmt .modal-lg{width:900px}}.cmt .tooltip{position:absolute;z-index:1070;display:block;font-family:Lato,Helvetica Neue,Helvetica,Arial,sans-serif;font-style:normal;font-weight:400;letter-spacing:normal;line-break:auto;line-height:1.42857143;text-align:left;text-align:start;text-decoration:none;text-shadow:none;text-transform:none;white-space:normal;word-break:normal;word-spacing:normal;word-wrap:normal;font-size:13px;filter:alpha(opacity=0);-webkit-opacity:0;-moz-opacity:0;opacity:0}.cmt .tooltip.in{filter:alpha(opacity=90);-webkit-opacity:.9;-moz-opacity:.9;opacity:.9}.cmt .tooltip.top{margin-top:-3px;padding:5px 0}.cmt .tooltip.right{margin-left:3px;padding:0 5px}.cmt .tooltip.bottom{margin-top:3px;padding:5px 0}.cmt .tooltip.left{margin-left:-3px;padding:0 5px}.cmt .tooltip-inner{max-width:200px;padding:3px 8px;color:#fff;text-align:center;background-color:#000;border-radius:4px}.cmt .tooltip-arrow{position:absolute;width:0;height:0;border-color:transparent;border-style:solid}.cmt .tooltip.top .tooltip-arrow{bottom:0;left:50%;margin-left:-5px;border-width:5px 5px 0;border-top-color:#000}.cmt .tooltip.top-left .tooltip-arrow{bottom:0;right:5px;margin-bottom:-5px;border-width:5px 5px 0;border-top-color:#000}.cmt .tooltip.top-right .tooltip-arrow{bottom:0;left:5px;margin-bottom:-5px;border-width:5px 5px 0;border-top-color:#000}.cmt .tooltip.right .tooltip-arrow{top:50%;left:0;margin-top:-5px;border-width:5px 5px 5px 0;border-right-color:#000}.cmt .tooltip.left .tooltip-arrow{top:50%;right:0;margin-top:-5px;border-width:5px 0 5px 5px;border-left-color:#000}.cmt .tooltip.bottom .tooltip-arrow{top:0;left:50%;margin-left:-5px;border-width:0 5px 5px;border-bottom-color:#000}.cmt .tooltip.bottom-left .tooltip-arrow{top:0;right:5px;margin-top:-5px;border-width:0 5px 5px;border-bottom-color:#000}.cmt .tooltip.bottom-right .tooltip-arrow{top:0;left:5px;margin-top:-5px;border-width:0 5px 5px;border-bottom-color:#000}.cmt .popover{position:absolute;top:0;left:0;z-index:1060;display:none;max-width:276px;padding:1px;font-family:Lato,Helvetica Neue,Helvetica,Arial,sans-serif;font-style:normal;font-weight:400;letter-spacing:normal;line-break:auto;line-height:1.42857143;text-align:left;text-align:start;text-decoration:none;text-shadow:none;text-transform:none;white-space:normal;word-break:normal;word-spacing:normal;word-wrap:normal;font-size:15px;background-color:#fff;background-clip:padding-box;border:1px solid #ccc;border:1px solid rgba(0,0,0,.2);border-radius:6px;-webkit-box-shadow:0 5px 10px rgba(0,0,0,.2);-moz-box-shadow:0 5px 10px rgba(0,0,0,.2);box-shadow:0 5px 10px rgba(0,0,0,.2)}.cmt .popover.top{margin-top:-10px}.cmt .popover.right{margin-left:10px}.cmt .popover.bottom{margin-top:10px}.cmt .popover.left{margin-left:-10px}.cmt .popover-title{margin:0;padding:8px 14px;font-size:15px;background-color:#f7f7f7;border-bottom:1px solid #ebebeb;border-radius:5px 5px 0 0}.cmt .popover-content{padding:9px 14px}.cmt .popover>.arrow,.cmt .popover>.arrow:after{position:absolute;display:block;width:0;height:0;border-color:transparent;border-style:solid}.cmt .popover>.arrow{border-width:11px}.cmt .popover>.arrow:after{border-width:10px;content:""}.cmt .popover.top>.arrow{left:50%;margin-left:-11px;border-bottom-width:0;border-top-color:#999;border-top-color:rgba(0,0,0,.25);bottom:-11px}.cmt .popover.top>.arrow:after{content:" ";bottom:1px;margin-left:-10px;border-bottom-width:0;border-top-color:#fff}.cmt .popover.right>.arrow{top:50%;left:-11px;margin-top:-11px;border-left-width:0;border-right-color:#999;border-right-color:rgba(0,0,0,.25)}.cmt .popover.right>.arrow:after{content:" ";left:1px;bottom:-10px;border-left-width:0;border-right-color:#fff}.cmt .popover.bottom>.arrow{left:50%;margin-left:-11px;border-top-width:0;border-bottom-color:#999;border-bottom-color:rgba(0,0,0,.25);top:-11px}.cmt .popover.bottom>.arrow:after{content:" ";top:1px;margin-left:-10px;border-top-width:0;border-bottom-color:#fff}.cmt .popover.left>.arrow{top:50%;right:-11px;margin-top:-11px;border-right-width:0;border-left-color:#999;border-left-color:rgba(0,0,0,.25)}.cmt .popover.left>.arrow:after{content:" ";right:1px;border-right-width:0;border-left-color:#fff;bottom:-10px}.cmt .carousel{position:relative}.cmt .carousel-inner{position:relative;overflow:hidden;width:100%}.cmt .carousel-inner>.item{display:none;position:relative;-webkit-transition:left .6s ease-in-out;-o-transition:.6s ease-in-out left;transition:left .6s ease-in-out}.cmt .carousel-inner>.item>a>img,.cmt .carousel-inner>.item>img{line-height:1}@media (-webkit-transform-3d),(transform-3d){.cmt .carousel-inner>.item{-webkit-transition:-webkit-transform .6s ease-in-out;-moz-transition:-moz-transform .6s ease-in-out;-o-transition:-o-transform .6s ease-in-out;transition:transform .6s ease-in-out;-webkit-backface-visibility:hidden;-moz-backface-visibility:hidden;backface-visibility:hidden;-webkit-perspective:1000px;-moz-perspective:1000px;-ms-perspective:1000px;perspective:1000px}.cmt .carousel-inner>.item.active.right,.cmt .carousel-inner>.item.next{transform:translate3d(100%,0,0);-webkit-transform:translate3d(100%,0,0);-moz-transform:translate3d(100%,0,0);-ms-transform:translate3d(100%,0,0);-o-transform:translate3d(100%,0,0);left:0}.cmt .carousel-inner>.item.active.left,.cmt .carousel-inner>.item.prev{transform:translate3d(-100%,0,0);-webkit-transform:translate3d(-100%,0,0);-moz-transform:translate3d(-100%,0,0);-ms-transform:translate3d(-100%,0,0);-o-transform:translate3d(-100%,0,0);left:0}.cmt .carousel-inner>.item.active,.cmt .carousel-inner>.item.next.left,.cmt .carousel-inner>.item.prev.right{transform:translateZ(0);-webkit-transform:translateZ(0);-moz-transform:translateZ(0);-ms-transform:translateZ(0);-o-transform:translateZ(0);left:0}}.cmt .carousel-inner>.active,.cmt .carousel-inner>.next,.cmt .carousel-inner>.prev{display:block}.cmt .carousel-inner>.active{left:0}.cmt .carousel-inner>.next,.cmt .carousel-inner>.prev{position:absolute;top:0;width:100%}.cmt .carousel-inner>.next{left:100%}.cmt .carousel-inner>.prev{left:-100%}.cmt .carousel-inner>.next.left,.cmt .carousel-inner>.prev.right{left:0}.cmt .carousel-inner>.active.left{left:-100%}.cmt .carousel-inner>.active.right{left:100%}.cmt .carousel-control{position:absolute;top:0;left:0;bottom:0;width:15%;filter:alpha(opacity=50);-webkit-opacity:.5;-moz-opacity:.5;opacity:.5;font-size:20px;color:#fff;text-align:center;text-shadow:0 1px 2px rgba(0,0,0,.6);background-color:transparent}.cmt .carousel-control.left{background-image:-webkit-linear-gradient(left,rgba(0,0,0,.5),rgba(0,0,0,.0001));background-image:-o-linear-gradient(left,rgba(0,0,0,.5) 0,rgba(0,0,0,.0001) 100%);background-image:linear-gradient(90deg,rgba(0,0,0,.5) 0,rgba(0,0,0,.0001));background-repeat:repeat-x;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#80000000",endColorstr="#00000000",GradientType=1)}.cmt .carousel-control.right{left:auto;right:0;background-image:-webkit-linear-gradient(left,rgba(0,0,0,.0001),rgba(0,0,0,.5));background-image:-o-linear-gradient(left,rgba(0,0,0,.0001) 0,rgba(0,0,0,.5) 100%);background-image:linear-gradient(90deg,rgba(0,0,0,.0001) 0,rgba(0,0,0,.5));background-repeat:repeat-x;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#00000000",endColorstr="#80000000",GradientType=1)}.cmt .carousel-control:focus,.cmt .carousel-control:hover{outline:0;color:#fff;text-decoration:none;filter:alpha(opacity=90);-webkit-opacity:.9;-moz-opacity:.9;opacity:.9}.cmt .carousel-control .glyphicon-chevron-left,.cmt .carousel-control .glyphicon-chevron-right,.cmt .carousel-control .icon-next,.cmt .carousel-control .icon-prev{position:absolute;top:50%;margin-top:-10px;z-index:5;display:inline-block}.cmt .carousel-control .glyphicon-chevron-left,.cmt .carousel-control .icon-prev{left:50%;margin-left:-10px}.cmt .carousel-control .glyphicon-chevron-right,.cmt .carousel-control .icon-next{right:50%;margin-right:-10px}.cmt .carousel-control .icon-next,.cmt .carousel-control .icon-prev{width:20px;height:20px;line-height:1;font-family:serif}.cmt .carousel-control .icon-prev:before{content:"\\2039"}.cmt .carousel-control .icon-next:before{content:"\\203A"}.cmt .carousel-indicators{position:absolute;bottom:10px;left:50%;z-index:15;width:60%;margin-left:-30%;padding-left:0;list-style:none;text-align:center}.cmt .carousel-indicators li{display:inline-block;width:10px;height:10px;margin:1px;text-indent:-999px;border:1px solid #fff;border-radius:10px;cursor:pointer;background-color:#000\\9;background-color:transparent}.cmt .carousel-indicators .active{margin:0;width:12px;height:12px;background-color:#fff}.cmt .carousel-caption{position:absolute;left:15%;right:15%;bottom:20px;z-index:10;padding-top:20px;padding-bottom:20px;color:#fff;text-align:center;text-shadow:0 1px 2px rgba(0,0,0,.6)}.cmt .carousel-caption .btn{text-shadow:none}@media screen and (min-width:768px){.cmt .carousel-control .glyphicon-chevron-left,.cmt .carousel-control .glyphicon-chevron-right,.cmt .carousel-control .icon-next,.cmt .carousel-control .icon-prev{width:30px;height:30px;margin-top:-10px;font-size:30px}.cmt .carousel-control .glyphicon-chevron-left,.cmt .carousel-control .icon-prev{margin-left:-10px}.cmt .carousel-control .glyphicon-chevron-right,.cmt .carousel-control .icon-next{margin-right:-10px}.cmt .carousel-caption{left:20%;right:20%;padding-bottom:30px}.cmt .carousel-indicators{bottom:20px}}.cmt .clearfix:after,.cmt .clearfix:before,.cmt .cmt .btn-group-vertical>.btn-group:after,.cmt .cmt .btn-group-vertical>.btn-group:before,.cmt .cmt .btn-toolbar:after,.cmt .cmt .btn-toolbar:before,.cmt .cmt .container-fluid:after,.cmt .cmt .container-fluid:before,.cmt .cmt .container:after,.cmt .cmt .container:before,.cmt .cmt .dl-horizontal dd:after,.cmt .cmt .dl-horizontal dd:before,.cmt .cmt .form-horizontal .form-group:after,.cmt .cmt .form-horizontal .form-group:before,.cmt .cmt .modal-footer:after,.cmt .cmt .modal-footer:before,.cmt .cmt .modal-header:after,.cmt .cmt .modal-header:before,.cmt .cmt .nav:after,.cmt .cmt .nav:before,.cmt .cmt .navbar-collapse:after,.cmt .cmt .navbar-collapse:before,.cmt .cmt .navbar-header:after,.cmt .cmt .navbar-header:before,.cmt .cmt .navbar:after,.cmt .cmt .navbar:before,.cmt .cmt .pager:after,.cmt .cmt .pager:before,.cmt .cmt .panel-body:after,.cmt .cmt .panel-body:before,.cmt .cmt .row:after,.cmt .cmt .row:before{content:" ";display:table}.cmt .clearfix:after,.cmt .cmt .btn-group-vertical>.btn-group:after,.cmt .cmt .btn-toolbar:after,.cmt .cmt .container-fluid:after,.cmt .cmt .container:after,.cmt .cmt .dl-horizontal dd:after,.cmt .cmt .form-horizontal .form-group:after,.cmt .cmt .modal-footer:after,.cmt .cmt .modal-header:after,.cmt .cmt .nav:after,.cmt .cmt .navbar-collapse:after,.cmt .cmt .navbar-header:after,.cmt .cmt .navbar:after,.cmt .cmt .pager:after,.cmt .cmt .panel-body:after,.cmt .cmt .row:after{clear:both}.cmt .center-block{display:block;margin-left:auto;margin-right:auto}.cmt .pull-right{float:right!important}.cmt .pull-left{float:left!important}.cmt .hide{display:none!important}.cmt .show{display:block!important}.cmt .invisible{visibility:hidden}.cmt .text-hide{font:0/0 a;color:transparent;text-shadow:none;background-color:transparent;border:0}.cmt .hidden{display:none!important}.cmt .affix{position:fixed}@-ms-viewport{width:device-width}.cmt .visible-lg,.cmt .visible-lg-block,.cmt .visible-lg-inline,.cmt .visible-lg-inline-block,.cmt .visible-md,.cmt .visible-md-block,.cmt .visible-md-inline,.cmt .visible-md-inline-block,.cmt .visible-sm,.cmt .visible-sm-block,.cmt .visible-sm-inline,.cmt .visible-sm-inline-block,.cmt .visible-xs,.cmt .visible-xs-block,.cmt .visible-xs-inline,.cmt .visible-xs-inline-block{display:none!important}@media (max-width:767px){.cmt .visible-xs{display:block!important}table.cmt .visible-xs{display:table!important}tr.cmt .visible-xs{display:table-row!important}td.cmt .visible-xs,th.cmt .visible-xs{display:table-cell!important}}@media (max-width:767px){.cmt .visible-xs-block{display:block!important}}@media (max-width:767px){.cmt .visible-xs-inline{display:inline!important}}@media (max-width:767px){.cmt .visible-xs-inline-block{display:inline-block!important}}@media (min-width:768px) and (max-width:991px){.cmt .visible-sm{display:block!important}table.cmt .visible-sm{display:table!important}tr.cmt .visible-sm{display:table-row!important}td.cmt .visible-sm,th.cmt .visible-sm{display:table-cell!important}}@media (min-width:768px) and (max-width:991px){.cmt .visible-sm-block{display:block!important}}@media (min-width:768px) and (max-width:991px){.cmt .visible-sm-inline{display:inline!important}}@media (min-width:768px) and (max-width:991px){.cmt .visible-sm-inline-block{display:inline-block!important}}@media (min-width:992px) and (max-width:1199px){.cmt .visible-md{display:block!important}table.cmt .visible-md{display:table!important}tr.cmt .visible-md{display:table-row!important}td.cmt .visible-md,th.cmt .visible-md{display:table-cell!important}}@media (min-width:992px) and (max-width:1199px){.cmt .visible-md-block{display:block!important}}@media (min-width:992px) and (max-width:1199px){.cmt .visible-md-inline{display:inline!important}}@media (min-width:992px) and (max-width:1199px){.cmt .visible-md-inline-block{display:inline-block!important}}@media (min-width:1200px){.cmt .visible-lg{display:block!important}table.cmt .visible-lg{display:table!important}tr.cmt .visible-lg{display:table-row!important}td.cmt .visible-lg,th.cmt .visible-lg{display:table-cell!important}}@media (min-width:1200px){.cmt .visible-lg-block{display:block!important}}@media (min-width:1200px){.cmt .visible-lg-inline{display:inline!important}}@media (min-width:1200px){.cmt .visible-lg-inline-block{display:inline-block!important}}@media (max-width:767px){.cmt .hidden-xs{display:none!important}}@media (min-width:768px) and (max-width:991px){.cmt .hidden-sm{display:none!important}}@media (min-width:992px) and (max-width:1199px){.cmt .hidden-md{display:none!important}}@media (min-width:1200px){.cmt .hidden-lg{display:none!important}}.cmt .visible-print{display:none!important}@media print{.cmt .visible-print{display:block!important}table.cmt .visible-print{display:table!important}tr.cmt .visible-print{display:table-row!important}td.cmt .visible-print,th.cmt .visible-print{display:table-cell!important}}.cmt .visible-print-block{display:none!important}@media print{.cmt .visible-print-block{display:block!important}}.cmt .visible-print-inline{display:none!important}@media print{.cmt .visible-print-inline{display:inline!important}}.cmt .visible-print-inline-block{display:none!important}@media print{.cmt .visible-print-inline-block{display:inline-block!important}}@media print{.cmt .hidden-print{display:none!important}}.cmt .navbar{border-width:0}.cmt .navbar-default .badge{background-color:#fff;color:#2c3e50}.cmt .navbar-inverse .badge{background-color:#fff;color:#18bc9c}.cmt .navbar-brand{line-height:1}.cmt .btn{border-width:2px}.cmt .btn-group.open .dropdown-toggle,.cmt .btn:active{-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none}.cmt .text-primary,.cmt .text-primary:hover{color:#2c3e50}.cmt .text-success,.cmt .text-success:hover{color:#18bc9c}.cmt .text-danger,.cmt .text-danger:hover{color:#e74c3c}.cmt .text-warning,.cmt .text-warning:hover{color:#f39c12}.cmt .text-info,.cmt .text-info:hover{color:#3498db}.cmt .table a:not(.btn),.cmt table a:not(.btn){text-decoration:underline}.cmt .table .dropdown-menu a,.cmt table .dropdown-menu a{text-decoration:none}.cmt .table .danger,.cmt .table .danger>a,.cmt .table .danger>td>a,.cmt .table .danger>th>a,.cmt .table .info,.cmt .table .info>a,.cmt .table .info>td>a,.cmt .table .info>th>a,.cmt .table .success,.cmt .table .success>a,.cmt .table .success>td>a,.cmt .table .success>th>a,.cmt .table .warning,.cmt .table .warning>a,.cmt .table .warning>td>a,.cmt .table .warning>th>a,.cmt table .danger,.cmt table .danger>a,.cmt table .danger>td>a,.cmt table .danger>th>a,.cmt table .info,.cmt table .info>a,.cmt table .info>td>a,.cmt table .info>th>a,.cmt table .success,.cmt table .success>a,.cmt table .success>td>a,.cmt table .success>th>a,.cmt table .warning,.cmt table .warning>a,.cmt table .warning>td>a,.cmt table .warning>th>a{color:#fff}.cmt .table>tbody>tr>td,.cmt .table>tbody>tr>th,.cmt .table>tfoot>tr>td,.cmt .table>tfoot>tr>th,.cmt .table>thead>tr>td,.cmt .table>thead>tr>th,.cmt table>tbody>tr>td,.cmt table>tbody>tr>th,.cmt table>tfoot>tr>td,.cmt table>tfoot>tr>th,.cmt table>thead>tr>td,.cmt table>thead>tr>th{border:none}.cmt .table-bordered>tbody>tr>td,.cmt .table-bordered>tbody>tr>th,.cmt .table-bordered>tfoot>tr>td,.cmt .table-bordered>tfoot>tr>th,.cmt .table-bordered>thead>tr>td,.cmt .table-bordered>thead>tr>th,.cmt table-bordered>tbody>tr>td,.cmt table-bordered>tbody>tr>th,.cmt table-bordered>tfoot>tr>td,.cmt table-bordered>tfoot>tr>th,.cmt table-bordered>thead>tr>td,.cmt table-bordered>thead>tr>th{border:1px solid #ecf0f1}.cmt .form-control,.cmt input{border-width:2px}.cmt .form-control,.cmt .form-control:focus,.cmt input,.cmt input:focus{-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none}.cmt .has-warning .checkbox,.cmt .has-warning .checkbox-inline,.cmt .has-warning.checkbox-inline label,.cmt .has-warning.checkbox label,.cmt .has-warning .control-label,.cmt .has-warning .form-control-feedback,.cmt .has-warning .help-block,.cmt .has-warning .radio,.cmt .has-warning .radio-inline,.cmt .has-warning.radio-inline label,.cmt .has-warning.radio label{color:#f39c12}.cmt .has-warning .form-control,.cmt .has-warning .form-control:focus{border:2px solid #f39c12}.cmt .has-warning .input-group-addon{border-color:#f39c12}.cmt .has-error .checkbox,.cmt .has-error .checkbox-inline,.cmt .has-error.checkbox-inline label,.cmt .has-error.checkbox label,.cmt .has-error .control-label,.cmt .has-error .form-control-feedback,.cmt .has-error .help-block,.cmt .has-error .radio,.cmt .has-error .radio-inline,.cmt .has-error.radio-inline label,.cmt .has-error.radio label{color:#e74c3c}.cmt .has-error .form-control,.cmt .has-error .form-control:focus{border:2px solid #e74c3c}.cmt .has-error .input-group-addon{border-color:#e74c3c}.cmt .has-success .checkbox,.cmt .has-success .checkbox-inline,.cmt .has-success.checkbox-inline label,.cmt .has-success.checkbox label,.cmt .has-success .control-label,.cmt .has-success .form-control-feedback,.cmt .has-success .help-block,.cmt .has-success .radio,.cmt .has-success .radio-inline,.cmt .has-success.radio-inline label,.cmt .has-success.radio label{color:#18bc9c}.cmt .has-success .form-control,.cmt .has-success .form-control:focus{border:2px solid #18bc9c}.cmt .has-success .input-group-addon{border-color:#18bc9c}.cmt .nav .open>a,.cmt .nav .open>a:focus,.cmt .nav .open>a:hover{border-color:transparent}.cmt .pager a,.cmt .pager a:hover{color:#fff}.cmt .pager .disabled>a,.cmt .pager .disabled>a:focus,.cmt .pager .disabled>a:hover,.cmt .pager .disabled>span{background-color:#3be6c4}.cmt .close{color:#fff;text-decoration:none;opacity:.4}.cmt .close:focus,.cmt .close:hover{color:#fff;opacity:1}.cmt .alert .alert-link{color:#fff;text-decoration:underline}.cmt .progress{height:10px;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none}.cmt .progress .progress-bar{font-size:10px;line-height:10px}.cmt .well{-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none}.cmt a.list-group-item.active,.cmt a.list-group-item.active:focus,.cmt a.list-group-item.active:hover{border-color:#ecf0f1}.cmt a.list-group-item-success.active{background-color:#18bc9c}.cmt a.list-group-item-success.active:focus,.cmt a.list-group-item-success.active:hover{background-color:#15a589}.cmt a.list-group-item-warning.active{background-color:#f39c12}.cmt a.list-group-item-warning.active:focus,.cmt a.list-group-item-warning.active:hover{background-color:#e08e0b}.cmt a.list-group-item-danger.active{background-color:#e74c3c}.cmt a.list-group-item-danger.active:focus,.cmt a.list-group-item-danger.active:hover{background-color:#e43725}.cmt .modal .close,.cmt .panel-default .close,.cmt .popover{color:#2c3e50}.cmt .slider{display:inline-block;vertical-align:middle;position:relative}.cmt .slider.slider-horizontal{width:210px;height:20px}.cmt .slider.slider-horizontal .slider-track{height:10px;width:100%;margin-top:-5px;top:50%;left:0}.cmt .slider.slider-horizontal .slider-selection,.cmt .slider.slider-horizontal .slider-track-high,.cmt .slider.slider-horizontal .slider-track-low{height:100%;top:0;bottom:0}.cmt .slider.slider-horizontal .slider-handle,.cmt .slider.slider-horizontal .slider-tick{margin-left:-10px}.cmt .slider.slider-horizontal .slider-handle.triangle,.cmt .slider.slider-horizontal .slider-tick.triangle{position:relative;top:50%;transform:translateY(-50%);border-width:0 10px 10px;width:0;height:0;border-bottom-color:#0480be;margin-top:0}.cmt .slider.slider-horizontal .slider-tick-container{white-space:nowrap;position:absolute;top:0;left:0;width:100%}.cmt .slider.slider-horizontal .slider-tick-label-container{white-space:nowrap;margin-top:20px}.cmt .slider.slider-horizontal .slider-tick-label-container .slider-tick-label{padding-top:4px;display:inline-block;text-align:center}.cmt .slider.slider-horizontal.slider-rtl .slider-track{left:auto;right:0}.cmt .slider.slider-horizontal.slider-rtl .slider-handle,.cmt .slider.slider-horizontal.slider-rtl .slider-tick{margin-left:0;margin-right:-10px}.cmt .slider.slider-horizontal.slider-rtl .slider-tick-container{left:auto;right:0}.cmt .slider.slider-vertical{height:210px;width:20px}.cmt .slider.slider-vertical .slider-track{width:10px;height:100%;left:25%;top:0}.cmt .slider.slider-vertical .slider-selection{width:100%;left:0;top:0;bottom:0}.cmt .slider.slider-vertical .slider-track-high,.cmt .slider.slider-vertical .slider-track-low{width:100%;left:0;right:0}.cmt .slider.slider-vertical .slider-handle,.cmt .slider.slider-vertical .slider-tick{margin-top:-10px}.cmt .slider.slider-vertical .slider-handle.triangle,.cmt .slider.slider-vertical .slider-tick.triangle{border-width:10px 0 10px 10px;width:1px;height:1px;border-left-color:#0480be;border-right-color:#0480be;margin-left:0;margin-right:0}.cmt .slider.slider-vertical .slider-tick-label-container{white-space:nowrap}.cmt .slider.slider-vertical .slider-tick-label-container .slider-tick-label{padding-left:4px}.cmt .slider.slider-vertical.slider-rtl .slider-track{left:auto;right:25%}.cmt .slider.slider-vertical.slider-rtl .slider-selection{left:auto;right:0}.cmt .slider.slider-vertical.slider-rtl .slider-handle.triangle,.cmt .slider.slider-vertical.slider-rtl .slider-tick.triangle{border-width:10px 10px 10px 0}.cmt .slider.slider-vertical.slider-rtl .slider-tick-label-container .slider-tick-label{padding-left:0;padding-right:4px}.cmt .slider.slider-disabled .slider-handle{background-image:-webkit-linear-gradient(top,#dfdfdf,#bebebe);background-image:-o-linear-gradient(top,#dfdfdf 0,#bebebe 100%);background-image:linear-gradient(180deg,#dfdfdf 0,#bebebe);background-repeat:repeat-x;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#ffdfdfdf",endColorstr="#ffbebebe",GradientType=0)}.cmt .slider.slider-disabled .slider-track{background-image:-webkit-linear-gradient(top,#e5e5e5,#e9e9e9);background-image:-o-linear-gradient(top,#e5e5e5 0,#e9e9e9 100%);background-image:linear-gradient(180deg,#e5e5e5 0,#e9e9e9);background-repeat:repeat-x;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#ffe5e5e5",endColorstr="#ffe9e9e9",GradientType=0);cursor:not-allowed}.cmt .slider input{display:none}.cmt .slider .tooltip.top{margin-top:-36px}.cmt .slider .tooltip-inner{white-space:nowrap;max-width:none}.cmt .slider .hide{display:none}.cmt .slider-track{cursor:pointer;background-image:-webkit-linear-gradient(top,#f5f5f5,#f9f9f9);background-image:-o-linear-gradient(top,#f5f5f5 0,#f9f9f9 100%);background-image:linear-gradient(180deg,#f5f5f5 0,#f9f9f9);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#fff5f5f5",endColorstr="#fff9f9f9",GradientType=0);-webkit-box-shadow:inset 0 1px 2px rgba(0,0,0,.1);box-shadow:inset 0 1px 2px rgba(0,0,0,.1)}.cmt .slider-selection,.cmt .slider-track{position:absolute;background-repeat:repeat-x;border-radius:4px}.cmt .slider-selection{background-image:-webkit-linear-gradient(top,#f9f9f9,#f5f5f5);background-image:-o-linear-gradient(top,#f9f9f9 0,#f5f5f5 100%);background-image:linear-gradient(180deg,#f9f9f9 0,#f5f5f5);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#fff9f9f9",endColorstr="#fff5f5f5",GradientType=0);-webkit-box-shadow:inset 0 -1px 0 rgba(0,0,0,.15);box-shadow:inset 0 -1px 0 rgba(0,0,0,.15);-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.cmt .slider-selection.tick-slider-selection{background-image:-webkit-linear-gradient(top,#89cdef,#81bfde);background-image:-o-linear-gradient(top,#89cdef 0,#81bfde 100%);background-image:linear-gradient(180deg,#89cdef 0,#81bfde);background-repeat:repeat-x;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#ff89cdef",endColorstr="#ff81bfde",GradientType=0)}.cmt .slider-track-high,.cmt .slider-track-low{position:absolute;background:transparent;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;border-radius:4px}.cmt .slider-handle{position:absolute;top:0;width:20px;height:20px;background-color:#337ab7;background-image:-webkit-linear-gradient(top,#149bdf,#0480be);background-image:-o-linear-gradient(top,#149bdf 0,#0480be 100%);background-image:linear-gradient(180deg,#149bdf 0,#0480be);background-repeat:repeat-x;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#ff149bdf",endColorstr="#ff0480be",GradientType=0);filter:none;-webkit-box-shadow:inset 0 1px 0 hsla(0,0%,100%,.2),0 1px 2px rgba(0,0,0,.05);box-shadow:inset 0 1px 0 hsla(0,0%,100%,.2),0 1px 2px rgba(0,0,0,.05);border:0 solid transparent}.cmt .slider-handle.round{border-radius:50%}.cmt .slider-handle.custom,.cmt .slider-handle.triangle{background:transparent none}.cmt .slider-handle.custom:before{line-height:20px;font-size:20px;content:"\\2605";color:#726204}.cmt .slider-tick{position:absolute;width:20px;height:20px;background-image:-webkit-linear-gradient(top,#f9f9f9,#f5f5f5);background-image:-o-linear-gradient(top,#f9f9f9 0,#f5f5f5 100%);background-image:linear-gradient(180deg,#f9f9f9 0,#f5f5f5);background-repeat:repeat-x;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#fff9f9f9",endColorstr="#fff5f5f5",GradientType=0);-webkit-box-shadow:inset 0 -1px 0 rgba(0,0,0,.15);box-shadow:inset 0 -1px 0 rgba(0,0,0,.15);-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;filter:none;opacity:.8;border:0 solid transparent}.cmt .slider-tick.round{border-radius:50%}.cmt .slider-tick.custom,.cmt .slider-tick.triangle{background:transparent none}.cmt .slider-tick.custom:before{line-height:20px;font-size:20px;content:"\\2605";color:#726204}.cmt .slider-tick.in-selection{background-image:-webkit-linear-gradient(top,#89cdef,#81bfde);background-image:-o-linear-gradient(top,#89cdef 0,#81bfde 100%);background-image:linear-gradient(180deg,#89cdef 0,#81bfde);background-repeat:repeat-x;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#ff89cdef",endColorstr="#ff81bfde",GradientType=0);opacity:1}.cmt span.twitter-typeahead .tt-dropdown-menu,.cmt span.twitter-typeahead .tt-menu{position:absolute;top:100%;left:0;z-index:1000;display:none;float:left;min-width:160px;padding:5px 0;margin:2px 0 0;list-style:none;font-size:14px;text-align:left;background-color:#fff;border:1px solid #ccc;border:1px solid rgba(0,0,0,.15);border-radius:4px;-webkit-box-shadow:0 6px 12px rgba(0,0,0,.175);box-shadow:0 6px 12px rgba(0,0,0,.175);background-clip:padding-box}.cmt span.twitter-typeahead .tt-suggestion{display:block;padding:3px 20px;clear:both;font-weight:400;line-height:1.42857143;color:#333;white-space:nowrap}.cmt span.twitter-typeahead .tt-suggestion.tt-cursor,.cmt span.twitter-typeahead .tt-suggestion:focus,.cmt span.twitter-typeahead .tt-suggestion:hover{color:#fff;text-decoration:none;outline:0;background-color:#337ab7}.cmt .input-group.input-group-lg span.twitter-typeahead .form-control{height:46px;padding:10px 16px;font-size:18px;line-height:1.3333333;border-radius:6px}.cmt .input-group.input-group-sm span.twitter-typeahead .form-control{height:30px;padding:5px 10px;font-size:12px;line-height:1.5;border-radius:3px}.cmt span.twitter-typeahead{width:100%}.cmt .input-group span.twitter-typeahead{display:block!important;height:34px;border-radius:4px}.cmt .input-group span.twitter-typeahead .tt-dropdown-menu,.cmt .input-group span.twitter-typeahead .tt-menu{top:32px!important}.cmt .input-group span.twitter-typeahead:not(:first-child):not(:last-child) .form-control{border-radius:0}.cmt .input-group span.twitter-typeahead:last-child .form-control{border-top-left-radius:0;border-bottom-left-radius:0}.cmt .input-group.input-group-sm span.twitter-typeahead{height:30px}.cmt .input-group.input-group-sm span.twitter-typeahead .tt-dropdown-menu,.cmt .input-group.input-group-sm span.twitter-typeahead .tt-menu{top:30px!important}.cmt .input-group.input-group-lg span.twitter-typeahead{height:46px}.cmt .input-group.input-group-lg span.twitter-typeahead .tt-dropdown-menu,.cmt .input-group.input-group-lg span.twitter-typeahead .tt-menu{top:46px!important}@font-face{font-family:nova;src:url('+n(1422)+'?#iefix) format("embedded-opentype"),url('+n(1423)+') format("woff2"),url('+n(1424)+') format("woff"),url('+n(1425)+') format("truetype"),url('+n(1426)+'#nova) format("svg")}.cmt .glyphicon:before{font-family:nova!important;font-style:normal;font-weight:400!important;vertical-align:top}.cmt .novaicon-add-circle-1:before{content:"\\E000"}.cmt .novaicon-bin:before{content:"\\E001"}.cmt .novaicon-chat-bubble-square-alert-2:before{content:"\\E002"}.cmt .novaicon-check-circle-2:before{content:"\\E003"}.cmt .novaicon-check-list:before{content:"\\E004"}.cmt .novaicon-close:before{content:"\\E005"}.cmt .novaicon-cog-check:before{content:"\\E006"}.cmt .novaicon-compass-2:before{content:"\\E007"}.cmt .novaicon-content-layers-show:before{content:"\\E008"}.cmt .novaicon-cube:before{content:"\\E009"}.cmt .novaicon-cursor-arrow-target:before{content:"\\E00A"}.cmt .novaicon-cursor-target-2:before{content:"\\E00B"}.cmt .novaicon-custom-camera:before{content:"\\E00C"}.cmt .novaicon-custom-circle:before{content:"\\E00D"}.cmt .novaicon-custom-clock:before{content:"\\E00E"}.cmt .novaicon-custom-cog-arrow:before{content:"\\E00F"}.cmt .novaicon-custom-dot:before{content:"\\E010"}.cmt .novaicon-custom-login:before{content:"\\E011"}.cmt .novaicon-custom-logout:before{content:"\\E012"}.cmt .novaicon-custom-magnify:before{content:"\\E013"}.cmt .novaicon-custom-measure-method-depth:before{content:"\\E014"}.cmt .novaicon-custom-measure-method-other:before{content:"\\E015"}.cmt .novaicon-custom-measure-method-smartclick:before{content:"\\E016"}.cmt .novaicon-custom-panorama-horizontal-shadow:before{content:"\\E017"}.cmt .novaicon-custom-ruler-depth:before{content:"\\E018"}.cmt .novaicon-custom-ruler-other:before{content:"\\E019"}.cmt .novaicon-custom-ruler-smartclick:before{content:"\\E01A"}.cmt .novaicon-custom-square:before{content:"\\E01B"}.cmt .novaicon-custom-trapezoid-shadow:before{content:"\\E01C"}.cmt .novaicon-custom-trapezoid:before{content:"\\E01D"}.cmt .novaicon-data-download-2:before{content:"\\E01E"}.cmt .novaicon-data-download-8:before{content:"\\E01F"}.cmt .novaicon-data-upload-2:before{content:"\\E020"}.cmt .novaicon-data-upload-8:before{content:"\\E021"}.cmt .novaicon-expand-diagonal-3:before{content:"\\E022"}.cmt .novaicon-file-new-1:before{content:"\\E023"}.cmt .novaicon-file-tasks-add:before{content:"\\E024"}.cmt .novaicon-floppydisk:before{content:"\\E025"}.cmt .novaicon-hide:before{content:"\\E026"}.cmt .novaicon-interface-alert-circle:before{content:"\\E027"}.cmt .novaicon-interface-alert-triangle:before{content:"\\E028"}.cmt .novaicon-interface-information:before{content:"\\E029"}.cmt .novaicon-interface-question-mark:before{content:"\\E02A"}.cmt .novaicon-location-globe-view:before{content:"\\E02B"}.cmt .novaicon-location-gps-on-2:before{content:"\\E02C"}.cmt .novaicon-location-map:before{content:"\\E02D"}.cmt .novaicon-location-pin-2:before{content:"\\E02E"}.cmt .novaicon-move-down-1:before{content:"\\E02F"}.cmt .novaicon-move-up-1:before{content:"\\E030"}.cmt .novaicon-navigation-drawer-2:before{content:"\\E031"}.cmt .novaicon-navigation-show-more-horizontal:before{content:"\\E032"}.cmt .novaicon-organization-flowchart-1:before{content:"\\E033"}.cmt .novaicon-organization-graph:before{content:"\\E034"}.cmt .novaicon-panorama-horizontal:before{content:"\\E035"}.cmt .novaicon-phone-outgoing:before{content:"\\E036"}.cmt .novaicon-places-home-1:before{content:"\\E037"}.cmt .novaicon-ruler-1:before{content:"\\E038"}.cmt .novaicon-shrink-diagonal-1:before{content:"\\E039"}.cmt .novaicon-subtract-circle-1:before{content:"\\E03A"}.cmt .novaicon-time-view:before{content:"\\E03B"}.cmt .novaicon-user:before{content:"\\E03C"}.cmt .novaicon-zoom-in:before{content:"\\E03D"}.cmt .novaicon-zoom-out:before{content:"\\E03E"}.cmt .dashboard{width:100%;height:100vh}.cmt .dashboard-panel-container{padding:5px}.cmt .dashboard-panel-container>div{margin:5px}.cmt .dashboard-panel-container .panel{margin-bottom:0}.cmt .dashboard-left-navbar{flex:50!important;max-width:320px}.cmt .panel-dashboard{display:flex;flex-grow:1;flex-shrink:0;flex-basis:0;flex-direction:column}.cmt .panel-dashboard .panel-heading{display:flex;flex:0 0 46px}.cmt .panel-dashboard>.panel-body{overflow-y:auto}.cmt .panel-dashboard.settings>.panel-body{flex-wrap:wrap;display:flex;flex-grow:1;flex-shrink:0;flex-basis:0;padding:10px}.cmt .panel-dashboard.settings>.panel-body>div{display:flex;flex-grow:1;flex-shrink:0;flex-basis:0;flex-wrap:wrap;padding:5px}.cmt .panel-dashboard.settings>.panel-body .form-actions{text-align:right}.cmt .panel-dashboard.information>.panel-body{flex-wrap:wrap;display:flex;flex-grow:1;flex-shrink:0;flex-basis:0;flex-direction:column;padding:10px}.cmt .panel-dashboard.information>.panel-body>div{padding:5px;width:100%}.cmt .panel-dashboard.information>.panel-body .information-tabs .nav-tabs{display:flex;flex:0 0 46px;flex-direction:row}.cmt .panel-dashboard.information>.panel-body .information-tabs .tab-content{display:flex;flex-grow:1;flex-shrink:0;flex-basis:0;flex-direction:column;overflow-y:auto}.cmt .panel-dashboard #navid>.panel-body{padding-left:0;padding-right:0}.cmt .panel-dashboard .nav-pills>li a{border-radius:0;padding:5px 6px 9px;color:#005293}.cmt .panel-dashboard .nav-pills>li a .glyphicon{display:inline;padding-right:10px;font-size:150%;top:3px}.cmt .panel-dashboard .nav-pills>li.active a,.cmt .panel-dashboard .nav-pills>li a:hover{color:#fff;background-color:#98c23c}.cmt .panel-dashboard .novaicon-user{top:0;margin-right:.6em;margin-bottom:-1px}@media (max-width:767px){.cmt .panel-dashboard.settings>.panel-body{display:initial}.cmt .panel-dashboard.settings>.panel-body .viewer{height:300px;flex:1 0 auto}.cmt .panel-dashboard.settings>.panel-body button{margin-right:0}}.cmt .dashboard-mapcontainer{display:flex;flex-direction:column}.cmt .dashboard-mapcontainer h3{display:flex;flex:0 0 20px;flex-direction:column}.cmt .dashboard-mapcontainer .feature-zoom-level{display:none}.cmt .dashboard-mapcontainer-btn{text-align:right;align-self:flex-end;margin:5px 0 0}.cmt .dashboard-loccontainer{display:flex;flex-direction:column;overflow-x:auto}.cmt .locationstable .btn,.cmt .locationstable .btn-default.active,.cmt .locationstable .btn-default.active.focus,.cmt .locationstable .btn-default.active:focus,.cmt .locationstable .btn-default.active:hover,.cmt .locationstable .btn-default:active,.cmt .locationstable .btn-default:active.focus,.cmt .locationstable .btn-default:active:focus,.cmt .locationstable .btn-default:active:hover,.cmt .locationstable .btn-default:hover,.cmt .locationstable .btn:hover,.cmt .locationstable .open>.dropdown-toggle.btn-default{background:none;border:none;padding:0;margin:0;color:#005293}.cmt .locationstable th .glyphicon{text-align:center}.cmt .dashboard-table td:first-of-type{width:30px}.cmt .dashboard-table td:last-of-type{width:80px}.cmt .dashboard-table td:nth-of-type(2){overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.cmt .dashboard-locations-glyph:hover{cursor:pointer}.cmt .information{overflow:auto}.cmt .information .panel-body>div>ul{display:inline-block}.cmt .input-file-hide{width:.1px;height:.1px;opacity:0;overflow:hidden;position:absolute;z-index:-1}.cmt .flexColumn,.cmt .flexEven,.cmt .flexOdd,.cmt .flexRow{display:flex;flex-wrap:nowrap;justify-content:space-around;align-items:stretch;align-content:space-around;overflow:hidden}.cmt .flexOdd,.cmt .flexRow{flex-direction:row}.cmt .flexColumn,.cmt .flexEven{flex-direction:column}@media (max-width:767px){.cmt .flexOdd{flex-direction:column}.cmt .flexEven{flex-direction:row}}.cmt .flexColumn,.cmt .flexEven,.cmt .flexItem,.cmt .flexOdd,.cmt .flexRow{flex-grow:1;flex-shrink:0;flex-basis:0}.cmt .fullscreen{width:100%;height:100vh}.cmt .navbar-default .navbar-brand{color:#98c23c}.cmt,.cmt body{color:#005293;background-color:#333}.cmt a,.cmt button{-webkit-transition:background-color .15s linear,color .15s ease;-moz-transition:background-color .15s linear,color .15s ease;-ms-transition:background-color .15s linear,color .15s ease;-o-transition:background-color .15s linear,color .15s ease}.cmt .tooltip{border:none;background-color:initial}.cmt .btn{margin-bottom:15px;border-radius:0;margin-right:0}.cmt .btn+.btn{margin-left:10px}.cmt #mapstartlocationfooter>.btn{margin:5px 0 5px 5px}.cmt .btn-group,.cmt .fix-disabled-child-tooltip{margin-left:0}.cmt .btn-group .btn{margin-right:0}.cmt .btn-default{color:#98c23c;border-radius:0;background-color:#333;border-color:#fff;border:1px solid #98c23c}.cmt .btn-default.active,.cmt .btn-default.active.focus,.cmt .btn-default.active:focus,.cmt .btn-default.active:hover,.cmt .btn-default:active,.cmt .btn-default:active.focus,.cmt .btn-default:active:focus,.cmt .btn-default:active:hover,.cmt .btn-default:hover,.open>.dropdown-toggle.cmt .btn-default,.open>.dropdown-toggle.cmt .btn-default.focus,.open>.dropdown-toggle.cmt .btn-default:focus,.open>.dropdown-toggle.cmt .btn-default:hover{background-color:#78a21d;border:1px solid #78a21d}.cmt .btn-default:hover{color:#005293;background-color:#bcbdbc;border-color:#fff}.cmt .btn-default:focus{border-color:#fff}.cmt .btn-primary{color:#98c23c;border:1px solid #98c23c;background-color:transparent;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0}.cmt .btn-primary.active,.cmt .btn-primary.active.focus,.cmt .btn-primary.active:focus,.cmt .btn-primary.active:hover,.cmt .btn-primary:active .cmt .btn-primary:focus,.cmt .btn-primary:active.focus,.cmt .btn-primary:active:focus,.cmt .btn-primary:active:hover,.cmt .btn-primary:hover,.open>.dropdown-toggle.cmt .btn-primary,.open>.dropdown-toggle.cmt .btn-primary.focus,.open>.dropdown-toggle.cmt .btn-primary:active,.open>.dropdown-toggle.cmt .btn-primary:focus,.open>.dropdown-toggle.cmt .btn-primary:hover{color:#fff;border:1px solid #98c23c;background-color:#98c23c}.cmt .btn-group-xs>.btn,.cmt .btn-xs{position:relative;color:#98c23c;border-radius:0;background-color:#333;border-color:#fff}.cmt .alert{padding:15px;border:1px solid transparent;border-radius:0;position:absolute;top:20px;left:0;right:0;margin:auto;z-index:10000;width:fit-content;box-sizing:content-box}.cmt .alert h4{margin-top:0;color:inherit}.cmt .alert .alert-link{font-weight:700}.cmt .alert>p,.cmt .alert>ul{margin-bottom:0}.cmt .alert>p+p{margin-top:5px}.cmt .alert-dismissable,.cmt .alert-dismissible{padding-right:35px}.cmt .alert-dismissable .close,.cmt .alert-dismissible .close{position:relative;top:-2px;right:-21px;color:inherit}.cmt .alert-success{color:#3c763d;background-color:#dff0d8;border-color:#d6e9c6}.cmt .alert-success hr{border-top-color:#c9e2b3}.cmt .alert-success .alert-link{color:#2b542c}.cmt .alert-info{color:#005293;background-color:#eaf2d5;border-color:#98c23c}.cmt .alert-info hr{border-top-color:#a6e1ec}.cmt .alert-info .alert-link{color:#245269}.cmt .alert-warning{color:#8a6d3b;background-color:#fcf8e3;border-color:#faebcc}.cmt .alert-warning hr{border-top-color:#f7e1b5}.cmt .alert-warning .alert-link{color:#66512c}.cmt .alert-danger{color:#a94442;background-color:#f2dede;border-color:#ebccd1}.cmt .alert-danger hr{border-top-color:#e4b9c0}.cmt .alert-danger .alert-link{color:#843534}.cmt .progress-bar-success{background-color:#98c23c}.cmt .progress-bar-info{background-color:#31708f}.cmt .progress-bar-warning{background-color:#e67e22}.cmt .progress-bar-danger{background-color:#c0392b}.cmt .panel{border-radius:0;border-width:0}.cmt .panel-overlays{margin:0;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none}.cmt .panel-default .panel-heading{color:#005293;background-color:transparent;border-bottom:1px solid #bcbdbc;border-radius:0;padding:10px 15px}.cmt .panel-default .panel-heading .panel-title{margin-top:0;margin-bottom:0}.cmt .panel-default .panel-heading .panel-title a{width:100%;display:block;padding:10px 0;position:relative;color:#ec7a08}.cmt .panel-default .panel-heading .panel-title a.collapsed{color:#005293}.cmt .panel-default .panel-heading .panel-title a.collapsed:after{content:"\\E113";color:#bcbdbc}.cmt .panel-default .panel-heading .panel-title a:focus,.cmt .panel-default .panel-heading .panel-title a:hover{color:#ec7a08;text-decoration:none}.cmt .panel-default .panel-heading .panel-title a:after{width:30px;text-align:center;font-family:Glyphicons Halflings;content:"\\E114";position:absolute;top:10px;right:0;color:#ec7a08}.cmt .panel-default .panel-heading .panel-title a:hover:after{color:#ec7a08}.cmt .panel-default .panel-heading .panel-title h2{font-size:24px;line-height:26px}.cmt .panel-default .panel-heading .panel-collapse .panel-body{padding:20px 0}.cmt .panel-default .panel-heading .panel-collapse .list-group,.cmt .panel-default .panel-heading .panel-collapse .panel-body{border-top:none}.cmt .dropdown-menu .panel-default>.pan,.cmt .dropdown-menu .panel-default>.panel-heading{border-bottom:none}.cmt .well{background-color:#98c23c;border-radius:0}.cmt .homebutton{width:95px}.cmt .form-control{border-radius:0}.cmt h1,.cmt h2,.cmt h3,.cmt h4{color:#ec7a08}.cmt h1{font-size:34px;line-height:30px}.cmt h2{font-size:24px;line-height:26px}.cmt h3{font-size:18px;line-height:20px;display:flex;flex:0 0 20px;flex-direction:column}.cmt h4{font-size:16px;line-height:16px;font-weight:700}.cmt p{color:#666;font-size:14px}.cmt p a{color:#666;text-decoration:none;border-bottom:2px solid #98c23c}.cmt p a:hover{color:#98c23c;text-decoration:none}.cmt .dropdown-toggle .caret{margin-left:10px}.cmt .form-group{margin-bottom:4px}.cmt .form-group label{color:#666}.cmt .form-group input,.cmt .modal .form-control{border:1px solid #bcbdbc;color:#666;border-radius:0}.cmt ::-webkit-input-placeholder{color:red}.cmt :-moz-placeholder,.cmt ::-moz-placeholder{color:red}.cmt :-ms-input-placeholder{color:red}.cmt .checkbox,.cmt .radio{margin-top:0;margin-bottom:0}.cmt .checkbox label,.cmt .radio label{padding-left:0}.cmt .checkbox input,.cmt .radio input{opacity:0;position:absolute}.cmt .checkbox input span,.cmt .radio input span{display:inline-block;cursor:pointer}.cmt .checkbox input:disabled+span,.cmt .checkbox input:disabled+span:before,.cmt .radio input:disabled+span,.cmt .radio input:disabled+span:before{cursor:not-allowed}.cmt .checkbox input+span:before,.cmt .radio input+span:before{content:"";background:#fff;border:1px solid #ddd;display:inline-block;vertical-align:middle;width:20px;height:20px;margin-right:15px;text-align:center}.cmt .checkbox span,.cmt .radio span{position:relative}.cmt .checkbox input:checked+span:before{content:"\\E013";font-family:Glyphicons Halflings;background:none;color:#005293;line-height:19px;font-size:12px}.cmt .checkbox input:disabled+span:before{color:#b2cbde}.cmt .checkbox .glyphicon{margin-right:10px}.cmt .radio input+span:before{border-radius:50%;-webkit-box-shadow:0 0 0 1px #ddd;-moz-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd;border:2px solid #fff}.cmt .radio input:checked+span:before{background-color:#005293}.cmt .radio input:disabled:checked+span:before{background-color:#b2cbde}@font-face{font-family:Glyphicons Halflings;src:url('+n(1427)+') format("woff2"),url('+n(1428)+') format("woff"),url('+n(1429)+') format("truetype"),url('+n(1430)+'#glyphicons_halflingsregular) format("svg")}.cmt .glyphicon{position:relative;top:0;display:inline-block;font-family:Glyphicons Halflings;-webkit-font-smoothing:antialiased;font-style:normal;font-weight:400;line-height:1;-moz-osx-font-smoothing:grayscale;width:1.75em}.cmt .glyphicon-home:before{content:"\\E300"}.cmt .glyphicon-search:before{content:"\\E301"}.cmt .glyphicon-plane:before{content:"\\E302"}.cmt .glyphicon-picture:before{content:"\\E303"}.cmt .glyphicon-th-large:before{content:"\\E305"}.cmt .glyphicon-floppy-disk:before{content:"\\E306"}.cmt .glyphicon-user:before{content:"\\E307"}.cmt .glyphicon-globe:before{content:"\\E308"}.cmt .glyphicon-sort-by-attributes:before{content:"\\E309"}.cmt .glyphicon-eye-open:before{content:"\\E310"}.cmt .glyphicon-option-horizontal:before{content:"\\E311"}.cmt .glyphicon-arrow-up:before{content:"\\E312"}.cmt .glyphicon-zoom-in:before{content:"\\E313"}.cmt .glyphicon-zoom-out:before{content:"\\E314"}.cmt [class*=" novaicon-"],.cmt [class^=novaicon-]{width:1.2em;font-size:125%}.cmt .novaicon-user:before{font-size:125%;border:2px solid;border-radius:50%;padding:1px}@media (min-width:1200px){.cmt .container{width:auto}}.cmt .window-loading-icon{z-index:100;position:absolute;margin-left:50%;top:10px}.cmt .window-loading-icon img{margin-left:-50%}.cmt .table>tbody>tr>td,.cmt .table>tbody>tr>th,.cmt .table>tfoot>tr>td,.cmt .table>tfoot>tr>th,.cmt .table>thead>tr>td,.cmt .table>thead>tr>th{padding:4px}.cmt .tab-content{padding-right:0}.cmt .scroll-table{height:634px;overflow-x:auto;overflow-y:auto}.cmt a{color:#98c23c}.cmt a:hover{color:#ec7a08}.cmt .windowContainer{padding:5px}.cmt .react-bs-container .react-bs-table-container{box-sizing:content-box}.cmt div.logoutBox{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)!important;width:30%;height:200px;min-width:275px;margin:0;padding:0}.cmt .logout-footer{text-align:left;padding-top:10px}.cmt .form-group .help-block{font-size:12px;text-align:left;color:#666}.cmt .has-feedback.form-group .form-control-feedback{float:right;top:-30px}.cmt .form-group.has-error .help-block,.cmt .form-group.has-error label{color:#c0392b}.cmt .form-group.has-warning .help-block,.cmt .form-group.has-warning label{color:#e67e22}.cmt .form-group.has-success .help-block,.cmt .form-group.has-success label{color:#98c23c}.cmt .form-horizontal .well{margin-bottom:0;background:none}.cmt .form-horizontal{display:flex;flex-grow:1;flex-shrink:0;flex-basis:0;padding:5px;flex-direction:column}.cmt .popover-content{position:relative;width:160px;overflow:hidden;height:160px}.cmt .cmtAttributionLabel{position:absolute;right:8px;bottom:8px;height:21px;line-height:16px;padding:0;background-color:rgba(0,0,0,.3);border-radius:0}.cmt .cmtAttributionLabel a,.cmt .cmtAttributionLabel a:hover{color:#fff;font-size:10px;text-shadow:none;margin:0 10px}.cmt .help.panel,.cmt .help.panel .panel-body{width:100%;display:flex;flex-grow:1;flex-shrink:0;flex-basis:0;flex-direction:column;padding:0;margin:0}.cmt .help.panel .panel-body div,.cmt .help.panel div{width:100%;height:100%;display:flex;flex-direction:column}.cmt .panel-help>.panel-body{flex-direction:column;padding:0;overflow-y:inherit}.cmt .panel-help>.panel-body,.cmt iframe{display:flex;flex-grow:1;flex-shrink:0;flex-basis:0}.cmt iframe{border:none;width:100%}.cmt .help-window .windowcontrols.btn-toolbar{margin-right:15px}.cmt .loginModal .modal-content{background-color:#333!important}.cmt div.loginBox{position:relative;margin:20px auto;width:500px;background-color:#fff}.cmt div.loginBox p{color:#666;text-align:center;font-size:16px;font-weight:700;margin-bottom:30px}.cmt div.loginBox .loginBtn{display:block;margin:28px auto 0}.cmt .table{margin-bottom:0}.cmt .loadImg{position:absolute;margin:auto;top:0;left:0;right:0;bottom:0;width:95px;height:97px}.cmt .compact-table{width:auto}.cmt ::-ms-clear{display:none}.cmt .colorIndicator{z-index:1}.cmt .popover-content>img{-webkit-user-drag:none;-khtml-user-drag:none;-moz-user-drag:none;-o-user-drag:none;user-drag:none}.cmt .openLayers{overflow:hidden;display:flex;flex-direction:column}.cmt .openLayers div.ol-viewport{display:flex;flex:1 0 auto;flex-direction:column}.cmt .viewer{padding:0;border:0;background-color:#666;display:flex}.cmt .viewer canvas{display:flex}.cmt .viewer .ol-attribution,.cmt .viewer .ol-scale-line,.cmt .viewer .ol-zoom,.cmt .viewer .ol-zoomslider{border-radius:0}.cmt .viewer .ol-scale-line{background:rgba(0,0,0,.3)}.cmt .viewer .ol-scale-line.contracted{margin-left:10px;left:46px}.cmt .viewer .ol-layer-name{top:.5em;left:0;right:0;height:21px;width:190px;margin:0 auto;border-radius:0;padding:0 .5em;line-height:21px;text-shadow:none;text-align:center;font-size:10px;color:#fff;background-color:rgba(0,0,0,.3)}.cmt .viewer .ol-zoom,.cmt .viewer .ol-zoom:hover{background:rgba(0,0,0,.3)}.cmt .viewer .ol-zoom button,.cmt .viewer .ol-zoomslider button{border-radius:50%;box-shadow:0 0 5px rgba(0,0,0,.5);background:#fff;color:#98c23c}.cmt .viewer .ol-zoom button:active,.cmt .viewer .ol-zoom button:hover,.cmt .viewer .ol-zoomslider button:active,.cmt .viewer .ol-zoomslider button:hover{background:#98c23c;color:#fff}.cmt .viewer .ol-zoom button.ol-zoom-in,.cmt .viewer .ol-zoom button.ol-zoom-out{width:16px;height:16px;padding-left:1px}.cmt .viewer .ol-zoomslider{top:29px;left:11px}.cmt .viewer .ol-zoomslider button.ol-zoomslider-thumb{width:10px;height:10px}.cmt .viewer .ol-zoom .ol-zoom-in.ol-has-tooltip:focus [role=tooltip],.cmt .viewer .ol-zoom .ol-zoom-in.ol-has-tooltip:hover [role=tooltip]{top:3px}.cmt .viewer .ol-zoom .ol-zoom-out{margin-top:204px}.cmt .viewer .ol-zoom .ol-zoom-out.ol-has-tooltip:focus [role=tooltip],.cmt .viewer .ol-zoom .ol-zoom-out.ol-has-tooltip:hover [role=tooltip]{top:232px}.cmt .viewer .baselayerpanel{background:#98c23c}.cmt .viewer .baselayerpanel .panel-body{margin-left:25%;background:#fff}.cmt .address-bar{position:absolute;bottom:8px;left:0;right:0;margin:auto;width:30%;background-color:#006bbd;padding:2px;border-radius:5px;pointer-events:none}.cmt .inner-address-bar{padding:3px;border:1px solid #fff;border-radius:3px}.cmt .address-bar p{color:#fff;text-align:center;font-size:15px;font-family:Lato,Helvetica Neue,Helvetica,Arial,sans-serif;height:auto;margin:0}.cmt .ol-attribution img{width:auto;height:auto;-webkit-transition:.15s;-o-transition:.15s;transition:.15s}.cmt .ol-attribution.ol-uncollapsible img:hover,.cmt .ol-attribution img:hover{max-height:3em;-webkit-transition:.15s;-o-transition:.15s;transition:.15s}.cmt .ol-attribution.ol-uncollapsible{bottom:8px;right:8px;height:21px;line-height:16px;padding:0;background-color:rgba(0,0,0,.3)}.cmt .ol-attribution.ol-uncollapsible a,.cmt .ol-attribution.ol-uncollapsible ul{color:#fff;font-size:10px;text-shadow:none;margin:0 10px}.cmt .slider.slider-horizontal{margin-top:16px}.cmt .slider.slider-horizontal .slider-handle,.cmt .slider.slider-horizontal .slider-selection,.cmt .slider.slider-horizontal .slider-tick,.cmt .slider.slider-horizontal .slider-track{background-image:none}.cmt .slider.slider-horizontal .slider-selection{background-color:#98c23c}.cmt .slider.slider-horizontal .slider-track{height:2px;margin-top:-1px;background-color:#f2f2f2}.cmt .slider.slider-horizontal .slider-tick{width:8px;height:8px;margin-left:-4px;margin-top:6px;background-color:#bcbdbc}.cmt .slider.slider-horizontal .slider-tick.in-selection{width:10px;height:10px;margin-left:-5px;margin-top:5px;background-color:#005293}.cmt .slider.slider-horizontal .slider-handle{width:16px;height:16px;margin-left:-8px;margin-top:2px;background-color:#005293}.cmt .compass-overlay{height:0;position:absolute;right:20px;bottom:185px}.cmt .compass-overlay img{width:150px;height:150px}.cmt .layerpanel .form-group{margin-bottom:2px}.cmt .layerpanel .checkbox,.cmt .layerpanel .radio{margin-top:0;margin-bottom:0}.cmt .cmtMeasureTooltip{position:relative;background:rgba(0,0,0,.5);border-radius:4px;color:#fff;padding:4px 8px;opacity:.7;white-space:nowrap;pointer-events:none}.cmt .cmtMeasureTooltipMeasuring{opacity:1;font-weight:700}.cmt .cmtMeasureTooltipStatic{background-color:#ec7a08;border:1px solid #fff}.cmt .cmtMeasureTooltipMeasuring:before,.cmt .cmtMeasureTooltipStatic:before{border-top:6px solid rgba(0,0,0,.5);border-right:6px solid transparent;border-left:6px solid transparent;content:"";position:absolute;bottom:-6px;margin-left:-7px;left:50%}.cmt .cmtMeasureTooltipStatic:before{border-top-color:#ec7a08}.cmt .map-relative-position{position:relative}.cmt .map-relative-position.oblique-pin{cursor:url('+n(1431)+'),auto}.cmt .measurement-floating-panel{position:absolute;bottom:16px;right:8px;width:300px;max-height:calc(100vh - 236px);overflow:auto}.cmt .measurement-floating-panel *{color:#005293}.cmt .measurement-floating-panel .btn-default.active.focus,.cmt .measurement-floating-panel .btn-default.active:focus,.cmt .measurement-floating-panel .btn-default.active:hover,.cmt .measurement-floating-panel .btn-default:active.focus,.cmt .measurement-floating-panel .btn-default:active:focus,.cmt .measurement-floating-panel .btn-default:active:hover,.cmt .measurement-floating-panel .open>.dropdown-toggle.btn-default.focus,.cmt .measurement-floating-panel .open>.dropdown-toggle.btn-default:focus,.cmt .measurement-floating-panel .open>.dropdown-toggle.btn-default:hover{background-color:#fff;border:0}.cmt .measurement-floating-panel button,.cmt .measurement-floating-panel button *{user-select:none}.cmt .measurement-floating-panel .btn-default{margin:0;padding:0;border:0;border-radius:0;background-color:transparent;color:#005293}.cmt .measurement-floating-panel .btn-default:hover{background-color:transparent}.cmt .measurement-floating-panel .btn-group{margin-right:0}.cmt .measurement-floating-panel .panel-heading{padding:17px 15px}.cmt .measurement-floating-panel .panel-heading .panel-title{display:flex;align-items:center}.cmt .measurement-floating-panel .glyphicon:focus,.cmt .measurement-floating-panel button:focus,.cmt .measurement-floating-panel button:focus:active{outline:none}.cmt .measurement-floating-panel-body{min-height:211px;height:100%;overflow:visible}.cmt .measurement-floating-panel-body .panel-group{margin:0}.cmt .measurement-floating-panel-header,.cmt .measurement-floating-panel-header *{background:none;border:none;padding:0;margin:0;color:#005293;display:flex}.cmt .measurement-floating-panel-header{font-weight:700}.cmt .measurement-floating-panel-header .glyphicon{font-size:24px;margin-left:5px}.cmt .measurement-floating-panel-controls{margin-left:auto}.cmt .measurement-floating-panel-controls .glyphicon{width:24px;font-size:24px}.cmt .measurement-point-panel{color:#005293;margin:5px 0}.cmt .measurement-point-panel:first-child{margin-top:10px}.cmt .measurement-point-panel .panel-heading{border-bottom:0;padding:0;height:28px}.cmt .measurement-point-panel .panel-heading .panel-title>a{display:flex;padding:0;height:28px}.cmt .measurement-point-panel .panel-heading .panel-title>a.collapsed:after,.cmt .measurement-point-panel .panel-heading .panel-title>a:after{content:none}.cmt .measurement-point-panel .panel-group .panel+.panel{margin-top:0}.cmt .measurement-point-panel .panel-body{padding:0;border:1px solid #005293}.cmt .measurement-point-panel .point-problems{width:100%;background-color:#f2f2f2;margin-bottom:3px;font-weight:700;padding:3px 6px}.cmt .measurement-point-panel .point-problems p{margin:0}.cmt .measurement-point-panel .panel-heading+.panel-collapse>.panel-body{border-top-color:#005293}.cmt .measurement-point-panel-header .glyphicon{width:auto}.cmt .measurement-point-observations{position:relative;justify-content:center;align-items:center;text-align:center;padding:3px}.cmt .measurement-point-observations .observation-image{width:100%;height:auto}.cmt .measurement-point-observations .observation-image.glyphicon{font-size:68px}.cmt .measurement-point-observations .relative{position:relative;margin:2px}.cmt .measurement-point-observations .observation-image-crosshair{position:absolute;top:0;left:0;content:"";height:100%;width:50%;border-right:1px solid #ec7a08}.cmt .measurement-point-observations .observation-image-crosshair:after{position:absolute;content:"";height:50%;width:200%;left:1px;border-bottom:1px solid #ec7a08}.cmt .measurement-point-number,.cmt .measurement-selected-point{width:22px;text-align:center}.cmt .measurement-point-name{font-size:smaller;display:flex;flex-direction:row;justify-content:flex-start;align-items:center;flex:1 0 50%}.cmt .measurement-point-name .glyphicon{margin-left:5px;font-size:small}.cmt .measurement-point-actions{display:flex;justify-content:space-between;align-items:center}.cmt .measurement-point-actions button,.cmt .measurement-point-actions span{font-size:18px;line-height:normal}.cmt .measurement-panel-error-message{width:100%;background-color:#cdcdcd;font-weight:700;padding:10px;border-radius:5px}.cmt .measurement-panel-error-message p{margin:0}.cmt .measurement-list{position:absolute;top:60px;right:-320px;min-width:300px;height:calc(100vh - 215px);padding:10px 15px;background:#fff;-webkit-transition:.15s;-o-transition:.15s;transition:.15s;overflow:hidden;z-index:1}.cmt .measurement-list .glyphicon{cursor:pointer}.cmt .measurement-list__item{border-bottom:1px solid #bcbdbc}.cmt .measurement-list__item:hover{background-color:rgba(0,0,0,.05)}.cmt .measurement-list__item:last-child{border-bottom:0}.cmt .measurement-list__item__container{display:inline-flex;margin:0 15px;padding:15px 0}.cmt .measurement-list__item__title{width:200px;word-break:break-all}.cmt .measurement-list__item__date{font-size:12px;background-color:#cdcdcd;border-radius:8px;padding:1px 5px;margin:4px 0 0;color:#fff;width:80px;text-align:center}.cmt .measurement-list__item__actions{width:70px;text-align:right}.cmt .measurement-list--show{right:12px}.cmt .measurement-list__items{height:calc(100% - 35px);margin:0 -15px;border-top:1px solid #bcbdbc;overflow:auto}.cmt .measurement-select-modal.modal{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)!important;width:665px;height:244px;margin:0;padding:0}.cmt .measurement-select-modal.modal .btn-default{border-radius:50%}.cmt .measurement-select-modal .modal-body{bottom:0;display:flex}.cmt .measurement-select-modal .modal-body>span{line-height:124px;font-size:large;font-weight:700}.cmt .measurement-select-modal .modal-content{border:0}.cmt .measurement-select-modal .btn-toolbar{margin-left:0;display:flex;flex-grow:1;flex-direction:row;justify-content:space-between}.cmt .measurement-select-modal .btn-toolbar>div{margin-left:5px;display:flex;flex-direction:column}.cmt .measurement-select-modal .btn-toolbar>div .btn{margin-bottom:0;width:128px;height:128px;font-size:48px}.cmt .measurement-select-modal .btn-toolbar>div .btn .glyphicon{vertical-align:text-bottom;width:1em}.cmt .measurement-select-modal .btn-toolbar>div>button.btn{margin-right:0}.cmt .measurement-select-modal .btn-toolbar>div>span{text-align:center;margin-top:5px}.cmt .modal,.cmt .modal-backdrop{position:absolute}.cmt .modal{color:#005293;position:fixed;top:0;right:0;bottom:0;left:0;overflow:hidden}.cmt .modal-dialog{text-align:left;margin:0;width:100%;height:100%;padding:0}.cmt .modal-header{background-color:#98c23c;color:#fff;position:absolute;top:0;right:0;left:0;height:50px;padding:10px;border:0}.cmt .modal-title{line-height:30px;margin-left:10px;color:#fff}.cmt .modal-title span{margin-right:15px}.cmt .modal-footer{background-color:#333;position:absolute;right:0;bottom:0;left:0;height:auto;padding:10px 20px}.cmt .modal-footer .btn,.cmt .modal-footer .btn+.btn{margin-bottom:0}.cmt .modal-footer .btn:last-child{margin-right:0}.cmt .modal-body{background-color:#fff;position:absolute;top:50px;bottom:60px;width:100%;overflow:auto}.cmt .modal-body .dropdown-menu{box-shadow:none;border:none;padding:0;margin-top:-5px}.cmt .modal-body .dropdown-menu a{padding:10px 20px}.cmt .modal-body .dropdown-menu:after{bottom:100%;right:13px;border:solid transparent;content:" ";height:0;width:0;position:absolute;pointer-events:none;border-color:rgba(136,183,213,0);border-bottom-color:#f2f2f2;border-width:5px;margin-left:-5px}.cmt .modal-content{position:absolute;top:0;right:0;bottom:0;left:0;border-radius:0;box-shadow:none}.cmt .modal .btn-default{color:#fff;background-color:#98c23c;border:1px solid #98c23c}.cmt .modal button.close{color:#fff;margin-top:0;height:100%;width:40px;display:block;background-color:transparent;border:0}.cmt .modal .form-control,.cmt .modal input{border-color:#bcbdbc;color:#005293;border-radius:0}.cmt .modal .form-control:focus{border-color:#98c23c}.cmt .dropdown-menu>li>a{color:#005293}.cmt .dialog-modal{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)!important;width:30%;height:200px;min-width:275px;margin:0;padding:0}.cmt .navbar-default{background-color:#98c23c;border-radius:0;border-bottom:none}.header.cmt .navbar-default{padding-top:3px}.cmt .navbar-default .navbar-brand:focus,.cmt .navbar-default .navbar-brand:hover{color:#98c23c}.cmt .navbar-default .navbar-nav>.active>a,.cmt .navbar-default .navbar-nav>.open>a{border-bottom:3px solid transparent}.cmt .navbar-default .navbar-nav>.active>a,.cmt .navbar-default .navbar-nav>.active>a:focus,.cmt .navbar-default .navbar-nav>.active>a:hover,.cmt .navbar-default .navbar-nav>.open>a,.cmt .navbar-default .navbar-nav>.open>a:focus,.cmt .navbar-default .navbar-nav>.open>a:hover{background-color:#ec7a08;color:#fff;border-bottom-color:#5d741a}.cmt .navbar-default .navbar-nav>li>a{border-bottom:3px solid transparent}.cmt .navbar-default .navbar-nav>li>a:focus,.cmt .navbar-default .navbar-nav>li>a:hover{border-bottom-color:#5d741a;color:#fff}.cmt .navbar-default .navbar-nav .main-navbar>li>a{border-bottom:3px solid transparent}.cmt .navbar-default .navbar-nav .open .dropdown-menu>li>a:focus,.cmt .navbar-default .navbar-nav .open .dropdown-menu>li>a:hover{color:#ec7a08;background-color:#bcbdbc}.cmt .navbar-default .navbar-nav .open .dropdown-menu>.active>a,.cmt .navbar-default .navbar-nav .open .dropdown-menu>.active>a:focus,.cmt .navbar-default .navbar-nav .open .dropdown-menu>.active>a:hover{color:#fff;background-color:#ec7a08}.cmt .nav.nav-center{margin:0;float:none}.cmt .navbar-inner{text-align:center}.cmt .navbar-brand{padding:14px 15px 7px;height:46px}.cmt .clickable-brand.navbar-brand{cursor:pointer;border-bottom:3px solid transparent}.cmt .clickable-brand.navbar-brand:hover{border-bottom-color:#5d741a}.cmt .main-navbar{height:60px}.cmt .main-navbar .container-fluid>.navbar-collapse,.cmt .main-navbar .container-fluid>.navbar-header,.cmt .main-navbar .container>.navbar-collapse,.cmt .main-navbar .container>.navbar-header{margin-left:0;margin-right:0;background-color:#98c23c}.cmt .main-navbar .navbar-header .navbar-brand{position:relative;height:60px}.cmt .main-navbar .navbar-header .navbar-brand .cmt-logo-large,.cmt .main-navbar .navbar-header .navbar-brand .cmt-logo-small{position:absolute;-webkit-transition:.15s;-o-transition:.15s;transition:.15s}.cmt .main-navbar .navbar-header .navbar-brand .cmt-logo-large{width:168px;top:16px;left:16px}@media (max-width:875px){.cmt .main-navbar .navbar-header .navbar-brand{width:60px}.cmt .main-navbar .navbar-header .navbar-brand .cmt-logo-small{opacity:1;left:15px;top:11px;height:36px}.cmt .main-navbar .navbar-header .navbar-brand .cmt-logo-large{opacity:0}}@media (min-width:876px){.cmt .main-navbar .navbar-header .navbar-brand{width:200px}.cmt .main-navbar .navbar-header .navbar-brand .cmt-logo-small{opacity:0;left:16px;top:16px;height:21px}.cmt .main-navbar .navbar-header .navbar-brand .cmt-logo-large{opacity:1}}@media (max-width:875px){.cmt .main-navbar .search-button{display:none}.cmt .main-navbar #cmtUserMenu{text-align:right}.cmt .main-navbar #cmtUserMenu .user-name{display:none}}.cmt .main-navbar.navbar-default .navbar-left.navbar-form{padding-left:5px}.cmt .main-navbar.navbar-default .glyphicon{font-size:24px}.cmt .main-navbar.navbar-default .navbar-nav{float:left;margin:0}.cmt .main-navbar.navbar-default .navbar-nav>li{float:left}.cmt .main-navbar.navbar-default .navbar-nav>li>a .glyphicon{top:-2px;vertical-align:middle}.cmt .main-navbar.navbar-default .navbar-nav>.open>a,.cmt .main-navbar.navbar-default .navbar-nav>.open>a:focus,.cmt .main-navbar.navbar-default .navbar-nav>.open>a:hover{background:none;color:#fff}.cmt .main-navbar.navbar-default .navbar-nav .open .dropdown-menu .divider{margin:0}@media (max-width:767px){.cmt .main-navbar.navbar-default .navbar-nav .open .dropdown-menu>li>a{color:#005293;background-color:#fff}}.cmt .main-navbar.navbar-default .navbar-nav .open .dropdown-menu>li>a .glyphicon{line-height:1}.cmt .main-navbar.navbar-default .navbar-nav .open .dropdown-menu>li>a:focus,.cmt .main-navbar.navbar-default .navbar-nav .open .dropdown-menu>li>a:hover{color:#fff;background-color:#005293}.cmt .main-navbar.navbar-default .navbar-form{width:auto;border:0;margin-left:0;margin-right:0;padding-top:0;padding-bottom:0;-webkit-box-shadow:none;box-shadow:none}.cmt .main-navbar.navbar-default .navbar-left{float:left}.cmt .main-navbar.navbar-default .navbar-right{float:right}.cmt .main-navbar.navbar-default .navbar-right .dropdown .glyphicon{margin-right:16px}.cmt .main-navbar.navbar-default .navbar-right .dropdown-menu{position:relative;float:right;width:auto;border:0;box-shadow:none;border:none;padding:0;margin-top:-5px}.cmt .main-navbar.navbar-default .navbar-right .dropdown-menu .glyphicon{top:3px}.cmt .main-navbar.navbar-default .navbar-right .dropdown-menu a{padding:5px 20px 9px}.cmt .main-navbar.navbar-default .navbar-right .dropdown-menu:after{bottom:100%;right:13px;border:solid transparent;content:" ";height:0;width:0;position:absolute;pointer-events:none;border-color:rgba(136,183,213,0);border-bottom-color:#f2f2f2;border-width:5px;margin-left:-5px}.cmt .main-navbar.navbar-default .navbar-right .dropdown-menu.divider{margin:0}.cmt .main-navbar.navbar-default .navbar-right .dropdown-menu a{color:#005293}.cmt .main-navbar .navbar-nav>li>a{padding:0;line-height:60px;height:60px;width:60px;display:block;text-align:center}.cmt .main-navbar .navbar-nav>li>a .modal-open{line-height:20px}.cmt .main-navbar .navbar-nav>li.dropdown>a{padding:0 15px;line-height:60px;height:60px;width:auto;display:block;text-align:center}.cmt .main-navbar .container{padding:0;margin:0;width:100%}.cmt .main-navbar.navbar>.container .navbar-brand{margin-left:0}.cmt .navbar-collapse{overflow:hidden}.cmt .navbar-default .navbar-toggle:focus,.cmt .navbar-default .navbar-toggle:hover{background-color:#333}.cmt .cmt-navbar .navbar-left .glyphicon,.cmt .cmt-navbar .navbar-menu .glyphicon,.cmt .cmt-navbar .navbar-right .glyphicon{font-size:24px;line-height:46px}.cmt .cmt-navbar .switchbutton .btn-default{background-color:#fff;border:none;padding:0 5px}.cmt .nav-tabs>li.active a,.cmt .nav-tabs>li.active a:focus{color:#ec7a08;background-color:#fff;border:1px solid #bcbdbc}.cmt .nav-tabs>li.active a:hover{color:#ec7a08}.cmt .nav-tabs>li a,.cmt .nav-tabs>li a:hover{color:#005293}.cmt span.twitter-typeahead input.form-control{border:none;position:absolute;top:0;left:0;box-shadow:none;opacity:1;color:#005293;padding:0 80px 0 10px}.cmt span.twitter-typeahead input.form-control.tt-hint{color:rgba(0,82,147,.5);background:hsla(0,0%,100%,.8)!important}.cmt span.twitter-typeahead .tt-menu{box-shadow:none;border-radius:0;width:100%;padding:0;border:none}.cmt span.twitter-typeahead .tt-menu .typeahead-header{padding:15px 20px;margin:0;background-color:#f2f2f2;color:#005293;font-size:16px}.cmt span.twitter-typeahead .tt-menu .typeahead-header img{width:20px;height:20px;margin-right:10px;margin-top:-3px}.cmt span.twitter-typeahead .tt-menu .tt-suggestion{padding:10px 20px}.cmt span.twitter-typeahead .tt-menu .tt-suggestion.tt-cursor{cursor:pointer}.cmt span.twitter-typeahead .tt-menu .tt-suggestion:hover{background-color:#005293}.cmt span.twitter-typeahead .tt-menu .tt-suggestion p{margin:0}.cmt span.twitter-typeahead .tt-menu:after{bottom:100%;left:20px;border:solid transparent;content:" ";height:0;width:0;position:absolute;pointer-events:none;border-color:rgba(136,183,213,0);border-bottom-color:#f2f2f2;border-width:5px;margin-left:-5px}.cmt .cmt-navbar .btn-group .btn+.btn,.cmt .cmt-navbar .btn-group .btn+.btn-group,.cmt .cmt-navbar .btn-group .btn-group+.btn,.cmt .cmt-navbar .btn-group .btn-group+.btn-group{margin-left:0!important}.cmt .cmt-navbar.navbar,.cmt .cmt-navbar .navbar{min-height:46px;margin:0}.cmt .cmt-navbar.navbar .navbar-nav>li>a,.cmt .cmt-navbar .navbar .navbar-nav>li>a{height:46px;width:46px;text-align:center;padding:0;line-height:46px}.cmt .cmt-navbar.navbar.navbar-default,.cmt .cmt-navbar .navbar.navbar-default{background-color:#fff;border-radius:0;border:none;min-height:46px}.cmt .cmt-navbar.navbar.navbar-default .btn-group,.cmt .cmt-navbar .navbar.navbar-default .btn-group{margin-top:0;margin-bottom:0}.cmt .cmt-navbar.navbar.navbar-default .btn-group>.open>.dropdown-toggle,.cmt .cmt-navbar .navbar.navbar-default .btn-group>.open>.dropdown-toggle,.cmt .cmt-navbar.navbar.navbar-default .btn-group>.open>.dropdown-toggle:focus,.cmt .cmt-navbar .navbar.navbar-default .btn-group>.open>.dropdown-toggle:focus,.cmt .cmt-navbar.navbar.navbar-default .btn-group>.open>.dropdown-toggle:hover,.cmt .cmt-navbar .navbar.navbar-default .btn-group>.open>.dropdown-toggle:hover,.cmt .cmt-navbar.navbar.navbar-default .btn-group>.open>a,.cmt .cmt-navbar .navbar.navbar-default .btn-group>.open>a,.cmt .cmt-navbar.navbar.navbar-default .btn-group>.open>a:focus,.cmt .cmt-navbar .navbar.navbar-default .btn-group>.open>a:focus,.cmt .cmt-navbar.navbar.navbar-default .btn-group>.open>a:hover,.cmt .cmt-navbar .navbar.navbar-default .btn-group>.open>a:hover{background-color:#98c23c;color:#fff;border:none}.cmt .cmt-navbar.navbar.navbar-default .btn-group>.open>.dropdown-toggle:disabled,.cmt .cmt-navbar .navbar.navbar-default .btn-group>.open>.dropdown-toggle:disabled,.cmt .cmt-navbar.navbar.navbar-default .btn-group>.open>.dropdown-toggle:focus:disabled,.cmt .cmt-navbar .navbar.navbar-default .btn-group>.open>.dropdown-toggle:focus:disabled,.cmt .cmt-navbar.navbar.navbar-default .btn-group>.open>.dropdown-toggle:hover:disabled,.cmt .cmt-navbar .navbar.navbar-default .btn-group>.open>.dropdown-toggle:hover:disabled,.cmt .cmt-navbar.navbar.navbar-default .btn-group>.open>a:disabled,.cmt .cmt-navbar .navbar.navbar-default .btn-group>.open>a:disabled,.cmt .cmt-navbar.navbar.navbar-default .btn-group>.open>a:focus:disabled,.cmt .cmt-navbar .navbar.navbar-default .btn-group>.open>a:focus:disabled,.cmt .cmt-navbar.navbar.navbar-default .btn-group>.open>a:hover:disabled,.cmt .cmt-navbar .navbar.navbar-default .btn-group>.open>a:hover:disabled{background-color:#bcbdbc}.cmt .cmt-navbar.navbar.navbar-default .btn-group>.active>a,.cmt .cmt-navbar .navbar.navbar-default .btn-group>.active>a,.cmt .cmt-navbar.navbar.navbar-default .btn-group>.active>a:focus,.cmt .cmt-navbar .navbar.navbar-default .btn-group>.active>a:focus,.cmt .cmt-navbar.navbar.navbar-default .btn-group>.active>a:hover,.cmt .cmt-navbar .navbar.navbar-default .btn-group>.active>a:hover{color:#fff}.cmt .cmt-navbar.navbar.navbar-default .btn-group button:focus,.cmt .cmt-navbar .navbar.navbar-default .btn-group button:focus,.cmt .cmt-navbar.navbar.navbar-default .btn-group button:hover,.cmt .cmt-navbar .navbar.navbar-default .btn-group button:hover,.cmt .cmt-navbar.navbar.navbar-default .btn-group li a:focus,.cmt .cmt-navbar .navbar.navbar-default .btn-group li a:focus,.cmt .cmt-navbar.navbar.navbar-default .btn-group li a:hover,.cmt .cmt-navbar .navbar.navbar-default .btn-group li a:hover{background-color:#98c23c;color:#fff;border:none}.cmt .cmt-navbar.navbar.navbar-default .btn-group button:focus:disabled,.cmt .cmt-navbar .navbar.navbar-default .btn-group button:focus:disabled,.cmt .cmt-navbar.navbar.navbar-default .btn-group button:hover:disabled,.cmt .cmt-navbar .navbar.navbar-default .btn-group button:hover:disabled,.cmt .cmt-navbar.navbar.navbar-default .btn-group li a:focus:disabled,.cmt .cmt-navbar .navbar.navbar-default .btn-group li a:focus:disabled,.cmt .cmt-navbar.navbar.navbar-default .btn-group li a:hover:disabled,.cmt .cmt-navbar .navbar.navbar-default .btn-group li a:hover:disabled{background-color:#bcbdbc}.cmt .cmt-navbar.navbar.navbar-default .btn-group .open .dropdown-menu li a:focus,.cmt .cmt-navbar .navbar.navbar-default .btn-group .open .dropdown-menu li a:focus,.cmt .cmt-navbar.navbar.navbar-default .btn-group .open .dropdown-menu li a:hover,.cmt .cmt-navbar .navbar.navbar-default .btn-group .open .dropdown-menu li a:hover{color:#ec7a08;background-color:#bcbdbc}.cmt .cmt-navbar.navbar.navbar-default .btn-group .open .dropdown-menu .active a,.cmt .cmt-navbar .navbar.navbar-default .btn-group .open .dropdown-menu .active a,.cmt .cmt-navbar.navbar.navbar-default .btn-group .open .dropdown-menu .active a:focus,.cmt .cmt-navbar .navbar.navbar-default .btn-group .open .dropdown-menu .active a:focus,.cmt .cmt-navbar.navbar.navbar-default .btn-group .open .dropdown-menu .active a:hover,.cmt .cmt-navbar .navbar.navbar-default .btn-group .open .dropdown-menu .active a:hover{color:#98c23c;background-color:#ec7a08}.cmt .cmt-navbar.navbar.navbar-default .btn-group .well-lg,.cmt .cmt-navbar .navbar.navbar-default .btn-group .well-lg{padding:0}.cmt .cmt-navbar .navbar-nav.navbar-left.cmt-exp-navbar-left{margin-left:0}.cmt .nav-pills.nav-stacked li:focus,.cmt .nav-pills.nav-stacked li a:focus{outline:0}.cmt .nav-pills.nav-stacked .active{background:linear-gradient(90deg,hsla(0,0%,100%,.2) 8px,transparent 0)}.cmt .dropdown-menu{border-radius:0}.cmt .cmt-navbar .navbar-nav .dropdown-menu,.cmt .navbar-fixed-bottom .dropdown-menu{margin-bottom:0}.cmt .cmt-navbar{padding:0;border:0;background-color:#666}.cmt .cmt-navbar .btn-group button{height:46px;width:46px;text-align:center;padding:0;line-height:46px;background-color:transparent;border:0}.cmt .cmt-navbar .btn-group .btn-group{margin-right:0}.cmt .cmt-navbar button.btn{margin-bottom:0}.cmt .cmt-navbar button.btn:active,.cmt .cmt-navbar button.btn:focus,.cmt .cmt-navbar button.btn:hover{outline:0}.cmt .cmt-navbar .nav.navbar-nav.btn-toolbar{margin-left:-15px}.cmt .cmt-navbar .nav .dropup.open{position:static}.cmt .cmt-navbar .nav .dropup.open .dropdown-menu{display:table;width:100%;left:0;right:0;border:none;border:0;box-shadow:none;padding:0}.cmt .cmt-navbar .nav .dropup.open .dropdown-menu .nav-pills{background-color:#98c23c;padding-bottom:10px}.cmt .cmt-navbar .nav .dropup.open .nav-stacked>li{float:none;width:100%}.cmt .cmt-navbar .nav .dropup.open .nav-stacked>li a{color:#fff;width:100%;padding-left:15px;background:none;text-align:left;border:none;text-transform:uppercase;font-size:14px;font-weight:700}.cmt .cmt-navbar .nav .dropup.open .nav-stacked>li a:active,.cmt .cmt-navbar .nav .dropup.open .nav-stacked>li a:focus,.cmt .cmt-navbar .nav .dropup.open .nav-stacked>li a:hover{border:none;background:none;margin-bottom:0}.cmt .cmt-navbar .nav .dropup.open .nav-stacked>li a:hover{text-decoration:underline}.cmt .cmt-navbar.navbar-default .navbar-nav>.active>a,.cmt .cmt-navbar.navbar-default .navbar-nav>.active>a:focus,.cmt .cmt-navbar.navbar-default .navbar-nav>.active>a:hover,.cmt .navbar{margin-bottom:0}.cmt .expandable-navbar{display:flex}.cmt .expandable-navbar.contracted{width:46px;pointer-events:none}.cmt .expandable-navbar.contracted .glyphicon,.cmt .expandable-navbar.contracted.navbar.navbar-default{pointer-events:all;background:transparent;color:#fff}.cmt .expandable-navbar .navbar-menu{flex:0 0 46px}.cmt .expandable-navbar .navbar-left{flex:0 0 148px}.cmt .expandable-navbar .navbar-left .btn-group{display:flex;justify-content:flex-start;flex-wrap:wrap}.cmt .expandable-navbar .navbar-right{flex:1 0 46px;margin-right:0}.cmt .expandable-navbar .navbar-right .btn-group{width:100%;display:flex;justify-content:flex-end;flex-wrap:wrap}.cmt .viewer-navbar-contracted{position:absolute;bottom:0}.cmt .viewer-navbar-expanded{width:100%;flex-grow:0;flex-shrink:0;flex-basis:0}.cmt .baselayerpanel,.cmt .layerpanel{overflow:auto}.cmt .cmtImageInformationPanel{position:absolute;bottom:0;right:20px}.cmt .measurement-navbar .navbar{margin-bottom:5px}.cmt .measurement-navbar .navbar-left>*{margin-left:8px}.cmt .measurement-navbar .navbar-nav.navbar-left{margin-left:0}.cmt .window-manager-container{height:100%;width:100%;padding:4px}.cmt .window-manager-container .window{margin:4px}.cmt .window{display:flex;flex-wrap:wrap;flex-grow:1;flex-shrink:0;flex-basis:0;padding:0;border:0;background-color:#666;position:relative}.cmt .window .nadircontrols,.cmt .window .obliquecontrols,.cmt .window .windowcontrols{position:absolute;display:flex;flex-direction:column}.cmt .window .nadircontrols .btn,.cmt .window .obliquecontrols .btn,.cmt .window .windowcontrols .btn{width:28px;height:28px;background:none;border:none;padding:0;margin-left:10px;margin-bottom:0;text-shadow:0 0 5px rgba(0,0,0,.5);color:#fff}.cmt .window .nadircontrols .btn:active,.cmt .window .nadircontrols .btn:focus,.cmt .window .nadircontrols .btn:hover,.cmt .window .obliquecontrols .btn:active,.cmt .window .obliquecontrols .btn:focus,.cmt .window .obliquecontrols .btn:hover,.cmt .window .windowcontrols .btn:active,.cmt .window .windowcontrols .btn:focus,.cmt .window .windowcontrols .btn:hover{color:#98c23c}.cmt .window .nadircontrols .glyphicon,.cmt .window .obliquecontrols .glyphicon,.cmt .window .windowcontrols .glyphicon{font-size:24px}.cmt .window .windowcontrols{top:9px;right:9px}.cmt .window .obliquecontrols{width:100%;height:100%;top:0;left:0;pointer-events:none}.cmt .window .obliquecontrols .btn{pointer-events:auto;position:absolute;width:28px;height:28px}.cmt .window .obliquecontrols .btn-top{top:9px;left:0;right:0;margin:0 auto}.cmt .window .obliquecontrols .btn-top .glyphicon:before{display:inline-block;transform:rotate(90deg)}.cmt .window .obliquecontrols .btn-left{left:9px;top:0;bottom:0;margin:auto 0}.cmt .window .obliquecontrols .btn-right{right:9px;top:0;bottom:0;margin:auto 0}.cmt .window .obliquecontrols .btn-right .glyphicon:before{display:inline-block;transform:rotate(180deg)}.cmt .window .nadircontrols{bottom:9px;left:0;right:0;margin:0 auto}.cmt .window .nadircontrols button.switch-button{height:26px;width:60px;background-color:rgba(0,0,0,.5)}.cmt .window .recordingTimestamp{position:absolute;top:15px;left:15px;text-shadow:0 0 5px rgba(0,0,0,.5);color:#fff}.cmt .window .recordingTimestamp .timetravelToggle{-webkit-transition:.15s;-o-transition:.15s;transition:.15s;color:#fff}.cmt .window .recordingTimestamp .timetravelToggle:active,.cmt .window .recordingTimestamp .timetravelToggle:focus,.cmt .window .recordingTimestamp .timetravelToggle:hover{color:#98c23c}.cmt .window .recordingTimestamp .value{margin-left:9px}.cmt .window .timetravel{position:absolute;top:55px;left:8px}.cmt .window .timetravel .popover{margin-left:32px;border-radius:0;box-shadow:0 0 5px rgba(0,0,0,.5);border:none;z-index:auto}.cmt .window .timetravel .popover-content{padding:0;cursor:pointer}.cmt .window .timetravel .popover-content>*{position:absolute}.cmt .window .timetravel .popover-content .travelDate{text-align:center;background-color:hsla(0,0%,95%,.5);height:30px;line-height:30px;width:100%;display:block;pointer-events:none}.cmt .window .timetravel .default-thumbnail,.cmt .window .timetravel .oblique img,.cmt .window .timetravel .panorama{position:absolute}.cmt .window .timetravel .default-thumbnail{height:160px;width:160px}.cmt .window .timetravel .panorama{height:160px}.cmt .window .timetravel .oblique{overflow:hidden;width:160px;height:160px}.cmt .window .timetravel .slider.slider-vertical{width:28px;padding-left:14px}.cmt .window .timetravel .slider.slider-vertical .slider-handle,.cmt .window .timetravel .slider.slider-vertical .slider-selection,.cmt .window .timetravel .slider.slider-vertical .slider-tick,.cmt .window .timetravel .slider.slider-vertical .slider-track{background-image:none}.cmt .window .timetravel .slider.slider-vertical .slider-selection{background-color:#fff}.cmt .window .timetravel .slider.slider-vertical .slider-track{width:2px;left:14px;margin-left:-1px;background-color:#fff;box-shadow:0 0 5px rgba(0,0,0,.5)}.cmt .window .timetravel .slider.slider-vertical .slider-tick{width:8px;height:8px;margin-top:-4px;margin-left:-4px;background-color:#fff;box-shadow:0 0 5px rgba(0,0,0,.5);opacity:1}.cmt .window .timetravel .slider.slider-vertical .slider-tick.in-selection{background-color:#fff}.cmt .window .timetravel .slider.slider-vertical .slider-handle{width:12px;height:12px;margin-top:-6px;margin-left:-6px;background-color:#fff;box-shadow:0 0 5px rgba(0,0,0,.5)}.cmt .viewer .cmtNavBarPanel{display:table;width:100%;left:0;right:0;border:none;border:0;box-shadow:none;padding:0;margin-bottom:0}.cmt .viewer .cmtNavBarPanel .panel-heading{padding:3px 0 3px 15px;background-color:#719522;font-size:12px;text-transform:uppercase;color:#fff;border-bottom:none}.cmt .viewer .cmtNavBarPanel .panel-body{padding:0}.cmt .viewer .cmtNavBarPanel .nav-pills{background-color:#98c23c;padding-bottom:10px}.cmt .viewer .cmtNavBarPanel .nav-stacked>li{float:none;width:100%}.cmt .viewer .cmtNavBarPanel .nav-stacked>li a{color:#fff;width:100%;padding-left:15px;background:none;text-align:left;border:none;text-transform:uppercase;font-size:14px;font-weight:700}.cmt .viewer .cmtNavBarPanel .nav-stacked>li a:active,.cmt .viewer .cmtNavBarPanel .nav-stacked>li a:focus,.cmt .viewer .cmtNavBarPanel .nav-stacked>li a:hover{border:none;background:none;margin-bottom:0}.cmt .viewer .cmtNavBarPanel .nav-stacked>li a:hover{text-decoration:underline}.cmt .viewer .cmtViewerPanel{position:absolute;width:100%;bottom:0;left:0;right:0}.cmt .viewer table{margin-left:15px;margin-right:15px;width:calc(100% - 30px)}.cmt .cmtViewerPanel .nav-pills.nav-stacked{width:100%}.cmt .cmtViewerPanel .wrapperproperty .control-label{padding:15px}.cmt .cmtImageInformationPanel .panel-body>.row,.cmt .cmtOverlayPanel .panel-body>.row{display:flex}.cmt .cmtImageInformationPanel .panel-body>.row>:first-child,.cmt .cmtOverlayPanel .panel-body>.row>:first-child{display:flex;flex-grow:1;background-color:#98c23c}.cmt .obliqueviewer .ob-relative-pos,.cmt .panoramaviewer .pv-relative-pos{position:relative}.cmt .panoramaviewer .panoramaview{display:flex;flex-direction:column}.cmt .panoramaviewer .panoramaview .panorama-viewer-container{height:auto!important;display:flex;flex-grow:1;flex-shrink:0;flex-basis:0}.cmt .panoramaviewer .panoramaview.crosshair{cursor:crosshair}.cmt .panoramaviewer .panoramaview.crosshair .invalidDepth>canvas,.cmt .panoramaviewer .panoramaview .invalidDepth>canvas{cursor:not-allowed}.cmt .fix-bootstrap-row{margin-left:0;margin-right:0}.cmt .fix-bootstrap-col{padding-left:0;padding-right:0}.cmt .fix-disabled-child-tooltip{display:inline-block;cursor:not-allowed}.cmt .fix-disabled-child-tooltip button[disabled]{pointer-events:none}.cmt .switchbutton{text-align:center}.cmt .switchbutton button.switch-button{height:auto;position:relative;border-radius:20px;padding:13px 30px;background:#98c23c;display:inline-block;border:none}.cmt .switchbutton button.switch-button:before{content:"";width:20px;height:20px;background:#f2f2f2;border-radius:50px;position:absolute;top:3px}.cmt .switchbutton button.switch-button:disabled,.cmt .switchbutton button.switch-button:disabled:hover{background-color:#bcbdbc}.cmt .switchbutton button.switch-button.off:before{left:3px}.cmt .switchbutton button.switch-button.on:before{right:3px}',""])},function(t,e){function n(t,e){var n=t[1]||"",i=t[3];if(!i)return n;if(e&&"function"==typeof btoa){var o=r(i);return[n].concat(i.sources.map(function(t){return"/*# sourceURL="+i.sourceRoot+t+" */"})).concat([o]).join("\n")}return[n].join("\n")}function r(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var r=n(e,t);return e[2]?"@media "+e[2]+"{"+r+"}":r}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<t.length;i++){var a=t[i];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(t,e,n){t.exports=n.p+"assets/fonts/glyphicons-halflings-regular.woff2"},function(t,e,n){t.exports=n.p+"assets/fonts/glyphicons-halflings-regular.woff"},function(t,e,n){t.exports=n.p+"assets/fonts/glyphicons-halflings-regular.ttf"},function(t,e,n){t.exports=n.p+"assets/fonts/glyphicons-halflings-regular.svg"},function(t,e,n){t.exports=n.p+"assets/fonts/nova.eot"},function(t,e,n){t.exports=n.p+"assets/fonts/nova.woff2"},function(t,e,n){t.exports=n.p+"assets/fonts/nova.woff"},function(t,e,n){t.exports=n.p+"assets/fonts/nova.ttf"},function(t,e,n){t.exports=n.p+"assets/fonts/nova.svg"},function(t,e,n){t.exports=n.p+"assets/fonts/glyphicons-halflings-regular.woff2"},function(t,e,n){t.exports=n.p+"assets/fonts/glyphicons-halflings-regular.woff"},function(t,e,n){t.exports=n.p+"assets/fonts/glyphicons-halflings-regular.ttf"},function(t,e,n){t.exports=n.p+"assets/fonts/glyphicons-halflings-regular.svg"},function(t,e,n){t.exports=n.p+"assets/img/location-pin-2.cur"},function(t,e,n){function r(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=p[r.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](r.parts[o]);for(;o<r.parts.length;o++)i.parts.push(c(r.parts[o],e))}else{for(var a=[],o=0;o<r.parts.length;o++)a.push(c(r.parts[o],e));p[r.id]={id:r.id,refs:1,parts:a}}}}function i(t){for(var e=[],n={},r=0;r<t.length;r++){var i=t[r],o=i[0],a=i[1],s=i[2],u=i[3],l={css:a,media:s,sourceMap:u};n[o]?n[o].parts.push(l):e.push(n[o]={id:o,parts:[l]})}return e}function o(t,e){var n=g(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=b[b.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),b.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(e)}}function a(t){t.parentNode.removeChild(t);var e=b.indexOf(t);e>=0&&b.splice(e,1)}function s(t){var e=document.createElement("style");return t.attrs.type="text/css",l(e,t.attrs),o(t,e),e}function u(t){var e=document.createElement("link");return t.attrs.type="text/css",t.attrs.rel="stylesheet",l(e,t.attrs),o(t,e),e}function l(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function c(t,e){var n,r,i;if(e.singleton){var o=y++;n=v||(v=s(e)),r=h.bind(null,n,o,!1),i=h.bind(null,n,o,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=u(e),r=d.bind(null,n,e),i=function(){a(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(e),r=f.bind(null,n),i=function(){a(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}function h(t,e,n,r){var i=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=x(e,i);else{var o=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}function f(t,e){var n=e.css,r=e.media;if(r&&t.setAttribute("media",r),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function d(t,e,n){var r=n.css,i=n.sourceMap,o=void 0===e.convertToAbsoluteUrls&&i;(e.convertToAbsoluteUrls||o)&&(r=w(r)),i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var a=new Blob([r],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}var p={},m=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}}(function(){return window&&document&&document.all&&!window.atob}),g=function(t){var e={};return function(n){return void 0===e[n]&&(e[n]=t.call(this,n)),e[n]}}(function(t){return document.querySelector(t)}),v=null,y=0,b=[],w=n(1433);t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");e=e||{},e.attrs="object"==typeof e.attrs?e.attrs:{},void 0===e.singleton&&(e.singleton=m()),void 0===e.insertInto&&(e.insertInto="head"),void 0===e.insertAt&&(e.insertAt="bottom");var n=i(t);return r(n,e),function(t){for(var o=[],a=0;a<n.length;a++){var s=n[a],u=p[s.id];u.refs--,o.push(u)}if(t){r(i(t),e)}for(var a=0;a<o.length;a++){var u=o[a];if(0===u.refs){for(var l=0;l<u.parts.length;l++)u.parts[l]();delete p[u.id]}}}};var x=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,r=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var i=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(i))return t;var o;return o=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:r+i.replace(/^\.\//,""),"url("+JSON.stringify(o)+")"})}},function(t,e,n){"use strict";var r=n(103),i=(n.n(r),n(58)),o=n.n(i),a=n(66),s=n.n(a),u=n(32),l=n.n(u),c=n(1435),h=n.n(c),f=n(1436),d=n.n(f);"function"==typeof s.a&&o.a;l.a.setLevel("ERROR"),d()("localStorage")&&h()(l.a,{storeKey:"StreetSmart/log",level:"WARN",prefix:function(t,e){return"["+(new Date).toISOString()+"] "+t+": "+e},maxLogStackSize:50,callOriginal:!1})},function(t,e,n){var r=n(29),i=function(t,e){if(!t||!t.methodFactory)throw new Error("loglevel instance has to be specified in order to be extended");var n=t,i=e&&e.storeKey||"loglevelLocalStorage",o=e&&e.maxLogStackSize||100,a=e&&e.callOriginal||!1,s=e&&e.prefix,u=e&&e.level||n.levels.WARN,l=n.methodFactory,c=e.persistentLog?JSON.parse(localStorage.getItem(i)||"[]"):[],h=[];n.methodFactory=function(t,e){var n=l(t,e);return function(){var e,r=Array.prototype.slice.call(arguments,0);e="string"==typeof s?s+r.join(" "):"function"==typeof s?s.apply(null,Array.prototype.concat.apply([t],r)):t+": "+r.join(" "),a&&n.apply(null,arguments),c.push(e),h=c.slice(-o),d()}},n.setLevel(u);var f=function(){h.length&&localStorage.setItem(i,JSON.stringify(h))},d=r.debounce(f,250)};t.exports=i},function(t,e){t.exports=function(t){try{var e=window[t],n="__storage_test__";return e.setItem(n,n),e.removeItem(n),!0}catch(t){return!1}}},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=m()(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(d.a?d()(t,e):t.__proto__=e)}function s(t){I.a.viewermanager.openPanoramaViewerByImageId(t)}function u(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(I.n)();var n=e.recordingsVisible,r=void 0!==n&&n,i=e.timeTravelVisible,o=void 0===i||i,a=e.navbarVisible,s=void 0===a||a;if(!(t instanceof Element))throw new Error("NO_ELEMENT_PROVIDED");var u=Object(I.k)(),l=u.login.tidToken,c=void 0,h={width:"100%",height:"100%"};return C.a.render(S.a.createElement(I.b,{style:h},S.a.createElement(F,{viewerRef:function(t){c=t}})),t),c.toggleRecordingsVisible(!l&&r),c.toggleTimeTravelVisible(!l&&o),c.toggleNavbarVisible(s),c.toggleButtonEnabled(R.a.buttons.OPEN_OBLIQUE,!1),c.toggleButtonEnabled(R.a.buttons.MEASURE,!1),c}function l(t,e){if(Object(I.n)(),!(t instanceof A.a.WrappedComponent||e instanceof Element))throw new Error("CANNOT_DESTROY_PANORAMA_INVALID_ARGUMENTS");C.a.unmountComponentAtNode(e),I.a.panoramaviewer.removePanoramaViewer(t.props.id)}n.d(e,"b",function(){return F}),e.f=s,e.d=u,e.e=l;var c=n(10),h=n.n(c),f=n(9),d=n.n(f),p=n(5),m=n.n(p),g=n(1),v=n.n(g),y=n(4),b=n.n(y),w=n(105),x=n.n(w),_=n(3),E=n.n(_),M=n(0),S=n.n(M),T=n(49),C=n.n(T),I=n(198),O=n(613),A=n(603),L=n(600),R=n(270),N=n(1438);n.d(e,"a",function(){return N.a}),n.d(e,"c",function(){return R.a});var P=b.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},k=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),v()(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),D=new O.a,F=function(t){function e(t){i(this,e);var n=o(this,(e.__proto__||h()(e)).call(this,t));Object(I.n)();var r=n.props.viewerRef,a=x()();return n.state={ref:n.createNewRefCallback(r),id:a},I.a.panoramaviewer.addPanoramaViewer(a),n}return a(e,t),k(e,[{key:"componentWillReceiveProps",value:function(t){var e=this.props.viewerRef,n=t.viewerRef;e!==n&&this.setState({ref:this.createNewRefCallback(n)})}},{key:"componentWillUnmount",value:function(){I.a.panoramaviewer.removePanoramaViewer(this.state.id)}},{key:"createNewRefCallback",value:function(t){if(t)return function(e){return t(e&&e.getWrappedInstance())}}},{key:"render",value:function(){var t=r(this.props,[]),e=this.state.id,n=Object(I.k)();if(!n)return null;var i=n.config.config.services,o=i.address,a=i.recording.onlineResource,s=i.panoramaTile.onlineResource,u=i.depthTile.onlineResource,l=[s],c=[u],h={width:"100%",height:"100%"},f=P({},t,this.state,{panoramaTilesUrls:l,depthTilesUrls:c,recordingsUrl:a,addressService:o,colorManager:D});return S.a.createElement(L.a,{style:h,key:e,wid:e,closable:!1},S.a.createElement(A.a,f))}}]),e}(M.Component);F.propTypes={viewerRef:E.a.func}},function(t,e,n){"use strict";var r=n(607),i=n(617);e.a={panoramaViewer:r,measurement:i}},function(t,e,n){"use strict";function r(t,e){var n=Object(a.k)().measurements.allowedToMeasure;if(!t||!n)throw new Error("MEASURING_NOT_ALLOWED");var r=t.props.id;if(a.a.measurements.setMeasurementDimension(3),a.a.viewermanager.setCurrentPanoramaWid(r),e){var i=e.geometry;i&&""!==i?(a.a.measurements.addMeasurement(i),a.a.viewermanager.enableMeasurementMode()):a.a.measurements.showTypeSelectionModal()}else a.a.measurements.showTypeSelectionModal()}function i(){a.a.viewermanager.disableMeasurementMode()}function o(){var t=a.a.measurements.getActiveMeasurement();return Object(s.n)(t)}n.d(e,"a",function(){return u}),e.c=r,e.d=i,e.b=o;var a=n(198),s=n(147),u={POINT:s.b.POINT,LINESTRING:s.b.LINESTRING,POLYGON:s.b.POLYGON}},function(t,e,n){"use strict";function r(t,e,n){var r=Object(a.k)().srs.userSrs;if(!Object(a.k)().config.config.application.functionalities.includes(l.a.AddLayerSHP))throw new Error("ADD_OVERLAY_NOT_ALLOWED");var i=void 0;if(n)i=Object(u.j)(n);else if(e.crs){var o=Object(u.f)(e.crs,r);i=Object(u.j)(o)}else i=r;var h=Object(s.a)(t,e,i,r);a.a.layer.addOverlay(c({},h))}e.a=r;var i=n(4),o=n.n(i),a=n(198),s=n(1441),u=n(44),l=n(141),c=o.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}},function(t,e,n){"use strict";function r(t){return function(){var e=t.apply(this,arguments);return new l.a(function(t,n){function r(i,o){try{var a=e[i](o),s=a.value}catch(t){return void n(t)}if(!a.done)return l.a.resolve(s).then(function(t){r("next",t)},function(t){r("throw",t)});t(s)}return r("next")})}}n.d(e,"a",function(){return A});var i=n(48),o=n.n(i),a=n(24),s=n.n(a),u=n(23),l=n.n(u),c=n(19),h=n.n(c),f=n(16),d=n.n(f),p=n(618),m=n.n(p),g=n(1460),v=n.n(g),y=n(70),b=n.n(y),w=n(105),x=n.n(w),_=n(44),E=n(260),M=n(373),S=n(614),T=this,C=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=d()(t);!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(h()(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),I=function(t){var e=new m.a(t),n=e.file(/.+/),r={};return n.forEach(function(t){"shp"===t.name.slice(-3).toLowerCase()||"dbf"===t.name.slice(-3).toLowerCase()?(r[t.name]=t.asText(),r[t.name]=t.asArrayBuffer()):r[t.name]=t.asText()}),r},O=new S.a,A=(function(){var t=r(s.a.mark(function t(e){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new l.a(function(t,n){var r=new FileReader,i="New shapefile";r.onload=function(e){try{var r=e.target.result,a=I(r),s=!0,u=!1,l=void 0;try{for(var c,h=d()(o()(a));!(s=(c=h.next()).done);s=!0){var f=C(c.value,1),p=f[0];i=p.slice(0,-4)}}catch(t){u=!0,l=t}finally{try{!s&&h.return&&h.return()}finally{if(u)throw l}}var m=v.a.combine([v.a.parseShp(a[i+".shp"]),a[i+".dbf"]]),g=a[i+".prj"],y=void 0;g&&(y=b()(g));var w=void 0;y&&y.oProj&&y.oProj.name&&(w=Object(_.j)(y.oProj.name)),m.crs=Object(_.k)(w),t(m)}catch(t){n(t)}},r.onerror=function(t){n(t)},r.readAsArrayBuffer(e)}));case 1:case"end":return t.stop()}},t,T)}))}(),function(t,e,n,r){var i=x()();E.a.addLayer(i,e);var o=O.getColor(),a=o.hex;return new M.a({id:i,name:t,projection:r,mapProjection:n,color:a})})},function(t,e,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,i=n(1443);e.uncompressInputType=r?"uint8array":"array",e.compressInputType=r?"uint8array":"array",e.magic="\b\0",e.compress=function(t,e){return i.deflateRaw(t,{level:e.level||-1})},e.uncompress=function(t){return i.inflateRaw(t)}},function(t,e,n){"use strict";var r=n(122).assign,i=n(1444),o=n(1447),a=n(623),s={};r(s,i,o,a),t.exports=s},function(t,e,n){"use strict";function r(t){if(!(this instanceof r))return new r(t);this.options=u.assign({level:p,method:g,chunkSize:16384,windowBits:15,memLevel:8,strategy:m,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var n=s.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==d)throw new Error(c[n]);if(e.header&&s.deflateSetHeader(this.strm,e.header),e.dictionary){var i;if(i="string"==typeof e.dictionary?l.string2buf(e.dictionary):"[object ArrayBuffer]"===f.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(n=s.deflateSetDictionary(this.strm,i))!==d)throw new Error(c[n]);this._dict_set=!0}}function i(t,e){var n=new r(e);if(n.push(t,!0),n.err)throw n.msg||c[n.err];return n.result}function o(t,e){return e=e||{},e.raw=!0,i(t,e)}function a(t,e){return e=e||{},e.gzip=!0,i(t,e)}var s=n(1445),u=n(122),l=n(621),c=n(385),h=n(622),f=Object.prototype.toString,d=0,p=-1,m=0,g=8;r.prototype.push=function(t,e){var n,r,i=this.strm,o=this.options.chunkSize;if(this.ended)return!1;r=e===~~e?e:!0===e?4:0,"string"==typeof t?i.input=l.string2buf(t):"[object ArrayBuffer]"===f.call(t)?i.input=new Uint8Array(t):i.input=t,i.next_in=0,i.avail_in=i.input.length;do{if(0===i.avail_out&&(i.output=new u.Buf8(o),i.next_out=0,i.avail_out=o),1!==(n=s.deflate(i,r))&&n!==d)return this.onEnd(n),this.ended=!0,!1;0!==i.avail_out&&(0!==i.avail_in||4!==r&&2!==r)||("string"===this.options.to?this.onData(l.buf2binstring(u.shrinkBuf(i.output,i.next_out))):this.onData(u.shrinkBuf(i.output,i.next_out)))}while((i.avail_in>0||0===i.avail_out)&&1!==n);return 4===r?(n=s.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===d):2!==r||(this.onEnd(d),i.avail_out=0,!0)},r.prototype.onData=function(t){this.chunks.push(t)},r.prototype.onEnd=function(t){t===d&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=u.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Deflate=r,e.deflate=i,e.deflateRaw=o,e.gzip=a},function(t,e,n){"use strict";function r(t,e){return t.msg=P[e],e}function i(t){return(t<<1)-(t>4?9:0)}function o(t){for(var e=t.length;--e>=0;)t[e]=0}function a(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(A.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))}function s(t,e){L._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,a(t.strm)}function u(t,e){t.pending_buf[t.pending++]=e}function l(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function c(t,e,n,r){var i=t.avail_in;return i>r&&(i=r),0===i?0:(t.avail_in-=i,A.arraySet(e,t.input,t.next_in,i,n),1===t.state.wrap?t.adler=R(t.adler,e,i,n):2===t.state.wrap&&(t.adler=N(t.adler,e,i,n)),t.next_in+=i,t.total_in+=i,i)}function h(t,e){var n,r,i=t.max_chain_length,o=t.strstart,a=t.prev_length,s=t.nice_match,u=t.strstart>t.w_size-lt?t.strstart-(t.w_size-lt):0,l=t.window,c=t.w_mask,h=t.prev,f=t.strstart+ut,d=l[o+a-1],p=l[o+a];t.prev_length>=t.good_match&&(i>>=2),s>t.lookahead&&(s=t.lookahead);do{if(n=e,l[n+a]===p&&l[n+a-1]===d&&l[n]===l[o]&&l[++n]===l[o+1]){o+=2,n++;do{}while(l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&o<f);if(r=ut-(f-o),o=f-ut,r>a){if(t.match_start=e,a=r,r>=s)break;d=l[o+a-1],p=l[o+a]}}}while((e=h[e&c])>u&&0!=--i);return a<=t.lookahead?a:t.lookahead}function f(t){var e,n,r,i,o,a=t.w_size;do{if(i=t.window_size-t.lookahead-t.strstart,t.strstart>=a+(a-lt)){A.arraySet(t.window,t.window,a,a,0),t.match_start-=a,t.strstart-=a,t.block_start-=a,n=t.hash_size,e=n;do{r=t.head[--e],t.head[e]=r>=a?r-a:0}while(--n);n=a,e=n;do{r=t.prev[--e],t.prev[e]=r>=a?r-a:0}while(--n);i+=a}if(0===t.strm.avail_in)break;if(n=c(t.strm,t.window,t.strstart+t.lookahead,i),t.lookahead+=n,t.lookahead+t.insert>=st)for(o=t.strstart-t.insert,t.ins_h=t.window[o],t.ins_h=(t.ins_h<<t.hash_shift^t.window[o+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[o+st-1])&t.hash_mask,t.prev[o&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=o,o++,t.insert--,!(t.lookahead+t.insert<st)););}while(t.lookahead<lt&&0!==t.strm.avail_in)}function d(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(f(t),0===t.lookahead&&e===k)return yt;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var r=t.block_start+n;if((0===t.strstart||t.strstart>=r)&&(t.lookahead=t.strstart-r,t.strstart=r,s(t,!1),0===t.strm.avail_out))return yt;if(t.strstart-t.block_start>=t.w_size-lt&&(s(t,!1),0===t.strm.avail_out))return yt}return t.insert=0,e===j?(s(t,!0),0===t.strm.avail_out?wt:xt):(t.strstart>t.block_start&&(s(t,!1),t.strm.avail_out),yt)}function p(t,e){for(var n,r;;){if(t.lookahead<lt){if(f(t),t.lookahead<lt&&e===k)return yt;if(0===t.lookahead)break}if(n=0,t.lookahead>=st&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+st-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-lt&&(t.match_length=h(t,n)),t.match_length>=st)if(r=L._tr_tally(t,t.strstart-t.match_start,t.match_length-st),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=st){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+st-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else r=L._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(s(t,!1),0===t.strm.avail_out))return yt}return t.insert=t.strstart<st-1?t.strstart:st-1,e===j?(s(t,!0),0===t.strm.avail_out?wt:xt):t.last_lit&&(s(t,!1),0===t.strm.avail_out)?yt:bt}function m(t,e){for(var n,r,i;;){if(t.lookahead<lt){if(f(t),t.lookahead<lt&&e===k)return yt;if(0===t.lookahead)break}if(n=0,t.lookahead>=st&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+st-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=st-1,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-lt&&(t.match_length=h(t,n),t.match_length<=5&&(t.strategy===W||t.match_length===st&&t.strstart-t.match_start>4096)&&(t.match_length=st-1)),t.prev_length>=st&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-st,r=L._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-st),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=i&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+st-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=st-1,t.strstart++,r&&(s(t,!1),0===t.strm.avail_out))return yt}else if(t.match_available){if(r=L._tr_tally(t,0,t.window[t.strstart-1]),r&&s(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return yt}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=L._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<st-1?t.strstart:st-1,e===j?(s(t,!0),0===t.strm.avail_out?wt:xt):t.last_lit&&(s(t,!1),0===t.strm.avail_out)?yt:bt}function g(t,e){for(var n,r,i,o,a=t.window;;){if(t.lookahead<=ut){if(f(t),t.lookahead<=ut&&e===k)return yt;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=st&&t.strstart>0&&(i=t.strstart-1,(r=a[i])===a[++i]&&r===a[++i]&&r===a[++i])){o=t.strstart+ut;do{}while(r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&i<o);t.match_length=ut-(o-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=st?(n=L._tr_tally(t,1,t.match_length-st),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=L._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(s(t,!1),0===t.strm.avail_out))return yt}return t.insert=0,e===j?(s(t,!0),0===t.strm.avail_out?wt:xt):t.last_lit&&(s(t,!1),0===t.strm.avail_out)?yt:bt}function v(t,e){for(var n;;){if(0===t.lookahead&&(f(t),0===t.lookahead)){if(e===k)return yt;break}if(t.match_length=0,n=L._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(s(t,!1),0===t.strm.avail_out))return yt}return t.insert=0,e===j?(s(t,!0),0===t.strm.avail_out?wt:xt):t.last_lit&&(s(t,!1),0===t.strm.avail_out)?yt:bt}function y(t,e,n,r,i){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=i}function b(t){t.window_size=2*t.w_size,o(t.head),t.max_lazy_match=O[t.level].max_lazy,t.good_match=O[t.level].good_length,t.nice_match=O[t.level].nice_length,t.max_chain_length=O[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=st-1,t.match_available=0,t.ins_h=0}function w(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Q,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new A.Buf16(2*ot),this.dyn_dtree=new A.Buf16(2*(2*rt+1)),this.bl_tree=new A.Buf16(2*(2*it+1)),o(this.dyn_ltree),o(this.dyn_dtree),o(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new A.Buf16(at+1),this.heap=new A.Buf16(2*nt+1),o(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new A.Buf16(2*nt+1),o(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function x(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=$,e=t.state,e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?ht:gt,t.adler=2===e.wrap?0:1,e.last_flush=k,L._tr_init(e),B):r(t,V)}function _(t){var e=x(t);return e===B&&b(t.state),e}function E(t,e){return t&&t.state?2!==t.state.wrap?V:(t.state.gzhead=e,B):V}function M(t,e,n,i,o,a){if(!t)return V;var s=1;if(e===q&&(e=6),i<0?(s=0,i=-i):i>15&&(s=2,i-=16),o<1||o>J||n!==Q||i<8||i>15||e<0||e>9||a<0||a>Z)return r(t,V);8===i&&(i=9);var u=new w;return t.state=u,u.strm=t,u.wrap=s,u.gzhead=null,u.w_bits=i,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=o+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+st-1)/st),u.window=new A.Buf8(2*u.w_size),u.head=new A.Buf16(u.hash_size),u.prev=new A.Buf16(u.w_size),u.lit_bufsize=1<<o+6,u.pending_buf_size=4*u.lit_bufsize,u.pending_buf=new A.Buf8(u.pending_buf_size),u.d_buf=1*u.lit_bufsize,u.l_buf=3*u.lit_bufsize,u.level=e,u.strategy=a,u.method=n,_(t)}function S(t,e){return M(t,e,Q,tt,et,K)}function T(t,e){var n,s,c,h;if(!t||!t.state||e>U||e<0)return t?r(t,V):V;if(s=t.state,!t.output||!t.input&&0!==t.avail_in||s.status===vt&&e!==j)return r(t,0===t.avail_out?H:V);if(s.strm=t,n=s.last_flush,s.last_flush=e,s.status===ht)if(2===s.wrap)t.adler=0,u(s,31),u(s,139),u(s,8),s.gzhead?(u(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(s.gzhead.extra?4:0)+(s.gzhead.name?8:0)+(s.gzhead.comment?16:0)),u(s,255&s.gzhead.time),u(s,s.gzhead.time>>8&255),u(s,s.gzhead.time>>16&255),u(s,s.gzhead.time>>24&255),u(s,9===s.level?2:s.strategy>=Y||s.level<2?4:0),u(s,255&s.gzhead.os),s.gzhead.extra&&s.gzhead.extra.length&&(u(s,255&s.gzhead.extra.length),u(s,s.gzhead.extra.length>>8&255)),s.gzhead.hcrc&&(t.adler=N(t.adler,s.pending_buf,s.pending,0)),s.gzindex=0,s.status=ft):(u(s,0),u(s,0),u(s,0),u(s,0),u(s,0),u(s,9===s.level?2:s.strategy>=Y||s.level<2?4:0),u(s,_t),s.status=gt);else{var f=Q+(s.w_bits-8<<4)<<8,d=-1;d=s.strategy>=Y||s.level<2?0:s.level<6?1:6===s.level?2:3,f|=d<<6,0!==s.strstart&&(f|=ct),f+=31-f%31,s.status=gt,l(s,f),0!==s.strstart&&(l(s,t.adler>>>16),l(s,65535&t.adler)),t.adler=1}if(s.status===ft)if(s.gzhead.extra){for(c=s.pending;s.gzindex<(65535&s.gzhead.extra.length)&&(s.pending!==s.pending_buf_size||(s.gzhead.hcrc&&s.pending>c&&(t.adler=N(t.adler,s.pending_buf,s.pending-c,c)),a(t),c=s.pending,s.pending!==s.pending_buf_size));)u(s,255&s.gzhead.extra[s.gzindex]),s.gzindex++;s.gzhead.hcrc&&s.pending>c&&(t.adler=N(t.adler,s.pending_buf,s.pending-c,c)),s.gzindex===s.gzhead.extra.length&&(s.gzindex=0,s.status=dt)}else s.status=dt;if(s.status===dt)if(s.gzhead.name){c=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>c&&(t.adler=N(t.adler,s.pending_buf,s.pending-c,c)),a(t),c=s.pending,s.pending===s.pending_buf_size)){h=1;break}h=s.gzindex<s.gzhead.name.length?255&s.gzhead.name.charCodeAt(s.gzindex++):0,u(s,h)}while(0!==h);s.gzhead.hcrc&&s.pending>c&&(t.adler=N(t.adler,s.pending_buf,s.pending-c,c)),0===h&&(s.gzindex=0,s.status=pt)}else s.status=pt;if(s.status===pt)if(s.gzhead.comment){c=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>c&&(t.adler=N(t.adler,s.pending_buf,s.pending-c,c)),a(t),c=s.pending,s.pending===s.pending_buf_size)){h=1;break}h=s.gzindex<s.gzhead.comment.length?255&s.gzhead.comment.charCodeAt(s.gzindex++):0,u(s,h)}while(0!==h);s.gzhead.hcrc&&s.pending>c&&(t.adler=N(t.adler,s.pending_buf,s.pending-c,c)),0===h&&(s.status=mt)}else s.status=mt;if(s.status===mt&&(s.gzhead.hcrc?(s.pending+2>s.pending_buf_size&&a(t),s.pending+2<=s.pending_buf_size&&(u(s,255&t.adler),u(s,t.adler>>8&255),t.adler=0,s.status=gt)):s.status=gt),0!==s.pending){if(a(t),0===t.avail_out)return s.last_flush=-1,B}else if(0===t.avail_in&&i(e)<=i(n)&&e!==j)return r(t,H);if(s.status===vt&&0!==t.avail_in)return r(t,H);if(0!==t.avail_in||0!==s.lookahead||e!==k&&s.status!==vt){var p=s.strategy===Y?v(s,e):s.strategy===X?g(s,e):O[s.level].func(s,e);if(p!==wt&&p!==xt||(s.status=vt),p===yt||p===wt)return 0===t.avail_out&&(s.last_flush=-1),B;if(p===bt&&(e===D?L._tr_align(s):e!==U&&(L._tr_stored_block(s,0,0,!1),e===F&&(o(s.head),0===s.lookahead&&(s.strstart=0,s.block_start=0,s.insert=0))),a(t),0===t.avail_out))return s.last_flush=-1,B}return e!==j?B:s.wrap<=0?z:(2===s.wrap?(u(s,255&t.adler),u(s,t.adler>>8&255),u(s,t.adler>>16&255),u(s,t.adler>>24&255),u(s,255&t.total_in),u(s,t.total_in>>8&255),u(s,t.total_in>>16&255),u(s,t.total_in>>24&255)):(l(s,t.adler>>>16),l(s,65535&t.adler)),a(t),s.wrap>0&&(s.wrap=-s.wrap),0!==s.pending?B:z)}function C(t){var e;return t&&t.state?(e=t.state.status)!==ht&&e!==ft&&e!==dt&&e!==pt&&e!==mt&&e!==gt&&e!==vt?r(t,V):(t.state=null,e===gt?r(t,G):B):V}function I(t,e){var n,r,i,a,s,u,l,c,h=e.length;if(!t||!t.state)return V;if(n=t.state,2===(a=n.wrap)||1===a&&n.status!==ht||n.lookahead)return V;for(1===a&&(t.adler=R(t.adler,e,h,0)),n.wrap=0,h>=n.w_size&&(0===a&&(o(n.head),n.strstart=0,n.block_start=0,n.insert=0),c=new A.Buf8(n.w_size),A.arraySet(c,e,h-n.w_size,n.w_size,0),e=c,h=n.w_size),s=t.avail_in,u=t.next_in,l=t.input,t.avail_in=h,t.next_in=0,t.input=e,f(n);n.lookahead>=st;){r=n.strstart,i=n.lookahead-(st-1);do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+st-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++}while(--i);n.strstart=r,n.lookahead=st-1,f(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=st-1,n.match_available=0,t.next_in=u,t.input=l,t.avail_in=s,n.wrap=a,B}var O,A=n(122),L=n(1446),R=n(619),N=n(620),P=n(385),k=0,D=1,F=3,j=4,U=5,B=0,z=1,V=-2,G=-3,H=-5,q=-1,W=1,Y=2,X=3,Z=4,K=0,$=2,Q=8,J=9,tt=15,et=8,nt=286,rt=30,it=19,ot=2*nt+1,at=15,st=3,ut=258,lt=ut+st+1,ct=32,ht=42,ft=69,dt=73,pt=91,mt=103,gt=113,vt=666,yt=1,bt=2,wt=3,xt=4,_t=3;O=[new y(0,0,0,0,d),new y(4,4,8,4,p),new y(4,5,16,8,p),new y(4,6,32,32,p),new y(4,4,16,16,m),new y(8,16,32,32,m),new y(8,16,128,128,m),new y(8,32,128,256,m),new y(32,128,258,1024,m),new y(32,258,258,4096,m)],e.deflateInit=S,e.deflateInit2=M,e.deflateReset=_,e.deflateResetKeep=x,e.deflateSetHeader=E,e.deflate=T,e.deflateEnd=C,e.deflateSetDictionary=I,e.deflateInfo="pako deflate (from Nodeca project)"},function(t,e,n){"use strict";function r(t){for(var e=t.length;--e>=0;)t[e]=0}function i(t,e,n,r,i){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=t&&t.length}function o(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function a(t){return t<256?ot[t]:ot[256+(t>>>7)]}function s(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function u(t,e,n){t.bi_valid>Y-n?(t.bi_buf|=e<<t.bi_valid&65535,s(t,t.bi_buf),t.bi_buf=e>>Y-t.bi_valid,t.bi_valid+=n-Y):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function l(t,e,n){u(t,n[2*e],n[2*e+1])}function c(t,e){var n=0;do{n|=1&t,t>>>=1,n<<=1}while(--e>0);return n>>>1}function h(t){16===t.bi_valid?(s(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}function f(t,e){var n,r,i,o,a,s,u=e.dyn_tree,l=e.max_code,c=e.stat_desc.static_tree,h=e.stat_desc.has_stree,f=e.stat_desc.extra_bits,d=e.stat_desc.extra_base,p=e.stat_desc.max_length,m=0;for(o=0;o<=W;o++)t.bl_count[o]=0;for(u[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<q;n++)r=t.heap[n],o=u[2*u[2*r+1]+1]+1,o>p&&(o=p,m++),u[2*r+1]=o,r>l||(t.bl_count[o]++,a=0,r>=d&&(a=f[r-d]),s=u[2*r],t.opt_len+=s*(o+a),h&&(t.static_len+=s*(c[2*r+1]+a)));if(0!==m){do{for(o=p-1;0===t.bl_count[o];)o--;t.bl_count[o]--,t.bl_count[o+1]+=2,t.bl_count[p]--,m-=2}while(m>0);for(o=p;0!==o;o--)for(r=t.bl_count[o];0!==r;)(i=t.heap[--n])>l||(u[2*i+1]!==o&&(t.opt_len+=(o-u[2*i+1])*u[2*i],u[2*i+1]=o),r--)}}function d(t,e,n){var r,i,o=new Array(W+1),a=0;for(r=1;r<=W;r++)o[r]=a=a+n[r-1]<<1;for(i=0;i<=e;i++){var s=t[2*i+1];0!==s&&(t[2*i]=c(o[s]++,s))}}function p(){var t,e,n,r,o,a=new Array(W+1);for(n=0,r=0;r<B-1;r++)for(st[r]=n,t=0;t<1<<J[r];t++)at[n++]=r;for(at[n-1]=r,o=0,r=0;r<16;r++)for(ut[r]=o,t=0;t<1<<tt[r];t++)ot[o++]=r;for(o>>=7;r<G;r++)for(ut[r]=o<<7,t=0;t<1<<tt[r]-7;t++)ot[256+o++]=r;for(e=0;e<=W;e++)a[e]=0;for(t=0;t<=143;)rt[2*t+1]=8,t++,a[8]++;for(;t<=255;)rt[2*t+1]=9,t++,a[9]++;for(;t<=279;)rt[2*t+1]=7,t++,a[7]++;for(;t<=287;)rt[2*t+1]=8,t++,a[8]++;for(d(rt,V+1,a),t=0;t<G;t++)it[2*t+1]=5,it[2*t]=c(t,5);lt=new i(rt,J,z+1,V,W),ct=new i(it,tt,0,G,W),ht=new i(new Array(0),et,0,H,X)}function m(t){var e;for(e=0;e<V;e++)t.dyn_ltree[2*e]=0;for(e=0;e<G;e++)t.dyn_dtree[2*e]=0;for(e=0;e<H;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*Z]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function g(t){t.bi_valid>8?s(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function v(t,e,n,r){g(t),r&&(s(t,n),s(t,~n)),R.arraySet(t.pending_buf,t.window,e,n,t.pending),t.pending+=n}function y(t,e,n,r){var i=2*e,o=2*n;return t[i]<t[o]||t[i]===t[o]&&r[e]<=r[n]}function b(t,e,n){for(var r=t.heap[n],i=n<<1;i<=t.heap_len&&(i<t.heap_len&&y(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!y(e,r,t.heap[i],t.depth));)t.heap[n]=t.heap[i],n=i,i<<=1;t.heap[n]=r}function w(t,e,n){var r,i,o,s,c=0;if(0!==t.last_lit)do{r=t.pending_buf[t.d_buf+2*c]<<8|t.pending_buf[t.d_buf+2*c+1],i=t.pending_buf[t.l_buf+c],c++,0===r?l(t,i,e):(o=at[i],l(t,o+z+1,e),s=J[o],0!==s&&(i-=st[o],u(t,i,s)),r--,o=a(r),l(t,o,n),0!==(s=tt[o])&&(r-=ut[o],u(t,r,s)))}while(c<t.last_lit);l(t,Z,e)}function x(t,e){var n,r,i,o=e.dyn_tree,a=e.stat_desc.static_tree,s=e.stat_desc.has_stree,u=e.stat_desc.elems,l=-1;for(t.heap_len=0,t.heap_max=q,n=0;n<u;n++)0!==o[2*n]?(t.heap[++t.heap_len]=l=n,t.depth[n]=0):o[2*n+1]=0;for(;t.heap_len<2;)i=t.heap[++t.heap_len]=l<2?++l:0,o[2*i]=1,t.depth[i]=0,t.opt_len--,s&&(t.static_len-=a[2*i+1]);for(e.max_code=l,n=t.heap_len>>1;n>=1;n--)b(t,o,n);i=u;do{n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],b(t,o,1),r=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=r,o[2*i]=o[2*n]+o[2*r],t.depth[i]=(t.depth[n]>=t.depth[r]?t.depth[n]:t.depth[r])+1,o[2*n+1]=o[2*r+1]=i,t.heap[1]=i++,b(t,o,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],f(t,e),d(o,l,t.bl_count)}function _(t,e,n){var r,i,o=-1,a=e[1],s=0,u=7,l=4;for(0===a&&(u=138,l=3),e[2*(n+1)+1]=65535,r=0;r<=n;r++)i=a,a=e[2*(r+1)+1],++s<u&&i===a||(s<l?t.bl_tree[2*i]+=s:0!==i?(i!==o&&t.bl_tree[2*i]++,t.bl_tree[2*K]++):s<=10?t.bl_tree[2*$]++:t.bl_tree[2*Q]++,s=0,o=i,0===a?(u=138,l=3):i===a?(u=6,l=3):(u=7,l=4))}function E(t,e,n){var r,i,o=-1,a=e[1],s=0,c=7,h=4;for(0===a&&(c=138,h=3),r=0;r<=n;r++)if(i=a,a=e[2*(r+1)+1],!(++s<c&&i===a)){if(s<h)do{l(t,i,t.bl_tree)}while(0!=--s);else 0!==i?(i!==o&&(l(t,i,t.bl_tree),s--),l(t,K,t.bl_tree),u(t,s-3,2)):s<=10?(l(t,$,t.bl_tree),u(t,s-3,3)):(l(t,Q,t.bl_tree),u(t,s-11,7));s=0,o=i,0===a?(c=138,h=3):i===a?(c=6,h=3):(c=7,h=4)}}function M(t){var e;for(_(t,t.dyn_ltree,t.l_desc.max_code),_(t,t.dyn_dtree,t.d_desc.max_code),x(t,t.bl_desc),e=H-1;e>=3&&0===t.bl_tree[2*nt[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}function S(t,e,n,r){var i;for(u(t,e-257,5),u(t,n-1,5),u(t,r-4,4),i=0;i<r;i++)u(t,t.bl_tree[2*nt[i]+1],3);E(t,t.dyn_ltree,e-1),E(t,t.dyn_dtree,n-1)}function T(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return P;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return k;for(e=32;e<z;e++)if(0!==t.dyn_ltree[2*e])return k;return P}function C(t){ft||(p(),ft=!0),t.l_desc=new o(t.dyn_ltree,lt),t.d_desc=new o(t.dyn_dtree,ct),t.bl_desc=new o(t.bl_tree,ht),t.bi_buf=0,t.bi_valid=0,m(t)}function I(t,e,n,r){u(t,(F<<1)+(r?1:0),3),v(t,e,n,!0)}function O(t){u(t,j<<1,3),l(t,Z,rt),h(t)}function A(t,e,n,r){var i,o,a=0;t.level>0?(t.strm.data_type===D&&(t.strm.data_type=T(t)),x(t,t.l_desc),x(t,t.d_desc),a=M(t),i=t.opt_len+3+7>>>3,(o=t.static_len+3+7>>>3)<=i&&(i=o)):i=o=n+5,n+4<=i&&-1!==e?I(t,e,n,r):t.strategy===N||o===i?(u(t,(j<<1)+(r?1:0),3),w(t,rt,it)):(u(t,(U<<1)+(r?1:0),3),S(t,t.l_desc.max_code+1,t.d_desc.max_code+1,a+1),w(t,t.dyn_ltree,t.dyn_dtree)),m(t),r&&g(t)}function L(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(at[n]+z+1)]++,t.dyn_dtree[2*a(e)]++),t.last_lit===t.lit_bufsize-1}var R=n(122),N=4,P=0,k=1,D=2,F=0,j=1,U=2,B=29,z=256,V=z+1+B,G=30,H=19,q=2*V+1,W=15,Y=16,X=7,Z=256,K=16,$=17,Q=18,J=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],tt=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],et=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],nt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],rt=new Array(2*(V+2));r(rt);var it=new Array(2*G);r(it);var ot=new Array(512);r(ot);var at=new Array(256);r(at);var st=new Array(B);r(st);var ut=new Array(G);r(ut);var lt,ct,ht,ft=!1;e._tr_init=C,e._tr_stored_block=I,e._tr_flush_block=A,e._tr_tally=L,e._tr_align=O},function(t,e,n){"use strict";function r(t){if(!(this instanceof r))return new r(t);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var n=a.inflateInit2(this.strm,e.windowBits);if(n!==l.Z_OK)throw new Error(c[n]);this.header=new f,a.inflateGetHeader(this.strm,this.header)}function i(t,e){var n=new r(e);if(n.push(t,!0),n.err)throw n.msg||c[n.err];return n.result}function o(t,e){return e=e||{},e.raw=!0,i(t,e)}var a=n(1448),s=n(122),u=n(621),l=n(623),c=n(385),h=n(622),f=n(1451),d=Object.prototype.toString;r.prototype.push=function(t,e){var n,r,i,o,c,h,f=this.strm,p=this.options.chunkSize,m=this.options.dictionary,g=!1;if(this.ended)return!1;r=e===~~e?e:!0===e?l.Z_FINISH:l.Z_NO_FLUSH,"string"==typeof t?f.input=u.binstring2buf(t):"[object ArrayBuffer]"===d.call(t)?f.input=new Uint8Array(t):f.input=t,f.next_in=0,f.avail_in=f.input.length;do{if(0===f.avail_out&&(f.output=new s.Buf8(p),f.next_out=0,f.avail_out=p),n=a.inflate(f,l.Z_NO_FLUSH),n===l.Z_NEED_DICT&&m&&(h="string"==typeof m?u.string2buf(m):"[object ArrayBuffer]"===d.call(m)?new Uint8Array(m):m,n=a.inflateSetDictionary(this.strm,h)),n===l.Z_BUF_ERROR&&!0===g&&(n=l.Z_OK,g=!1),n!==l.Z_STREAM_END&&n!==l.Z_OK)return this.onEnd(n),this.ended=!0,!1;f.next_out&&(0!==f.avail_out&&n!==l.Z_STREAM_END&&(0!==f.avail_in||r!==l.Z_FINISH&&r!==l.Z_SYNC_FLUSH)||("string"===this.options.to?(i=u.utf8border(f.output,f.next_out),o=f.next_out-i,c=u.buf2string(f.output,i),f.next_out=o,f.avail_out=p-o,o&&s.arraySet(f.output,f.output,i,o,0),this.onData(c)):this.onData(s.shrinkBuf(f.output,f.next_out)))),0===f.avail_in&&0===f.avail_out&&(g=!0)}while((f.avail_in>0||0===f.avail_out)&&n!==l.Z_STREAM_END);return n===l.Z_STREAM_END&&(r=l.Z_FINISH),r===l.Z_FINISH?(n=a.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===l.Z_OK):r!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),f.avail_out=0,!0)},r.prototype.onData=function(t){this.chunks.push(t)},r.prototype.onEnd=function(t){t===l.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Inflate=r,e.inflate=i,e.inflateRaw=o,e.ungzip=i},function(t,e,n){"use strict";function r(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function i(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new y.Buf16(320),this.work=new y.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function o(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=F,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new y.Buf32(mt),e.distcode=e.distdyn=new y.Buf32(gt),e.sane=1,e.back=-1,O):R}function a(t){var e;return t&&t.state?(e=t.state,e.wsize=0,e.whave=0,e.wnext=0,o(t)):R}function s(t,e){var n,r;return t&&t.state?(r=t.state,e<0?(n=0,e=-e):(n=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?R:(null!==r.window&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,a(t))):R}function u(t,e){var n,r;return t?(r=new i,t.state=r,r.window=null,n=s(t,e),n!==O&&(t.state=null),n):R}function l(t){return u(t,vt)}function c(t){if(yt){var e;for(g=new y.Buf32(512),v=new y.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(_(M,t.lens,0,288,g,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;_(S,t.lens,0,32,v,0,t.work,{bits:5}),yt=!1}t.lencode=g,t.lenbits=9,t.distcode=v,t.distbits=5}function h(t,e,n,r){var i,o=t.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new y.Buf8(o.wsize)),r>=o.wsize?(y.arraySet(o.window,e,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>r&&(i=r),y.arraySet(o.window,e,n-r,i,o.wnext),r-=i,r?(y.arraySet(o.window,e,n-r,r,0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0}function f(t,e){var n,i,o,a,s,u,l,f,d,p,m,g,v,mt,gt,vt,yt,bt,wt,xt,_t,Et,Mt,St,Tt=0,Ct=new y.Buf8(4),It=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return R;n=t.state,n.mode===X&&(n.mode=Z),s=t.next_out,o=t.output,l=t.avail_out,a=t.next_in,i=t.input,u=t.avail_in,f=n.hold,d=n.bits,p=u,m=l,Et=O;t:for(;;)switch(n.mode){case F:if(0===n.wrap){n.mode=Z;break}for(;d<16;){if(0===u)break t;u--,f+=i[a++]<<d,d+=8}if(2&n.wrap&&35615===f){n.check=0,Ct[0]=255&f,Ct[1]=f>>>8&255,n.check=w(n.check,Ct,2,0),f=0,d=0,n.mode=j;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&f)<<8)+(f>>8))%31){t.msg="incorrect header check",n.mode=ft;break}if((15&f)!==D){t.msg="unknown compression method",n.mode=ft;break}if(f>>>=4,d-=4,_t=8+(15&f),0===n.wbits)n.wbits=_t;else if(_t>n.wbits){t.msg="invalid window size",n.mode=ft;break}n.dmax=1<<_t,t.adler=n.check=1,n.mode=512&f?W:X,f=0,d=0;break;case j:for(;d<16;){if(0===u)break t;u--,f+=i[a++]<<d,d+=8}if(n.flags=f,(255&n.flags)!==D){t.msg="unknown compression method",n.mode=ft;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=ft;break}n.head&&(n.head.text=f>>8&1),512&n.flags&&(Ct[0]=255&f,Ct[1]=f>>>8&255,n.check=w(n.check,Ct,2,0)),f=0,d=0,n.mode=U;case U:for(;d<32;){if(0===u)break t;u--,f+=i[a++]<<d,d+=8}n.head&&(n.head.time=f),512&n.flags&&(Ct[0]=255&f,Ct[1]=f>>>8&255,Ct[2]=f>>>16&255,Ct[3]=f>>>24&255,n.check=w(n.check,Ct,4,0)),f=0,d=0,n.mode=B;case B:for(;d<16;){if(0===u)break t;u--,f+=i[a++]<<d,d+=8}n.head&&(n.head.xflags=255&f,n.head.os=f>>8),512&n.flags&&(Ct[0]=255&f,Ct[1]=f>>>8&255,n.check=w(n.check,Ct,2,0)),f=0,d=0,n.mode=z;case z:if(1024&n.flags){for(;d<16;){if(0===u)break t;u--,f+=i[a++]<<d,d+=8}n.length=f,n.head&&(n.head.extra_len=f),512&n.flags&&(Ct[0]=255&f,Ct[1]=f>>>8&255,n.check=w(n.check,Ct,2,0)),f=0,d=0}else n.head&&(n.head.extra=null);n.mode=V;case V:if(1024&n.flags&&(g=n.length,g>u&&(g=u),g&&(n.head&&(_t=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),y.arraySet(n.head.extra,i,a,g,_t)),512&n.flags&&(n.check=w(n.check,i,g,a)),u-=g,a+=g,n.length-=g),n.length))break t;n.length=0,n.mode=G;case G:if(2048&n.flags){if(0===u)break t;g=0;do{_t=i[a+g++],n.head&&_t&&n.length<65536&&(n.head.name+=String.fromCharCode(_t))}while(_t&&g<u);if(512&n.flags&&(n.check=w(n.check,i,g,a)),u-=g,a+=g,_t)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=H;case H:if(4096&n.flags){if(0===u)break t;g=0;do{_t=i[a+g++],n.head&&_t&&n.length<65536&&(n.head.comment+=String.fromCharCode(_t))}while(_t&&g<u);if(512&n.flags&&(n.check=w(n.check,i,g,a)),u-=g,a+=g,_t)break t}else n.head&&(n.head.comment=null);n.mode=q;case q:if(512&n.flags){for(;d<16;){if(0===u)break t;u--,f+=i[a++]<<d,d+=8}if(f!==(65535&n.check)){t.msg="header crc mismatch",n.mode=ft;break}f=0,d=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=X;break;case W:for(;d<32;){if(0===u)break t;u--,f+=i[a++]<<d,d+=8}t.adler=n.check=r(f),f=0,d=0,n.mode=Y;case Y:if(0===n.havedict)return t.next_out=s,t.avail_out=l,t.next_in=a,t.avail_in=u,n.hold=f,n.bits=d,L;t.adler=n.check=1,n.mode=X;case X:if(e===C||e===I)break t;case Z:if(n.last){f>>>=7&d,d-=7&d,n.mode=lt;break}for(;d<3;){if(0===u)break t;u--,f+=i[a++]<<d,d+=8}switch(n.last=1&f,f>>>=1,d-=1,3&f){case 0:n.mode=K;break;case 1:if(c(n),n.mode=nt,e===I){f>>>=2,d-=2;break t}break;case 2:n.mode=J;break;case 3:t.msg="invalid block type",n.mode=ft}f>>>=2,d-=2;break;case K:for(f>>>=7&d,d-=7&d;d<32;){if(0===u)break t;u--,f+=i[a++]<<d,d+=8}if((65535&f)!=(f>>>16^65535)){t.msg="invalid stored block lengths",n.mode=ft;break}if(n.length=65535&f,f=0,d=0,n.mode=$,e===I)break t;case $:n.mode=Q;case Q:if(g=n.length){if(g>u&&(g=u),g>l&&(g=l),0===g)break t;y.arraySet(o,i,a,g,s),u-=g,a+=g,l-=g,s+=g,n.length-=g;break}n.mode=X;break;case J:for(;d<14;){if(0===u)break t;u--,f+=i[a++]<<d,d+=8}if(n.nlen=257+(31&f),f>>>=5,d-=5,n.ndist=1+(31&f),f>>>=5,d-=5,n.ncode=4+(15&f),f>>>=4,d-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=ft;break}n.have=0,n.mode=tt;case tt:for(;n.have<n.ncode;){for(;d<3;){if(0===u)break t;u--,f+=i[a++]<<d,d+=8}n.lens[It[n.have++]]=7&f,f>>>=3,d-=3}for(;n.have<19;)n.lens[It[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,Mt={bits:n.lenbits},Et=_(E,n.lens,0,19,n.lencode,0,n.work,Mt),n.lenbits=Mt.bits,Et){t.msg="invalid code lengths set",n.mode=ft;break}n.have=0,n.mode=et;case et:for(;n.have<n.nlen+n.ndist;){for(;Tt=n.lencode[f&(1<<n.lenbits)-1],gt=Tt>>>24,vt=Tt>>>16&255,yt=65535&Tt,!(gt<=d);){if(0===u)break t;u--,f+=i[a++]<<d,d+=8}if(yt<16)f>>>=gt,d-=gt,n.lens[n.have++]=yt;else{if(16===yt){for(St=gt+2;d<St;){if(0===u)break t;u--,f+=i[a++]<<d,d+=8}if(f>>>=gt,d-=gt,0===n.have){t.msg="invalid bit length repeat",n.mode=ft;break}_t=n.lens[n.have-1],g=3+(3&f),f>>>=2,d-=2}else if(17===yt){for(St=gt+3;d<St;){if(0===u)break t;u--,f+=i[a++]<<d,d+=8}f>>>=gt,d-=gt,_t=0,g=3+(7&f),f>>>=3,d-=3}else{for(St=gt+7;d<St;){if(0===u)break t;u--,f+=i[a++]<<d,d+=8}f>>>=gt,d-=gt,_t=0,g=11+(127&f),f>>>=7,d-=7}if(n.have+g>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=ft;break}for(;g--;)n.lens[n.have++]=_t}}if(n.mode===ft)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=ft;break}if(n.lenbits=9,Mt={bits:n.lenbits},Et=_(M,n.lens,0,n.nlen,n.lencode,0,n.work,Mt),n.lenbits=Mt.bits,Et){t.msg="invalid literal/lengths set",n.mode=ft;break}if(n.distbits=6,n.distcode=n.distdyn,Mt={bits:n.distbits},Et=_(S,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,Mt),n.distbits=Mt.bits,Et){t.msg="invalid distances set",n.mode=ft;break}if(n.mode=nt,e===I)break t;case nt:n.mode=rt;case rt:if(u>=6&&l>=258){t.next_out=s,t.avail_out=l,t.next_in=a,t.avail_in=u,n.hold=f,n.bits=d,x(t,m),s=t.next_out,o=t.output,l=t.avail_out,a=t.next_in,i=t.input,u=t.avail_in,f=n.hold,d=n.bits,n.mode===X&&(n.back=-1);break}for(n.back=0;Tt=n.lencode[f&(1<<n.lenbits)-1],gt=Tt>>>24,vt=Tt>>>16&255,yt=65535&Tt,!(gt<=d);){if(0===u)break t;u--,f+=i[a++]<<d,d+=8}if(vt&&0==(240&vt)){for(bt=gt,wt=vt,xt=yt;Tt=n.lencode[xt+((f&(1<<bt+wt)-1)>>bt)],gt=Tt>>>24,vt=Tt>>>16&255,yt=65535&Tt,!(bt+gt<=d);){if(0===u)break t;u--,f+=i[a++]<<d,d+=8}f>>>=bt,d-=bt,n.back+=bt}if(f>>>=gt,d-=gt,n.back+=gt,n.length=yt,0===vt){n.mode=ut;break}if(32&vt){n.back=-1,n.mode=X;break}if(64&vt){t.msg="invalid literal/length code",n.mode=ft;break}n.extra=15&vt,n.mode=it;case it:if(n.extra){for(St=n.extra;d<St;){if(0===u)break t;u--,f+=i[a++]<<d,d+=8}n.length+=f&(1<<n.extra)-1,f>>>=n.extra,d-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=ot;case ot:for(;Tt=n.distcode[f&(1<<n.distbits)-1],gt=Tt>>>24,vt=Tt>>>16&255,yt=65535&Tt,!(gt<=d);){if(0===u)break t;u--,f+=i[a++]<<d,d+=8}if(0==(240&vt)){for(bt=gt,wt=vt,xt=yt;Tt=n.distcode[xt+((f&(1<<bt+wt)-1)>>bt)],gt=Tt>>>24,vt=Tt>>>16&255,yt=65535&Tt,!(bt+gt<=d);){if(0===u)break t;u--,f+=i[a++]<<d,d+=8}f>>>=bt,d-=bt,n.back+=bt}if(f>>>=gt,d-=gt,n.back+=gt,64&vt){t.msg="invalid distance code",n.mode=ft;break}n.offset=yt,n.extra=15&vt,n.mode=at;case at:if(n.extra){for(St=n.extra;d<St;){if(0===u)break t;u--,f+=i[a++]<<d,d+=8}n.offset+=f&(1<<n.extra)-1,f>>>=n.extra,d-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=ft;break}n.mode=st;case st:if(0===l)break t;if(g=m-l,n.offset>g){if((g=n.offset-g)>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=ft;break}g>n.wnext?(g-=n.wnext,v=n.wsize-g):v=n.wnext-g,g>n.length&&(g=n.length),mt=n.window}else mt=o,v=s-n.offset,g=n.length;g>l&&(g=l),l-=g,n.length-=g;do{o[s++]=mt[v++]}while(--g);0===n.length&&(n.mode=rt);break;case ut:if(0===l)break t;o[s++]=n.length,l--,n.mode=rt;break;case lt:if(n.wrap){for(;d<32;){if(0===u)break t;u--,f|=i[a++]<<d,d+=8}if(m-=l,t.total_out+=m,n.total+=m,m&&(t.adler=n.check=n.flags?w(n.check,o,m,s-m):b(n.check,o,m,s-m)),m=l,(n.flags?f:r(f))!==n.check){t.msg="incorrect data check",n.mode=ft;break}f=0,d=0}n.mode=ct;case ct:if(n.wrap&&n.flags){for(;d<32;){if(0===u)break t;u--,f+=i[a++]<<d,d+=8}if(f!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=ft;break}f=0,d=0}n.mode=ht;case ht:Et=A;break t;case ft:Et=N;break t;case dt:return P;case pt:default:return R}return t.next_out=s,t.avail_out=l,t.next_in=a,t.avail_in=u,n.hold=f,n.bits=d,(n.wsize||m!==t.avail_out&&n.mode<ft&&(n.mode<lt||e!==T))&&h(t,t.output,t.next_out,m-t.avail_out)?(n.mode=dt,P):(p-=t.avail_in,m-=t.avail_out,t.total_in+=p,t.total_out+=m,n.total+=m,n.wrap&&m&&(t.adler=n.check=n.flags?w(n.check,o,m,t.next_out-m):b(n.check,o,m,t.next_out-m)),t.data_type=n.bits+(n.last?64:0)+(n.mode===X?128:0)+(n.mode===nt||n.mode===$?256:0),(0===p&&0===m||e===T)&&Et===O&&(Et=k),Et)}function d(t){if(!t||!t.state)return R;var e=t.state;return e.window&&(e.window=null),t.state=null,O}function p(t,e){var n;return t&&t.state?(n=t.state,0==(2&n.wrap)?R:(n.head=e,e.done=!1,O)):R}function m(t,e){var n,r,i=e.length;return t&&t.state?(n=t.state,0!==n.wrap&&n.mode!==Y?R:n.mode===Y&&(r=1,(r=b(r,e,i,0))!==n.check)?N:h(t,e,i,i)?(n.mode=dt,P):(n.havedict=1,O)):R}var g,v,y=n(122),b=n(619),w=n(620),x=n(1449),_=n(1450),E=0,M=1,S=2,T=4,C=5,I=6,O=0,A=1,L=2,R=-2,N=-3,P=-4,k=-5,D=8,F=1,j=2,U=3,B=4,z=5,V=6,G=7,H=8,q=9,W=10,Y=11,X=12,Z=13,K=14,$=15,Q=16,J=17,tt=18,et=19,nt=20,rt=21,it=22,ot=23,at=24,st=25,ut=26,lt=27,ct=28,ht=29,ft=30,dt=31,pt=32,mt=852,gt=592,vt=15,yt=!0;e.inflateReset=a,e.inflateReset2=s,e.inflateResetKeep=o,e.inflateInit=l,e.inflateInit2=u,e.inflate=f,e.inflateEnd=d,e.inflateGetHeader=p,e.inflateSetDictionary=m,e.inflateInfo="pako inflate (from Nodeca project)"},function(t,e,n){"use strict";t.exports=function(t,e){var n,r,i,o,a,s,u,l,c,h,f,d,p,m,g,v,y,b,w,x,_,E,M,S,T;n=t.state,r=t.next_in,S=t.input,i=r+(t.avail_in-5),o=t.next_out,T=t.output,a=o-(e-t.avail_out),s=o+(t.avail_out-257),u=n.dmax,l=n.wsize,c=n.whave,h=n.wnext,f=n.window,d=n.hold,p=n.bits,m=n.lencode,g=n.distcode,v=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;t:do{p<15&&(d+=S[r++]<<p,p+=8,d+=S[r++]<<p,p+=8),b=m[d&v];e:for(;;){if(w=b>>>24,d>>>=w,p-=w,0===(w=b>>>16&255))T[o++]=65535&b;else{if(!(16&w)){if(0==(64&w)){b=m[(65535&b)+(d&(1<<w)-1)];continue e}if(32&w){n.mode=12;break t}t.msg="invalid literal/length code",n.mode=30;break t}x=65535&b,w&=15,w&&(p<w&&(d+=S[r++]<<p,p+=8),x+=d&(1<<w)-1,d>>>=w,p-=w),p<15&&(d+=S[r++]<<p,p+=8,d+=S[r++]<<p,p+=8),b=g[d&y];n:for(;;){if(w=b>>>24,d>>>=w,p-=w,!(16&(w=b>>>16&255))){if(0==(64&w)){b=g[(65535&b)+(d&(1<<w)-1)];continue n}t.msg="invalid distance code",n.mode=30;break t}if(_=65535&b,w&=15,p<w&&(d+=S[r++]<<p,(p+=8)<w&&(d+=S[r++]<<p,p+=8)),(_+=d&(1<<w)-1)>u){t.msg="invalid distance too far back",n.mode=30;break t}if(d>>>=w,p-=w,w=o-a,_>w){if((w=_-w)>c&&n.sane){t.msg="invalid distance too far back",n.mode=30;break t}if(E=0,M=f,0===h){if(E+=l-w,w<x){x-=w;do{T[o++]=f[E++]}while(--w);E=o-_,M=T}}else if(h<w){if(E+=l+h-w,(w-=h)<x){x-=w;do{T[o++]=f[E++]}while(--w);if(E=0,h<x){w=h,x-=w;do{T[o++]=f[E++]}while(--w);E=o-_,M=T}}}else if(E+=h-w,w<x){x-=w;do{T[o++]=f[E++]}while(--w);E=o-_,M=T}for(;x>2;)T[o++]=M[E++],T[o++]=M[E++],T[o++]=M[E++],x-=3;x&&(T[o++]=M[E++],x>1&&(T[o++]=M[E++]))}else{E=o-_;do{T[o++]=T[E++],T[o++]=T[E++],T[o++]=T[E++],x-=3}while(x>2);x&&(T[o++]=T[E++],x>1&&(T[o++]=T[E++]))}break}}break}}while(r<i&&o<s);x=p>>3,r-=x,p-=x<<3,d&=(1<<p)-1,t.next_in=r,t.next_out=o,t.avail_in=r<i?i-r+5:5-(r-i),t.avail_out=o<s?s-o+257:257-(o-s),n.hold=d,n.bits=p}},function(t,e,n){"use strict";var r=n(122),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(t,e,n,u,l,c,h,f){var d,p,m,g,v,y,b,w,x,_=f.bits,E=0,M=0,S=0,T=0,C=0,I=0,O=0,A=0,L=0,R=0,N=null,P=0,k=new r.Buf16(16),D=new r.Buf16(16),F=null,j=0;for(E=0;E<=15;E++)k[E]=0;for(M=0;M<u;M++)k[e[n+M]]++;for(C=_,T=15;T>=1&&0===k[T];T--);if(C>T&&(C=T),0===T)return l[c++]=20971520,l[c++]=20971520,f.bits=1,0;for(S=1;S<T&&0===k[S];S++);for(C<S&&(C=S),A=1,E=1;E<=15;E++)if(A<<=1,(A-=k[E])<0)return-1;if(A>0&&(0===t||1!==T))return-1;for(D[1]=0,E=1;E<15;E++)D[E+1]=D[E]+k[E];for(M=0;M<u;M++)0!==e[n+M]&&(h[D[e[n+M]]++]=M);if(0===t?(N=F=h,y=19):1===t?(N=i,P-=257,F=o,j-=257,y=256):(N=a,F=s,y=-1),R=0,M=0,E=S,v=c,I=C,O=0,m=-1,L=1<<C,g=L-1,1===t&&L>852||2===t&&L>592)return 1;for(;;){b=E-O,h[M]<y?(w=0,x=h[M]):h[M]>y?(w=F[j+h[M]],x=N[P+h[M]]):(w=96,x=0),d=1<<E-O,p=1<<I,S=p;do{p-=d,l[v+(R>>O)+p]=b<<24|w<<16|x|0}while(0!==p);for(d=1<<E-1;R&d;)d>>=1;if(0!==d?(R&=d-1,R+=d):R=0,M++,0==--k[E]){if(E===T)break;E=e[n+h[M]]}if(E>C&&(R&g)!==m){for(0===O&&(O=C),v+=S,I=E-O,A=1<<I;I+O<T&&!((A-=k[I+O])<=0);)I++,A<<=1;if(L+=1<<I,1===t&&L>852||2===t&&L>592)return 1;m=R&g,l[m]=C<<24|I<<16|v-c|0}}return 0!==R&&(l[v+R]=E-O<<24|64<<16|0),f.bits=C,0}},function(t,e,n){"use strict";function r(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}t.exports=r},function(t,e,n){"use strict";var r=n(84),i=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];t.exports=function(t,e){if(void 0===t||!t.length)return 0;var n="string"!==r.getTypeOf(t);void 0===e&&(e=0);var o=0,a=0,s=0;e^=-1;for(var u=0,l=t.length;u<l;u++)s=n?t[u]:t.charCodeAt(u),a=255&(e^s),o=i[a],e=e>>>8^o;return-1^e}},function(t,e,n){"use strict";var r=n(84),i=function(){this.data=[]};i.prototype={append:function(t){t=r.transformTo("string",t),this.data.push(t)},finalize:function(){return this.data.join("")}},t.exports=i},function(t,e,n){"use strict";var r=n(84),i=function(t){this.data=new Uint8Array(t),this.index=0};i.prototype={append:function(t){0!==t.length&&(t=r.transformTo("uint8array",t),this.data.set(t,this.index),this.index+=t.length)},finalize:function(){return this.data}},t.exports=i},function(t,e,n){"use strict";var r=n(382),i=n(627),o=n(84),a=n(1456);t.exports=function(t,e){var n,s,u,l;for(e=o.extend(e||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:i.utf8decode}),e.base64&&(t=r.decode(t)),s=new a(t,e),n=s.files,u=0;u<n.length;u++)l=n[u],this.file(l.fileNameStr,l.decompressed,{binary:!0,optimizedBinaryString:!0,date:l.date,dir:l.dir,comment:l.fileCommentStr.length?l.fileCommentStr:null,unixPermissions:l.unixPermissions,dosPermissions:l.dosPermissions,createFolders:e.createFolders});return s.zipComment.length&&(this.comment=s.zipComment),this}},function(t,e,n){"use strict";function r(t,e){this.files=[],this.loadOptions=e,t&&this.load(t)}var i=n(628),o=n(1457),a=n(630),s=n(631),u=n(84),l=n(624),c=n(1458),h=n(175);n(383);r.prototype={checkSignature:function(t){var e=this.reader.readString(4);if(e!==t)throw new Error("Corrupted zip or bug : unexpected signature ("+u.pretty(e)+", expected "+u.pretty(t)+")")},isSignature:function(t,e){var n=this.reader.index;this.reader.setIndex(t);var r=this.reader.readString(4),i=r===e;return this.reader.setIndex(n),i},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var t=this.reader.readData(this.zipCommentLength),e=h.uint8array?"uint8array":"array",n=u.transformTo(e,t);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.versionMadeBy=this.reader.readString(2),this.versionNeeded=this.reader.readInt(2),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var t,e,n,r=this.zip64EndOfCentralSize-44;0<r;)t=this.reader.readInt(2),e=this.reader.readInt(4),n=this.reader.readString(e),this.zip64ExtensibleData[t]={id:t,length:e,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var t,e;for(t=0;t<this.files.length;t++)e=this.files[t],this.reader.setIndex(e.localHeaderOffset),this.checkSignature(l.LOCAL_FILE_HEADER),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()},readCentralDir:function(){var t;for(this.reader.setIndex(this.centralDirOffset);this.reader.readString(4)===l.CENTRAL_FILE_HEADER;)t=new c({zip64:this.zip64},this.loadOptions),t.readCentralPart(this.reader),this.files.push(t);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var t=this.reader.lastIndexOfSignature(l.CENTRAL_DIRECTORY_END);if(t<0){throw!this.isSignature(0,l.LOCAL_FILE_HEADER)?new Error("Can't find end of central directory : is this a zip file ? If it is, see http://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip : can't find end of central directory")}this.reader.setIndex(t);var e=t;if(this.checkSignature(l.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===u.MAX_VALUE_16BITS||this.diskWithCentralDirStart===u.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===u.MAX_VALUE_16BITS||this.centralDirRecords===u.MAX_VALUE_16BITS||this.centralDirSize===u.MAX_VALUE_32BITS||this.centralDirOffset===u.MAX_VALUE_32BITS){if(this.zip64=!0,(t=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip : can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(t),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,l.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip : can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var r=e-n;if(r>0)this.isSignature(e,l.CENTRAL_FILE_HEADER)||(this.reader.zero=r);else if(r<0)throw new Error("Corrupted zip: missing "+Math.abs(r)+" bytes.")},prepareReader:function(t){var e=u.getTypeOf(t);if(u.checkSupport(e),"string"!==e||h.uint8array)if("nodebuffer"===e)this.reader=new o(t);else if(h.uint8array)this.reader=new a(u.transformTo("uint8array",t));else{if(!h.array)throw new Error("Unexpected error: unsupported type '"+e+"'");this.reader=new s(u.transformTo("array",t))}else this.reader=new i(t,this.loadOptions.optimizedBinaryString)},load:function(t){this.prepareReader(t),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=r},function(t,e,n){"use strict";function r(t){this.data=t,this.length=this.data.length,this.index=0,this.zero=0}var i=n(630);r.prototype=new i,r.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},t.exports=r},function(t,e,n){"use strict";function r(t,e){this.options=t,this.loadOptions=e}var i=n(628),o=n(84),a=n(626),s=n(383),u=n(175);r.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},prepareCompressedContent:function(t,e,n){return function(){var r=t.index;t.setIndex(e);var i=t.readData(n);return t.setIndex(r),i}},prepareContent:function(t,e,n,r,i){return function(){var t=o.transformTo(r.uncompressInputType,this.getCompressedContent()),e=r.uncompress(t);if(e.length!==i)throw new Error("Bug : uncompressed data size mismatch");return e}},readLocalPart:function(t){var e,n;if(t.skip(22),this.fileNameLength=t.readInt(2),n=t.readInt(2),this.fileName=t.readData(this.fileNameLength),t.skip(n),-1==this.compressedSize||-1==this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize == -1 || uncompressedSize == -1)");if(null===(e=o.findCompression(this.compressionMethod)))throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");if(this.decompressed=new a,this.decompressed.compressedSize=this.compressedSize,this.decompressed.uncompressedSize=this.uncompressedSize,this.decompressed.crc32=this.crc32,this.decompressed.compressionMethod=this.compressionMethod,this.decompressed.getCompressedContent=this.prepareCompressedContent(t,t.index,this.compressedSize,e),this.decompressed.getContent=this.prepareContent(t,t.index,this.compressedSize,e,this.uncompressedSize),this.loadOptions.checkCRC32&&(this.decompressed=o.transformTo("string",this.decompressed.getContent()),s.crc32(this.decompressed)!==this.crc32))throw new Error("Corrupted zip : CRC32 mismatch")},readCentralPart:function(t){if(this.versionMadeBy=t.readInt(2),this.versionNeeded=t.readInt(2),this.bitFlag=t.readInt(2),this.compressionMethod=t.readString(2),this.date=t.readDate(),this.crc32=t.readInt(4),this.compressedSize=t.readInt(4),this.uncompressedSize=t.readInt(4),this.fileNameLength=t.readInt(2),this.extraFieldsLength=t.readInt(2),this.fileCommentLength=t.readInt(2),this.diskNumberStart=t.readInt(2),this.internalFileAttributes=t.readInt(2),this.externalFileAttributes=t.readInt(4),this.localHeaderOffset=t.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");this.fileName=t.readData(this.fileNameLength),this.readExtraFields(t),this.parseZIP64ExtraField(t),this.fileComment=t.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var t=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===t&&(this.dosPermissions=63&this.externalFileAttributes),3===t&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(t){if(this.extraFields[1]){var e=new i(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(t){var e,n,r,i=t.index;for(this.extraFields=this.extraFields||{};t.index<i+this.extraFieldsLength;)e=t.readInt(2),n=t.readInt(2),r=t.readString(n),this.extraFields[e]={id:e,length:n,value:r}},handleUTF8:function(){var t=u.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=s.utf8decode(this.fileName),this.fileCommentStr=s.utf8decode(this.fileComment);else{var e=this.findExtraFieldUnicodePath();if(null!==e)this.fileNameStr=e;else{var n=o.transformTo(t,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var r=this.findExtraFieldUnicodeComment();if(null!==r)this.fileCommentStr=r;else{var i=o.transformTo(t,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(i)}}},findExtraFieldUnicodePath:function(){var t=this.extraFields[28789];if(t){var e=new i(t.value);return 1!==e.readInt(1)?null:s.crc32(this.fileName)!==e.readInt(4)?null:s.utf8decode(e.readString(t.length-5))}return null},findExtraFieldUnicodeComment:function(){var t=this.extraFields[25461];if(t){var e=new i(t.value);return 1!==e.readInt(1)?null:s.crc32(this.fileComment)!==e.readInt(4)?null:s.utf8decode(e.readString(t.length-5))}return null}},t.exports=r},function(t,e,n){"use strict";var r=n(84);e.string2binary=function(t){return r.string2binary(t)},e.string2Uint8Array=function(t){return r.transformTo("uint8array",t)},e.uint8Array2String=function(t){return r.transformTo("string",t)},e.string2Blob=function(t){var e=r.transformTo("arraybuffer",t);return r.arrayBuffer2Blob(e)},e.arrayBuffer2Blob=function(t){return r.arrayBuffer2Blob(t)},e.transformTo=function(t,e){return r.transformTo(t,e)},e.getTypeOf=function(t){return r.getTypeOf(t)},e.checkSupport=function(t){return r.checkSupport(t)},e.MAX_VALUE_16BITS=r.MAX_VALUE_16BITS,e.MAX_VALUE_32BITS=r.MAX_VALUE_32BITS,e.pretty=function(t){return r.pretty(t)},e.findCompression=function(t){return r.findCompression(t)},e.isRegExp=function(t){return r.isRegExp(t)}},function(t,e,n){"use strict";(function(e){function r(t,e){return"string"==typeof t&&d.has(t)?h.resolve(d.get(t)):r.getShapefile(t,e).then(function(e){return"string"==typeof t&&d.set(t,e),e})}function i(t,e){return s(t).then(function(t){return r.parseZip(t,e)})}var o=n(70),a=n(1461),s=n(1462),u=n(1464),l=n(1465),c=n(1466),h=n(632),f=n(1467),d=new f({max:20});r.combine=function(t){var e={};e.type="FeatureCollection",e.features=[];for(var n=0,r=t[0].length;n<r;)e.features.push({type:"Feature",geometry:t[0][n],properties:t[1][n]}),n++;return e},r.parseZip=function(t,e){var n,i=a(t),s=[];e=e||[];for(n in i)-1===n.indexOf("__MACOSX")&&("shp"===n.slice(-3).toLowerCase()?(s.push(n.slice(0,-4)),i[n.slice(0,-3)+n.slice(-3).toLowerCase()]=i[n]):"dbf"===n.slice(-3).toLowerCase()?i[n.slice(0,-3)+n.slice(-3).toLowerCase()]=c(i[n]):"prj"===n.slice(-3).toLowerCase()?i[n.slice(0,-3)+n.slice(-3).toLowerCase()]=o(i[n]):("json"===n.slice(-4).toLowerCase()||e.indexOf(n.split(".").pop())>-1)&&s.push(n.slice(0,-3)+n.slice(-3).toLowerCase()));if(!s.length)throw new Error("no layers founds");var l=s.map(function(t){var n,o=t.lastIndexOf(".");return o>-1&&t.slice(o).indexOf("json")>-1?(n=JSON.parse(i[t]),n.fileName=t.slice(0,o)):e.indexOf(t.slice(o+1))>-1?(n=i[t],n.fileName=t):(n=r.combine([u(i[t+".shp"],i[t+".prj"]),i[t+".dbf"]]),n.fileName=t),n});return 1===l.length?l[0]:l},r.getShapefile=function(t,e){return"string"==typeof t?".zip"===t.slice(-4)?i(t,e):h.all([h.all([s(t+".shp"),s(t+".prj")]).then(function(t){return u(t[0],!!t[1]&&o(t[1]))}),s(t+".dbf").then(c)]).then(r.combine):new h(function(e){e(r.parseZip(t))})},r.parseShp=function(t,n){return e.isBuffer(t)&&(t=l(t)),e.isBuffer(n)&&(n=n.toString()),"string"==typeof n?(n=o(n),u(t,n)):u(t)},r.parseDbf=function(t){return e.isBuffer(t)&&(t=l(t)),c(t)},t.exports=r}).call(e,n(137).Buffer)},function(t,e,n){"use strict";var r=n(618);t.exports=function(t){var e=new r(t),n=e.file(/.+/),i={};return n.forEach(function(t){"shp"===t.name.slice(-3).toLowerCase()||"dbf"===t.name.slice(-3).toLowerCase()?(i[t.name]=t.asText(),i[t.name]=t.asArrayBuffer()):i[t.name]=t.asText()}),i}},function(t,e,n){"use strict";function r(t){return new i(function(e,n){var r=t.slice(-3),i=new XMLHttpRequest;i.open("GET",t,!0),"prj"!==r&&(i.responseType="arraybuffer"),i.addEventListener("load",function(){if(i.status>399)return"prj"===r?e(!1):n(new Error(i.status));e(i.response)},!1),i.send()})}var i=n(632);t.exports=r},function(t,e,n){"use strict";(function(e){function n(){c=!0;for(var t,e,n=h.length;n;){for(e=h,h=[],t=-1;++t<n;)e[t]();n=h.length}c=!1}function r(t){1!==h.push(t)||c||i()}var i,o=e.MutationObserver||e.WebKitMutationObserver;if(o){var a=0,s=new o(n),u=e.document.createTextNode("");s.observe(u,{characterData:!0}),i=function(){u.data=a=++a%2}}else if(e.setImmediate||void 0===e.MessageChannel)i="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){n(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(n,0)};else{var l=new e.MessageChannel;l.port1.onmessage=n,i=function(){l.port2.postMessage(0)}}var c,h=[];t.exports=r}).call(e,n(34))},function(t,e,n){"use strict";function r(t){for(var e,n,r=0,i=1,o=t.length;i<o;)e=n||t[0],n=t[i],r+=(n[0]-e[0])*(n[1]+e[1]),i++;return r>0}function i(t,e){return r(e)||!t.length?t.push([e]):t[t.length-1].push(e),t}function o(t){return t?function(e,n){return t.inverse([e.getFloat64(n,!0),e.getFloat64(n+8,!0)])}:function(t,e){return[t.getFloat64(e,!0),t.getFloat64(e+8,!0)]}}function a(t,e){if(!(this instanceof a))return new a(t,e);this.buffer=t,this.shpFuncs(e),this.rows=this.getRows()}a.prototype.parsePoint=function(t){return{type:"Point",coordinates:this.parseCoord(t,0)}},a.prototype.parseZPoint=function(t){var e=this.parsePoint(t);return e.coordinates.push(this.parseCoord(t,16)),e},a.prototype.parsePointArray=function(t,e,n){for(var r=[],i=0;i<n;)r.push(this.parseCoord(t,e)),e+=16,i++;return r},a.prototype.parseZPointArray=function(t,e,n,r){for(var i=0;i<n;)r[i].push(t.getFloat64(e,!0)),i++,e+=8;return r},a.prototype.parseArrayGroup=function(t,e,n,r,i){for(var o,a,s=[],u=0,l=0;u<r;)u++,n+=4,o=l,l=u===r?i:t.getInt32(n,!0),(a=l-o)&&(s.push(this.parsePointArray(t,e,a)),e+=a<<4);return s},a.prototype.parseZArrayGroup=function(t,e,n,r){for(var i=0;i<n;)r[i]=this.parseZPointArray(t,e,r[i].length,r[i]),e+=r[i].length<<3,i++;return r},a.prototype.parseMultiPoint=function(t){var e={},n=this.parseCoord(t,0),r=this.parseCoord(t,16);e.bbox=[n[0],n[1],r[0],r[1]];var i=t.getInt32(32,!0);return 1===i?(e.type="Point",e.coordinates=this.parseCoord(t,36)):(e.type="MultiPoint",e.coordinates=this.parsePointArray(t,36,i)),e},a.prototype.parseZMultiPoint=function(t){var e,n=this.parseMultiPoint(t);if("Point"===n.type)return n.coordinates.push(t.getFloat64(72,!0)),n;e=n.coordinates.length;var r=56+(e<<4);return n.coordinates=this.parseZPointArray(t,r,e,n.coordinates),n},a.prototype.parsePolyline=function(t){var e={},n=this.parseCoord(t,0),r=this.parseCoord(t,16);e.bbox=[n[0],n[1],r[0],r[1]];var i,o,a=t.getInt32(32,!0),s=t.getInt32(36,!0);return 1===a?(e.type="LineString",i=44,e.coordinates=this.parsePointArray(t,i,s)):(e.type="MultiLineString",i=40+(a<<2),o=40,e.coordinates=this.parseArrayGroup(t,i,o,a,s)),e},a.prototype.parseZPolyline=function(t){var e=this.parsePolyline(t),n=e.coordinates.length,r=60+(n<<4);return"LineString"===e.type?(e.coordinates=this.parseZPointArray(t,r,n,e.coordinates),e):(e.coordinates=this.parseZArrayGroup(t,r,n,e.coordinates),e)},a.prototype.polyFuncs=function(t){return"LineString"===t.type?(t.type="Polygon",t.coordinates=[t.coordinates],t):(t.coordinates=t.coordinates.reduce(i,[]),1===t.coordinates.length?(t.type="Polygon",t.coordinates=t.coordinates[0],t):(t.type="MultiPolygon",t))},a.prototype.parsePolygon=function(t){return this.polyFuncs(this.parsePolyline(t))},a.prototype.parseZPolygon=function(t){return this.polyFuncs(this.parseZPolyline(t))};var s={1:"parsePoint",3:"parsePolyline",5:"parsePolygon",8:"parseMultiPoint",11:"parseZPoint",13:"parseZPolyline",15:"parseZPolygon",18:"parseZMultiPoint"};a.prototype.shpFuncs=function(t){var e=this.getShpCode();if(e>20&&(e-=20),!(e in s))throw new Error("I don't know that shp type");this.parseFunc=this[s[e]],this.parseCoord=o(t)},a.prototype.getShpCode=function(){return this.parseHeader().shpCode},a.prototype.parseHeader=function(){var t=new DataView(this.buffer,0,100);return{length:t.getInt32(24,!1),version:t.getInt32(28,!0),shpCode:t.getInt32(32,!0),bbox:[t.getFloat64(36,!0),t.getFloat64(44,!0),t.getFloat64(52,!0),t.getFloat64(52,!0)]}},a.prototype.getRows=function(){for(var t,e=100,n=this.buffer.byteLength,r=[];e<n;)t=this.getRow(e),e+=8,e+=t.len,t.type&&r.push(this.parseFunc(t.data));return r},a.prototype.getRow=function(t){var e=new DataView(this.buffer,t,12),n=e.getInt32(4,!1)<<1,r=new DataView(this.buffer,t+12,n-4);return{id:e.getInt32(0,!1),len:n,data:r,type:e.getInt32(8,!0)}},t.exports=function(t,e){return new a(t,e).rows}},function(t,e,n){"use strict";function r(t){for(var e=new ArrayBuffer(t.length),n=new Uint8Array(e),r=-1,i=t.length;++r<i;)n[r]=t[r];return e}t.exports=r},function(t,e){function n(t){var e=new DataView(t),n={};return n.lastUpdated=new Date(e.getUint8(1,!0)+1900,e.getUint8(2,!0),e.getUint8(3,!0)),n.records=e.getUint32(4,!0),n.headerLen=e.getUint16(8,!0),n.recLen=e.getUint16(10,!0),n}function r(t,e){for(var n=new DataView(t),r=[],i=32;i<e&&(r.push({name:String.fromCharCode.apply(this,new Uint8Array(t,i,11)).replace(/\0|\s+$/g,""),dataType:String.fromCharCode(n.getUint8(i+11)),len:n.getUint8(i+16),decimal:n.getUint8(i+17)}),13!==n.getUint8(i+32));)i+=32;return r}function i(t,e,n,r){var i=new Uint8Array(t,e,n),o=String.fromCharCode.apply(this,i).replace(/\0|\s+$/g,"");switch(r){case"N":case"F":case"O":return parseFloat(o,10);case"D":return new Date(o.slice(0,4),parseInt(o.slice(4,6),10)-1,o.slice(6,8));case"L":return"y"===o.toLowerCase()||"t"===o.toLowerCase();default:return o}}function o(t,e,n){for(var r,o,a={},s=0,u=n.length;s<u;)o=n[s],r=i(t,e,o.len,o.dataType),e+=o.len,void 0!==r&&(a[o.name]=r),s++;return a}t.exports=function(t){for(var e=n(t),i=r(t,e.headerLen-1),a=2+(i.length+1<<5),s=e.recLen,u=e.records,l=[];u;)l.push(o(t,a,i)),a+=s,u--;return l}},function(t,e){!function(){function e(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function n(){return 1}function r(t){f||"string"==typeof t||"number"==typeof t||(f=!0,console.error(new TypeError("LRU: key must be a string or number. Almost certainly a bug! "+typeof t).stack))}function i(t){if(!(this instanceof i))return new i(t);"number"==typeof t&&(t={max:t}),t||(t={}),this._max=t.max,(!this._max||"number"!=typeof this._max||this._max<=0)&&(this._max=1/0),this._lengthCalculator=t.length||n,"function"!=typeof this._lengthCalculator&&(this._lengthCalculator=n),this._allowStale=t.stale||!1,this._maxAge=t.maxAge||null,this._dispose=t.dispose,this.reset()}function o(t,e,n){r(e);var i=t._cache[e];return i&&(a(t,i)?(c(t,i),t._allowStale||(i=void 0)):n&&s(t,i),i&&(i=i.value)),i}function a(t,e){if(!e||!e.maxAge&&!t._maxAge)return!1;var n=Date.now()-e.now;return e.maxAge?n>e.maxAge:t._maxAge&&n>t._maxAge}function s(t,e){l(t,e),e.lu=t._mru++,t._lruList[e.lu]=e}function u(t){for(;t._lru<t._mru&&t._length>t._max;)c(t,t._lruList[t._lru])}function l(t,e){for(delete t._lruList[e.lu];t._lru<t._mru&&!t._lruList[t._lru];)t._lru++}function c(t,e){e&&(t._dispose&&t._dispose(e.key,e.value),t._length-=e.length,t._itemCount--,delete t._cache[e.key],l(t,e))}function h(t,e,n,r,i,o){this.key=t,this.value=e,this.lu=n,this.length=r,this.now=i,o&&(this.maxAge=o)}"object"==typeof t&&t.exports?t.exports=i:this.LRUCache=i;var f=!1;Object.defineProperty(i.prototype,"max",{set:function(t){(!t||"number"!=typeof t||t<=0)&&(t=1/0),this._max=t,this._length>this._max&&u(this)},get:function(){return this._max},enumerable:!0}),Object.defineProperty(i.prototype,"lengthCalculator",{set:function(t){if("function"!=typeof t){this._lengthCalculator=n,this._length=this._itemCount;for(var e in this._cache)this._cache[e].length=1}else{this._lengthCalculator=t,this._length=0;for(var e in this._cache)this._cache[e].length=this._lengthCalculator(this._cache[e].value),this._length+=this._cache[e].length}this._length>this._max&&u(this)},get:function(){return this._lengthCalculator},enumerable:!0}),Object.defineProperty(i.prototype,"length",{get:function(){return this._length},enumerable:!0}),Object.defineProperty(i.prototype,"itemCount",{get:function(){return this._itemCount},enumerable:!0}),i.prototype.forEach=function(t,e){e=e||this;for(var n=0,r=this._itemCount,i=this._mru-1;i>=0&&n<r;i--)if(this._lruList[i]){n++;var o=this._lruList[i];a(this,o)&&(c(this,o),this._allowStale||(o=void 0)),o&&t.call(e,o.value,o.key,this)}},i.prototype.keys=function(){for(var t=new Array(this._itemCount),e=0,n=this._mru-1;n>=0&&e<this._itemCount;n--)if(this._lruList[n]){var r=this._lruList[n];t[e++]=r.key}return t},i.prototype.values=function(){for(var t=new Array(this._itemCount),e=0,n=this._mru-1;n>=0&&e<this._itemCount;n--)if(this._lruList[n]){var r=this._lruList[n];t[e++]=r.value}return t},i.prototype.reset=function(){if(this._dispose&&this._cache)for(var t in this._cache)this._dispose(t,this._cache[t].value);this._cache=Object.create(null),this._lruList=Object.create(null),this._mru=0,this._lru=0,this._length=0,this._itemCount=0},i.prototype.dump=function(){for(var t=[],e=0,n=this._mru-1;n>=0&&e<this._itemCount;n--)if(this._lruList[n]){var r=this._lruList[n];a(this,r)||(++e,t.push({k:r.key,v:r.value,e:r.now+(r.maxAge||0)}))}return t},i.prototype.dumpLru=function(){return this._lruList},i.prototype.set=function(t,n,i){i=i||this._maxAge,r(t);var o=i?Date.now():0,a=this._lengthCalculator(n);if(e(this._cache,t))return a>this._max?(c(this,this._cache[t]),!1):(this._dispose&&this._dispose(t,this._cache[t].value),this._cache[t].now=o,this._cache[t].maxAge=i,this._cache[t].value=n,this._length+=a-this._cache[t].length,this._cache[t].length=a,this.get(t),this._length>this._max&&u(this),!0);var s=new h(t,n,this._mru++,a,o,i);return s.length>this._max?(this._dispose&&this._dispose(t,n),!1):(this._length+=s.length,this._lruList[s.lu]=this._cache[t]=s,this._itemCount++,this._length>this._max&&u(this),!0)},i.prototype.has=function(t){return r(t),!!e(this._cache,t)&&!a(this,this._cache[t])},i.prototype.get=function(t){return r(t),o(this,t,!0)},i.prototype.peek=function(t){return r(t),o(this,t,!1)},i.prototype.pop=function(){var t=this._lruList[this._lru];return c(this,t),t||null},i.prototype.del=function(t){r(t),c(this,this._cache[t])},i.prototype.load=function(t){this.reset();for(var e=Date.now(),n=t.length-1;n>=0;n--){var i=t[n];r(i.k);var o=i.e||0;if(0===o)this.set(i.k,i.v);else{var a=o-e;a>0&&this.set(i.k,i.v,a)}}}}()}])});